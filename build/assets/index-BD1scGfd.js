var I9=Object.defineProperty;var L2=e=>{throw TypeError(e)};var L9=(e,t,i)=>t in e?I9(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i;var ly=(e,t,i)=>L9(e,typeof t!="symbol"?t+"":t,i),mE=(e,t,i)=>t.has(e)||L2("Cannot "+i);var J=(e,t,i)=>(mE(e,t,"read from private field"),i?i.call(e):t.get(e)),lt=(e,t,i)=>t.has(e)?L2("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,i),We=(e,t,i,n)=>(mE(e,t,"write to private field"),n?n.call(e,i):t.set(e,i),i),Bt=(e,t,i)=>(mE(e,t,"access private method"),i);var P0=(e,t,i,n)=>({set _(s){We(e,t,s,i)},get _(){return J(e,t,n)}});function k9(e,t){for(var i=0;i<t.length;i++){const n=t[i];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const r=Object.getOwnPropertyDescriptor(n,s);r&&Object.defineProperty(e,s,r.get?r:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function i(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerPolicy&&(r.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?r.credentials="include":s.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function n(s){if(s.ep)return;s.ep=!0;const r=i(s);fetch(s.href,r)}})();function H4(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var yE={exports:{}},cy={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var k2;function P9(){if(k2)return cy;k2=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(n,s,r){var o=null;if(r!==void 0&&(o=""+r),s.key!==void 0&&(o=""+s.key),"key"in s){r={};for(var a in s)a!=="key"&&(r[a]=s[a])}else r=s;return s=r.ref,{$$typeof:e,type:n,key:o,ref:s!==void 0?s:null,props:r}}return cy.Fragment=t,cy.jsx=i,cy.jsxs=i,cy}var P2;function F9(){return P2||(P2=1,yE.exports=P9()),yE.exports}var B=F9(),vE={exports:{}},uy={},CE={exports:{}},bE={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var F2;function O9(){return F2||(F2=1,function(e){function t(j,Z){var W=j.length;j.push(Z);e:for(;0<W;){var Y=W-1>>>1,G=j[Y];if(0<s(G,Z))j[Y]=Z,j[W]=G,W=Y;else break e}}function i(j){return j.length===0?null:j[0]}function n(j){if(j.length===0)return null;var Z=j[0],W=j.pop();if(W!==Z){j[0]=W;e:for(var Y=0,G=j.length,U=G>>>1;Y<U;){var te=2*(Y+1)-1,ee=j[te],Q=te+1,ue=j[Q];if(0>s(ee,W))Q<G&&0>s(ue,ee)?(j[Y]=ue,j[Q]=W,Y=Q):(j[Y]=ee,j[te]=W,Y=te);else if(Q<G&&0>s(ue,W))j[Y]=ue,j[Q]=W,Y=Q;else break e}}return Z}function s(j,Z){var W=j.sortIndex-Z.sortIndex;return W!==0?W:j.id-Z.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var r=performance;e.unstable_now=function(){return r.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var l=[],u=[],d=1,p=null,f=3,m=!1,y=!1,C=!1,w=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;function M(j){for(var Z=i(u);Z!==null;){if(Z.callback===null)n(u);else if(Z.startTime<=j)n(u),Z.sortIndex=Z.expirationTime,t(l,Z);else break;Z=i(u)}}function D(j){if(C=!1,M(j),!y)if(i(l)!==null)y=!0,q();else{var Z=i(u);Z!==null&&K(D,Z.startTime-j)}}var R=!1,A=-1,k=5,F=-1;function P(){return!(e.unstable_now()-F<k)}function L(){if(R){var j=e.unstable_now();F=j;var Z=!0;try{e:{y=!1,C&&(C=!1,b(A),A=-1),m=!0;var W=f;try{t:{for(M(j),p=i(l);p!==null&&!(p.expirationTime>j&&P());){var Y=p.callback;if(typeof Y=="function"){p.callback=null,f=p.priorityLevel;var G=Y(p.expirationTime<=j);if(j=e.unstable_now(),typeof G=="function"){p.callback=G,M(j),Z=!0;break t}p===i(l)&&n(l),M(j)}else n(l);p=i(l)}if(p!==null)Z=!0;else{var U=i(u);U!==null&&K(D,U.startTime-j),Z=!1}}break e}finally{p=null,f=W,m=!1}Z=void 0}}finally{Z?z():R=!1}}}var z;if(typeof S=="function")z=function(){S(L)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,V=H.port2;H.port1.onmessage=L,z=function(){V.postMessage(null)}}else z=function(){w(L,0)};function q(){R||(R=!0,z())}function K(j,Z){A=w(function(){j(e.unstable_now())},Z)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(j){j.callback=null},e.unstable_continueExecution=function(){y||m||(y=!0,q())},e.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<j?Math.floor(1e3/j):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return i(l)},e.unstable_next=function(j){switch(f){case 1:case 2:case 3:var Z=3;break;default:Z=f}var W=f;f=Z;try{return j()}finally{f=W}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(j,Z){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var W=f;f=j;try{return Z()}finally{f=W}},e.unstable_scheduleCallback=function(j,Z,W){var Y=e.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?Y+W:Y):W=Y,j){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=W+G,j={id:d++,callback:Z,priorityLevel:j,startTime:W,expirationTime:G,sortIndex:-1},W>Y?(j.sortIndex=W,t(u,j),i(l)===null&&j===i(u)&&(C?(b(A),A=-1):C=!0,K(D,W-Y))):(j.sortIndex=G,t(l,j),y||m||(y=!0,q())),j},e.unstable_shouldYield=P,e.unstable_wrapCallback=function(j){var Z=f;return function(){var W=f;f=Z;try{return j.apply(this,arguments)}finally{f=W}}}}(bE)),bE}var O2;function N9(){return O2||(O2=1,CE.exports=O9()),CE.exports}var wE={exports:{}},Ft={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var N2;function B9(){if(N2)return Ft;N2=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),r=Symbol.for("react.consumer"),o=Symbol.for("react.context"),a=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),p=Symbol.iterator;function f(G){return G===null||typeof G!="object"?null:(G=p&&G[p]||G["@@iterator"],typeof G=="function"?G:null)}var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},y=Object.assign,C={};function w(G,U,te){this.props=G,this.context=U,this.refs=C,this.updater=te||m}w.prototype.isReactComponent={},w.prototype.setState=function(G,U){if(typeof G!="object"&&typeof G!="function"&&G!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,G,U,"setState")},w.prototype.forceUpdate=function(G){this.updater.enqueueForceUpdate(this,G,"forceUpdate")};function b(){}b.prototype=w.prototype;function S(G,U,te){this.props=G,this.context=U,this.refs=C,this.updater=te||m}var M=S.prototype=new b;M.constructor=S,y(M,w.prototype),M.isPureReactComponent=!0;var D=Array.isArray,R={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function k(G,U,te,ee,Q,ue){return te=ue.ref,{$$typeof:e,type:G,key:U,ref:te!==void 0?te:null,props:ue}}function F(G,U){return k(G.type,U,void 0,void 0,void 0,G.props)}function P(G){return typeof G=="object"&&G!==null&&G.$$typeof===e}function L(G){var U={"=":"=0",":":"=2"};return"$"+G.replace(/[=:]/g,function(te){return U[te]})}var z=/\/+/g;function H(G,U){return typeof G=="object"&&G!==null&&G.key!=null?L(""+G.key):U.toString(36)}function V(){}function q(G){switch(G.status){case"fulfilled":return G.value;case"rejected":throw G.reason;default:switch(typeof G.status=="string"?G.then(V,V):(G.status="pending",G.then(function(U){G.status==="pending"&&(G.status="fulfilled",G.value=U)},function(U){G.status==="pending"&&(G.status="rejected",G.reason=U)})),G.status){case"fulfilled":return G.value;case"rejected":throw G.reason}}throw G}function K(G,U,te,ee,Q){var ue=typeof G;(ue==="undefined"||ue==="boolean")&&(G=null);var de=!1;if(G===null)de=!0;else switch(ue){case"bigint":case"string":case"number":de=!0;break;case"object":switch(G.$$typeof){case e:case t:de=!0;break;case d:return de=G._init,K(de(G._payload),U,te,ee,Q)}}if(de)return Q=Q(G),de=ee===""?"."+H(G,0):ee,D(Q)?(te="",de!=null&&(te=de.replace(z,"$&/")+"/"),K(Q,U,te,"",function(pe){return pe})):Q!=null&&(P(Q)&&(Q=F(Q,te+(Q.key==null||G&&G.key===Q.key?"":(""+Q.key).replace(z,"$&/")+"/")+de)),U.push(Q)),1;de=0;var we=ee===""?".":ee+":";if(D(G))for(var ce=0;ce<G.length;ce++)ee=G[ce],ue=we+H(ee,ce),de+=K(ee,U,te,ue,Q);else if(ce=f(G),typeof ce=="function")for(G=ce.call(G),ce=0;!(ee=G.next()).done;)ee=ee.value,ue=we+H(ee,ce++),de+=K(ee,U,te,ue,Q);else if(ue==="object"){if(typeof G.then=="function")return K(q(G),U,te,ee,Q);throw U=String(G),Error("Objects are not valid as a React child (found: "+(U==="[object Object]"?"object with keys {"+Object.keys(G).join(", ")+"}":U)+"). If you meant to render a collection of children, use an array instead.")}return de}function j(G,U,te){if(G==null)return G;var ee=[],Q=0;return K(G,ee,"","",function(ue){return U.call(te,ue,Q++)}),ee}function Z(G){if(G._status===-1){var U=G._result;U=U(),U.then(function(te){(G._status===0||G._status===-1)&&(G._status=1,G._result=te)},function(te){(G._status===0||G._status===-1)&&(G._status=2,G._result=te)}),G._status===-1&&(G._status=0,G._result=U)}if(G._status===1)return G._result.default;throw G._result}var W=typeof reportError=="function"?reportError:function(G){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var U=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof G=="object"&&G!==null&&typeof G.message=="string"?String(G.message):String(G),error:G});if(!window.dispatchEvent(U))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",G);return}console.error(G)};function Y(){}return Ft.Children={map:j,forEach:function(G,U,te){j(G,function(){U.apply(this,arguments)},te)},count:function(G){var U=0;return j(G,function(){U++}),U},toArray:function(G){return j(G,function(U){return U})||[]},only:function(G){if(!P(G))throw Error("React.Children.only expected to receive a single React element child.");return G}},Ft.Component=w,Ft.Fragment=i,Ft.Profiler=s,Ft.PureComponent=S,Ft.StrictMode=n,Ft.Suspense=l,Ft.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,Ft.act=function(){throw Error("act(...) is not supported in production builds of React.")},Ft.cache=function(G){return function(){return G.apply(null,arguments)}},Ft.cloneElement=function(G,U,te){if(G==null)throw Error("The argument must be a React element, but you passed "+G+".");var ee=y({},G.props),Q=G.key,ue=void 0;if(U!=null)for(de in U.ref!==void 0&&(ue=void 0),U.key!==void 0&&(Q=""+U.key),U)!A.call(U,de)||de==="key"||de==="__self"||de==="__source"||de==="ref"&&U.ref===void 0||(ee[de]=U[de]);var de=arguments.length-2;if(de===1)ee.children=te;else if(1<de){for(var we=Array(de),ce=0;ce<de;ce++)we[ce]=arguments[ce+2];ee.children=we}return k(G.type,Q,void 0,void 0,ue,ee)},Ft.createContext=function(G){return G={$$typeof:o,_currentValue:G,_currentValue2:G,_threadCount:0,Provider:null,Consumer:null},G.Provider=G,G.Consumer={$$typeof:r,_context:G},G},Ft.createElement=function(G,U,te){var ee,Q={},ue=null;if(U!=null)for(ee in U.key!==void 0&&(ue=""+U.key),U)A.call(U,ee)&&ee!=="key"&&ee!=="__self"&&ee!=="__source"&&(Q[ee]=U[ee]);var de=arguments.length-2;if(de===1)Q.children=te;else if(1<de){for(var we=Array(de),ce=0;ce<de;ce++)we[ce]=arguments[ce+2];Q.children=we}if(G&&G.defaultProps)for(ee in de=G.defaultProps,de)Q[ee]===void 0&&(Q[ee]=de[ee]);return k(G,ue,void 0,void 0,null,Q)},Ft.createRef=function(){return{current:null}},Ft.forwardRef=function(G){return{$$typeof:a,render:G}},Ft.isValidElement=P,Ft.lazy=function(G){return{$$typeof:d,_payload:{_status:-1,_result:G},_init:Z}},Ft.memo=function(G,U){return{$$typeof:u,type:G,compare:U===void 0?null:U}},Ft.startTransition=function(G){var U=R.T,te={};R.T=te;try{var ee=G(),Q=R.S;Q!==null&&Q(te,ee),typeof ee=="object"&&ee!==null&&typeof ee.then=="function"&&ee.then(Y,W)}catch(ue){W(ue)}finally{R.T=U}},Ft.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},Ft.use=function(G){return R.H.use(G)},Ft.useActionState=function(G,U,te){return R.H.useActionState(G,U,te)},Ft.useCallback=function(G,U){return R.H.useCallback(G,U)},Ft.useContext=function(G){return R.H.useContext(G)},Ft.useDebugValue=function(){},Ft.useDeferredValue=function(G,U){return R.H.useDeferredValue(G,U)},Ft.useEffect=function(G,U){return R.H.useEffect(G,U)},Ft.useId=function(){return R.H.useId()},Ft.useImperativeHandle=function(G,U,te){return R.H.useImperativeHandle(G,U,te)},Ft.useInsertionEffect=function(G,U){return R.H.useInsertionEffect(G,U)},Ft.useLayoutEffect=function(G,U){return R.H.useLayoutEffect(G,U)},Ft.useMemo=function(G,U){return R.H.useMemo(G,U)},Ft.useOptimistic=function(G,U){return R.H.useOptimistic(G,U)},Ft.useReducer=function(G,U,te){return R.H.useReducer(G,U,te)},Ft.useRef=function(G){return R.H.useRef(G)},Ft.useState=function(G){return R.H.useState(G)},Ft.useSyncExternalStore=function(G,U,te){return R.H.useSyncExternalStore(G,U,te)},Ft.useTransition=function(){return R.H.useTransition()},Ft.version="19.0.0",Ft}var B2;function mI(){return B2||(B2=1,wE.exports=B9()),wE.exports}var SE={exports:{}},Vs={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var z2;function z9(){if(z2)return Vs;z2=1;var e=mI();function t(l){var u="https://react.dev/errors/"+l;if(1<arguments.length){u+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)u+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+l+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var n={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},s=Symbol.for("react.portal");function r(l,u,d){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:p==null?null:""+p,children:l,containerInfo:u,implementation:d}}var o=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function a(l,u){if(l==="font")return"";if(typeof u=="string")return u==="use-credentials"?u:""}return Vs.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,Vs.createPortal=function(l,u){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11)throw Error(t(299));return r(l,u,null,d)},Vs.flushSync=function(l){var u=o.T,d=n.p;try{if(o.T=null,n.p=2,l)return l()}finally{o.T=u,n.p=d,n.d.f()}},Vs.preconnect=function(l,u){typeof l=="string"&&(u?(u=u.crossOrigin,u=typeof u=="string"?u==="use-credentials"?u:"":void 0):u=null,n.d.C(l,u))},Vs.prefetchDNS=function(l){typeof l=="string"&&n.d.D(l)},Vs.preinit=function(l,u){if(typeof l=="string"&&u&&typeof u.as=="string"){var d=u.as,p=a(d,u.crossOrigin),f=typeof u.integrity=="string"?u.integrity:void 0,m=typeof u.fetchPriority=="string"?u.fetchPriority:void 0;d==="style"?n.d.S(l,typeof u.precedence=="string"?u.precedence:void 0,{crossOrigin:p,integrity:f,fetchPriority:m}):d==="script"&&n.d.X(l,{crossOrigin:p,integrity:f,fetchPriority:m,nonce:typeof u.nonce=="string"?u.nonce:void 0})}},Vs.preinitModule=function(l,u){if(typeof l=="string")if(typeof u=="object"&&u!==null){if(u.as==null||u.as==="script"){var d=a(u.as,u.crossOrigin);n.d.M(l,{crossOrigin:d,integrity:typeof u.integrity=="string"?u.integrity:void 0,nonce:typeof u.nonce=="string"?u.nonce:void 0})}}else u==null&&n.d.M(l)},Vs.preload=function(l,u){if(typeof l=="string"&&typeof u=="object"&&u!==null&&typeof u.as=="string"){var d=u.as,p=a(d,u.crossOrigin);n.d.L(l,d,{crossOrigin:p,integrity:typeof u.integrity=="string"?u.integrity:void 0,nonce:typeof u.nonce=="string"?u.nonce:void 0,type:typeof u.type=="string"?u.type:void 0,fetchPriority:typeof u.fetchPriority=="string"?u.fetchPriority:void 0,referrerPolicy:typeof u.referrerPolicy=="string"?u.referrerPolicy:void 0,imageSrcSet:typeof u.imageSrcSet=="string"?u.imageSrcSet:void 0,imageSizes:typeof u.imageSizes=="string"?u.imageSizes:void 0,media:typeof u.media=="string"?u.media:void 0})}},Vs.preloadModule=function(l,u){if(typeof l=="string")if(u){var d=a(u.as,u.crossOrigin);n.d.m(l,{as:typeof u.as=="string"&&u.as!=="script"?u.as:void 0,crossOrigin:d,integrity:typeof u.integrity=="string"?u.integrity:void 0})}else n.d.m(l)},Vs.requestFormReset=function(l){n.d.r(l)},Vs.unstable_batchedUpdates=function(l,u){return l(u)},Vs.useFormState=function(l,u,d){return o.H.useFormState(l,u,d)},Vs.useFormStatus=function(){return o.H.useHostTransitionStatus()},Vs.version="19.0.0",Vs}var G2;function _4(){if(G2)return SE.exports;G2=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),SE.exports=z9(),SE.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var H2;function G9(){if(H2)return uy;H2=1;var e=N9(),t=mI(),i=_4();function n(c){var h="https://react.dev/errors/"+c;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)h+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+c+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(c){return!(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11)}var r=Symbol.for("react.element"),o=Symbol.for("react.transitional.element"),a=Symbol.for("react.portal"),l=Symbol.for("react.fragment"),u=Symbol.for("react.strict_mode"),d=Symbol.for("react.profiler"),p=Symbol.for("react.provider"),f=Symbol.for("react.consumer"),m=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),w=Symbol.for("react.suspense_list"),b=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),M=Symbol.for("react.offscreen"),D=Symbol.for("react.memo_cache_sentinel"),R=Symbol.iterator;function A(c){return c===null||typeof c!="object"?null:(c=R&&c[R]||c["@@iterator"],typeof c=="function"?c:null)}var k=Symbol.for("react.client.reference");function F(c){if(c==null)return null;if(typeof c=="function")return c.$$typeof===k?null:c.displayName||c.name||null;if(typeof c=="string")return c;switch(c){case l:return"Fragment";case a:return"Portal";case d:return"Profiler";case u:return"StrictMode";case C:return"Suspense";case w:return"SuspenseList"}if(typeof c=="object")switch(c.$$typeof){case m:return(c.displayName||"Context")+".Provider";case f:return(c._context.displayName||"Context")+".Consumer";case y:var h=c.render;return c=c.displayName,c||(c=h.displayName||h.name||"",c=c!==""?"ForwardRef("+c+")":"ForwardRef"),c;case b:return h=c.displayName||null,h!==null?h:F(c.type)||"Memo";case S:h=c._payload,c=c._init;try{return F(c(h))}catch{}}return null}var P=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,L=Object.assign,z,H;function V(c){if(z===void 0)try{throw Error()}catch(g){var h=g.stack.trim().match(/\n( *(at )?)/);z=h&&h[1]||"",H=-1<g.stack.indexOf(`
    at`)?" (<anonymous>)":-1<g.stack.indexOf("@")?"@unknown:0:0":""}return`
`+z+c+H}var q=!1;function K(c,h){if(!c||q)return"";q=!0;var g=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var v={DetermineComponentFrameRoot:function(){try{if(h){var Re=function(){throw Error()};if(Object.defineProperty(Re.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Re,[])}catch(Ce){var le=Ce}Reflect.construct(c,[],Re)}else{try{Re.call()}catch(Ce){le=Ce}c.call(Re.prototype)}}else{try{throw Error()}catch(Ce){le=Ce}(Re=c())&&typeof Re.catch=="function"&&Re.catch(function(){})}}catch(Ce){if(Ce&&le&&typeof Ce.stack=="string")return[Ce.stack,le.stack]}return[null,null]}};v.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var x=Object.getOwnPropertyDescriptor(v.DetermineComponentFrameRoot,"name");x&&x.configurable&&Object.defineProperty(v.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var T=v.DetermineComponentFrameRoot(),N=T[0],_=T[1];if(N&&_){var $=N.split(`
`),ne=_.split(`
`);for(x=v=0;v<$.length&&!$[v].includes("DetermineComponentFrameRoot");)v++;for(;x<ne.length&&!ne[x].includes("DetermineComponentFrameRoot");)x++;if(v===$.length||x===ne.length)for(v=$.length-1,x=ne.length-1;1<=v&&0<=x&&$[v]!==ne[x];)x--;for(;1<=v&&0<=x;v--,x--)if($[v]!==ne[x]){if(v!==1||x!==1)do if(v--,x--,0>x||$[v]!==ne[x]){var be=`
`+$[v].replace(" at new "," at ");return c.displayName&&be.includes("<anonymous>")&&(be=be.replace("<anonymous>",c.displayName)),be}while(1<=v&&0<=x);break}}}finally{q=!1,Error.prepareStackTrace=g}return(g=c?c.displayName||c.name:"")?V(g):""}function j(c){switch(c.tag){case 26:case 27:case 5:return V(c.type);case 16:return V("Lazy");case 13:return V("Suspense");case 19:return V("SuspenseList");case 0:case 15:return c=K(c.type,!1),c;case 11:return c=K(c.type.render,!1),c;case 1:return c=K(c.type,!0),c;default:return""}}function Z(c){try{var h="";do h+=j(c),c=c.return;while(c);return h}catch(g){return`
Error generating stack: `+g.message+`
`+g.stack}}function W(c){var h=c,g=c;if(c.alternate)for(;h.return;)h=h.return;else{c=h;do h=c,h.flags&4098&&(g=h.return),c=h.return;while(c)}return h.tag===3?g:null}function Y(c){if(c.tag===13){var h=c.memoizedState;if(h===null&&(c=c.alternate,c!==null&&(h=c.memoizedState)),h!==null)return h.dehydrated}return null}function G(c){if(W(c)!==c)throw Error(n(188))}function U(c){var h=c.alternate;if(!h){if(h=W(c),h===null)throw Error(n(188));return h!==c?null:c}for(var g=c,v=h;;){var x=g.return;if(x===null)break;var T=x.alternate;if(T===null){if(v=x.return,v!==null){g=v;continue}break}if(x.child===T.child){for(T=x.child;T;){if(T===g)return G(x),c;if(T===v)return G(x),h;T=T.sibling}throw Error(n(188))}if(g.return!==v.return)g=x,v=T;else{for(var N=!1,_=x.child;_;){if(_===g){N=!0,g=x,v=T;break}if(_===v){N=!0,v=x,g=T;break}_=_.sibling}if(!N){for(_=T.child;_;){if(_===g){N=!0,g=T,v=x;break}if(_===v){N=!0,v=T,g=x;break}_=_.sibling}if(!N)throw Error(n(189))}}if(g.alternate!==v)throw Error(n(190))}if(g.tag!==3)throw Error(n(188));return g.stateNode.current===g?c:h}function te(c){var h=c.tag;if(h===5||h===26||h===27||h===6)return c;for(c=c.child;c!==null;){if(h=te(c),h!==null)return h;c=c.sibling}return null}var ee=Array.isArray,Q=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ue={pending:!1,data:null,method:null,action:null},de=[],we=-1;function ce(c){return{current:c}}function pe(c){0>we||(c.current=de[we],de[we]=null,we--)}function ae(c,h){we++,de[we]=c.current,c.current=h}var xe=ce(null),Ie=ce(null),Fe=ce(null),Me=ce(null);function _e(c,h){switch(ae(Fe,h),ae(Ie,c),ae(xe,null),c=h.nodeType,c){case 9:case 11:h=(h=h.documentElement)&&(h=h.namespaceURI)?o2(h):0;break;default:if(c=c===8?h.parentNode:h,h=c.tagName,c=c.namespaceURI)c=o2(c),h=a2(c,h);else switch(h){case"svg":h=1;break;case"math":h=2;break;default:h=0}}pe(xe),ae(xe,h)}function tt(){pe(xe),pe(Ie),pe(Fe)}function He(c){c.memoizedState!==null&&ae(Me,c);var h=xe.current,g=a2(h,c.type);h!==g&&(ae(Ie,c),ae(xe,g))}function Ke(c){Ie.current===c&&(pe(xe),pe(Ie)),Me.current===c&&(pe(Me),ny._currentValue=ue)}var yt=Object.prototype.hasOwnProperty,qe=e.unstable_scheduleCallback,Ve=e.unstable_cancelCallback,Pe=e.unstable_shouldYield,Nt=e.unstable_requestPaint,Ct=e.unstable_now,Vi=e.unstable_getCurrentPriorityLevel,Pi=e.unstable_ImmediatePriority,Ei=e.unstable_UserBlockingPriority,Et=e.unstable_NormalPriority,ri=e.unstable_LowPriority,as=e.unstable_IdlePriority,bt=e.log,ws=e.unstable_setDisableYieldValue,Cn=null,di=null;function ot(c){if(di&&typeof di.onCommitFiberRoot=="function")try{di.onCommitFiberRoot(Cn,c,void 0,(c.current.flags&128)===128)}catch{}}function Pt(c){if(typeof bt=="function"&&ws(c),di&&typeof di.setStrictMode=="function")try{di.setStrictMode(Cn,c)}catch{}}var _t=Math.clz32?Math.clz32:gm,_s=Math.log,$a=Math.LN2;function gm(c){return c>>>=0,c===0?32:31-(_s(c)/$a|0)|0}var _l=128,Jc=4194304;function fo(c){var h=c&42;if(h!==0)return h;switch(c&-c){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return c&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return c}}function aa(c,h){var g=c.pendingLanes;if(g===0)return 0;var v=0,x=c.suspendedLanes,T=c.pingedLanes,N=c.warmLanes;c=c.finishedLanes!==0;var _=g&134217727;return _!==0?(g=_&~x,g!==0?v=fo(g):(T&=_,T!==0?v=fo(T):c||(N=_&~N,N!==0&&(v=fo(N))))):(_=g&~x,_!==0?v=fo(_):T!==0?v=fo(T):c||(N=g&~N,N!==0&&(v=fo(N)))),v===0?0:h!==0&&h!==v&&!(h&x)&&(x=v&-v,N=h&-h,x>=N||x===32&&(N&4194176)!==0)?h:v}function go(c,h){return(c.pendingLanes&~(c.suspendedLanes&~c.pingedLanes)&h)===0}function mm(c,h){switch(c){case 1:case 2:case 4:case 8:return h+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return h+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Mt(){var c=_l;return _l<<=1,!(_l&4194176)&&(_l=128),c}function X(){var c=Jc;return Jc<<=1,!(Jc&62914560)&&(Jc=4194304),c}function se(c){for(var h=[],g=0;31>g;g++)h.push(c);return h}function he(c,h){c.pendingLanes|=h,h!==268435456&&(c.suspendedLanes=0,c.pingedLanes=0,c.warmLanes=0)}function Ee(c,h,g,v,x,T){var N=c.pendingLanes;c.pendingLanes=g,c.suspendedLanes=0,c.pingedLanes=0,c.warmLanes=0,c.expiredLanes&=g,c.entangledLanes&=g,c.errorRecoveryDisabledLanes&=g,c.shellSuspendCounter=0;var _=c.entanglements,$=c.expirationTimes,ne=c.hiddenUpdates;for(g=N&~g;0<g;){var be=31-_t(g),Re=1<<be;_[be]=0,$[be]=-1;var le=ne[be];if(le!==null)for(ne[be]=null,be=0;be<le.length;be++){var Ce=le[be];Ce!==null&&(Ce.lane&=-536870913)}g&=~Re}v!==0&&Ye(c,v,0),T!==0&&x===0&&c.tag!==0&&(c.suspendedLanes|=T&~(N&~h))}function Ye(c,h,g){c.pendingLanes|=h,c.suspendedLanes&=~h;var v=31-_t(h);c.entangledLanes|=h,c.entanglements[v]=c.entanglements[v]|1073741824|g&4194218}function it(c,h){var g=c.entangledLanes|=h;for(c=c.entanglements;g;){var v=31-_t(g),x=1<<v;x&h|c[v]&h&&(c[v]|=h),g&=~x}}function vt(c){return c&=-c,2<c?8<c?c&134217727?32:268435456:8:2}function Ze(){var c=Q.p;return c!==0?c:(c=window.event,c===void 0?32:D2(c.type))}function Qe(c,h){var g=Q.p;try{return Q.p=c,h()}finally{Q.p=g}}var ze=Math.random().toString(36).slice(2),Je="__reactFiber$"+ze,at="__reactProps$"+ze,hi="__reactContainer$"+ze,Fn="__reactEvents$"+ze,Wi="__reactListeners$"+ze,Fi="__reactHandles$"+ze,bn="__reactResources$"+ze,mo="__reactMarker$"+ze;function jl(c){delete c[Je],delete c[at],delete c[Fn],delete c[Wi],delete c[Fi]}function Ss(c){var h=c[Je];if(h)return h;for(var g=c.parentNode;g;){if(h=g[hi]||g[Je]){if(g=h.alternate,h.child!==null||g!==null&&g.child!==null)for(c=u2(c);c!==null;){if(g=c[Je])return g;c=u2(c)}return h}c=g,g=c.parentNode}return null}function xs(c){if(c=c[Je]||c[hi]){var h=c.tag;if(h===5||h===6||h===13||h===26||h===27||h===3)return c}return null}function Vl(c){var h=c.tag;if(h===5||h===26||h===27||h===6)return c.stateNode;throw Error(n(33))}function yo(c){var h=c[bn];return h||(h=c[bn]={hoistableStyles:new Map,hoistableScripts:new Map}),h}function Gi(c){c[mo]=!0}var Rd=new Set,Ed={};function ei(c,h){sn(c,h),sn(c+"Capture",h)}function sn(c,h){for(Ed[c]=h,c=0;c<h.length;c++)Rd.add(h[c])}var Cr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Td=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),rn={},Wl={};function Rb(c){return yt.call(Wl,c)?!0:yt.call(rn,c)?!1:Td.test(c)?Wl[c]=!0:(rn[c]=!0,!1)}function Lp(c,h,g){if(Rb(h))if(g===null)c.removeAttribute(h);else{switch(typeof g){case"undefined":case"function":case"symbol":c.removeAttribute(h);return;case"boolean":var v=h.toLowerCase().slice(0,5);if(v!=="data-"&&v!=="aria-"){c.removeAttribute(h);return}}c.setAttribute(h,""+g)}}function Eb(c,h,g){if(g===null)c.removeAttribute(h);else{switch(typeof g){case"undefined":case"function":case"symbol":case"boolean":c.removeAttribute(h);return}c.setAttribute(h,""+g)}}function Ul(c,h,g,v){if(v===null)c.removeAttribute(g);else{switch(typeof v){case"undefined":case"function":case"symbol":case"boolean":c.removeAttribute(g);return}c.setAttributeNS(h,g,""+v)}}function vo(c){switch(typeof c){case"bigint":case"boolean":case"number":case"string":case"undefined":return c;case"object":return c;default:return""}}function cF(c){var h=c.type;return(c=c.nodeName)&&c.toLowerCase()==="input"&&(h==="checkbox"||h==="radio")}function D8(c){var h=cF(c)?"checked":"value",g=Object.getOwnPropertyDescriptor(c.constructor.prototype,h),v=""+c[h];if(!c.hasOwnProperty(h)&&typeof g<"u"&&typeof g.get=="function"&&typeof g.set=="function"){var x=g.get,T=g.set;return Object.defineProperty(c,h,{configurable:!0,get:function(){return x.call(this)},set:function(N){v=""+N,T.call(this,N)}}),Object.defineProperty(c,h,{enumerable:g.enumerable}),{getValue:function(){return v},setValue:function(N){v=""+N},stopTracking:function(){c._valueTracker=null,delete c[h]}}}}function Tb(c){c._valueTracker||(c._valueTracker=D8(c))}function uF(c){if(!c)return!1;var h=c._valueTracker;if(!h)return!0;var g=h.getValue(),v="";return c&&(v=cF(c)?c.checked?"true":"false":c.value),c=v,c!==g?(h.setValue(c),!0):!1}function Ab(c){if(c=c||(typeof document<"u"?document:void 0),typeof c>"u")return null;try{return c.activeElement||c.body}catch{return c.body}}var R8=/[\n"\\]/g;function Co(c){return c.replace(R8,function(h){return"\\"+h.charCodeAt(0).toString(16)+" "})}function fD(c,h,g,v,x,T,N,_){c.name="",N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"?c.type=N:c.removeAttribute("type"),h!=null?N==="number"?(h===0&&c.value===""||c.value!=h)&&(c.value=""+vo(h)):c.value!==""+vo(h)&&(c.value=""+vo(h)):N!=="submit"&&N!=="reset"||c.removeAttribute("value"),h!=null?gD(c,N,vo(h)):g!=null?gD(c,N,vo(g)):v!=null&&c.removeAttribute("value"),x==null&&T!=null&&(c.defaultChecked=!!T),x!=null&&(c.checked=x&&typeof x!="function"&&typeof x!="symbol"),_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?c.name=""+vo(_):c.removeAttribute("name")}function dF(c,h,g,v,x,T,N,_){if(T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(c.type=T),h!=null||g!=null){if(!(T!=="submit"&&T!=="reset"||h!=null))return;g=g!=null?""+vo(g):"",h=h!=null?""+vo(h):g,_||h===c.value||(c.value=h),c.defaultValue=h}v=v??x,v=typeof v!="function"&&typeof v!="symbol"&&!!v,c.checked=_?c.checked:!!v,c.defaultChecked=!!v,N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"&&(c.name=N)}function gD(c,h,g){h==="number"&&Ab(c.ownerDocument)===c||c.defaultValue===""+g||(c.defaultValue=""+g)}function kp(c,h,g,v){if(c=c.options,h){h={};for(var x=0;x<g.length;x++)h["$"+g[x]]=!0;for(g=0;g<c.length;g++)x=h.hasOwnProperty("$"+c[g].value),c[g].selected!==x&&(c[g].selected=x),x&&v&&(c[g].defaultSelected=!0)}else{for(g=""+vo(g),h=null,x=0;x<c.length;x++){if(c[x].value===g){c[x].selected=!0,v&&(c[x].defaultSelected=!0);return}h!==null||c[x].disabled||(h=c[x])}h!==null&&(h.selected=!0)}}function hF(c,h,g){if(h!=null&&(h=""+vo(h),h!==c.value&&(c.value=h),g==null)){c.defaultValue!==h&&(c.defaultValue=h);return}c.defaultValue=g!=null?""+vo(g):""}function pF(c,h,g,v){if(h==null){if(v!=null){if(g!=null)throw Error(n(92));if(ee(v)){if(1<v.length)throw Error(n(93));v=v[0]}g=v}g==null&&(g=""),h=g}g=vo(h),c.defaultValue=g,v=c.textContent,v===g&&v!==""&&v!==null&&(c.value=v)}function Pp(c,h){if(h){var g=c.firstChild;if(g&&g===c.lastChild&&g.nodeType===3){g.nodeValue=h;return}}c.textContent=h}var E8=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function fF(c,h,g){var v=h.indexOf("--")===0;g==null||typeof g=="boolean"||g===""?v?c.setProperty(h,""):h==="float"?c.cssFloat="":c[h]="":v?c.setProperty(h,g):typeof g!="number"||g===0||E8.has(h)?h==="float"?c.cssFloat=g:c[h]=(""+g).trim():c[h]=g+"px"}function gF(c,h,g){if(h!=null&&typeof h!="object")throw Error(n(62));if(c=c.style,g!=null){for(var v in g)!g.hasOwnProperty(v)||h!=null&&h.hasOwnProperty(v)||(v.indexOf("--")===0?c.setProperty(v,""):v==="float"?c.cssFloat="":c[v]="");for(var x in h)v=h[x],h.hasOwnProperty(x)&&g[x]!==v&&fF(c,x,v)}else for(var T in h)h.hasOwnProperty(T)&&fF(c,T,h[T])}function mD(c){if(c.indexOf("-")===-1)return!1;switch(c){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var T8=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),A8=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ib(c){return A8.test(""+c)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":c}var yD=null;function vD(c){return c=c.target||c.srcElement||window,c.correspondingUseElement&&(c=c.correspondingUseElement),c.nodeType===3?c.parentNode:c}var Fp=null,Op=null;function mF(c){var h=xs(c);if(h&&(c=h.stateNode)){var g=c[at]||null;e:switch(c=h.stateNode,h.type){case"input":if(fD(c,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name),h=g.name,g.type==="radio"&&h!=null){for(g=c;g.parentNode;)g=g.parentNode;for(g=g.querySelectorAll('input[name="'+Co(""+h)+'"][type="radio"]'),h=0;h<g.length;h++){var v=g[h];if(v!==c&&v.form===c.form){var x=v[at]||null;if(!x)throw Error(n(90));fD(v,x.value,x.defaultValue,x.defaultValue,x.checked,x.defaultChecked,x.type,x.name)}}for(h=0;h<g.length;h++)v=g[h],v.form===c.form&&uF(v)}break e;case"textarea":hF(c,g.value,g.defaultValue);break e;case"select":h=g.value,h!=null&&kp(c,!!g.multiple,h,!1)}}}var CD=!1;function yF(c,h,g){if(CD)return c(h,g);CD=!0;try{var v=c(h);return v}finally{if(CD=!1,(Fp!==null||Op!==null)&&(p0(),Fp&&(h=Fp,c=Op,Op=Fp=null,mF(h),c)))for(h=0;h<c.length;h++)mF(c[h])}}function ym(c,h){var g=c.stateNode;if(g===null)return null;var v=g[at]||null;if(v===null)return null;g=v[h];e:switch(h){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(v=!v.disabled)||(c=c.type,v=!(c==="button"||c==="input"||c==="select"||c==="textarea")),c=!v;break e;default:c=!1}if(c)return null;if(g&&typeof g!="function")throw Error(n(231,h,typeof g));return g}var bD=!1;if(Cr)try{var vm={};Object.defineProperty(vm,"passive",{get:function(){bD=!0}}),window.addEventListener("test",vm,vm),window.removeEventListener("test",vm,vm)}catch{bD=!1}var eu=null,wD=null,Lb=null;function vF(){if(Lb)return Lb;var c,h=wD,g=h.length,v,x="value"in eu?eu.value:eu.textContent,T=x.length;for(c=0;c<g&&h[c]===x[c];c++);var N=g-c;for(v=1;v<=N&&h[g-v]===x[T-v];v++);return Lb=x.slice(c,1<v?1-v:void 0)}function kb(c){var h=c.keyCode;return"charCode"in c?(c=c.charCode,c===0&&h===13&&(c=13)):c=h,c===10&&(c=13),32<=c||c===13?c:0}function Pb(){return!0}function CF(){return!1}function br(c){function h(g,v,x,T,N){this._reactName=g,this._targetInst=x,this.type=v,this.nativeEvent=T,this.target=N,this.currentTarget=null;for(var _ in c)c.hasOwnProperty(_)&&(g=c[_],this[_]=g?g(T):T[_]);return this.isDefaultPrevented=(T.defaultPrevented!=null?T.defaultPrevented:T.returnValue===!1)?Pb:CF,this.isPropagationStopped=CF,this}return L(h.prototype,{preventDefault:function(){this.defaultPrevented=!0;var g=this.nativeEvent;g&&(g.preventDefault?g.preventDefault():typeof g.returnValue!="unknown"&&(g.returnValue=!1),this.isDefaultPrevented=Pb)},stopPropagation:function(){var g=this.nativeEvent;g&&(g.stopPropagation?g.stopPropagation():typeof g.cancelBubble!="unknown"&&(g.cancelBubble=!0),this.isPropagationStopped=Pb)},persist:function(){},isPersistent:Pb}),h}var Ad={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(c){return c.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Fb=br(Ad),Cm=L({},Ad,{view:0,detail:0}),I8=br(Cm),SD,xD,bm,Ob=L({},Cm,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:DD,button:0,buttons:0,relatedTarget:function(c){return c.relatedTarget===void 0?c.fromElement===c.srcElement?c.toElement:c.fromElement:c.relatedTarget},movementX:function(c){return"movementX"in c?c.movementX:(c!==bm&&(bm&&c.type==="mousemove"?(SD=c.screenX-bm.screenX,xD=c.screenY-bm.screenY):xD=SD=0,bm=c),SD)},movementY:function(c){return"movementY"in c?c.movementY:xD}}),bF=br(Ob),L8=L({},Ob,{dataTransfer:0}),k8=br(L8),P8=L({},Cm,{relatedTarget:0}),MD=br(P8),F8=L({},Ad,{animationName:0,elapsedTime:0,pseudoElement:0}),O8=br(F8),N8=L({},Ad,{clipboardData:function(c){return"clipboardData"in c?c.clipboardData:window.clipboardData}}),B8=br(N8),z8=L({},Ad,{data:0}),wF=br(z8),G8={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},H8={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_8={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function j8(c){var h=this.nativeEvent;return h.getModifierState?h.getModifierState(c):(c=_8[c])?!!h[c]:!1}function DD(){return j8}var V8=L({},Cm,{key:function(c){if(c.key){var h=G8[c.key]||c.key;if(h!=="Unidentified")return h}return c.type==="keypress"?(c=kb(c),c===13?"Enter":String.fromCharCode(c)):c.type==="keydown"||c.type==="keyup"?H8[c.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:DD,charCode:function(c){return c.type==="keypress"?kb(c):0},keyCode:function(c){return c.type==="keydown"||c.type==="keyup"?c.keyCode:0},which:function(c){return c.type==="keypress"?kb(c):c.type==="keydown"||c.type==="keyup"?c.keyCode:0}}),W8=br(V8),U8=L({},Ob,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),SF=br(U8),$8=L({},Cm,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:DD}),Y8=br($8),K8=L({},Ad,{propertyName:0,elapsedTime:0,pseudoElement:0}),q8=br(K8),Z8=L({},Ob,{deltaX:function(c){return"deltaX"in c?c.deltaX:"wheelDeltaX"in c?-c.wheelDeltaX:0},deltaY:function(c){return"deltaY"in c?c.deltaY:"wheelDeltaY"in c?-c.wheelDeltaY:"wheelDelta"in c?-c.wheelDelta:0},deltaZ:0,deltaMode:0}),X8=br(Z8),Q8=L({},Ad,{newState:0,oldState:0}),J8=br(Q8),e7=[9,13,27,32],RD=Cr&&"CompositionEvent"in window,wm=null;Cr&&"documentMode"in document&&(wm=document.documentMode);var t7=Cr&&"TextEvent"in window&&!wm,xF=Cr&&(!RD||wm&&8<wm&&11>=wm),MF=" ",DF=!1;function RF(c,h){switch(c){case"keyup":return e7.indexOf(h.keyCode)!==-1;case"keydown":return h.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function EF(c){return c=c.detail,typeof c=="object"&&"data"in c?c.data:null}var Np=!1;function i7(c,h){switch(c){case"compositionend":return EF(h);case"keypress":return h.which!==32?null:(DF=!0,MF);case"textInput":return c=h.data,c===MF&&DF?null:c;default:return null}}function n7(c,h){if(Np)return c==="compositionend"||!RD&&RF(c,h)?(c=vF(),Lb=wD=eu=null,Np=!1,c):null;switch(c){case"paste":return null;case"keypress":if(!(h.ctrlKey||h.altKey||h.metaKey)||h.ctrlKey&&h.altKey){if(h.char&&1<h.char.length)return h.char;if(h.which)return String.fromCharCode(h.which)}return null;case"compositionend":return xF&&h.locale!=="ko"?null:h.data;default:return null}}var s7={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function TF(c){var h=c&&c.nodeName&&c.nodeName.toLowerCase();return h==="input"?!!s7[c.type]:h==="textarea"}function AF(c,h,g,v){Fp?Op?Op.push(v):Op=[v]:Fp=v,h=v0(h,"onChange"),0<h.length&&(g=new Fb("onChange","change",null,g,v),c.push({event:g,listeners:h}))}var Sm=null,xm=null;function r7(c){t2(c,0)}function Nb(c){var h=Vl(c);if(uF(h))return c}function IF(c,h){if(c==="change")return h}var LF=!1;if(Cr){var ED;if(Cr){var TD="oninput"in document;if(!TD){var kF=document.createElement("div");kF.setAttribute("oninput","return;"),TD=typeof kF.oninput=="function"}ED=TD}else ED=!1;LF=ED&&(!document.documentMode||9<document.documentMode)}function PF(){Sm&&(Sm.detachEvent("onpropertychange",FF),xm=Sm=null)}function FF(c){if(c.propertyName==="value"&&Nb(xm)){var h=[];AF(h,xm,c,vD(c)),yF(r7,h)}}function o7(c,h,g){c==="focusin"?(PF(),Sm=h,xm=g,Sm.attachEvent("onpropertychange",FF)):c==="focusout"&&PF()}function a7(c){if(c==="selectionchange"||c==="keyup"||c==="keydown")return Nb(xm)}function l7(c,h){if(c==="click")return Nb(h)}function c7(c,h){if(c==="input"||c==="change")return Nb(h)}function u7(c,h){return c===h&&(c!==0||1/c===1/h)||c!==c&&h!==h}var Hr=typeof Object.is=="function"?Object.is:u7;function Mm(c,h){if(Hr(c,h))return!0;if(typeof c!="object"||c===null||typeof h!="object"||h===null)return!1;var g=Object.keys(c),v=Object.keys(h);if(g.length!==v.length)return!1;for(v=0;v<g.length;v++){var x=g[v];if(!yt.call(h,x)||!Hr(c[x],h[x]))return!1}return!0}function OF(c){for(;c&&c.firstChild;)c=c.firstChild;return c}function NF(c,h){var g=OF(c);c=0;for(var v;g;){if(g.nodeType===3){if(v=c+g.textContent.length,c<=h&&v>=h)return{node:g,offset:h-c};c=v}e:{for(;g;){if(g.nextSibling){g=g.nextSibling;break e}g=g.parentNode}g=void 0}g=OF(g)}}function BF(c,h){return c&&h?c===h?!0:c&&c.nodeType===3?!1:h&&h.nodeType===3?BF(c,h.parentNode):"contains"in c?c.contains(h):c.compareDocumentPosition?!!(c.compareDocumentPosition(h)&16):!1:!1}function zF(c){c=c!=null&&c.ownerDocument!=null&&c.ownerDocument.defaultView!=null?c.ownerDocument.defaultView:window;for(var h=Ab(c.document);h instanceof c.HTMLIFrameElement;){try{var g=typeof h.contentWindow.location.href=="string"}catch{g=!1}if(g)c=h.contentWindow;else break;h=Ab(c.document)}return h}function AD(c){var h=c&&c.nodeName&&c.nodeName.toLowerCase();return h&&(h==="input"&&(c.type==="text"||c.type==="search"||c.type==="tel"||c.type==="url"||c.type==="password")||h==="textarea"||c.contentEditable==="true")}function d7(c,h){var g=zF(h);h=c.focusedElem;var v=c.selectionRange;if(g!==h&&h&&h.ownerDocument&&BF(h.ownerDocument.documentElement,h)){if(v!==null&&AD(h)){if(c=v.start,g=v.end,g===void 0&&(g=c),"selectionStart"in h)h.selectionStart=c,h.selectionEnd=Math.min(g,h.value.length);else if(g=(c=h.ownerDocument||document)&&c.defaultView||window,g.getSelection){g=g.getSelection();var x=h.textContent.length,T=Math.min(v.start,x);v=v.end===void 0?T:Math.min(v.end,x),!g.extend&&T>v&&(x=v,v=T,T=x),x=NF(h,T);var N=NF(h,v);x&&N&&(g.rangeCount!==1||g.anchorNode!==x.node||g.anchorOffset!==x.offset||g.focusNode!==N.node||g.focusOffset!==N.offset)&&(c=c.createRange(),c.setStart(x.node,x.offset),g.removeAllRanges(),T>v?(g.addRange(c),g.extend(N.node,N.offset)):(c.setEnd(N.node,N.offset),g.addRange(c)))}}for(c=[],g=h;g=g.parentNode;)g.nodeType===1&&c.push({element:g,left:g.scrollLeft,top:g.scrollTop});for(typeof h.focus=="function"&&h.focus(),h=0;h<c.length;h++)g=c[h],g.element.scrollLeft=g.left,g.element.scrollTop=g.top}}var h7=Cr&&"documentMode"in document&&11>=document.documentMode,Bp=null,ID=null,Dm=null,LD=!1;function GF(c,h,g){var v=g.window===g?g.document:g.nodeType===9?g:g.ownerDocument;LD||Bp==null||Bp!==Ab(v)||(v=Bp,"selectionStart"in v&&AD(v)?v={start:v.selectionStart,end:v.selectionEnd}:(v=(v.ownerDocument&&v.ownerDocument.defaultView||window).getSelection(),v={anchorNode:v.anchorNode,anchorOffset:v.anchorOffset,focusNode:v.focusNode,focusOffset:v.focusOffset}),Dm&&Mm(Dm,v)||(Dm=v,v=v0(ID,"onSelect"),0<v.length&&(h=new Fb("onSelect","select",null,h,g),c.push({event:h,listeners:v}),h.target=Bp)))}function Id(c,h){var g={};return g[c.toLowerCase()]=h.toLowerCase(),g["Webkit"+c]="webkit"+h,g["Moz"+c]="moz"+h,g}var zp={animationend:Id("Animation","AnimationEnd"),animationiteration:Id("Animation","AnimationIteration"),animationstart:Id("Animation","AnimationStart"),transitionrun:Id("Transition","TransitionRun"),transitionstart:Id("Transition","TransitionStart"),transitioncancel:Id("Transition","TransitionCancel"),transitionend:Id("Transition","TransitionEnd")},kD={},HF={};Cr&&(HF=document.createElement("div").style,"AnimationEvent"in window||(delete zp.animationend.animation,delete zp.animationiteration.animation,delete zp.animationstart.animation),"TransitionEvent"in window||delete zp.transitionend.transition);function Ld(c){if(kD[c])return kD[c];if(!zp[c])return c;var h=zp[c],g;for(g in h)if(h.hasOwnProperty(g)&&g in HF)return kD[c]=h[g];return c}var _F=Ld("animationend"),jF=Ld("animationiteration"),VF=Ld("animationstart"),p7=Ld("transitionrun"),f7=Ld("transitionstart"),g7=Ld("transitioncancel"),WF=Ld("transitionend"),UF=new Map,$F="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function la(c,h){UF.set(c,h),ei(h,[c])}var bo=[],Gp=0,PD=0;function Bb(){for(var c=Gp,h=PD=Gp=0;h<c;){var g=bo[h];bo[h++]=null;var v=bo[h];bo[h++]=null;var x=bo[h];bo[h++]=null;var T=bo[h];if(bo[h++]=null,v!==null&&x!==null){var N=v.pending;N===null?x.next=x:(x.next=N.next,N.next=x),v.pending=x}T!==0&&YF(g,x,T)}}function zb(c,h,g,v){bo[Gp++]=c,bo[Gp++]=h,bo[Gp++]=g,bo[Gp++]=v,PD|=v,c.lanes|=v,c=c.alternate,c!==null&&(c.lanes|=v)}function FD(c,h,g,v){return zb(c,h,g,v),Gb(c)}function tu(c,h){return zb(c,null,null,h),Gb(c)}function YF(c,h,g){c.lanes|=g;var v=c.alternate;v!==null&&(v.lanes|=g);for(var x=!1,T=c.return;T!==null;)T.childLanes|=g,v=T.alternate,v!==null&&(v.childLanes|=g),T.tag===22&&(c=T.stateNode,c===null||c._visibility&1||(x=!0)),c=T,T=T.return;x&&h!==null&&c.tag===3&&(T=c.stateNode,x=31-_t(g),T=T.hiddenUpdates,c=T[x],c===null?T[x]=[h]:c.push(h),h.lane=g|536870912)}function Gb(c){if(50<Zm)throw Zm=0,HR=null,Error(n(185));for(var h=c.return;h!==null;)c=h,h=c.return;return c.tag===3?c.stateNode:null}var Hp={},KF=new WeakMap;function wo(c,h){if(typeof c=="object"&&c!==null){var g=KF.get(c);return g!==void 0?g:(h={value:c,source:h,stack:Z(h)},KF.set(c,h),h)}return{value:c,source:h,stack:Z(h)}}var _p=[],jp=0,Hb=null,_b=0,So=[],xo=0,kd=null,$l=1,Yl="";function Pd(c,h){_p[jp++]=_b,_p[jp++]=Hb,Hb=c,_b=h}function qF(c,h,g){So[xo++]=$l,So[xo++]=Yl,So[xo++]=kd,kd=c;var v=$l;c=Yl;var x=32-_t(v)-1;v&=~(1<<x),g+=1;var T=32-_t(h)+x;if(30<T){var N=x-x%5;T=(v&(1<<N)-1).toString(32),v>>=N,x-=N,$l=1<<32-_t(h)+x|g<<x|v,Yl=T+c}else $l=1<<T|g<<x|v,Yl=c}function OD(c){c.return!==null&&(Pd(c,1),qF(c,1,0))}function ND(c){for(;c===Hb;)Hb=_p[--jp],_p[jp]=null,_b=_p[--jp],_p[jp]=null;for(;c===kd;)kd=So[--xo],So[xo]=null,Yl=So[--xo],So[xo]=null,$l=So[--xo],So[xo]=null}var ir=null,Ms=null,oi=!1,ca=null,Ya=!1,BD=Error(n(519));function Fd(c){var h=Error(n(418,""));throw Tm(wo(h,c)),BD}function ZF(c){var h=c.stateNode,g=c.type,v=c.memoizedProps;switch(h[Je]=c,h[at]=v,g){case"dialog":qt("cancel",h),qt("close",h);break;case"iframe":case"object":case"embed":qt("load",h);break;case"video":case"audio":for(g=0;g<Qm.length;g++)qt(Qm[g],h);break;case"source":qt("error",h);break;case"img":case"image":case"link":qt("error",h),qt("load",h);break;case"details":qt("toggle",h);break;case"input":qt("invalid",h),dF(h,v.value,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name,!0),Tb(h);break;case"select":qt("invalid",h);break;case"textarea":qt("invalid",h),pF(h,v.value,v.defaultValue,v.children),Tb(h)}g=v.children,typeof g!="string"&&typeof g!="number"&&typeof g!="bigint"||h.textContent===""+g||v.suppressHydrationWarning===!0||r2(h.textContent,g)?(v.popover!=null&&(qt("beforetoggle",h),qt("toggle",h)),v.onScroll!=null&&qt("scroll",h),v.onScrollEnd!=null&&qt("scrollend",h),v.onClick!=null&&(h.onclick=C0),h=!0):h=!1,h||Fd(c)}function XF(c){for(ir=c.return;ir;)switch(ir.tag){case 3:case 27:Ya=!0;return;case 5:case 13:Ya=!1;return;default:ir=ir.return}}function Rm(c){if(c!==ir)return!1;if(!oi)return XF(c),oi=!0,!1;var h=!1,g;if((g=c.tag!==3&&c.tag!==27)&&((g=c.tag===5)&&(g=c.type,g=!(g!=="form"&&g!=="button")||nE(c.type,c.memoizedProps)),g=!g),g&&(h=!0),h&&Ms&&Fd(c),XF(c),c.tag===13){if(c=c.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(n(317));e:{for(c=c.nextSibling,h=0;c;){if(c.nodeType===8)if(g=c.data,g==="/$"){if(h===0){Ms=da(c.nextSibling);break e}h--}else g!=="$"&&g!=="$!"&&g!=="$?"||h++;c=c.nextSibling}Ms=null}}else Ms=ir?da(c.stateNode.nextSibling):null;return!0}function Em(){Ms=ir=null,oi=!1}function Tm(c){ca===null?ca=[c]:ca.push(c)}var Am=Error(n(460)),QF=Error(n(474)),zD={then:function(){}};function JF(c){return c=c.status,c==="fulfilled"||c==="rejected"}function jb(){}function eO(c,h,g){switch(g=c[g],g===void 0?c.push(h):g!==h&&(h.then(jb,jb),h=g),h.status){case"fulfilled":return h.value;case"rejected":throw c=h.reason,c===Am?Error(n(483)):c;default:if(typeof h.status=="string")h.then(jb,jb);else{if(c=Hi,c!==null&&100<c.shellSuspendCounter)throw Error(n(482));c=h,c.status="pending",c.then(function(v){if(h.status==="pending"){var x=h;x.status="fulfilled",x.value=v}},function(v){if(h.status==="pending"){var x=h;x.status="rejected",x.reason=v}})}switch(h.status){case"fulfilled":return h.value;case"rejected":throw c=h.reason,c===Am?Error(n(483)):c}throw Im=h,Am}}var Im=null;function tO(){if(Im===null)throw Error(n(459));var c=Im;return Im=null,c}var Vp=null,Lm=0;function Vb(c){var h=Lm;return Lm+=1,Vp===null&&(Vp=[]),eO(Vp,c,h)}function km(c,h){h=h.props.ref,c.ref=h!==void 0?h:null}function Wb(c,h){throw h.$$typeof===r?Error(n(525)):(c=Object.prototype.toString.call(h),Error(n(31,c==="[object Object]"?"object with keys {"+Object.keys(h).join(", ")+"}":c)))}function iO(c){var h=c._init;return h(c._payload)}function nO(c){function h(re,ie){if(c){var oe=re.deletions;oe===null?(re.deletions=[ie],re.flags|=16):oe.push(ie)}}function g(re,ie){if(!c)return null;for(;ie!==null;)h(re,ie),ie=ie.sibling;return null}function v(re){for(var ie=new Map;re!==null;)re.key!==null?ie.set(re.key,re):ie.set(re.index,re),re=re.sibling;return ie}function x(re,ie){return re=pu(re,ie),re.index=0,re.sibling=null,re}function T(re,ie,oe){return re.index=oe,c?(oe=re.alternate,oe!==null?(oe=oe.index,oe<ie?(re.flags|=33554434,ie):oe):(re.flags|=33554434,ie)):(re.flags|=1048576,ie)}function N(re){return c&&re.alternate===null&&(re.flags|=33554434),re}function _(re,ie,oe,Se){return ie===null||ie.tag!==6?(ie=kR(oe,re.mode,Se),ie.return=re,ie):(ie=x(ie,oe),ie.return=re,ie)}function $(re,ie,oe,Se){var Xe=oe.type;return Xe===l?be(re,ie,oe.props.children,Se,oe.key):ie!==null&&(ie.elementType===Xe||typeof Xe=="object"&&Xe!==null&&Xe.$$typeof===S&&iO(Xe)===ie.type)?(ie=x(ie,oe.props),km(ie,oe),ie.return=re,ie):(ie=l0(oe.type,oe.key,oe.props,null,re.mode,Se),km(ie,oe),ie.return=re,ie)}function ne(re,ie,oe,Se){return ie===null||ie.tag!==4||ie.stateNode.containerInfo!==oe.containerInfo||ie.stateNode.implementation!==oe.implementation?(ie=PR(oe,re.mode,Se),ie.return=re,ie):(ie=x(ie,oe.children||[]),ie.return=re,ie)}function be(re,ie,oe,Se,Xe){return ie===null||ie.tag!==7?(ie=Wd(oe,re.mode,Se,Xe),ie.return=re,ie):(ie=x(ie,oe),ie.return=re,ie)}function Re(re,ie,oe){if(typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint")return ie=kR(""+ie,re.mode,oe),ie.return=re,ie;if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case o:return oe=l0(ie.type,ie.key,ie.props,null,re.mode,oe),km(oe,ie),oe.return=re,oe;case a:return ie=PR(ie,re.mode,oe),ie.return=re,ie;case S:var Se=ie._init;return ie=Se(ie._payload),Re(re,ie,oe)}if(ee(ie)||A(ie))return ie=Wd(ie,re.mode,oe,null),ie.return=re,ie;if(typeof ie.then=="function")return Re(re,Vb(ie),oe);if(ie.$$typeof===m)return Re(re,r0(re,ie),oe);Wb(re,ie)}return null}function le(re,ie,oe,Se){var Xe=ie!==null?ie.key:null;if(typeof oe=="string"&&oe!==""||typeof oe=="number"||typeof oe=="bigint")return Xe!==null?null:_(re,ie,""+oe,Se);if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case o:return oe.key===Xe?$(re,ie,oe,Se):null;case a:return oe.key===Xe?ne(re,ie,oe,Se):null;case S:return Xe=oe._init,oe=Xe(oe._payload),le(re,ie,oe,Se)}if(ee(oe)||A(oe))return Xe!==null?null:be(re,ie,oe,Se,null);if(typeof oe.then=="function")return le(re,ie,Vb(oe),Se);if(oe.$$typeof===m)return le(re,ie,r0(re,oe),Se);Wb(re,oe)}return null}function Ce(re,ie,oe,Se,Xe){if(typeof Se=="string"&&Se!==""||typeof Se=="number"||typeof Se=="bigint")return re=re.get(oe)||null,_(ie,re,""+Se,Xe);if(typeof Se=="object"&&Se!==null){switch(Se.$$typeof){case o:return re=re.get(Se.key===null?oe:Se.key)||null,$(ie,re,Se,Xe);case a:return re=re.get(Se.key===null?oe:Se.key)||null,ne(ie,re,Se,Xe);case S:var jt=Se._init;return Se=jt(Se._payload),Ce(re,ie,oe,Se,Xe)}if(ee(Se)||A(Se))return re=re.get(oe)||null,be(ie,re,Se,Xe,null);if(typeof Se.then=="function")return Ce(re,ie,oe,Vb(Se),Xe);if(Se.$$typeof===m)return Ce(re,ie,oe,r0(ie,Se),Xe);Wb(ie,Se)}return null}function et(re,ie,oe,Se){for(var Xe=null,jt=null,st=ie,ht=ie=0,us=null;st!==null&&ht<oe.length;ht++){st.index>ht?(us=st,st=null):us=st.sibling;var ai=le(re,st,oe[ht],Se);if(ai===null){st===null&&(st=us);break}c&&st&&ai.alternate===null&&h(re,st),ie=T(ai,ie,ht),jt===null?Xe=ai:jt.sibling=ai,jt=ai,st=us}if(ht===oe.length)return g(re,st),oi&&Pd(re,ht),Xe;if(st===null){for(;ht<oe.length;ht++)st=Re(re,oe[ht],Se),st!==null&&(ie=T(st,ie,ht),jt===null?Xe=st:jt.sibling=st,jt=st);return oi&&Pd(re,ht),Xe}for(st=v(st);ht<oe.length;ht++)us=Ce(st,re,ht,oe[ht],Se),us!==null&&(c&&us.alternate!==null&&st.delete(us.key===null?ht:us.key),ie=T(us,ie,ht),jt===null?Xe=us:jt.sibling=us,jt=us);return c&&st.forEach(function(bu){return h(re,bu)}),oi&&Pd(re,ht),Xe}function Dt(re,ie,oe,Se){if(oe==null)throw Error(n(151));for(var Xe=null,jt=null,st=ie,ht=ie=0,us=null,ai=oe.next();st!==null&&!ai.done;ht++,ai=oe.next()){st.index>ht?(us=st,st=null):us=st.sibling;var bu=le(re,st,ai.value,Se);if(bu===null){st===null&&(st=us);break}c&&st&&bu.alternate===null&&h(re,st),ie=T(bu,ie,ht),jt===null?Xe=bu:jt.sibling=bu,jt=bu,st=us}if(ai.done)return g(re,st),oi&&Pd(re,ht),Xe;if(st===null){for(;!ai.done;ht++,ai=oe.next())ai=Re(re,ai.value,Se),ai!==null&&(ie=T(ai,ie,ht),jt===null?Xe=ai:jt.sibling=ai,jt=ai);return oi&&Pd(re,ht),Xe}for(st=v(st);!ai.done;ht++,ai=oe.next())ai=Ce(st,re,ht,ai.value,Se),ai!==null&&(c&&ai.alternate!==null&&st.delete(ai.key===null?ht:ai.key),ie=T(ai,ie,ht),jt===null?Xe=ai:jt.sibling=ai,jt=ai);return c&&st.forEach(function(A9){return h(re,A9)}),oi&&Pd(re,ht),Xe}function xn(re,ie,oe,Se){if(typeof oe=="object"&&oe!==null&&oe.type===l&&oe.key===null&&(oe=oe.props.children),typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case o:e:{for(var Xe=oe.key;ie!==null;){if(ie.key===Xe){if(Xe=oe.type,Xe===l){if(ie.tag===7){g(re,ie.sibling),Se=x(ie,oe.props.children),Se.return=re,re=Se;break e}}else if(ie.elementType===Xe||typeof Xe=="object"&&Xe!==null&&Xe.$$typeof===S&&iO(Xe)===ie.type){g(re,ie.sibling),Se=x(ie,oe.props),km(Se,oe),Se.return=re,re=Se;break e}g(re,ie);break}else h(re,ie);ie=ie.sibling}oe.type===l?(Se=Wd(oe.props.children,re.mode,Se,oe.key),Se.return=re,re=Se):(Se=l0(oe.type,oe.key,oe.props,null,re.mode,Se),km(Se,oe),Se.return=re,re=Se)}return N(re);case a:e:{for(Xe=oe.key;ie!==null;){if(ie.key===Xe)if(ie.tag===4&&ie.stateNode.containerInfo===oe.containerInfo&&ie.stateNode.implementation===oe.implementation){g(re,ie.sibling),Se=x(ie,oe.children||[]),Se.return=re,re=Se;break e}else{g(re,ie);break}else h(re,ie);ie=ie.sibling}Se=PR(oe,re.mode,Se),Se.return=re,re=Se}return N(re);case S:return Xe=oe._init,oe=Xe(oe._payload),xn(re,ie,oe,Se)}if(ee(oe))return et(re,ie,oe,Se);if(A(oe)){if(Xe=A(oe),typeof Xe!="function")throw Error(n(150));return oe=Xe.call(oe),Dt(re,ie,oe,Se)}if(typeof oe.then=="function")return xn(re,ie,Vb(oe),Se);if(oe.$$typeof===m)return xn(re,ie,r0(re,oe),Se);Wb(re,oe)}return typeof oe=="string"&&oe!==""||typeof oe=="number"||typeof oe=="bigint"?(oe=""+oe,ie!==null&&ie.tag===6?(g(re,ie.sibling),Se=x(ie,oe),Se.return=re,re=Se):(g(re,ie),Se=kR(oe,re.mode,Se),Se.return=re,re=Se),N(re)):g(re,ie)}return function(re,ie,oe,Se){try{Lm=0;var Xe=xn(re,ie,oe,Se);return Vp=null,Xe}catch(st){if(st===Am)throw st;var jt=Eo(29,st,null,re.mode);return jt.lanes=Se,jt.return=re,jt}finally{}}}var Od=nO(!0),sO=nO(!1),Wp=ce(null),Ub=ce(0);function rO(c,h){c=sc,ae(Ub,c),ae(Wp,h),sc=c|h.baseLanes}function GD(){ae(Ub,sc),ae(Wp,Wp.current)}function HD(){sc=Ub.current,pe(Wp),pe(Ub)}var Mo=ce(null),Ka=null;function iu(c){var h=c.alternate;ae(Xn,Xn.current&1),ae(Mo,c),Ka===null&&(h===null||Wp.current!==null||h.memoizedState!==null)&&(Ka=c)}function oO(c){if(c.tag===22){if(ae(Xn,Xn.current),ae(Mo,c),Ka===null){var h=c.alternate;h!==null&&h.memoizedState!==null&&(Ka=c)}}else nu()}function nu(){ae(Xn,Xn.current),ae(Mo,Mo.current)}function Kl(c){pe(Mo),Ka===c&&(Ka=null),pe(Xn)}var Xn=ce(0);function $b(c){for(var h=c;h!==null;){if(h.tag===13){var g=h.memoizedState;if(g!==null&&(g=g.dehydrated,g===null||g.data==="$?"||g.data==="$!"))return h}else if(h.tag===19&&h.memoizedProps.revealOrder!==void 0){if(h.flags&128)return h}else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===c)break;for(;h.sibling===null;){if(h.return===null||h.return===c)return null;h=h.return}h.sibling.return=h.return,h=h.sibling}return null}var m7=typeof AbortController<"u"?AbortController:function(){var c=[],h=this.signal={aborted:!1,addEventListener:function(g,v){c.push(v)}};this.abort=function(){h.aborted=!0,c.forEach(function(g){return g()})}},y7=e.unstable_scheduleCallback,v7=e.unstable_NormalPriority,Qn={$$typeof:m,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function _D(){return{controller:new m7,data:new Map,refCount:0}}function Pm(c){c.refCount--,c.refCount===0&&y7(v7,function(){c.controller.abort()})}var Fm=null,jD=0,Up=0,$p=null;function C7(c,h){if(Fm===null){var g=Fm=[];jD=0,Up=KR(),$p={status:"pending",value:void 0,then:function(v){g.push(v)}}}return jD++,h.then(aO,aO),h}function aO(){if(--jD===0&&Fm!==null){$p!==null&&($p.status="fulfilled");var c=Fm;Fm=null,Up=0,$p=null;for(var h=0;h<c.length;h++)(0,c[h])()}}function b7(c,h){var g=[],v={status:"pending",value:null,reason:null,then:function(x){g.push(x)}};return c.then(function(){v.status="fulfilled",v.value=h;for(var x=0;x<g.length;x++)(0,g[x])(h)},function(x){for(v.status="rejected",v.reason=x,x=0;x<g.length;x++)(0,g[x])(void 0)}),v}var lO=P.S;P.S=function(c,h){typeof h=="object"&&h!==null&&typeof h.then=="function"&&C7(c,h),lO!==null&&lO(c,h)};var Nd=ce(null);function VD(){var c=Nd.current;return c!==null?c:Hi.pooledCache}function Yb(c,h){h===null?ae(Nd,Nd.current):ae(Nd,h.pool)}function cO(){var c=VD();return c===null?null:{parent:Qn._currentValue,pool:c}}var su=0,zt=null,Ti=null,jn=null,Kb=!1,Yp=!1,Bd=!1,qb=0,Om=0,Kp=null,w7=0;function On(){throw Error(n(321))}function WD(c,h){if(h===null)return!1;for(var g=0;g<h.length&&g<c.length;g++)if(!Hr(c[g],h[g]))return!1;return!0}function UD(c,h,g,v,x,T){return su=T,zt=h,h.memoizedState=null,h.updateQueue=null,h.lanes=0,P.H=c===null||c.memoizedState===null?zd:ru,Bd=!1,T=g(v,x),Bd=!1,Yp&&(T=dO(h,g,v,x)),uO(c),T}function uO(c){P.H=qa;var h=Ti!==null&&Ti.next!==null;if(su=0,jn=Ti=zt=null,Kb=!1,Om=0,Kp=null,h)throw Error(n(300));c===null||ls||(c=c.dependencies,c!==null&&s0(c)&&(ls=!0))}function dO(c,h,g,v){zt=c;var x=0;do{if(Yp&&(Kp=null),Om=0,Yp=!1,25<=x)throw Error(n(301));if(x+=1,jn=Ti=null,c.updateQueue!=null){var T=c.updateQueue;T.lastEffect=null,T.events=null,T.stores=null,T.memoCache!=null&&(T.memoCache.index=0)}P.H=Gd,T=h(g,v)}while(Yp);return T}function S7(){var c=P.H,h=c.useState()[0];return h=typeof h.then=="function"?Nm(h):h,c=c.useState()[0],(Ti!==null?Ti.memoizedState:null)!==c&&(zt.flags|=1024),h}function $D(){var c=qb!==0;return qb=0,c}function YD(c,h,g){h.updateQueue=c.updateQueue,h.flags&=-2053,c.lanes&=~g}function KD(c){if(Kb){for(c=c.memoizedState;c!==null;){var h=c.queue;h!==null&&(h.pending=null),c=c.next}Kb=!1}su=0,jn=Ti=zt=null,Yp=!1,Om=qb=0,Kp=null}function wr(){var c={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return jn===null?zt.memoizedState=jn=c:jn=jn.next=c,jn}function Vn(){if(Ti===null){var c=zt.alternate;c=c!==null?c.memoizedState:null}else c=Ti.next;var h=jn===null?zt.memoizedState:jn.next;if(h!==null)jn=h,Ti=c;else{if(c===null)throw zt.alternate===null?Error(n(467)):Error(n(310));Ti=c,c={memoizedState:Ti.memoizedState,baseState:Ti.baseState,baseQueue:Ti.baseQueue,queue:Ti.queue,next:null},jn===null?zt.memoizedState=jn=c:jn=jn.next=c}return jn}var Zb;Zb=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function Nm(c){var h=Om;return Om+=1,Kp===null&&(Kp=[]),c=eO(Kp,c,h),h=zt,(jn===null?h.memoizedState:jn.next)===null&&(h=h.alternate,P.H=h===null||h.memoizedState===null?zd:ru),c}function Xb(c){if(c!==null&&typeof c=="object"){if(typeof c.then=="function")return Nm(c);if(c.$$typeof===m)return js(c)}throw Error(n(438,String(c)))}function qD(c){var h=null,g=zt.updateQueue;if(g!==null&&(h=g.memoCache),h==null){var v=zt.alternate;v!==null&&(v=v.updateQueue,v!==null&&(v=v.memoCache,v!=null&&(h={data:v.data.map(function(x){return x.slice()}),index:0})))}if(h==null&&(h={data:[],index:0}),g===null&&(g=Zb(),zt.updateQueue=g),g.memoCache=h,g=h.data[h.index],g===void 0)for(g=h.data[h.index]=Array(c),v=0;v<c;v++)g[v]=D;return h.index++,g}function ql(c,h){return typeof h=="function"?h(c):h}function Qb(c){var h=Vn();return ZD(h,Ti,c)}function ZD(c,h,g){var v=c.queue;if(v===null)throw Error(n(311));v.lastRenderedReducer=g;var x=c.baseQueue,T=v.pending;if(T!==null){if(x!==null){var N=x.next;x.next=T.next,T.next=N}h.baseQueue=x=T,v.pending=null}if(T=c.baseState,x===null)c.memoizedState=T;else{h=x.next;var _=N=null,$=null,ne=h,be=!1;do{var Re=ne.lane&-536870913;if(Re!==ne.lane?(ti&Re)===Re:(su&Re)===Re){var le=ne.revertLane;if(le===0)$!==null&&($=$.next={lane:0,revertLane:0,action:ne.action,hasEagerState:ne.hasEagerState,eagerState:ne.eagerState,next:null}),Re===Up&&(be=!0);else if((su&le)===le){ne=ne.next,le===Up&&(be=!0);continue}else Re={lane:0,revertLane:ne.revertLane,action:ne.action,hasEagerState:ne.hasEagerState,eagerState:ne.eagerState,next:null},$===null?(_=$=Re,N=T):$=$.next=Re,zt.lanes|=le,fu|=le;Re=ne.action,Bd&&g(T,Re),T=ne.hasEagerState?ne.eagerState:g(T,Re)}else le={lane:Re,revertLane:ne.revertLane,action:ne.action,hasEagerState:ne.hasEagerState,eagerState:ne.eagerState,next:null},$===null?(_=$=le,N=T):$=$.next=le,zt.lanes|=Re,fu|=Re;ne=ne.next}while(ne!==null&&ne!==h);if($===null?N=T:$.next=_,!Hr(T,c.memoizedState)&&(ls=!0,be&&(g=$p,g!==null)))throw g;c.memoizedState=T,c.baseState=N,c.baseQueue=$,v.lastRenderedState=T}return x===null&&(v.lanes=0),[c.memoizedState,v.dispatch]}function XD(c){var h=Vn(),g=h.queue;if(g===null)throw Error(n(311));g.lastRenderedReducer=c;var v=g.dispatch,x=g.pending,T=h.memoizedState;if(x!==null){g.pending=null;var N=x=x.next;do T=c(T,N.action),N=N.next;while(N!==x);Hr(T,h.memoizedState)||(ls=!0),h.memoizedState=T,h.baseQueue===null&&(h.baseState=T),g.lastRenderedState=T}return[T,v]}function hO(c,h,g){var v=zt,x=Vn(),T=oi;if(T){if(g===void 0)throw Error(n(407));g=g()}else g=h();var N=!Hr((Ti||x).memoizedState,g);if(N&&(x.memoizedState=g,ls=!0),x=x.queue,eR(gO.bind(null,v,x,c),[c]),x.getSnapshot!==h||N||jn!==null&&jn.memoizedState.tag&1){if(v.flags|=2048,qp(9,fO.bind(null,v,x,g,h),{destroy:void 0},null),Hi===null)throw Error(n(349));T||su&60||pO(v,h,g)}return g}function pO(c,h,g){c.flags|=16384,c={getSnapshot:h,value:g},h=zt.updateQueue,h===null?(h=Zb(),zt.updateQueue=h,h.stores=[c]):(g=h.stores,g===null?h.stores=[c]:g.push(c))}function fO(c,h,g,v){h.value=g,h.getSnapshot=v,mO(h)&&yO(c)}function gO(c,h,g){return g(function(){mO(h)&&yO(c)})}function mO(c){var h=c.getSnapshot;c=c.value;try{var g=h();return!Hr(c,g)}catch{return!0}}function yO(c){var h=tu(c,2);h!==null&&nr(h,c,2)}function QD(c){var h=wr();if(typeof c=="function"){var g=c;if(c=g(),Bd){Pt(!0);try{g()}finally{Pt(!1)}}}return h.memoizedState=h.baseState=c,h.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ql,lastRenderedState:c},h}function vO(c,h,g,v){return c.baseState=g,ZD(c,Ti,typeof v=="function"?v:ql)}function x7(c,h,g,v,x){if(t0(c))throw Error(n(485));if(c=h.action,c!==null){var T={payload:x,action:c,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(N){T.listeners.push(N)}};P.T!==null?g(!0):T.isTransition=!1,v(T),g=h.pending,g===null?(T.next=h.pending=T,CO(h,T)):(T.next=g.next,h.pending=g.next=T)}}function CO(c,h){var g=h.action,v=h.payload,x=c.state;if(h.isTransition){var T=P.T,N={};P.T=N;try{var _=g(x,v),$=P.S;$!==null&&$(N,_),bO(c,h,_)}catch(ne){JD(c,h,ne)}finally{P.T=T}}else try{T=g(x,v),bO(c,h,T)}catch(ne){JD(c,h,ne)}}function bO(c,h,g){g!==null&&typeof g=="object"&&typeof g.then=="function"?g.then(function(v){wO(c,h,v)},function(v){return JD(c,h,v)}):wO(c,h,g)}function wO(c,h,g){h.status="fulfilled",h.value=g,SO(h),c.state=g,h=c.pending,h!==null&&(g=h.next,g===h?c.pending=null:(g=g.next,h.next=g,CO(c,g)))}function JD(c,h,g){var v=c.pending;if(c.pending=null,v!==null){v=v.next;do h.status="rejected",h.reason=g,SO(h),h=h.next;while(h!==v)}c.action=null}function SO(c){c=c.listeners;for(var h=0;h<c.length;h++)(0,c[h])()}function xO(c,h){return h}function MO(c,h){if(oi){var g=Hi.formState;if(g!==null){e:{var v=zt;if(oi){if(Ms){t:{for(var x=Ms,T=Ya;x.nodeType!==8;){if(!T){x=null;break t}if(x=da(x.nextSibling),x===null){x=null;break t}}T=x.data,x=T==="F!"||T==="F"?x:null}if(x){Ms=da(x.nextSibling),v=x.data==="F!";break e}}Fd(v)}v=!1}v&&(h=g[0])}}return g=wr(),g.memoizedState=g.baseState=h,v={pending:null,lanes:0,dispatch:null,lastRenderedReducer:xO,lastRenderedState:h},g.queue=v,g=jO.bind(null,zt,v),v.dispatch=g,v=QD(!1),T=rR.bind(null,zt,!1,v.queue),v=wr(),x={state:h,dispatch:null,action:c,pending:null},v.queue=x,g=x7.bind(null,zt,x,T,g),x.dispatch=g,v.memoizedState=c,[h,g,!1]}function DO(c){var h=Vn();return RO(h,Ti,c)}function RO(c,h,g){h=ZD(c,h,xO)[0],c=Qb(ql)[0],h=typeof h=="object"&&h!==null&&typeof h.then=="function"?Nm(h):h;var v=Vn(),x=v.queue,T=x.dispatch;return g!==v.memoizedState&&(zt.flags|=2048,qp(9,M7.bind(null,x,g),{destroy:void 0},null)),[h,T,c]}function M7(c,h){c.action=h}function EO(c){var h=Vn(),g=Ti;if(g!==null)return RO(h,g,c);Vn(),h=h.memoizedState,g=Vn();var v=g.queue.dispatch;return g.memoizedState=c,[h,v,!1]}function qp(c,h,g,v){return c={tag:c,create:h,inst:g,deps:v,next:null},h=zt.updateQueue,h===null&&(h=Zb(),zt.updateQueue=h),g=h.lastEffect,g===null?h.lastEffect=c.next=c:(v=g.next,g.next=c,c.next=v,h.lastEffect=c),c}function TO(){return Vn().memoizedState}function Jb(c,h,g,v){var x=wr();zt.flags|=c,x.memoizedState=qp(1|h,g,{destroy:void 0},v===void 0?null:v)}function e0(c,h,g,v){var x=Vn();v=v===void 0?null:v;var T=x.memoizedState.inst;Ti!==null&&v!==null&&WD(v,Ti.memoizedState.deps)?x.memoizedState=qp(h,g,T,v):(zt.flags|=c,x.memoizedState=qp(1|h,g,T,v))}function AO(c,h){Jb(8390656,8,c,h)}function eR(c,h){e0(2048,8,c,h)}function IO(c,h){return e0(4,2,c,h)}function LO(c,h){return e0(4,4,c,h)}function kO(c,h){if(typeof h=="function"){c=c();var g=h(c);return function(){typeof g=="function"?g():h(null)}}if(h!=null)return c=c(),h.current=c,function(){h.current=null}}function PO(c,h,g){g=g!=null?g.concat([c]):null,e0(4,4,kO.bind(null,h,c),g)}function tR(){}function FO(c,h){var g=Vn();h=h===void 0?null:h;var v=g.memoizedState;return h!==null&&WD(h,v[1])?v[0]:(g.memoizedState=[c,h],c)}function OO(c,h){var g=Vn();h=h===void 0?null:h;var v=g.memoizedState;if(h!==null&&WD(h,v[1]))return v[0];if(v=c(),Bd){Pt(!0);try{c()}finally{Pt(!1)}}return g.memoizedState=[v,h],v}function iR(c,h,g){return g===void 0||su&1073741824?c.memoizedState=h:(c.memoizedState=g,c=BN(),zt.lanes|=c,fu|=c,g)}function NO(c,h,g,v){return Hr(g,h)?g:Wp.current!==null?(c=iR(c,g,v),Hr(c,h)||(ls=!0),c):su&42?(c=BN(),zt.lanes|=c,fu|=c,h):(ls=!0,c.memoizedState=g)}function BO(c,h,g,v,x){var T=Q.p;Q.p=T!==0&&8>T?T:8;var N=P.T,_={};P.T=_,rR(c,!1,h,g);try{var $=x(),ne=P.S;if(ne!==null&&ne(_,$),$!==null&&typeof $=="object"&&typeof $.then=="function"){var be=b7($,v);Bm(c,h,be,Wr(c))}else Bm(c,h,v,Wr(c))}catch(Re){Bm(c,h,{then:function(){},status:"rejected",reason:Re},Wr())}finally{Q.p=T,P.T=N}}function D7(){}function nR(c,h,g,v){if(c.tag!==5)throw Error(n(476));var x=zO(c).queue;BO(c,x,h,ue,g===null?D7:function(){return GO(c),g(v)})}function zO(c){var h=c.memoizedState;if(h!==null)return h;h={memoizedState:ue,baseState:ue,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ql,lastRenderedState:ue},next:null};var g={};return h.next={memoizedState:g,baseState:g,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ql,lastRenderedState:g},next:null},c.memoizedState=h,c=c.alternate,c!==null&&(c.memoizedState=h),h}function GO(c){var h=zO(c).next.queue;Bm(c,h,{},Wr())}function sR(){return js(ny)}function HO(){return Vn().memoizedState}function _O(){return Vn().memoizedState}function R7(c){for(var h=c.return;h!==null;){switch(h.tag){case 24:case 3:var g=Wr();c=lu(g);var v=cu(h,c,g);v!==null&&(nr(v,h,g),Hm(v,h,g)),h={cache:_D()},c.payload=h;return}h=h.return}}function E7(c,h,g){var v=Wr();g={lane:v,revertLane:0,action:g,hasEagerState:!1,eagerState:null,next:null},t0(c)?VO(h,g):(g=FD(c,h,g,v),g!==null&&(nr(g,c,v),WO(g,h,v)))}function jO(c,h,g){var v=Wr();Bm(c,h,g,v)}function Bm(c,h,g,v){var x={lane:v,revertLane:0,action:g,hasEagerState:!1,eagerState:null,next:null};if(t0(c))VO(h,x);else{var T=c.alternate;if(c.lanes===0&&(T===null||T.lanes===0)&&(T=h.lastRenderedReducer,T!==null))try{var N=h.lastRenderedState,_=T(N,g);if(x.hasEagerState=!0,x.eagerState=_,Hr(_,N))return zb(c,h,x,0),Hi===null&&Bb(),!1}catch{}finally{}if(g=FD(c,h,x,v),g!==null)return nr(g,c,v),WO(g,h,v),!0}return!1}function rR(c,h,g,v){if(v={lane:2,revertLane:KR(),action:v,hasEagerState:!1,eagerState:null,next:null},t0(c)){if(h)throw Error(n(479))}else h=FD(c,g,v,2),h!==null&&nr(h,c,2)}function t0(c){var h=c.alternate;return c===zt||h!==null&&h===zt}function VO(c,h){Yp=Kb=!0;var g=c.pending;g===null?h.next=h:(h.next=g.next,g.next=h),c.pending=h}function WO(c,h,g){if(g&4194176){var v=h.lanes;v&=c.pendingLanes,g|=v,h.lanes=g,it(c,g)}}var qa={readContext:js,use:Xb,useCallback:On,useContext:On,useEffect:On,useImperativeHandle:On,useLayoutEffect:On,useInsertionEffect:On,useMemo:On,useReducer:On,useRef:On,useState:On,useDebugValue:On,useDeferredValue:On,useTransition:On,useSyncExternalStore:On,useId:On};qa.useCacheRefresh=On,qa.useMemoCache=On,qa.useHostTransitionStatus=On,qa.useFormState=On,qa.useActionState=On,qa.useOptimistic=On;var zd={readContext:js,use:Xb,useCallback:function(c,h){return wr().memoizedState=[c,h===void 0?null:h],c},useContext:js,useEffect:AO,useImperativeHandle:function(c,h,g){g=g!=null?g.concat([c]):null,Jb(4194308,4,kO.bind(null,h,c),g)},useLayoutEffect:function(c,h){return Jb(4194308,4,c,h)},useInsertionEffect:function(c,h){Jb(4,2,c,h)},useMemo:function(c,h){var g=wr();h=h===void 0?null:h;var v=c();if(Bd){Pt(!0);try{c()}finally{Pt(!1)}}return g.memoizedState=[v,h],v},useReducer:function(c,h,g){var v=wr();if(g!==void 0){var x=g(h);if(Bd){Pt(!0);try{g(h)}finally{Pt(!1)}}}else x=h;return v.memoizedState=v.baseState=x,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:c,lastRenderedState:x},v.queue=c,c=c.dispatch=E7.bind(null,zt,c),[v.memoizedState,c]},useRef:function(c){var h=wr();return c={current:c},h.memoizedState=c},useState:function(c){c=QD(c);var h=c.queue,g=jO.bind(null,zt,h);return h.dispatch=g,[c.memoizedState,g]},useDebugValue:tR,useDeferredValue:function(c,h){var g=wr();return iR(g,c,h)},useTransition:function(){var c=QD(!1);return c=BO.bind(null,zt,c.queue,!0,!1),wr().memoizedState=c,[!1,c]},useSyncExternalStore:function(c,h,g){var v=zt,x=wr();if(oi){if(g===void 0)throw Error(n(407));g=g()}else{if(g=h(),Hi===null)throw Error(n(349));ti&60||pO(v,h,g)}x.memoizedState=g;var T={value:g,getSnapshot:h};return x.queue=T,AO(gO.bind(null,v,T,c),[c]),v.flags|=2048,qp(9,fO.bind(null,v,T,g,h),{destroy:void 0},null),g},useId:function(){var c=wr(),h=Hi.identifierPrefix;if(oi){var g=Yl,v=$l;g=(v&~(1<<32-_t(v)-1)).toString(32)+g,h=":"+h+"R"+g,g=qb++,0<g&&(h+="H"+g.toString(32)),h+=":"}else g=w7++,h=":"+h+"r"+g.toString(32)+":";return c.memoizedState=h},useCacheRefresh:function(){return wr().memoizedState=R7.bind(null,zt)}};zd.useMemoCache=qD,zd.useHostTransitionStatus=sR,zd.useFormState=MO,zd.useActionState=MO,zd.useOptimistic=function(c){var h=wr();h.memoizedState=h.baseState=c;var g={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return h.queue=g,h=rR.bind(null,zt,!0,g),g.dispatch=h,[c,h]};var ru={readContext:js,use:Xb,useCallback:FO,useContext:js,useEffect:eR,useImperativeHandle:PO,useInsertionEffect:IO,useLayoutEffect:LO,useMemo:OO,useReducer:Qb,useRef:TO,useState:function(){return Qb(ql)},useDebugValue:tR,useDeferredValue:function(c,h){var g=Vn();return NO(g,Ti.memoizedState,c,h)},useTransition:function(){var c=Qb(ql)[0],h=Vn().memoizedState;return[typeof c=="boolean"?c:Nm(c),h]},useSyncExternalStore:hO,useId:HO};ru.useCacheRefresh=_O,ru.useMemoCache=qD,ru.useHostTransitionStatus=sR,ru.useFormState=DO,ru.useActionState=DO,ru.useOptimistic=function(c,h){var g=Vn();return vO(g,Ti,c,h)};var Gd={readContext:js,use:Xb,useCallback:FO,useContext:js,useEffect:eR,useImperativeHandle:PO,useInsertionEffect:IO,useLayoutEffect:LO,useMemo:OO,useReducer:XD,useRef:TO,useState:function(){return XD(ql)},useDebugValue:tR,useDeferredValue:function(c,h){var g=Vn();return Ti===null?iR(g,c,h):NO(g,Ti.memoizedState,c,h)},useTransition:function(){var c=XD(ql)[0],h=Vn().memoizedState;return[typeof c=="boolean"?c:Nm(c),h]},useSyncExternalStore:hO,useId:HO};Gd.useCacheRefresh=_O,Gd.useMemoCache=qD,Gd.useHostTransitionStatus=sR,Gd.useFormState=EO,Gd.useActionState=EO,Gd.useOptimistic=function(c,h){var g=Vn();return Ti!==null?vO(g,Ti,c,h):(g.baseState=c,[c,g.queue.dispatch])};function oR(c,h,g,v){h=c.memoizedState,g=g(v,h),g=g==null?h:L({},h,g),c.memoizedState=g,c.lanes===0&&(c.updateQueue.baseState=g)}var aR={isMounted:function(c){return(c=c._reactInternals)?W(c)===c:!1},enqueueSetState:function(c,h,g){c=c._reactInternals;var v=Wr(),x=lu(v);x.payload=h,g!=null&&(x.callback=g),h=cu(c,x,v),h!==null&&(nr(h,c,v),Hm(h,c,v))},enqueueReplaceState:function(c,h,g){c=c._reactInternals;var v=Wr(),x=lu(v);x.tag=1,x.payload=h,g!=null&&(x.callback=g),h=cu(c,x,v),h!==null&&(nr(h,c,v),Hm(h,c,v))},enqueueForceUpdate:function(c,h){c=c._reactInternals;var g=Wr(),v=lu(g);v.tag=2,h!=null&&(v.callback=h),h=cu(c,v,g),h!==null&&(nr(h,c,g),Hm(h,c,g))}};function UO(c,h,g,v,x,T,N){return c=c.stateNode,typeof c.shouldComponentUpdate=="function"?c.shouldComponentUpdate(v,T,N):h.prototype&&h.prototype.isPureReactComponent?!Mm(g,v)||!Mm(x,T):!0}function $O(c,h,g,v){c=h.state,typeof h.componentWillReceiveProps=="function"&&h.componentWillReceiveProps(g,v),typeof h.UNSAFE_componentWillReceiveProps=="function"&&h.UNSAFE_componentWillReceiveProps(g,v),h.state!==c&&aR.enqueueReplaceState(h,h.state,null)}function Hd(c,h){var g=h;if("ref"in h){g={};for(var v in h)v!=="ref"&&(g[v]=h[v])}if(c=c.defaultProps){g===h&&(g=L({},g));for(var x in c)g[x]===void 0&&(g[x]=c[x])}return g}var i0=typeof reportError=="function"?reportError:function(c){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var h=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof c=="object"&&c!==null&&typeof c.message=="string"?String(c.message):String(c),error:c});if(!window.dispatchEvent(h))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",c);return}console.error(c)};function YO(c){i0(c)}function KO(c){console.error(c)}function qO(c){i0(c)}function n0(c,h){try{var g=c.onUncaughtError;g(h.value,{componentStack:h.stack})}catch(v){setTimeout(function(){throw v})}}function ZO(c,h,g){try{var v=c.onCaughtError;v(g.value,{componentStack:g.stack,errorBoundary:h.tag===1?h.stateNode:null})}catch(x){setTimeout(function(){throw x})}}function lR(c,h,g){return g=lu(g),g.tag=3,g.payload={element:null},g.callback=function(){n0(c,h)},g}function XO(c){return c=lu(c),c.tag=3,c}function QO(c,h,g,v){var x=g.type.getDerivedStateFromError;if(typeof x=="function"){var T=v.value;c.payload=function(){return x(T)},c.callback=function(){ZO(h,g,v)}}var N=g.stateNode;N!==null&&typeof N.componentDidCatch=="function"&&(c.callback=function(){ZO(h,g,v),typeof x!="function"&&(gu===null?gu=new Set([this]):gu.add(this));var _=v.stack;this.componentDidCatch(v.value,{componentStack:_!==null?_:""})})}function T7(c,h,g,v,x){if(g.flags|=32768,v!==null&&typeof v=="object"&&typeof v.then=="function"){if(h=g.alternate,h!==null&&Gm(h,g,x,!0),g=Mo.current,g!==null){switch(g.tag){case 13:return Ka===null?VR():g.alternate===null&&Sn===0&&(Sn=3),g.flags&=-257,g.flags|=65536,g.lanes=x,v===zD?g.flags|=16384:(h=g.updateQueue,h===null?g.updateQueue=new Set([v]):h.add(v),UR(c,v,x)),!1;case 22:return g.flags|=65536,v===zD?g.flags|=16384:(h=g.updateQueue,h===null?(h={transitions:null,markerInstances:null,retryQueue:new Set([v])},g.updateQueue=h):(g=h.retryQueue,g===null?h.retryQueue=new Set([v]):g.add(v)),UR(c,v,x)),!1}throw Error(n(435,g.tag))}return UR(c,v,x),VR(),!1}if(oi)return h=Mo.current,h!==null?(!(h.flags&65536)&&(h.flags|=256),h.flags|=65536,h.lanes=x,v!==BD&&(c=Error(n(422),{cause:v}),Tm(wo(c,g)))):(v!==BD&&(h=Error(n(423),{cause:v}),Tm(wo(h,g))),c=c.current.alternate,c.flags|=65536,x&=-x,c.lanes|=x,v=wo(v,g),x=lR(c.stateNode,v,x),xR(c,x),Sn!==4&&(Sn=2)),!1;var T=Error(n(520),{cause:v});if(T=wo(T,g),Km===null?Km=[T]:Km.push(T),Sn!==4&&(Sn=2),h===null)return!0;v=wo(v,g),g=h;do{switch(g.tag){case 3:return g.flags|=65536,c=x&-x,g.lanes|=c,c=lR(g.stateNode,v,c),xR(g,c),!1;case 1:if(h=g.type,T=g.stateNode,(g.flags&128)===0&&(typeof h.getDerivedStateFromError=="function"||T!==null&&typeof T.componentDidCatch=="function"&&(gu===null||!gu.has(T))))return g.flags|=65536,x&=-x,g.lanes|=x,x=XO(x),QO(x,c,g,v),xR(g,x),!1}g=g.return}while(g!==null);return!1}var JO=Error(n(461)),ls=!1;function Ds(c,h,g,v){h.child=c===null?sO(h,null,g,v):Od(h,c.child,g,v)}function eN(c,h,g,v,x){g=g.render;var T=h.ref;if("ref"in v){var N={};for(var _ in v)_!=="ref"&&(N[_]=v[_])}else N=v;return jd(h),v=UD(c,h,g,N,T,x),_=$D(),c!==null&&!ls?(YD(c,h,x),Zl(c,h,x)):(oi&&_&&OD(h),h.flags|=1,Ds(c,h,v,x),h.child)}function tN(c,h,g,v,x){if(c===null){var T=g.type;return typeof T=="function"&&!LR(T)&&T.defaultProps===void 0&&g.compare===null?(h.tag=15,h.type=T,iN(c,h,T,v,x)):(c=l0(g.type,null,v,h,h.mode,x),c.ref=h.ref,c.return=h,h.child=c)}if(T=c.child,!yR(c,x)){var N=T.memoizedProps;if(g=g.compare,g=g!==null?g:Mm,g(N,v)&&c.ref===h.ref)return Zl(c,h,x)}return h.flags|=1,c=pu(T,v),c.ref=h.ref,c.return=h,h.child=c}function iN(c,h,g,v,x){if(c!==null){var T=c.memoizedProps;if(Mm(T,v)&&c.ref===h.ref)if(ls=!1,h.pendingProps=v=T,yR(c,x))c.flags&131072&&(ls=!0);else return h.lanes=c.lanes,Zl(c,h,x)}return cR(c,h,g,v,x)}function nN(c,h,g){var v=h.pendingProps,x=v.children,T=(h.stateNode._pendingVisibility&2)!==0,N=c!==null?c.memoizedState:null;if(zm(c,h),v.mode==="hidden"||T){if(h.flags&128){if(v=N!==null?N.baseLanes|g:g,c!==null){for(x=h.child=c.child,T=0;x!==null;)T=T|x.lanes|x.childLanes,x=x.sibling;h.childLanes=T&~v}else h.childLanes=0,h.child=null;return sN(c,h,v,g)}if(g&536870912)h.memoizedState={baseLanes:0,cachePool:null},c!==null&&Yb(h,N!==null?N.cachePool:null),N!==null?rO(h,N):GD(),oO(h);else return h.lanes=h.childLanes=536870912,sN(c,h,N!==null?N.baseLanes|g:g,g)}else N!==null?(Yb(h,N.cachePool),rO(h,N),nu(),h.memoizedState=null):(c!==null&&Yb(h,null),GD(),nu());return Ds(c,h,x,g),h.child}function sN(c,h,g,v){var x=VD();return x=x===null?null:{parent:Qn._currentValue,pool:x},h.memoizedState={baseLanes:g,cachePool:x},c!==null&&Yb(h,null),GD(),oO(h),c!==null&&Gm(c,h,v,!0),null}function zm(c,h){var g=h.ref;if(g===null)c!==null&&c.ref!==null&&(h.flags|=2097664);else{if(typeof g!="function"&&typeof g!="object")throw Error(n(284));(c===null||c.ref!==g)&&(h.flags|=2097664)}}function cR(c,h,g,v,x){return jd(h),g=UD(c,h,g,v,void 0,x),v=$D(),c!==null&&!ls?(YD(c,h,x),Zl(c,h,x)):(oi&&v&&OD(h),h.flags|=1,Ds(c,h,g,x),h.child)}function rN(c,h,g,v,x,T){return jd(h),h.updateQueue=null,g=dO(h,v,g,x),uO(c),v=$D(),c!==null&&!ls?(YD(c,h,T),Zl(c,h,T)):(oi&&v&&OD(h),h.flags|=1,Ds(c,h,g,T),h.child)}function oN(c,h,g,v,x){if(jd(h),h.stateNode===null){var T=Hp,N=g.contextType;typeof N=="object"&&N!==null&&(T=js(N)),T=new g(v,T),h.memoizedState=T.state!==null&&T.state!==void 0?T.state:null,T.updater=aR,h.stateNode=T,T._reactInternals=h,T=h.stateNode,T.props=v,T.state=h.memoizedState,T.refs={},wR(h),N=g.contextType,T.context=typeof N=="object"&&N!==null?js(N):Hp,T.state=h.memoizedState,N=g.getDerivedStateFromProps,typeof N=="function"&&(oR(h,g,N,v),T.state=h.memoizedState),typeof g.getDerivedStateFromProps=="function"||typeof T.getSnapshotBeforeUpdate=="function"||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(N=T.state,typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount(),N!==T.state&&aR.enqueueReplaceState(T,T.state,null),jm(h,v,T,x),_m(),T.state=h.memoizedState),typeof T.componentDidMount=="function"&&(h.flags|=4194308),v=!0}else if(c===null){T=h.stateNode;var _=h.memoizedProps,$=Hd(g,_);T.props=$;var ne=T.context,be=g.contextType;N=Hp,typeof be=="object"&&be!==null&&(N=js(be));var Re=g.getDerivedStateFromProps;be=typeof Re=="function"||typeof T.getSnapshotBeforeUpdate=="function",_=h.pendingProps!==_,be||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(_||ne!==N)&&$O(h,T,v,N),au=!1;var le=h.memoizedState;T.state=le,jm(h,v,T,x),_m(),ne=h.memoizedState,_||le!==ne||au?(typeof Re=="function"&&(oR(h,g,Re,v),ne=h.memoizedState),($=au||UO(h,g,$,v,le,ne,N))?(be||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount()),typeof T.componentDidMount=="function"&&(h.flags|=4194308)):(typeof T.componentDidMount=="function"&&(h.flags|=4194308),h.memoizedProps=v,h.memoizedState=ne),T.props=v,T.state=ne,T.context=N,v=$):(typeof T.componentDidMount=="function"&&(h.flags|=4194308),v=!1)}else{T=h.stateNode,SR(c,h),N=h.memoizedProps,be=Hd(g,N),T.props=be,Re=h.pendingProps,le=T.context,ne=g.contextType,$=Hp,typeof ne=="object"&&ne!==null&&($=js(ne)),_=g.getDerivedStateFromProps,(ne=typeof _=="function"||typeof T.getSnapshotBeforeUpdate=="function")||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(N!==Re||le!==$)&&$O(h,T,v,$),au=!1,le=h.memoizedState,T.state=le,jm(h,v,T,x),_m();var Ce=h.memoizedState;N!==Re||le!==Ce||au||c!==null&&c.dependencies!==null&&s0(c.dependencies)?(typeof _=="function"&&(oR(h,g,_,v),Ce=h.memoizedState),(be=au||UO(h,g,be,v,le,Ce,$)||c!==null&&c.dependencies!==null&&s0(c.dependencies))?(ne||typeof T.UNSAFE_componentWillUpdate!="function"&&typeof T.componentWillUpdate!="function"||(typeof T.componentWillUpdate=="function"&&T.componentWillUpdate(v,Ce,$),typeof T.UNSAFE_componentWillUpdate=="function"&&T.UNSAFE_componentWillUpdate(v,Ce,$)),typeof T.componentDidUpdate=="function"&&(h.flags|=4),typeof T.getSnapshotBeforeUpdate=="function"&&(h.flags|=1024)):(typeof T.componentDidUpdate!="function"||N===c.memoizedProps&&le===c.memoizedState||(h.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||N===c.memoizedProps&&le===c.memoizedState||(h.flags|=1024),h.memoizedProps=v,h.memoizedState=Ce),T.props=v,T.state=Ce,T.context=$,v=be):(typeof T.componentDidUpdate!="function"||N===c.memoizedProps&&le===c.memoizedState||(h.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||N===c.memoizedProps&&le===c.memoizedState||(h.flags|=1024),v=!1)}return T=v,zm(c,h),v=(h.flags&128)!==0,T||v?(T=h.stateNode,g=v&&typeof g.getDerivedStateFromError!="function"?null:T.render(),h.flags|=1,c!==null&&v?(h.child=Od(h,c.child,null,x),h.child=Od(h,null,g,x)):Ds(c,h,g,x),h.memoizedState=T.state,c=h.child):c=Zl(c,h,x),c}function aN(c,h,g,v){return Em(),h.flags|=256,Ds(c,h,g,v),h.child}var uR={dehydrated:null,treeContext:null,retryLane:0};function dR(c){return{baseLanes:c,cachePool:cO()}}function hR(c,h,g){return c=c!==null?c.childLanes&~g:0,h&&(c|=To),c}function lN(c,h,g){var v=h.pendingProps,x=!1,T=(h.flags&128)!==0,N;if((N=T)||(N=c!==null&&c.memoizedState===null?!1:(Xn.current&2)!==0),N&&(x=!0,h.flags&=-129),N=(h.flags&32)!==0,h.flags&=-33,c===null){if(oi){if(x?iu(h):nu(),oi){var _=Ms,$;if($=_){e:{for($=_,_=Ya;$.nodeType!==8;){if(!_){_=null;break e}if($=da($.nextSibling),$===null){_=null;break e}}_=$}_!==null?(h.memoizedState={dehydrated:_,treeContext:kd!==null?{id:$l,overflow:Yl}:null,retryLane:536870912},$=Eo(18,null,null,0),$.stateNode=_,$.return=h,h.child=$,ir=h,Ms=null,$=!0):$=!1}$||Fd(h)}if(_=h.memoizedState,_!==null&&(_=_.dehydrated,_!==null))return _.data==="$!"?h.lanes=16:h.lanes=536870912,null;Kl(h)}return _=v.children,v=v.fallback,x?(nu(),x=h.mode,_=fR({mode:"hidden",children:_},x),v=Wd(v,x,g,null),_.return=h,v.return=h,_.sibling=v,h.child=_,x=h.child,x.memoizedState=dR(g),x.childLanes=hR(c,N,g),h.memoizedState=uR,v):(iu(h),pR(h,_))}if($=c.memoizedState,$!==null&&(_=$.dehydrated,_!==null)){if(T)h.flags&256?(iu(h),h.flags&=-257,h=gR(c,h,g)):h.memoizedState!==null?(nu(),h.child=c.child,h.flags|=128,h=null):(nu(),x=v.fallback,_=h.mode,v=fR({mode:"visible",children:v.children},_),x=Wd(x,_,g,null),x.flags|=2,v.return=h,x.return=h,v.sibling=x,h.child=v,Od(h,c.child,null,g),v=h.child,v.memoizedState=dR(g),v.childLanes=hR(c,N,g),h.memoizedState=uR,h=x);else if(iu(h),_.data==="$!"){if(N=_.nextSibling&&_.nextSibling.dataset,N)var ne=N.dgst;N=ne,v=Error(n(419)),v.stack="",v.digest=N,Tm({value:v,source:null,stack:null}),h=gR(c,h,g)}else if(ls||Gm(c,h,g,!1),N=(g&c.childLanes)!==0,ls||N){if(N=Hi,N!==null){if(v=g&-g,v&42)v=1;else switch(v){case 2:v=1;break;case 8:v=4;break;case 32:v=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:v=64;break;case 268435456:v=134217728;break;default:v=0}if(v=v&(N.suspendedLanes|g)?0:v,v!==0&&v!==$.retryLane)throw $.retryLane=v,tu(c,v),nr(N,c,v),JO}_.data==="$?"||VR(),h=gR(c,h,g)}else _.data==="$?"?(h.flags|=128,h.child=c.child,h=V7.bind(null,c),_._reactRetry=h,h=null):(c=$.treeContext,Ms=da(_.nextSibling),ir=h,oi=!0,ca=null,Ya=!1,c!==null&&(So[xo++]=$l,So[xo++]=Yl,So[xo++]=kd,$l=c.id,Yl=c.overflow,kd=h),h=pR(h,v.children),h.flags|=4096);return h}return x?(nu(),x=v.fallback,_=h.mode,$=c.child,ne=$.sibling,v=pu($,{mode:"hidden",children:v.children}),v.subtreeFlags=$.subtreeFlags&31457280,ne!==null?x=pu(ne,x):(x=Wd(x,_,g,null),x.flags|=2),x.return=h,v.return=h,v.sibling=x,h.child=v,v=x,x=h.child,_=c.child.memoizedState,_===null?_=dR(g):($=_.cachePool,$!==null?(ne=Qn._currentValue,$=$.parent!==ne?{parent:ne,pool:ne}:$):$=cO(),_={baseLanes:_.baseLanes|g,cachePool:$}),x.memoizedState=_,x.childLanes=hR(c,N,g),h.memoizedState=uR,v):(iu(h),g=c.child,c=g.sibling,g=pu(g,{mode:"visible",children:v.children}),g.return=h,g.sibling=null,c!==null&&(N=h.deletions,N===null?(h.deletions=[c],h.flags|=16):N.push(c)),h.child=g,h.memoizedState=null,g)}function pR(c,h){return h=fR({mode:"visible",children:h},c.mode),h.return=c,c.child=h}function fR(c,h){return FN(c,h,0,null)}function gR(c,h,g){return Od(h,c.child,null,g),c=pR(h,h.pendingProps.children),c.flags|=2,h.memoizedState=null,c}function cN(c,h,g){c.lanes|=h;var v=c.alternate;v!==null&&(v.lanes|=h),CR(c.return,h,g)}function mR(c,h,g,v,x){var T=c.memoizedState;T===null?c.memoizedState={isBackwards:h,rendering:null,renderingStartTime:0,last:v,tail:g,tailMode:x}:(T.isBackwards=h,T.rendering=null,T.renderingStartTime=0,T.last=v,T.tail=g,T.tailMode=x)}function uN(c,h,g){var v=h.pendingProps,x=v.revealOrder,T=v.tail;if(Ds(c,h,v.children,g),v=Xn.current,v&2)v=v&1|2,h.flags|=128;else{if(c!==null&&c.flags&128)e:for(c=h.child;c!==null;){if(c.tag===13)c.memoizedState!==null&&cN(c,g,h);else if(c.tag===19)cN(c,g,h);else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===h)break e;for(;c.sibling===null;){if(c.return===null||c.return===h)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}v&=1}switch(ae(Xn,v),x){case"forwards":for(g=h.child,x=null;g!==null;)c=g.alternate,c!==null&&$b(c)===null&&(x=g),g=g.sibling;g=x,g===null?(x=h.child,h.child=null):(x=g.sibling,g.sibling=null),mR(h,!1,x,g,T);break;case"backwards":for(g=null,x=h.child,h.child=null;x!==null;){if(c=x.alternate,c!==null&&$b(c)===null){h.child=x;break}c=x.sibling,x.sibling=g,g=x,x=c}mR(h,!0,g,null,T);break;case"together":mR(h,!1,null,null,void 0);break;default:h.memoizedState=null}return h.child}function Zl(c,h,g){if(c!==null&&(h.dependencies=c.dependencies),fu|=h.lanes,!(g&h.childLanes))if(c!==null){if(Gm(c,h,g,!1),(g&h.childLanes)===0)return null}else return null;if(c!==null&&h.child!==c.child)throw Error(n(153));if(h.child!==null){for(c=h.child,g=pu(c,c.pendingProps),h.child=g,g.return=h;c.sibling!==null;)c=c.sibling,g=g.sibling=pu(c,c.pendingProps),g.return=h;g.sibling=null}return h.child}function yR(c,h){return c.lanes&h?!0:(c=c.dependencies,!!(c!==null&&s0(c)))}function A7(c,h,g){switch(h.tag){case 3:_e(h,h.stateNode.containerInfo),ou(h,Qn,c.memoizedState.cache),Em();break;case 27:case 5:He(h);break;case 4:_e(h,h.stateNode.containerInfo);break;case 10:ou(h,h.type,h.memoizedProps.value);break;case 13:var v=h.memoizedState;if(v!==null)return v.dehydrated!==null?(iu(h),h.flags|=128,null):g&h.child.childLanes?lN(c,h,g):(iu(h),c=Zl(c,h,g),c!==null?c.sibling:null);iu(h);break;case 19:var x=(c.flags&128)!==0;if(v=(g&h.childLanes)!==0,v||(Gm(c,h,g,!1),v=(g&h.childLanes)!==0),x){if(v)return uN(c,h,g);h.flags|=128}if(x=h.memoizedState,x!==null&&(x.rendering=null,x.tail=null,x.lastEffect=null),ae(Xn,Xn.current),v)break;return null;case 22:case 23:return h.lanes=0,nN(c,h,g);case 24:ou(h,Qn,c.memoizedState.cache)}return Zl(c,h,g)}function dN(c,h,g){if(c!==null)if(c.memoizedProps!==h.pendingProps)ls=!0;else{if(!yR(c,g)&&!(h.flags&128))return ls=!1,A7(c,h,g);ls=!!(c.flags&131072)}else ls=!1,oi&&h.flags&1048576&&qF(h,_b,h.index);switch(h.lanes=0,h.tag){case 16:e:{c=h.pendingProps;var v=h.elementType,x=v._init;if(v=x(v._payload),h.type=v,typeof v=="function")LR(v)?(c=Hd(v,c),h.tag=1,h=oN(null,h,v,c,g)):(h.tag=0,h=cR(null,h,v,c,g));else{if(v!=null){if(x=v.$$typeof,x===y){h.tag=11,h=eN(null,h,v,c,g);break e}else if(x===b){h.tag=14,h=tN(null,h,v,c,g);break e}}throw h=F(v)||v,Error(n(306,h,""))}}return h;case 0:return cR(c,h,h.type,h.pendingProps,g);case 1:return v=h.type,x=Hd(v,h.pendingProps),oN(c,h,v,x,g);case 3:e:{if(_e(h,h.stateNode.containerInfo),c===null)throw Error(n(387));var T=h.pendingProps;x=h.memoizedState,v=x.element,SR(c,h),jm(h,T,null,g);var N=h.memoizedState;if(T=N.cache,ou(h,Qn,T),T!==x.cache&&bR(h,[Qn],g,!0),_m(),T=N.element,x.isDehydrated)if(x={element:T,isDehydrated:!1,cache:N.cache},h.updateQueue.baseState=x,h.memoizedState=x,h.flags&256){h=aN(c,h,T,g);break e}else if(T!==v){v=wo(Error(n(424)),h),Tm(v),h=aN(c,h,T,g);break e}else for(Ms=da(h.stateNode.containerInfo.firstChild),ir=h,oi=!0,ca=null,Ya=!0,g=sO(h,null,T,g),h.child=g;g;)g.flags=g.flags&-3|4096,g=g.sibling;else{if(Em(),T===v){h=Zl(c,h,g);break e}Ds(c,h,T,g)}h=h.child}return h;case 26:return zm(c,h),c===null?(g=f2(h.type,null,h.pendingProps,null))?h.memoizedState=g:oi||(g=h.type,c=h.pendingProps,v=b0(Fe.current).createElement(g),v[Je]=h,v[at]=c,Rs(v,g,c),Gi(v),h.stateNode=v):h.memoizedState=f2(h.type,c.memoizedProps,h.pendingProps,c.memoizedState),null;case 27:return He(h),c===null&&oi&&(v=h.stateNode=d2(h.type,h.pendingProps,Fe.current),ir=h,Ya=!0,Ms=da(v.firstChild)),v=h.pendingProps.children,c!==null||oi?Ds(c,h,v,g):h.child=Od(h,null,v,g),zm(c,h),h.child;case 5:return c===null&&oi&&((x=v=Ms)&&(v=r9(v,h.type,h.pendingProps,Ya),v!==null?(h.stateNode=v,ir=h,Ms=da(v.firstChild),Ya=!1,x=!0):x=!1),x||Fd(h)),He(h),x=h.type,T=h.pendingProps,N=c!==null?c.memoizedProps:null,v=T.children,nE(x,T)?v=null:N!==null&&nE(x,N)&&(h.flags|=32),h.memoizedState!==null&&(x=UD(c,h,S7,null,null,g),ny._currentValue=x),zm(c,h),Ds(c,h,v,g),h.child;case 6:return c===null&&oi&&((c=g=Ms)&&(g=o9(g,h.pendingProps,Ya),g!==null?(h.stateNode=g,ir=h,Ms=null,c=!0):c=!1),c||Fd(h)),null;case 13:return lN(c,h,g);case 4:return _e(h,h.stateNode.containerInfo),v=h.pendingProps,c===null?h.child=Od(h,null,v,g):Ds(c,h,v,g),h.child;case 11:return eN(c,h,h.type,h.pendingProps,g);case 7:return Ds(c,h,h.pendingProps,g),h.child;case 8:return Ds(c,h,h.pendingProps.children,g),h.child;case 12:return Ds(c,h,h.pendingProps.children,g),h.child;case 10:return v=h.pendingProps,ou(h,h.type,v.value),Ds(c,h,v.children,g),h.child;case 9:return x=h.type._context,v=h.pendingProps.children,jd(h),x=js(x),v=v(x),h.flags|=1,Ds(c,h,v,g),h.child;case 14:return tN(c,h,h.type,h.pendingProps,g);case 15:return iN(c,h,h.type,h.pendingProps,g);case 19:return uN(c,h,g);case 22:return nN(c,h,g);case 24:return jd(h),v=js(Qn),c===null?(x=VD(),x===null&&(x=Hi,T=_D(),x.pooledCache=T,T.refCount++,T!==null&&(x.pooledCacheLanes|=g),x=T),h.memoizedState={parent:v,cache:x},wR(h),ou(h,Qn,x)):(c.lanes&g&&(SR(c,h),jm(h,null,null,g),_m()),x=c.memoizedState,T=h.memoizedState,x.parent!==v?(x={parent:v,cache:v},h.memoizedState=x,h.lanes===0&&(h.memoizedState=h.updateQueue.baseState=x),ou(h,Qn,v)):(v=T.cache,ou(h,Qn,v),v!==x.cache&&bR(h,[Qn],g,!0))),Ds(c,h,h.pendingProps.children,g),h.child;case 29:throw h.pendingProps}throw Error(n(156,h.tag))}var vR=ce(null),_d=null,Xl=null;function ou(c,h,g){ae(vR,h._currentValue),h._currentValue=g}function Ql(c){c._currentValue=vR.current,pe(vR)}function CR(c,h,g){for(;c!==null;){var v=c.alternate;if((c.childLanes&h)!==h?(c.childLanes|=h,v!==null&&(v.childLanes|=h)):v!==null&&(v.childLanes&h)!==h&&(v.childLanes|=h),c===g)break;c=c.return}}function bR(c,h,g,v){var x=c.child;for(x!==null&&(x.return=c);x!==null;){var T=x.dependencies;if(T!==null){var N=x.child;T=T.firstContext;e:for(;T!==null;){var _=T;T=x;for(var $=0;$<h.length;$++)if(_.context===h[$]){T.lanes|=g,_=T.alternate,_!==null&&(_.lanes|=g),CR(T.return,g,c),v||(N=null);break e}T=_.next}}else if(x.tag===18){if(N=x.return,N===null)throw Error(n(341));N.lanes|=g,T=N.alternate,T!==null&&(T.lanes|=g),CR(N,g,c),N=null}else N=x.child;if(N!==null)N.return=x;else for(N=x;N!==null;){if(N===c){N=null;break}if(x=N.sibling,x!==null){x.return=N.return,N=x;break}N=N.return}x=N}}function Gm(c,h,g,v){c=null;for(var x=h,T=!1;x!==null;){if(!T){if(x.flags&524288)T=!0;else if(x.flags&262144)break}if(x.tag===10){var N=x.alternate;if(N===null)throw Error(n(387));if(N=N.memoizedProps,N!==null){var _=x.type;Hr(x.pendingProps.value,N.value)||(c!==null?c.push(_):c=[_])}}else if(x===Me.current){if(N=x.alternate,N===null)throw Error(n(387));N.memoizedState.memoizedState!==x.memoizedState.memoizedState&&(c!==null?c.push(ny):c=[ny])}x=x.return}c!==null&&bR(h,c,g,v),h.flags|=262144}function s0(c){for(c=c.firstContext;c!==null;){if(!Hr(c.context._currentValue,c.memoizedValue))return!0;c=c.next}return!1}function jd(c){_d=c,Xl=null,c=c.dependencies,c!==null&&(c.firstContext=null)}function js(c){return hN(_d,c)}function r0(c,h){return _d===null&&jd(c),hN(c,h)}function hN(c,h){var g=h._currentValue;if(h={context:h,memoizedValue:g,next:null},Xl===null){if(c===null)throw Error(n(308));Xl=h,c.dependencies={lanes:0,firstContext:h},c.flags|=524288}else Xl=Xl.next=h;return g}var au=!1;function wR(c){c.updateQueue={baseState:c.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function SR(c,h){c=c.updateQueue,h.updateQueue===c&&(h.updateQueue={baseState:c.baseState,firstBaseUpdate:c.firstBaseUpdate,lastBaseUpdate:c.lastBaseUpdate,shared:c.shared,callbacks:null})}function lu(c){return{lane:c,tag:0,payload:null,callback:null,next:null}}function cu(c,h,g){var v=c.updateQueue;if(v===null)return null;if(v=v.shared,an&2){var x=v.pending;return x===null?h.next=h:(h.next=x.next,x.next=h),v.pending=h,h=Gb(c),YF(c,null,g),h}return zb(c,v,h,g),Gb(c)}function Hm(c,h,g){if(h=h.updateQueue,h!==null&&(h=h.shared,(g&4194176)!==0)){var v=h.lanes;v&=c.pendingLanes,g|=v,h.lanes=g,it(c,g)}}function xR(c,h){var g=c.updateQueue,v=c.alternate;if(v!==null&&(v=v.updateQueue,g===v)){var x=null,T=null;if(g=g.firstBaseUpdate,g!==null){do{var N={lane:g.lane,tag:g.tag,payload:g.payload,callback:null,next:null};T===null?x=T=N:T=T.next=N,g=g.next}while(g!==null);T===null?x=T=h:T=T.next=h}else x=T=h;g={baseState:v.baseState,firstBaseUpdate:x,lastBaseUpdate:T,shared:v.shared,callbacks:v.callbacks},c.updateQueue=g;return}c=g.lastBaseUpdate,c===null?g.firstBaseUpdate=h:c.next=h,g.lastBaseUpdate=h}var MR=!1;function _m(){if(MR){var c=$p;if(c!==null)throw c}}function jm(c,h,g,v){MR=!1;var x=c.updateQueue;au=!1;var T=x.firstBaseUpdate,N=x.lastBaseUpdate,_=x.shared.pending;if(_!==null){x.shared.pending=null;var $=_,ne=$.next;$.next=null,N===null?T=ne:N.next=ne,N=$;var be=c.alternate;be!==null&&(be=be.updateQueue,_=be.lastBaseUpdate,_!==N&&(_===null?be.firstBaseUpdate=ne:_.next=ne,be.lastBaseUpdate=$))}if(T!==null){var Re=x.baseState;N=0,be=ne=$=null,_=T;do{var le=_.lane&-536870913,Ce=le!==_.lane;if(Ce?(ti&le)===le:(v&le)===le){le!==0&&le===Up&&(MR=!0),be!==null&&(be=be.next={lane:0,tag:_.tag,payload:_.payload,callback:null,next:null});e:{var et=c,Dt=_;le=h;var xn=g;switch(Dt.tag){case 1:if(et=Dt.payload,typeof et=="function"){Re=et.call(xn,Re,le);break e}Re=et;break e;case 3:et.flags=et.flags&-65537|128;case 0:if(et=Dt.payload,le=typeof et=="function"?et.call(xn,Re,le):et,le==null)break e;Re=L({},Re,le);break e;case 2:au=!0}}le=_.callback,le!==null&&(c.flags|=64,Ce&&(c.flags|=8192),Ce=x.callbacks,Ce===null?x.callbacks=[le]:Ce.push(le))}else Ce={lane:le,tag:_.tag,payload:_.payload,callback:_.callback,next:null},be===null?(ne=be=Ce,$=Re):be=be.next=Ce,N|=le;if(_=_.next,_===null){if(_=x.shared.pending,_===null)break;Ce=_,_=Ce.next,Ce.next=null,x.lastBaseUpdate=Ce,x.shared.pending=null}}while(!0);be===null&&($=Re),x.baseState=$,x.firstBaseUpdate=ne,x.lastBaseUpdate=be,T===null&&(x.shared.lanes=0),fu|=N,c.lanes=N,c.memoizedState=Re}}function pN(c,h){if(typeof c!="function")throw Error(n(191,c));c.call(h)}function fN(c,h){var g=c.callbacks;if(g!==null)for(c.callbacks=null,c=0;c<g.length;c++)pN(g[c],h)}function Vm(c,h){try{var g=h.updateQueue,v=g!==null?g.lastEffect:null;if(v!==null){var x=v.next;g=x;do{if((g.tag&c)===c){v=void 0;var T=g.create,N=g.inst;v=T(),N.destroy=v}g=g.next}while(g!==x)}}catch(_){Oi(h,h.return,_)}}function uu(c,h,g){try{var v=h.updateQueue,x=v!==null?v.lastEffect:null;if(x!==null){var T=x.next;v=T;do{if((v.tag&c)===c){var N=v.inst,_=N.destroy;if(_!==void 0){N.destroy=void 0,x=h;var $=g;try{_()}catch(ne){Oi(x,$,ne)}}}v=v.next}while(v!==T)}}catch(ne){Oi(h,h.return,ne)}}function gN(c){var h=c.updateQueue;if(h!==null){var g=c.stateNode;try{fN(h,g)}catch(v){Oi(c,c.return,v)}}}function mN(c,h,g){g.props=Hd(c.type,c.memoizedProps),g.state=c.memoizedState;try{g.componentWillUnmount()}catch(v){Oi(c,h,v)}}function Vd(c,h){try{var g=c.ref;if(g!==null){var v=c.stateNode;switch(c.tag){case 26:case 27:case 5:var x=v;break;default:x=v}typeof g=="function"?c.refCleanup=g(x):g.current=x}}catch(T){Oi(c,h,T)}}function _r(c,h){var g=c.ref,v=c.refCleanup;if(g!==null)if(typeof v=="function")try{v()}catch(x){Oi(c,h,x)}finally{c.refCleanup=null,c=c.alternate,c!=null&&(c.refCleanup=null)}else if(typeof g=="function")try{g(null)}catch(x){Oi(c,h,x)}else g.current=null}function yN(c){var h=c.type,g=c.memoizedProps,v=c.stateNode;try{e:switch(h){case"button":case"input":case"select":case"textarea":g.autoFocus&&v.focus();break e;case"img":g.src?v.src=g.src:g.srcSet&&(v.srcset=g.srcSet)}}catch(x){Oi(c,c.return,x)}}function vN(c,h,g){try{var v=c.stateNode;e9(v,c.type,g,h),v[at]=h}catch(x){Oi(c,c.return,x)}}function CN(c){return c.tag===5||c.tag===3||c.tag===26||c.tag===27||c.tag===4}function DR(c){e:for(;;){for(;c.sibling===null;){if(c.return===null||CN(c.return))return null;c=c.return}for(c.sibling.return=c.return,c=c.sibling;c.tag!==5&&c.tag!==6&&c.tag!==27&&c.tag!==18;){if(c.flags&2||c.child===null||c.tag===4)continue e;c.child.return=c,c=c.child}if(!(c.flags&2))return c.stateNode}}function RR(c,h,g){var v=c.tag;if(v===5||v===6)c=c.stateNode,h?g.nodeType===8?g.parentNode.insertBefore(c,h):g.insertBefore(c,h):(g.nodeType===8?(h=g.parentNode,h.insertBefore(c,g)):(h=g,h.appendChild(c)),g=g._reactRootContainer,g!=null||h.onclick!==null||(h.onclick=C0));else if(v!==4&&v!==27&&(c=c.child,c!==null))for(RR(c,h,g),c=c.sibling;c!==null;)RR(c,h,g),c=c.sibling}function o0(c,h,g){var v=c.tag;if(v===5||v===6)c=c.stateNode,h?g.insertBefore(c,h):g.appendChild(c);else if(v!==4&&v!==27&&(c=c.child,c!==null))for(o0(c,h,g),c=c.sibling;c!==null;)o0(c,h,g),c=c.sibling}var Jl=!1,wn=!1,ER=!1,bN=typeof WeakSet=="function"?WeakSet:Set,cs=null,wN=!1;function I7(c,h){if(c=c.containerInfo,tE=R0,c=zF(c),AD(c)){if("selectionStart"in c)var g={start:c.selectionStart,end:c.selectionEnd};else e:{g=(g=c.ownerDocument)&&g.defaultView||window;var v=g.getSelection&&g.getSelection();if(v&&v.rangeCount!==0){g=v.anchorNode;var x=v.anchorOffset,T=v.focusNode;v=v.focusOffset;try{g.nodeType,T.nodeType}catch{g=null;break e}var N=0,_=-1,$=-1,ne=0,be=0,Re=c,le=null;t:for(;;){for(var Ce;Re!==g||x!==0&&Re.nodeType!==3||(_=N+x),Re!==T||v!==0&&Re.nodeType!==3||($=N+v),Re.nodeType===3&&(N+=Re.nodeValue.length),(Ce=Re.firstChild)!==null;)le=Re,Re=Ce;for(;;){if(Re===c)break t;if(le===g&&++ne===x&&(_=N),le===T&&++be===v&&($=N),(Ce=Re.nextSibling)!==null)break;Re=le,le=Re.parentNode}Re=Ce}g=_===-1||$===-1?null:{start:_,end:$}}else g=null}g=g||{start:0,end:0}}else g=null;for(iE={focusedElem:c,selectionRange:g},R0=!1,cs=h;cs!==null;)if(h=cs,c=h.child,(h.subtreeFlags&1028)!==0&&c!==null)c.return=h,cs=c;else for(;cs!==null;){switch(h=cs,T=h.alternate,c=h.flags,h.tag){case 0:break;case 11:case 15:break;case 1:if(c&1024&&T!==null){c=void 0,g=h,x=T.memoizedProps,T=T.memoizedState,v=g.stateNode;try{var et=Hd(g.type,x,g.elementType===g.type);c=v.getSnapshotBeforeUpdate(et,T),v.__reactInternalSnapshotBeforeUpdate=c}catch(Dt){Oi(g,g.return,Dt)}}break;case 3:if(c&1024){if(c=h.stateNode.containerInfo,g=c.nodeType,g===9)oE(c);else if(g===1)switch(c.nodeName){case"HEAD":case"HTML":case"BODY":oE(c);break;default:c.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(c&1024)throw Error(n(163))}if(c=h.sibling,c!==null){c.return=h.return,cs=c;break}cs=h.return}return et=wN,wN=!1,et}function SN(c,h,g){var v=g.flags;switch(g.tag){case 0:case 11:case 15:tc(c,g),v&4&&Vm(5,g);break;case 1:if(tc(c,g),v&4)if(c=g.stateNode,h===null)try{c.componentDidMount()}catch(_){Oi(g,g.return,_)}else{var x=Hd(g.type,h.memoizedProps);h=h.memoizedState;try{c.componentDidUpdate(x,h,c.__reactInternalSnapshotBeforeUpdate)}catch(_){Oi(g,g.return,_)}}v&64&&gN(g),v&512&&Vd(g,g.return);break;case 3:if(tc(c,g),v&64&&(v=g.updateQueue,v!==null)){if(c=null,g.child!==null)switch(g.child.tag){case 27:case 5:c=g.child.stateNode;break;case 1:c=g.child.stateNode}try{fN(v,c)}catch(_){Oi(g,g.return,_)}}break;case 26:tc(c,g),v&512&&Vd(g,g.return);break;case 27:case 5:tc(c,g),h===null&&v&4&&yN(g),v&512&&Vd(g,g.return);break;case 12:tc(c,g);break;case 13:tc(c,g),v&4&&DN(c,g);break;case 22:if(x=g.memoizedState!==null||Jl,!x){h=h!==null&&h.memoizedState!==null||wn;var T=Jl,N=wn;Jl=x,(wn=h)&&!N?du(c,g,(g.subtreeFlags&8772)!==0):tc(c,g),Jl=T,wn=N}v&512&&(g.memoizedProps.mode==="manual"?Vd(g,g.return):_r(g,g.return));break;default:tc(c,g)}}function xN(c){var h=c.alternate;h!==null&&(c.alternate=null,xN(h)),c.child=null,c.deletions=null,c.sibling=null,c.tag===5&&(h=c.stateNode,h!==null&&jl(h)),c.stateNode=null,c.return=null,c.dependencies=null,c.memoizedProps=null,c.memoizedState=null,c.pendingProps=null,c.stateNode=null,c.updateQueue=null}var Wn=null,jr=!1;function ec(c,h,g){for(g=g.child;g!==null;)MN(c,h,g),g=g.sibling}function MN(c,h,g){if(di&&typeof di.onCommitFiberUnmount=="function")try{di.onCommitFiberUnmount(Cn,g)}catch{}switch(g.tag){case 26:wn||_r(g,h),ec(c,h,g),g.memoizedState?g.memoizedState.count--:g.stateNode&&(g=g.stateNode,g.parentNode.removeChild(g));break;case 27:wn||_r(g,h);var v=Wn,x=jr;for(Wn=g.stateNode,ec(c,h,g),g=g.stateNode,h=g.attributes;h.length;)g.removeAttributeNode(h[0]);jl(g),Wn=v,jr=x;break;case 5:wn||_r(g,h);case 6:x=Wn;var T=jr;if(Wn=null,ec(c,h,g),Wn=x,jr=T,Wn!==null)if(jr)try{c=Wn,v=g.stateNode,c.nodeType===8?c.parentNode.removeChild(v):c.removeChild(v)}catch(N){Oi(g,h,N)}else try{Wn.removeChild(g.stateNode)}catch(N){Oi(g,h,N)}break;case 18:Wn!==null&&(jr?(h=Wn,g=g.stateNode,h.nodeType===8?rE(h.parentNode,g):h.nodeType===1&&rE(h,g),ay(h)):rE(Wn,g.stateNode));break;case 4:v=Wn,x=jr,Wn=g.stateNode.containerInfo,jr=!0,ec(c,h,g),Wn=v,jr=x;break;case 0:case 11:case 14:case 15:wn||uu(2,g,h),wn||uu(4,g,h),ec(c,h,g);break;case 1:wn||(_r(g,h),v=g.stateNode,typeof v.componentWillUnmount=="function"&&mN(g,h,v)),ec(c,h,g);break;case 21:ec(c,h,g);break;case 22:wn||_r(g,h),wn=(v=wn)||g.memoizedState!==null,ec(c,h,g),wn=v;break;default:ec(c,h,g)}}function DN(c,h){if(h.memoizedState===null&&(c=h.alternate,c!==null&&(c=c.memoizedState,c!==null&&(c=c.dehydrated,c!==null))))try{ay(c)}catch(g){Oi(h,h.return,g)}}function L7(c){switch(c.tag){case 13:case 19:var h=c.stateNode;return h===null&&(h=c.stateNode=new bN),h;case 22:return c=c.stateNode,h=c._retryCache,h===null&&(h=c._retryCache=new bN),h;default:throw Error(n(435,c.tag))}}function TR(c,h){var g=L7(c);h.forEach(function(v){var x=W7.bind(null,c,v);g.has(v)||(g.add(v),v.then(x,x))})}function Do(c,h){var g=h.deletions;if(g!==null)for(var v=0;v<g.length;v++){var x=g[v],T=c,N=h,_=N;e:for(;_!==null;){switch(_.tag){case 27:case 5:Wn=_.stateNode,jr=!1;break e;case 3:Wn=_.stateNode.containerInfo,jr=!0;break e;case 4:Wn=_.stateNode.containerInfo,jr=!0;break e}_=_.return}if(Wn===null)throw Error(n(160));MN(T,N,x),Wn=null,jr=!1,T=x.alternate,T!==null&&(T.return=null),x.return=null}if(h.subtreeFlags&13878)for(h=h.child;h!==null;)RN(h,c),h=h.sibling}var ua=null;function RN(c,h){var g=c.alternate,v=c.flags;switch(c.tag){case 0:case 11:case 14:case 15:Do(h,c),Ro(c),v&4&&(uu(3,c,c.return),Vm(3,c),uu(5,c,c.return));break;case 1:Do(h,c),Ro(c),v&512&&(wn||g===null||_r(g,g.return)),v&64&&Jl&&(c=c.updateQueue,c!==null&&(v=c.callbacks,v!==null&&(g=c.shared.hiddenCallbacks,c.shared.hiddenCallbacks=g===null?v:g.concat(v))));break;case 26:var x=ua;if(Do(h,c),Ro(c),v&512&&(wn||g===null||_r(g,g.return)),v&4){var T=g!==null?g.memoizedState:null;if(v=c.memoizedState,g===null)if(v===null)if(c.stateNode===null){e:{v=c.type,g=c.memoizedProps,x=x.ownerDocument||x;t:switch(v){case"title":T=x.getElementsByTagName("title")[0],(!T||T[mo]||T[Je]||T.namespaceURI==="http://www.w3.org/2000/svg"||T.hasAttribute("itemprop"))&&(T=x.createElement(v),x.head.insertBefore(T,x.querySelector("head > title"))),Rs(T,v,g),T[Je]=c,Gi(T),v=T;break e;case"link":var N=y2("link","href",x).get(v+(g.href||""));if(N){for(var _=0;_<N.length;_++)if(T=N[_],T.getAttribute("href")===(g.href==null?null:g.href)&&T.getAttribute("rel")===(g.rel==null?null:g.rel)&&T.getAttribute("title")===(g.title==null?null:g.title)&&T.getAttribute("crossorigin")===(g.crossOrigin==null?null:g.crossOrigin)){N.splice(_,1);break t}}T=x.createElement(v),Rs(T,v,g),x.head.appendChild(T);break;case"meta":if(N=y2("meta","content",x).get(v+(g.content||""))){for(_=0;_<N.length;_++)if(T=N[_],T.getAttribute("content")===(g.content==null?null:""+g.content)&&T.getAttribute("name")===(g.name==null?null:g.name)&&T.getAttribute("property")===(g.property==null?null:g.property)&&T.getAttribute("http-equiv")===(g.httpEquiv==null?null:g.httpEquiv)&&T.getAttribute("charset")===(g.charSet==null?null:g.charSet)){N.splice(_,1);break t}}T=x.createElement(v),Rs(T,v,g),x.head.appendChild(T);break;default:throw Error(n(468,v))}T[Je]=c,Gi(T),v=T}c.stateNode=v}else v2(x,c.type,c.stateNode);else c.stateNode=m2(x,v,c.memoizedProps);else T!==v?(T===null?g.stateNode!==null&&(g=g.stateNode,g.parentNode.removeChild(g)):T.count--,v===null?v2(x,c.type,c.stateNode):m2(x,v,c.memoizedProps)):v===null&&c.stateNode!==null&&vN(c,c.memoizedProps,g.memoizedProps)}break;case 27:if(v&4&&c.alternate===null){x=c.stateNode,T=c.memoizedProps;try{for(var $=x.firstChild;$;){var ne=$.nextSibling,be=$.nodeName;$[mo]||be==="HEAD"||be==="BODY"||be==="SCRIPT"||be==="STYLE"||be==="LINK"&&$.rel.toLowerCase()==="stylesheet"||x.removeChild($),$=ne}for(var Re=c.type,le=x.attributes;le.length;)x.removeAttributeNode(le[0]);Rs(x,Re,T),x[Je]=c,x[at]=T}catch(et){Oi(c,c.return,et)}}case 5:if(Do(h,c),Ro(c),v&512&&(wn||g===null||_r(g,g.return)),c.flags&32){x=c.stateNode;try{Pp(x,"")}catch(et){Oi(c,c.return,et)}}v&4&&c.stateNode!=null&&(x=c.memoizedProps,vN(c,x,g!==null?g.memoizedProps:x)),v&1024&&(ER=!0);break;case 6:if(Do(h,c),Ro(c),v&4){if(c.stateNode===null)throw Error(n(162));v=c.memoizedProps,g=c.stateNode;try{g.nodeValue=v}catch(et){Oi(c,c.return,et)}}break;case 3:if(x0=null,x=ua,ua=w0(h.containerInfo),Do(h,c),ua=x,Ro(c),v&4&&g!==null&&g.memoizedState.isDehydrated)try{ay(h.containerInfo)}catch(et){Oi(c,c.return,et)}ER&&(ER=!1,EN(c));break;case 4:v=ua,ua=w0(c.stateNode.containerInfo),Do(h,c),Ro(c),ua=v;break;case 12:Do(h,c),Ro(c);break;case 13:Do(h,c),Ro(c),c.child.flags&8192&&c.memoizedState!==null!=(g!==null&&g.memoizedState!==null)&&(BR=Ct()),v&4&&(v=c.updateQueue,v!==null&&(c.updateQueue=null,TR(c,v)));break;case 22:if(v&512&&(wn||g===null||_r(g,g.return)),$=c.memoizedState!==null,ne=g!==null&&g.memoizedState!==null,be=Jl,Re=wn,Jl=be||$,wn=Re||ne,Do(h,c),wn=Re,Jl=be,Ro(c),h=c.stateNode,h._current=c,h._visibility&=-3,h._visibility|=h._pendingVisibility&2,v&8192&&(h._visibility=$?h._visibility&-2:h._visibility|1,$&&(h=Jl||wn,g===null||ne||h||Zp(c)),c.memoizedProps===null||c.memoizedProps.mode!=="manual"))e:for(g=null,h=c;;){if(h.tag===5||h.tag===26||h.tag===27){if(g===null){ne=g=h;try{if(x=ne.stateNode,$)T=x.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{N=ne.stateNode,_=ne.memoizedProps.style;var Ce=_!=null&&_.hasOwnProperty("display")?_.display:null;N.style.display=Ce==null||typeof Ce=="boolean"?"":(""+Ce).trim()}}catch(et){Oi(ne,ne.return,et)}}}else if(h.tag===6){if(g===null){ne=h;try{ne.stateNode.nodeValue=$?"":ne.memoizedProps}catch(et){Oi(ne,ne.return,et)}}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===c)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===c)break e;for(;h.sibling===null;){if(h.return===null||h.return===c)break e;g===h&&(g=null),h=h.return}g===h&&(g=null),h.sibling.return=h.return,h=h.sibling}v&4&&(v=c.updateQueue,v!==null&&(g=v.retryQueue,g!==null&&(v.retryQueue=null,TR(c,g))));break;case 19:Do(h,c),Ro(c),v&4&&(v=c.updateQueue,v!==null&&(c.updateQueue=null,TR(c,v)));break;case 21:break;default:Do(h,c),Ro(c)}}function Ro(c){var h=c.flags;if(h&2){try{if(c.tag!==27){e:{for(var g=c.return;g!==null;){if(CN(g)){var v=g;break e}g=g.return}throw Error(n(160))}switch(v.tag){case 27:var x=v.stateNode,T=DR(c);o0(c,T,x);break;case 5:var N=v.stateNode;v.flags&32&&(Pp(N,""),v.flags&=-33);var _=DR(c);o0(c,_,N);break;case 3:case 4:var $=v.stateNode.containerInfo,ne=DR(c);RR(c,ne,$);break;default:throw Error(n(161))}}}catch(be){Oi(c,c.return,be)}c.flags&=-3}h&4096&&(c.flags&=-4097)}function EN(c){if(c.subtreeFlags&1024)for(c=c.child;c!==null;){var h=c;EN(h),h.tag===5&&h.flags&1024&&h.stateNode.reset(),c=c.sibling}}function tc(c,h){if(h.subtreeFlags&8772)for(h=h.child;h!==null;)SN(c,h.alternate,h),h=h.sibling}function Zp(c){for(c=c.child;c!==null;){var h=c;switch(h.tag){case 0:case 11:case 14:case 15:uu(4,h,h.return),Zp(h);break;case 1:_r(h,h.return);var g=h.stateNode;typeof g.componentWillUnmount=="function"&&mN(h,h.return,g),Zp(h);break;case 26:case 27:case 5:_r(h,h.return),Zp(h);break;case 22:_r(h,h.return),h.memoizedState===null&&Zp(h);break;default:Zp(h)}c=c.sibling}}function du(c,h,g){for(g=g&&(h.subtreeFlags&8772)!==0,h=h.child;h!==null;){var v=h.alternate,x=c,T=h,N=T.flags;switch(T.tag){case 0:case 11:case 15:du(x,T,g),Vm(4,T);break;case 1:if(du(x,T,g),v=T,x=v.stateNode,typeof x.componentDidMount=="function")try{x.componentDidMount()}catch(ne){Oi(v,v.return,ne)}if(v=T,x=v.updateQueue,x!==null){var _=v.stateNode;try{var $=x.shared.hiddenCallbacks;if($!==null)for(x.shared.hiddenCallbacks=null,x=0;x<$.length;x++)pN($[x],_)}catch(ne){Oi(v,v.return,ne)}}g&&N&64&&gN(T),Vd(T,T.return);break;case 26:case 27:case 5:du(x,T,g),g&&v===null&&N&4&&yN(T),Vd(T,T.return);break;case 12:du(x,T,g);break;case 13:du(x,T,g),g&&N&4&&DN(x,T);break;case 22:T.memoizedState===null&&du(x,T,g),Vd(T,T.return);break;default:du(x,T,g)}h=h.sibling}}function AR(c,h){var g=null;c!==null&&c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(g=c.memoizedState.cachePool.pool),c=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(c=h.memoizedState.cachePool.pool),c!==g&&(c!=null&&c.refCount++,g!=null&&Pm(g))}function IR(c,h){c=null,h.alternate!==null&&(c=h.alternate.memoizedState.cache),h=h.memoizedState.cache,h!==c&&(h.refCount++,c!=null&&Pm(c))}function hu(c,h,g,v){if(h.subtreeFlags&10256)for(h=h.child;h!==null;)TN(c,h,g,v),h=h.sibling}function TN(c,h,g,v){var x=h.flags;switch(h.tag){case 0:case 11:case 15:hu(c,h,g,v),x&2048&&Vm(9,h);break;case 3:hu(c,h,g,v),x&2048&&(c=null,h.alternate!==null&&(c=h.alternate.memoizedState.cache),h=h.memoizedState.cache,h!==c&&(h.refCount++,c!=null&&Pm(c)));break;case 12:if(x&2048){hu(c,h,g,v),c=h.stateNode;try{var T=h.memoizedProps,N=T.id,_=T.onPostCommit;typeof _=="function"&&_(N,h.alternate===null?"mount":"update",c.passiveEffectDuration,-0)}catch($){Oi(h,h.return,$)}}else hu(c,h,g,v);break;case 23:break;case 22:T=h.stateNode,h.memoizedState!==null?T._visibility&4?hu(c,h,g,v):Wm(c,h):T._visibility&4?hu(c,h,g,v):(T._visibility|=4,Xp(c,h,g,v,(h.subtreeFlags&10256)!==0)),x&2048&&AR(h.alternate,h);break;case 24:hu(c,h,g,v),x&2048&&IR(h.alternate,h);break;default:hu(c,h,g,v)}}function Xp(c,h,g,v,x){for(x=x&&(h.subtreeFlags&10256)!==0,h=h.child;h!==null;){var T=c,N=h,_=g,$=v,ne=N.flags;switch(N.tag){case 0:case 11:case 15:Xp(T,N,_,$,x),Vm(8,N);break;case 23:break;case 22:var be=N.stateNode;N.memoizedState!==null?be._visibility&4?Xp(T,N,_,$,x):Wm(T,N):(be._visibility|=4,Xp(T,N,_,$,x)),x&&ne&2048&&AR(N.alternate,N);break;case 24:Xp(T,N,_,$,x),x&&ne&2048&&IR(N.alternate,N);break;default:Xp(T,N,_,$,x)}h=h.sibling}}function Wm(c,h){if(h.subtreeFlags&10256)for(h=h.child;h!==null;){var g=c,v=h,x=v.flags;switch(v.tag){case 22:Wm(g,v),x&2048&&AR(v.alternate,v);break;case 24:Wm(g,v),x&2048&&IR(v.alternate,v);break;default:Wm(g,v)}h=h.sibling}}var Um=8192;function Qp(c){if(c.subtreeFlags&Um)for(c=c.child;c!==null;)AN(c),c=c.sibling}function AN(c){switch(c.tag){case 26:Qp(c),c.flags&Um&&c.memoizedState!==null&&C9(ua,c.memoizedState,c.memoizedProps);break;case 5:Qp(c);break;case 3:case 4:var h=ua;ua=w0(c.stateNode.containerInfo),Qp(c),ua=h;break;case 22:c.memoizedState===null&&(h=c.alternate,h!==null&&h.memoizedState!==null?(h=Um,Um=16777216,Qp(c),Um=h):Qp(c));break;default:Qp(c)}}function IN(c){var h=c.alternate;if(h!==null&&(c=h.child,c!==null)){h.child=null;do h=c.sibling,c.sibling=null,c=h;while(c!==null)}}function $m(c){var h=c.deletions;if(c.flags&16){if(h!==null)for(var g=0;g<h.length;g++){var v=h[g];cs=v,kN(v,c)}IN(c)}if(c.subtreeFlags&10256)for(c=c.child;c!==null;)LN(c),c=c.sibling}function LN(c){switch(c.tag){case 0:case 11:case 15:$m(c),c.flags&2048&&uu(9,c,c.return);break;case 3:$m(c);break;case 12:$m(c);break;case 22:var h=c.stateNode;c.memoizedState!==null&&h._visibility&4&&(c.return===null||c.return.tag!==13)?(h._visibility&=-5,a0(c)):$m(c);break;default:$m(c)}}function a0(c){var h=c.deletions;if(c.flags&16){if(h!==null)for(var g=0;g<h.length;g++){var v=h[g];cs=v,kN(v,c)}IN(c)}for(c=c.child;c!==null;){switch(h=c,h.tag){case 0:case 11:case 15:uu(8,h,h.return),a0(h);break;case 22:g=h.stateNode,g._visibility&4&&(g._visibility&=-5,a0(h));break;default:a0(h)}c=c.sibling}}function kN(c,h){for(;cs!==null;){var g=cs;switch(g.tag){case 0:case 11:case 15:uu(8,g,h);break;case 23:case 22:if(g.memoizedState!==null&&g.memoizedState.cachePool!==null){var v=g.memoizedState.cachePool.pool;v!=null&&v.refCount++}break;case 24:Pm(g.memoizedState.cache)}if(v=g.child,v!==null)v.return=g,cs=v;else e:for(g=c;cs!==null;){v=cs;var x=v.sibling,T=v.return;if(xN(v),v===g){cs=null;break e}if(x!==null){x.return=T,cs=x;break e}cs=T}}}function k7(c,h,g,v){this.tag=c,this.key=g,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=h,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=v,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Eo(c,h,g,v){return new k7(c,h,g,v)}function LR(c){return c=c.prototype,!(!c||!c.isReactComponent)}function pu(c,h){var g=c.alternate;return g===null?(g=Eo(c.tag,h,c.key,c.mode),g.elementType=c.elementType,g.type=c.type,g.stateNode=c.stateNode,g.alternate=c,c.alternate=g):(g.pendingProps=h,g.type=c.type,g.flags=0,g.subtreeFlags=0,g.deletions=null),g.flags=c.flags&31457280,g.childLanes=c.childLanes,g.lanes=c.lanes,g.child=c.child,g.memoizedProps=c.memoizedProps,g.memoizedState=c.memoizedState,g.updateQueue=c.updateQueue,h=c.dependencies,g.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext},g.sibling=c.sibling,g.index=c.index,g.ref=c.ref,g.refCleanup=c.refCleanup,g}function PN(c,h){c.flags&=31457282;var g=c.alternate;return g===null?(c.childLanes=0,c.lanes=h,c.child=null,c.subtreeFlags=0,c.memoizedProps=null,c.memoizedState=null,c.updateQueue=null,c.dependencies=null,c.stateNode=null):(c.childLanes=g.childLanes,c.lanes=g.lanes,c.child=g.child,c.subtreeFlags=0,c.deletions=null,c.memoizedProps=g.memoizedProps,c.memoizedState=g.memoizedState,c.updateQueue=g.updateQueue,c.type=g.type,h=g.dependencies,c.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext}),c}function l0(c,h,g,v,x,T){var N=0;if(v=c,typeof c=="function")LR(c)&&(N=1);else if(typeof c=="string")N=y9(c,g,xe.current)?26:c==="html"||c==="head"||c==="body"?27:5;else e:switch(c){case l:return Wd(g.children,x,T,h);case u:N=8,x|=24;break;case d:return c=Eo(12,g,h,x|2),c.elementType=d,c.lanes=T,c;case C:return c=Eo(13,g,h,x),c.elementType=C,c.lanes=T,c;case w:return c=Eo(19,g,h,x),c.elementType=w,c.lanes=T,c;case M:return FN(g,x,T,h);default:if(typeof c=="object"&&c!==null)switch(c.$$typeof){case p:case m:N=10;break e;case f:N=9;break e;case y:N=11;break e;case b:N=14;break e;case S:N=16,v=null;break e}N=29,g=Error(n(130,c===null?"null":typeof c,"")),v=null}return h=Eo(N,g,h,x),h.elementType=c,h.type=v,h.lanes=T,h}function Wd(c,h,g,v){return c=Eo(7,c,v,h),c.lanes=g,c}function FN(c,h,g,v){c=Eo(22,c,v,h),c.elementType=M,c.lanes=g;var x={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var T=x._current;if(T===null)throw Error(n(456));if(!(x._pendingVisibility&2)){var N=tu(T,2);N!==null&&(x._pendingVisibility|=2,nr(N,T,2))}},attach:function(){var T=x._current;if(T===null)throw Error(n(456));if(x._pendingVisibility&2){var N=tu(T,2);N!==null&&(x._pendingVisibility&=-3,nr(N,T,2))}}};return c.stateNode=x,c}function kR(c,h,g){return c=Eo(6,c,null,h),c.lanes=g,c}function PR(c,h,g){return h=Eo(4,c.children!==null?c.children:[],c.key,h),h.lanes=g,h.stateNode={containerInfo:c.containerInfo,pendingChildren:null,implementation:c.implementation},h}function ic(c){c.flags|=4}function ON(c,h){if(h.type!=="stylesheet"||h.state.loading&4)c.flags&=-16777217;else if(c.flags|=16777216,!C2(h)){if(h=Mo.current,h!==null&&((ti&4194176)===ti?Ka!==null:(ti&62914560)!==ti&&!(ti&536870912)||h!==Ka))throw Im=zD,QF;c.flags|=8192}}function c0(c,h){h!==null&&(c.flags|=4),c.flags&16384&&(h=c.tag!==22?X():536870912,c.lanes|=h,ef|=h)}function Ym(c,h){if(!oi)switch(c.tailMode){case"hidden":h=c.tail;for(var g=null;h!==null;)h.alternate!==null&&(g=h),h=h.sibling;g===null?c.tail=null:g.sibling=null;break;case"collapsed":g=c.tail;for(var v=null;g!==null;)g.alternate!==null&&(v=g),g=g.sibling;v===null?h||c.tail===null?c.tail=null:c.tail.sibling=null:v.sibling=null}}function on(c){var h=c.alternate!==null&&c.alternate.child===c.child,g=0,v=0;if(h)for(var x=c.child;x!==null;)g|=x.lanes|x.childLanes,v|=x.subtreeFlags&31457280,v|=x.flags&31457280,x.return=c,x=x.sibling;else for(x=c.child;x!==null;)g|=x.lanes|x.childLanes,v|=x.subtreeFlags,v|=x.flags,x.return=c,x=x.sibling;return c.subtreeFlags|=v,c.childLanes=g,h}function P7(c,h,g){var v=h.pendingProps;switch(ND(h),h.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return on(h),null;case 1:return on(h),null;case 3:return g=h.stateNode,v=null,c!==null&&(v=c.memoizedState.cache),h.memoizedState.cache!==v&&(h.flags|=2048),Ql(Qn),tt(),g.pendingContext&&(g.context=g.pendingContext,g.pendingContext=null),(c===null||c.child===null)&&(Rm(h)?ic(h):c===null||c.memoizedState.isDehydrated&&!(h.flags&256)||(h.flags|=1024,ca!==null&&(_R(ca),ca=null))),on(h),null;case 26:return g=h.memoizedState,c===null?(ic(h),g!==null?(on(h),ON(h,g)):(on(h),h.flags&=-16777217)):g?g!==c.memoizedState?(ic(h),on(h),ON(h,g)):(on(h),h.flags&=-16777217):(c.memoizedProps!==v&&ic(h),on(h),h.flags&=-16777217),null;case 27:Ke(h),g=Fe.current;var x=h.type;if(c!==null&&h.stateNode!=null)c.memoizedProps!==v&&ic(h);else{if(!v){if(h.stateNode===null)throw Error(n(166));return on(h),null}c=xe.current,Rm(h)?ZF(h):(c=d2(x,v,g),h.stateNode=c,ic(h))}return on(h),null;case 5:if(Ke(h),g=h.type,c!==null&&h.stateNode!=null)c.memoizedProps!==v&&ic(h);else{if(!v){if(h.stateNode===null)throw Error(n(166));return on(h),null}if(c=xe.current,Rm(h))ZF(h);else{switch(x=b0(Fe.current),c){case 1:c=x.createElementNS("http://www.w3.org/2000/svg",g);break;case 2:c=x.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;default:switch(g){case"svg":c=x.createElementNS("http://www.w3.org/2000/svg",g);break;case"math":c=x.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;case"script":c=x.createElement("div"),c.innerHTML="<script><\/script>",c=c.removeChild(c.firstChild);break;case"select":c=typeof v.is=="string"?x.createElement("select",{is:v.is}):x.createElement("select"),v.multiple?c.multiple=!0:v.size&&(c.size=v.size);break;default:c=typeof v.is=="string"?x.createElement(g,{is:v.is}):x.createElement(g)}}c[Je]=h,c[at]=v;e:for(x=h.child;x!==null;){if(x.tag===5||x.tag===6)c.appendChild(x.stateNode);else if(x.tag!==4&&x.tag!==27&&x.child!==null){x.child.return=x,x=x.child;continue}if(x===h)break e;for(;x.sibling===null;){if(x.return===null||x.return===h)break e;x=x.return}x.sibling.return=x.return,x=x.sibling}h.stateNode=c;e:switch(Rs(c,g,v),g){case"button":case"input":case"select":case"textarea":c=!!v.autoFocus;break e;case"img":c=!0;break e;default:c=!1}c&&ic(h)}}return on(h),h.flags&=-16777217,null;case 6:if(c&&h.stateNode!=null)c.memoizedProps!==v&&ic(h);else{if(typeof v!="string"&&h.stateNode===null)throw Error(n(166));if(c=Fe.current,Rm(h)){if(c=h.stateNode,g=h.memoizedProps,v=null,x=ir,x!==null)switch(x.tag){case 27:case 5:v=x.memoizedProps}c[Je]=h,c=!!(c.nodeValue===g||v!==null&&v.suppressHydrationWarning===!0||r2(c.nodeValue,g)),c||Fd(h)}else c=b0(c).createTextNode(v),c[Je]=h,h.stateNode=c}return on(h),null;case 13:if(v=h.memoizedState,c===null||c.memoizedState!==null&&c.memoizedState.dehydrated!==null){if(x=Rm(h),v!==null&&v.dehydrated!==null){if(c===null){if(!x)throw Error(n(318));if(x=h.memoizedState,x=x!==null?x.dehydrated:null,!x)throw Error(n(317));x[Je]=h}else Em(),!(h.flags&128)&&(h.memoizedState=null),h.flags|=4;on(h),x=!1}else ca!==null&&(_R(ca),ca=null),x=!0;if(!x)return h.flags&256?(Kl(h),h):(Kl(h),null)}if(Kl(h),h.flags&128)return h.lanes=g,h;if(g=v!==null,c=c!==null&&c.memoizedState!==null,g){v=h.child,x=null,v.alternate!==null&&v.alternate.memoizedState!==null&&v.alternate.memoizedState.cachePool!==null&&(x=v.alternate.memoizedState.cachePool.pool);var T=null;v.memoizedState!==null&&v.memoizedState.cachePool!==null&&(T=v.memoizedState.cachePool.pool),T!==x&&(v.flags|=2048)}return g!==c&&g&&(h.child.flags|=8192),c0(h,h.updateQueue),on(h),null;case 4:return tt(),c===null&&QR(h.stateNode.containerInfo),on(h),null;case 10:return Ql(h.type),on(h),null;case 19:if(pe(Xn),x=h.memoizedState,x===null)return on(h),null;if(v=(h.flags&128)!==0,T=x.rendering,T===null)if(v)Ym(x,!1);else{if(Sn!==0||c!==null&&c.flags&128)for(c=h.child;c!==null;){if(T=$b(c),T!==null){for(h.flags|=128,Ym(x,!1),c=T.updateQueue,h.updateQueue=c,c0(h,c),h.subtreeFlags=0,c=g,g=h.child;g!==null;)PN(g,c),g=g.sibling;return ae(Xn,Xn.current&1|2),h.child}c=c.sibling}x.tail!==null&&Ct()>u0&&(h.flags|=128,v=!0,Ym(x,!1),h.lanes=4194304)}else{if(!v)if(c=$b(T),c!==null){if(h.flags|=128,v=!0,c=c.updateQueue,h.updateQueue=c,c0(h,c),Ym(x,!0),x.tail===null&&x.tailMode==="hidden"&&!T.alternate&&!oi)return on(h),null}else 2*Ct()-x.renderingStartTime>u0&&g!==536870912&&(h.flags|=128,v=!0,Ym(x,!1),h.lanes=4194304);x.isBackwards?(T.sibling=h.child,h.child=T):(c=x.last,c!==null?c.sibling=T:h.child=T,x.last=T)}return x.tail!==null?(h=x.tail,x.rendering=h,x.tail=h.sibling,x.renderingStartTime=Ct(),h.sibling=null,c=Xn.current,ae(Xn,v?c&1|2:c&1),h):(on(h),null);case 22:case 23:return Kl(h),HD(),v=h.memoizedState!==null,c!==null?c.memoizedState!==null!==v&&(h.flags|=8192):v&&(h.flags|=8192),v?g&536870912&&!(h.flags&128)&&(on(h),h.subtreeFlags&6&&(h.flags|=8192)):on(h),g=h.updateQueue,g!==null&&c0(h,g.retryQueue),g=null,c!==null&&c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(g=c.memoizedState.cachePool.pool),v=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(v=h.memoizedState.cachePool.pool),v!==g&&(h.flags|=2048),c!==null&&pe(Nd),null;case 24:return g=null,c!==null&&(g=c.memoizedState.cache),h.memoizedState.cache!==g&&(h.flags|=2048),Ql(Qn),on(h),null;case 25:return null}throw Error(n(156,h.tag))}function F7(c,h){switch(ND(h),h.tag){case 1:return c=h.flags,c&65536?(h.flags=c&-65537|128,h):null;case 3:return Ql(Qn),tt(),c=h.flags,c&65536&&!(c&128)?(h.flags=c&-65537|128,h):null;case 26:case 27:case 5:return Ke(h),null;case 13:if(Kl(h),c=h.memoizedState,c!==null&&c.dehydrated!==null){if(h.alternate===null)throw Error(n(340));Em()}return c=h.flags,c&65536?(h.flags=c&-65537|128,h):null;case 19:return pe(Xn),null;case 4:return tt(),null;case 10:return Ql(h.type),null;case 22:case 23:return Kl(h),HD(),c!==null&&pe(Nd),c=h.flags,c&65536?(h.flags=c&-65537|128,h):null;case 24:return Ql(Qn),null;case 25:return null;default:return null}}function NN(c,h){switch(ND(h),h.tag){case 3:Ql(Qn),tt();break;case 26:case 27:case 5:Ke(h);break;case 4:tt();break;case 13:Kl(h);break;case 19:pe(Xn);break;case 10:Ql(h.type);break;case 22:case 23:Kl(h),HD(),c!==null&&pe(Nd);break;case 24:Ql(Qn)}}var O7={getCacheForType:function(c){var h=js(Qn),g=h.data.get(c);return g===void 0&&(g=c(),h.data.set(c,g)),g}},N7=typeof WeakMap=="function"?WeakMap:Map,an=0,Hi=null,Ut=null,ti=0,_i=0,Vr=null,nc=!1,Jp=!1,FR=!1,sc=0,Sn=0,fu=0,Ud=0,OR=0,To=0,ef=0,Km=null,Za=null,NR=!1,BR=0,u0=1/0,d0=null,gu=null,h0=!1,$d=null,qm=0,zR=0,GR=null,Zm=0,HR=null;function Wr(){if(an&2&&ti!==0)return ti&-ti;if(P.T!==null){var c=Up;return c!==0?c:KR()}return Ze()}function BN(){To===0&&(To=!(ti&536870912)||oi?Mt():536870912);var c=Mo.current;return c!==null&&(c.flags|=32),To}function nr(c,h,g){(c===Hi&&_i===2||c.cancelPendingCommit!==null)&&(tf(c,0),rc(c,ti,To,!1)),he(c,g),(!(an&2)||c!==Hi)&&(c===Hi&&(!(an&2)&&(Ud|=g),Sn===4&&rc(c,ti,To,!1)),Xa(c))}function zN(c,h,g){if(an&6)throw Error(n(327));var v=!g&&(h&60)===0&&(h&c.expiredLanes)===0||go(c,h),x=v?G7(c,h):WR(c,h,!0),T=v;do{if(x===0){Jp&&!v&&rc(c,h,0,!1);break}else if(x===6)rc(c,h,0,!nc);else{if(g=c.current.alternate,T&&!B7(g)){x=WR(c,h,!1),T=!1;continue}if(x===2){if(T=h,c.errorRecoveryDisabledLanes&T)var N=0;else N=c.pendingLanes&-536870913,N=N!==0?N:N&536870912?536870912:0;if(N!==0){h=N;e:{var _=c;x=Km;var $=_.current.memoizedState.isDehydrated;if($&&(tf(_,N).flags|=256),N=WR(_,N,!1),N!==2){if(FR&&!$){_.errorRecoveryDisabledLanes|=T,Ud|=T,x=4;break e}T=Za,Za=x,T!==null&&_R(T)}x=N}if(T=!1,x!==2)continue}}if(x===1){tf(c,0),rc(c,h,0,!0);break}e:{switch(v=c,x){case 0:case 1:throw Error(n(345));case 4:if((h&4194176)===h){rc(v,h,To,!nc);break e}break;case 2:Za=null;break;case 3:case 5:break;default:throw Error(n(329))}if(v.finishedWork=g,v.finishedLanes=h,(h&62914560)===h&&(T=BR+300-Ct(),10<T)){if(rc(v,h,To,!nc),aa(v,0)!==0)break e;v.timeoutHandle=l2(GN.bind(null,v,g,Za,d0,NR,h,To,Ud,ef,nc,2,-0,0),T);break e}GN(v,g,Za,d0,NR,h,To,Ud,ef,nc,0,-0,0)}}break}while(!0);Xa(c)}function _R(c){Za===null?Za=c:Za.push.apply(Za,c)}function GN(c,h,g,v,x,T,N,_,$,ne,be,Re,le){var Ce=h.subtreeFlags;if((Ce&8192||(Ce&16785408)===16785408)&&(iy={stylesheets:null,count:0,unsuspend:v9},AN(h),h=b9(),h!==null)){c.cancelPendingCommit=h($N.bind(null,c,g,v,x,N,_,$,1,Re,le)),rc(c,T,N,!ne);return}$N(c,g,v,x,N,_,$,be,Re,le)}function B7(c){for(var h=c;;){var g=h.tag;if((g===0||g===11||g===15)&&h.flags&16384&&(g=h.updateQueue,g!==null&&(g=g.stores,g!==null)))for(var v=0;v<g.length;v++){var x=g[v],T=x.getSnapshot;x=x.value;try{if(!Hr(T(),x))return!1}catch{return!1}}if(g=h.child,h.subtreeFlags&16384&&g!==null)g.return=h,h=g;else{if(h===c)break;for(;h.sibling===null;){if(h.return===null||h.return===c)return!0;h=h.return}h.sibling.return=h.return,h=h.sibling}}return!0}function rc(c,h,g,v){h&=~OR,h&=~Ud,c.suspendedLanes|=h,c.pingedLanes&=~h,v&&(c.warmLanes|=h),v=c.expirationTimes;for(var x=h;0<x;){var T=31-_t(x),N=1<<T;v[T]=-1,x&=~N}g!==0&&Ye(c,g,h)}function p0(){return an&6?!0:(Xm(0),!1)}function jR(){if(Ut!==null){if(_i===0)var c=Ut.return;else c=Ut,Xl=_d=null,KD(c),Vp=null,Lm=0,c=Ut;for(;c!==null;)NN(c.alternate,c),c=c.return;Ut=null}}function tf(c,h){c.finishedWork=null,c.finishedLanes=0;var g=c.timeoutHandle;g!==-1&&(c.timeoutHandle=-1,i9(g)),g=c.cancelPendingCommit,g!==null&&(c.cancelPendingCommit=null,g()),jR(),Hi=c,Ut=g=pu(c.current,null),ti=h,_i=0,Vr=null,nc=!1,Jp=go(c,h),FR=!1,ef=To=OR=Ud=fu=Sn=0,Za=Km=null,NR=!1,h&8&&(h|=h&32);var v=c.entangledLanes;if(v!==0)for(c=c.entanglements,v&=h;0<v;){var x=31-_t(v),T=1<<x;h|=c[x],v&=~T}return sc=h,Bb(),g}function HN(c,h){zt=null,P.H=qa,h===Am?(h=tO(),_i=3):h===QF?(h=tO(),_i=4):_i=h===JO?8:h!==null&&typeof h=="object"&&typeof h.then=="function"?6:1,Vr=h,Ut===null&&(Sn=1,n0(c,wo(h,c.current)))}function _N(){var c=P.H;return P.H=qa,c===null?qa:c}function jN(){var c=P.A;return P.A=O7,c}function VR(){Sn=4,nc||(ti&4194176)!==ti&&Mo.current!==null||(Jp=!0),!(fu&134217727)&&!(Ud&134217727)||Hi===null||rc(Hi,ti,To,!1)}function WR(c,h,g){var v=an;an|=2;var x=_N(),T=jN();(Hi!==c||ti!==h)&&(d0=null,tf(c,h)),h=!1;var N=Sn;e:do try{if(_i!==0&&Ut!==null){var _=Ut,$=Vr;switch(_i){case 8:jR(),N=6;break e;case 3:case 2:case 6:Mo.current===null&&(h=!0);var ne=_i;if(_i=0,Vr=null,nf(c,_,$,ne),g&&Jp){N=0;break e}break;default:ne=_i,_i=0,Vr=null,nf(c,_,$,ne)}}z7(),N=Sn;break}catch(be){HN(c,be)}while(!0);return h&&c.shellSuspendCounter++,Xl=_d=null,an=v,P.H=x,P.A=T,Ut===null&&(Hi=null,ti=0,Bb()),N}function z7(){for(;Ut!==null;)VN(Ut)}function G7(c,h){var g=an;an|=2;var v=_N(),x=jN();Hi!==c||ti!==h?(d0=null,u0=Ct()+500,tf(c,h)):Jp=go(c,h);e:do try{if(_i!==0&&Ut!==null){h=Ut;var T=Vr;t:switch(_i){case 1:_i=0,Vr=null,nf(c,h,T,1);break;case 2:if(JF(T)){_i=0,Vr=null,WN(h);break}h=function(){_i===2&&Hi===c&&(_i=7),Xa(c)},T.then(h,h);break e;case 3:_i=7;break e;case 4:_i=5;break e;case 7:JF(T)?(_i=0,Vr=null,WN(h)):(_i=0,Vr=null,nf(c,h,T,7));break;case 5:var N=null;switch(Ut.tag){case 26:N=Ut.memoizedState;case 5:case 27:var _=Ut;if(!N||C2(N)){_i=0,Vr=null;var $=_.sibling;if($!==null)Ut=$;else{var ne=_.return;ne!==null?(Ut=ne,f0(ne)):Ut=null}break t}}_i=0,Vr=null,nf(c,h,T,5);break;case 6:_i=0,Vr=null,nf(c,h,T,6);break;case 8:jR(),Sn=6;break e;default:throw Error(n(462))}}H7();break}catch(be){HN(c,be)}while(!0);return Xl=_d=null,P.H=v,P.A=x,an=g,Ut!==null?0:(Hi=null,ti=0,Bb(),Sn)}function H7(){for(;Ut!==null&&!Pe();)VN(Ut)}function VN(c){var h=dN(c.alternate,c,sc);c.memoizedProps=c.pendingProps,h===null?f0(c):Ut=h}function WN(c){var h=c,g=h.alternate;switch(h.tag){case 15:case 0:h=rN(g,h,h.pendingProps,h.type,void 0,ti);break;case 11:h=rN(g,h,h.pendingProps,h.type.render,h.ref,ti);break;case 5:KD(h);default:NN(g,h),h=Ut=PN(h,sc),h=dN(g,h,sc)}c.memoizedProps=c.pendingProps,h===null?f0(c):Ut=h}function nf(c,h,g,v){Xl=_d=null,KD(h),Vp=null,Lm=0;var x=h.return;try{if(T7(c,x,h,g,ti)){Sn=1,n0(c,wo(g,c.current)),Ut=null;return}}catch(T){if(x!==null)throw Ut=x,T;Sn=1,n0(c,wo(g,c.current)),Ut=null;return}h.flags&32768?(oi||v===1?c=!0:Jp||ti&536870912?c=!1:(nc=c=!0,(v===2||v===3||v===6)&&(v=Mo.current,v!==null&&v.tag===13&&(v.flags|=16384))),UN(h,c)):f0(h)}function f0(c){var h=c;do{if(h.flags&32768){UN(h,nc);return}c=h.return;var g=P7(h.alternate,h,sc);if(g!==null){Ut=g;return}if(h=h.sibling,h!==null){Ut=h;return}Ut=h=c}while(h!==null);Sn===0&&(Sn=5)}function UN(c,h){do{var g=F7(c.alternate,c);if(g!==null){g.flags&=32767,Ut=g;return}if(g=c.return,g!==null&&(g.flags|=32768,g.subtreeFlags=0,g.deletions=null),!h&&(c=c.sibling,c!==null)){Ut=c;return}Ut=c=g}while(c!==null);Sn=6,Ut=null}function $N(c,h,g,v,x,T,N,_,$,ne){var be=P.T,Re=Q.p;try{Q.p=2,P.T=null,_7(c,h,g,v,Re,x,T,N,_,$,ne)}finally{P.T=be,Q.p=Re}}function _7(c,h,g,v,x,T,N,_){do sf();while($d!==null);if(an&6)throw Error(n(327));var $=c.finishedWork;if(v=c.finishedLanes,$===null)return null;if(c.finishedWork=null,c.finishedLanes=0,$===c.current)throw Error(n(177));c.callbackNode=null,c.callbackPriority=0,c.cancelPendingCommit=null;var ne=$.lanes|$.childLanes;if(ne|=PD,Ee(c,v,ne,T,N,_),c===Hi&&(Ut=Hi=null,ti=0),!($.subtreeFlags&10256)&&!($.flags&10256)||h0||(h0=!0,zR=ne,GR=g,U7(Et,function(){return sf(),null})),g=($.flags&15990)!==0,$.subtreeFlags&15990||g?(g=P.T,P.T=null,T=Q.p,Q.p=2,N=an,an|=4,I7(c,$),RN($,c),d7(iE,c.containerInfo),R0=!!tE,iE=tE=null,c.current=$,SN(c,$.alternate,$),Nt(),an=N,Q.p=T,P.T=g):c.current=$,h0?(h0=!1,$d=c,qm=v):YN(c,ne),ne=c.pendingLanes,ne===0&&(gu=null),ot($.stateNode),Xa(c),h!==null)for(x=c.onRecoverableError,$=0;$<h.length;$++)ne=h[$],x(ne.value,{componentStack:ne.stack});return qm&3&&sf(),ne=c.pendingLanes,v&4194218&&ne&42?c===HR?Zm++:(Zm=0,HR=c):Zm=0,Xm(0),null}function YN(c,h){(c.pooledCacheLanes&=h)===0&&(h=c.pooledCache,h!=null&&(c.pooledCache=null,Pm(h)))}function sf(){if($d!==null){var c=$d,h=zR;zR=0;var g=vt(qm),v=P.T,x=Q.p;try{if(Q.p=32>g?32:g,P.T=null,$d===null)var T=!1;else{g=GR,GR=null;var N=$d,_=qm;if($d=null,qm=0,an&6)throw Error(n(331));var $=an;if(an|=4,LN(N.current),TN(N,N.current,_,g),an=$,Xm(0,!1),di&&typeof di.onPostCommitFiberRoot=="function")try{di.onPostCommitFiberRoot(Cn,N)}catch{}T=!0}return T}finally{Q.p=x,P.T=v,YN(c,h)}}return!1}function KN(c,h,g){h=wo(g,h),h=lR(c.stateNode,h,2),c=cu(c,h,2),c!==null&&(he(c,2),Xa(c))}function Oi(c,h,g){if(c.tag===3)KN(c,c,g);else for(;h!==null;){if(h.tag===3){KN(h,c,g);break}else if(h.tag===1){var v=h.stateNode;if(typeof h.type.getDerivedStateFromError=="function"||typeof v.componentDidCatch=="function"&&(gu===null||!gu.has(v))){c=wo(g,c),g=XO(2),v=cu(h,g,2),v!==null&&(QO(g,v,h,c),he(v,2),Xa(v));break}}h=h.return}}function UR(c,h,g){var v=c.pingCache;if(v===null){v=c.pingCache=new N7;var x=new Set;v.set(h,x)}else x=v.get(h),x===void 0&&(x=new Set,v.set(h,x));x.has(g)||(FR=!0,x.add(g),c=j7.bind(null,c,h,g),h.then(c,c))}function j7(c,h,g){var v=c.pingCache;v!==null&&v.delete(h),c.pingedLanes|=c.suspendedLanes&g,c.warmLanes&=~g,Hi===c&&(ti&g)===g&&(Sn===4||Sn===3&&(ti&62914560)===ti&&300>Ct()-BR?!(an&2)&&tf(c,0):OR|=g,ef===ti&&(ef=0)),Xa(c)}function qN(c,h){h===0&&(h=X()),c=tu(c,h),c!==null&&(he(c,h),Xa(c))}function V7(c){var h=c.memoizedState,g=0;h!==null&&(g=h.retryLane),qN(c,g)}function W7(c,h){var g=0;switch(c.tag){case 13:var v=c.stateNode,x=c.memoizedState;x!==null&&(g=x.retryLane);break;case 19:v=c.stateNode;break;case 22:v=c.stateNode._retryCache;break;default:throw Error(n(314))}v!==null&&v.delete(h),qN(c,g)}function U7(c,h){return qe(c,h)}var g0=null,rf=null,$R=!1,m0=!1,YR=!1,Yd=0;function Xa(c){c!==rf&&c.next===null&&(rf===null?g0=rf=c:rf=rf.next=c),m0=!0,$R||($R=!0,Y7($7))}function Xm(c,h){if(!YR&&m0){YR=!0;do for(var g=!1,v=g0;v!==null;){if(c!==0){var x=v.pendingLanes;if(x===0)var T=0;else{var N=v.suspendedLanes,_=v.pingedLanes;T=(1<<31-_t(42|c)+1)-1,T&=x&~(N&~_),T=T&201326677?T&201326677|1:T?T|2:0}T!==0&&(g=!0,QN(v,T))}else T=ti,T=aa(v,v===Hi?T:0),!(T&3)||go(v,T)||(g=!0,QN(v,T));v=v.next}while(g);YR=!1}}function $7(){m0=$R=!1;var c=0;Yd!==0&&(t9()&&(c=Yd),Yd=0);for(var h=Ct(),g=null,v=g0;v!==null;){var x=v.next,T=ZN(v,h);T===0?(v.next=null,g===null?g0=x:g.next=x,x===null&&(rf=g)):(g=v,(c!==0||T&3)&&(m0=!0)),v=x}Xm(c)}function ZN(c,h){for(var g=c.suspendedLanes,v=c.pingedLanes,x=c.expirationTimes,T=c.pendingLanes&-62914561;0<T;){var N=31-_t(T),_=1<<N,$=x[N];$===-1?(!(_&g)||_&v)&&(x[N]=mm(_,h)):$<=h&&(c.expiredLanes|=_),T&=~_}if(h=Hi,g=ti,g=aa(c,c===h?g:0),v=c.callbackNode,g===0||c===h&&_i===2||c.cancelPendingCommit!==null)return v!==null&&v!==null&&Ve(v),c.callbackNode=null,c.callbackPriority=0;if(!(g&3)||go(c,g)){if(h=g&-g,h===c.callbackPriority)return h;switch(v!==null&&Ve(v),vt(g)){case 2:case 8:g=Ei;break;case 32:g=Et;break;case 268435456:g=as;break;default:g=Et}return v=XN.bind(null,c),g=qe(g,v),c.callbackPriority=h,c.callbackNode=g,h}return v!==null&&v!==null&&Ve(v),c.callbackPriority=2,c.callbackNode=null,2}function XN(c,h){var g=c.callbackNode;if(sf()&&c.callbackNode!==g)return null;var v=ti;return v=aa(c,c===Hi?v:0),v===0?null:(zN(c,v,h),ZN(c,Ct()),c.callbackNode!=null&&c.callbackNode===g?XN.bind(null,c):null)}function QN(c,h){if(sf())return null;zN(c,h,!0)}function Y7(c){n9(function(){an&6?qe(Pi,c):c()})}function KR(){return Yd===0&&(Yd=Mt()),Yd}function JN(c){return c==null||typeof c=="symbol"||typeof c=="boolean"?null:typeof c=="function"?c:Ib(""+c)}function e2(c,h){var g=h.ownerDocument.createElement("input");return g.name=h.name,g.value=h.value,c.id&&g.setAttribute("form",c.id),h.parentNode.insertBefore(g,h),c=new FormData(c),g.parentNode.removeChild(g),c}function K7(c,h,g,v,x){if(h==="submit"&&g&&g.stateNode===x){var T=JN((x[at]||null).action),N=v.submitter;N&&(h=(h=N[at]||null)?JN(h.formAction):N.getAttribute("formAction"),h!==null&&(T=h,N=null));var _=new Fb("action","action",null,v,x);c.push({event:_,listeners:[{instance:null,listener:function(){if(v.defaultPrevented){if(Yd!==0){var $=N?e2(x,N):new FormData(x);nR(g,{pending:!0,data:$,method:x.method,action:T},null,$)}}else typeof T=="function"&&(_.preventDefault(),$=N?e2(x,N):new FormData(x),nR(g,{pending:!0,data:$,method:x.method,action:T},T,$))},currentTarget:x}]})}}for(var qR=0;qR<$F.length;qR++){var ZR=$F[qR],q7=ZR.toLowerCase(),Z7=ZR[0].toUpperCase()+ZR.slice(1);la(q7,"on"+Z7)}la(_F,"onAnimationEnd"),la(jF,"onAnimationIteration"),la(VF,"onAnimationStart"),la("dblclick","onDoubleClick"),la("focusin","onFocus"),la("focusout","onBlur"),la(p7,"onTransitionRun"),la(f7,"onTransitionStart"),la(g7,"onTransitionCancel"),la(WF,"onTransitionEnd"),sn("onMouseEnter",["mouseout","mouseover"]),sn("onMouseLeave",["mouseout","mouseover"]),sn("onPointerEnter",["pointerout","pointerover"]),sn("onPointerLeave",["pointerout","pointerover"]),ei("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ei("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ei("onBeforeInput",["compositionend","keypress","textInput","paste"]),ei("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ei("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ei("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Qm="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),X7=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Qm));function t2(c,h){h=(h&4)!==0;for(var g=0;g<c.length;g++){var v=c[g],x=v.event;v=v.listeners;e:{var T=void 0;if(h)for(var N=v.length-1;0<=N;N--){var _=v[N],$=_.instance,ne=_.currentTarget;if(_=_.listener,$!==T&&x.isPropagationStopped())break e;T=_,x.currentTarget=ne;try{T(x)}catch(be){i0(be)}x.currentTarget=null,T=$}else for(N=0;N<v.length;N++){if(_=v[N],$=_.instance,ne=_.currentTarget,_=_.listener,$!==T&&x.isPropagationStopped())break e;T=_,x.currentTarget=ne;try{T(x)}catch(be){i0(be)}x.currentTarget=null,T=$}}}}function qt(c,h){var g=h[Fn];g===void 0&&(g=h[Fn]=new Set);var v=c+"__bubble";g.has(v)||(i2(h,c,2,!1),g.add(v))}function XR(c,h,g){var v=0;h&&(v|=4),i2(g,c,v,h)}var y0="_reactListening"+Math.random().toString(36).slice(2);function QR(c){if(!c[y0]){c[y0]=!0,Rd.forEach(function(g){g!=="selectionchange"&&(X7.has(g)||XR(g,!1,c),XR(g,!0,c))});var h=c.nodeType===9?c:c.ownerDocument;h===null||h[y0]||(h[y0]=!0,XR("selectionchange",!1,h))}}function i2(c,h,g,v){switch(D2(h)){case 2:var x=x9;break;case 8:x=M9;break;default:x=dE}g=x.bind(null,h,g,c),x=void 0,!bD||h!=="touchstart"&&h!=="touchmove"&&h!=="wheel"||(x=!0),v?x!==void 0?c.addEventListener(h,g,{capture:!0,passive:x}):c.addEventListener(h,g,!0):x!==void 0?c.addEventListener(h,g,{passive:x}):c.addEventListener(h,g,!1)}function JR(c,h,g,v,x){var T=v;if(!(h&1)&&!(h&2)&&v!==null)e:for(;;){if(v===null)return;var N=v.tag;if(N===3||N===4){var _=v.stateNode.containerInfo;if(_===x||_.nodeType===8&&_.parentNode===x)break;if(N===4)for(N=v.return;N!==null;){var $=N.tag;if(($===3||$===4)&&($=N.stateNode.containerInfo,$===x||$.nodeType===8&&$.parentNode===x))return;N=N.return}for(;_!==null;){if(N=Ss(_),N===null)return;if($=N.tag,$===5||$===6||$===26||$===27){v=T=N;continue e}_=_.parentNode}}v=v.return}yF(function(){var ne=T,be=vD(g),Re=[];e:{var le=UF.get(c);if(le!==void 0){var Ce=Fb,et=c;switch(c){case"keypress":if(kb(g)===0)break e;case"keydown":case"keyup":Ce=W8;break;case"focusin":et="focus",Ce=MD;break;case"focusout":et="blur",Ce=MD;break;case"beforeblur":case"afterblur":Ce=MD;break;case"click":if(g.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ce=bF;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ce=k8;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ce=Y8;break;case _F:case jF:case VF:Ce=O8;break;case WF:Ce=q8;break;case"scroll":case"scrollend":Ce=I8;break;case"wheel":Ce=X8;break;case"copy":case"cut":case"paste":Ce=B8;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ce=SF;break;case"toggle":case"beforetoggle":Ce=J8}var Dt=(h&4)!==0,xn=!Dt&&(c==="scroll"||c==="scrollend"),re=Dt?le!==null?le+"Capture":null:le;Dt=[];for(var ie=ne,oe;ie!==null;){var Se=ie;if(oe=Se.stateNode,Se=Se.tag,Se!==5&&Se!==26&&Se!==27||oe===null||re===null||(Se=ym(ie,re),Se!=null&&Dt.push(Jm(ie,Se,oe))),xn)break;ie=ie.return}0<Dt.length&&(le=new Ce(le,et,null,g,be),Re.push({event:le,listeners:Dt}))}}if(!(h&7)){e:{if(le=c==="mouseover"||c==="pointerover",Ce=c==="mouseout"||c==="pointerout",le&&g!==yD&&(et=g.relatedTarget||g.fromElement)&&(Ss(et)||et[hi]))break e;if((Ce||le)&&(le=be.window===be?be:(le=be.ownerDocument)?le.defaultView||le.parentWindow:window,Ce?(et=g.relatedTarget||g.toElement,Ce=ne,et=et?Ss(et):null,et!==null&&(xn=W(et),Dt=et.tag,et!==xn||Dt!==5&&Dt!==27&&Dt!==6)&&(et=null)):(Ce=null,et=ne),Ce!==et)){if(Dt=bF,Se="onMouseLeave",re="onMouseEnter",ie="mouse",(c==="pointerout"||c==="pointerover")&&(Dt=SF,Se="onPointerLeave",re="onPointerEnter",ie="pointer"),xn=Ce==null?le:Vl(Ce),oe=et==null?le:Vl(et),le=new Dt(Se,ie+"leave",Ce,g,be),le.target=xn,le.relatedTarget=oe,Se=null,Ss(be)===ne&&(Dt=new Dt(re,ie+"enter",et,g,be),Dt.target=oe,Dt.relatedTarget=xn,Se=Dt),xn=Se,Ce&&et)t:{for(Dt=Ce,re=et,ie=0,oe=Dt;oe;oe=of(oe))ie++;for(oe=0,Se=re;Se;Se=of(Se))oe++;for(;0<ie-oe;)Dt=of(Dt),ie--;for(;0<oe-ie;)re=of(re),oe--;for(;ie--;){if(Dt===re||re!==null&&Dt===re.alternate)break t;Dt=of(Dt),re=of(re)}Dt=null}else Dt=null;Ce!==null&&n2(Re,le,Ce,Dt,!1),et!==null&&xn!==null&&n2(Re,xn,et,Dt,!0)}}e:{if(le=ne?Vl(ne):window,Ce=le.nodeName&&le.nodeName.toLowerCase(),Ce==="select"||Ce==="input"&&le.type==="file")var Xe=IF;else if(TF(le))if(LF)Xe=c7;else{Xe=a7;var jt=o7}else Ce=le.nodeName,!Ce||Ce.toLowerCase()!=="input"||le.type!=="checkbox"&&le.type!=="radio"?ne&&mD(ne.elementType)&&(Xe=IF):Xe=l7;if(Xe&&(Xe=Xe(c,ne))){AF(Re,Xe,g,be);break e}jt&&jt(c,le,ne),c==="focusout"&&ne&&le.type==="number"&&ne.memoizedProps.value!=null&&gD(le,"number",le.value)}switch(jt=ne?Vl(ne):window,c){case"focusin":(TF(jt)||jt.contentEditable==="true")&&(Bp=jt,ID=ne,Dm=null);break;case"focusout":Dm=ID=Bp=null;break;case"mousedown":LD=!0;break;case"contextmenu":case"mouseup":case"dragend":LD=!1,GF(Re,g,be);break;case"selectionchange":if(h7)break;case"keydown":case"keyup":GF(Re,g,be)}var st;if(RD)e:{switch(c){case"compositionstart":var ht="onCompositionStart";break e;case"compositionend":ht="onCompositionEnd";break e;case"compositionupdate":ht="onCompositionUpdate";break e}ht=void 0}else Np?RF(c,g)&&(ht="onCompositionEnd"):c==="keydown"&&g.keyCode===229&&(ht="onCompositionStart");ht&&(xF&&g.locale!=="ko"&&(Np||ht!=="onCompositionStart"?ht==="onCompositionEnd"&&Np&&(st=vF()):(eu=be,wD="value"in eu?eu.value:eu.textContent,Np=!0)),jt=v0(ne,ht),0<jt.length&&(ht=new wF(ht,c,null,g,be),Re.push({event:ht,listeners:jt}),st?ht.data=st:(st=EF(g),st!==null&&(ht.data=st)))),(st=t7?i7(c,g):n7(c,g))&&(ht=v0(ne,"onBeforeInput"),0<ht.length&&(jt=new wF("onBeforeInput","beforeinput",null,g,be),Re.push({event:jt,listeners:ht}),jt.data=st)),K7(Re,c,ne,g,be)}t2(Re,h)})}function Jm(c,h,g){return{instance:c,listener:h,currentTarget:g}}function v0(c,h){for(var g=h+"Capture",v=[];c!==null;){var x=c,T=x.stateNode;x=x.tag,x!==5&&x!==26&&x!==27||T===null||(x=ym(c,g),x!=null&&v.unshift(Jm(c,x,T)),x=ym(c,h),x!=null&&v.push(Jm(c,x,T))),c=c.return}return v}function of(c){if(c===null)return null;do c=c.return;while(c&&c.tag!==5&&c.tag!==27);return c||null}function n2(c,h,g,v,x){for(var T=h._reactName,N=[];g!==null&&g!==v;){var _=g,$=_.alternate,ne=_.stateNode;if(_=_.tag,$!==null&&$===v)break;_!==5&&_!==26&&_!==27||ne===null||($=ne,x?(ne=ym(g,T),ne!=null&&N.unshift(Jm(g,ne,$))):x||(ne=ym(g,T),ne!=null&&N.push(Jm(g,ne,$)))),g=g.return}N.length!==0&&c.push({event:h,listeners:N})}var Q7=/\r\n?/g,J7=/\u0000|\uFFFD/g;function s2(c){return(typeof c=="string"?c:""+c).replace(Q7,`
`).replace(J7,"")}function r2(c,h){return h=s2(h),s2(c)===h}function C0(){}function Ai(c,h,g,v,x,T){switch(g){case"children":typeof v=="string"?h==="body"||h==="textarea"&&v===""||Pp(c,v):(typeof v=="number"||typeof v=="bigint")&&h!=="body"&&Pp(c,""+v);break;case"className":Eb(c,"class",v);break;case"tabIndex":Eb(c,"tabindex",v);break;case"dir":case"role":case"viewBox":case"width":case"height":Eb(c,g,v);break;case"style":gF(c,v,T);break;case"data":if(h!=="object"){Eb(c,"data",v);break}case"src":case"href":if(v===""&&(h!=="a"||g!=="href")){c.removeAttribute(g);break}if(v==null||typeof v=="function"||typeof v=="symbol"||typeof v=="boolean"){c.removeAttribute(g);break}v=Ib(""+v),c.setAttribute(g,v);break;case"action":case"formAction":if(typeof v=="function"){c.setAttribute(g,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof T=="function"&&(g==="formAction"?(h!=="input"&&Ai(c,h,"name",x.name,x,null),Ai(c,h,"formEncType",x.formEncType,x,null),Ai(c,h,"formMethod",x.formMethod,x,null),Ai(c,h,"formTarget",x.formTarget,x,null)):(Ai(c,h,"encType",x.encType,x,null),Ai(c,h,"method",x.method,x,null),Ai(c,h,"target",x.target,x,null)));if(v==null||typeof v=="symbol"||typeof v=="boolean"){c.removeAttribute(g);break}v=Ib(""+v),c.setAttribute(g,v);break;case"onClick":v!=null&&(c.onclick=C0);break;case"onScroll":v!=null&&qt("scroll",c);break;case"onScrollEnd":v!=null&&qt("scrollend",c);break;case"dangerouslySetInnerHTML":if(v!=null){if(typeof v!="object"||!("__html"in v))throw Error(n(61));if(g=v.__html,g!=null){if(x.children!=null)throw Error(n(60));c.innerHTML=g}}break;case"multiple":c.multiple=v&&typeof v!="function"&&typeof v!="symbol";break;case"muted":c.muted=v&&typeof v!="function"&&typeof v!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(v==null||typeof v=="function"||typeof v=="boolean"||typeof v=="symbol"){c.removeAttribute("xlink:href");break}g=Ib(""+v),c.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",g);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":v!=null&&typeof v!="function"&&typeof v!="symbol"?c.setAttribute(g,""+v):c.removeAttribute(g);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":v&&typeof v!="function"&&typeof v!="symbol"?c.setAttribute(g,""):c.removeAttribute(g);break;case"capture":case"download":v===!0?c.setAttribute(g,""):v!==!1&&v!=null&&typeof v!="function"&&typeof v!="symbol"?c.setAttribute(g,v):c.removeAttribute(g);break;case"cols":case"rows":case"size":case"span":v!=null&&typeof v!="function"&&typeof v!="symbol"&&!isNaN(v)&&1<=v?c.setAttribute(g,v):c.removeAttribute(g);break;case"rowSpan":case"start":v==null||typeof v=="function"||typeof v=="symbol"||isNaN(v)?c.removeAttribute(g):c.setAttribute(g,v);break;case"popover":qt("beforetoggle",c),qt("toggle",c),Lp(c,"popover",v);break;case"xlinkActuate":Ul(c,"http://www.w3.org/1999/xlink","xlink:actuate",v);break;case"xlinkArcrole":Ul(c,"http://www.w3.org/1999/xlink","xlink:arcrole",v);break;case"xlinkRole":Ul(c,"http://www.w3.org/1999/xlink","xlink:role",v);break;case"xlinkShow":Ul(c,"http://www.w3.org/1999/xlink","xlink:show",v);break;case"xlinkTitle":Ul(c,"http://www.w3.org/1999/xlink","xlink:title",v);break;case"xlinkType":Ul(c,"http://www.w3.org/1999/xlink","xlink:type",v);break;case"xmlBase":Ul(c,"http://www.w3.org/XML/1998/namespace","xml:base",v);break;case"xmlLang":Ul(c,"http://www.w3.org/XML/1998/namespace","xml:lang",v);break;case"xmlSpace":Ul(c,"http://www.w3.org/XML/1998/namespace","xml:space",v);break;case"is":Lp(c,"is",v);break;case"innerText":case"textContent":break;default:(!(2<g.length)||g[0]!=="o"&&g[0]!=="O"||g[1]!=="n"&&g[1]!=="N")&&(g=T8.get(g)||g,Lp(c,g,v))}}function eE(c,h,g,v,x,T){switch(g){case"style":gF(c,v,T);break;case"dangerouslySetInnerHTML":if(v!=null){if(typeof v!="object"||!("__html"in v))throw Error(n(61));if(g=v.__html,g!=null){if(x.children!=null)throw Error(n(60));c.innerHTML=g}}break;case"children":typeof v=="string"?Pp(c,v):(typeof v=="number"||typeof v=="bigint")&&Pp(c,""+v);break;case"onScroll":v!=null&&qt("scroll",c);break;case"onScrollEnd":v!=null&&qt("scrollend",c);break;case"onClick":v!=null&&(c.onclick=C0);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ed.hasOwnProperty(g))e:{if(g[0]==="o"&&g[1]==="n"&&(x=g.endsWith("Capture"),h=g.slice(2,x?g.length-7:void 0),T=c[at]||null,T=T!=null?T[g]:null,typeof T=="function"&&c.removeEventListener(h,T,x),typeof v=="function")){typeof T!="function"&&T!==null&&(g in c?c[g]=null:c.hasAttribute(g)&&c.removeAttribute(g)),c.addEventListener(h,v,x);break e}g in c?c[g]=v:v===!0?c.setAttribute(g,""):Lp(c,g,v)}}}function Rs(c,h,g){switch(h){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":qt("error",c),qt("load",c);var v=!1,x=!1,T;for(T in g)if(g.hasOwnProperty(T)){var N=g[T];if(N!=null)switch(T){case"src":v=!0;break;case"srcSet":x=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,h));default:Ai(c,h,T,N,g,null)}}x&&Ai(c,h,"srcSet",g.srcSet,g,null),v&&Ai(c,h,"src",g.src,g,null);return;case"input":qt("invalid",c);var _=T=N=x=null,$=null,ne=null;for(v in g)if(g.hasOwnProperty(v)){var be=g[v];if(be!=null)switch(v){case"name":x=be;break;case"type":N=be;break;case"checked":$=be;break;case"defaultChecked":ne=be;break;case"value":T=be;break;case"defaultValue":_=be;break;case"children":case"dangerouslySetInnerHTML":if(be!=null)throw Error(n(137,h));break;default:Ai(c,h,v,be,g,null)}}dF(c,T,_,$,ne,N,x,!1),Tb(c);return;case"select":qt("invalid",c),v=N=T=null;for(x in g)if(g.hasOwnProperty(x)&&(_=g[x],_!=null))switch(x){case"value":T=_;break;case"defaultValue":N=_;break;case"multiple":v=_;default:Ai(c,h,x,_,g,null)}h=T,g=N,c.multiple=!!v,h!=null?kp(c,!!v,h,!1):g!=null&&kp(c,!!v,g,!0);return;case"textarea":qt("invalid",c),T=x=v=null;for(N in g)if(g.hasOwnProperty(N)&&(_=g[N],_!=null))switch(N){case"value":v=_;break;case"defaultValue":x=_;break;case"children":T=_;break;case"dangerouslySetInnerHTML":if(_!=null)throw Error(n(91));break;default:Ai(c,h,N,_,g,null)}pF(c,v,x,T),Tb(c);return;case"option":for($ in g)if(g.hasOwnProperty($)&&(v=g[$],v!=null))switch($){case"selected":c.selected=v&&typeof v!="function"&&typeof v!="symbol";break;default:Ai(c,h,$,v,g,null)}return;case"dialog":qt("cancel",c),qt("close",c);break;case"iframe":case"object":qt("load",c);break;case"video":case"audio":for(v=0;v<Qm.length;v++)qt(Qm[v],c);break;case"image":qt("error",c),qt("load",c);break;case"details":qt("toggle",c);break;case"embed":case"source":case"link":qt("error",c),qt("load",c);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ne in g)if(g.hasOwnProperty(ne)&&(v=g[ne],v!=null))switch(ne){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,h));default:Ai(c,h,ne,v,g,null)}return;default:if(mD(h)){for(be in g)g.hasOwnProperty(be)&&(v=g[be],v!==void 0&&eE(c,h,be,v,g,void 0));return}}for(_ in g)g.hasOwnProperty(_)&&(v=g[_],v!=null&&Ai(c,h,_,v,g,null))}function e9(c,h,g,v){switch(h){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var x=null,T=null,N=null,_=null,$=null,ne=null,be=null;for(Ce in g){var Re=g[Ce];if(g.hasOwnProperty(Ce)&&Re!=null)switch(Ce){case"checked":break;case"value":break;case"defaultValue":$=Re;default:v.hasOwnProperty(Ce)||Ai(c,h,Ce,null,v,Re)}}for(var le in v){var Ce=v[le];if(Re=g[le],v.hasOwnProperty(le)&&(Ce!=null||Re!=null))switch(le){case"type":T=Ce;break;case"name":x=Ce;break;case"checked":ne=Ce;break;case"defaultChecked":be=Ce;break;case"value":N=Ce;break;case"defaultValue":_=Ce;break;case"children":case"dangerouslySetInnerHTML":if(Ce!=null)throw Error(n(137,h));break;default:Ce!==Re&&Ai(c,h,le,Ce,v,Re)}}fD(c,N,_,$,ne,be,T,x);return;case"select":Ce=N=_=le=null;for(T in g)if($=g[T],g.hasOwnProperty(T)&&$!=null)switch(T){case"value":break;case"multiple":Ce=$;default:v.hasOwnProperty(T)||Ai(c,h,T,null,v,$)}for(x in v)if(T=v[x],$=g[x],v.hasOwnProperty(x)&&(T!=null||$!=null))switch(x){case"value":le=T;break;case"defaultValue":_=T;break;case"multiple":N=T;default:T!==$&&Ai(c,h,x,T,v,$)}h=_,g=N,v=Ce,le!=null?kp(c,!!g,le,!1):!!v!=!!g&&(h!=null?kp(c,!!g,h,!0):kp(c,!!g,g?[]:"",!1));return;case"textarea":Ce=le=null;for(_ in g)if(x=g[_],g.hasOwnProperty(_)&&x!=null&&!v.hasOwnProperty(_))switch(_){case"value":break;case"children":break;default:Ai(c,h,_,null,v,x)}for(N in v)if(x=v[N],T=g[N],v.hasOwnProperty(N)&&(x!=null||T!=null))switch(N){case"value":le=x;break;case"defaultValue":Ce=x;break;case"children":break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(n(91));break;default:x!==T&&Ai(c,h,N,x,v,T)}hF(c,le,Ce);return;case"option":for(var et in g)if(le=g[et],g.hasOwnProperty(et)&&le!=null&&!v.hasOwnProperty(et))switch(et){case"selected":c.selected=!1;break;default:Ai(c,h,et,null,v,le)}for($ in v)if(le=v[$],Ce=g[$],v.hasOwnProperty($)&&le!==Ce&&(le!=null||Ce!=null))switch($){case"selected":c.selected=le&&typeof le!="function"&&typeof le!="symbol";break;default:Ai(c,h,$,le,v,Ce)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Dt in g)le=g[Dt],g.hasOwnProperty(Dt)&&le!=null&&!v.hasOwnProperty(Dt)&&Ai(c,h,Dt,null,v,le);for(ne in v)if(le=v[ne],Ce=g[ne],v.hasOwnProperty(ne)&&le!==Ce&&(le!=null||Ce!=null))switch(ne){case"children":case"dangerouslySetInnerHTML":if(le!=null)throw Error(n(137,h));break;default:Ai(c,h,ne,le,v,Ce)}return;default:if(mD(h)){for(var xn in g)le=g[xn],g.hasOwnProperty(xn)&&le!==void 0&&!v.hasOwnProperty(xn)&&eE(c,h,xn,void 0,v,le);for(be in v)le=v[be],Ce=g[be],!v.hasOwnProperty(be)||le===Ce||le===void 0&&Ce===void 0||eE(c,h,be,le,v,Ce);return}}for(var re in g)le=g[re],g.hasOwnProperty(re)&&le!=null&&!v.hasOwnProperty(re)&&Ai(c,h,re,null,v,le);for(Re in v)le=v[Re],Ce=g[Re],!v.hasOwnProperty(Re)||le===Ce||le==null&&Ce==null||Ai(c,h,Re,le,v,Ce)}var tE=null,iE=null;function b0(c){return c.nodeType===9?c:c.ownerDocument}function o2(c){switch(c){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function a2(c,h){if(c===0)switch(h){case"svg":return 1;case"math":return 2;default:return 0}return c===1&&h==="foreignObject"?0:c}function nE(c,h){return c==="textarea"||c==="noscript"||typeof h.children=="string"||typeof h.children=="number"||typeof h.children=="bigint"||typeof h.dangerouslySetInnerHTML=="object"&&h.dangerouslySetInnerHTML!==null&&h.dangerouslySetInnerHTML.__html!=null}var sE=null;function t9(){var c=window.event;return c&&c.type==="popstate"?c===sE?!1:(sE=c,!0):(sE=null,!1)}var l2=typeof setTimeout=="function"?setTimeout:void 0,i9=typeof clearTimeout=="function"?clearTimeout:void 0,c2=typeof Promise=="function"?Promise:void 0,n9=typeof queueMicrotask=="function"?queueMicrotask:typeof c2<"u"?function(c){return c2.resolve(null).then(c).catch(s9)}:l2;function s9(c){setTimeout(function(){throw c})}function rE(c,h){var g=h,v=0;do{var x=g.nextSibling;if(c.removeChild(g),x&&x.nodeType===8)if(g=x.data,g==="/$"){if(v===0){c.removeChild(x),ay(h);return}v--}else g!=="$"&&g!=="$?"&&g!=="$!"||v++;g=x}while(g);ay(h)}function oE(c){var h=c.firstChild;for(h&&h.nodeType===10&&(h=h.nextSibling);h;){var g=h;switch(h=h.nextSibling,g.nodeName){case"HTML":case"HEAD":case"BODY":oE(g),jl(g);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(g.rel.toLowerCase()==="stylesheet")continue}c.removeChild(g)}}function r9(c,h,g,v){for(;c.nodeType===1;){var x=g;if(c.nodeName.toLowerCase()!==h.toLowerCase()){if(!v&&(c.nodeName!=="INPUT"||c.type!=="hidden"))break}else if(v){if(!c[mo])switch(h){case"meta":if(!c.hasAttribute("itemprop"))break;return c;case"link":if(T=c.getAttribute("rel"),T==="stylesheet"&&c.hasAttribute("data-precedence"))break;if(T!==x.rel||c.getAttribute("href")!==(x.href==null?null:x.href)||c.getAttribute("crossorigin")!==(x.crossOrigin==null?null:x.crossOrigin)||c.getAttribute("title")!==(x.title==null?null:x.title))break;return c;case"style":if(c.hasAttribute("data-precedence"))break;return c;case"script":if(T=c.getAttribute("src"),(T!==(x.src==null?null:x.src)||c.getAttribute("type")!==(x.type==null?null:x.type)||c.getAttribute("crossorigin")!==(x.crossOrigin==null?null:x.crossOrigin))&&T&&c.hasAttribute("async")&&!c.hasAttribute("itemprop"))break;return c;default:return c}}else if(h==="input"&&c.type==="hidden"){var T=x.name==null?null:""+x.name;if(x.type==="hidden"&&c.getAttribute("name")===T)return c}else return c;if(c=da(c.nextSibling),c===null)break}return null}function o9(c,h,g){if(h==="")return null;for(;c.nodeType!==3;)if((c.nodeType!==1||c.nodeName!=="INPUT"||c.type!=="hidden")&&!g||(c=da(c.nextSibling),c===null))return null;return c}function da(c){for(;c!=null;c=c.nextSibling){var h=c.nodeType;if(h===1||h===3)break;if(h===8){if(h=c.data,h==="$"||h==="$!"||h==="$?"||h==="F!"||h==="F")break;if(h==="/$")return null}}return c}function u2(c){c=c.previousSibling;for(var h=0;c;){if(c.nodeType===8){var g=c.data;if(g==="$"||g==="$!"||g==="$?"){if(h===0)return c;h--}else g==="/$"&&h++}c=c.previousSibling}return null}function d2(c,h,g){switch(h=b0(g),c){case"html":if(c=h.documentElement,!c)throw Error(n(452));return c;case"head":if(c=h.head,!c)throw Error(n(453));return c;case"body":if(c=h.body,!c)throw Error(n(454));return c;default:throw Error(n(451))}}var Ao=new Map,h2=new Set;function w0(c){return typeof c.getRootNode=="function"?c.getRootNode():c.ownerDocument}var oc=Q.d;Q.d={f:a9,r:l9,D:c9,C:u9,L:d9,m:h9,X:f9,S:p9,M:g9};function a9(){var c=oc.f(),h=p0();return c||h}function l9(c){var h=xs(c);h!==null&&h.tag===5&&h.type==="form"?GO(h):oc.r(c)}var af=typeof document>"u"?null:document;function p2(c,h,g){var v=af;if(v&&typeof h=="string"&&h){var x=Co(h);x='link[rel="'+c+'"][href="'+x+'"]',typeof g=="string"&&(x+='[crossorigin="'+g+'"]'),h2.has(x)||(h2.add(x),c={rel:c,crossOrigin:g,href:h},v.querySelector(x)===null&&(h=v.createElement("link"),Rs(h,"link",c),Gi(h),v.head.appendChild(h)))}}function c9(c){oc.D(c),p2("dns-prefetch",c,null)}function u9(c,h){oc.C(c,h),p2("preconnect",c,h)}function d9(c,h,g){oc.L(c,h,g);var v=af;if(v&&c&&h){var x='link[rel="preload"][as="'+Co(h)+'"]';h==="image"&&g&&g.imageSrcSet?(x+='[imagesrcset="'+Co(g.imageSrcSet)+'"]',typeof g.imageSizes=="string"&&(x+='[imagesizes="'+Co(g.imageSizes)+'"]')):x+='[href="'+Co(c)+'"]';var T=x;switch(h){case"style":T=lf(c);break;case"script":T=cf(c)}Ao.has(T)||(c=L({rel:"preload",href:h==="image"&&g&&g.imageSrcSet?void 0:c,as:h},g),Ao.set(T,c),v.querySelector(x)!==null||h==="style"&&v.querySelector(ey(T))||h==="script"&&v.querySelector(ty(T))||(h=v.createElement("link"),Rs(h,"link",c),Gi(h),v.head.appendChild(h)))}}function h9(c,h){oc.m(c,h);var g=af;if(g&&c){var v=h&&typeof h.as=="string"?h.as:"script",x='link[rel="modulepreload"][as="'+Co(v)+'"][href="'+Co(c)+'"]',T=x;switch(v){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":T=cf(c)}if(!Ao.has(T)&&(c=L({rel:"modulepreload",href:c},h),Ao.set(T,c),g.querySelector(x)===null)){switch(v){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(g.querySelector(ty(T)))return}v=g.createElement("link"),Rs(v,"link",c),Gi(v),g.head.appendChild(v)}}}function p9(c,h,g){oc.S(c,h,g);var v=af;if(v&&c){var x=yo(v).hoistableStyles,T=lf(c);h=h||"default";var N=x.get(T);if(!N){var _={loading:0,preload:null};if(N=v.querySelector(ey(T)))_.loading=5;else{c=L({rel:"stylesheet",href:c,"data-precedence":h},g),(g=Ao.get(T))&&aE(c,g);var $=N=v.createElement("link");Gi($),Rs($,"link",c),$._p=new Promise(function(ne,be){$.onload=ne,$.onerror=be}),$.addEventListener("load",function(){_.loading|=1}),$.addEventListener("error",function(){_.loading|=2}),_.loading|=4,S0(N,h,v)}N={type:"stylesheet",instance:N,count:1,state:_},x.set(T,N)}}}function f9(c,h){oc.X(c,h);var g=af;if(g&&c){var v=yo(g).hoistableScripts,x=cf(c),T=v.get(x);T||(T=g.querySelector(ty(x)),T||(c=L({src:c,async:!0},h),(h=Ao.get(x))&&lE(c,h),T=g.createElement("script"),Gi(T),Rs(T,"link",c),g.head.appendChild(T)),T={type:"script",instance:T,count:1,state:null},v.set(x,T))}}function g9(c,h){oc.M(c,h);var g=af;if(g&&c){var v=yo(g).hoistableScripts,x=cf(c),T=v.get(x);T||(T=g.querySelector(ty(x)),T||(c=L({src:c,async:!0,type:"module"},h),(h=Ao.get(x))&&lE(c,h),T=g.createElement("script"),Gi(T),Rs(T,"link",c),g.head.appendChild(T)),T={type:"script",instance:T,count:1,state:null},v.set(x,T))}}function f2(c,h,g,v){var x=(x=Fe.current)?w0(x):null;if(!x)throw Error(n(446));switch(c){case"meta":case"title":return null;case"style":return typeof g.precedence=="string"&&typeof g.href=="string"?(h=lf(g.href),g=yo(x).hoistableStyles,v=g.get(h),v||(v={type:"style",instance:null,count:0,state:null},g.set(h,v)),v):{type:"void",instance:null,count:0,state:null};case"link":if(g.rel==="stylesheet"&&typeof g.href=="string"&&typeof g.precedence=="string"){c=lf(g.href);var T=yo(x).hoistableStyles,N=T.get(c);if(N||(x=x.ownerDocument||x,N={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},T.set(c,N),(T=x.querySelector(ey(c)))&&!T._p&&(N.instance=T,N.state.loading=5),Ao.has(c)||(g={rel:"preload",as:"style",href:g.href,crossOrigin:g.crossOrigin,integrity:g.integrity,media:g.media,hrefLang:g.hrefLang,referrerPolicy:g.referrerPolicy},Ao.set(c,g),T||m9(x,c,g,N.state))),h&&v===null)throw Error(n(528,""));return N}if(h&&v!==null)throw Error(n(529,""));return null;case"script":return h=g.async,g=g.src,typeof g=="string"&&h&&typeof h!="function"&&typeof h!="symbol"?(h=cf(g),g=yo(x).hoistableScripts,v=g.get(h),v||(v={type:"script",instance:null,count:0,state:null},g.set(h,v)),v):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,c))}}function lf(c){return'href="'+Co(c)+'"'}function ey(c){return'link[rel="stylesheet"]['+c+"]"}function g2(c){return L({},c,{"data-precedence":c.precedence,precedence:null})}function m9(c,h,g,v){c.querySelector('link[rel="preload"][as="style"]['+h+"]")?v.loading=1:(h=c.createElement("link"),v.preload=h,h.addEventListener("load",function(){return v.loading|=1}),h.addEventListener("error",function(){return v.loading|=2}),Rs(h,"link",g),Gi(h),c.head.appendChild(h))}function cf(c){return'[src="'+Co(c)+'"]'}function ty(c){return"script[async]"+c}function m2(c,h,g){if(h.count++,h.instance===null)switch(h.type){case"style":var v=c.querySelector('style[data-href~="'+Co(g.href)+'"]');if(v)return h.instance=v,Gi(v),v;var x=L({},g,{"data-href":g.href,"data-precedence":g.precedence,href:null,precedence:null});return v=(c.ownerDocument||c).createElement("style"),Gi(v),Rs(v,"style",x),S0(v,g.precedence,c),h.instance=v;case"stylesheet":x=lf(g.href);var T=c.querySelector(ey(x));if(T)return h.state.loading|=4,h.instance=T,Gi(T),T;v=g2(g),(x=Ao.get(x))&&aE(v,x),T=(c.ownerDocument||c).createElement("link"),Gi(T);var N=T;return N._p=new Promise(function(_,$){N.onload=_,N.onerror=$}),Rs(T,"link",v),h.state.loading|=4,S0(T,g.precedence,c),h.instance=T;case"script":return T=cf(g.src),(x=c.querySelector(ty(T)))?(h.instance=x,Gi(x),x):(v=g,(x=Ao.get(T))&&(v=L({},g),lE(v,x)),c=c.ownerDocument||c,x=c.createElement("script"),Gi(x),Rs(x,"link",v),c.head.appendChild(x),h.instance=x);case"void":return null;default:throw Error(n(443,h.type))}else h.type==="stylesheet"&&!(h.state.loading&4)&&(v=h.instance,h.state.loading|=4,S0(v,g.precedence,c));return h.instance}function S0(c,h,g){for(var v=g.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),x=v.length?v[v.length-1]:null,T=x,N=0;N<v.length;N++){var _=v[N];if(_.dataset.precedence===h)T=_;else if(T!==x)break}T?T.parentNode.insertBefore(c,T.nextSibling):(h=g.nodeType===9?g.head:g,h.insertBefore(c,h.firstChild))}function aE(c,h){c.crossOrigin==null&&(c.crossOrigin=h.crossOrigin),c.referrerPolicy==null&&(c.referrerPolicy=h.referrerPolicy),c.title==null&&(c.title=h.title)}function lE(c,h){c.crossOrigin==null&&(c.crossOrigin=h.crossOrigin),c.referrerPolicy==null&&(c.referrerPolicy=h.referrerPolicy),c.integrity==null&&(c.integrity=h.integrity)}var x0=null;function y2(c,h,g){if(x0===null){var v=new Map,x=x0=new Map;x.set(g,v)}else x=x0,v=x.get(g),v||(v=new Map,x.set(g,v));if(v.has(c))return v;for(v.set(c,null),g=g.getElementsByTagName(c),x=0;x<g.length;x++){var T=g[x];if(!(T[mo]||T[Je]||c==="link"&&T.getAttribute("rel")==="stylesheet")&&T.namespaceURI!=="http://www.w3.org/2000/svg"){var N=T.getAttribute(h)||"";N=c+N;var _=v.get(N);_?_.push(T):v.set(N,[T])}}return v}function v2(c,h,g){c=c.ownerDocument||c,c.head.insertBefore(g,h==="title"?c.querySelector("head > title"):null)}function y9(c,h,g){if(g===1||h.itemProp!=null)return!1;switch(c){case"meta":case"title":return!0;case"style":if(typeof h.precedence!="string"||typeof h.href!="string"||h.href==="")break;return!0;case"link":if(typeof h.rel!="string"||typeof h.href!="string"||h.href===""||h.onLoad||h.onError)break;switch(h.rel){case"stylesheet":return c=h.disabled,typeof h.precedence=="string"&&c==null;default:return!0}case"script":if(h.async&&typeof h.async!="function"&&typeof h.async!="symbol"&&!h.onLoad&&!h.onError&&h.src&&typeof h.src=="string")return!0}return!1}function C2(c){return!(c.type==="stylesheet"&&!(c.state.loading&3))}var iy=null;function v9(){}function C9(c,h,g){if(iy===null)throw Error(n(475));var v=iy;if(h.type==="stylesheet"&&(typeof g.media!="string"||matchMedia(g.media).matches!==!1)&&!(h.state.loading&4)){if(h.instance===null){var x=lf(g.href),T=c.querySelector(ey(x));if(T){c=T._p,c!==null&&typeof c=="object"&&typeof c.then=="function"&&(v.count++,v=M0.bind(v),c.then(v,v)),h.state.loading|=4,h.instance=T,Gi(T);return}T=c.ownerDocument||c,g=g2(g),(x=Ao.get(x))&&aE(g,x),T=T.createElement("link"),Gi(T);var N=T;N._p=new Promise(function(_,$){N.onload=_,N.onerror=$}),Rs(T,"link",g),h.instance=T}v.stylesheets===null&&(v.stylesheets=new Map),v.stylesheets.set(h,c),(c=h.state.preload)&&!(h.state.loading&3)&&(v.count++,h=M0.bind(v),c.addEventListener("load",h),c.addEventListener("error",h))}}function b9(){if(iy===null)throw Error(n(475));var c=iy;return c.stylesheets&&c.count===0&&cE(c,c.stylesheets),0<c.count?function(h){var g=setTimeout(function(){if(c.stylesheets&&cE(c,c.stylesheets),c.unsuspend){var v=c.unsuspend;c.unsuspend=null,v()}},6e4);return c.unsuspend=h,function(){c.unsuspend=null,clearTimeout(g)}}:null}function M0(){if(this.count--,this.count===0){if(this.stylesheets)cE(this,this.stylesheets);else if(this.unsuspend){var c=this.unsuspend;this.unsuspend=null,c()}}}var D0=null;function cE(c,h){c.stylesheets=null,c.unsuspend!==null&&(c.count++,D0=new Map,h.forEach(w9,c),D0=null,M0.call(c))}function w9(c,h){if(!(h.state.loading&4)){var g=D0.get(c);if(g)var v=g.get(null);else{g=new Map,D0.set(c,g);for(var x=c.querySelectorAll("link[data-precedence],style[data-precedence]"),T=0;T<x.length;T++){var N=x[T];(N.nodeName==="LINK"||N.getAttribute("media")!=="not all")&&(g.set(N.dataset.precedence,N),v=N)}v&&g.set(null,v)}x=h.instance,N=x.getAttribute("data-precedence"),T=g.get(N)||v,T===v&&g.set(null,x),g.set(N,x),this.count++,v=M0.bind(this),x.addEventListener("load",v),x.addEventListener("error",v),T?T.parentNode.insertBefore(x,T.nextSibling):(c=c.nodeType===9?c.head:c,c.insertBefore(x,c.firstChild)),h.state.loading|=4}}var ny={$$typeof:m,Provider:null,Consumer:null,_currentValue:ue,_currentValue2:ue,_threadCount:0};function S9(c,h,g,v,x,T,N,_){this.tag=1,this.containerInfo=c,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=se(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=se(0),this.hiddenUpdates=se(null),this.identifierPrefix=v,this.onUncaughtError=x,this.onCaughtError=T,this.onRecoverableError=N,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=_,this.incompleteTransitions=new Map}function b2(c,h,g,v,x,T,N,_,$,ne,be,Re){return c=new S9(c,h,g,N,_,$,ne,Re),h=1,T===!0&&(h|=24),T=Eo(3,null,null,h),c.current=T,T.stateNode=c,h=_D(),h.refCount++,c.pooledCache=h,h.refCount++,T.memoizedState={element:v,isDehydrated:g,cache:h},wR(T),c}function w2(c){return c?(c=Hp,c):Hp}function S2(c,h,g,v,x,T){x=w2(x),v.context===null?v.context=x:v.pendingContext=x,v=lu(h),v.payload={element:g},T=T===void 0?null:T,T!==null&&(v.callback=T),g=cu(c,v,h),g!==null&&(nr(g,c,h),Hm(g,c,h))}function x2(c,h){if(c=c.memoizedState,c!==null&&c.dehydrated!==null){var g=c.retryLane;c.retryLane=g!==0&&g<h?g:h}}function uE(c,h){x2(c,h),(c=c.alternate)&&x2(c,h)}function M2(c){if(c.tag===13){var h=tu(c,67108864);h!==null&&nr(h,c,67108864),uE(c,67108864)}}var R0=!0;function x9(c,h,g,v){var x=P.T;P.T=null;var T=Q.p;try{Q.p=2,dE(c,h,g,v)}finally{Q.p=T,P.T=x}}function M9(c,h,g,v){var x=P.T;P.T=null;var T=Q.p;try{Q.p=8,dE(c,h,g,v)}finally{Q.p=T,P.T=x}}function dE(c,h,g,v){if(R0){var x=hE(v);if(x===null)JR(c,h,v,E0,g),R2(c,v);else if(R9(x,c,h,g,v))v.stopPropagation();else if(R2(c,v),h&4&&-1<D9.indexOf(c)){for(;x!==null;){var T=xs(x);if(T!==null)switch(T.tag){case 3:if(T=T.stateNode,T.current.memoizedState.isDehydrated){var N=fo(T.pendingLanes);if(N!==0){var _=T;for(_.pendingLanes|=2,_.entangledLanes|=2;N;){var $=1<<31-_t(N);_.entanglements[1]|=$,N&=~$}Xa(T),!(an&6)&&(u0=Ct()+500,Xm(0))}}break;case 13:_=tu(T,2),_!==null&&nr(_,T,2),p0(),uE(T,2)}if(T=hE(v),T===null&&JR(c,h,v,E0,g),T===x)break;x=T}x!==null&&v.stopPropagation()}else JR(c,h,v,null,g)}}function hE(c){return c=vD(c),pE(c)}var E0=null;function pE(c){if(E0=null,c=Ss(c),c!==null){var h=W(c);if(h===null)c=null;else{var g=h.tag;if(g===13){if(c=Y(h),c!==null)return c;c=null}else if(g===3){if(h.stateNode.current.memoizedState.isDehydrated)return h.tag===3?h.stateNode.containerInfo:null;c=null}else h!==c&&(c=null)}}return E0=c,null}function D2(c){switch(c){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Vi()){case Pi:return 2;case Ei:return 8;case Et:case ri:return 32;case as:return 268435456;default:return 32}default:return 32}}var fE=!1,mu=null,yu=null,vu=null,sy=new Map,ry=new Map,Cu=[],D9="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function R2(c,h){switch(c){case"focusin":case"focusout":mu=null;break;case"dragenter":case"dragleave":yu=null;break;case"mouseover":case"mouseout":vu=null;break;case"pointerover":case"pointerout":sy.delete(h.pointerId);break;case"gotpointercapture":case"lostpointercapture":ry.delete(h.pointerId)}}function oy(c,h,g,v,x,T){return c===null||c.nativeEvent!==T?(c={blockedOn:h,domEventName:g,eventSystemFlags:v,nativeEvent:T,targetContainers:[x]},h!==null&&(h=xs(h),h!==null&&M2(h)),c):(c.eventSystemFlags|=v,h=c.targetContainers,x!==null&&h.indexOf(x)===-1&&h.push(x),c)}function R9(c,h,g,v,x){switch(h){case"focusin":return mu=oy(mu,c,h,g,v,x),!0;case"dragenter":return yu=oy(yu,c,h,g,v,x),!0;case"mouseover":return vu=oy(vu,c,h,g,v,x),!0;case"pointerover":var T=x.pointerId;return sy.set(T,oy(sy.get(T)||null,c,h,g,v,x)),!0;case"gotpointercapture":return T=x.pointerId,ry.set(T,oy(ry.get(T)||null,c,h,g,v,x)),!0}return!1}function E2(c){var h=Ss(c.target);if(h!==null){var g=W(h);if(g!==null){if(h=g.tag,h===13){if(h=Y(g),h!==null){c.blockedOn=h,Qe(c.priority,function(){if(g.tag===13){var v=Wr(),x=tu(g,v);x!==null&&nr(x,g,v),uE(g,v)}});return}}else if(h===3&&g.stateNode.current.memoizedState.isDehydrated){c.blockedOn=g.tag===3?g.stateNode.containerInfo:null;return}}}c.blockedOn=null}function T0(c){if(c.blockedOn!==null)return!1;for(var h=c.targetContainers;0<h.length;){var g=hE(c.nativeEvent);if(g===null){g=c.nativeEvent;var v=new g.constructor(g.type,g);yD=v,g.target.dispatchEvent(v),yD=null}else return h=xs(g),h!==null&&M2(h),c.blockedOn=g,!1;h.shift()}return!0}function T2(c,h,g){T0(c)&&g.delete(h)}function E9(){fE=!1,mu!==null&&T0(mu)&&(mu=null),yu!==null&&T0(yu)&&(yu=null),vu!==null&&T0(vu)&&(vu=null),sy.forEach(T2),ry.forEach(T2)}function A0(c,h){c.blockedOn===h&&(c.blockedOn=null,fE||(fE=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,E9)))}var I0=null;function A2(c){I0!==c&&(I0=c,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){I0===c&&(I0=null);for(var h=0;h<c.length;h+=3){var g=c[h],v=c[h+1],x=c[h+2];if(typeof v!="function"){if(pE(v||g)===null)continue;break}var T=xs(g);T!==null&&(c.splice(h,3),h-=3,nR(T,{pending:!0,data:x,method:g.method,action:v},v,x))}}))}function ay(c){function h($){return A0($,c)}mu!==null&&A0(mu,c),yu!==null&&A0(yu,c),vu!==null&&A0(vu,c),sy.forEach(h),ry.forEach(h);for(var g=0;g<Cu.length;g++){var v=Cu[g];v.blockedOn===c&&(v.blockedOn=null)}for(;0<Cu.length&&(g=Cu[0],g.blockedOn===null);)E2(g),g.blockedOn===null&&Cu.shift();if(g=(c.ownerDocument||c).$$reactFormReplay,g!=null)for(v=0;v<g.length;v+=3){var x=g[v],T=g[v+1],N=x[at]||null;if(typeof T=="function")N||A2(g);else if(N){var _=null;if(T&&T.hasAttribute("formAction")){if(x=T,N=T[at]||null)_=N.formAction;else if(pE(x)!==null)continue}else _=N.action;typeof _=="function"?g[v+1]=_:(g.splice(v,3),v-=3),A2(g)}}}function gE(c){this._internalRoot=c}L0.prototype.render=gE.prototype.render=function(c){var h=this._internalRoot;if(h===null)throw Error(n(409));var g=h.current,v=Wr();S2(g,v,c,h,null,null)},L0.prototype.unmount=gE.prototype.unmount=function(){var c=this._internalRoot;if(c!==null){this._internalRoot=null;var h=c.containerInfo;c.tag===0&&sf(),S2(c.current,2,null,c,null,null),p0(),h[hi]=null}};function L0(c){this._internalRoot=c}L0.prototype.unstable_scheduleHydration=function(c){if(c){var h=Ze();c={blockedOn:null,target:c,priority:h};for(var g=0;g<Cu.length&&h!==0&&h<Cu[g].priority;g++);Cu.splice(g,0,c),g===0&&E2(c)}};var I2=t.version;if(I2!=="19.0.0")throw Error(n(527,I2,"19.0.0"));Q.findDOMNode=function(c){var h=c._reactInternals;if(h===void 0)throw typeof c.render=="function"?Error(n(188)):(c=Object.keys(c).join(","),Error(n(268,c)));return c=U(h),c=c!==null?te(c):null,c=c===null?null:c.stateNode,c};var T9={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:P,findFiberByHostInstance:Ss,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var k0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!k0.isDisabled&&k0.supportsFiber)try{Cn=k0.inject(T9),di=k0}catch{}}return uy.createRoot=function(c,h){if(!s(c))throw Error(n(299));var g=!1,v="",x=YO,T=KO,N=qO,_=null;return h!=null&&(h.unstable_strictMode===!0&&(g=!0),h.identifierPrefix!==void 0&&(v=h.identifierPrefix),h.onUncaughtError!==void 0&&(x=h.onUncaughtError),h.onCaughtError!==void 0&&(T=h.onCaughtError),h.onRecoverableError!==void 0&&(N=h.onRecoverableError),h.unstable_transitionCallbacks!==void 0&&(_=h.unstable_transitionCallbacks)),h=b2(c,1,!1,null,null,g,v,x,T,N,_,null),c[hi]=h.current,QR(c.nodeType===8?c.parentNode:c),new gE(h)},uy.hydrateRoot=function(c,h,g){if(!s(c))throw Error(n(299));var v=!1,x="",T=YO,N=KO,_=qO,$=null,ne=null;return g!=null&&(g.unstable_strictMode===!0&&(v=!0),g.identifierPrefix!==void 0&&(x=g.identifierPrefix),g.onUncaughtError!==void 0&&(T=g.onUncaughtError),g.onCaughtError!==void 0&&(N=g.onCaughtError),g.onRecoverableError!==void 0&&(_=g.onRecoverableError),g.unstable_transitionCallbacks!==void 0&&($=g.unstable_transitionCallbacks),g.formState!==void 0&&(ne=g.formState)),h=b2(c,1,!0,h,g??null,v,x,T,N,_,$,ne),h.context=w2(null),g=h.current,v=Wr(),x=lu(v),x.callback=null,cu(g,x,v),h.current.lanes=v,he(h,v),Xa(h),c[hi]=h.current,QR(c),new L0(h)},uy.version="19.0.0",uy}var _2;function H9(){if(_2)return vE.exports;_2=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),vE.exports=G9(),vE.exports}var _9=H9(),E=mI();const fe=H4(E),Qw=k9({__proto__:null,default:fe},[E]);var dy={},j2;function j9(){if(j2)return dy;j2=1,Object.defineProperty(dy,"__esModule",{value:!0}),dy.parse=o,dy.serialize=u;const e=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,i=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,n=/^[\u0020-\u003A\u003D-\u007E]*$/,s=Object.prototype.toString,r=(()=>{const f=function(){};return f.prototype=Object.create(null),f})();function o(f,m){const y=new r,C=f.length;if(C<2)return y;const w=(m==null?void 0:m.decode)||d;let b=0;do{const S=f.indexOf("=",b);if(S===-1)break;const M=f.indexOf(";",b),D=M===-1?C:M;if(S>D){b=f.lastIndexOf(";",S-1)+1;continue}const R=a(f,b,S),A=l(f,S,R),k=f.slice(R,A);if(y[k]===void 0){let F=a(f,S+1,D),P=l(f,D,F);const L=w(f.slice(F,P));y[k]=L}b=D+1}while(b<C);return y}function a(f,m,y){do{const C=f.charCodeAt(m);if(C!==32&&C!==9)return m}while(++m<y);return y}function l(f,m,y){for(;m>y;){const C=f.charCodeAt(--m);if(C!==32&&C!==9)return m+1}return y}function u(f,m,y){const C=(y==null?void 0:y.encode)||encodeURIComponent;if(!e.test(f))throw new TypeError(`argument name is invalid: ${f}`);const w=C(m);if(!t.test(w))throw new TypeError(`argument val is invalid: ${m}`);let b=f+"="+w;if(!y)return b;if(y.maxAge!==void 0){if(!Number.isInteger(y.maxAge))throw new TypeError(`option maxAge is invalid: ${y.maxAge}`);b+="; Max-Age="+y.maxAge}if(y.domain){if(!i.test(y.domain))throw new TypeError(`option domain is invalid: ${y.domain}`);b+="; Domain="+y.domain}if(y.path){if(!n.test(y.path))throw new TypeError(`option path is invalid: ${y.path}`);b+="; Path="+y.path}if(y.expires){if(!p(y.expires)||!Number.isFinite(y.expires.valueOf()))throw new TypeError(`option expires is invalid: ${y.expires}`);b+="; Expires="+y.expires.toUTCString()}if(y.httpOnly&&(b+="; HttpOnly"),y.secure&&(b+="; Secure"),y.partitioned&&(b+="; Partitioned"),y.priority)switch(typeof y.priority=="string"?y.priority.toLowerCase():void 0){case"low":b+="; Priority=Low";break;case"medium":b+="; Priority=Medium";break;case"high":b+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${y.priority}`)}if(y.sameSite)switch(typeof y.sameSite=="string"?y.sameSite.toLowerCase():y.sameSite){case!0:case"strict":b+="; SameSite=Strict";break;case"lax":b+="; SameSite=Lax";break;case"none":b+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${y.sameSite}`)}return b}function d(f){if(f.indexOf("%")===-1)return f;try{return decodeURIComponent(f)}catch{return f}}function p(f){return s.call(f)==="[object Date]"}return dy}j9();/**
 * react-router v7.1.5
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var V2="popstate";function V9(e={}){function t(n,s){let{pathname:r,search:o,hash:a}=n.location;return Cv("",{pathname:r,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function i(n,s){return typeof s=="string"?s:td(s)}return U9(t,i,null,e)}function Xt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function zs(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function W9(){return Math.random().toString(36).substring(2,10)}function W2(e,t){return{usr:e.state,key:e.key,idx:t}}function Cv(e,t,i=null,n){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?ud(t):t,state:i,key:t&&t.key||n||W9()}}function td({pathname:e="/",search:t="",hash:i=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),i&&i!=="#"&&(e+=i.charAt(0)==="#"?i:"#"+i),e}function ud(e){let t={};if(e){let i=e.indexOf("#");i>=0&&(t.hash=e.substring(i),e=e.substring(0,i));let n=e.indexOf("?");n>=0&&(t.search=e.substring(n),e=e.substring(0,n)),e&&(t.pathname=e)}return t}function U9(e,t,i,n={}){let{window:s=document.defaultView,v5Compat:r=!1}=n,o=s.history,a="POP",l=null,u=d();u==null&&(u=0,o.replaceState({...o.state,idx:u},""));function d(){return(o.state||{idx:null}).idx}function p(){a="POP";let w=d(),b=w==null?null:w-u;u=w,l&&l({action:a,location:C.location,delta:b})}function f(w,b){a="PUSH";let S=Cv(C.location,w,b);u=d()+1;let M=W2(S,u),D=C.createHref(S);try{o.pushState(M,"",D)}catch(R){if(R instanceof DOMException&&R.name==="DataCloneError")throw R;s.location.assign(D)}r&&l&&l({action:a,location:C.location,delta:1})}function m(w,b){a="REPLACE";let S=Cv(C.location,w,b);u=d();let M=W2(S,u),D=C.createHref(S);o.replaceState(M,"",D),r&&l&&l({action:a,location:C.location,delta:0})}function y(w){let b=s.location.origin!=="null"?s.location.origin:s.location.href,S=typeof w=="string"?w:td(w);return S=S.replace(/ $/,"%20"),Xt(b,`No window.location.(origin|href) available to create URL for href: ${S}`),new URL(S,b)}let C={get action(){return a},get location(){return e(s,o)},listen(w){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(V2,p),l=w,()=>{s.removeEventListener(V2,p),l=null}},createHref(w){return t(s,w)},createURL:y,encodeLocation(w){let b=y(w);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:f,replace:m,go(w){return o.go(w)}};return C}var $9=new Set(["lazy","caseSensitive","path","id","index","children"]);function Y9(e){return e.index===!0}function Jw(e,t,i=[],n={}){return e.map((s,r)=>{let o=[...i,String(r)],a=typeof s.id=="string"?s.id:o.join("-");if(Xt(s.index!==!0||!s.children,"Cannot specify children on an index route"),Xt(!n[a],`Found a route id collision on id "${a}".  Route id's must be globally unique within Data Router usages`),Y9(s)){let l={...s,...t(s),id:a};return n[a]=l,l}else{let l={...s,...t(s),id:a,children:void 0};return n[a]=l,s.children&&(l.children=Jw(s.children,t,o,n)),l}})}function ku(e,t,i="/"){return yw(e,t,i,!1)}function yw(e,t,i,n){let s=typeof t=="string"?ud(t):t,r=Ea(s.pathname||"/",i);if(r==null)return null;let o=j4(e);q9(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let u=oY(r);a=sY(o[l],u,n)}return a}function K9(e,t){let{route:i,pathname:n,params:s}=e;return{id:i.id,pathname:n,params:s,data:t[i.id],handle:i.handle}}function j4(e,t=[],i=[],n=""){let s=(r,o,a)=>{let l={relativePath:a===void 0?r.path||"":a,caseSensitive:r.caseSensitive===!0,childrenIndex:o,route:r};l.relativePath.startsWith("/")&&(Xt(l.relativePath.startsWith(n),`Absolute route path "${l.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),l.relativePath=l.relativePath.slice(n.length));let u=yl([n,l.relativePath]),d=i.concat(l);r.children&&r.children.length>0&&(Xt(r.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${u}".`),j4(r.children,t,d,u)),!(r.path==null&&!r.index)&&t.push({path:u,score:iY(u,r.index),routesMeta:d})};return e.forEach((r,o)=>{var a;if(r.path===""||!((a=r.path)!=null&&a.includes("?")))s(r,o);else for(let l of V4(r.path))s(r,o,l)}),t}function V4(e){let t=e.split("/");if(t.length===0)return[];let[i,...n]=t,s=i.endsWith("?"),r=i.replace(/\?$/,"");if(n.length===0)return s?[r,""]:[r];let o=V4(n.join("/")),a=[];return a.push(...o.map(l=>l===""?r:[r,l].join("/"))),s&&a.push(...o),a.map(l=>e.startsWith("/")&&l===""?"/":l)}function q9(e){e.sort((t,i)=>t.score!==i.score?i.score-t.score:nY(t.routesMeta.map(n=>n.childrenIndex),i.routesMeta.map(n=>n.childrenIndex)))}var Z9=/^:[\w-]+$/,X9=3,Q9=2,J9=1,eY=10,tY=-2,U2=e=>e==="*";function iY(e,t){let i=e.split("/"),n=i.length;return i.some(U2)&&(n+=tY),t&&(n+=Q9),i.filter(s=>!U2(s)).reduce((s,r)=>s+(Z9.test(r)?X9:r===""?J9:eY),n)}function nY(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function sY(e,t,i=!1){let{routesMeta:n}=e,s={},r="/",o=[];for(let a=0;a<n.length;++a){let l=n[a],u=a===n.length-1,d=r==="/"?t:t.slice(r.length)||"/",p=eS({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},d),f=l.route;if(!p&&u&&i&&!n[n.length-1].route.index&&(p=eS({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!p)return null;Object.assign(s,p.params),o.push({params:s,pathname:yl([r,p.pathname]),pathnameBase:cY(yl([r,p.pathnameBase])),route:f}),p.pathnameBase!=="/"&&(r=yl([r,p.pathnameBase]))}return o}function eS(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[i,n]=rY(e.path,e.caseSensitive,e.end),s=t.match(i);if(!s)return null;let r=s[0],o=r.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:n.reduce((u,{paramName:d,isOptional:p},f)=>{if(d==="*"){let y=a[f]||"";o=r.slice(0,r.length-y.length).replace(/(.)\/+$/,"$1")}const m=a[f];return p&&!m?u[d]=void 0:u[d]=(m||"").replace(/%2F/g,"/"),u},{}),pathname:r,pathnameBase:o,pattern:e}}function rY(e,t=!1,i=!0){zs(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(n.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function oY(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return zs(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Ea(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let i=t.endsWith("/")?t.length-1:t.length,n=e.charAt(i);return n&&n!=="/"?null:e.slice(i)||"/"}function aY(e,t="/"){let{pathname:i,search:n="",hash:s=""}=typeof e=="string"?ud(e):e;return{pathname:i?i.startsWith("/")?i:lY(i,t):t,search:uY(n),hash:dY(s)}}function lY(e,t){let i=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?i.length>1&&i.pop():s!=="."&&i.push(s)}),i.length>1?i.join("/"):"/"}function xE(e,t,i,n){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${i}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function W4(e){return e.filter((t,i)=>i===0||t.route.path&&t.route.path.length>0)}function yI(e){let t=W4(e);return t.map((i,n)=>n===t.length-1?i.pathname:i.pathnameBase)}function vI(e,t,i,n=!1){let s;typeof e=="string"?s=ud(e):(s={...e},Xt(!s.pathname||!s.pathname.includes("?"),xE("?","pathname","search",s)),Xt(!s.pathname||!s.pathname.includes("#"),xE("#","pathname","hash",s)),Xt(!s.search||!s.search.includes("#"),xE("#","search","hash",s)));let r=e===""||s.pathname==="",o=r?"/":s.pathname,a;if(o==null)a=i;else{let p=t.length-1;if(!n&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),p-=1;s.pathname=f.join("/")}a=p>=0?t[p]:"/"}let l=aY(s,a),u=o&&o!=="/"&&o.endsWith("/"),d=(r||o===".")&&i.endsWith("/");return!l.pathname.endsWith("/")&&(u||d)&&(l.pathname+="/"),l}var yl=e=>e.join("/").replace(/\/\/+/g,"/"),cY=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),uY=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,dY=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,tS=class{constructor(e,t,i,n=!1){this.status=e,this.statusText=t||"",this.internal=n,i instanceof Error?(this.data=i.toString(),this.error=i):this.data=i}};function bv(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var U4=["POST","PUT","PATCH","DELETE"],hY=new Set(U4),pY=["GET",...U4],fY=new Set(pY),gY=new Set([301,302,303,307,308]),mY=new Set([307,308]),ME={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},yY={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},hy={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},CI=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,vY=e=>({hasErrorBoundary:!!e.hasErrorBoundary}),$4="remix-router-transitions",Y4=Symbol("ResetLoaderData");function CY(e){const t=e.window?e.window:typeof window<"u"?window:void 0,i=typeof t<"u"&&typeof t.document<"u"&&typeof t.document.createElement<"u";Xt(e.routes.length>0,"You must provide a non-empty routes array to createRouter");let n=e.mapRouteProperties||vY,s={},r=Jw(e.routes,n,void 0,s),o,a=e.basename||"/",l=e.dataStrategy||MY,u=e.patchRoutesOnNavigation,d={...e.future},p=null,f=new Set,m=null,y=null,C=null,w=e.hydrationData!=null,b=ku(r,e.history.location,a),S=!1,M=null;if(b==null&&!u){let X=Po(404,{pathname:e.history.location.pathname}),{matches:se,route:he}=i3(r);b=se,M={[he.id]:X}}b&&!e.hydrationData&&aa(b,r,e.history.location.pathname).active&&(b=null);let D;if(b)if(b.some(X=>X.route.lazy))D=!1;else if(!b.some(X=>X.route.loader))D=!0;else{let X=e.hydrationData?e.hydrationData.loaderData:null,se=e.hydrationData?e.hydrationData.errors:null;if(se){let he=b.findIndex(Ee=>se[Ee.route.id]!==void 0);D=b.slice(0,he+1).every(Ee=>!iT(Ee.route,X,se))}else D=b.every(he=>!iT(he.route,X,se))}else{D=!1,b=[];let X=aa(null,r,e.history.location.pathname);X.active&&X.matches&&(S=!0,b=X.matches)}let R,A={historyAction:e.history.action,location:e.history.location,matches:b,initialized:D,navigation:ME,restoreScrollPosition:e.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||M,fetchers:new Map,blockers:new Map},k="POP",F=!1,P,L=!1,z=new Map,H=null,V=!1,q=!1,K=new Set,j=new Map,Z=0,W=-1,Y=new Map,G=new Set,U=new Map,te=new Map,ee=new Set,Q=new Map,ue,de=null;function we(){if(p=e.history.listen(({action:X,location:se,delta:he})=>{if(ue){ue(),ue=void 0;return}zs(Q.size===0||he!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let Ee=_s({currentLocation:A.location,nextLocation:se,historyAction:X});if(Ee&&he!=null){let Ye=new Promise(it=>{ue=it});e.history.go(he*-1),_t(Ee,{state:"blocked",location:se,proceed(){_t(Ee,{state:"proceeding",proceed:void 0,reset:void 0,location:se}),Ye.then(()=>e.history.go(he))},reset(){let it=new Map(A.blockers);it.set(Ee,hy),ae({blockers:it})}});return}return Me(X,se)}),i){OY(t,z);let X=()=>NY(t,z);t.addEventListener("pagehide",X),H=()=>t.removeEventListener("pagehide",X)}return A.initialized||Me("POP",A.location,{initialHydration:!0}),R}function ce(){p&&p(),H&&H(),f.clear(),P&&P.abort(),A.fetchers.forEach((X,se)=>ri(se)),A.blockers.forEach((X,se)=>Pt(se))}function pe(X){return f.add(X),()=>f.delete(X)}function ae(X,se={}){A={...A,...X};let he=[],Ee=[];A.fetchers.forEach((Ye,it)=>{Ye.state==="idle"&&(ee.has(it)?he.push(it):Ee.push(it))}),ee.forEach(Ye=>{!A.fetchers.has(Ye)&&!j.has(Ye)&&he.push(Ye)}),[...f].forEach(Ye=>Ye(A,{deletedFetchers:he,viewTransitionOpts:se.viewTransitionOpts,flushSync:se.flushSync===!0})),he.forEach(Ye=>ri(Ye)),Ee.forEach(Ye=>A.fetchers.delete(Ye))}function xe(X,se,{flushSync:he}={}){var ze,Je;let Ee=A.actionData!=null&&A.navigation.formMethod!=null&&ya(A.navigation.formMethod)&&A.navigation.state==="loading"&&((ze=X.state)==null?void 0:ze._isRedirect)!==!0,Ye;se.actionData?Object.keys(se.actionData).length>0?Ye=se.actionData:Ye=null:Ee?Ye=A.actionData:Ye=null;let it=se.loaderData?e3(A.loaderData,se.loaderData,se.matches||[],se.errors):A.loaderData,vt=A.blockers;vt.size>0&&(vt=new Map(vt),vt.forEach((at,hi)=>vt.set(hi,hy)));let Ze=F===!0||A.navigation.formMethod!=null&&ya(A.navigation.formMethod)&&((Je=X.state)==null?void 0:Je._isRedirect)!==!0;o&&(r=o,o=void 0),V||k==="POP"||(k==="PUSH"?e.history.push(X,X.state):k==="REPLACE"&&e.history.replace(X,X.state));let Qe;if(k==="POP"){let at=z.get(A.location.pathname);at&&at.has(X.pathname)?Qe={currentLocation:A.location,nextLocation:X}:z.has(X.pathname)&&(Qe={currentLocation:X,nextLocation:A.location})}else if(L){let at=z.get(A.location.pathname);at?at.add(X.pathname):(at=new Set([X.pathname]),z.set(A.location.pathname,at)),Qe={currentLocation:A.location,nextLocation:X}}ae({...se,actionData:Ye,loaderData:it,historyAction:k,location:X,initialized:!0,navigation:ME,revalidation:"idle",restoreScrollPosition:fo(X,se.matches||A.matches),preventScrollReset:Ze,blockers:vt},{viewTransitionOpts:Qe,flushSync:he===!0}),k="POP",F=!1,L=!1,V=!1,q=!1,de==null||de.resolve(),de=null}async function Ie(X,se){if(typeof X=="number"){e.history.go(X);return}let he=tT(A.location,A.matches,a,X,se==null?void 0:se.fromRouteId,se==null?void 0:se.relative),{path:Ee,submission:Ye,error:it}=$2(!1,he,se),vt=A.location,Ze=Cv(A.location,Ee,se&&se.state);Ze={...Ze,...e.history.encodeLocation(Ze)};let Qe=se&&se.replace!=null?se.replace:void 0,ze="PUSH";Qe===!0?ze="REPLACE":Qe===!1||Ye!=null&&ya(Ye.formMethod)&&Ye.formAction===A.location.pathname+A.location.search&&(ze="REPLACE");let Je=se&&"preventScrollReset"in se?se.preventScrollReset===!0:void 0,at=(se&&se.flushSync)===!0,hi=_s({currentLocation:vt,nextLocation:Ze,historyAction:ze});if(hi){_t(hi,{state:"blocked",location:Ze,proceed(){_t(hi,{state:"proceeding",proceed:void 0,reset:void 0,location:Ze}),Ie(X,se)},reset(){let Fn=new Map(A.blockers);Fn.set(hi,hy),ae({blockers:Fn})}});return}await Me(ze,Ze,{submission:Ye,pendingError:it,preventScrollReset:Je,replace:se&&se.replace,enableViewTransition:se&&se.viewTransition,flushSync:at})}function Fe(){de||(de=BY()),Vi(),ae({revalidation:"loading"});let X=de.promise;return A.navigation.state==="submitting"?X:A.navigation.state==="idle"?(Me(A.historyAction,A.location,{startUninterruptedRevalidation:!0}),X):(Me(k||A.historyAction,A.navigation.location,{overrideNavigation:A.navigation,enableViewTransition:L===!0}),X)}async function Me(X,se,he){P&&P.abort(),P=null,k=X,V=(he&&he.startUninterruptedRevalidation)===!0,Jc(A.location,A.matches),F=(he&&he.preventScrollReset)===!0,L=(he&&he.enableViewTransition)===!0;let Ee=o||r,Ye=he&&he.overrideNavigation,it=he!=null&&he.initialHydration&&A.matches&&A.matches.length>0&&!S?A.matches:ku(Ee,se,a),vt=(he&&he.flushSync)===!0;if(it&&A.initialized&&!q&&IY(A.location,se)&&!(he&&he.submission&&ya(he.submission.formMethod))){xe(se,{matches:it},{flushSync:vt});return}let Ze=aa(it,Ee,se.pathname);if(Ze.active&&Ze.matches&&(it=Ze.matches),!it){let{error:Wi,notFoundMatches:Fi,route:bn}=$a(se.pathname);xe(se,{matches:Fi,loaderData:{},errors:{[bn.id]:Wi}},{flushSync:vt});return}P=new AbortController;let Qe=uf(e.history,se,P.signal,he&&he.submission),ze;if(he&&he.pendingError)ze=[fh(it).route.id,{type:"error",error:he.pendingError}];else if(he&&he.submission&&ya(he.submission.formMethod)){let Wi=await _e(Qe,se,he.submission,it,Ze.active,{replace:he.replace,flushSync:vt});if(Wi.shortCircuited)return;if(Wi.pendingActionResult){let[Fi,bn]=Wi.pendingActionResult;if(Ur(bn)&&bv(bn.error)&&bn.error.status===404){P=null,xe(se,{matches:Wi.matches,loaderData:{},errors:{[Fi]:bn.error}});return}}it=Wi.matches||it,ze=Wi.pendingActionResult,Ye=DE(se,he.submission),vt=!1,Ze.active=!1,Qe=uf(e.history,Qe.url,Qe.signal)}let{shortCircuited:Je,matches:at,loaderData:hi,errors:Fn}=await tt(Qe,se,it,Ze.active,Ye,he&&he.submission,he&&he.fetcherSubmission,he&&he.replace,he&&he.initialHydration===!0,vt,ze);Je||(P=null,xe(se,{matches:at||it,...t3(ze),loaderData:hi,errors:Fn}))}async function _e(X,se,he,Ee,Ye,it={}){Vi();let vt=PY(se,he);if(ae({navigation:vt},{flushSync:it.flushSync===!0}),Ye){let ze=await go(Ee,se.pathname,X.signal);if(ze.type==="aborted")return{shortCircuited:!0};if(ze.type==="error"){let Je=fh(ze.partialMatches).route.id;return{matches:ze.partialMatches,pendingActionResult:[Je,{type:"error",error:ze.error}]}}else if(ze.matches)Ee=ze.matches;else{let{notFoundMatches:Je,error:at,route:hi}=$a(se.pathname);return{matches:Je,pendingActionResult:[hi.id,{type:"error",error:at}]}}}let Ze,Qe=Oy(Ee,se);if(!Qe.route.action&&!Qe.route.lazy)Ze={type:"error",error:Po(405,{method:X.method,pathname:se.pathname,routeId:Qe.route.id})};else if(Ze=(await Nt("action",A,X,[Qe],Ee,null))[Qe.route.id],X.signal.aborted)return{shortCircuited:!0};if(yh(Ze)){let ze;return it&&it.replace!=null?ze=it.replace:ze=X2(Ze.response.headers.get("Location"),new URL(X.url),a)===A.location.pathname+A.location.search,await Pe(X,Ze,!0,{submission:he,replace:ze}),{shortCircuited:!0}}if(Ur(Ze)){let ze=fh(Ee,Qe.route.id);return(it&&it.replace)!==!0&&(k="PUSH"),{matches:Ee,pendingActionResult:[ze.route.id,Ze]}}return{matches:Ee,pendingActionResult:[Qe.route.id,Ze]}}async function tt(X,se,he,Ee,Ye,it,vt,Ze,Qe,ze,Je){let at=Ye||DE(se,it),hi=it||vt||s3(at),Fn=!V&&!Qe;if(Ee){if(Fn){let sn=He(Je);ae({navigation:at,...sn!==void 0?{actionData:sn}:{}},{flushSync:ze})}let ei=await go(he,se.pathname,X.signal);if(ei.type==="aborted")return{shortCircuited:!0};if(ei.type==="error"){let sn=fh(ei.partialMatches).route.id;return{matches:ei.partialMatches,loaderData:{},errors:{[sn]:ei.error}}}else if(ei.matches)he=ei.matches;else{let{error:sn,notFoundMatches:Cr,route:Td}=$a(se.pathname);return{matches:Cr,loaderData:{},errors:{[Td.id]:sn}}}}let Wi=o||r,[Fi,bn]=K2(e.history,A,he,hi,se,Qe===!0,q,K,ee,U,G,Wi,a,Je);if(W=++Z,Fi.length===0&&bn.length===0){let ei=Cn();return xe(se,{matches:he,loaderData:{},errors:Je&&Ur(Je[1])?{[Je[0]]:Je[1].error}:null,...t3(Je),...ei?{fetchers:new Map(A.fetchers)}:{}},{flushSync:ze}),{shortCircuited:!0}}if(Fn){let ei={};if(!Ee){ei.navigation=at;let sn=He(Je);sn!==void 0&&(ei.actionData=sn)}bn.length>0&&(ei.fetchers=Ke(bn)),ae(ei,{flushSync:ze})}bn.forEach(ei=>{bt(ei.key),ei.controller&&j.set(ei.key,ei.controller)});let mo=()=>bn.forEach(ei=>bt(ei.key));P&&P.signal.addEventListener("abort",mo);let{loaderResults:jl,fetcherResults:Ss}=await Ct(A,he,Fi,bn,X);if(X.signal.aborted)return{shortCircuited:!0};P&&P.signal.removeEventListener("abort",mo),bn.forEach(ei=>j.delete(ei.key));let xs=F0(jl);if(xs)return await Pe(X,xs.result,!0,{replace:Ze}),{shortCircuited:!0};if(xs=F0(Ss),xs)return G.add(xs.key),await Pe(X,xs.result,!0,{replace:Ze}),{shortCircuited:!0};let{loaderData:Vl,errors:yo}=J2(A,he,jl,Je,bn,Ss);Qe&&A.errors&&(yo={...A.errors,...yo});let Gi=Cn(),Rd=di(W),Ed=Gi||Rd||bn.length>0;return{matches:he,loaderData:Vl,errors:yo,...Ed?{fetchers:new Map(A.fetchers)}:{}}}function He(X){if(X&&!Ur(X[1]))return{[X[0]]:X[1].data};if(A.actionData)return Object.keys(A.actionData).length===0?null:A.actionData}function Ke(X){return X.forEach(se=>{let he=A.fetchers.get(se.key),Ee=py(void 0,he?he.data:void 0);A.fetchers.set(se.key,Ee)}),new Map(A.fetchers)}async function yt(X,se,he,Ee){bt(X);let Ye=(Ee&&Ee.flushSync)===!0,it=o||r,vt=tT(A.location,A.matches,a,he,se,Ee==null?void 0:Ee.relative),Ze=ku(it,vt,a),Qe=aa(Ze,it,vt);if(Qe.active&&Qe.matches&&(Ze=Qe.matches),!Ze){Ei(X,se,Po(404,{pathname:vt}),{flushSync:Ye});return}let{path:ze,submission:Je,error:at}=$2(!0,vt,Ee);if(at){Ei(X,se,at,{flushSync:Ye});return}let hi=Oy(Ze,ze),Fn=(Ee&&Ee.preventScrollReset)===!0;if(Je&&ya(Je.formMethod)){await qe(X,se,ze,hi,Ze,Qe.active,Ye,Fn,Je);return}U.set(X,{routeId:se,path:ze}),await Ve(X,se,ze,hi,Ze,Qe.active,Ye,Fn,Je)}async function qe(X,se,he,Ee,Ye,it,vt,Ze,Qe){Vi(),U.delete(X);function ze(rn){if(!rn.route.action&&!rn.route.lazy){let Wl=Po(405,{method:Qe.formMethod,pathname:he,routeId:se});return Ei(X,se,Wl,{flushSync:vt}),!0}return!1}if(!it&&ze(Ee))return;let Je=A.fetchers.get(X);Pi(X,FY(Qe,Je),{flushSync:vt});let at=new AbortController,hi=uf(e.history,he,at.signal,Qe);if(it){let rn=await go(Ye,he,hi.signal);if(rn.type==="aborted")return;if(rn.type==="error"){Ei(X,se,rn.error,{flushSync:vt});return}else if(rn.matches){if(Ye=rn.matches,Ee=Oy(Ye,he),ze(Ee))return}else{Ei(X,se,Po(404,{pathname:he}),{flushSync:vt});return}}j.set(X,at);let Fn=Z,Fi=(await Nt("action",A,hi,[Ee],Ye,X))[Ee.route.id];if(hi.signal.aborted){j.get(X)===at&&j.delete(X);return}if(ee.has(X)){if(yh(Fi)||Ur(Fi)){Pi(X,Ru(void 0));return}}else{if(yh(Fi))if(j.delete(X),W>Fn){Pi(X,Ru(void 0));return}else return G.add(X),Pi(X,py(Qe)),Pe(hi,Fi,!1,{fetcherSubmission:Qe,preventScrollReset:Ze});if(Ur(Fi)){Ei(X,se,Fi.error);return}}let bn=A.navigation.location||A.location,mo=uf(e.history,bn,at.signal),jl=o||r,Ss=A.navigation.state!=="idle"?ku(jl,A.navigation.location,a):A.matches;Xt(Ss,"Didn't find any matches after fetcher action");let xs=++Z;Y.set(X,xs);let Vl=py(Qe,Fi.data);A.fetchers.set(X,Vl);let[yo,Gi]=K2(e.history,A,Ss,Qe,bn,!1,q,K,ee,U,G,jl,a,[Ee.route.id,Fi]);Gi.filter(rn=>rn.key!==X).forEach(rn=>{let Wl=rn.key,Rb=A.fetchers.get(Wl),Lp=py(void 0,Rb?Rb.data:void 0);A.fetchers.set(Wl,Lp),bt(Wl),rn.controller&&j.set(Wl,rn.controller)}),ae({fetchers:new Map(A.fetchers)});let Rd=()=>Gi.forEach(rn=>bt(rn.key));at.signal.addEventListener("abort",Rd);let{loaderResults:Ed,fetcherResults:ei}=await Ct(A,Ss,yo,Gi,mo);if(at.signal.aborted)return;at.signal.removeEventListener("abort",Rd),Y.delete(X),j.delete(X),Gi.forEach(rn=>j.delete(rn.key));let sn=F0(Ed);if(sn)return Pe(mo,sn.result,!1,{preventScrollReset:Ze});if(sn=F0(ei),sn)return G.add(sn.key),Pe(mo,sn.result,!1,{preventScrollReset:Ze});let{loaderData:Cr,errors:Td}=J2(A,Ss,Ed,void 0,Gi,ei);if(A.fetchers.has(X)){let rn=Ru(Fi.data);A.fetchers.set(X,rn)}di(xs),A.navigation.state==="loading"&&xs>W?(Xt(k,"Expected pending action"),P&&P.abort(),xe(A.navigation.location,{matches:Ss,loaderData:Cr,errors:Td,fetchers:new Map(A.fetchers)})):(ae({errors:Td,loaderData:e3(A.loaderData,Cr,Ss,Td),fetchers:new Map(A.fetchers)}),q=!1)}async function Ve(X,se,he,Ee,Ye,it,vt,Ze,Qe){let ze=A.fetchers.get(X);Pi(X,py(Qe,ze?ze.data:void 0),{flushSync:vt});let Je=new AbortController,at=uf(e.history,he,Je.signal);if(it){let Fi=await go(Ye,he,at.signal);if(Fi.type==="aborted")return;if(Fi.type==="error"){Ei(X,se,Fi.error,{flushSync:vt});return}else if(Fi.matches)Ye=Fi.matches,Ee=Oy(Ye,he);else{Ei(X,se,Po(404,{pathname:he}),{flushSync:vt});return}}j.set(X,Je);let hi=Z,Wi=(await Nt("loader",A,at,[Ee],Ye,X))[Ee.route.id];if(j.get(X)===Je&&j.delete(X),!at.signal.aborted){if(ee.has(X)){Pi(X,Ru(void 0));return}if(yh(Wi))if(W>hi){Pi(X,Ru(void 0));return}else{G.add(X),await Pe(at,Wi,!1,{preventScrollReset:Ze});return}if(Ur(Wi)){Ei(X,se,Wi.error);return}Pi(X,Ru(Wi.data))}}async function Pe(X,se,he,{submission:Ee,fetcherSubmission:Ye,preventScrollReset:it,replace:vt}={}){se.response.headers.has("X-Remix-Revalidate")&&(q=!0);let Ze=se.response.headers.get("Location");Xt(Ze,"Expected a Location header on the redirect Response"),Ze=X2(Ze,new URL(X.url),a);let Qe=Cv(A.location,Ze,{_isRedirect:!0});if(i){let Wi=!1;if(se.response.headers.has("X-Remix-Reload-Document"))Wi=!0;else if(CI.test(Ze)){const Fi=e.history.createURL(Ze);Wi=Fi.origin!==t.location.origin||Ea(Fi.pathname,a)==null}if(Wi){vt?t.location.replace(Ze):t.location.assign(Ze);return}}P=null;let ze=vt===!0||se.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:Je,formAction:at,formEncType:hi}=A.navigation;!Ee&&!Ye&&Je&&at&&hi&&(Ee=s3(A.navigation));let Fn=Ee||Ye;if(mY.has(se.response.status)&&Fn&&ya(Fn.formMethod))await Me(ze,Qe,{submission:{...Fn,formAction:Ze},preventScrollReset:it||F,enableViewTransition:he?L:void 0});else{let Wi=DE(Qe,Ee);await Me(ze,Qe,{overrideNavigation:Wi,fetcherSubmission:Ye,preventScrollReset:it||F,enableViewTransition:he?L:void 0})}}async function Nt(X,se,he,Ee,Ye,it){let vt,Ze={};try{vt=await DY(l,X,se,he,Ee,Ye,it,s,n)}catch(Qe){return Ee.forEach(ze=>{Ze[ze.route.id]={type:"error",error:Qe}}),Ze}for(let[Qe,ze]of Object.entries(vt))if(LY(ze)){let Je=ze.result;Ze[Qe]={type:"redirect",response:TY(Je,he,Qe,Ye,a)}}else Ze[Qe]=await EY(ze);return Ze}async function Ct(X,se,he,Ee,Ye){let it=Nt("loader",X,Ye,he,se,null),vt=Promise.all(Ee.map(async ze=>{if(ze.matches&&ze.match&&ze.controller){let at=(await Nt("loader",X,uf(e.history,ze.path,ze.controller.signal),[ze.match],ze.matches,ze.key))[ze.match.route.id];return{[ze.key]:at}}else return Promise.resolve({[ze.key]:{type:"error",error:Po(404,{pathname:ze.path})}})})),Ze=await it,Qe=(await vt).reduce((ze,Je)=>Object.assign(ze,Je),{});return{loaderResults:Ze,fetcherResults:Qe}}function Vi(){q=!0,U.forEach((X,se)=>{j.has(se)&&K.add(se),bt(se)})}function Pi(X,se,he={}){A.fetchers.set(X,se),ae({fetchers:new Map(A.fetchers)},{flushSync:(he&&he.flushSync)===!0})}function Ei(X,se,he,Ee={}){let Ye=fh(A.matches,se);ri(X),ae({errors:{[Ye.route.id]:he},fetchers:new Map(A.fetchers)},{flushSync:(Ee&&Ee.flushSync)===!0})}function Et(X){return te.set(X,(te.get(X)||0)+1),ee.has(X)&&ee.delete(X),A.fetchers.get(X)||yY}function ri(X){let se=A.fetchers.get(X);j.has(X)&&!(se&&se.state==="loading"&&Y.has(X))&&bt(X),U.delete(X),Y.delete(X),G.delete(X),ee.delete(X),K.delete(X),A.fetchers.delete(X)}function as(X){let se=(te.get(X)||0)-1;se<=0?(te.delete(X),ee.add(X)):te.set(X,se),ae({fetchers:new Map(A.fetchers)})}function bt(X){let se=j.get(X);se&&(se.abort(),j.delete(X))}function ws(X){for(let se of X){let he=Et(se),Ee=Ru(he.data);A.fetchers.set(se,Ee)}}function Cn(){let X=[],se=!1;for(let he of G){let Ee=A.fetchers.get(he);Xt(Ee,`Expected fetcher: ${he}`),Ee.state==="loading"&&(G.delete(he),X.push(he),se=!0)}return ws(X),se}function di(X){let se=[];for(let[he,Ee]of Y)if(Ee<X){let Ye=A.fetchers.get(he);Xt(Ye,`Expected fetcher: ${he}`),Ye.state==="loading"&&(bt(he),Y.delete(he),se.push(he))}return ws(se),se.length>0}function ot(X,se){let he=A.blockers.get(X)||hy;return Q.get(X)!==se&&Q.set(X,se),he}function Pt(X){A.blockers.delete(X),Q.delete(X)}function _t(X,se){let he=A.blockers.get(X)||hy;Xt(he.state==="unblocked"&&se.state==="blocked"||he.state==="blocked"&&se.state==="blocked"||he.state==="blocked"&&se.state==="proceeding"||he.state==="blocked"&&se.state==="unblocked"||he.state==="proceeding"&&se.state==="unblocked",`Invalid blocker state transition: ${he.state} -> ${se.state}`);let Ee=new Map(A.blockers);Ee.set(X,se),ae({blockers:Ee})}function _s({currentLocation:X,nextLocation:se,historyAction:he}){if(Q.size===0)return;Q.size>1&&zs(!1,"A router only supports one blocker at a time");let Ee=Array.from(Q.entries()),[Ye,it]=Ee[Ee.length-1],vt=A.blockers.get(Ye);if(!(vt&&vt.state==="proceeding")&&it({currentLocation:X,nextLocation:se,historyAction:he}))return Ye}function $a(X){let se=Po(404,{pathname:X}),he=o||r,{matches:Ee,route:Ye}=i3(he);return{notFoundMatches:Ee,route:Ye,error:se}}function gm(X,se,he){if(m=X,C=se,y=he||null,!w&&A.navigation===ME){w=!0;let Ee=fo(A.location,A.matches);Ee!=null&&ae({restoreScrollPosition:Ee})}return()=>{m=null,C=null,y=null}}function _l(X,se){return y&&y(X,se.map(Ee=>K9(Ee,A.loaderData)))||X.key}function Jc(X,se){if(m&&C){let he=_l(X,se);m[he]=C()}}function fo(X,se){if(m){let he=_l(X,se),Ee=m[he];if(typeof Ee=="number")return Ee}return null}function aa(X,se,he){if(u)if(X){if(Object.keys(X[0].params).length>0)return{active:!0,matches:yw(se,he,a,!0)}}else return{active:!0,matches:yw(se,he,a,!0)||[]};return{active:!1,matches:null}}async function go(X,se,he){if(!u)return{type:"success",matches:X};let Ee=X;for(;;){let Ye=o==null,it=o||r,vt=s;try{await u({path:se,matches:Ee,patch:(ze,Je)=>{he.aborted||Z2(ze,Je,it,vt,n)}})}catch(ze){return{type:"error",error:ze,partialMatches:Ee}}finally{Ye&&!he.aborted&&(r=[...r])}if(he.aborted)return{type:"aborted"};let Ze=ku(it,se,a);if(Ze)return{type:"success",matches:Ze};let Qe=yw(it,se,a,!0);if(!Qe||Ee.length===Qe.length&&Ee.every((ze,Je)=>ze.route.id===Qe[Je].route.id))return{type:"success",matches:null};Ee=Qe}}function mm(X){s={},o=Jw(X,n,void 0,s)}function Mt(X,se){let he=o==null;Z2(X,se,o||r,s,n),he&&(r=[...r],ae({}))}return R={get basename(){return a},get future(){return d},get state(){return A},get routes(){return r},get window(){return t},initialize:we,subscribe:pe,enableScrollRestoration:gm,navigate:Ie,fetch:yt,revalidate:Fe,createHref:X=>e.history.createHref(X),encodeLocation:X=>e.history.encodeLocation(X),getFetcher:Et,deleteFetcher:as,dispose:ce,getBlocker:ot,deleteBlocker:Pt,patchRoutes:Mt,_internalFetchControllers:j,_internalSetRoutes:mm},R}function bY(e){return e!=null&&("formData"in e&&e.formData!=null||"body"in e&&e.body!==void 0)}function tT(e,t,i,n,s,r){let o,a;if(s){o=[];for(let u of t)if(o.push(u),u.route.id===s){a=u;break}}else o=t,a=t[t.length-1];let l=vI(n||".",yI(o),Ea(e.pathname,i)||e.pathname,r==="path");if(n==null&&(l.search=e.search,l.hash=e.hash),(n==null||n===""||n===".")&&a){let u=bI(l.search);if(a.route.index&&!u)l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index";else if(!a.route.index&&u){let d=new URLSearchParams(l.search),p=d.getAll("index");d.delete("index"),p.filter(m=>m).forEach(m=>d.append("index",m));let f=d.toString();l.search=f?`?${f}`:""}}return i!=="/"&&(l.pathname=l.pathname==="/"?i:yl([i,l.pathname])),td(l)}function $2(e,t,i){if(!i||!bY(i))return{path:t};if(i.formMethod&&!kY(i.formMethod))return{path:t,error:Po(405,{method:i.formMethod})};let n=()=>({path:t,error:Po(400,{type:"invalid-body"})}),r=(i.formMethod||"get").toUpperCase(),o=q4(t);if(i.body!==void 0){if(i.formEncType==="text/plain"){if(!ya(r))return n();let p=typeof i.body=="string"?i.body:i.body instanceof FormData||i.body instanceof URLSearchParams?Array.from(i.body.entries()).reduce((f,[m,y])=>`${f}${m}=${y}
`,""):String(i.body);return{path:t,submission:{formMethod:r,formAction:o,formEncType:i.formEncType,formData:void 0,json:void 0,text:p}}}else if(i.formEncType==="application/json"){if(!ya(r))return n();try{let p=typeof i.body=="string"?JSON.parse(i.body):i.body;return{path:t,submission:{formMethod:r,formAction:o,formEncType:i.formEncType,formData:void 0,json:p,text:void 0}}}catch{return n()}}}Xt(typeof FormData=="function","FormData is not available in this environment");let a,l;if(i.formData)a=nT(i.formData),l=i.formData;else if(i.body instanceof FormData)a=nT(i.body),l=i.body;else if(i.body instanceof URLSearchParams)a=i.body,l=Q2(a);else if(i.body==null)a=new URLSearchParams,l=new FormData;else try{a=new URLSearchParams(i.body),l=Q2(a)}catch{return n()}let u={formMethod:r,formAction:o,formEncType:i&&i.formEncType||"application/x-www-form-urlencoded",formData:l,json:void 0,text:void 0};if(ya(u.formMethod))return{path:t,submission:u};let d=ud(t);return e&&d.search&&bI(d.search)&&a.append("index",""),d.search=`?${a}`,{path:td(d),submission:u}}function Y2(e,t,i=!1){let n=e.findIndex(s=>s.route.id===t);return n>=0?e.slice(0,i?n+1:n):e}function K2(e,t,i,n,s,r,o,a,l,u,d,p,f,m){let y=m?Ur(m[1])?m[1].error:m[1].data:void 0,C=e.createURL(t.location),w=e.createURL(s),b=i;r&&t.errors?b=Y2(i,Object.keys(t.errors)[0],!0):m&&Ur(m[1])&&(b=Y2(i,m[0]));let S=m?m[1].statusCode:void 0,M=S&&S>=400,D=b.filter((A,k)=>{let{route:F}=A;if(F.lazy)return!0;if(F.loader==null)return!1;if(r)return iT(F,t.loaderData,t.errors);if(wY(t.loaderData,t.matches[k],A))return!0;let P=t.matches[k],L=A;return q2(A,{currentUrl:C,currentParams:P.params,nextUrl:w,nextParams:L.params,...n,actionResult:y,actionStatus:S,defaultShouldRevalidate:M?!1:o||C.pathname+C.search===w.pathname+w.search||C.search!==w.search||SY(P,L)})}),R=[];return u.forEach((A,k)=>{if(r||!i.some(H=>H.route.id===A.routeId)||l.has(k))return;let F=ku(p,A.path,f);if(!F){R.push({key:k,routeId:A.routeId,path:A.path,matches:null,match:null,controller:null});return}let P=t.fetchers.get(k),L=Oy(F,A.path),z=!1;d.has(k)?z=!1:a.has(k)?(a.delete(k),z=!0):P&&P.state!=="idle"&&P.data===void 0?z=o:z=q2(L,{currentUrl:C,currentParams:t.matches[t.matches.length-1].params,nextUrl:w,nextParams:i[i.length-1].params,...n,actionResult:y,actionStatus:S,defaultShouldRevalidate:M?!1:o}),z&&R.push({key:k,routeId:A.routeId,path:A.path,matches:F,match:L,controller:new AbortController})}),[D,R]}function iT(e,t,i){if(e.lazy)return!0;if(!e.loader)return!1;let n=t!=null&&t[e.id]!==void 0,s=i!=null&&i[e.id]!==void 0;return!n&&s?!1:typeof e.loader=="function"&&e.loader.hydrate===!0?!0:!n&&!s}function wY(e,t,i){let n=!t||i.route.id!==t.route.id,s=!e.hasOwnProperty(i.route.id);return n||s}function SY(e,t){let i=e.route.path;return e.pathname!==t.pathname||i!=null&&i.endsWith("*")&&e.params["*"]!==t.params["*"]}function q2(e,t){if(e.route.shouldRevalidate){let i=e.route.shouldRevalidate(t);if(typeof i=="boolean")return i}return t.defaultShouldRevalidate}function Z2(e,t,i,n,s){let r;if(e){let l=n[e];Xt(l,`No route found to patch children into: routeId = ${e}`),l.children||(l.children=[]),r=l.children}else r=i;let o=t.filter(l=>!r.some(u=>K4(l,u))),a=Jw(o,s,[e||"_","patch",String((r==null?void 0:r.length)||"0")],n);r.push(...a)}function K4(e,t){return"id"in e&&"id"in t&&e.id===t.id?!0:e.index===t.index&&e.path===t.path&&e.caseSensitive===t.caseSensitive?(!e.children||e.children.length===0)&&(!t.children||t.children.length===0)?!0:e.children.every((i,n)=>{var s;return(s=t.children)==null?void 0:s.some(r=>K4(i,r))}):!1}async function xY(e,t,i){if(!e.lazy)return;let n=await e.lazy();if(!e.lazy)return;let s=i[e.id];Xt(s,"No route found in manifest");let r={};for(let o in n){let l=s[o]!==void 0&&o!=="hasErrorBoundary";zs(!l,`Route "${s.id}" has a static property "${o}" defined but its lazy function is also returning a value for this property. The lazy route property "${o}" will be ignored.`),!l&&!$9.has(o)&&(r[o]=n[o])}Object.assign(s,r),Object.assign(s,{...t(s),lazy:void 0})}async function MY({matches:e}){let t=e.filter(n=>n.shouldLoad);return(await Promise.all(t.map(n=>n.resolve()))).reduce((n,s,r)=>Object.assign(n,{[t[r].route.id]:s}),{})}async function DY(e,t,i,n,s,r,o,a,l,u){let d=r.map(m=>m.route.lazy?xY(m.route,l,a):void 0),p=r.map((m,y)=>{let C=d[y],w=s.some(S=>S.route.id===m.route.id);return{...m,shouldLoad:w,resolve:async S=>(S&&n.method==="GET"&&(m.route.lazy||m.route.loader)&&(w=!0),w?RY(t,n,m,C,S,u):Promise.resolve({type:"data",result:void 0}))}}),f=await e({matches:p,request:n,params:r[0].params,fetcherKey:o,context:u});try{await Promise.all(d)}catch{}return f}async function RY(e,t,i,n,s,r){let o,a,l=u=>{let d,p=new Promise((y,C)=>d=C);a=()=>d(),t.signal.addEventListener("abort",a);let f=y=>typeof u!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${e}" [routeId: ${i.route.id}]`)):u({request:t,params:i.params,context:r},...y!==void 0?[y]:[]),m=(async()=>{try{return{type:"data",result:await(s?s(C=>f(C)):f())}}catch(y){return{type:"error",result:y}}})();return Promise.race([m,p])};try{let u=i.route[e];if(n)if(u){let d,[p]=await Promise.all([l(u).catch(f=>{d=f}),n]);if(d!==void 0)throw d;o=p}else if(await n,u=i.route[e],u)o=await l(u);else if(e==="action"){let d=new URL(t.url),p=d.pathname+d.search;throw Po(405,{method:t.method,pathname:p,routeId:i.route.id})}else return{type:"data",result:void 0};else if(u)o=await l(u);else{let d=new URL(t.url),p=d.pathname+d.search;throw Po(404,{pathname:p})}}catch(u){return{type:"error",result:u}}finally{a&&t.signal.removeEventListener("abort",a)}return o}async function EY(e){var n,s,r,o,a,l;let{result:t,type:i}=e;if(Z4(t)){let u;try{let d=t.headers.get("Content-Type");d&&/\bapplication\/json\b/.test(d)?t.body==null?u=null:u=await t.json():u=await t.text()}catch(d){return{type:"error",error:d}}return i==="error"?{type:"error",error:new tS(t.status,t.statusText,u),statusCode:t.status,headers:t.headers}:{type:"data",data:u,statusCode:t.status,headers:t.headers}}return i==="error"?n3(t)?t.data instanceof Error?{type:"error",error:t.data,statusCode:(n=t.init)==null?void 0:n.status,headers:(s=t.init)!=null&&s.headers?new Headers(t.init.headers):void 0}:{type:"error",error:new tS(((r=t.init)==null?void 0:r.status)||500,void 0,t.data),statusCode:bv(t)?t.status:void 0,headers:(o=t.init)!=null&&o.headers?new Headers(t.init.headers):void 0}:{type:"error",error:t,statusCode:bv(t)?t.status:void 0}:n3(t)?{type:"data",data:t.data,statusCode:(a=t.init)==null?void 0:a.status,headers:(l=t.init)!=null&&l.headers?new Headers(t.init.headers):void 0}:{type:"data",data:t}}function TY(e,t,i,n,s){let r=e.headers.get("Location");if(Xt(r,"Redirects returned/thrown from loaders/actions must have a Location header"),!CI.test(r)){let o=n.slice(0,n.findIndex(a=>a.route.id===i)+1);r=tT(new URL(t.url),o,s,r),e.headers.set("Location",r)}return e}function X2(e,t,i){if(CI.test(e)){let n=e,s=n.startsWith("//")?new URL(t.protocol+n):new URL(n),r=Ea(s.pathname,i)!=null;if(s.origin===t.origin&&r)return s.pathname+s.search+s.hash}return e}function uf(e,t,i,n){let s=e.createURL(q4(t)).toString(),r={signal:i};if(n&&ya(n.formMethod)){let{formMethod:o,formEncType:a}=n;r.method=o.toUpperCase(),a==="application/json"?(r.headers=new Headers({"Content-Type":a}),r.body=JSON.stringify(n.json)):a==="text/plain"?r.body=n.text:a==="application/x-www-form-urlencoded"&&n.formData?r.body=nT(n.formData):r.body=n.formData}return new Request(s,r)}function nT(e){let t=new URLSearchParams;for(let[i,n]of e.entries())t.append(i,typeof n=="string"?n:n.name);return t}function Q2(e){let t=new FormData;for(let[i,n]of e.entries())t.append(i,n);return t}function AY(e,t,i,n=!1,s=!1){let r={},o=null,a,l=!1,u={},d=i&&Ur(i[1])?i[1].error:void 0;return e.forEach(p=>{if(!(p.route.id in t))return;let f=p.route.id,m=t[f];if(Xt(!yh(m),"Cannot handle redirect results in processLoaderData"),Ur(m)){let y=m.error;if(d!==void 0&&(y=d,d=void 0),o=o||{},s)o[f]=y;else{let C=fh(e,f);o[C.route.id]==null&&(o[C.route.id]=y)}n||(r[f]=Y4),l||(l=!0,a=bv(m.error)?m.error.status:500),m.headers&&(u[f]=m.headers)}else r[f]=m.data,m.statusCode&&m.statusCode!==200&&!l&&(a=m.statusCode),m.headers&&(u[f]=m.headers)}),d!==void 0&&i&&(o={[i[0]]:d},r[i[0]]=void 0),{loaderData:r,errors:o,statusCode:a||200,loaderHeaders:u}}function J2(e,t,i,n,s,r){let{loaderData:o,errors:a}=AY(t,i,n);return s.forEach(l=>{let{key:u,match:d,controller:p}=l,f=r[u];if(Xt(f,"Did not find corresponding fetcher result"),!(p&&p.signal.aborted))if(Ur(f)){let m=fh(e.matches,d==null?void 0:d.route.id);a&&a[m.route.id]||(a={...a,[m.route.id]:f.error}),e.fetchers.delete(u)}else if(yh(f))Xt(!1,"Unhandled fetcher revalidation redirect");else{let m=Ru(f.data);e.fetchers.set(u,m)}}),{loaderData:o,errors:a}}function e3(e,t,i,n){let s=Object.entries(t).filter(([,r])=>r!==Y4).reduce((r,[o,a])=>(r[o]=a,r),{});for(let r of i){let o=r.route.id;if(!t.hasOwnProperty(o)&&e.hasOwnProperty(o)&&r.route.loader&&(s[o]=e[o]),n&&n.hasOwnProperty(o))break}return s}function t3(e){return e?Ur(e[1])?{actionData:{}}:{actionData:{[e[0]]:e[1].data}}:{}}function fh(e,t){return(t?e.slice(0,e.findIndex(n=>n.route.id===t)+1):[...e]).reverse().find(n=>n.route.hasErrorBoundary===!0)||e[0]}function i3(e){let t=e.length===1?e[0]:e.find(i=>i.index||!i.path||i.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function Po(e,{pathname:t,routeId:i,method:n,type:s,message:r}={}){let o="Unknown Server Error",a="Unknown @remix-run/router error";return e===400?(o="Bad Request",n&&t&&i?a=`You made a ${n} request to "${t}" but did not provide a \`loader\` for route "${i}", so there is no way to handle the request.`:s==="invalid-body"&&(a="Unable to encode submission body")):e===403?(o="Forbidden",a=`Route "${i}" does not match URL "${t}"`):e===404?(o="Not Found",a=`No route matches URL "${t}"`):e===405&&(o="Method Not Allowed",n&&t&&i?a=`You made a ${n.toUpperCase()} request to "${t}" but did not provide an \`action\` for route "${i}", so there is no way to handle the request.`:n&&(a=`Invalid request method "${n.toUpperCase()}"`)),new tS(e||500,o,new Error(a),!0)}function F0(e){let t=Object.entries(e);for(let i=t.length-1;i>=0;i--){let[n,s]=t[i];if(yh(s))return{key:n,result:s}}}function q4(e){let t=typeof e=="string"?ud(e):e;return td({...t,hash:""})}function IY(e,t){return e.pathname!==t.pathname||e.search!==t.search?!1:e.hash===""?t.hash!=="":e.hash===t.hash?!0:t.hash!==""}function LY(e){return Z4(e.result)&&gY.has(e.result.status)}function Ur(e){return e.type==="error"}function yh(e){return(e&&e.type)==="redirect"}function n3(e){return typeof e=="object"&&e!=null&&"type"in e&&"data"in e&&"init"in e&&e.type==="DataWithResponseInit"}function Z4(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.headers=="object"&&typeof e.body<"u"}function kY(e){return fY.has(e.toUpperCase())}function ya(e){return hY.has(e.toUpperCase())}function bI(e){return new URLSearchParams(e).getAll("index").some(t=>t==="")}function Oy(e,t){let i=typeof t=="string"?ud(t).search:t.search;if(e[e.length-1].route.index&&bI(i||""))return e[e.length-1];let n=W4(e);return n[n.length-1]}function s3(e){let{formMethod:t,formAction:i,formEncType:n,text:s,formData:r,json:o}=e;if(!(!t||!i||!n)){if(s!=null)return{formMethod:t,formAction:i,formEncType:n,formData:void 0,json:void 0,text:s};if(r!=null)return{formMethod:t,formAction:i,formEncType:n,formData:r,json:void 0,text:void 0};if(o!==void 0)return{formMethod:t,formAction:i,formEncType:n,formData:void 0,json:o,text:void 0}}}function DE(e,t){return t?{state:"loading",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}:{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function PY(e,t){return{state:"submitting",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}}function py(e,t){return e?{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function FY(e,t){return{state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t?t.data:void 0}}function Ru(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function OY(e,t){try{let i=e.sessionStorage.getItem($4);if(i){let n=JSON.parse(i);for(let[s,r]of Object.entries(n||{}))r&&Array.isArray(r)&&t.set(s,new Set(r||[]))}}catch{}}function NY(e,t){if(t.size>0){let i={};for(let[n,s]of t)i[n]=[...s];try{e.sessionStorage.setItem($4,JSON.stringify(i))}catch(n){zs(!1,`Failed to save applied view transitions in sessionStorage (${n}).`)}}}function BY(){let e,t,i=new Promise((n,s)=>{e=async r=>{n(r);try{await i}catch{}},t=async r=>{s(r);try{await i}catch{}}});return{promise:i,resolve:e,reject:t}}var dp=E.createContext(null);dp.displayName="DataRouter";var vC=E.createContext(null);vC.displayName="DataRouterState";var wI=E.createContext({isTransitioning:!1});wI.displayName="ViewTransition";var X4=E.createContext(new Map);X4.displayName="Fetchers";var zY=E.createContext(null);zY.displayName="Await";var Fl=E.createContext(null);Fl.displayName="Navigation";var Cx=E.createContext(null);Cx.displayName="Location";var Na=E.createContext({outlet:null,matches:[],isDataRoute:!1});Na.displayName="Route";var SI=E.createContext(null);SI.displayName="RouteError";function GY(e,{relative:t}={}){Xt(CC(),"useHref() may be used only in the context of a <Router> component.");let{basename:i,navigator:n}=E.useContext(Fl),{hash:s,pathname:r,search:o}=bC(e,{relative:t}),a=r;return i!=="/"&&(a=r==="/"?i:yl([i,r])),n.createHref({pathname:a,search:o,hash:s})}function CC(){return E.useContext(Cx)!=null}function hp(){return Xt(CC(),"useLocation() may be used only in the context of a <Router> component."),E.useContext(Cx).location}var Q4="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function J4(e){E.useContext(Fl).static||E.useLayoutEffect(e)}function pp(){let{isDataRoute:e}=E.useContext(Na);return e?tK():HY()}function HY(){Xt(CC(),"useNavigate() may be used only in the context of a <Router> component.");let e=E.useContext(dp),{basename:t,navigator:i}=E.useContext(Fl),{matches:n}=E.useContext(Na),{pathname:s}=hp(),r=JSON.stringify(yI(n)),o=E.useRef(!1);return J4(()=>{o.current=!0}),E.useCallback((l,u={})=>{if(zs(o.current,Q4),!o.current)return;if(typeof l=="number"){i.go(l);return}let d=vI(l,JSON.parse(r),s,u.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:yl([t,d.pathname])),(u.replace?i.replace:i.push)(d,u.state,u)},[t,i,r,s,e])}var _Y=E.createContext(null);function jY(e){let t=E.useContext(Na).outlet;return t&&E.createElement(_Y.Provider,{value:e},t)}function VY(){let{matches:e}=E.useContext(Na),t=e[e.length-1];return t?t.params:{}}function bC(e,{relative:t}={}){let{matches:i}=E.useContext(Na),{pathname:n}=hp(),s=JSON.stringify(yI(i));return E.useMemo(()=>vI(e,JSON.parse(s),n,t==="path"),[e,s,n,t])}function WY(e,t,i,n){Xt(CC(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s,static:r}=E.useContext(Fl),{matches:o}=E.useContext(Na),a=o[o.length-1],l=a?a.params:{},u=a?a.pathname:"/",d=a?a.pathnameBase:"/",p=a&&a.route;{let S=p&&p.path||"";eH(u,!p||S.endsWith("*")||S.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${S}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${S}"> to <Route path="${S==="/"?"*":`${S}/*`}">.`)}let f=hp(),m;m=f;let y=m.pathname||"/",C=y;if(d!=="/"){let S=d.replace(/^\//,"").split("/");C="/"+y.replace(/^\//,"").split("/").slice(S.length).join("/")}let w=!r&&i&&i.matches&&i.matches.length>0?i.matches:ku(e,{pathname:C});return zs(p||w!=null,`No routes matched location "${m.pathname}${m.search}${m.hash}" `),zs(w==null||w[w.length-1].route.element!==void 0||w[w.length-1].route.Component!==void 0||w[w.length-1].route.lazy!==void 0,`Matched leaf route at location "${m.pathname}${m.search}${m.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),qY(w&&w.map(S=>Object.assign({},S,{params:Object.assign({},l,S.params),pathname:yl([d,s.encodeLocation?s.encodeLocation(S.pathname).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?d:yl([d,s.encodeLocation?s.encodeLocation(S.pathnameBase).pathname:S.pathnameBase])})),o,i,n)}function UY(){let e=eK(),t=bv(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),i=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:n},r={padding:"2px 4px",backgroundColor:n},o=null;return console.error("Error handled by React Router default ErrorBoundary:",e),o=E.createElement(E.Fragment,null,E.createElement("p",null,"💿 Hey developer 👋"),E.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",E.createElement("code",{style:r},"ErrorBoundary")," or"," ",E.createElement("code",{style:r},"errorElement")," prop on your route.")),E.createElement(E.Fragment,null,E.createElement("h2",null,"Unexpected Application Error!"),E.createElement("h3",{style:{fontStyle:"italic"}},t),i?E.createElement("pre",{style:s},i):null,o)}var $Y=E.createElement(UY,null),YY=class extends E.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?E.createElement(Na.Provider,{value:this.props.routeContext},E.createElement(SI.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function KY({routeContext:e,match:t,children:i}){let n=E.useContext(dp);return n&&n.static&&n.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=t.route.id),E.createElement(Na.Provider,{value:e},i)}function qY(e,t=[],i=null,n=null){if(e==null){if(!i)return null;if(i.errors)e=i.matches;else if(t.length===0&&!i.initialized&&i.matches.length>0)e=i.matches;else return null}let s=e,r=i==null?void 0:i.errors;if(r!=null){let l=s.findIndex(u=>u.route.id&&(r==null?void 0:r[u.route.id])!==void 0);Xt(l>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(r).join(",")}`),s=s.slice(0,Math.min(s.length,l+1))}let o=!1,a=-1;if(i)for(let l=0;l<s.length;l++){let u=s[l];if((u.route.HydrateFallback||u.route.hydrateFallbackElement)&&(a=l),u.route.id){let{loaderData:d,errors:p}=i,f=u.route.loader&&!d.hasOwnProperty(u.route.id)&&(!p||p[u.route.id]===void 0);if(u.route.lazy||f){o=!0,a>=0?s=s.slice(0,a+1):s=[s[0]];break}}}return s.reduceRight((l,u,d)=>{let p,f=!1,m=null,y=null;i&&(p=r&&u.route.id?r[u.route.id]:void 0,m=u.route.errorElement||$Y,o&&(a<0&&d===0?(eH("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),f=!0,y=null):a===d&&(f=!0,y=u.route.hydrateFallbackElement||null)));let C=t.concat(s.slice(0,d+1)),w=()=>{let b;return p?b=m:f?b=y:u.route.Component?b=E.createElement(u.route.Component,null):u.route.element?b=u.route.element:b=l,E.createElement(KY,{match:u,routeContext:{outlet:l,matches:C,isDataRoute:i!=null},children:b})};return i&&(u.route.ErrorBoundary||u.route.errorElement||d===0)?E.createElement(YY,{location:i.location,revalidation:i.revalidation,component:m,error:p,children:w(),routeContext:{outlet:null,matches:C,isDataRoute:!0}}):w()},null)}function xI(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ZY(e){let t=E.useContext(dp);return Xt(t,xI(e)),t}function XY(e){let t=E.useContext(vC);return Xt(t,xI(e)),t}function QY(e){let t=E.useContext(Na);return Xt(t,xI(e)),t}function MI(e){let t=QY(e),i=t.matches[t.matches.length-1];return Xt(i.route.id,`${e} can only be used on routes that contain a unique "id"`),i.route.id}function JY(){return MI("useRouteId")}function eK(){var n;let e=E.useContext(SI),t=XY("useRouteError"),i=MI("useRouteError");return e!==void 0?e:(n=t.errors)==null?void 0:n[i]}function tK(){let{router:e}=ZY("useNavigate"),t=MI("useNavigate"),i=E.useRef(!1);return J4(()=>{i.current=!0}),E.useCallback(async(s,r={})=>{zs(i.current,Q4),i.current&&(typeof s=="number"?e.navigate(s):await e.navigate(s,{fromRouteId:t,...r}))},[e,t])}var r3={};function eH(e,t,i){!t&&!r3[e]&&(r3[e]=!0,zs(!1,i))}var o3={};function a3(e,t){!e&&!o3[t]&&(o3[t]=!0,console.warn(t))}function iK(e){let t={hasErrorBoundary:e.hasErrorBoundary||e.ErrorBoundary!=null||e.errorElement!=null};return e.Component&&(e.element&&zs(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(t,{element:E.createElement(e.Component),Component:void 0})),e.HydrateFallback&&(e.hydrateFallbackElement&&zs(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(t,{hydrateFallbackElement:E.createElement(e.HydrateFallback),HydrateFallback:void 0})),e.ErrorBoundary&&(e.errorElement&&zs(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(t,{errorElement:E.createElement(e.ErrorBoundary),ErrorBoundary:void 0})),t}var nK=class{constructor(){this.status="pending",this.promise=new Promise((e,t)=>{this.resolve=i=>{this.status==="pending"&&(this.status="resolved",e(i))},this.reject=i=>{this.status==="pending"&&(this.status="rejected",t(i))}})}};function sK({router:e,flushSync:t}){let[i,n]=E.useState(e.state),[s,r]=E.useState(),[o,a]=E.useState({isTransitioning:!1}),[l,u]=E.useState(),[d,p]=E.useState(),[f,m]=E.useState(),y=E.useRef(new Map),C=E.useCallback((M,{deletedFetchers:D,flushSync:R,viewTransitionOpts:A})=>{M.fetchers.forEach((F,P)=>{F.data!==void 0&&y.current.set(P,F.data)}),D.forEach(F=>y.current.delete(F)),a3(R===!1||t!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let k=e.window!=null&&e.window.document!=null&&typeof e.window.document.startViewTransition=="function";if(a3(A==null||k,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!A||!k){t&&R?t(()=>n(M)):E.startTransition(()=>n(M));return}if(t&&R){t(()=>{d&&(l&&l.resolve(),d.skipTransition()),a({isTransitioning:!0,flushSync:!0,currentLocation:A.currentLocation,nextLocation:A.nextLocation})});let F=e.window.document.startViewTransition(()=>{t(()=>n(M))});F.finished.finally(()=>{t(()=>{u(void 0),p(void 0),r(void 0),a({isTransitioning:!1})})}),t(()=>p(F));return}d?(l&&l.resolve(),d.skipTransition(),m({state:M,currentLocation:A.currentLocation,nextLocation:A.nextLocation})):(r(M),a({isTransitioning:!0,flushSync:!1,currentLocation:A.currentLocation,nextLocation:A.nextLocation}))},[e.window,t,d,l]);E.useLayoutEffect(()=>e.subscribe(C),[e,C]),E.useEffect(()=>{o.isTransitioning&&!o.flushSync&&u(new nK)},[o]),E.useEffect(()=>{if(l&&s&&e.window){let M=s,D=l.promise,R=e.window.document.startViewTransition(async()=>{E.startTransition(()=>n(M)),await D});R.finished.finally(()=>{u(void 0),p(void 0),r(void 0),a({isTransitioning:!1})}),p(R)}},[s,l,e.window]),E.useEffect(()=>{l&&s&&i.location.key===s.location.key&&l.resolve()},[l,d,i.location,s]),E.useEffect(()=>{!o.isTransitioning&&f&&(r(f.state),a({isTransitioning:!0,flushSync:!1,currentLocation:f.currentLocation,nextLocation:f.nextLocation}),m(void 0))},[o.isTransitioning,f]);let w=E.useMemo(()=>({createHref:e.createHref,encodeLocation:e.encodeLocation,go:M=>e.navigate(M),push:(M,D,R)=>e.navigate(M,{state:D,preventScrollReset:R==null?void 0:R.preventScrollReset}),replace:(M,D,R)=>e.navigate(M,{replace:!0,state:D,preventScrollReset:R==null?void 0:R.preventScrollReset})}),[e]),b=e.basename||"/",S=E.useMemo(()=>({router:e,navigator:w,static:!1,basename:b}),[e,w,b]);return E.createElement(E.Fragment,null,E.createElement(dp.Provider,{value:S},E.createElement(vC.Provider,{value:i},E.createElement(X4.Provider,{value:y.current},E.createElement(wI.Provider,{value:o},E.createElement(lK,{basename:b,location:i.location,navigationType:i.historyAction,navigator:w},E.createElement(rK,{routes:e.routes,future:e.future,state:i})))))),null)}var rK=E.memo(oK);function oK({routes:e,future:t,state:i}){return WY(e,void 0,i,t)}function aK(e){return jY(e.context)}function lK({basename:e="/",children:t=null,location:i,navigationType:n="POP",navigator:s,static:r=!1}){Xt(!CC(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=e.replace(/^\/*/,"/"),a=E.useMemo(()=>({basename:o,navigator:s,static:r,future:{}}),[o,s,r]);typeof i=="string"&&(i=ud(i));let{pathname:l="/",search:u="",hash:d="",state:p=null,key:f="default"}=i,m=E.useMemo(()=>{let y=Ea(l,o);return y==null?null:{location:{pathname:y,search:u,hash:d,state:p,key:f},navigationType:n}},[o,l,u,d,p,f,n]);return zs(m!=null,`<Router basename="${o}"> is not able to match the URL "${l}${u}${d}" because it does not start with the basename, so the <Router> won't render anything.`),m==null?null:E.createElement(Fl.Provider,{value:a},E.createElement(Cx.Provider,{children:t,value:m}))}var vw="get",Cw="application/x-www-form-urlencoded";function bx(e){return e!=null&&typeof e.tagName=="string"}function cK(e){return bx(e)&&e.tagName.toLowerCase()==="button"}function uK(e){return bx(e)&&e.tagName.toLowerCase()==="form"}function dK(e){return bx(e)&&e.tagName.toLowerCase()==="input"}function hK(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function pK(e,t){return e.button===0&&(!t||t==="_self")&&!hK(e)}var O0=null;function fK(){if(O0===null)try{new FormData(document.createElement("form"),0),O0=!1}catch{O0=!0}return O0}var gK=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function RE(e){return e!=null&&!gK.has(e)?(zs(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Cw}"`),null):e}function mK(e,t){let i,n,s,r,o;if(uK(e)){let a=e.getAttribute("action");n=a?Ea(a,t):null,i=e.getAttribute("method")||vw,s=RE(e.getAttribute("enctype"))||Cw,r=new FormData(e)}else if(cK(e)||dK(e)&&(e.type==="submit"||e.type==="image")){let a=e.form;if(a==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=e.getAttribute("formaction")||a.getAttribute("action");if(n=l?Ea(l,t):null,i=e.getAttribute("formmethod")||a.getAttribute("method")||vw,s=RE(e.getAttribute("formenctype"))||RE(a.getAttribute("enctype"))||Cw,r=new FormData(a,e),!fK()){let{name:u,type:d,value:p}=e;if(d==="image"){let f=u?`${u}.`:"";r.append(`${f}x`,"0"),r.append(`${f}y`,"0")}else u&&r.append(u,p)}}else{if(bx(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');i=vw,n=null,s=Cw,o=e}return r&&s==="text/plain"&&(o=r,r=void 0),{action:n,method:i.toLowerCase(),encType:s,formData:r,body:o}}function DI(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}async function yK(e,t){if(e.id in t)return t[e.id];try{let i=await import(e.module);return t[e.id]=i,i}catch(i){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(i),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function vK(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function CK(e,t,i){let n=await Promise.all(e.map(async s=>{let r=t.routes[s.route.id];if(r){let o=await yK(r,i);return o.links?o.links():[]}return[]}));return xK(n.flat(1).filter(vK).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function l3(e,t,i,n,s,r){let o=(l,u)=>i[u]?l.route.id!==i[u].route.id:!0,a=(l,u)=>{var d;return i[u].pathname!==l.pathname||((d=i[u].route.path)==null?void 0:d.endsWith("*"))&&i[u].params["*"]!==l.params["*"]};return r==="assets"?t.filter((l,u)=>o(l,u)||a(l,u)):r==="data"?t.filter((l,u)=>{var p;let d=n.routes[l.route.id];if(!d||!d.hasLoader)return!1;if(o(l,u)||a(l,u))return!0;if(l.route.shouldRevalidate){let f=l.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((p=i[0])==null?void 0:p.params)||{},nextUrl:new URL(e,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof f=="boolean")return f}return!0}):[]}function bK(e,t){return wK(e.map(i=>{let n=t.routes[i.route.id];if(!n)return[];let s=[n.module];return n.imports&&(s=s.concat(n.imports)),s}).flat(1))}function wK(e){return[...new Set(e)]}function SK(e){let t={},i=Object.keys(e).sort();for(let n of i)t[n]=e[n];return t}function xK(e,t){let i=new Set;return new Set(t),e.reduce((n,s)=>{let r=JSON.stringify(SK(s));return i.has(r)||(i.add(r),n.push({key:r,link:s})),n},[])}function MK(e){let t=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return t.pathname==="/"?t.pathname="_root.data":t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function DK(){let e=E.useContext(dp);return DI(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function RK(){let e=E.useContext(vC);return DI(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var RI=E.createContext(void 0);RI.displayName="FrameworkContext";function tH(){let e=E.useContext(RI);return DI(e,"You must render this element inside a <HydratedRouter> element"),e}function EK(e,t){let i=E.useContext(RI),[n,s]=E.useState(!1),[r,o]=E.useState(!1),{onFocus:a,onBlur:l,onMouseEnter:u,onMouseLeave:d,onTouchStart:p}=t,f=E.useRef(null);E.useEffect(()=>{if(e==="render"&&o(!0),e==="viewport"){let C=b=>{b.forEach(S=>{o(S.isIntersecting)})},w=new IntersectionObserver(C,{threshold:.5});return f.current&&w.observe(f.current),()=>{w.disconnect()}}},[e]),E.useEffect(()=>{if(n){let C=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(C)}}},[n]);let m=()=>{s(!0)},y=()=>{s(!1),o(!1)};return i?e!=="intent"?[r,f,{}]:[r,f,{onFocus:fy(a,m),onBlur:fy(l,y),onMouseEnter:fy(u,m),onMouseLeave:fy(d,y),onTouchStart:fy(p,m)}]:[!1,f,{}]}function fy(e,t){return i=>{e&&e(i),i.defaultPrevented||t(i)}}function TK({page:e,...t}){let{router:i}=DK(),n=E.useMemo(()=>ku(i.routes,e,i.basename),[i.routes,e,i.basename]);return n?E.createElement(IK,{page:e,matches:n,...t}):null}function AK(e){let{manifest:t,routeModules:i}=tH(),[n,s]=E.useState([]);return E.useEffect(()=>{let r=!1;return CK(e,t,i).then(o=>{r||s(o)}),()=>{r=!0}},[e,t,i]),n}function IK({page:e,matches:t,...i}){let n=hp(),{manifest:s,routeModules:r}=tH(),{loaderData:o,matches:a}=RK(),l=E.useMemo(()=>l3(e,t,a,s,n,"data"),[e,t,a,s,n]),u=E.useMemo(()=>l3(e,t,a,s,n,"assets"),[e,t,a,s,n]),d=E.useMemo(()=>{if(e===n.pathname+n.search+n.hash)return[];let m=new Set,y=!1;if(t.forEach(w=>{var S;let b=s.routes[w.route.id];!b||!b.hasLoader||(!l.some(M=>M.route.id===w.route.id)&&w.route.id in o&&((S=r[w.route.id])!=null&&S.shouldRevalidate)||b.hasClientLoader?y=!0:m.add(w.route.id))}),m.size===0)return[];let C=MK(e);return y&&m.size>0&&C.searchParams.set("_routes",t.filter(w=>m.has(w.route.id)).map(w=>w.route.id).join(",")),[C.pathname+C.search]},[o,n,s,l,t,e,r]),p=E.useMemo(()=>bK(u,s),[u,s]),f=AK(u);return E.createElement(E.Fragment,null,d.map(m=>E.createElement("link",{key:m,rel:"prefetch",as:"fetch",href:m,...i})),p.map(m=>E.createElement("link",{key:m,rel:"modulepreload",href:m,...i})),f.map(({key:m,link:y})=>E.createElement("link",{key:m,...y})))}function LK(...e){return t=>{e.forEach(i=>{typeof i=="function"?i(t):i!=null&&(i.current=t)})}}var iH=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{iH&&(window.__reactRouterVersion="7.1.5")}catch{}function kK(e,t){return CY({basename:t==null?void 0:t.basename,future:t==null?void 0:t.future,history:V9({window:t==null?void 0:t.window}),hydrationData:PK(),routes:e,mapRouteProperties:iK,dataStrategy:t==null?void 0:t.dataStrategy,patchRoutesOnNavigation:t==null?void 0:t.patchRoutesOnNavigation,window:t==null?void 0:t.window}).initialize()}function PK(){let e=window==null?void 0:window.__staticRouterHydrationData;return e&&e.errors&&(e={...e,errors:FK(e.errors)}),e}function FK(e){if(!e)return null;let t=Object.entries(e),i={};for(let[n,s]of t)if(s&&s.__type==="RouteErrorResponse")i[n]=new tS(s.status,s.statusText,s.data,s.internal===!0);else if(s&&s.__type==="Error"){if(s.__subType){let r=window[s.__subType];if(typeof r=="function")try{let o=new r(s.message);o.stack="",i[n]=o}catch{}}if(i[n]==null){let r=new Error(s.message);r.stack="",i[n]=r}}else i[n]=s;return i}var nH=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,EI=E.forwardRef(function({onClick:t,discover:i="render",prefetch:n="none",relative:s,reloadDocument:r,replace:o,state:a,target:l,to:u,preventScrollReset:d,viewTransition:p,...f},m){let{basename:y}=E.useContext(Fl),C=typeof u=="string"&&nH.test(u),w,b=!1;if(typeof u=="string"&&C&&(w=u,iH))try{let P=new URL(window.location.href),L=u.startsWith("//")?new URL(P.protocol+u):new URL(u),z=Ea(L.pathname,y);L.origin===P.origin&&z!=null?u=z+L.search+L.hash:b=!0}catch{zs(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let S=GY(u,{relative:s}),[M,D,R]=EK(n,f),A=BK(u,{replace:o,state:a,target:l,preventScrollReset:d,relative:s,viewTransition:p});function k(P){t&&t(P),P.defaultPrevented||A(P)}let F=E.createElement("a",{...f,...R,href:w||S,onClick:b||r?t:k,ref:LK(m,D),target:l,"data-discover":!C&&i==="render"?"true":void 0});return M&&!C?E.createElement(E.Fragment,null,F,E.createElement(TK,{page:S})):F});EI.displayName="Link";var bw=E.forwardRef(function({"aria-current":t="page",caseSensitive:i=!1,className:n="",end:s=!1,style:r,to:o,viewTransition:a,children:l,...u},d){let p=bC(o,{relative:u.relative}),f=hp(),m=E.useContext(vC),{navigator:y,basename:C}=E.useContext(Fl),w=m!=null&&jK(p)&&a===!0,b=y.encodeLocation?y.encodeLocation(p).pathname:p.pathname,S=f.pathname,M=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;i||(S=S.toLowerCase(),M=M?M.toLowerCase():null,b=b.toLowerCase()),M&&C&&(M=Ea(M,C)||M);const D=b!=="/"&&b.endsWith("/")?b.length-1:b.length;let R=S===b||!s&&S.startsWith(b)&&S.charAt(D)==="/",A=M!=null&&(M===b||!s&&M.startsWith(b)&&M.charAt(b.length)==="/"),k={isActive:R,isPending:A,isTransitioning:w},F=R?t:void 0,P;typeof n=="function"?P=n(k):P=[n,R?"active":null,A?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let L=typeof r=="function"?r(k):r;return E.createElement(EI,{...u,"aria-current":F,className:P,ref:d,style:L,to:o,viewTransition:a},typeof l=="function"?l(k):l)});bw.displayName="NavLink";var OK=E.forwardRef(({discover:e="render",fetcherKey:t,navigate:i,reloadDocument:n,replace:s,state:r,method:o=vw,action:a,onSubmit:l,relative:u,preventScrollReset:d,viewTransition:p,...f},m)=>{let y=HK(),C=_K(a,{relative:u}),w=o.toLowerCase()==="get"?"get":"post",b=typeof a=="string"&&nH.test(a),S=M=>{if(l&&l(M),M.defaultPrevented)return;M.preventDefault();let D=M.nativeEvent.submitter,R=(D==null?void 0:D.getAttribute("formmethod"))||o;y(D||M.currentTarget,{fetcherKey:t,method:R,navigate:i,replace:s,state:r,relative:u,preventScrollReset:d,viewTransition:p})};return E.createElement("form",{ref:m,method:w,action:C,onSubmit:n?l:S,...f,"data-discover":!b&&e==="render"?"true":void 0})});OK.displayName="Form";function NK(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function sH(e){let t=E.useContext(dp);return Xt(t,NK(e)),t}function BK(e,{target:t,replace:i,state:n,preventScrollReset:s,relative:r,viewTransition:o}={}){let a=pp(),l=hp(),u=bC(e,{relative:r});return E.useCallback(d=>{if(pK(d,t)){d.preventDefault();let p=i!==void 0?i:td(l)===td(u);a(e,{replace:p,state:n,preventScrollReset:s,relative:r,viewTransition:o})}},[l,a,u,i,n,t,e,s,r,o])}var zK=0,GK=()=>`__${String(++zK)}__`;function HK(){let{router:e}=sH("useSubmit"),{basename:t}=E.useContext(Fl),i=JY();return E.useCallback(async(n,s={})=>{let{action:r,method:o,encType:a,formData:l,body:u}=mK(n,t);if(s.navigate===!1){let d=s.fetcherKey||GK();await e.fetch(d,i,s.action||r,{preventScrollReset:s.preventScrollReset,formData:l,body:u,formMethod:s.method||o,formEncType:s.encType||a,flushSync:s.flushSync})}else await e.navigate(s.action||r,{preventScrollReset:s.preventScrollReset,formData:l,body:u,formMethod:s.method||o,formEncType:s.encType||a,replace:s.replace,state:s.state,fromRouteId:i,flushSync:s.flushSync,viewTransition:s.viewTransition})},[e,t,i])}function _K(e,{relative:t}={}){let{basename:i}=E.useContext(Fl),n=E.useContext(Na);Xt(n,"useFormAction must be used inside a RouteContext");let[s]=n.matches.slice(-1),r={...bC(e||".",{relative:t})},o=hp();if(e==null){r.search=o.search;let a=new URLSearchParams(r.search),l=a.getAll("index");if(l.some(d=>d==="")){a.delete("index"),l.filter(p=>p).forEach(p=>a.append("index",p));let d=a.toString();r.search=d?`?${d}`:""}}return(!e||e===".")&&s.route.index&&(r.search=r.search?r.search.replace(/^\?/,"?index&"):"?index"),i!=="/"&&(r.pathname=r.pathname==="/"?i:yl([i,r.pathname])),td(r)}function jK(e,t={}){let i=E.useContext(wI);Xt(i!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=sH("useViewTransitionState"),s=bC(e,{relative:t.relative});if(!i.isTransitioning)return!1;let r=Ea(i.currentLocation.pathname,n)||i.currentLocation.pathname,o=Ea(i.nextLocation.pathname,n)||i.nextLocation.pathname;return eS(s.pathname,o)!=null||eS(s.pathname,r)!=null}new TextEncoder;var wC=_4();const Ny=H4(wC);/**
 * react-router v7.1.5
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function VK(e){return E.createElement(sK,{flushSync:wC.flushSync,...e})}const wv={black:"#000",white:"#fff"},df={300:"#e57373",400:"#ef5350",500:"#f44336",700:"#d32f2f",800:"#c62828"},hf={50:"#f3e5f5",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",700:"#7b1fa2"},pf={50:"#e3f2fd",200:"#90caf9",400:"#42a5f5",700:"#1976d2",800:"#1565c0"},ff={300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",700:"#0288d1",900:"#01579b"},gf={300:"#81c784",400:"#66bb6a",500:"#4caf50",700:"#388e3c",800:"#2e7d32",900:"#1b5e20"},gy={300:"#ffb74d",400:"#ffa726",500:"#ff9800",700:"#f57c00",900:"#e65100"},WK={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"};function Ac(e,...t){const i=new URL(`https://mui.com/production-error/?code=${e}`);return t.forEach(n=>i.searchParams.append("args[]",n)),`Minified MUI error #${e}; visit ${i} for the full message.`}const SC="$$material";function iS(){return iS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)({}).hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},iS.apply(null,arguments)}function UK(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}function $K(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),e.nonce!==void 0&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}var YK=function(){function e(i){var n=this;this._insertTag=function(s){var r;n.tags.length===0?n.insertionPoint?r=n.insertionPoint.nextSibling:n.prepend?r=n.container.firstChild:r=n.before:r=n.tags[n.tags.length-1].nextSibling,n.container.insertBefore(s,r),n.tags.push(s)},this.isSpeedy=i.speedy===void 0?!0:i.speedy,this.tags=[],this.ctr=0,this.nonce=i.nonce,this.key=i.key,this.container=i.container,this.prepend=i.prepend,this.insertionPoint=i.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(n){n.forEach(this._insertTag)},t.insert=function(n){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag($K(this));var s=this.tags[this.tags.length-1];if(this.isSpeedy){var r=UK(s);try{r.insertRule(n,r.cssRules.length)}catch{}}else s.appendChild(document.createTextNode(n));this.ctr++},t.flush=function(){this.tags.forEach(function(n){var s;return(s=n.parentNode)==null?void 0:s.removeChild(n)}),this.tags=[],this.ctr=0},e}(),Ws="-ms-",nS="-moz-",pi="-webkit-",rH="comm",TI="rule",AI="decl",KK="@import",oH="@keyframes",qK="@layer",ZK=Math.abs,wx=String.fromCharCode,XK=Object.assign;function QK(e,t){return Fs(e,0)^45?(((t<<2^Fs(e,0))<<2^Fs(e,1))<<2^Fs(e,2))<<2^Fs(e,3):0}function aH(e){return e.trim()}function JK(e,t){return(e=t.exec(e))?e[0]:e}function fi(e,t,i){return e.replace(t,i)}function sT(e,t){return e.indexOf(t)}function Fs(e,t){return e.charCodeAt(t)|0}function Sv(e,t,i){return e.slice(t,i)}function ul(e){return e.length}function II(e){return e.length}function N0(e,t){return t.push(e),e}function eq(e,t){return e.map(t).join("")}var Sx=1,hg=1,lH=0,Br=0,Kn=0,Bg="";function xx(e,t,i,n,s,r,o){return{value:e,root:t,parent:i,type:n,props:s,children:r,line:Sx,column:hg,length:o,return:""}}function my(e,t){return XK(xx("",null,null,"",null,null,0),e,{length:-e.length},t)}function tq(){return Kn}function iq(){return Kn=Br>0?Fs(Bg,--Br):0,hg--,Kn===10&&(hg=1,Sx--),Kn}function Xr(){return Kn=Br<lH?Fs(Bg,Br++):0,hg++,Kn===10&&(hg=1,Sx++),Kn}function vl(){return Fs(Bg,Br)}function ww(){return Br}function xC(e,t){return Sv(Bg,e,t)}function xv(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function cH(e){return Sx=hg=1,lH=ul(Bg=e),Br=0,[]}function uH(e){return Bg="",e}function Sw(e){return aH(xC(Br-1,rT(e===91?e+2:e===40?e+1:e)))}function nq(e){for(;(Kn=vl())&&Kn<33;)Xr();return xv(e)>2||xv(Kn)>3?"":" "}function sq(e,t){for(;--t&&Xr()&&!(Kn<48||Kn>102||Kn>57&&Kn<65||Kn>70&&Kn<97););return xC(e,ww()+(t<6&&vl()==32&&Xr()==32))}function rT(e){for(;Xr();)switch(Kn){case e:return Br;case 34:case 39:e!==34&&e!==39&&rT(Kn);break;case 40:e===41&&rT(e);break;case 92:Xr();break}return Br}function rq(e,t){for(;Xr()&&e+Kn!==57;)if(e+Kn===84&&vl()===47)break;return"/*"+xC(t,Br-1)+"*"+wx(e===47?e:Xr())}function oq(e){for(;!xv(vl());)Xr();return xC(e,Br)}function aq(e){return uH(xw("",null,null,null,[""],e=cH(e),0,[0],e))}function xw(e,t,i,n,s,r,o,a,l){for(var u=0,d=0,p=o,f=0,m=0,y=0,C=1,w=1,b=1,S=0,M="",D=s,R=r,A=n,k=M;w;)switch(y=S,S=Xr()){case 40:if(y!=108&&Fs(k,p-1)==58){sT(k+=fi(Sw(S),"&","&\f"),"&\f")!=-1&&(b=-1);break}case 34:case 39:case 91:k+=Sw(S);break;case 9:case 10:case 13:case 32:k+=nq(y);break;case 92:k+=sq(ww()-1,7);continue;case 47:switch(vl()){case 42:case 47:N0(lq(rq(Xr(),ww()),t,i),l);break;default:k+="/"}break;case 123*C:a[u++]=ul(k)*b;case 125*C:case 59:case 0:switch(S){case 0:case 125:w=0;case 59+d:b==-1&&(k=fi(k,/\f/g,"")),m>0&&ul(k)-p&&N0(m>32?u3(k+";",n,i,p-1):u3(fi(k," ","")+";",n,i,p-2),l);break;case 59:k+=";";default:if(N0(A=c3(k,t,i,u,d,s,a,M,D=[],R=[],p),r),S===123)if(d===0)xw(k,t,A,A,D,r,p,a,R);else switch(f===99&&Fs(k,3)===110?100:f){case 100:case 108:case 109:case 115:xw(e,A,A,n&&N0(c3(e,A,A,0,0,s,a,M,s,D=[],p),R),s,R,p,a,n?D:R);break;default:xw(k,A,A,A,[""],R,0,a,R)}}u=d=m=0,C=b=1,M=k="",p=o;break;case 58:p=1+ul(k),m=y;default:if(C<1){if(S==123)--C;else if(S==125&&C++==0&&iq()==125)continue}switch(k+=wx(S),S*C){case 38:b=d>0?1:(k+="\f",-1);break;case 44:a[u++]=(ul(k)-1)*b,b=1;break;case 64:vl()===45&&(k+=Sw(Xr())),f=vl(),d=p=ul(M=k+=oq(ww())),S++;break;case 45:y===45&&ul(k)==2&&(C=0)}}return r}function c3(e,t,i,n,s,r,o,a,l,u,d){for(var p=s-1,f=s===0?r:[""],m=II(f),y=0,C=0,w=0;y<n;++y)for(var b=0,S=Sv(e,p+1,p=ZK(C=o[y])),M=e;b<m;++b)(M=aH(C>0?f[b]+" "+S:fi(S,/&\f/g,f[b])))&&(l[w++]=M);return xx(e,t,i,s===0?TI:a,l,u,d)}function lq(e,t,i){return xx(e,t,i,rH,wx(tq()),Sv(e,2,-2),0)}function u3(e,t,i,n){return xx(e,t,i,AI,Sv(e,0,n),Sv(e,n+1,-1),n)}function Bf(e,t){for(var i="",n=II(e),s=0;s<n;s++)i+=t(e[s],s,e,t)||"";return i}function cq(e,t,i,n){switch(e.type){case qK:if(e.children.length)break;case KK:case AI:return e.return=e.return||e.value;case rH:return"";case oH:return e.return=e.value+"{"+Bf(e.children,n)+"}";case TI:e.value=e.props.join(",")}return ul(i=Bf(e.children,n))?e.return=e.value+"{"+i+"}":""}function uq(e){var t=II(e);return function(i,n,s,r){for(var o="",a=0;a<t;a++)o+=e[a](i,n,s,r)||"";return o}}function dq(e){return function(t){t.root||(t=t.return)&&e(t)}}function dH(e){var t=Object.create(null);return function(i){return t[i]===void 0&&(t[i]=e(i)),t[i]}}var hq=function(t,i,n){for(var s=0,r=0;s=r,r=vl(),s===38&&r===12&&(i[n]=1),!xv(r);)Xr();return xC(t,Br)},pq=function(t,i){var n=-1,s=44;do switch(xv(s)){case 0:s===38&&vl()===12&&(i[n]=1),t[n]+=hq(Br-1,i,n);break;case 2:t[n]+=Sw(s);break;case 4:if(s===44){t[++n]=vl()===58?"&\f":"",i[n]=t[n].length;break}default:t[n]+=wx(s)}while(s=Xr());return t},fq=function(t,i){return uH(pq(cH(t),i))},d3=new WeakMap,gq=function(t){if(!(t.type!=="rule"||!t.parent||t.length<1)){for(var i=t.value,n=t.parent,s=t.column===n.column&&t.line===n.line;n.type!=="rule";)if(n=n.parent,!n)return;if(!(t.props.length===1&&i.charCodeAt(0)!==58&&!d3.get(n))&&!s){d3.set(t,!0);for(var r=[],o=fq(i,r),a=n.props,l=0,u=0;l<o.length;l++)for(var d=0;d<a.length;d++,u++)t.props[u]=r[l]?o[l].replace(/&\f/g,a[d]):a[d]+" "+o[l]}}},mq=function(t){if(t.type==="decl"){var i=t.value;i.charCodeAt(0)===108&&i.charCodeAt(2)===98&&(t.return="",t.value="")}};function hH(e,t){switch(QK(e,t)){case 5103:return pi+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return pi+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return pi+e+nS+e+Ws+e+e;case 6828:case 4268:return pi+e+Ws+e+e;case 6165:return pi+e+Ws+"flex-"+e+e;case 5187:return pi+e+fi(e,/(\w+).+(:[^]+)/,pi+"box-$1$2"+Ws+"flex-$1$2")+e;case 5443:return pi+e+Ws+"flex-item-"+fi(e,/flex-|-self/,"")+e;case 4675:return pi+e+Ws+"flex-line-pack"+fi(e,/align-content|flex-|-self/,"")+e;case 5548:return pi+e+Ws+fi(e,"shrink","negative")+e;case 5292:return pi+e+Ws+fi(e,"basis","preferred-size")+e;case 6060:return pi+"box-"+fi(e,"-grow","")+pi+e+Ws+fi(e,"grow","positive")+e;case 4554:return pi+fi(e,/([^-])(transform)/g,"$1"+pi+"$2")+e;case 6187:return fi(fi(fi(e,/(zoom-|grab)/,pi+"$1"),/(image-set)/,pi+"$1"),e,"")+e;case 5495:case 3959:return fi(e,/(image-set\([^]*)/,pi+"$1$`$1");case 4968:return fi(fi(e,/(.+:)(flex-)?(.*)/,pi+"box-pack:$3"+Ws+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+pi+e+e;case 4095:case 3583:case 4068:case 2532:return fi(e,/(.+)-inline(.+)/,pi+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(ul(e)-1-t>6)switch(Fs(e,t+1)){case 109:if(Fs(e,t+4)!==45)break;case 102:return fi(e,/(.+:)(.+)-([^]+)/,"$1"+pi+"$2-$3$1"+nS+(Fs(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~sT(e,"stretch")?hH(fi(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(Fs(e,t+1)!==115)break;case 6444:switch(Fs(e,ul(e)-3-(~sT(e,"!important")&&10))){case 107:return fi(e,":",":"+pi)+e;case 101:return fi(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+pi+(Fs(e,14)===45?"inline-":"")+"box$3$1"+pi+"$2$3$1"+Ws+"$2box$3")+e}break;case 5936:switch(Fs(e,t+11)){case 114:return pi+e+Ws+fi(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return pi+e+Ws+fi(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return pi+e+Ws+fi(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return pi+e+Ws+e+e}return e}var yq=function(t,i,n,s){if(t.length>-1&&!t.return)switch(t.type){case AI:t.return=hH(t.value,t.length);break;case oH:return Bf([my(t,{value:fi(t.value,"@","@"+pi)})],s);case TI:if(t.length)return eq(t.props,function(r){switch(JK(r,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Bf([my(t,{props:[fi(r,/:(read-\w+)/,":"+nS+"$1")]})],s);case"::placeholder":return Bf([my(t,{props:[fi(r,/:(plac\w+)/,":"+pi+"input-$1")]}),my(t,{props:[fi(r,/:(plac\w+)/,":"+nS+"$1")]}),my(t,{props:[fi(r,/:(plac\w+)/,Ws+"input-$1")]})],s)}return""})}},vq=[yq],Cq=function(t){var i=t.key;if(i==="css"){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,function(C){var w=C.getAttribute("data-emotion");w.indexOf(" ")!==-1&&(document.head.appendChild(C),C.setAttribute("data-s",""))})}var s=t.stylisPlugins||vq,r={},o,a=[];o=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+i+' "]'),function(C){for(var w=C.getAttribute("data-emotion").split(" "),b=1;b<w.length;b++)r[w[b]]=!0;a.push(C)});var l,u=[gq,mq];{var d,p=[cq,dq(function(C){d.insert(C)})],f=uq(u.concat(s,p)),m=function(w){return Bf(aq(w),f)};l=function(w,b,S,M){d=S,m(w?w+"{"+b.styles+"}":b.styles),M&&(y.inserted[b.name]=!0)}}var y={key:i,sheet:new YK({key:i,container:o,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:r,registered:{},insert:l};return y.sheet.hydrate(a),y},EE={exports:{}},Ci={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var h3;function bq(){if(h3)return Ci;h3=1;var e=typeof Symbol=="function"&&Symbol.for,t=e?Symbol.for("react.element"):60103,i=e?Symbol.for("react.portal"):60106,n=e?Symbol.for("react.fragment"):60107,s=e?Symbol.for("react.strict_mode"):60108,r=e?Symbol.for("react.profiler"):60114,o=e?Symbol.for("react.provider"):60109,a=e?Symbol.for("react.context"):60110,l=e?Symbol.for("react.async_mode"):60111,u=e?Symbol.for("react.concurrent_mode"):60111,d=e?Symbol.for("react.forward_ref"):60112,p=e?Symbol.for("react.suspense"):60113,f=e?Symbol.for("react.suspense_list"):60120,m=e?Symbol.for("react.memo"):60115,y=e?Symbol.for("react.lazy"):60116,C=e?Symbol.for("react.block"):60121,w=e?Symbol.for("react.fundamental"):60117,b=e?Symbol.for("react.responder"):60118,S=e?Symbol.for("react.scope"):60119;function M(R){if(typeof R=="object"&&R!==null){var A=R.$$typeof;switch(A){case t:switch(R=R.type,R){case l:case u:case n:case r:case s:case p:return R;default:switch(R=R&&R.$$typeof,R){case a:case d:case y:case m:case o:return R;default:return A}}case i:return A}}}function D(R){return M(R)===u}return Ci.AsyncMode=l,Ci.ConcurrentMode=u,Ci.ContextConsumer=a,Ci.ContextProvider=o,Ci.Element=t,Ci.ForwardRef=d,Ci.Fragment=n,Ci.Lazy=y,Ci.Memo=m,Ci.Portal=i,Ci.Profiler=r,Ci.StrictMode=s,Ci.Suspense=p,Ci.isAsyncMode=function(R){return D(R)||M(R)===l},Ci.isConcurrentMode=D,Ci.isContextConsumer=function(R){return M(R)===a},Ci.isContextProvider=function(R){return M(R)===o},Ci.isElement=function(R){return typeof R=="object"&&R!==null&&R.$$typeof===t},Ci.isForwardRef=function(R){return M(R)===d},Ci.isFragment=function(R){return M(R)===n},Ci.isLazy=function(R){return M(R)===y},Ci.isMemo=function(R){return M(R)===m},Ci.isPortal=function(R){return M(R)===i},Ci.isProfiler=function(R){return M(R)===r},Ci.isStrictMode=function(R){return M(R)===s},Ci.isSuspense=function(R){return M(R)===p},Ci.isValidElementType=function(R){return typeof R=="string"||typeof R=="function"||R===n||R===u||R===r||R===s||R===p||R===f||typeof R=="object"&&R!==null&&(R.$$typeof===y||R.$$typeof===m||R.$$typeof===o||R.$$typeof===a||R.$$typeof===d||R.$$typeof===w||R.$$typeof===b||R.$$typeof===S||R.$$typeof===C)},Ci.typeOf=M,Ci}var p3;function wq(){return p3||(p3=1,EE.exports=bq()),EE.exports}var TE,f3;function Sq(){if(f3)return TE;f3=1;var e=wq(),t={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},i={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},n={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},r={};r[e.ForwardRef]=n,r[e.Memo]=s;function o(y){return e.isMemo(y)?s:r[y.$$typeof]||t}var a=Object.defineProperty,l=Object.getOwnPropertyNames,u=Object.getOwnPropertySymbols,d=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,f=Object.prototype;function m(y,C,w){if(typeof C!="string"){if(f){var b=p(C);b&&b!==f&&m(y,b,w)}var S=l(C);u&&(S=S.concat(u(C)));for(var M=o(y),D=o(C),R=0;R<S.length;++R){var A=S[R];if(!i[A]&&!(w&&w[A])&&!(D&&D[A])&&!(M&&M[A])){var k=d(C,A);try{a(y,A,k)}catch{}}}}return y}return TE=m,TE}Sq();var xq=!0;function pH(e,t,i){var n="";return i.split(" ").forEach(function(s){e[s]!==void 0?t.push(e[s]+";"):s&&(n+=s+" ")}),n}var LI=function(t,i,n){var s=t.key+"-"+i.name;(n===!1||xq===!1)&&t.registered[s]===void 0&&(t.registered[s]=i.styles)},kI=function(t,i,n){LI(t,i,n);var s=t.key+"-"+i.name;if(t.inserted[i.name]===void 0){var r=i;do t.insert(i===r?"."+s:"",r,t.sheet,!0),r=r.next;while(r!==void 0)}};function Mq(e){for(var t=0,i,n=0,s=e.length;s>=4;++n,s-=4)i=e.charCodeAt(n)&255|(e.charCodeAt(++n)&255)<<8|(e.charCodeAt(++n)&255)<<16|(e.charCodeAt(++n)&255)<<24,i=(i&65535)*1540483477+((i>>>16)*59797<<16),i^=i>>>24,t=(i&65535)*1540483477+((i>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(s){case 3:t^=(e.charCodeAt(n+2)&255)<<16;case 2:t^=(e.charCodeAt(n+1)&255)<<8;case 1:t^=e.charCodeAt(n)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}var Dq={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Rq=/[A-Z]|^ms/g,Eq=/_EMO_([^_]+?)_([^]*?)_EMO_/g,fH=function(t){return t.charCodeAt(1)===45},g3=function(t){return t!=null&&typeof t!="boolean"},AE=dH(function(e){return fH(e)?e:e.replace(Rq,"-$&").toLowerCase()}),m3=function(t,i){switch(t){case"animation":case"animationName":if(typeof i=="string")return i.replace(Eq,function(n,s,r){return dl={name:s,styles:r,next:dl},s})}return Dq[t]!==1&&!fH(t)&&typeof i=="number"&&i!==0?i+"px":i};function Mv(e,t,i){if(i==null)return"";var n=i;if(n.__emotion_styles!==void 0)return n;switch(typeof i){case"boolean":return"";case"object":{var s=i;if(s.anim===1)return dl={name:s.name,styles:s.styles,next:dl},s.name;var r=i;if(r.styles!==void 0){var o=r.next;if(o!==void 0)for(;o!==void 0;)dl={name:o.name,styles:o.styles,next:dl},o=o.next;var a=r.styles+";";return a}return Tq(e,t,i)}case"function":{if(e!==void 0){var l=dl,u=i(e);return dl=l,Mv(e,t,u)}break}}var d=i;if(t==null)return d;var p=t[d];return p!==void 0?p:d}function Tq(e,t,i){var n="";if(Array.isArray(i))for(var s=0;s<i.length;s++)n+=Mv(e,t,i[s])+";";else for(var r in i){var o=i[r];if(typeof o!="object"){var a=o;t!=null&&t[a]!==void 0?n+=r+"{"+t[a]+"}":g3(a)&&(n+=AE(r)+":"+m3(r,a)+";")}else if(Array.isArray(o)&&typeof o[0]=="string"&&(t==null||t[o[0]]===void 0))for(var l=0;l<o.length;l++)g3(o[l])&&(n+=AE(r)+":"+m3(r,o[l])+";");else{var u=Mv(e,t,o);switch(r){case"animation":case"animationName":{n+=AE(r)+":"+u+";";break}default:n+=r+"{"+u+"}"}}}return n}var y3=/label:\s*([^\s;{]+)\s*(;|$)/g,dl;function MC(e,t,i){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var n=!0,s="";dl=void 0;var r=e[0];if(r==null||r.raw===void 0)n=!1,s+=Mv(i,t,r);else{var o=r;s+=o[0]}for(var a=1;a<e.length;a++)if(s+=Mv(i,t,e[a]),n){var l=r;s+=l[a]}y3.lastIndex=0;for(var u="",d;(d=y3.exec(s))!==null;)u+="-"+d[1];var p=Mq(s)+u;return{name:p,styles:s,next:dl}}var Aq=function(t){return t()},gH=Qw.useInsertionEffect?Qw.useInsertionEffect:!1,mH=gH||Aq,v3=gH||E.useLayoutEffect,yH=E.createContext(typeof HTMLElement<"u"?Cq({key:"css"}):null);yH.Provider;var PI=function(t){return E.forwardRef(function(i,n){var s=E.useContext(yH);return t(i,s,n)})},Mx=E.createContext({}),FI={}.hasOwnProperty,oT="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",Iq=function(t,i){var n={};for(var s in i)FI.call(i,s)&&(n[s]=i[s]);return n[oT]=t,n},Lq=function(t){var i=t.cache,n=t.serialized,s=t.isStringTag;return LI(i,n,s),mH(function(){return kI(i,n,s)}),null},kq=PI(function(e,t,i){var n=e.css;typeof n=="string"&&t.registered[n]!==void 0&&(n=t.registered[n]);var s=e[oT],r=[n],o="";typeof e.className=="string"?o=pH(t.registered,r,e.className):e.className!=null&&(o=e.className+" ");var a=MC(r,void 0,E.useContext(Mx));o+=t.key+"-"+a.name;var l={};for(var u in e)FI.call(e,u)&&u!=="css"&&u!==oT&&(l[u]=e[u]);return l.className=o,i&&(l.ref=i),E.createElement(E.Fragment,null,E.createElement(Lq,{cache:t,serialized:a,isStringTag:typeof s=="string"}),E.createElement(s,l))}),Pq=kq,C3=function(t,i){var n=arguments;if(i==null||!FI.call(i,"css"))return E.createElement.apply(void 0,n);var s=n.length,r=new Array(s);r[0]=Pq,r[1]=Iq(t,i);for(var o=2;o<s;o++)r[o]=n[o];return E.createElement.apply(null,r)};(function(e){var t;t||(t=e.JSX||(e.JSX={}))})(C3||(C3={}));var Fq=PI(function(e,t){var i=e.styles,n=MC([i],void 0,E.useContext(Mx)),s=E.useRef();return v3(function(){var r=t.key+"-global",o=new t.sheet.constructor({key:r,nonce:t.sheet.nonce,container:t.sheet.container,speedy:t.sheet.isSpeedy}),a=!1,l=document.querySelector('style[data-emotion="'+r+" "+n.name+'"]');return t.sheet.tags.length&&(o.before=t.sheet.tags[0]),l!==null&&(a=!0,l.setAttribute("data-emotion",r),o.hydrate([l])),s.current=[o,a],function(){o.flush()}},[t]),v3(function(){var r=s.current,o=r[0],a=r[1];if(a){r[1]=!1;return}if(n.next!==void 0&&kI(t,n.next,!0),o.tags.length){var l=o.tags[o.tags.length-1].nextElementSibling;o.before=l,o.flush()}t.insert("",n,o,!1)},[t,n.name]),null});function OI(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return MC(t)}function DC(){var e=OI.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}var Oq=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,Nq=dH(function(e){return Oq.test(e)||e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)<91}),Bq=Nq,zq=function(t){return t!=="theme"},b3=function(t){return typeof t=="string"&&t.charCodeAt(0)>96?Bq:zq},w3=function(t,i,n){var s;if(i){var r=i.shouldForwardProp;s=t.__emotion_forwardProp&&r?function(o){return t.__emotion_forwardProp(o)&&r(o)}:r}return typeof s!="function"&&n&&(s=t.__emotion_forwardProp),s},Gq=function(t){var i=t.cache,n=t.serialized,s=t.isStringTag;return LI(i,n,s),mH(function(){return kI(i,n,s)}),null},Hq=function e(t,i){var n=t.__emotion_real===t,s=n&&t.__emotion_base||t,r,o;i!==void 0&&(r=i.label,o=i.target);var a=w3(t,i,n),l=a||b3(s),u=!l("as");return function(){var d=arguments,p=n&&t.__emotion_styles!==void 0?t.__emotion_styles.slice(0):[];if(r!==void 0&&p.push("label:"+r+";"),d[0]==null||d[0].raw===void 0)p.push.apply(p,d);else{var f=d[0];p.push(f[0]);for(var m=d.length,y=1;y<m;y++)p.push(d[y],f[y])}var C=PI(function(w,b,S){var M=u&&w.as||s,D="",R=[],A=w;if(w.theme==null){A={};for(var k in w)A[k]=w[k];A.theme=E.useContext(Mx)}typeof w.className=="string"?D=pH(b.registered,R,w.className):w.className!=null&&(D=w.className+" ");var F=MC(p.concat(R),b.registered,A);D+=b.key+"-"+F.name,o!==void 0&&(D+=" "+o);var P=u&&a===void 0?b3(M):l,L={};for(var z in w)u&&z==="as"||P(z)&&(L[z]=w[z]);return L.className=D,S&&(L.ref=S),E.createElement(E.Fragment,null,E.createElement(Gq,{cache:b,serialized:F,isStringTag:typeof M=="string"}),E.createElement(M,L))});return C.displayName=r!==void 0?r:"Styled("+(typeof s=="string"?s:s.displayName||s.name||"Component")+")",C.defaultProps=t.defaultProps,C.__emotion_real=C,C.__emotion_base=s,C.__emotion_styles=p,C.__emotion_forwardProp=a,Object.defineProperty(C,"toString",{value:function(){return"."+o}}),C.withComponent=function(w,b){var S=e(w,iS({},i,b,{shouldForwardProp:w3(C,b,!0)}));return S.apply(void 0,p)},C}},_q=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],aT=Hq.bind(null);_q.forEach(function(e){aT[e]=aT(e)});function jq(e){return e==null||Object.keys(e).length===0}function Vq(e){const{styles:t,defaultTheme:i={}}=e,n=typeof t=="function"?s=>t(jq(s)?i:s):t;return B.jsx(Fq,{styles:n})}/**
 * @mui/styled-engine v6.4.9
 *
 * @license MIT
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function vH(e,t){return aT(e,t)}function Wq(e,t){Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=t(e.__emotion_styles))}const S3=[];function x3(e){return S3[0]=e,MC(S3)}var IE={exports:{}},Ii={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var M3;function Uq(){if(M3)return Ii;M3=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),r=Symbol.for("react.consumer"),o=Symbol.for("react.context"),a=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),u=Symbol.for("react.suspense_list"),d=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),f=Symbol.for("react.offscreen"),m=Symbol.for("react.client.reference");function y(C){if(typeof C=="object"&&C!==null){var w=C.$$typeof;switch(w){case e:switch(C=C.type,C){case i:case s:case n:case l:case u:return C;default:switch(C=C&&C.$$typeof,C){case o:case a:case p:case d:return C;case r:return C;default:return w}}case t:return w}}}return Ii.ContextConsumer=r,Ii.ContextProvider=o,Ii.Element=e,Ii.ForwardRef=a,Ii.Fragment=i,Ii.Lazy=p,Ii.Memo=d,Ii.Portal=t,Ii.Profiler=s,Ii.StrictMode=n,Ii.Suspense=l,Ii.SuspenseList=u,Ii.isContextConsumer=function(C){return y(C)===r},Ii.isContextProvider=function(C){return y(C)===o},Ii.isElement=function(C){return typeof C=="object"&&C!==null&&C.$$typeof===e},Ii.isForwardRef=function(C){return y(C)===a},Ii.isFragment=function(C){return y(C)===i},Ii.isLazy=function(C){return y(C)===p},Ii.isMemo=function(C){return y(C)===d},Ii.isPortal=function(C){return y(C)===t},Ii.isProfiler=function(C){return y(C)===s},Ii.isStrictMode=function(C){return y(C)===n},Ii.isSuspense=function(C){return y(C)===l},Ii.isSuspenseList=function(C){return y(C)===u},Ii.isValidElementType=function(C){return typeof C=="string"||typeof C=="function"||C===i||C===s||C===n||C===l||C===u||C===f||typeof C=="object"&&C!==null&&(C.$$typeof===p||C.$$typeof===d||C.$$typeof===o||C.$$typeof===r||C.$$typeof===a||C.$$typeof===m||C.getModuleId!==void 0)},Ii.typeOf=y,Ii}var D3;function $q(){return D3||(D3=1,IE.exports=Uq()),IE.exports}var CH=$q();function pl(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function bH(e){if(E.isValidElement(e)||CH.isValidElementType(e)||!pl(e))return e;const t={};return Object.keys(e).forEach(i=>{t[i]=bH(e[i])}),t}function fs(e,t,i={clone:!0}){const n=i.clone?{...e}:e;return pl(e)&&pl(t)&&Object.keys(t).forEach(s=>{E.isValidElement(t[s])||CH.isValidElementType(t[s])?n[s]=t[s]:pl(t[s])&&Object.prototype.hasOwnProperty.call(e,s)&&pl(e[s])?n[s]=fs(e[s],t[s],i):i.clone?n[s]=pl(t[s])?bH(t[s]):t[s]:n[s]=t[s]}),n}const Yq=e=>{const t=Object.keys(e).map(i=>({key:i,val:e[i]}))||[];return t.sort((i,n)=>i.val-n.val),t.reduce((i,n)=>({...i,[n.key]:n.val}),{})};function Kq(e){const{values:t={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:i="px",step:n=5,...s}=e,r=Yq(t),o=Object.keys(r);function a(f){return`@media (min-width:${typeof t[f]=="number"?t[f]:f}${i})`}function l(f){return`@media (max-width:${(typeof t[f]=="number"?t[f]:f)-n/100}${i})`}function u(f,m){const y=o.indexOf(m);return`@media (min-width:${typeof t[f]=="number"?t[f]:f}${i}) and (max-width:${(y!==-1&&typeof t[o[y]]=="number"?t[o[y]]:m)-n/100}${i})`}function d(f){return o.indexOf(f)+1<o.length?u(f,o[o.indexOf(f)+1]):a(f)}function p(f){const m=o.indexOf(f);return m===0?a(o[1]):m===o.length-1?l(o[m]):u(f,o[o.indexOf(f)+1]).replace("@media","@media not all and")}return{keys:o,values:r,up:a,down:l,between:u,only:d,not:p,unit:i,...s}}function qq(e,t){if(!e.containerQueries)return t;const i=Object.keys(t).filter(n=>n.startsWith("@container")).sort((n,s)=>{var o,a;const r=/min-width:\s*([0-9.]+)/;return+(((o=n.match(r))==null?void 0:o[1])||0)-+(((a=s.match(r))==null?void 0:a[1])||0)});return i.length?i.reduce((n,s)=>{const r=t[s];return delete n[s],n[s]=r,n},{...t}):t}function Zq(e,t){return t==="@"||t.startsWith("@")&&(e.some(i=>t.startsWith(`@${i}`))||!!t.match(/^@\d/))}function Xq(e,t){const i=t.match(/^@([^/]+)?\/?(.+)?$/);if(!i)return null;const[,n,s]=i,r=Number.isNaN(+n)?n||0:+n;return e.containerQueries(s).up(r)}function Qq(e){const t=(r,o)=>r.replace("@media",o?`@container ${o}`:"@container");function i(r,o){r.up=(...a)=>t(e.breakpoints.up(...a),o),r.down=(...a)=>t(e.breakpoints.down(...a),o),r.between=(...a)=>t(e.breakpoints.between(...a),o),r.only=(...a)=>t(e.breakpoints.only(...a),o),r.not=(...a)=>{const l=t(e.breakpoints.not(...a),o);return l.includes("not all and")?l.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):l}}const n={},s=r=>(i(n,r),n);return i(s),{...e,containerQueries:s}}const Jq={borderRadius:4};function qy(e,t){return t?fs(e,t,{clone:!1}):e}const Dx={xs:0,sm:600,md:900,lg:1200,xl:1536},R3={keys:["xs","sm","md","lg","xl"],up:e=>`@media (min-width:${Dx[e]}px)`},eZ={containerQueries:e=>({up:t=>{let i=typeof t=="number"?t:Dx[t]||t;return typeof i=="number"&&(i=`${i}px`),e?`@container ${e} (min-width:${i})`:`@container (min-width:${i})`}})};function Ta(e,t,i){const n=e.theme||{};if(Array.isArray(t)){const r=n.breakpoints||R3;return t.reduce((o,a,l)=>(o[r.up(r.keys[l])]=i(t[l]),o),{})}if(typeof t=="object"){const r=n.breakpoints||R3;return Object.keys(t).reduce((o,a)=>{if(Zq(r.keys,a)){const l=Xq(n.containerQueries?n:eZ,a);l&&(o[l]=i(t[a],a))}else if(Object.keys(r.values||Dx).includes(a)){const l=r.up(a);o[l]=i(t[a],a)}else{const l=a;o[l]=t[l]}return o},{})}return i(t)}function wH(e={}){var i;return((i=e.keys)==null?void 0:i.reduce((n,s)=>{const r=e.up(s);return n[r]={},n},{}))||{}}function SH(e,t){return e.reduce((i,n)=>{const s=i[n];return(!s||Object.keys(s).length===0)&&delete i[n],i},t)}function tZ(e,...t){const i=wH(e),n=[i,...t].reduce((s,r)=>fs(s,r),{});return SH(Object.keys(i),n)}function iZ(e,t){if(typeof e!="object")return{};const i={},n=Object.keys(t);return Array.isArray(e)?n.forEach((s,r)=>{r<e.length&&(i[s]=!0)}):n.forEach(s=>{e[s]!=null&&(i[s]=!0)}),i}function LE({values:e,breakpoints:t,base:i}){const n=i||iZ(e,t),s=Object.keys(n);if(s.length===0)return e;let r;return s.reduce((o,a,l)=>(Array.isArray(e)?(o[a]=e[l]!=null?e[l]:e[r],r=l):typeof e=="object"?(o[a]=e[a]!=null?e[a]:e[r],r=a):o[a]=e,o),{})}function ke(e){if(typeof e!="string")throw new Error(Ac(7));return e.charAt(0).toUpperCase()+e.slice(1)}function Rx(e,t,i=!0){if(!t||typeof t!="string")return null;if(e&&e.vars&&i){const n=`vars.${t}`.split(".").reduce((s,r)=>s&&s[r]?s[r]:null,e);if(n!=null)return n}return t.split(".").reduce((n,s)=>n&&n[s]!=null?n[s]:null,e)}function sS(e,t,i,n=i){let s;return typeof e=="function"?s=e(i):Array.isArray(e)?s=e[i]||n:s=Rx(e,i)||n,t&&(s=t(s,n,e)),s}function _n(e){const{prop:t,cssProperty:i=e.prop,themeKey:n,transform:s}=e,r=o=>{if(o[t]==null)return null;const a=o[t],l=o.theme,u=Rx(l,n)||{};return Ta(o,a,p=>{let f=sS(u,s,p);return p===f&&typeof p=="string"&&(f=sS(u,s,`${t}${p==="default"?"":ke(p)}`,p)),i===!1?f:{[i]:f}})};return r.propTypes={},r.filterProps=[t],r}function nZ(e){const t={};return i=>(t[i]===void 0&&(t[i]=e(i)),t[i])}const sZ={m:"margin",p:"padding"},rZ={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},E3={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},oZ=nZ(e=>{if(e.length>2)if(E3[e])e=E3[e];else return[e];const[t,i]=e.split(""),n=sZ[t],s=rZ[i]||"";return Array.isArray(s)?s.map(r=>n+r):[n+s]}),NI=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],BI=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...NI,...BI];function RC(e,t,i,n){const s=Rx(e,t,!0)??i;return typeof s=="number"||typeof s=="string"?r=>typeof r=="string"?r:typeof s=="string"?`calc(${r} * ${s})`:s*r:Array.isArray(s)?r=>{if(typeof r=="string")return r;const o=Math.abs(r),a=s[o];return r>=0?a:typeof a=="number"?-a:`-${a}`}:typeof s=="function"?s:()=>{}}function Ex(e){return RC(e,"spacing",8)}function Yh(e,t){return typeof t=="string"||t==null?t:e(t)}function aZ(e,t){return i=>e.reduce((n,s)=>(n[s]=Yh(t,i),n),{})}function lZ(e,t,i,n){if(!t.includes(i))return null;const s=oZ(i),r=aZ(s,n),o=e[i];return Ta(e,o,r)}function xH(e,t){const i=Ex(e.theme);return Object.keys(e).map(n=>lZ(e,t,n,i)).reduce(qy,{})}function Mn(e){return xH(e,NI)}Mn.propTypes={};Mn.filterProps=NI;function Dn(e){return xH(e,BI)}Dn.propTypes={};Dn.filterProps=BI;function MH(e=8,t=Ex({spacing:e})){if(e.mui)return e;const i=(...n)=>(n.length===0?[1]:n).map(r=>{const o=t(r);return typeof o=="number"?`${o}px`:o}).join(" ");return i.mui=!0,i}function Tx(...e){const t=e.reduce((n,s)=>(s.filterProps.forEach(r=>{n[r]=s}),n),{}),i=n=>Object.keys(n).reduce((s,r)=>t[r]?qy(s,t[r](n)):s,{});return i.propTypes={},i.filterProps=e.reduce((n,s)=>n.concat(s.filterProps),[]),i}function Go(e){return typeof e!="number"?e:`${e}px solid`}function ta(e,t){return _n({prop:e,themeKey:"borders",transform:t})}const cZ=ta("border",Go),uZ=ta("borderTop",Go),dZ=ta("borderRight",Go),hZ=ta("borderBottom",Go),pZ=ta("borderLeft",Go),fZ=ta("borderColor"),gZ=ta("borderTopColor"),mZ=ta("borderRightColor"),yZ=ta("borderBottomColor"),vZ=ta("borderLeftColor"),CZ=ta("outline",Go),bZ=ta("outlineColor"),Ax=e=>{if(e.borderRadius!==void 0&&e.borderRadius!==null){const t=RC(e.theme,"shape.borderRadius",4),i=n=>({borderRadius:Yh(t,n)});return Ta(e,e.borderRadius,i)}return null};Ax.propTypes={};Ax.filterProps=["borderRadius"];Tx(cZ,uZ,dZ,hZ,pZ,fZ,gZ,mZ,yZ,vZ,Ax,CZ,bZ);const Ix=e=>{if(e.gap!==void 0&&e.gap!==null){const t=RC(e.theme,"spacing",8),i=n=>({gap:Yh(t,n)});return Ta(e,e.gap,i)}return null};Ix.propTypes={};Ix.filterProps=["gap"];const Lx=e=>{if(e.columnGap!==void 0&&e.columnGap!==null){const t=RC(e.theme,"spacing",8),i=n=>({columnGap:Yh(t,n)});return Ta(e,e.columnGap,i)}return null};Lx.propTypes={};Lx.filterProps=["columnGap"];const kx=e=>{if(e.rowGap!==void 0&&e.rowGap!==null){const t=RC(e.theme,"spacing",8),i=n=>({rowGap:Yh(t,n)});return Ta(e,e.rowGap,i)}return null};kx.propTypes={};kx.filterProps=["rowGap"];const wZ=_n({prop:"gridColumn"}),SZ=_n({prop:"gridRow"}),xZ=_n({prop:"gridAutoFlow"}),MZ=_n({prop:"gridAutoColumns"}),DZ=_n({prop:"gridAutoRows"}),RZ=_n({prop:"gridTemplateColumns"}),EZ=_n({prop:"gridTemplateRows"}),TZ=_n({prop:"gridTemplateAreas"}),AZ=_n({prop:"gridArea"});Tx(Ix,Lx,kx,wZ,SZ,xZ,MZ,DZ,RZ,EZ,TZ,AZ);function zf(e,t){return t==="grey"?t:e}const IZ=_n({prop:"color",themeKey:"palette",transform:zf}),LZ=_n({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:zf}),kZ=_n({prop:"backgroundColor",themeKey:"palette",transform:zf});Tx(IZ,LZ,kZ);function Yr(e){return e<=1&&e!==0?`${e*100}%`:e}const PZ=_n({prop:"width",transform:Yr}),zI=e=>{if(e.maxWidth!==void 0&&e.maxWidth!==null){const t=i=>{var s,r,o,a,l;const n=((o=(r=(s=e.theme)==null?void 0:s.breakpoints)==null?void 0:r.values)==null?void 0:o[i])||Dx[i];return n?((l=(a=e.theme)==null?void 0:a.breakpoints)==null?void 0:l.unit)!=="px"?{maxWidth:`${n}${e.theme.breakpoints.unit}`}:{maxWidth:n}:{maxWidth:Yr(i)}};return Ta(e,e.maxWidth,t)}return null};zI.filterProps=["maxWidth"];const FZ=_n({prop:"minWidth",transform:Yr}),OZ=_n({prop:"height",transform:Yr}),NZ=_n({prop:"maxHeight",transform:Yr}),BZ=_n({prop:"minHeight",transform:Yr});_n({prop:"size",cssProperty:"width",transform:Yr});_n({prop:"size",cssProperty:"height",transform:Yr});const zZ=_n({prop:"boxSizing"});Tx(PZ,zI,FZ,OZ,NZ,BZ,zZ);const EC={border:{themeKey:"borders",transform:Go},borderTop:{themeKey:"borders",transform:Go},borderRight:{themeKey:"borders",transform:Go},borderBottom:{themeKey:"borders",transform:Go},borderLeft:{themeKey:"borders",transform:Go},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:Go},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:Ax},color:{themeKey:"palette",transform:zf},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:zf},backgroundColor:{themeKey:"palette",transform:zf},p:{style:Dn},pt:{style:Dn},pr:{style:Dn},pb:{style:Dn},pl:{style:Dn},px:{style:Dn},py:{style:Dn},padding:{style:Dn},paddingTop:{style:Dn},paddingRight:{style:Dn},paddingBottom:{style:Dn},paddingLeft:{style:Dn},paddingX:{style:Dn},paddingY:{style:Dn},paddingInline:{style:Dn},paddingInlineStart:{style:Dn},paddingInlineEnd:{style:Dn},paddingBlock:{style:Dn},paddingBlockStart:{style:Dn},paddingBlockEnd:{style:Dn},m:{style:Mn},mt:{style:Mn},mr:{style:Mn},mb:{style:Mn},ml:{style:Mn},mx:{style:Mn},my:{style:Mn},margin:{style:Mn},marginTop:{style:Mn},marginRight:{style:Mn},marginBottom:{style:Mn},marginLeft:{style:Mn},marginX:{style:Mn},marginY:{style:Mn},marginInline:{style:Mn},marginInlineStart:{style:Mn},marginInlineEnd:{style:Mn},marginBlock:{style:Mn},marginBlockStart:{style:Mn},marginBlockEnd:{style:Mn},displayPrint:{cssProperty:!1,transform:e=>({"@media print":{display:e}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:Ix},rowGap:{style:kx},columnGap:{style:Lx},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:Yr},maxWidth:{style:zI},minWidth:{transform:Yr},height:{transform:Yr},maxHeight:{transform:Yr},minHeight:{transform:Yr},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function GZ(...e){const t=e.reduce((n,s)=>n.concat(Object.keys(s)),[]),i=new Set(t);return e.every(n=>i.size===Object.keys(n).length)}function HZ(e,t){return typeof e=="function"?e(t):e}function _Z(){function e(i,n,s,r){const o={[i]:n,theme:s},a=r[i];if(!a)return{[i]:n};const{cssProperty:l=i,themeKey:u,transform:d,style:p}=a;if(n==null)return null;if(u==="typography"&&n==="inherit")return{[i]:n};const f=Rx(s,u)||{};return p?p(o):Ta(o,n,y=>{let C=sS(f,d,y);return y===C&&typeof y=="string"&&(C=sS(f,d,`${i}${y==="default"?"":ke(y)}`,y)),l===!1?C:{[l]:C}})}function t(i){const{sx:n,theme:s={}}=i||{};if(!n)return null;const r=s.unstable_sxConfig??EC;function o(a){let l=a;if(typeof a=="function")l=a(s);else if(typeof a!="object")return a;if(!l)return null;const u=wH(s.breakpoints),d=Object.keys(u);let p=u;return Object.keys(l).forEach(f=>{const m=HZ(l[f],s);if(m!=null)if(typeof m=="object")if(r[f])p=qy(p,e(f,m,s,r));else{const y=Ta({theme:s},m,C=>({[f]:C}));GZ(y,m)?p[f]=t({sx:m,theme:s}):p=qy(p,y)}else p=qy(p,e(f,m,s,r))}),qq(s,SH(d,p))}return Array.isArray(n)?n.map(o):o(n)}return t}const Kh=_Z();Kh.filterProps=["sx"];function jZ(e,t){var n;const i=this;if(i.vars){if(!((n=i.colorSchemes)!=null&&n[e])||typeof i.getColorSchemeSelector!="function")return{};let s=i.getColorSchemeSelector(e);return s==="&"?t:((s.includes("data-")||s.includes("."))&&(s=`*:where(${s.replace(/\s*&$/,"")}) &`),{[s]:t})}return i.palette.mode===e?t:{}}function TC(e={},...t){const{breakpoints:i={},palette:n={},spacing:s,shape:r={},...o}=e,a=Kq(i),l=MH(s);let u=fs({breakpoints:a,direction:"ltr",components:{},palette:{mode:"light",...n},spacing:l,shape:{...Jq,...r}},o);return u=Qq(u),u.applyStyles=jZ,u=t.reduce((d,p)=>fs(d,p),u),u.unstable_sxConfig={...EC,...o==null?void 0:o.unstable_sxConfig},u.unstable_sx=function(p){return Kh({sx:p,theme:this})},u}function VZ(e){return Object.keys(e).length===0}function DH(e=null){const t=E.useContext(Mx);return!t||VZ(t)?e:t}const WZ=TC();function Px(e=WZ){return DH(e)}function UZ({styles:e,themeId:t,defaultTheme:i={}}){const n=Px(i),s=typeof e=="function"?e(t&&n[t]||n):e;return B.jsx(Vq,{styles:s})}const $Z=e=>{var n;const t={systemProps:{},otherProps:{}},i=((n=e==null?void 0:e.theme)==null?void 0:n.unstable_sxConfig)??EC;return Object.keys(e).forEach(s=>{i[s]?t.systemProps[s]=e[s]:t.otherProps[s]=e[s]}),t};function GI(e){const{sx:t,...i}=e,{systemProps:n,otherProps:s}=$Z(i);let r;return Array.isArray(t)?r=[n,...t]:typeof t=="function"?r=(...o)=>{const a=t(...o);return pl(a)?{...n,...a}:n}:r={...n,...t},{...s,sx:r}}const T3=e=>e,YZ=()=>{let e=T3;return{configure(t){e=t},generate(t){return e(t)},reset(){e=T3}}},RH=YZ();function EH(e){var t,i,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(i=EH(e[t]))&&(n&&(n+=" "),n+=i)}else for(i in e)e[i]&&(n&&(n+=" "),n+=i);return n}function je(){for(var e,t,i=0,n="",s=arguments.length;i<s;i++)(e=arguments[i])&&(t=EH(e))&&(n&&(n+=" "),n+=t);return n}function KZ(e={}){const{themeId:t,defaultTheme:i,defaultClassName:n="MuiBox-root",generateClassName:s}=e,r=vH("div",{shouldForwardProp:a=>a!=="theme"&&a!=="sx"&&a!=="as"})(Kh);return E.forwardRef(function(l,u){const d=Px(i),{className:p,component:f="div",...m}=GI(l);return B.jsx(r,{as:f,ref:u,className:je(p,s?s(n):n),theme:t&&d[t]||d,...m})})}const qZ={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function Tt(e,t,i="Mui"){const n=qZ[t];return n?`${i}-${n}`:`${RH.generate(e)}-${t}`}function Rt(e,t,i="Mui"){const n={};return t.forEach(s=>{n[s]=Tt(e,s,i)}),n}function TH(e){const{variants:t,...i}=e,n={variants:t,style:x3(i),isProcessed:!0};return n.style===i||t&&t.forEach(s=>{typeof s.style!="function"&&(s.style=x3(s.style))}),n}const ZZ=TC();function kE(e){return e!=="ownerState"&&e!=="theme"&&e!=="sx"&&e!=="as"}function XZ(e){return e?(t,i)=>i[e]:null}function QZ(e,t,i){e.theme=eX(e.theme)?i:e.theme[t]||e.theme}function Mw(e,t){const i=typeof t=="function"?t(e):t;if(Array.isArray(i))return i.flatMap(n=>Mw(e,n));if(Array.isArray(i==null?void 0:i.variants)){let n;if(i.isProcessed)n=i.style;else{const{variants:s,...r}=i;n=r}return AH(e,i.variants,[n])}return i!=null&&i.isProcessed?i.style:i}function AH(e,t,i=[]){var s;let n;e:for(let r=0;r<t.length;r+=1){const o=t[r];if(typeof o.props=="function"){if(n??(n={...e,...e.ownerState,ownerState:e.ownerState}),!o.props(n))continue}else for(const a in o.props)if(e[a]!==o.props[a]&&((s=e.ownerState)==null?void 0:s[a])!==o.props[a])continue e;typeof o.style=="function"?(n??(n={...e,...e.ownerState,ownerState:e.ownerState}),i.push(o.style(n))):i.push(o.style)}return i}function IH(e={}){const{themeId:t,defaultTheme:i=ZZ,rootShouldForwardProp:n=kE,slotShouldForwardProp:s=kE}=e;function r(a){QZ(a,t,i)}return(a,l={})=>{Wq(a,R=>R.filter(A=>A!==Kh));const{name:u,slot:d,skipVariantsResolver:p,skipSx:f,overridesResolver:m=XZ(iX(d)),...y}=l,C=p!==void 0?p:d&&d!=="Root"&&d!=="root"||!1,w=f||!1;let b=kE;d==="Root"||d==="root"?b=n:d?b=s:tX(a)&&(b=void 0);const S=vH(a,{shouldForwardProp:b,label:JZ(),...y}),M=R=>{if(typeof R=="function"&&R.__emotion_real!==R)return function(k){return Mw(k,R)};if(pl(R)){const A=TH(R);return A.variants?function(F){return Mw(F,A)}:A.style}return R},D=(...R)=>{const A=[],k=R.map(M),F=[];if(A.push(r),u&&m&&F.push(function(H){var j,Z;const q=(Z=(j=H.theme.components)==null?void 0:j[u])==null?void 0:Z.styleOverrides;if(!q)return null;const K={};for(const W in q)K[W]=Mw(H,q[W]);return m(H,K)}),u&&!C&&F.push(function(H){var K,j;const V=H.theme,q=(j=(K=V==null?void 0:V.components)==null?void 0:K[u])==null?void 0:j.variants;return q?AH(H,q):null}),w||F.push(Kh),Array.isArray(k[0])){const z=k.shift(),H=new Array(A.length).fill(""),V=new Array(F.length).fill("");let q;q=[...H,...z,...V],q.raw=[...H,...z.raw,...V],A.unshift(q)}const P=[...A,...k,...F],L=S(...P);return a.muiName&&(L.muiName=a.muiName),L};return S.withConfig&&(D.withConfig=S.withConfig),D}}function JZ(e,t){return void 0}function eX(e){for(const t in e)return!1;return!0}function tX(e){return typeof e=="string"&&e.charCodeAt(0)>96}function iX(e){return e&&e.charAt(0).toLowerCase()+e.slice(1)}const LH=IH();function Dv(e,t){const i={...t};for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)){const s=n;if(s==="components"||s==="slots")i[s]={...e[s],...i[s]};else if(s==="componentsProps"||s==="slotProps"){const r=e[s],o=t[s];if(!o)i[s]=r||{};else if(!r)i[s]=o;else{i[s]={...o};for(const a in r)if(Object.prototype.hasOwnProperty.call(r,a)){const l=a;i[s][l]=Dv(r[l],o[l])}}}else i[s]===void 0&&(i[s]=e[s])}return i}function kH(e){const{theme:t,name:i,props:n}=e;return!t||!t.components||!t.components[i]||!t.components[i].defaultProps?n:Dv(t.components[i].defaultProps,n)}function PH({props:e,name:t,defaultTheme:i,themeId:n}){let s=Px(i);return n&&(s=s[n]||s),kH({theme:s,name:t,props:e})}const Aa=typeof window<"u"?E.useLayoutEffect:E.useEffect;function nX(e,t,i,n,s){const[r,o]=E.useState(()=>s&&i?i(e).matches:n?n(e).matches:t);return Aa(()=>{if(!i)return;const a=i(e),l=()=>{o(a.matches)};return l(),a.addEventListener("change",l),()=>{a.removeEventListener("change",l)}},[e,i]),r}const sX={...Qw},FH=sX.useSyncExternalStore;function rX(e,t,i,n,s){const r=E.useCallback(()=>t,[t]),o=E.useMemo(()=>{if(s&&i)return()=>i(e).matches;if(n!==null){const{matches:d}=n(e);return()=>d}return r},[r,e,n,s,i]),[a,l]=E.useMemo(()=>{if(i===null)return[r,()=>()=>{}];const d=i(e);return[()=>d.matches,p=>(d.addEventListener("change",p),()=>{d.removeEventListener("change",p)})]},[r,i,e]);return FH(l,a,o)}function OH(e={}){const{themeId:t}=e;return function(n,s={}){let r=DH();r&&t&&(r=r[t]||r);const o=typeof window<"u"&&typeof window.matchMedia<"u",{defaultMatches:a=!1,matchMedia:l=o?window.matchMedia:null,ssrMatchMedia:u=null,noSsr:d=!1}=kH({name:"MuiUseMediaQuery",props:s,theme:r});let p=typeof n=="function"?n(r):n;return p=p.replace(/^@media( ?)/m,""),(FH!==void 0?rX:nX)(p,a,l,u,d)}}OH();function oX(e,t=Number.MIN_SAFE_INTEGER,i=Number.MAX_SAFE_INTEGER){return Math.max(t,Math.min(e,i))}function HI(e,t=0,i=1){return oX(e,t,i)}function aX(e){e=e.slice(1);const t=new RegExp(`.{1,${e.length>=6?2:1}}`,"g");let i=e.match(t);return i&&i[0].length===1&&(i=i.map(n=>n+n)),i?`rgb${i.length===4?"a":""}(${i.map((n,s)=>s<3?parseInt(n,16):Math.round(parseInt(n,16)/255*1e3)/1e3).join(", ")})`:""}function id(e){if(e.type)return e;if(e.charAt(0)==="#")return id(aX(e));const t=e.indexOf("("),i=e.substring(0,t);if(!["rgb","rgba","hsl","hsla","color"].includes(i))throw new Error(Ac(9,e));let n=e.substring(t+1,e.length-1),s;if(i==="color"){if(n=n.split(" "),s=n.shift(),n.length===4&&n[3].charAt(0)==="/"&&(n[3]=n[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(s))throw new Error(Ac(10,s))}else n=n.split(",");return n=n.map(r=>parseFloat(r)),{type:i,values:n,colorSpace:s}}const lX=e=>{const t=id(e);return t.values.slice(0,3).map((i,n)=>t.type.includes("hsl")&&n!==0?`${i}%`:i).join(" ")},By=(e,t)=>{try{return lX(e)}catch{return e}};function Fx(e){const{type:t,colorSpace:i}=e;let{values:n}=e;return t.includes("rgb")?n=n.map((s,r)=>r<3?parseInt(s,10):s):t.includes("hsl")&&(n[1]=`${n[1]}%`,n[2]=`${n[2]}%`),t.includes("color")?n=`${i} ${n.join(" ")}`:n=`${n.join(", ")}`,`${t}(${n})`}function NH(e){e=id(e);const{values:t}=e,i=t[0],n=t[1]/100,s=t[2]/100,r=n*Math.min(s,1-s),o=(u,d=(u+i/30)%12)=>s-r*Math.max(Math.min(d-3,9-d,1),-1);let a="rgb";const l=[Math.round(o(0)*255),Math.round(o(8)*255),Math.round(o(4)*255)];return e.type==="hsla"&&(a+="a",l.push(t[3])),Fx({type:a,values:l})}function lT(e){e=id(e);let t=e.type==="hsl"||e.type==="hsla"?id(NH(e)).values:e.values;return t=t.map(i=>(e.type!=="color"&&(i/=255),i<=.03928?i/12.92:((i+.055)/1.055)**2.4)),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function cX(e,t){const i=lT(e),n=lT(t);return(Math.max(i,n)+.05)/(Math.min(i,n)+.05)}function zi(e,t){return e=id(e),t=HI(t),(e.type==="rgb"||e.type==="hsl")&&(e.type+="a"),e.type==="color"?e.values[3]=`/${t}`:e.values[3]=t,Fx(e)}function B0(e,t,i){try{return zi(e,t)}catch{return e}}function _I(e,t){if(e=id(e),t=HI(t),e.type.includes("hsl"))e.values[2]*=1-t;else if(e.type.includes("rgb")||e.type.includes("color"))for(let i=0;i<3;i+=1)e.values[i]*=1-t;return Fx(e)}function Ni(e,t,i){try{return _I(e,t)}catch{return e}}function jI(e,t){if(e=id(e),t=HI(t),e.type.includes("hsl"))e.values[2]+=(100-e.values[2])*t;else if(e.type.includes("rgb"))for(let i=0;i<3;i+=1)e.values[i]+=(255-e.values[i])*t;else if(e.type.includes("color"))for(let i=0;i<3;i+=1)e.values[i]+=(1-e.values[i])*t;return Fx(e)}function Bi(e,t,i){try{return jI(e,t)}catch{return e}}function uX(e,t=.15){return lT(e)>.5?_I(e,t):jI(e,t)}function z0(e,t,i){try{return uX(e,t)}catch{return e}}function A3(...e){return e.reduce((t,i)=>i==null?t:function(...s){t.apply(this,s),i.apply(this,s)},()=>{})}function VI(e,t=166){let i;function n(...s){const r=()=>{e.apply(this,s)};clearTimeout(i),i=setTimeout(r,t)}return n.clear=()=>{clearTimeout(i)},n}function Dw(e,t){var i,n,s;return E.isValidElement(e)&&t.indexOf(e.type.muiName??((s=(n=(i=e.type)==null?void 0:i._payload)==null?void 0:n.value)==null?void 0:s.muiName))!==-1}function to(e){return e&&e.ownerDocument||document}function Ia(e){return to(e).defaultView||window}function I3(e,t){typeof e=="function"?e(t):e&&(e.current=t)}let L3=0;function dX(e){const[t,i]=E.useState(e),n=e||t;return E.useEffect(()=>{t==null&&(L3+=1,i(`mui-${L3}`))},[t]),n}const hX={...Qw},k3=hX.useId;function zg(e){if(k3!==void 0){const t=k3();return e??t}return dX(e)}function cT({controlled:e,default:t,name:i,state:n="value"}){const{current:s}=E.useRef(e!==void 0),[r,o]=E.useState(t),a=s?e:r,l=E.useCallback(u=>{s||o(u)},[]);return[a,l]}function bc(e){const t=E.useRef(e);return Aa(()=>{t.current=e}),E.useRef((...i)=>(0,t.current)(...i)).current}function Hn(...e){const t=E.useRef(void 0),i=E.useCallback(n=>{const s=e.map(r=>{if(r==null)return null;if(typeof r=="function"){const o=r,a=o(n);return typeof a=="function"?a:()=>{o(null)}}return r.current=n,()=>{r.current=null}});return()=>{s.forEach(r=>r==null?void 0:r())}},e);return E.useMemo(()=>e.every(n=>n==null)?null:n=>{t.current&&(t.current(),t.current=void 0),n!=null&&(t.current=i(n))},e)}const P3={};function BH(e,t){const i=E.useRef(P3);return i.current===P3&&(i.current=e(t)),i}const pX=[];function fX(e){E.useEffect(e,pX)}class Ox{constructor(){ly(this,"currentId",null);ly(this,"clear",()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)});ly(this,"disposeEffect",()=>this.clear)}static create(){return new Ox}start(t,i){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,i()},t)}}function Ef(){const e=BH(Ox.create).current;return fX(e.disposeEffect),e}function rS(e){try{return e.matches(":focus-visible")}catch{}return!1}function zH(e=window){const t=e.document.documentElement.clientWidth;return e.innerWidth-t}function At(e,t,i=void 0){const n={};for(const s in e){const r=e[s];let o="",a=!0;for(let l=0;l<r.length;l+=1){const u=r[l];u&&(o+=(a===!0?"":" ")+t(u),a=!1,i&&i[u]&&(o+=" "+i[u]))}n[s]=o}return n}function gX(e){return typeof e=="string"}function GH(e,t,i){return e===void 0||gX(e)?t:{...t,ownerState:{...t.ownerState,...i}}}function HH(e,t=[]){if(e===void 0)return{};const i={};return Object.keys(e).filter(n=>n.match(/^on[A-Z]/)&&typeof e[n]=="function"&&!t.includes(n)).forEach(n=>{i[n]=e[n]}),i}function F3(e){if(e===void 0)return{};const t={};return Object.keys(e).filter(i=>!(i.match(/^on[A-Z]/)&&typeof e[i]=="function")).forEach(i=>{t[i]=e[i]}),t}function _H(e){const{getSlotProps:t,additionalProps:i,externalSlotProps:n,externalForwardedProps:s,className:r}=e;if(!t){const m=je(i==null?void 0:i.className,r,s==null?void 0:s.className,n==null?void 0:n.className),y={...i==null?void 0:i.style,...s==null?void 0:s.style,...n==null?void 0:n.style},C={...i,...s,...n};return m.length>0&&(C.className=m),Object.keys(y).length>0&&(C.style=y),{props:C,internalRef:void 0}}const o=HH({...s,...n}),a=F3(n),l=F3(s),u=t(o),d=je(u==null?void 0:u.className,i==null?void 0:i.className,r,s==null?void 0:s.className,n==null?void 0:n.className),p={...u==null?void 0:u.style,...i==null?void 0:i.style,...s==null?void 0:s.style,...n==null?void 0:n.style},f={...u,...i,...l,...a};return d.length>0&&(f.className=d),Object.keys(p).length>0&&(f.style=p),{props:f,internalRef:u.ref}}function jH(e,t,i){return typeof e=="function"?e(t,i):e}function VH(e){var p;const{elementType:t,externalSlotProps:i,ownerState:n,skipResolvingSlotProps:s=!1,...r}=e,o=s?{}:jH(i,n),{props:a,internalRef:l}=_H({...r,externalSlotProps:o}),u=Hn(l,o==null?void 0:o.ref,(p=e.additionalProps)==null?void 0:p.ref);return GH(t,{...a,ref:u},n)}function fp(e){var t;return parseInt(E.version,10)>=19?((t=e==null?void 0:e.props)==null?void 0:t.ref)||null:(e==null?void 0:e.ref)||null}const mX=E.createContext(),Nx=()=>E.useContext(mX)??!1,yX=E.createContext(void 0);function vX(e){const{theme:t,name:i,props:n}=e;if(!t||!t.components||!t.components[i])return n;const s=t.components[i];return s.defaultProps?Dv(s.defaultProps,n):!s.styleOverrides&&!s.variants?Dv(s,n):n}function CX({props:e,name:t}){const i=E.useContext(yX);return vX({props:e,name:t,theme:{components:i}})}const O3={theme:void 0};function bX(e){let t,i;return function(s){let r=t;return(r===void 0||s.theme!==i)&&(O3.theme=s.theme,r=TH(e(O3)),t=r,i=s.theme),r}}function wX(e=""){function t(...n){if(!n.length)return"";const s=n[0];return typeof s=="string"&&!s.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, var(--${e?`${e}-`:""}${s}${t(...n.slice(1))})`:`, ${s}`}return(n,...s)=>`var(--${e?`${e}-`:""}${n}${t(...s)})`}const N3=(e,t,i,n=[])=>{let s=e;t.forEach((r,o)=>{o===t.length-1?Array.isArray(s)?s[Number(r)]=i:s&&typeof s=="object"&&(s[r]=i):s&&typeof s=="object"&&(s[r]||(s[r]=n.includes(r)?[]:{}),s=s[r])})},SX=(e,t,i)=>{function n(s,r=[],o=[]){Object.entries(s).forEach(([a,l])=>{(!i||i&&!i([...r,a]))&&l!=null&&(typeof l=="object"&&Object.keys(l).length>0?n(l,[...r,a],Array.isArray(l)?[...o,a]:o):t([...r,a],l,o))})}n(e)},xX=(e,t)=>typeof t=="number"?["lineHeight","fontWeight","opacity","zIndex"].some(n=>e.includes(n))||e[e.length-1].toLowerCase().includes("opacity")?t:`${t}px`:t;function PE(e,t){const{prefix:i,shouldSkipGeneratingVar:n}=t||{},s={},r={},o={};return SX(e,(a,l,u)=>{if((typeof l=="string"||typeof l=="number")&&(!n||!n(a,l))){const d=`--${i?`${i}-`:""}${a.join("-")}`,p=xX(a,l);Object.assign(s,{[d]:p}),N3(r,a,`var(${d})`,u),N3(o,a,`var(${d}, ${p})`,u)}},a=>a[0]==="vars"),{css:s,vars:r,varsWithDefaults:o}}function MX(e,t={}){const{getSelector:i=w,disableCssColorScheme:n,colorSchemeSelector:s}=t,{colorSchemes:r={},components:o,defaultColorScheme:a="light",...l}=e,{vars:u,css:d,varsWithDefaults:p}=PE(l,t);let f=p;const m={},{[a]:y,...C}=r;if(Object.entries(C||{}).forEach(([M,D])=>{const{vars:R,css:A,varsWithDefaults:k}=PE(D,t);f=fs(f,k),m[M]={css:A,vars:R}}),y){const{css:M,vars:D,varsWithDefaults:R}=PE(y,t);f=fs(f,R),m[a]={css:M,vars:D}}function w(M,D){var A,k;let R=s;if(s==="class"&&(R=".%s"),s==="data"&&(R="[data-%s]"),s!=null&&s.startsWith("data-")&&!s.includes("%s")&&(R=`[${s}="%s"]`),M){if(R==="media")return e.defaultColorScheme===M?":root":{[`@media (prefers-color-scheme: ${((k=(A=r[M])==null?void 0:A.palette)==null?void 0:k.mode)||M})`]:{":root":D}};if(R)return e.defaultColorScheme===M?`:root, ${R.replace("%s",String(M))}`:R.replace("%s",String(M))}return":root"}return{vars:f,generateThemeVars:()=>{let M={...u};return Object.entries(m).forEach(([,{vars:D}])=>{M=fs(M,D)}),M},generateStyleSheets:()=>{var F,P;const M=[],D=e.defaultColorScheme||"light";function R(L,z){Object.keys(z).length&&M.push(typeof L=="string"?{[L]:{...z}}:L)}R(i(void 0,{...d}),d);const{[D]:A,...k}=m;if(A){const{css:L}=A,z=(P=(F=r[D])==null?void 0:F.palette)==null?void 0:P.mode,H=!n&&z?{colorScheme:z,...L}:{...L};R(i(D,{...H}),H)}return Object.entries(k).forEach(([L,{css:z}])=>{var q,K;const H=(K=(q=r[L])==null?void 0:q.palette)==null?void 0:K.mode,V=!n&&H?{colorScheme:H,...z}:{...z};R(i(L,{...V}),V)}),M}}}function DX(e){return function(i){return e==="media"?`@media (prefers-color-scheme: ${i})`:e?e.startsWith("data-")&&!e.includes("%s")?`[${e}="${i}"] &`:e==="class"?`.${i} &`:e==="data"?`[data-${i}] &`:`${e.replace("%s",i)} &`:"&"}}const RX=TC(),EX=LH("div",{name:"MuiContainer",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:i}=e;return[t.root,t[`maxWidth${ke(String(i.maxWidth))}`],i.fixed&&t.fixed,i.disableGutters&&t.disableGutters]}}),TX=e=>PH({props:e,name:"MuiContainer",defaultTheme:RX}),AX=(e,t)=>{const i=l=>Tt(t,l),{classes:n,fixed:s,disableGutters:r,maxWidth:o}=e,a={root:["root",o&&`maxWidth${ke(String(o))}`,s&&"fixed",r&&"disableGutters"]};return At(a,i,n)};function IX(e={}){const{createStyledComponent:t=EX,useThemeProps:i=TX,componentName:n="MuiContainer"}=e,s=t(({theme:o,ownerState:a})=>({width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto",...!a.disableGutters&&{paddingLeft:o.spacing(2),paddingRight:o.spacing(2),[o.breakpoints.up("sm")]:{paddingLeft:o.spacing(3),paddingRight:o.spacing(3)}}}),({theme:o,ownerState:a})=>a.fixed&&Object.keys(o.breakpoints.values).reduce((l,u)=>{const d=u,p=o.breakpoints.values[d];return p!==0&&(l[o.breakpoints.up(d)]={maxWidth:`${p}${o.breakpoints.unit}`}),l},{}),({theme:o,ownerState:a})=>({...a.maxWidth==="xs"&&{[o.breakpoints.up("xs")]:{maxWidth:Math.max(o.breakpoints.values.xs,444)}},...a.maxWidth&&a.maxWidth!=="xs"&&{[o.breakpoints.up(a.maxWidth)]:{maxWidth:`${o.breakpoints.values[a.maxWidth]}${o.breakpoints.unit}`}}}));return E.forwardRef(function(a,l){const u=i(a),{className:d,component:p="div",disableGutters:f=!1,fixed:m=!1,maxWidth:y="lg",classes:C,...w}=u,b={...u,component:p,disableGutters:f,fixed:m,maxWidth:y},S=AX(b,n);return B.jsx(s,{as:p,ownerState:b,className:je(S.root,d),ref:l,...w})})}const LX=TC(),kX=LH("div",{name:"MuiStack",slot:"Root",overridesResolver:(e,t)=>t.root});function PX(e){return PH({props:e,name:"MuiStack",defaultTheme:LX})}function FX(e,t){const i=E.Children.toArray(e).filter(Boolean);return i.reduce((n,s,r)=>(n.push(s),r<i.length-1&&n.push(E.cloneElement(t,{key:`separator-${r}`})),n),[])}const OX=e=>({row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"})[e],NX=({ownerState:e,theme:t})=>{let i={display:"flex",flexDirection:"column",...Ta({theme:t},LE({values:e.direction,breakpoints:t.breakpoints.values}),n=>({flexDirection:n}))};if(e.spacing){const n=Ex(t),s=Object.keys(t.breakpoints.values).reduce((l,u)=>((typeof e.spacing=="object"&&e.spacing[u]!=null||typeof e.direction=="object"&&e.direction[u]!=null)&&(l[u]=!0),l),{}),r=LE({values:e.direction,base:s}),o=LE({values:e.spacing,base:s});typeof r=="object"&&Object.keys(r).forEach((l,u,d)=>{if(!r[l]){const f=u>0?r[d[u-1]]:"column";r[l]=f}}),i=fs(i,Ta({theme:t},o,(l,u)=>e.useFlexGap?{gap:Yh(n,l)}:{"& > :not(style):not(style)":{margin:0},"& > :not(style) ~ :not(style)":{[`margin${OX(u?r[u]:e.direction)}`]:Yh(n,l)}}))}return i=tZ(t.breakpoints,i),i};function BX(e={}){const{createStyledComponent:t=kX,useThemeProps:i=PX,componentName:n="MuiStack"}=e,s=()=>At({root:["root"]},l=>Tt(n,l),{}),r=t(NX);return E.forwardRef(function(l,u){const d=i(l),p=GI(d),{component:f="div",direction:m="column",spacing:y=0,divider:C,children:w,className:b,useFlexGap:S=!1,...M}=p,D={direction:m,spacing:y,useFlexGap:S},R=s();return B.jsx(r,{as:f,ownerState:D,ref:u,className:je(R.root,b),...M,children:C?FX(w,C):w})})}function WH(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:wv.white,default:wv.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const zX=WH();function UH(){return{text:{primary:wv.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:wv.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const B3=UH();function z3(e,t,i,n){const s=n.light||n,r=n.dark||n*1.5;e[t]||(e.hasOwnProperty(i)?e[t]=e[i]:t==="light"?e.light=jI(e.main,s):t==="dark"&&(e.dark=_I(e.main,r)))}function GX(e="light"){return e==="dark"?{main:pf[200],light:pf[50],dark:pf[400]}:{main:pf[700],light:pf[400],dark:pf[800]}}function HX(e="light"){return e==="dark"?{main:hf[200],light:hf[50],dark:hf[400]}:{main:hf[500],light:hf[300],dark:hf[700]}}function _X(e="light"){return e==="dark"?{main:df[500],light:df[300],dark:df[700]}:{main:df[700],light:df[400],dark:df[800]}}function jX(e="light"){return e==="dark"?{main:ff[400],light:ff[300],dark:ff[700]}:{main:ff[700],light:ff[500],dark:ff[900]}}function VX(e="light"){return e==="dark"?{main:gf[400],light:gf[300],dark:gf[700]}:{main:gf[800],light:gf[500],dark:gf[900]}}function WX(e="light"){return e==="dark"?{main:gy[400],light:gy[300],dark:gy[700]}:{main:"#ed6c02",light:gy[500],dark:gy[900]}}function WI(e){const{mode:t="light",contrastThreshold:i=3,tonalOffset:n=.2,...s}=e,r=e.primary||GX(t),o=e.secondary||HX(t),a=e.error||_X(t),l=e.info||jX(t),u=e.success||VX(t),d=e.warning||WX(t);function p(C){return cX(C,B3.text.primary)>=i?B3.text.primary:zX.text.primary}const f=({color:C,name:w,mainShade:b=500,lightShade:S=300,darkShade:M=700})=>{if(C={...C},!C.main&&C[b]&&(C.main=C[b]),!C.hasOwnProperty("main"))throw new Error(Ac(11,w?` (${w})`:"",b));if(typeof C.main!="string")throw new Error(Ac(12,w?` (${w})`:"",JSON.stringify(C.main)));return z3(C,"light",S,n),z3(C,"dark",M,n),C.contrastText||(C.contrastText=p(C.main)),C};let m;return t==="light"?m=WH():t==="dark"&&(m=UH()),fs({common:{...wv},mode:t,primary:f({color:r,name:"primary"}),secondary:f({color:o,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:f({color:a,name:"error"}),warning:f({color:d,name:"warning"}),info:f({color:l,name:"info"}),success:f({color:u,name:"success"}),grey:WK,contrastThreshold:i,getContrastText:p,augmentColor:f,tonalOffset:n,...m},s)}function UX(e){const t={};return Object.entries(e).forEach(n=>{const[s,r]=n;typeof r=="object"&&(t[s]=`${r.fontStyle?`${r.fontStyle} `:""}${r.fontVariant?`${r.fontVariant} `:""}${r.fontWeight?`${r.fontWeight} `:""}${r.fontStretch?`${r.fontStretch} `:""}${r.fontSize||""}${r.lineHeight?`/${r.lineHeight} `:""}${r.fontFamily||""}`)}),t}function $X(e,t){return{toolbar:{minHeight:56,[e.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[e.up("sm")]:{minHeight:64}},...t}}function YX(e){return Math.round(e*1e5)/1e5}const G3={textTransform:"uppercase"},H3='"Roboto", "Helvetica", "Arial", sans-serif';function KX(e,t){const{fontFamily:i=H3,fontSize:n=14,fontWeightLight:s=300,fontWeightRegular:r=400,fontWeightMedium:o=500,fontWeightBold:a=700,htmlFontSize:l=16,allVariants:u,pxToRem:d,...p}=typeof t=="function"?t(e):t,f=n/14,m=d||(w=>`${w/l*f}rem`),y=(w,b,S,M,D)=>({fontFamily:i,fontWeight:w,fontSize:m(b),lineHeight:S,...i===H3?{letterSpacing:`${YX(M/b)}em`}:{},...D,...u}),C={h1:y(s,96,1.167,-1.5),h2:y(s,60,1.2,-.5),h3:y(r,48,1.167,0),h4:y(r,34,1.235,.25),h5:y(r,24,1.334,0),h6:y(o,20,1.6,.15),subtitle1:y(r,16,1.75,.15),subtitle2:y(o,14,1.57,.1),body1:y(r,16,1.5,.15),body2:y(r,14,1.43,.15),button:y(o,14,1.75,.4,G3),caption:y(r,12,1.66,.4),overline:y(r,12,2.66,1,G3),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return fs({htmlFontSize:l,pxToRem:m,fontFamily:i,fontSize:n,fontWeightLight:s,fontWeightRegular:r,fontWeightMedium:o,fontWeightBold:a,...C},p,{clone:!1})}const qX=.2,ZX=.14,XX=.12;function Ji(...e){return[`${e[0]}px ${e[1]}px ${e[2]}px ${e[3]}px rgba(0,0,0,${qX})`,`${e[4]}px ${e[5]}px ${e[6]}px ${e[7]}px rgba(0,0,0,${ZX})`,`${e[8]}px ${e[9]}px ${e[10]}px ${e[11]}px rgba(0,0,0,${XX})`].join(",")}const QX=["none",Ji(0,2,1,-1,0,1,1,0,0,1,3,0),Ji(0,3,1,-2,0,2,2,0,0,1,5,0),Ji(0,3,3,-2,0,3,4,0,0,1,8,0),Ji(0,2,4,-1,0,4,5,0,0,1,10,0),Ji(0,3,5,-1,0,5,8,0,0,1,14,0),Ji(0,3,5,-1,0,6,10,0,0,1,18,0),Ji(0,4,5,-2,0,7,10,1,0,2,16,1),Ji(0,5,5,-3,0,8,10,1,0,3,14,2),Ji(0,5,6,-3,0,9,12,1,0,3,16,2),Ji(0,6,6,-3,0,10,14,1,0,4,18,3),Ji(0,6,7,-4,0,11,15,1,0,4,20,3),Ji(0,7,8,-4,0,12,17,2,0,5,22,4),Ji(0,7,8,-4,0,13,19,2,0,5,24,4),Ji(0,7,9,-4,0,14,21,2,0,5,26,4),Ji(0,8,9,-5,0,15,22,2,0,6,28,5),Ji(0,8,10,-5,0,16,24,2,0,6,30,5),Ji(0,8,11,-5,0,17,26,2,0,6,32,5),Ji(0,9,11,-5,0,18,28,2,0,7,34,6),Ji(0,9,12,-6,0,19,29,2,0,7,36,6),Ji(0,10,13,-6,0,20,31,3,0,8,38,7),Ji(0,10,13,-6,0,21,33,3,0,8,40,7),Ji(0,10,14,-6,0,22,35,3,0,8,42,7),Ji(0,11,14,-7,0,23,36,3,0,9,44,8),Ji(0,11,15,-7,0,24,38,3,0,9,46,8)],JX={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},eQ={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function _3(e){return`${Math.round(e)}ms`}function tQ(e){if(!e)return 0;const t=e/36;return Math.min(Math.round((4+15*t**.25+t/5)*10),3e3)}function iQ(e){const t={...JX,...e.easing},i={...eQ,...e.duration};return{getAutoHeightDuration:tQ,create:(s=["all"],r={})=>{const{duration:o=i.standard,easing:a=t.easeInOut,delay:l=0,...u}=r;return(Array.isArray(s)?s:[s]).map(d=>`${d} ${typeof o=="string"?o:_3(o)} ${a} ${typeof l=="string"?l:_3(l)}`).join(",")},...e,easing:t,duration:i}}const nQ={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function sQ(e){return pl(e)||typeof e>"u"||typeof e=="string"||typeof e=="boolean"||typeof e=="number"||Array.isArray(e)}function $H(e={}){const t={...e};function i(n){const s=Object.entries(n);for(let r=0;r<s.length;r++){const[o,a]=s[r];!sQ(a)||o.startsWith("unstable_")?delete n[o]:pl(a)&&(n[o]={...a},i(n[o]))}}return i(t),`import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';

const theme = ${JSON.stringify(t,null,2)};

theme.breakpoints = createBreakpoints(theme.breakpoints || {});
theme.transitions = createTransitions(theme.transitions || {});

export default theme;`}function uT(e={},...t){const{breakpoints:i,mixins:n={},spacing:s,palette:r={},transitions:o={},typography:a={},shape:l,...u}=e;if(e.vars&&e.generateThemeVars===void 0)throw new Error(Ac(20));const d=WI(r),p=TC(e);let f=fs(p,{mixins:$X(p.breakpoints,n),palette:d,shadows:QX.slice(),typography:KX(d,a),transitions:iQ(o),zIndex:{...nQ}});return f=fs(f,u),f=t.reduce((m,y)=>fs(m,y),f),f.unstable_sxConfig={...EC,...u==null?void 0:u.unstable_sxConfig},f.unstable_sx=function(y){return Kh({sx:y,theme:this})},f.toRuntimeSource=$H,f}function dT(e){let t;return e<1?t=5.11916*e**2:t=4.5*Math.log(e+1)+2,Math.round(t*10)/1e3}const rQ=[...Array(25)].map((e,t)=>{if(t===0)return"none";const i=dT(t);return`linear-gradient(rgba(255 255 255 / ${i}), rgba(255 255 255 / ${i}))`});function YH(e){return{inputPlaceholder:e==="dark"?.5:.42,inputUnderline:e==="dark"?.7:.42,switchTrackDisabled:e==="dark"?.2:.12,switchTrack:e==="dark"?.3:.38}}function KH(e){return e==="dark"?rQ:[]}function oQ(e){const{palette:t={mode:"light"},opacity:i,overlays:n,...s}=e,r=WI(t);return{palette:r,opacity:{...YH(r.mode),...i},overlays:n||KH(r.mode),...s}}function aQ(e){var t;return!!e[0].match(/(cssVarPrefix|colorSchemeSelector|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!e[0].match(/sxConfig$/)||e[0]==="palette"&&!!((t=e[1])!=null&&t.match(/(mode|contrastThreshold|tonalOffset)/))}const lQ=e=>[...[...Array(25)].map((t,i)=>`--${e?`${e}-`:""}overlays-${i}`),`--${e?`${e}-`:""}palette-AppBar-darkBg`,`--${e?`${e}-`:""}palette-AppBar-darkColor`],cQ=e=>(t,i)=>{const n=e.rootSelector||":root",s=e.colorSchemeSelector;let r=s;if(s==="class"&&(r=".%s"),s==="data"&&(r="[data-%s]"),s!=null&&s.startsWith("data-")&&!s.includes("%s")&&(r=`[${s}="%s"]`),e.defaultColorScheme===t){if(t==="dark"){const o={};return lQ(e.cssVarPrefix).forEach(a=>{o[a]=i[a],delete i[a]}),r==="media"?{[n]:i,"@media (prefers-color-scheme: dark)":{[n]:o}}:r?{[r.replace("%s",t)]:o,[`${n}, ${r.replace("%s",t)}`]:i}:{[n]:{...i,...o}}}if(r&&r!=="media")return`${n}, ${r.replace("%s",String(t))}`}else if(t){if(r==="media")return{[`@media (prefers-color-scheme: ${String(t)})`]:{[n]:i}};if(r)return r.replace("%s",String(t))}return n};function uQ(e,t){t.forEach(i=>{e[i]||(e[i]={})})}function ve(e,t,i){!e[t]&&i&&(e[t]=i)}function zy(e){return typeof e!="string"||!e.startsWith("hsl")?e:NH(e)}function ac(e,t){`${t}Channel`in e||(e[`${t}Channel`]=By(zy(e[t])))}function dQ(e){return typeof e=="number"?`${e}px`:typeof e=="string"||typeof e=="function"||Array.isArray(e)?e:"8px"}const Qa=e=>{try{return e()}catch{}},hQ=(e="mui")=>wX(e);function FE(e,t,i,n){if(!t)return;t=t===!0?{}:t;const s=n==="dark"?"dark":"light";if(!i){e[n]=oQ({...t,palette:{mode:s,...t==null?void 0:t.palette}});return}const{palette:r,...o}=uT({...i,palette:{mode:s,...t==null?void 0:t.palette}});return e[n]={...t,palette:r,opacity:{...YH(s),...t==null?void 0:t.opacity},overlays:(t==null?void 0:t.overlays)||KH(s)},o}function pQ(e={},...t){const{colorSchemes:i={light:!0},defaultColorScheme:n,disableCssColorScheme:s=!1,cssVarPrefix:r="mui",shouldSkipGeneratingVar:o=aQ,colorSchemeSelector:a=i.light&&i.dark?"media":void 0,rootSelector:l=":root",...u}=e,d=Object.keys(i)[0],p=n||(i.light&&d!=="light"?"light":d),f=hQ(r),{[p]:m,light:y,dark:C,...w}=i,b={...w};let S=m;if((p==="dark"&&!("dark"in i)||p==="light"&&!("light"in i))&&(S=!0),!S)throw new Error(Ac(21,p));const M=FE(b,S,u,p);y&&!b.light&&FE(b,y,void 0,"light"),C&&!b.dark&&FE(b,C,void 0,"dark");let D={defaultColorScheme:p,...M,cssVarPrefix:r,colorSchemeSelector:a,rootSelector:l,getCssVar:f,colorSchemes:b,font:{...UX(M.typography),...M.font},spacing:dQ(u.spacing)};Object.keys(D.colorSchemes).forEach(P=>{const L=D.colorSchemes[P].palette,z=H=>{const V=H.split("-"),q=V[1],K=V[2];return f(H,L[q][K])};if(L.mode==="light"&&(ve(L.common,"background","#fff"),ve(L.common,"onBackground","#000")),L.mode==="dark"&&(ve(L.common,"background","#000"),ve(L.common,"onBackground","#fff")),uQ(L,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"]),L.mode==="light"){ve(L.Alert,"errorColor",Ni(L.error.light,.6)),ve(L.Alert,"infoColor",Ni(L.info.light,.6)),ve(L.Alert,"successColor",Ni(L.success.light,.6)),ve(L.Alert,"warningColor",Ni(L.warning.light,.6)),ve(L.Alert,"errorFilledBg",z("palette-error-main")),ve(L.Alert,"infoFilledBg",z("palette-info-main")),ve(L.Alert,"successFilledBg",z("palette-success-main")),ve(L.Alert,"warningFilledBg",z("palette-warning-main")),ve(L.Alert,"errorFilledColor",Qa(()=>L.getContrastText(L.error.main))),ve(L.Alert,"infoFilledColor",Qa(()=>L.getContrastText(L.info.main))),ve(L.Alert,"successFilledColor",Qa(()=>L.getContrastText(L.success.main))),ve(L.Alert,"warningFilledColor",Qa(()=>L.getContrastText(L.warning.main))),ve(L.Alert,"errorStandardBg",Bi(L.error.light,.9)),ve(L.Alert,"infoStandardBg",Bi(L.info.light,.9)),ve(L.Alert,"successStandardBg",Bi(L.success.light,.9)),ve(L.Alert,"warningStandardBg",Bi(L.warning.light,.9)),ve(L.Alert,"errorIconColor",z("palette-error-main")),ve(L.Alert,"infoIconColor",z("palette-info-main")),ve(L.Alert,"successIconColor",z("palette-success-main")),ve(L.Alert,"warningIconColor",z("palette-warning-main")),ve(L.AppBar,"defaultBg",z("palette-grey-100")),ve(L.Avatar,"defaultBg",z("palette-grey-400")),ve(L.Button,"inheritContainedBg",z("palette-grey-300")),ve(L.Button,"inheritContainedHoverBg",z("palette-grey-A100")),ve(L.Chip,"defaultBorder",z("palette-grey-400")),ve(L.Chip,"defaultAvatarColor",z("palette-grey-700")),ve(L.Chip,"defaultIconColor",z("palette-grey-700")),ve(L.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),ve(L.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),ve(L.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),ve(L.LinearProgress,"primaryBg",Bi(L.primary.main,.62)),ve(L.LinearProgress,"secondaryBg",Bi(L.secondary.main,.62)),ve(L.LinearProgress,"errorBg",Bi(L.error.main,.62)),ve(L.LinearProgress,"infoBg",Bi(L.info.main,.62)),ve(L.LinearProgress,"successBg",Bi(L.success.main,.62)),ve(L.LinearProgress,"warningBg",Bi(L.warning.main,.62)),ve(L.Skeleton,"bg",`rgba(${z("palette-text-primaryChannel")} / 0.11)`),ve(L.Slider,"primaryTrack",Bi(L.primary.main,.62)),ve(L.Slider,"secondaryTrack",Bi(L.secondary.main,.62)),ve(L.Slider,"errorTrack",Bi(L.error.main,.62)),ve(L.Slider,"infoTrack",Bi(L.info.main,.62)),ve(L.Slider,"successTrack",Bi(L.success.main,.62)),ve(L.Slider,"warningTrack",Bi(L.warning.main,.62));const H=z0(L.background.default,.8);ve(L.SnackbarContent,"bg",H),ve(L.SnackbarContent,"color",Qa(()=>L.getContrastText(H))),ve(L.SpeedDialAction,"fabHoverBg",z0(L.background.paper,.15)),ve(L.StepConnector,"border",z("palette-grey-400")),ve(L.StepContent,"border",z("palette-grey-400")),ve(L.Switch,"defaultColor",z("palette-common-white")),ve(L.Switch,"defaultDisabledColor",z("palette-grey-100")),ve(L.Switch,"primaryDisabledColor",Bi(L.primary.main,.62)),ve(L.Switch,"secondaryDisabledColor",Bi(L.secondary.main,.62)),ve(L.Switch,"errorDisabledColor",Bi(L.error.main,.62)),ve(L.Switch,"infoDisabledColor",Bi(L.info.main,.62)),ve(L.Switch,"successDisabledColor",Bi(L.success.main,.62)),ve(L.Switch,"warningDisabledColor",Bi(L.warning.main,.62)),ve(L.TableCell,"border",Bi(B0(L.divider,1),.88)),ve(L.Tooltip,"bg",B0(L.grey[700],.92))}if(L.mode==="dark"){ve(L.Alert,"errorColor",Bi(L.error.light,.6)),ve(L.Alert,"infoColor",Bi(L.info.light,.6)),ve(L.Alert,"successColor",Bi(L.success.light,.6)),ve(L.Alert,"warningColor",Bi(L.warning.light,.6)),ve(L.Alert,"errorFilledBg",z("palette-error-dark")),ve(L.Alert,"infoFilledBg",z("palette-info-dark")),ve(L.Alert,"successFilledBg",z("palette-success-dark")),ve(L.Alert,"warningFilledBg",z("palette-warning-dark")),ve(L.Alert,"errorFilledColor",Qa(()=>L.getContrastText(L.error.dark))),ve(L.Alert,"infoFilledColor",Qa(()=>L.getContrastText(L.info.dark))),ve(L.Alert,"successFilledColor",Qa(()=>L.getContrastText(L.success.dark))),ve(L.Alert,"warningFilledColor",Qa(()=>L.getContrastText(L.warning.dark))),ve(L.Alert,"errorStandardBg",Ni(L.error.light,.9)),ve(L.Alert,"infoStandardBg",Ni(L.info.light,.9)),ve(L.Alert,"successStandardBg",Ni(L.success.light,.9)),ve(L.Alert,"warningStandardBg",Ni(L.warning.light,.9)),ve(L.Alert,"errorIconColor",z("palette-error-main")),ve(L.Alert,"infoIconColor",z("palette-info-main")),ve(L.Alert,"successIconColor",z("palette-success-main")),ve(L.Alert,"warningIconColor",z("palette-warning-main")),ve(L.AppBar,"defaultBg",z("palette-grey-900")),ve(L.AppBar,"darkBg",z("palette-background-paper")),ve(L.AppBar,"darkColor",z("palette-text-primary")),ve(L.Avatar,"defaultBg",z("palette-grey-600")),ve(L.Button,"inheritContainedBg",z("palette-grey-800")),ve(L.Button,"inheritContainedHoverBg",z("palette-grey-700")),ve(L.Chip,"defaultBorder",z("palette-grey-700")),ve(L.Chip,"defaultAvatarColor",z("palette-grey-300")),ve(L.Chip,"defaultIconColor",z("palette-grey-300")),ve(L.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),ve(L.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),ve(L.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),ve(L.LinearProgress,"primaryBg",Ni(L.primary.main,.5)),ve(L.LinearProgress,"secondaryBg",Ni(L.secondary.main,.5)),ve(L.LinearProgress,"errorBg",Ni(L.error.main,.5)),ve(L.LinearProgress,"infoBg",Ni(L.info.main,.5)),ve(L.LinearProgress,"successBg",Ni(L.success.main,.5)),ve(L.LinearProgress,"warningBg",Ni(L.warning.main,.5)),ve(L.Skeleton,"bg",`rgba(${z("palette-text-primaryChannel")} / 0.13)`),ve(L.Slider,"primaryTrack",Ni(L.primary.main,.5)),ve(L.Slider,"secondaryTrack",Ni(L.secondary.main,.5)),ve(L.Slider,"errorTrack",Ni(L.error.main,.5)),ve(L.Slider,"infoTrack",Ni(L.info.main,.5)),ve(L.Slider,"successTrack",Ni(L.success.main,.5)),ve(L.Slider,"warningTrack",Ni(L.warning.main,.5));const H=z0(L.background.default,.98);ve(L.SnackbarContent,"bg",H),ve(L.SnackbarContent,"color",Qa(()=>L.getContrastText(H))),ve(L.SpeedDialAction,"fabHoverBg",z0(L.background.paper,.15)),ve(L.StepConnector,"border",z("palette-grey-600")),ve(L.StepContent,"border",z("palette-grey-600")),ve(L.Switch,"defaultColor",z("palette-grey-300")),ve(L.Switch,"defaultDisabledColor",z("palette-grey-600")),ve(L.Switch,"primaryDisabledColor",Ni(L.primary.main,.55)),ve(L.Switch,"secondaryDisabledColor",Ni(L.secondary.main,.55)),ve(L.Switch,"errorDisabledColor",Ni(L.error.main,.55)),ve(L.Switch,"infoDisabledColor",Ni(L.info.main,.55)),ve(L.Switch,"successDisabledColor",Ni(L.success.main,.55)),ve(L.Switch,"warningDisabledColor",Ni(L.warning.main,.55)),ve(L.TableCell,"border",Ni(B0(L.divider,1),.68)),ve(L.Tooltip,"bg",B0(L.grey[700],.92))}ac(L.background,"default"),ac(L.background,"paper"),ac(L.common,"background"),ac(L.common,"onBackground"),ac(L,"divider"),Object.keys(L).forEach(H=>{const V=L[H];H!=="tonalOffset"&&V&&typeof V=="object"&&(V.main&&ve(L[H],"mainChannel",By(zy(V.main))),V.light&&ve(L[H],"lightChannel",By(zy(V.light))),V.dark&&ve(L[H],"darkChannel",By(zy(V.dark))),V.contrastText&&ve(L[H],"contrastTextChannel",By(zy(V.contrastText))),H==="text"&&(ac(L[H],"primary"),ac(L[H],"secondary")),H==="action"&&(V.active&&ac(L[H],"active"),V.selected&&ac(L[H],"selected")))})}),D=t.reduce((P,L)=>fs(P,L),D);const R={prefix:r,disableCssColorScheme:s,shouldSkipGeneratingVar:o,getSelector:cQ(D)},{vars:A,generateThemeVars:k,generateStyleSheets:F}=MX(D,R);return D.vars=A,Object.entries(D.colorSchemes[D.defaultColorScheme]).forEach(([P,L])=>{D[P]=L}),D.generateThemeVars=k,D.generateStyleSheets=F,D.generateSpacing=function(){return MH(u.spacing,Ex(this))},D.getColorSchemeSelector=DX(a),D.spacing=D.generateSpacing(),D.shouldSkipGeneratingVar=o,D.unstable_sxConfig={...EC,...u==null?void 0:u.unstable_sxConfig},D.unstable_sx=function(L){return Kh({sx:L,theme:this})},D.toRuntimeSource=$H,D}function j3(e,t,i){e.colorSchemes&&i&&(e.colorSchemes[t]={...i!==!0&&i,palette:WI({...i===!0?{}:i.palette,mode:t})})}function qH(e={},...t){const{palette:i,cssVariables:n=!1,colorSchemes:s=i?void 0:{light:!0},defaultColorScheme:r=i==null?void 0:i.mode,...o}=e,a=r||"light",l=s==null?void 0:s[a],u={...s,...i?{[a]:{...typeof l!="boolean"&&l,palette:i}}:void 0};if(n===!1){if(!("colorSchemes"in e))return uT(e,...t);let d=i;"palette"in e||u[a]&&(u[a]!==!0?d=u[a].palette:a==="dark"&&(d={mode:"dark"}));const p=uT({...e,palette:d},...t);return p.defaultColorScheme=a,p.colorSchemes=u,p.palette.mode==="light"&&(p.colorSchemes.light={...u.light!==!0&&u.light,palette:p.palette},j3(p,"dark",u.dark)),p.palette.mode==="dark"&&(p.colorSchemes.dark={...u.dark!==!0&&u.dark,palette:p.palette},j3(p,"light",u.light)),p}return!i&&!("light"in u)&&a==="light"&&(u.light=!0),pQ({...o,colorSchemes:u,defaultColorScheme:a,...typeof n!="boolean"&&n},...t)}const UI=qH();function Nc(){const e=Px(UI);return e[SC]||e}function ZH(e){return e!=="ownerState"&&e!=="theme"&&e!=="sx"&&e!=="as"}const so=e=>ZH(e)&&e!=="classes",Oe=IH({themeId:SC,defaultTheme:UI,rootShouldForwardProp:so});function fQ(e){return B.jsx(UZ,{...e,defaultTheme:UI,themeId:SC})}function gQ(e){return function(i){return B.jsx(fQ,{styles:typeof e=="function"?n=>e({theme:n,...i}):e})}}function mQ(){return GI}const Kt=bX;function kt(e){return CX(e)}function yQ(e){return Tt("MuiSvgIcon",e)}Rt("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const vQ=e=>{const{color:t,fontSize:i,classes:n}=e,s={root:["root",t!=="inherit"&&`color${ke(t)}`,`fontSize${ke(i)}`]};return At(s,yQ,n)},CQ=Oe("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:i}=e;return[t.root,i.color!=="inherit"&&t[`color${ke(i.color)}`],t[`fontSize${ke(i.fontSize)}`]]}})(Kt(({theme:e})=>{var t,i,n,s,r,o,a,l,u,d,p,f,m,y;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",flexShrink:0,transition:(s=(t=e.transitions)==null?void 0:t.create)==null?void 0:s.call(t,"fill",{duration:(n=(i=(e.vars??e).transitions)==null?void 0:i.duration)==null?void 0:n.shorter}),variants:[{props:C=>!C.hasSvgAsChild,style:{fill:"currentColor"}},{props:{fontSize:"inherit"},style:{fontSize:"inherit"}},{props:{fontSize:"small"},style:{fontSize:((o=(r=e.typography)==null?void 0:r.pxToRem)==null?void 0:o.call(r,20))||"1.25rem"}},{props:{fontSize:"medium"},style:{fontSize:((l=(a=e.typography)==null?void 0:a.pxToRem)==null?void 0:l.call(a,24))||"1.5rem"}},{props:{fontSize:"large"},style:{fontSize:((d=(u=e.typography)==null?void 0:u.pxToRem)==null?void 0:d.call(u,35))||"2.1875rem"}},...Object.entries((e.vars??e).palette).filter(([,C])=>C&&C.main).map(([C])=>{var w,b;return{props:{color:C},style:{color:(b=(w=(e.vars??e).palette)==null?void 0:w[C])==null?void 0:b.main}}}),{props:{color:"action"},style:{color:(f=(p=(e.vars??e).palette)==null?void 0:p.action)==null?void 0:f.active}},{props:{color:"disabled"},style:{color:(y=(m=(e.vars??e).palette)==null?void 0:m.action)==null?void 0:y.disabled}},{props:{color:"inherit"},style:{color:void 0}}]}})),hT=E.forwardRef(function(t,i){const n=kt({props:t,name:"MuiSvgIcon"}),{children:s,className:r,color:o="inherit",component:a="svg",fontSize:l="medium",htmlColor:u,inheritViewBox:d=!1,titleAccess:p,viewBox:f="0 0 24 24",...m}=n,y=E.isValidElement(s)&&s.type==="svg",C={...n,color:o,component:a,fontSize:l,instanceFontSize:t.fontSize,inheritViewBox:d,viewBox:f,hasSvgAsChild:y},w={};d||(w.viewBox=f);const b=vQ(C);return B.jsxs(CQ,{as:a,className:je(b.root,r),focusable:"false",color:u,"aria-hidden":p?void 0:!0,role:p?"img":void 0,ref:i,...w,...m,...y&&s.props,ownerState:C,children:[y?s.props.children:s,p?B.jsx("title",{children:p}):null]})});hT.muiName="SvgIcon";function gr(e,t){function i(n,s){return B.jsx(hT,{"data-testid":`${t}Icon`,ref:s,...n,children:e})}return i.muiName=hT.muiName,E.memo(E.forwardRef(i))}function XH(e,t){if(!e)return t;if(typeof e=="function"||typeof t=="function")return s=>{const r=typeof t=="function"?t(s):t,o=typeof e=="function"?e({...s,...r}):e,a=je(s==null?void 0:s.className,r==null?void 0:r.className,o==null?void 0:o.className);return{...r,...o,...!!a&&{className:a},...(r==null?void 0:r.style)&&(o==null?void 0:o.style)&&{style:{...r.style,...o.style}},...(r==null?void 0:r.sx)&&(o==null?void 0:o.sx)&&{sx:[...Array.isArray(r.sx)?r.sx:[r.sx],...Array.isArray(o.sx)?o.sx:[o.sx]]}}};const i=t,n=je(i==null?void 0:i.className,e==null?void 0:e.className);return{...t,...e,...!!n&&{className:n},...(i==null?void 0:i.style)&&(e==null?void 0:e.style)&&{style:{...i.style,...e.style}},...(i==null?void 0:i.sx)&&(e==null?void 0:e.sx)&&{sx:[...Array.isArray(i.sx)?i.sx:[i.sx],...Array.isArray(e.sx)?e.sx:[e.sx]]}}}function QH(e,t){if(e==null)return{};var i={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;i[n]=e[n]}return i}function pT(e,t){return pT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,n){return i.__proto__=n,i},pT(e,t)}function JH(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,pT(e,t)}const V3={disabled:!1},oS=fe.createContext(null);var bQ=function(t){return t.scrollTop},Gy="unmounted",lh="exited",ch="entering",Sf="entered",fT="exiting",Ba=function(e){JH(t,e);function t(n,s){var r;r=e.call(this,n,s)||this;var o=s,a=o&&!o.isMounting?n.enter:n.appear,l;return r.appearStatus=null,n.in?a?(l=lh,r.appearStatus=ch):l=Sf:n.unmountOnExit||n.mountOnEnter?l=Gy:l=lh,r.state={status:l},r.nextCallback=null,r}t.getDerivedStateFromProps=function(s,r){var o=s.in;return o&&r.status===Gy?{status:lh}:null};var i=t.prototype;return i.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},i.componentDidUpdate=function(s){var r=null;if(s!==this.props){var o=this.state.status;this.props.in?o!==ch&&o!==Sf&&(r=ch):(o===ch||o===Sf)&&(r=fT)}this.updateStatus(!1,r)},i.componentWillUnmount=function(){this.cancelNextCallback()},i.getTimeouts=function(){var s=this.props.timeout,r,o,a;return r=o=a=s,s!=null&&typeof s!="number"&&(r=s.exit,o=s.enter,a=s.appear!==void 0?s.appear:o),{exit:r,enter:o,appear:a}},i.updateStatus=function(s,r){if(s===void 0&&(s=!1),r!==null)if(this.cancelNextCallback(),r===ch){if(this.props.unmountOnExit||this.props.mountOnEnter){var o=this.props.nodeRef?this.props.nodeRef.current:Ny.findDOMNode(this);o&&bQ(o)}this.performEnter(s)}else this.performExit();else this.props.unmountOnExit&&this.state.status===lh&&this.setState({status:Gy})},i.performEnter=function(s){var r=this,o=this.props.enter,a=this.context?this.context.isMounting:s,l=this.props.nodeRef?[a]:[Ny.findDOMNode(this),a],u=l[0],d=l[1],p=this.getTimeouts(),f=a?p.appear:p.enter;if(!s&&!o||V3.disabled){this.safeSetState({status:Sf},function(){r.props.onEntered(u)});return}this.props.onEnter(u,d),this.safeSetState({status:ch},function(){r.props.onEntering(u,d),r.onTransitionEnd(f,function(){r.safeSetState({status:Sf},function(){r.props.onEntered(u,d)})})})},i.performExit=function(){var s=this,r=this.props.exit,o=this.getTimeouts(),a=this.props.nodeRef?void 0:Ny.findDOMNode(this);if(!r||V3.disabled){this.safeSetState({status:lh},function(){s.props.onExited(a)});return}this.props.onExit(a),this.safeSetState({status:fT},function(){s.props.onExiting(a),s.onTransitionEnd(o.exit,function(){s.safeSetState({status:lh},function(){s.props.onExited(a)})})})},i.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},i.safeSetState=function(s,r){r=this.setNextCallback(r),this.setState(s,r)},i.setNextCallback=function(s){var r=this,o=!0;return this.nextCallback=function(a){o&&(o=!1,r.nextCallback=null,s(a))},this.nextCallback.cancel=function(){o=!1},this.nextCallback},i.onTransitionEnd=function(s,r){this.setNextCallback(r);var o=this.props.nodeRef?this.props.nodeRef.current:Ny.findDOMNode(this),a=s==null&&!this.props.addEndListener;if(!o||a){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var l=this.props.nodeRef?[this.nextCallback]:[o,this.nextCallback],u=l[0],d=l[1];this.props.addEndListener(u,d)}s!=null&&setTimeout(this.nextCallback,s)},i.render=function(){var s=this.state.status;if(s===Gy)return null;var r=this.props,o=r.children;r.in,r.mountOnEnter,r.unmountOnExit,r.appear,r.enter,r.exit,r.timeout,r.addEndListener,r.onEnter,r.onEntering,r.onEntered,r.onExit,r.onExiting,r.onExited,r.nodeRef;var a=QH(r,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return fe.createElement(oS.Provider,{value:null},typeof o=="function"?o(s,a):fe.cloneElement(fe.Children.only(o),a))},t}(fe.Component);Ba.contextType=oS;Ba.propTypes={};function mf(){}Ba.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:mf,onEntering:mf,onEntered:mf,onExit:mf,onExiting:mf,onExited:mf};Ba.UNMOUNTED=Gy;Ba.EXITED=lh;Ba.ENTERING=ch;Ba.ENTERED=Sf;Ba.EXITING=fT;function wQ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $I(e,t){var i=function(r){return t&&E.isValidElement(r)?t(r):r},n=Object.create(null);return e&&E.Children.map(e,function(s){return s}).forEach(function(s){n[s.key]=i(s)}),n}function SQ(e,t){e=e||{},t=t||{};function i(d){return d in t?t[d]:e[d]}var n=Object.create(null),s=[];for(var r in e)r in t?s.length&&(n[r]=s,s=[]):s.push(r);var o,a={};for(var l in t){if(n[l])for(o=0;o<n[l].length;o++){var u=n[l][o];a[n[l][o]]=i(u)}a[l]=i(l)}for(o=0;o<s.length;o++)a[s[o]]=i(s[o]);return a}function vh(e,t,i){return i[t]!=null?i[t]:e.props[t]}function xQ(e,t){return $I(e.children,function(i){return E.cloneElement(i,{onExited:t.bind(null,i),in:!0,appear:vh(i,"appear",e),enter:vh(i,"enter",e),exit:vh(i,"exit",e)})})}function MQ(e,t,i){var n=$I(e.children),s=SQ(t,n);return Object.keys(s).forEach(function(r){var o=s[r];if(E.isValidElement(o)){var a=r in t,l=r in n,u=t[r],d=E.isValidElement(u)&&!u.props.in;l&&(!a||d)?s[r]=E.cloneElement(o,{onExited:i.bind(null,o),in:!0,exit:vh(o,"exit",e),enter:vh(o,"enter",e)}):!l&&a&&!d?s[r]=E.cloneElement(o,{in:!1}):l&&a&&E.isValidElement(u)&&(s[r]=E.cloneElement(o,{onExited:i.bind(null,o),in:u.props.in,exit:vh(o,"exit",e),enter:vh(o,"enter",e)}))}}),s}var DQ=Object.values||function(e){return Object.keys(e).map(function(t){return e[t]})},RQ={component:"div",childFactory:function(t){return t}},YI=function(e){JH(t,e);function t(n,s){var r;r=e.call(this,n,s)||this;var o=r.handleExited.bind(wQ(r));return r.state={contextValue:{isMounting:!0},handleExited:o,firstRender:!0},r}var i=t.prototype;return i.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},i.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(s,r){var o=r.children,a=r.handleExited,l=r.firstRender;return{children:l?xQ(s,a):MQ(s,o,a),firstRender:!1}},i.handleExited=function(s,r){var o=$I(this.props.children);s.key in o||(s.props.onExited&&s.props.onExited(r),this.mounted&&this.setState(function(a){var l=iS({},a.children);return delete l[s.key],{children:l}}))},i.render=function(){var s=this.props,r=s.component,o=s.childFactory,a=QH(s,["component","childFactory"]),l=this.state.contextValue,u=DQ(this.state.children).map(o);return delete a.appear,delete a.enter,delete a.exit,r===null?fe.createElement(oS.Provider,{value:l},u):fe.createElement(oS.Provider,{value:l},fe.createElement(r,a,u))},t}(fe.Component);YI.propTypes={};YI.defaultProps=RQ;const KI=e=>e.scrollTop;function pg(e,t){const{timeout:i,easing:n,style:s={}}=e;return{duration:s.transitionDuration??(typeof i=="number"?i:i[t.mode]||0),easing:s.transitionTimingFunction??(typeof n=="object"?n[t.mode]:n),delay:s.transitionDelay}}function EQ(e){return Tt("MuiPaper",e)}Rt("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const TQ=e=>{const{square:t,elevation:i,variant:n,classes:s}=e,r={root:["root",n,!t&&"rounded",n==="elevation"&&`elevation${i}`]};return At(r,EQ,s)},AQ=Oe("div",{name:"MuiPaper",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:i}=e;return[t.root,t[i.variant],!i.square&&t.rounded,i.variant==="elevation"&&t[`elevation${i.elevation}`]]}})(Kt(({theme:e})=>({backgroundColor:(e.vars||e).palette.background.paper,color:(e.vars||e).palette.text.primary,transition:e.transitions.create("box-shadow"),variants:[{props:({ownerState:t})=>!t.square,style:{borderRadius:e.shape.borderRadius}},{props:{variant:"outlined"},style:{border:`1px solid ${(e.vars||e).palette.divider}`}},{props:{variant:"elevation"},style:{boxShadow:"var(--Paper-shadow)",backgroundImage:"var(--Paper-overlay)"}}]}))),Zs=E.forwardRef(function(t,i){var m;const n=kt({props:t,name:"MuiPaper"}),s=Nc(),{className:r,component:o="div",elevation:a=1,square:l=!1,variant:u="elevation",...d}=n,p={...n,component:o,elevation:a,square:l,variant:u},f=TQ(p);return B.jsx(AQ,{as:o,ownerState:p,className:je(f.root,r),ref:i,...d,style:{...u==="elevation"&&{"--Paper-shadow":(s.vars||s).shadows[a],...s.vars&&{"--Paper-overlay":(m=s.vars.overlays)==null?void 0:m[a]},...!s.vars&&s.palette.mode==="dark"&&{"--Paper-overlay":`linear-gradient(${zi("#fff",dT(a))}, ${zi("#fff",dT(a))})`}},...d.style}})});function li(e,t){const{className:i,elementType:n,ownerState:s,externalForwardedProps:r,internalForwardedProps:o,shouldForwardComponentProp:a=!1,...l}=t,{component:u,slots:d={[e]:void 0},slotProps:p={[e]:void 0},...f}=r,m=d[e]||n,y=jH(p[e],s),{props:{component:C,...w},internalRef:b}=_H({className:i,...l,externalForwardedProps:e==="root"?f:void 0,externalSlotProps:y}),S=Hn(b,y==null?void 0:y.ref,t.ref),M=e==="root"?C||u:C,D=GH(m,{...e==="root"&&!u&&!d[e]&&o,...e!=="root"&&!d[e]&&o,...w,...M&&!a&&{as:M},...M&&a&&{component:M},ref:S},s);return[m,D]}class aS{constructor(){ly(this,"mountEffect",()=>{this.shouldMount&&!this.didMount&&this.ref.current!==null&&(this.didMount=!0,this.mounted.resolve())});this.ref={current:null},this.mounted=null,this.didMount=!1,this.shouldMount=!1,this.setShouldMount=null}static create(){return new aS}static use(){const t=BH(aS.create).current,[i,n]=E.useState(!1);return t.shouldMount=i,t.setShouldMount=n,E.useEffect(t.mountEffect,[i]),t}mount(){return this.mounted||(this.mounted=LQ(),this.shouldMount=!0,this.setShouldMount(this.shouldMount)),this.mounted}start(...t){this.mount().then(()=>{var i;return(i=this.ref.current)==null?void 0:i.start(...t)})}stop(...t){this.mount().then(()=>{var i;return(i=this.ref.current)==null?void 0:i.stop(...t)})}pulsate(...t){this.mount().then(()=>{var i;return(i=this.ref.current)==null?void 0:i.pulsate(...t)})}}function IQ(){return aS.use()}function LQ(){let e,t;const i=new Promise((n,s)=>{e=n,t=s});return i.resolve=e,i.reject=t,i}function kQ(e){const{className:t,classes:i,pulsate:n=!1,rippleX:s,rippleY:r,rippleSize:o,in:a,onExited:l,timeout:u}=e,[d,p]=E.useState(!1),f=je(t,i.ripple,i.rippleVisible,n&&i.ripplePulsate),m={width:o,height:o,top:-(o/2)+r,left:-(o/2)+s},y=je(i.child,d&&i.childLeaving,n&&i.childPulsate);return!a&&!d&&p(!0),E.useEffect(()=>{if(!a&&l!=null){const C=setTimeout(l,u);return()=>{clearTimeout(C)}}},[l,a,u]),B.jsx("span",{className:f,style:m,children:B.jsx("span",{className:y})})}const No=Rt("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),gT=550,PQ=80,FQ=DC`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`,OQ=DC`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`,NQ=DC`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`,BQ=Oe("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),zQ=Oe(kQ,{name:"MuiTouchRipple",slot:"Ripple"})`
  opacity: 0;
  position: absolute;

  &.${No.rippleVisible} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${FQ};
    animation-duration: ${gT}ms;
    animation-timing-function: ${({theme:e})=>e.transitions.easing.easeInOut};
  }

  &.${No.ripplePulsate} {
    animation-duration: ${({theme:e})=>e.transitions.duration.shorter}ms;
  }

  & .${No.child} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${No.childLeaving} {
    opacity: 0;
    animation-name: ${OQ};
    animation-duration: ${gT}ms;
    animation-timing-function: ${({theme:e})=>e.transitions.easing.easeInOut};
  }

  & .${No.childPulsate} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${NQ};
    animation-duration: 2500ms;
    animation-timing-function: ${({theme:e})=>e.transitions.easing.easeInOut};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`,GQ=E.forwardRef(function(t,i){const n=kt({props:t,name:"MuiTouchRipple"}),{center:s=!1,classes:r={},className:o,...a}=n,[l,u]=E.useState([]),d=E.useRef(0),p=E.useRef(null);E.useEffect(()=>{p.current&&(p.current(),p.current=null)},[l]);const f=E.useRef(!1),m=Ef(),y=E.useRef(null),C=E.useRef(null),w=E.useCallback(D=>{const{pulsate:R,rippleX:A,rippleY:k,rippleSize:F,cb:P}=D;u(L=>[...L,B.jsx(zQ,{classes:{ripple:je(r.ripple,No.ripple),rippleVisible:je(r.rippleVisible,No.rippleVisible),ripplePulsate:je(r.ripplePulsate,No.ripplePulsate),child:je(r.child,No.child),childLeaving:je(r.childLeaving,No.childLeaving),childPulsate:je(r.childPulsate,No.childPulsate)},timeout:gT,pulsate:R,rippleX:A,rippleY:k,rippleSize:F},d.current)]),d.current+=1,p.current=P},[r]),b=E.useCallback((D={},R={},A=()=>{})=>{const{pulsate:k=!1,center:F=s||R.pulsate,fakeElement:P=!1}=R;if((D==null?void 0:D.type)==="mousedown"&&f.current){f.current=!1;return}(D==null?void 0:D.type)==="touchstart"&&(f.current=!0);const L=P?null:C.current,z=L?L.getBoundingClientRect():{width:0,height:0,left:0,top:0};let H,V,q;if(F||D===void 0||D.clientX===0&&D.clientY===0||!D.clientX&&!D.touches)H=Math.round(z.width/2),V=Math.round(z.height/2);else{const{clientX:K,clientY:j}=D.touches&&D.touches.length>0?D.touches[0]:D;H=Math.round(K-z.left),V=Math.round(j-z.top)}if(F)q=Math.sqrt((2*z.width**2+z.height**2)/3),q%2===0&&(q+=1);else{const K=Math.max(Math.abs((L?L.clientWidth:0)-H),H)*2+2,j=Math.max(Math.abs((L?L.clientHeight:0)-V),V)*2+2;q=Math.sqrt(K**2+j**2)}D!=null&&D.touches?y.current===null&&(y.current=()=>{w({pulsate:k,rippleX:H,rippleY:V,rippleSize:q,cb:A})},m.start(PQ,()=>{y.current&&(y.current(),y.current=null)})):w({pulsate:k,rippleX:H,rippleY:V,rippleSize:q,cb:A})},[s,w,m]),S=E.useCallback(()=>{b({},{pulsate:!0})},[b]),M=E.useCallback((D,R)=>{if(m.clear(),(D==null?void 0:D.type)==="touchend"&&y.current){y.current(),y.current=null,m.start(0,()=>{M(D,R)});return}y.current=null,u(A=>A.length>0?A.slice(1):A),p.current=R},[m]);return E.useImperativeHandle(i,()=>({pulsate:S,start:b,stop:M}),[S,b,M]),B.jsx(BQ,{className:je(No.root,r.root,o),ref:C,...a,children:B.jsx(YI,{component:null,exit:!0,children:l})})});function HQ(e){return Tt("MuiButtonBase",e)}const _Q=Rt("MuiButtonBase",["root","disabled","focusVisible"]),jQ=e=>{const{disabled:t,focusVisible:i,focusVisibleClassName:n,classes:s}=e,o=At({root:["root",t&&"disabled",i&&"focusVisible"]},HQ,s);return i&&n&&(o.root+=` ${n}`),o},VQ=Oe("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${_Q.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),Rv=E.forwardRef(function(t,i){const n=kt({props:t,name:"MuiButtonBase"}),{action:s,centerRipple:r=!1,children:o,className:a,component:l="button",disabled:u=!1,disableRipple:d=!1,disableTouchRipple:p=!1,focusRipple:f=!1,focusVisibleClassName:m,LinkComponent:y="a",onBlur:C,onClick:w,onContextMenu:b,onDragLeave:S,onFocus:M,onFocusVisible:D,onKeyDown:R,onKeyUp:A,onMouseDown:k,onMouseLeave:F,onMouseUp:P,onTouchEnd:L,onTouchMove:z,onTouchStart:H,tabIndex:V=0,TouchRippleProps:q,touchRippleRef:K,type:j,...Z}=n,W=E.useRef(null),Y=IQ(),G=Hn(Y.ref,K),[U,te]=E.useState(!1);u&&U&&te(!1),E.useImperativeHandle(s,()=>({focusVisible:()=>{te(!0),W.current.focus()}}),[]);const ee=Y.shouldMount&&!d&&!u;E.useEffect(()=>{U&&f&&!d&&Y.pulsate()},[d,f,U,Y]);const Q=lc(Y,"start",k,p),ue=lc(Y,"stop",b,p),de=lc(Y,"stop",S,p),we=lc(Y,"stop",P,p),ce=lc(Y,"stop",Pe=>{U&&Pe.preventDefault(),F&&F(Pe)},p),pe=lc(Y,"start",H,p),ae=lc(Y,"stop",L,p),xe=lc(Y,"stop",z,p),Ie=lc(Y,"stop",Pe=>{rS(Pe.target)||te(!1),C&&C(Pe)},!1),Fe=bc(Pe=>{W.current||(W.current=Pe.currentTarget),rS(Pe.target)&&(te(!0),D&&D(Pe)),M&&M(Pe)}),Me=()=>{const Pe=W.current;return l&&l!=="button"&&!(Pe.tagName==="A"&&Pe.href)},_e=bc(Pe=>{f&&!Pe.repeat&&U&&Pe.key===" "&&Y.stop(Pe,()=>{Y.start(Pe)}),Pe.target===Pe.currentTarget&&Me()&&Pe.key===" "&&Pe.preventDefault(),R&&R(Pe),Pe.target===Pe.currentTarget&&Me()&&Pe.key==="Enter"&&!u&&(Pe.preventDefault(),w&&w(Pe))}),tt=bc(Pe=>{f&&Pe.key===" "&&U&&!Pe.defaultPrevented&&Y.stop(Pe,()=>{Y.pulsate(Pe)}),A&&A(Pe),w&&Pe.target===Pe.currentTarget&&Me()&&Pe.key===" "&&!Pe.defaultPrevented&&w(Pe)});let He=l;He==="button"&&(Z.href||Z.to)&&(He=y);const Ke={};He==="button"?(Ke.type=j===void 0?"button":j,Ke.disabled=u):(!Z.href&&!Z.to&&(Ke.role="button"),u&&(Ke["aria-disabled"]=u));const yt=Hn(i,W),qe={...n,centerRipple:r,component:l,disabled:u,disableRipple:d,disableTouchRipple:p,focusRipple:f,tabIndex:V,focusVisible:U},Ve=jQ(qe);return B.jsxs(VQ,{as:He,className:je(Ve.root,a),ownerState:qe,onBlur:Ie,onClick:w,onContextMenu:ue,onFocus:Fe,onKeyDown:_e,onKeyUp:tt,onMouseDown:Q,onMouseLeave:ce,onMouseUp:we,onDragLeave:de,onTouchEnd:ae,onTouchMove:xe,onTouchStart:pe,ref:yt,tabIndex:u?-1:V,type:j,...Ke,...Z,children:[o,ee?B.jsx(GQ,{ref:G,center:r,...q}):null]})});function lc(e,t,i,n=!1){return bc(s=>(i&&i(s),n||e[t](s),!0))}function WQ(e){return typeof e.main=="string"}function UQ(e,t=[]){if(!WQ(e))return!1;for(const i of t)if(!e.hasOwnProperty(i)||typeof e[i]!="string")return!1;return!0}function qr(e=[]){return([,t])=>t&&UQ(t,e)}function $Q(e){return Tt("MuiCircularProgress",e)}Rt("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const wu=44,mT=DC`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`,yT=DC`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: -126px;
  }
`,YQ=typeof mT!="string"?OI`
        animation: ${mT} 1.4s linear infinite;
      `:null,KQ=typeof yT!="string"?OI`
        animation: ${yT} 1.4s ease-in-out infinite;
      `:null,qQ=e=>{const{classes:t,variant:i,color:n,disableShrink:s}=e,r={root:["root",i,`color${ke(n)}`],svg:["svg"],circle:["circle",`circle${ke(i)}`,s&&"circleDisableShrink"]};return At(r,$Q,t)},ZQ=Oe("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:i}=e;return[t.root,t[i.variant],t[`color${ke(i.color)}`]]}})(Kt(({theme:e})=>({display:"inline-block",variants:[{props:{variant:"determinate"},style:{transition:e.transitions.create("transform")}},{props:{variant:"indeterminate"},style:YQ||{animation:`${mT} 1.4s linear infinite`}},...Object.entries(e.palette).filter(qr()).map(([t])=>({props:{color:t},style:{color:(e.vars||e).palette[t].main}}))]}))),XQ=Oe("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(e,t)=>t.svg})({display:"block"}),QQ=Oe("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(e,t)=>{const{ownerState:i}=e;return[t.circle,t[`circle${ke(i.variant)}`],i.disableShrink&&t.circleDisableShrink]}})(Kt(({theme:e})=>({stroke:"currentColor",variants:[{props:{variant:"determinate"},style:{transition:e.transitions.create("stroke-dashoffset")}},{props:{variant:"indeterminate"},style:{strokeDasharray:"80px, 200px",strokeDashoffset:0}},{props:({ownerState:t})=>t.variant==="indeterminate"&&!t.disableShrink,style:KQ||{animation:`${yT} 1.4s ease-in-out infinite`}}]}))),qI=E.forwardRef(function(t,i){const n=kt({props:t,name:"MuiCircularProgress"}),{className:s,color:r="primary",disableShrink:o=!1,size:a=40,style:l,thickness:u=3.6,value:d=0,variant:p="indeterminate",...f}=n,m={...n,color:r,disableShrink:o,size:a,thickness:u,value:d,variant:p},y=qQ(m),C={},w={},b={};if(p==="determinate"){const S=2*Math.PI*((wu-u)/2);C.strokeDasharray=S.toFixed(3),b["aria-valuenow"]=Math.round(d),C.strokeDashoffset=`${((100-d)/100*S).toFixed(3)}px`,w.transform="rotate(-90deg)"}return B.jsx(ZQ,{className:je(y.root,s),style:{width:a,height:a,...w,...l},ownerState:m,ref:i,role:"progressbar",...b,...f,children:B.jsx(XQ,{className:y.svg,ownerState:m,viewBox:`${wu/2} ${wu/2} ${wu} ${wu}`,children:B.jsx(QQ,{className:y.circle,style:C,ownerState:m,cx:wu,cy:wu,r:(wu-u)/2,fill:"none",strokeWidth:u})})})});function JQ(e){return Tt("MuiIconButton",e)}const W3=Rt("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge","loading","loadingIndicator","loadingWrapper"]),eJ=e=>{const{classes:t,disabled:i,color:n,edge:s,size:r,loading:o}=e,a={root:["root",o&&"loading",i&&"disabled",n!=="default"&&`color${ke(n)}`,s&&`edge${ke(s)}`,`size${ke(r)}`],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]};return At(a,JQ,t)},tJ=Oe(Rv,{name:"MuiIconButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:i}=e;return[t.root,i.loading&&t.loading,i.color!=="default"&&t[`color${ke(i.color)}`],i.edge&&t[`edge${ke(i.edge)}`],t[`size${ke(i.size)}`]]}})(Kt(({theme:e})=>({textAlign:"center",flex:"0 0 auto",fontSize:e.typography.pxToRem(24),padding:8,borderRadius:"50%",color:(e.vars||e).palette.action.active,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),variants:[{props:t=>!t.disableRipple,style:{"--IconButton-hoverBg":e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:zi(e.palette.action.active,e.palette.action.hoverOpacity),"&:hover":{backgroundColor:"var(--IconButton-hoverBg)","@media (hover: none)":{backgroundColor:"transparent"}}}},{props:{edge:"start"},style:{marginLeft:-12}},{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:{edge:"end"},style:{marginRight:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}}]})),Kt(({theme:e})=>({variants:[{props:{color:"inherit"},style:{color:"inherit"}},...Object.entries(e.palette).filter(qr()).map(([t])=>({props:{color:t},style:{color:(e.vars||e).palette[t].main}})),...Object.entries(e.palette).filter(qr()).map(([t])=>({props:{color:t},style:{"--IconButton-hoverBg":e.vars?`rgba(${(e.vars||e).palette[t].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:zi((e.vars||e).palette[t].main,e.palette.action.hoverOpacity)}})),{props:{size:"small"},style:{padding:5,fontSize:e.typography.pxToRem(18)}},{props:{size:"large"},style:{padding:12,fontSize:e.typography.pxToRem(28)}}],[`&.${W3.disabled}`]:{backgroundColor:"transparent",color:(e.vars||e).palette.action.disabled},[`&.${W3.loading}`]:{color:"transparent"}}))),iJ=Oe("span",{name:"MuiIconButton",slot:"LoadingIndicator",overridesResolver:(e,t)=>t.loadingIndicator})(({theme:e})=>({display:"none",position:"absolute",visibility:"visible",top:"50%",left:"50%",transform:"translate(-50%, -50%)",color:(e.vars||e).palette.action.disabled,variants:[{props:{loading:!0},style:{display:"flex"}}]})),nJ=E.forwardRef(function(t,i){const n=kt({props:t,name:"MuiIconButton"}),{edge:s=!1,children:r,className:o,color:a="default",disabled:l=!1,disableFocusRipple:u=!1,size:d="medium",id:p,loading:f=null,loadingIndicator:m,...y}=n,C=zg(p),w=m??B.jsx(qI,{"aria-labelledby":C,color:"inherit",size:16}),b={...n,edge:s,color:a,disabled:l,disableFocusRipple:u,loading:f,loadingIndicator:w,size:d},S=eJ(b);return B.jsxs(tJ,{id:f?C:p,className:je(S.root,o),centerRipple:!0,focusRipple:!u,disabled:l||f,ref:i,...y,ownerState:b,children:[typeof f=="boolean"&&B.jsx("span",{className:S.loadingWrapper,style:{display:"contents"},children:B.jsx(iJ,{className:S.loadingIndicator,ownerState:b,children:f&&w})}),r]})});function sJ(e){return Tt("MuiTypography",e)}const U3=Rt("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]),rJ={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},oJ=mQ(),aJ=e=>{const{align:t,gutterBottom:i,noWrap:n,paragraph:s,variant:r,classes:o}=e,a={root:["root",r,e.align!=="inherit"&&`align${ke(t)}`,i&&"gutterBottom",n&&"noWrap",s&&"paragraph"]};return At(a,sJ,o)},lJ=Oe("span",{name:"MuiTypography",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:i}=e;return[t.root,i.variant&&t[i.variant],i.align!=="inherit"&&t[`align${ke(i.align)}`],i.noWrap&&t.noWrap,i.gutterBottom&&t.gutterBottom,i.paragraph&&t.paragraph]}})(Kt(({theme:e})=>{var t;return{margin:0,variants:[{props:{variant:"inherit"},style:{font:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}},...Object.entries(e.typography).filter(([i,n])=>i!=="inherit"&&n&&typeof n=="object").map(([i,n])=>({props:{variant:i},style:n})),...Object.entries(e.palette).filter(qr()).map(([i])=>({props:{color:i},style:{color:(e.vars||e).palette[i].main}})),...Object.entries(((t=e.palette)==null?void 0:t.text)||{}).filter(([,i])=>typeof i=="string").map(([i])=>({props:{color:`text${ke(i)}`},style:{color:(e.vars||e).palette.text[i]}})),{props:({ownerState:i})=>i.align!=="inherit",style:{textAlign:"var(--Typography-textAlign)"}},{props:({ownerState:i})=>i.noWrap,style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},{props:({ownerState:i})=>i.gutterBottom,style:{marginBottom:"0.35em"}},{props:({ownerState:i})=>i.paragraph,style:{marginBottom:16}}]}})),$3={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},pt=E.forwardRef(function(t,i){const{color:n,...s}=kt({props:t,name:"MuiTypography"}),r=!rJ[n],o=oJ({...s,...r&&{color:n}}),{align:a="inherit",className:l,component:u,gutterBottom:d=!1,noWrap:p=!1,paragraph:f=!1,variant:m="body1",variantMapping:y=$3,...C}=o,w={...o,align:a,color:n,className:l,component:u,gutterBottom:d,noWrap:p,paragraph:f,variant:m,variantMapping:y},b=u||(f?"p":y[m]||$3[m])||"span",S=aJ(w);return B.jsx(lJ,{as:b,ref:i,className:je(S.root,l),...C,ownerState:w,style:{...a!=="inherit"&&{"--Typography-textAlign":a},...C.style}})});var kr="top",Qo="bottom",Jo="right",Pr="left",ZI="auto",AC=[kr,Qo,Jo,Pr],fg="start",Ev="end",cJ="clippingParents",e_="viewport",yy="popper",uJ="reference",Y3=AC.reduce(function(e,t){return e.concat([t+"-"+fg,t+"-"+Ev])},[]),t_=[].concat(AC,[ZI]).reduce(function(e,t){return e.concat([t,t+"-"+fg,t+"-"+Ev])},[]),dJ="beforeRead",hJ="read",pJ="afterRead",fJ="beforeMain",gJ="main",mJ="afterMain",yJ="beforeWrite",vJ="write",CJ="afterWrite",bJ=[dJ,hJ,pJ,fJ,gJ,mJ,yJ,vJ,CJ];function Ml(e){return e?(e.nodeName||"").toLowerCase():null}function io(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function qh(e){var t=io(e).Element;return e instanceof t||e instanceof Element}function $o(e){var t=io(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function XI(e){if(typeof ShadowRoot>"u")return!1;var t=io(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function wJ(e){var t=e.state;Object.keys(t.elements).forEach(function(i){var n=t.styles[i]||{},s=t.attributes[i]||{},r=t.elements[i];!$o(r)||!Ml(r)||(Object.assign(r.style,n),Object.keys(s).forEach(function(o){var a=s[o];a===!1?r.removeAttribute(o):r.setAttribute(o,a===!0?"":a)}))})}function SJ(e){var t=e.state,i={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,i.popper),t.styles=i,t.elements.arrow&&Object.assign(t.elements.arrow.style,i.arrow),function(){Object.keys(t.elements).forEach(function(n){var s=t.elements[n],r=t.attributes[n]||{},o=Object.keys(t.styles.hasOwnProperty(n)?t.styles[n]:i[n]),a=o.reduce(function(l,u){return l[u]="",l},{});!$o(s)||!Ml(s)||(Object.assign(s.style,a),Object.keys(r).forEach(function(l){s.removeAttribute(l)}))})}}const xJ={name:"applyStyles",enabled:!0,phase:"write",fn:wJ,effect:SJ,requires:["computeStyles"]};function Cl(e){return e.split("-")[0]}var kh=Math.max,lS=Math.min,gg=Math.round;function vT(){var e=navigator.userAgentData;return e!=null&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function i_(){return!/^((?!chrome|android).)*safari/i.test(vT())}function mg(e,t,i){t===void 0&&(t=!1),i===void 0&&(i=!1);var n=e.getBoundingClientRect(),s=1,r=1;t&&$o(e)&&(s=e.offsetWidth>0&&gg(n.width)/e.offsetWidth||1,r=e.offsetHeight>0&&gg(n.height)/e.offsetHeight||1);var o=qh(e)?io(e):window,a=o.visualViewport,l=!i_()&&i,u=(n.left+(l&&a?a.offsetLeft:0))/s,d=(n.top+(l&&a?a.offsetTop:0))/r,p=n.width/s,f=n.height/r;return{width:p,height:f,top:d,right:u+p,bottom:d+f,left:u,x:u,y:d}}function QI(e){var t=mg(e),i=e.offsetWidth,n=e.offsetHeight;return Math.abs(t.width-i)<=1&&(i=t.width),Math.abs(t.height-n)<=1&&(n=t.height),{x:e.offsetLeft,y:e.offsetTop,width:i,height:n}}function n_(e,t){var i=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(i&&XI(i)){var n=t;do{if(n&&e.isSameNode(n))return!0;n=n.parentNode||n.host}while(n)}return!1}function Ic(e){return io(e).getComputedStyle(e)}function MJ(e){return["table","td","th"].indexOf(Ml(e))>=0}function dd(e){return((qh(e)?e.ownerDocument:e.document)||window.document).documentElement}function Bx(e){return Ml(e)==="html"?e:e.assignedSlot||e.parentNode||(XI(e)?e.host:null)||dd(e)}function K3(e){return!$o(e)||Ic(e).position==="fixed"?null:e.offsetParent}function DJ(e){var t=/firefox/i.test(vT()),i=/Trident/i.test(vT());if(i&&$o(e)){var n=Ic(e);if(n.position==="fixed")return null}var s=Bx(e);for(XI(s)&&(s=s.host);$o(s)&&["html","body"].indexOf(Ml(s))<0;){var r=Ic(s);if(r.transform!=="none"||r.perspective!=="none"||r.contain==="paint"||["transform","perspective"].indexOf(r.willChange)!==-1||t&&r.willChange==="filter"||t&&r.filter&&r.filter!=="none")return s;s=s.parentNode}return null}function IC(e){for(var t=io(e),i=K3(e);i&&MJ(i)&&Ic(i).position==="static";)i=K3(i);return i&&(Ml(i)==="html"||Ml(i)==="body"&&Ic(i).position==="static")?t:i||DJ(e)||t}function JI(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function Zy(e,t,i){return kh(e,lS(t,i))}function RJ(e,t,i){var n=Zy(e,t,i);return n>i?i:n}function s_(){return{top:0,right:0,bottom:0,left:0}}function r_(e){return Object.assign({},s_(),e)}function o_(e,t){return t.reduce(function(i,n){return i[n]=e,i},{})}var EJ=function(t,i){return t=typeof t=="function"?t(Object.assign({},i.rects,{placement:i.placement})):t,r_(typeof t!="number"?t:o_(t,AC))};function TJ(e){var t,i=e.state,n=e.name,s=e.options,r=i.elements.arrow,o=i.modifiersData.popperOffsets,a=Cl(i.placement),l=JI(a),u=[Pr,Jo].indexOf(a)>=0,d=u?"height":"width";if(!(!r||!o)){var p=EJ(s.padding,i),f=QI(r),m=l==="y"?kr:Pr,y=l==="y"?Qo:Jo,C=i.rects.reference[d]+i.rects.reference[l]-o[l]-i.rects.popper[d],w=o[l]-i.rects.reference[l],b=IC(r),S=b?l==="y"?b.clientHeight||0:b.clientWidth||0:0,M=C/2-w/2,D=p[m],R=S-f[d]-p[y],A=S/2-f[d]/2+M,k=Zy(D,A,R),F=l;i.modifiersData[n]=(t={},t[F]=k,t.centerOffset=k-A,t)}}function AJ(e){var t=e.state,i=e.options,n=i.element,s=n===void 0?"[data-popper-arrow]":n;s!=null&&(typeof s=="string"&&(s=t.elements.popper.querySelector(s),!s)||n_(t.elements.popper,s)&&(t.elements.arrow=s))}const IJ={name:"arrow",enabled:!0,phase:"main",fn:TJ,effect:AJ,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function yg(e){return e.split("-")[1]}var LJ={top:"auto",right:"auto",bottom:"auto",left:"auto"};function kJ(e,t){var i=e.x,n=e.y,s=t.devicePixelRatio||1;return{x:gg(i*s)/s||0,y:gg(n*s)/s||0}}function q3(e){var t,i=e.popper,n=e.popperRect,s=e.placement,r=e.variation,o=e.offsets,a=e.position,l=e.gpuAcceleration,u=e.adaptive,d=e.roundOffsets,p=e.isFixed,f=o.x,m=f===void 0?0:f,y=o.y,C=y===void 0?0:y,w=typeof d=="function"?d({x:m,y:C}):{x:m,y:C};m=w.x,C=w.y;var b=o.hasOwnProperty("x"),S=o.hasOwnProperty("y"),M=Pr,D=kr,R=window;if(u){var A=IC(i),k="clientHeight",F="clientWidth";if(A===io(i)&&(A=dd(i),Ic(A).position!=="static"&&a==="absolute"&&(k="scrollHeight",F="scrollWidth")),A=A,s===kr||(s===Pr||s===Jo)&&r===Ev){D=Qo;var P=p&&A===R&&R.visualViewport?R.visualViewport.height:A[k];C-=P-n.height,C*=l?1:-1}if(s===Pr||(s===kr||s===Qo)&&r===Ev){M=Jo;var L=p&&A===R&&R.visualViewport?R.visualViewport.width:A[F];m-=L-n.width,m*=l?1:-1}}var z=Object.assign({position:a},u&&LJ),H=d===!0?kJ({x:m,y:C},io(i)):{x:m,y:C};if(m=H.x,C=H.y,l){var V;return Object.assign({},z,(V={},V[D]=S?"0":"",V[M]=b?"0":"",V.transform=(R.devicePixelRatio||1)<=1?"translate("+m+"px, "+C+"px)":"translate3d("+m+"px, "+C+"px, 0)",V))}return Object.assign({},z,(t={},t[D]=S?C+"px":"",t[M]=b?m+"px":"",t.transform="",t))}function PJ(e){var t=e.state,i=e.options,n=i.gpuAcceleration,s=n===void 0?!0:n,r=i.adaptive,o=r===void 0?!0:r,a=i.roundOffsets,l=a===void 0?!0:a,u={placement:Cl(t.placement),variation:yg(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:s,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,q3(Object.assign({},u,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:o,roundOffsets:l})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,q3(Object.assign({},u,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}const FJ={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:PJ,data:{}};var G0={passive:!0};function OJ(e){var t=e.state,i=e.instance,n=e.options,s=n.scroll,r=s===void 0?!0:s,o=n.resize,a=o===void 0?!0:o,l=io(t.elements.popper),u=[].concat(t.scrollParents.reference,t.scrollParents.popper);return r&&u.forEach(function(d){d.addEventListener("scroll",i.update,G0)}),a&&l.addEventListener("resize",i.update,G0),function(){r&&u.forEach(function(d){d.removeEventListener("scroll",i.update,G0)}),a&&l.removeEventListener("resize",i.update,G0)}}const NJ={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:OJ,data:{}};var BJ={left:"right",right:"left",bottom:"top",top:"bottom"};function Rw(e){return e.replace(/left|right|bottom|top/g,function(t){return BJ[t]})}var zJ={start:"end",end:"start"};function Z3(e){return e.replace(/start|end/g,function(t){return zJ[t]})}function eL(e){var t=io(e),i=t.pageXOffset,n=t.pageYOffset;return{scrollLeft:i,scrollTop:n}}function tL(e){return mg(dd(e)).left+eL(e).scrollLeft}function GJ(e,t){var i=io(e),n=dd(e),s=i.visualViewport,r=n.clientWidth,o=n.clientHeight,a=0,l=0;if(s){r=s.width,o=s.height;var u=i_();(u||!u&&t==="fixed")&&(a=s.offsetLeft,l=s.offsetTop)}return{width:r,height:o,x:a+tL(e),y:l}}function HJ(e){var t,i=dd(e),n=eL(e),s=(t=e.ownerDocument)==null?void 0:t.body,r=kh(i.scrollWidth,i.clientWidth,s?s.scrollWidth:0,s?s.clientWidth:0),o=kh(i.scrollHeight,i.clientHeight,s?s.scrollHeight:0,s?s.clientHeight:0),a=-n.scrollLeft+tL(e),l=-n.scrollTop;return Ic(s||i).direction==="rtl"&&(a+=kh(i.clientWidth,s?s.clientWidth:0)-r),{width:r,height:o,x:a,y:l}}function iL(e){var t=Ic(e),i=t.overflow,n=t.overflowX,s=t.overflowY;return/auto|scroll|overlay|hidden/.test(i+s+n)}function a_(e){return["html","body","#document"].indexOf(Ml(e))>=0?e.ownerDocument.body:$o(e)&&iL(e)?e:a_(Bx(e))}function Xy(e,t){var i;t===void 0&&(t=[]);var n=a_(e),s=n===((i=e.ownerDocument)==null?void 0:i.body),r=io(n),o=s?[r].concat(r.visualViewport||[],iL(n)?n:[]):n,a=t.concat(o);return s?a:a.concat(Xy(Bx(o)))}function CT(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function _J(e,t){var i=mg(e,!1,t==="fixed");return i.top=i.top+e.clientTop,i.left=i.left+e.clientLeft,i.bottom=i.top+e.clientHeight,i.right=i.left+e.clientWidth,i.width=e.clientWidth,i.height=e.clientHeight,i.x=i.left,i.y=i.top,i}function X3(e,t,i){return t===e_?CT(GJ(e,i)):qh(t)?_J(t,i):CT(HJ(dd(e)))}function jJ(e){var t=Xy(Bx(e)),i=["absolute","fixed"].indexOf(Ic(e).position)>=0,n=i&&$o(e)?IC(e):e;return qh(n)?t.filter(function(s){return qh(s)&&n_(s,n)&&Ml(s)!=="body"}):[]}function VJ(e,t,i,n){var s=t==="clippingParents"?jJ(e):[].concat(t),r=[].concat(s,[i]),o=r[0],a=r.reduce(function(l,u){var d=X3(e,u,n);return l.top=kh(d.top,l.top),l.right=lS(d.right,l.right),l.bottom=lS(d.bottom,l.bottom),l.left=kh(d.left,l.left),l},X3(e,o,n));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function l_(e){var t=e.reference,i=e.element,n=e.placement,s=n?Cl(n):null,r=n?yg(n):null,o=t.x+t.width/2-i.width/2,a=t.y+t.height/2-i.height/2,l;switch(s){case kr:l={x:o,y:t.y-i.height};break;case Qo:l={x:o,y:t.y+t.height};break;case Jo:l={x:t.x+t.width,y:a};break;case Pr:l={x:t.x-i.width,y:a};break;default:l={x:t.x,y:t.y}}var u=s?JI(s):null;if(u!=null){var d=u==="y"?"height":"width";switch(r){case fg:l[u]=l[u]-(t[d]/2-i[d]/2);break;case Ev:l[u]=l[u]+(t[d]/2-i[d]/2);break}}return l}function Tv(e,t){t===void 0&&(t={});var i=t,n=i.placement,s=n===void 0?e.placement:n,r=i.strategy,o=r===void 0?e.strategy:r,a=i.boundary,l=a===void 0?cJ:a,u=i.rootBoundary,d=u===void 0?e_:u,p=i.elementContext,f=p===void 0?yy:p,m=i.altBoundary,y=m===void 0?!1:m,C=i.padding,w=C===void 0?0:C,b=r_(typeof w!="number"?w:o_(w,AC)),S=f===yy?uJ:yy,M=e.rects.popper,D=e.elements[y?S:f],R=VJ(qh(D)?D:D.contextElement||dd(e.elements.popper),l,d,o),A=mg(e.elements.reference),k=l_({reference:A,element:M,placement:s}),F=CT(Object.assign({},M,k)),P=f===yy?F:A,L={top:R.top-P.top+b.top,bottom:P.bottom-R.bottom+b.bottom,left:R.left-P.left+b.left,right:P.right-R.right+b.right},z=e.modifiersData.offset;if(f===yy&&z){var H=z[s];Object.keys(L).forEach(function(V){var q=[Jo,Qo].indexOf(V)>=0?1:-1,K=[kr,Qo].indexOf(V)>=0?"y":"x";L[V]+=H[K]*q})}return L}function WJ(e,t){t===void 0&&(t={});var i=t,n=i.placement,s=i.boundary,r=i.rootBoundary,o=i.padding,a=i.flipVariations,l=i.allowedAutoPlacements,u=l===void 0?t_:l,d=yg(n),p=d?a?Y3:Y3.filter(function(y){return yg(y)===d}):AC,f=p.filter(function(y){return u.indexOf(y)>=0});f.length===0&&(f=p);var m=f.reduce(function(y,C){return y[C]=Tv(e,{placement:C,boundary:s,rootBoundary:r,padding:o})[Cl(C)],y},{});return Object.keys(m).sort(function(y,C){return m[y]-m[C]})}function UJ(e){if(Cl(e)===ZI)return[];var t=Rw(e);return[Z3(e),t,Z3(t)]}function $J(e){var t=e.state,i=e.options,n=e.name;if(!t.modifiersData[n]._skip){for(var s=i.mainAxis,r=s===void 0?!0:s,o=i.altAxis,a=o===void 0?!0:o,l=i.fallbackPlacements,u=i.padding,d=i.boundary,p=i.rootBoundary,f=i.altBoundary,m=i.flipVariations,y=m===void 0?!0:m,C=i.allowedAutoPlacements,w=t.options.placement,b=Cl(w),S=b===w,M=l||(S||!y?[Rw(w)]:UJ(w)),D=[w].concat(M).reduce(function(Q,ue){return Q.concat(Cl(ue)===ZI?WJ(t,{placement:ue,boundary:d,rootBoundary:p,padding:u,flipVariations:y,allowedAutoPlacements:C}):ue)},[]),R=t.rects.reference,A=t.rects.popper,k=new Map,F=!0,P=D[0],L=0;L<D.length;L++){var z=D[L],H=Cl(z),V=yg(z)===fg,q=[kr,Qo].indexOf(H)>=0,K=q?"width":"height",j=Tv(t,{placement:z,boundary:d,rootBoundary:p,altBoundary:f,padding:u}),Z=q?V?Jo:Pr:V?Qo:kr;R[K]>A[K]&&(Z=Rw(Z));var W=Rw(Z),Y=[];if(r&&Y.push(j[H]<=0),a&&Y.push(j[Z]<=0,j[W]<=0),Y.every(function(Q){return Q})){P=z,F=!1;break}k.set(z,Y)}if(F)for(var G=y?3:1,U=function(ue){var de=D.find(function(we){var ce=k.get(we);if(ce)return ce.slice(0,ue).every(function(pe){return pe})});if(de)return P=de,"break"},te=G;te>0;te--){var ee=U(te);if(ee==="break")break}t.placement!==P&&(t.modifiersData[n]._skip=!0,t.placement=P,t.reset=!0)}}const YJ={name:"flip",enabled:!0,phase:"main",fn:$J,requiresIfExists:["offset"],data:{_skip:!1}};function Q3(e,t,i){return i===void 0&&(i={x:0,y:0}),{top:e.top-t.height-i.y,right:e.right-t.width+i.x,bottom:e.bottom-t.height+i.y,left:e.left-t.width-i.x}}function J3(e){return[kr,Jo,Qo,Pr].some(function(t){return e[t]>=0})}function KJ(e){var t=e.state,i=e.name,n=t.rects.reference,s=t.rects.popper,r=t.modifiersData.preventOverflow,o=Tv(t,{elementContext:"reference"}),a=Tv(t,{altBoundary:!0}),l=Q3(o,n),u=Q3(a,s,r),d=J3(l),p=J3(u);t.modifiersData[i]={referenceClippingOffsets:l,popperEscapeOffsets:u,isReferenceHidden:d,hasPopperEscaped:p},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":d,"data-popper-escaped":p})}const qJ={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:KJ};function ZJ(e,t,i){var n=Cl(e),s=[Pr,kr].indexOf(n)>=0?-1:1,r=typeof i=="function"?i(Object.assign({},t,{placement:e})):i,o=r[0],a=r[1];return o=o||0,a=(a||0)*s,[Pr,Jo].indexOf(n)>=0?{x:a,y:o}:{x:o,y:a}}function XJ(e){var t=e.state,i=e.options,n=e.name,s=i.offset,r=s===void 0?[0,0]:s,o=t_.reduce(function(d,p){return d[p]=ZJ(p,t.rects,r),d},{}),a=o[t.placement],l=a.x,u=a.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=u),t.modifiersData[n]=o}const QJ={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:XJ};function JJ(e){var t=e.state,i=e.name;t.modifiersData[i]=l_({reference:t.rects.reference,element:t.rects.popper,placement:t.placement})}const eee={name:"popperOffsets",enabled:!0,phase:"read",fn:JJ,data:{}};function tee(e){return e==="x"?"y":"x"}function iee(e){var t=e.state,i=e.options,n=e.name,s=i.mainAxis,r=s===void 0?!0:s,o=i.altAxis,a=o===void 0?!1:o,l=i.boundary,u=i.rootBoundary,d=i.altBoundary,p=i.padding,f=i.tether,m=f===void 0?!0:f,y=i.tetherOffset,C=y===void 0?0:y,w=Tv(t,{boundary:l,rootBoundary:u,padding:p,altBoundary:d}),b=Cl(t.placement),S=yg(t.placement),M=!S,D=JI(b),R=tee(D),A=t.modifiersData.popperOffsets,k=t.rects.reference,F=t.rects.popper,P=typeof C=="function"?C(Object.assign({},t.rects,{placement:t.placement})):C,L=typeof P=="number"?{mainAxis:P,altAxis:P}:Object.assign({mainAxis:0,altAxis:0},P),z=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,H={x:0,y:0};if(A){if(r){var V,q=D==="y"?kr:Pr,K=D==="y"?Qo:Jo,j=D==="y"?"height":"width",Z=A[D],W=Z+w[q],Y=Z-w[K],G=m?-F[j]/2:0,U=S===fg?k[j]:F[j],te=S===fg?-F[j]:-k[j],ee=t.elements.arrow,Q=m&&ee?QI(ee):{width:0,height:0},ue=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:s_(),de=ue[q],we=ue[K],ce=Zy(0,k[j],Q[j]),pe=M?k[j]/2-G-ce-de-L.mainAxis:U-ce-de-L.mainAxis,ae=M?-k[j]/2+G+ce+we+L.mainAxis:te+ce+we+L.mainAxis,xe=t.elements.arrow&&IC(t.elements.arrow),Ie=xe?D==="y"?xe.clientTop||0:xe.clientLeft||0:0,Fe=(V=z==null?void 0:z[D])!=null?V:0,Me=Z+pe-Fe-Ie,_e=Z+ae-Fe,tt=Zy(m?lS(W,Me):W,Z,m?kh(Y,_e):Y);A[D]=tt,H[D]=tt-Z}if(a){var He,Ke=D==="x"?kr:Pr,yt=D==="x"?Qo:Jo,qe=A[R],Ve=R==="y"?"height":"width",Pe=qe+w[Ke],Nt=qe-w[yt],Ct=[kr,Pr].indexOf(b)!==-1,Vi=(He=z==null?void 0:z[R])!=null?He:0,Pi=Ct?Pe:qe-k[Ve]-F[Ve]-Vi+L.altAxis,Ei=Ct?qe+k[Ve]+F[Ve]-Vi-L.altAxis:Nt,Et=m&&Ct?RJ(Pi,qe,Ei):Zy(m?Pi:Pe,qe,m?Ei:Nt);A[R]=Et,H[R]=Et-qe}t.modifiersData[n]=H}}const nee={name:"preventOverflow",enabled:!0,phase:"main",fn:iee,requiresIfExists:["offset"]};function see(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function ree(e){return e===io(e)||!$o(e)?eL(e):see(e)}function oee(e){var t=e.getBoundingClientRect(),i=gg(t.width)/e.offsetWidth||1,n=gg(t.height)/e.offsetHeight||1;return i!==1||n!==1}function aee(e,t,i){i===void 0&&(i=!1);var n=$o(t),s=$o(t)&&oee(t),r=dd(t),o=mg(e,s,i),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(n||!n&&!i)&&((Ml(t)!=="body"||iL(r))&&(a=ree(t)),$o(t)?(l=mg(t,!0),l.x+=t.clientLeft,l.y+=t.clientTop):r&&(l.x=tL(r))),{x:o.left+a.scrollLeft-l.x,y:o.top+a.scrollTop-l.y,width:o.width,height:o.height}}function lee(e){var t=new Map,i=new Set,n=[];e.forEach(function(r){t.set(r.name,r)});function s(r){i.add(r.name);var o=[].concat(r.requires||[],r.requiresIfExists||[]);o.forEach(function(a){if(!i.has(a)){var l=t.get(a);l&&s(l)}}),n.push(r)}return e.forEach(function(r){i.has(r.name)||s(r)}),n}function cee(e){var t=lee(e);return bJ.reduce(function(i,n){return i.concat(t.filter(function(s){return s.phase===n}))},[])}function uee(e){var t;return function(){return t||(t=new Promise(function(i){Promise.resolve().then(function(){t=void 0,i(e())})})),t}}function dee(e){var t=e.reduce(function(i,n){var s=i[n.name];return i[n.name]=s?Object.assign({},s,n,{options:Object.assign({},s.options,n.options),data:Object.assign({},s.data,n.data)}):n,i},{});return Object.keys(t).map(function(i){return t[i]})}var eB={placement:"bottom",modifiers:[],strategy:"absolute"};function tB(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return!t.some(function(n){return!(n&&typeof n.getBoundingClientRect=="function")})}function hee(e){e===void 0&&(e={});var t=e,i=t.defaultModifiers,n=i===void 0?[]:i,s=t.defaultOptions,r=s===void 0?eB:s;return function(a,l,u){u===void 0&&(u=r);var d={placement:"bottom",orderedModifiers:[],options:Object.assign({},eB,r),modifiersData:{},elements:{reference:a,popper:l},attributes:{},styles:{}},p=[],f=!1,m={state:d,setOptions:function(b){var S=typeof b=="function"?b(d.options):b;C(),d.options=Object.assign({},r,d.options,S),d.scrollParents={reference:qh(a)?Xy(a):a.contextElement?Xy(a.contextElement):[],popper:Xy(l)};var M=cee(dee([].concat(n,d.options.modifiers)));return d.orderedModifiers=M.filter(function(D){return D.enabled}),y(),m.update()},forceUpdate:function(){if(!f){var b=d.elements,S=b.reference,M=b.popper;if(tB(S,M)){d.rects={reference:aee(S,IC(M),d.options.strategy==="fixed"),popper:QI(M)},d.reset=!1,d.placement=d.options.placement,d.orderedModifiers.forEach(function(L){return d.modifiersData[L.name]=Object.assign({},L.data)});for(var D=0;D<d.orderedModifiers.length;D++){if(d.reset===!0){d.reset=!1,D=-1;continue}var R=d.orderedModifiers[D],A=R.fn,k=R.options,F=k===void 0?{}:k,P=R.name;typeof A=="function"&&(d=A({state:d,options:F,name:P,instance:m})||d)}}}},update:uee(function(){return new Promise(function(w){m.forceUpdate(),w(d)})}),destroy:function(){C(),f=!0}};if(!tB(a,l))return m;m.setOptions(u).then(function(w){!f&&u.onFirstUpdate&&u.onFirstUpdate(w)});function y(){d.orderedModifiers.forEach(function(w){var b=w.name,S=w.options,M=S===void 0?{}:S,D=w.effect;if(typeof D=="function"){var R=D({state:d,name:b,instance:m,options:M}),A=function(){};p.push(R||A)}})}function C(){p.forEach(function(w){return w()}),p=[]}return m}}var pee=[NJ,eee,FJ,xJ,QJ,YJ,nee,IJ,qJ],fee=hee({defaultModifiers:pee});function gee(e){return typeof e=="function"?e():e}const c_=E.forwardRef(function(t,i){const{children:n,container:s,disablePortal:r=!1}=t,[o,a]=E.useState(null),l=Hn(E.isValidElement(n)?fp(n):null,i);if(Aa(()=>{r||a(gee(s)||document.body)},[s,r]),Aa(()=>{if(o&&!r)return I3(i,o),()=>{I3(i,null)}},[i,o,r]),r){if(E.isValidElement(n)){const u={ref:l};return E.cloneElement(n,u)}return n}return o&&wC.createPortal(n,o)});function mee(e){return Tt("MuiPopper",e)}Rt("MuiPopper",["root"]);function yee(e,t){if(t==="ltr")return e;switch(e){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return e}}function bT(e){return typeof e=="function"?e():e}function vee(e){return e.nodeType!==void 0}const Cee=e=>{const{classes:t}=e;return At({root:["root"]},mee,t)},bee={},wee=E.forwardRef(function(t,i){const{anchorEl:n,children:s,direction:r,disablePortal:o,modifiers:a,open:l,placement:u,popperOptions:d,popperRef:p,slotProps:f={},slots:m={},TransitionProps:y,ownerState:C,...w}=t,b=E.useRef(null),S=Hn(b,i),M=E.useRef(null),D=Hn(M,p),R=E.useRef(D);Aa(()=>{R.current=D},[D]),E.useImperativeHandle(p,()=>M.current,[]);const A=yee(u,r),[k,F]=E.useState(A),[P,L]=E.useState(bT(n));E.useEffect(()=>{M.current&&M.current.forceUpdate()}),E.useEffect(()=>{n&&L(bT(n))},[n]),Aa(()=>{if(!P||!l)return;const K=W=>{F(W.placement)};let j=[{name:"preventOverflow",options:{altBoundary:o}},{name:"flip",options:{altBoundary:o}},{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:({state:W})=>{K(W)}}];a!=null&&(j=j.concat(a)),d&&d.modifiers!=null&&(j=j.concat(d.modifiers));const Z=fee(P,b.current,{placement:A,...d,modifiers:j});return R.current(Z),()=>{Z.destroy(),R.current(null)}},[P,o,a,l,d,A]);const z={placement:k};y!==null&&(z.TransitionProps=y);const H=Cee(t),V=m.root??"div",q=VH({elementType:V,externalSlotProps:f.root,externalForwardedProps:w,additionalProps:{role:"tooltip",ref:S},ownerState:t,className:H.root});return B.jsx(V,{...q,children:typeof s=="function"?s(z):s})}),See=E.forwardRef(function(t,i){const{anchorEl:n,children:s,container:r,direction:o="ltr",disablePortal:a=!1,keepMounted:l=!1,modifiers:u,open:d,placement:p="bottom",popperOptions:f=bee,popperRef:m,style:y,transition:C=!1,slotProps:w={},slots:b={},...S}=t,[M,D]=E.useState(!0),R=()=>{D(!1)},A=()=>{D(!0)};if(!l&&!d&&(!C||M))return null;let k;if(r)k=r;else if(n){const L=bT(n);k=L&&vee(L)?to(L).body:to(null).body}const F=!d&&l&&(!C||M)?"none":void 0,P=C?{in:d,onEnter:R,onExited:A}:void 0;return B.jsx(c_,{disablePortal:a,container:k,children:B.jsx(wee,{anchorEl:n,direction:o,disablePortal:a,modifiers:u,ref:i,open:C?!M:d,placement:p,popperOptions:f,popperRef:m,slotProps:w,slots:b,...S,style:{position:"fixed",top:0,left:0,display:F,...y},TransitionProps:P,children:s})})}),xee=Oe(See,{name:"MuiPopper",slot:"Root",overridesResolver:(e,t)=>t.root})({}),u_=E.forwardRef(function(t,i){const n=Nx(),s=kt({props:t,name:"MuiPopper"}),{anchorEl:r,component:o,components:a,componentsProps:l,container:u,disablePortal:d,keepMounted:p,modifiers:f,open:m,placement:y,popperOptions:C,popperRef:w,transition:b,slots:S,slotProps:M,...D}=s,R=(S==null?void 0:S.root)??(a==null?void 0:a.Root),A={anchorEl:r,container:u,disablePortal:d,keepMounted:p,modifiers:f,open:m,placement:y,popperOptions:C,popperRef:w,transition:b,...D};return B.jsx(xee,{as:o,direction:n?"rtl":"ltr",slots:{root:R},slotProps:M??l,...A,ref:i})}),Mee=gr(B.jsx("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}),"Cancel");function Dee(e){return Tt("MuiChip",e)}const $t=Rt("MuiChip",["root","sizeSmall","sizeMedium","colorDefault","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","disabled","clickable","clickableColorPrimary","clickableColorSecondary","deletable","deletableColorPrimary","deletableColorSecondary","outlined","filled","outlinedPrimary","outlinedSecondary","filledPrimary","filledSecondary","avatar","avatarSmall","avatarMedium","avatarColorPrimary","avatarColorSecondary","icon","iconSmall","iconMedium","iconColorPrimary","iconColorSecondary","label","labelSmall","labelMedium","deleteIcon","deleteIconSmall","deleteIconMedium","deleteIconColorPrimary","deleteIconColorSecondary","deleteIconOutlinedColorPrimary","deleteIconOutlinedColorSecondary","deleteIconFilledColorPrimary","deleteIconFilledColorSecondary","focusVisible"]),Ree=e=>{const{classes:t,disabled:i,size:n,color:s,iconColor:r,onDelete:o,clickable:a,variant:l}=e,u={root:["root",l,i&&"disabled",`size${ke(n)}`,`color${ke(s)}`,a&&"clickable",a&&`clickableColor${ke(s)}`,o&&"deletable",o&&`deletableColor${ke(s)}`,`${l}${ke(s)}`],label:["label",`label${ke(n)}`],avatar:["avatar",`avatar${ke(n)}`,`avatarColor${ke(s)}`],icon:["icon",`icon${ke(n)}`,`iconColor${ke(r)}`],deleteIcon:["deleteIcon",`deleteIcon${ke(n)}`,`deleteIconColor${ke(s)}`,`deleteIcon${ke(l)}Color${ke(s)}`]};return At(u,Dee,t)},Eee=Oe("div",{name:"MuiChip",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:i}=e,{color:n,iconColor:s,clickable:r,onDelete:o,size:a,variant:l}=i;return[{[`& .${$t.avatar}`]:t.avatar},{[`& .${$t.avatar}`]:t[`avatar${ke(a)}`]},{[`& .${$t.avatar}`]:t[`avatarColor${ke(n)}`]},{[`& .${$t.icon}`]:t.icon},{[`& .${$t.icon}`]:t[`icon${ke(a)}`]},{[`& .${$t.icon}`]:t[`iconColor${ke(s)}`]},{[`& .${$t.deleteIcon}`]:t.deleteIcon},{[`& .${$t.deleteIcon}`]:t[`deleteIcon${ke(a)}`]},{[`& .${$t.deleteIcon}`]:t[`deleteIconColor${ke(n)}`]},{[`& .${$t.deleteIcon}`]:t[`deleteIcon${ke(l)}Color${ke(n)}`]},t.root,t[`size${ke(a)}`],t[`color${ke(n)}`],r&&t.clickable,r&&n!=="default"&&t[`clickableColor${ke(n)})`],o&&t.deletable,o&&n!=="default"&&t[`deletableColor${ke(n)}`],t[l],t[`${l}${ke(n)}`]]}})(Kt(({theme:e})=>{const t=e.palette.mode==="light"?e.palette.grey[700]:e.palette.grey[300];return{maxWidth:"100%",fontFamily:e.typography.fontFamily,fontSize:e.typography.pxToRem(13),display:"inline-flex",alignItems:"center",justifyContent:"center",height:32,color:(e.vars||e).palette.text.primary,backgroundColor:(e.vars||e).palette.action.selected,borderRadius:32/2,whiteSpace:"nowrap",transition:e.transitions.create(["background-color","box-shadow"]),cursor:"unset",outline:0,textDecoration:"none",border:0,padding:0,verticalAlign:"middle",boxSizing:"border-box",[`&.${$t.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity,pointerEvents:"none"},[`& .${$t.avatar}`]:{marginLeft:5,marginRight:-6,width:24,height:24,color:e.vars?e.vars.palette.Chip.defaultAvatarColor:t,fontSize:e.typography.pxToRem(12)},[`& .${$t.avatarColorPrimary}`]:{color:(e.vars||e).palette.primary.contrastText,backgroundColor:(e.vars||e).palette.primary.dark},[`& .${$t.avatarColorSecondary}`]:{color:(e.vars||e).palette.secondary.contrastText,backgroundColor:(e.vars||e).palette.secondary.dark},[`& .${$t.avatarSmall}`]:{marginLeft:4,marginRight:-4,width:18,height:18,fontSize:e.typography.pxToRem(10)},[`& .${$t.icon}`]:{marginLeft:5,marginRight:-6},[`& .${$t.deleteIcon}`]:{WebkitTapHighlightColor:"transparent",color:e.vars?`rgba(${e.vars.palette.text.primaryChannel} / 0.26)`:zi(e.palette.text.primary,.26),fontSize:22,cursor:"pointer",margin:"0 5px 0 -6px","&:hover":{color:e.vars?`rgba(${e.vars.palette.text.primaryChannel} / 0.4)`:zi(e.palette.text.primary,.4)}},variants:[{props:{size:"small"},style:{height:24,[`& .${$t.icon}`]:{fontSize:18,marginLeft:4,marginRight:-4},[`& .${$t.deleteIcon}`]:{fontSize:16,marginRight:4,marginLeft:-4}}},...Object.entries(e.palette).filter(qr(["contrastText"])).map(([i])=>({props:{color:i},style:{backgroundColor:(e.vars||e).palette[i].main,color:(e.vars||e).palette[i].contrastText,[`& .${$t.deleteIcon}`]:{color:e.vars?`rgba(${e.vars.palette[i].contrastTextChannel} / 0.7)`:zi(e.palette[i].contrastText,.7),"&:hover, &:active":{color:(e.vars||e).palette[i].contrastText}}}})),{props:i=>i.iconColor===i.color,style:{[`& .${$t.icon}`]:{color:e.vars?e.vars.palette.Chip.defaultIconColor:t}}},{props:i=>i.iconColor===i.color&&i.color!=="default",style:{[`& .${$t.icon}`]:{color:"inherit"}}},{props:{onDelete:!0},style:{[`&.${$t.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.action.selectedChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:zi(e.palette.action.selected,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}}},...Object.entries(e.palette).filter(qr(["dark"])).map(([i])=>({props:{color:i,onDelete:!0},style:{[`&.${$t.focusVisible}`]:{background:(e.vars||e).palette[i].dark}}})),{props:{clickable:!0},style:{userSelect:"none",WebkitTapHighlightColor:"transparent",cursor:"pointer","&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.selectedChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:zi(e.palette.action.selected,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity)},[`&.${$t.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.action.selectedChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:zi(e.palette.action.selected,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)},"&:active":{boxShadow:(e.vars||e).shadows[1]}}},...Object.entries(e.palette).filter(qr(["dark"])).map(([i])=>({props:{color:i,clickable:!0},style:{[`&:hover, &.${$t.focusVisible}`]:{backgroundColor:(e.vars||e).palette[i].dark}}})),{props:{variant:"outlined"},style:{backgroundColor:"transparent",border:e.vars?`1px solid ${e.vars.palette.Chip.defaultBorder}`:`1px solid ${e.palette.mode==="light"?e.palette.grey[400]:e.palette.grey[700]}`,[`&.${$t.clickable}:hover`]:{backgroundColor:(e.vars||e).palette.action.hover},[`&.${$t.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`& .${$t.avatar}`]:{marginLeft:4},[`& .${$t.avatarSmall}`]:{marginLeft:2},[`& .${$t.icon}`]:{marginLeft:4},[`& .${$t.iconSmall}`]:{marginLeft:2},[`& .${$t.deleteIcon}`]:{marginRight:5},[`& .${$t.deleteIconSmall}`]:{marginRight:3}}},...Object.entries(e.palette).filter(qr()).map(([i])=>({props:{variant:"outlined",color:i},style:{color:(e.vars||e).palette[i].main,border:`1px solid ${e.vars?`rgba(${e.vars.palette[i].mainChannel} / 0.7)`:zi(e.palette[i].main,.7)}`,[`&.${$t.clickable}:hover`]:{backgroundColor:e.vars?`rgba(${e.vars.palette[i].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:zi(e.palette[i].main,e.palette.action.hoverOpacity)},[`&.${$t.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette[i].mainChannel} / ${e.vars.palette.action.focusOpacity})`:zi(e.palette[i].main,e.palette.action.focusOpacity)},[`& .${$t.deleteIcon}`]:{color:e.vars?`rgba(${e.vars.palette[i].mainChannel} / 0.7)`:zi(e.palette[i].main,.7),"&:hover, &:active":{color:(e.vars||e).palette[i].main}}}}))]}})),Tee=Oe("span",{name:"MuiChip",slot:"Label",overridesResolver:(e,t)=>{const{ownerState:i}=e,{size:n}=i;return[t.label,t[`label${ke(n)}`]]}})({overflow:"hidden",textOverflow:"ellipsis",paddingLeft:12,paddingRight:12,whiteSpace:"nowrap",variants:[{props:{variant:"outlined"},style:{paddingLeft:11,paddingRight:11}},{props:{size:"small"},style:{paddingLeft:8,paddingRight:8}},{props:{size:"small",variant:"outlined"},style:{paddingLeft:7,paddingRight:7}}]});function iB(e){return e.key==="Backspace"||e.key==="Delete"}const nB=E.forwardRef(function(t,i){const n=kt({props:t,name:"MuiChip"}),{avatar:s,className:r,clickable:o,color:a="default",component:l,deleteIcon:u,disabled:d=!1,icon:p,label:f,onClick:m,onDelete:y,onKeyDown:C,onKeyUp:w,size:b="medium",variant:S="filled",tabIndex:M,skipFocusWhenDisabled:D=!1,...R}=n,A=E.useRef(null),k=Hn(A,i),F=Y=>{Y.stopPropagation(),y&&y(Y)},P=Y=>{Y.currentTarget===Y.target&&iB(Y)&&Y.preventDefault(),C&&C(Y)},L=Y=>{Y.currentTarget===Y.target&&y&&iB(Y)&&y(Y),w&&w(Y)},z=o!==!1&&m?!0:o,H=z||y?Rv:l||"div",V={...n,component:H,disabled:d,size:b,color:a,iconColor:E.isValidElement(p)&&p.props.color||a,onDelete:!!y,clickable:z,variant:S},q=Ree(V),K=H===Rv?{component:l||"div",focusVisibleClassName:q.focusVisible,...y&&{disableRipple:!0}}:{};let j=null;y&&(j=u&&E.isValidElement(u)?E.cloneElement(u,{className:je(u.props.className,q.deleteIcon),onClick:F}):B.jsx(Mee,{className:je(q.deleteIcon),onClick:F}));let Z=null;s&&E.isValidElement(s)&&(Z=E.cloneElement(s,{className:je(q.avatar,s.props.className)}));let W=null;return p&&E.isValidElement(p)&&(W=E.cloneElement(p,{className:je(q.icon,p.props.className)})),B.jsxs(Eee,{as:H,className:je(q.root,r),disabled:z&&d?!0:void 0,onClick:m,onKeyDown:P,onKeyUp:L,ref:k,tabIndex:D&&d?-1:M,ownerState:V,...K,...R,children:[Z||W,B.jsx(Tee,{className:je(q.label),ownerState:V,children:f}),j]})});function H0(e){return parseInt(e,10)||0}const Aee={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function Iee(e){for(const t in e)return!1;return!0}function sB(e){return Iee(e)||e.outerHeightStyle===0&&!e.overflowing}const Lee=E.forwardRef(function(t,i){const{onChange:n,maxRows:s,minRows:r=1,style:o,value:a,...l}=t,{current:u}=E.useRef(a!=null),d=E.useRef(null),p=Hn(i,d),f=E.useRef(null),m=E.useRef(null),y=E.useCallback(()=>{const M=d.current,D=m.current;if(!M||!D)return;const A=Ia(M).getComputedStyle(M);if(A.width==="0px")return{outerHeightStyle:0,overflowing:!1};D.style.width=A.width,D.value=M.value||t.placeholder||"x",D.value.slice(-1)===`
`&&(D.value+=" ");const k=A.boxSizing,F=H0(A.paddingBottom)+H0(A.paddingTop),P=H0(A.borderBottomWidth)+H0(A.borderTopWidth),L=D.scrollHeight;D.value="x";const z=D.scrollHeight;let H=L;r&&(H=Math.max(Number(r)*z,H)),s&&(H=Math.min(Number(s)*z,H)),H=Math.max(H,z);const V=H+(k==="border-box"?F+P:0),q=Math.abs(H-L)<=1;return{outerHeightStyle:V,overflowing:q}},[s,r,t.placeholder]),C=bc(()=>{const M=d.current,D=y();if(!M||!D||sB(D))return!1;const R=D.outerHeightStyle;return f.current!=null&&f.current!==R}),w=E.useCallback(()=>{const M=d.current,D=y();if(!M||!D||sB(D))return;const R=D.outerHeightStyle;f.current!==R&&(f.current=R,M.style.height=`${R}px`),M.style.overflow=D.overflowing?"hidden":""},[y]),b=E.useRef(-1);Aa(()=>{const M=VI(w),D=d==null?void 0:d.current;if(!D)return;const R=Ia(D);R.addEventListener("resize",M);let A;return typeof ResizeObserver<"u"&&(A=new ResizeObserver(()=>{C()&&(A.unobserve(D),cancelAnimationFrame(b.current),w(),b.current=requestAnimationFrame(()=>{A.observe(D)}))}),A.observe(D)),()=>{M.clear(),cancelAnimationFrame(b.current),R.removeEventListener("resize",M),A&&A.disconnect()}},[y,w,C]),Aa(()=>{w()});const S=M=>{u||w(),n&&n(M)};return B.jsxs(E.Fragment,{children:[B.jsx("textarea",{value:a,onChange:S,ref:p,rows:r,style:o,...l}),B.jsx("textarea",{"aria-hidden":!0,className:t.className,readOnly:!0,ref:m,tabIndex:-1,style:{...Aee.shadow,...o,paddingTop:0,paddingBottom:0}})]})});function Av(e){return typeof e=="string"}function Gg({props:e,states:t,muiFormControl:i}){return t.reduce((n,s)=>(n[s]=e[s],i&&typeof e[s]>"u"&&(n[s]=i[s]),n),{})}const zx=E.createContext(void 0);function gp(){return E.useContext(zx)}function rB(e){return e!=null&&!(Array.isArray(e)&&e.length===0)}function cS(e,t=!1){return e&&(rB(e.value)&&e.value!==""||t&&rB(e.defaultValue)&&e.defaultValue!=="")}function kee(e){return e.startAdornment}function Pee(e){return Tt("MuiInputBase",e)}const vg=Rt("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]);var oB;const Gx=(e,t)=>{const{ownerState:i}=e;return[t.root,i.formControl&&t.formControl,i.startAdornment&&t.adornedStart,i.endAdornment&&t.adornedEnd,i.error&&t.error,i.size==="small"&&t.sizeSmall,i.multiline&&t.multiline,i.color&&t[`color${ke(i.color)}`],i.fullWidth&&t.fullWidth,i.hiddenLabel&&t.hiddenLabel]},Hx=(e,t)=>{const{ownerState:i}=e;return[t.input,i.size==="small"&&t.inputSizeSmall,i.multiline&&t.inputMultiline,i.type==="search"&&t.inputTypeSearch,i.startAdornment&&t.inputAdornedStart,i.endAdornment&&t.inputAdornedEnd,i.hiddenLabel&&t.inputHiddenLabel]},Fee=e=>{const{classes:t,color:i,disabled:n,error:s,endAdornment:r,focused:o,formControl:a,fullWidth:l,hiddenLabel:u,multiline:d,readOnly:p,size:f,startAdornment:m,type:y}=e,C={root:["root",`color${ke(i)}`,n&&"disabled",s&&"error",l&&"fullWidth",o&&"focused",a&&"formControl",f&&f!=="medium"&&`size${ke(f)}`,d&&"multiline",m&&"adornedStart",r&&"adornedEnd",u&&"hiddenLabel",p&&"readOnly"],input:["input",n&&"disabled",y==="search"&&"inputTypeSearch",d&&"inputMultiline",f==="small"&&"inputSizeSmall",u&&"inputHiddenLabel",m&&"inputAdornedStart",r&&"inputAdornedEnd",p&&"readOnly"]};return At(C,Pee,t)},_x=Oe("div",{name:"MuiInputBase",slot:"Root",overridesResolver:Gx})(Kt(({theme:e})=>({...e.typography.body1,color:(e.vars||e).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${vg.disabled}`]:{color:(e.vars||e).palette.text.disabled,cursor:"default"},variants:[{props:({ownerState:t})=>t.multiline,style:{padding:"4px 0 5px"}},{props:({ownerState:t,size:i})=>t.multiline&&i==="small",style:{paddingTop:1}},{props:({ownerState:t})=>t.fullWidth,style:{width:"100%"}}]}))),jx=Oe("input",{name:"MuiInputBase",slot:"Input",overridesResolver:Hx})(Kt(({theme:e})=>{const t=e.palette.mode==="light",i={color:"currentColor",...e.vars?{opacity:e.vars.opacity.inputPlaceholder}:{opacity:t?.42:.5},transition:e.transitions.create("opacity",{duration:e.transitions.duration.shorter})},n={opacity:"0 !important"},s=e.vars?{opacity:e.vars.opacity.inputPlaceholder}:{opacity:t?.42:.5};return{font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%","&::-webkit-input-placeholder":i,"&::-moz-placeholder":i,"&::-ms-input-placeholder":i,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${vg.formControl} &`]:{"&::-webkit-input-placeholder":n,"&::-moz-placeholder":n,"&::-ms-input-placeholder":n,"&:focus::-webkit-input-placeholder":s,"&:focus::-moz-placeholder":s,"&:focus::-ms-input-placeholder":s},[`&.${vg.disabled}`]:{opacity:1,WebkitTextFillColor:(e.vars||e).palette.text.disabled},variants:[{props:({ownerState:r})=>!r.disableInjectingGlobalStyles,style:{animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}}},{props:{size:"small"},style:{paddingTop:1}},{props:({ownerState:r})=>r.multiline,style:{height:"auto",resize:"none",padding:0,paddingTop:0}},{props:{type:"search"},style:{MozAppearance:"textfield"}}]}})),aB=gQ({"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}),nL=E.forwardRef(function(t,i){const n=kt({props:t,name:"MuiInputBase"}),{"aria-describedby":s,autoComplete:r,autoFocus:o,className:a,color:l,components:u={},componentsProps:d={},defaultValue:p,disabled:f,disableInjectingGlobalStyles:m,endAdornment:y,error:C,fullWidth:w=!1,id:b,inputComponent:S="input",inputProps:M={},inputRef:D,margin:R,maxRows:A,minRows:k,multiline:F=!1,name:P,onBlur:L,onChange:z,onClick:H,onFocus:V,onKeyDown:q,onKeyUp:K,placeholder:j,readOnly:Z,renderSuffix:W,rows:Y,size:G,slotProps:U={},slots:te={},startAdornment:ee,type:Q="text",value:ue,...de}=n,we=M.value!=null?M.value:ue,{current:ce}=E.useRef(we!=null),pe=E.useRef(),ae=E.useCallback(bt=>{},[]),xe=Hn(pe,D,M.ref,ae),[Ie,Fe]=E.useState(!1),Me=gp(),_e=Gg({props:n,muiFormControl:Me,states:["color","disabled","error","hiddenLabel","size","required","filled"]});_e.focused=Me?Me.focused:Ie,E.useEffect(()=>{!Me&&f&&Ie&&(Fe(!1),L&&L())},[Me,f,Ie,L]);const tt=Me&&Me.onFilled,He=Me&&Me.onEmpty,Ke=E.useCallback(bt=>{cS(bt)?tt&&tt():He&&He()},[tt,He]);Aa(()=>{ce&&Ke({value:we})},[we,Ke,ce]);const yt=bt=>{V&&V(bt),M.onFocus&&M.onFocus(bt),Me&&Me.onFocus?Me.onFocus(bt):Fe(!0)},qe=bt=>{L&&L(bt),M.onBlur&&M.onBlur(bt),Me&&Me.onBlur?Me.onBlur(bt):Fe(!1)},Ve=(bt,...ws)=>{if(!ce){const Cn=bt.target||pe.current;if(Cn==null)throw new Error(Ac(1));Ke({value:Cn.value})}M.onChange&&M.onChange(bt,...ws),z&&z(bt,...ws)};E.useEffect(()=>{Ke(pe.current)},[]);const Pe=bt=>{pe.current&&bt.currentTarget===bt.target&&pe.current.focus(),H&&H(bt)};let Nt=S,Ct=M;F&&Nt==="input"&&(Y?Ct={type:void 0,minRows:Y,maxRows:Y,...Ct}:Ct={type:void 0,maxRows:A,minRows:k,...Ct},Nt=Lee);const Vi=bt=>{Ke(bt.animationName==="mui-auto-fill-cancel"?pe.current:{value:"x"})};E.useEffect(()=>{Me&&Me.setAdornedStart(!!ee)},[Me,ee]);const Pi={...n,color:_e.color||"primary",disabled:_e.disabled,endAdornment:y,error:_e.error,focused:_e.focused,formControl:Me,fullWidth:w,hiddenLabel:_e.hiddenLabel,multiline:F,size:_e.size,startAdornment:ee,type:Q},Ei=Fee(Pi),Et=te.root||u.Root||_x,ri=U.root||d.root||{},as=te.input||u.Input||jx;return Ct={...Ct,...U.input??d.input},B.jsxs(E.Fragment,{children:[!m&&typeof aB=="function"&&(oB||(oB=B.jsx(aB,{}))),B.jsxs(Et,{...ri,ref:i,onClick:Pe,...de,...!Av(Et)&&{ownerState:{...Pi,...ri.ownerState}},className:je(Ei.root,ri.className,a,Z&&"MuiInputBase-readOnly"),children:[ee,B.jsx(zx.Provider,{value:null,children:B.jsx(as,{"aria-invalid":_e.error,"aria-describedby":s,autoComplete:r,autoFocus:o,defaultValue:p,disabled:_e.disabled,id:b,onAnimationStart:Vi,name:P,placeholder:j,readOnly:Z,required:_e.required,rows:Y,value:we,onKeyDown:q,onKeyUp:K,type:Q,...Ct,...!Av(as)&&{as:Nt,ownerState:{...Pi,...Ct.ownerState}},ref:xe,className:je(Ei.input,Ct.className,Z&&"MuiInputBase-readOnly"),onBlur:qe,onChange:Ve,onFocus:yt})}),y,W?W({..._e,startAdornment:ee}):null]})]})});function Oee(e){return Tt("MuiInput",e)}const vy={...vg,...Rt("MuiInput",["root","underline","input"])};function Nee(e){return Tt("MuiOutlinedInput",e)}const Ja={...vg,...Rt("MuiOutlinedInput",["root","notchedOutline","input"])};function Bee(e){return Tt("MuiFilledInput",e)}const Kd={...vg,...Rt("MuiFilledInput",["root","underline","input","adornedStart","adornedEnd","sizeSmall","multiline","hiddenLabel"])},zee=gr(B.jsx("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),Gee=gr(B.jsx("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person");function Hee(e){return Tt("MuiAvatar",e)}Rt("MuiAvatar",["root","colorDefault","circular","rounded","square","img","fallback"]);const _ee=e=>{const{classes:t,variant:i,colorDefault:n}=e;return At({root:["root",i,n&&"colorDefault"],img:["img"],fallback:["fallback"]},Hee,t)},jee=Oe("div",{name:"MuiAvatar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:i}=e;return[t.root,t[i.variant],i.colorDefault&&t.colorDefault]}})(Kt(({theme:e})=>({position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:e.typography.fontFamily,fontSize:e.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none",variants:[{props:{variant:"rounded"},style:{borderRadius:(e.vars||e).shape.borderRadius}},{props:{variant:"square"},style:{borderRadius:0}},{props:{colorDefault:!0},style:{color:(e.vars||e).palette.background.default,...e.vars?{backgroundColor:e.vars.palette.Avatar.defaultBg}:{backgroundColor:e.palette.grey[400],...e.applyStyles("dark",{backgroundColor:e.palette.grey[600]})}}}]}))),Vee=Oe("img",{name:"MuiAvatar",slot:"Img",overridesResolver:(e,t)=>t.img})({width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4}),Wee=Oe(Gee,{name:"MuiAvatar",slot:"Fallback",overridesResolver:(e,t)=>t.fallback})({width:"75%",height:"75%"});function Uee({crossOrigin:e,referrerPolicy:t,src:i,srcSet:n}){const[s,r]=E.useState(!1);return E.useEffect(()=>{if(!i&&!n)return;r(!1);let o=!0;const a=new Image;return a.onload=()=>{o&&r("loaded")},a.onerror=()=>{o&&r("error")},a.crossOrigin=e,a.referrerPolicy=t,a.src=i,n&&(a.srcset=n),()=>{o=!1}},[e,t,i,n]),s}const Vx=E.forwardRef(function(t,i){const n=kt({props:t,name:"MuiAvatar"}),{alt:s,children:r,className:o,component:a="div",slots:l={},slotProps:u={},imgProps:d,sizes:p,src:f,srcSet:m,variant:y="circular",...C}=n;let w=null;const b={...n,component:a,variant:y},S=Uee({...d,...typeof u.img=="function"?u.img(b):u.img,src:f,srcSet:m}),M=f||m,D=M&&S!=="error";b.colorDefault=!D,delete b.ownerState;const R=_ee(b),[A,k]=li("img",{className:R.img,elementType:Vee,externalForwardedProps:{slots:l,slotProps:{img:{...d,...u.img}}},additionalProps:{alt:s,src:f,srcSet:m,sizes:p},ownerState:b});return D?w=B.jsx(A,{...k}):r||r===0?w=r:M&&s?w=s[0]:w=B.jsx(Wee,{ownerState:b,className:R.fallback}),B.jsx(jee,{as:a,className:je(R.root,o),ref:i,...C,ownerState:b,children:w})}),$ee={entering:{opacity:1},entered:{opacity:1}},wT=E.forwardRef(function(t,i){const n=Nc(),s={enter:n.transitions.duration.enteringScreen,exit:n.transitions.duration.leavingScreen},{addEndListener:r,appear:o=!0,children:a,easing:l,in:u,onEnter:d,onEntered:p,onEntering:f,onExit:m,onExited:y,onExiting:C,style:w,timeout:b=s,TransitionComponent:S=Ba,...M}=t,D=E.useRef(null),R=Hn(D,fp(a),i),A=q=>K=>{if(q){const j=D.current;K===void 0?q(j):q(j,K)}},k=A(f),F=A((q,K)=>{KI(q);const j=pg({style:w,timeout:b,easing:l},{mode:"enter"});q.style.webkitTransition=n.transitions.create("opacity",j),q.style.transition=n.transitions.create("opacity",j),d&&d(q,K)}),P=A(p),L=A(C),z=A(q=>{const K=pg({style:w,timeout:b,easing:l},{mode:"exit"});q.style.webkitTransition=n.transitions.create("opacity",K),q.style.transition=n.transitions.create("opacity",K),m&&m(q)}),H=A(y),V=q=>{r&&r(D.current,q)};return B.jsx(S,{appear:o,in:u,nodeRef:D,onEnter:F,onEntered:P,onEntering:k,onExit:z,onExited:H,onExiting:L,addEndListener:V,timeout:b,...M,children:(q,{ownerState:K,...j})=>E.cloneElement(a,{style:{opacity:0,visibility:q==="exited"&&!u?"hidden":void 0,...$ee[q],...w,...a.props.style},ref:R,...j})})});function Yee(e){return Tt("MuiBackdrop",e)}Rt("MuiBackdrop",["root","invisible"]);const Kee=e=>{const{classes:t,invisible:i}=e;return At({root:["root",i&&"invisible"]},Yee,t)},qee=Oe("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:i}=e;return[t.root,i.invisible&&t.invisible]}})({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent",variants:[{props:{invisible:!0},style:{backgroundColor:"transparent"}}]}),d_=E.forwardRef(function(t,i){const n=kt({props:t,name:"MuiBackdrop"}),{children:s,className:r,component:o="div",invisible:a=!1,open:l,components:u={},componentsProps:d={},slotProps:p={},slots:f={},TransitionComponent:m,transitionDuration:y,...C}=n,w={...n,component:o,invisible:a},b=Kee(w),S={transition:m,root:u.Root,...f},M={...d,...p},D={slots:S,slotProps:M},[R,A]=li("root",{elementType:qee,externalForwardedProps:D,className:je(b.root,r),ownerState:w}),[k,F]=li("transition",{elementType:wT,externalForwardedProps:D,ownerState:w});return B.jsx(k,{in:l,timeout:y,...C,...F,children:B.jsx(R,{"aria-hidden":!0,...A,classes:b,ref:i,children:s})})}),Zee=Rt("MuiBox",["root"]),Xee=qH(),Yt=KZ({themeId:SC,defaultTheme:Xee,defaultClassName:Zee.root,generateClassName:RH.generate});function Qee(e){return Tt("MuiButton",e)}const qd=Rt("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge","loading","loadingWrapper","loadingIconPlaceholder","loadingIndicator","loadingPositionCenter","loadingPositionStart","loadingPositionEnd"]),Jee=E.createContext({}),ete=E.createContext(void 0),tte=e=>{const{color:t,disableElevation:i,fullWidth:n,size:s,variant:r,loading:o,loadingPosition:a,classes:l}=e,u={root:["root",o&&"loading",r,`${r}${ke(t)}`,`size${ke(s)}`,`${r}Size${ke(s)}`,`color${ke(t)}`,i&&"disableElevation",n&&"fullWidth",o&&`loadingPosition${ke(a)}`],startIcon:["icon","startIcon",`iconSize${ke(s)}`],endIcon:["icon","endIcon",`iconSize${ke(s)}`],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]},d=At(u,Qee,l);return{...l,...d}},h_=[{props:{size:"small"},style:{"& > *:nth-of-type(1)":{fontSize:18}}},{props:{size:"medium"},style:{"& > *:nth-of-type(1)":{fontSize:20}}},{props:{size:"large"},style:{"& > *:nth-of-type(1)":{fontSize:22}}}],ite=Oe(Rv,{shouldForwardProp:e=>so(e)||e==="classes",name:"MuiButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:i}=e;return[t.root,t[i.variant],t[`${i.variant}${ke(i.color)}`],t[`size${ke(i.size)}`],t[`${i.variant}Size${ke(i.size)}`],i.color==="inherit"&&t.colorInherit,i.disableElevation&&t.disableElevation,i.fullWidth&&t.fullWidth,i.loading&&t.loading]}})(Kt(({theme:e})=>{const t=e.palette.mode==="light"?e.palette.grey[300]:e.palette.grey[800],i=e.palette.mode==="light"?e.palette.grey.A100:e.palette.grey[700];return{...e.typography.button,minWidth:64,padding:"6px 16px",border:0,borderRadius:(e.vars||e).shape.borderRadius,transition:e.transitions.create(["background-color","box-shadow","border-color","color"],{duration:e.transitions.duration.short}),"&:hover":{textDecoration:"none"},[`&.${qd.disabled}`]:{color:(e.vars||e).palette.action.disabled},variants:[{props:{variant:"contained"},style:{color:"var(--variant-containedColor)",backgroundColor:"var(--variant-containedBg)",boxShadow:(e.vars||e).shadows[2],"&:hover":{boxShadow:(e.vars||e).shadows[4],"@media (hover: none)":{boxShadow:(e.vars||e).shadows[2]}},"&:active":{boxShadow:(e.vars||e).shadows[8]},[`&.${qd.focusVisible}`]:{boxShadow:(e.vars||e).shadows[6]},[`&.${qd.disabled}`]:{color:(e.vars||e).palette.action.disabled,boxShadow:(e.vars||e).shadows[0],backgroundColor:(e.vars||e).palette.action.disabledBackground}}},{props:{variant:"outlined"},style:{padding:"5px 15px",border:"1px solid currentColor",borderColor:"var(--variant-outlinedBorder, currentColor)",backgroundColor:"var(--variant-outlinedBg)",color:"var(--variant-outlinedColor)",[`&.${qd.disabled}`]:{border:`1px solid ${(e.vars||e).palette.action.disabledBackground}`}}},{props:{variant:"text"},style:{padding:"6px 8px",color:"var(--variant-textColor)",backgroundColor:"var(--variant-textBg)"}},...Object.entries(e.palette).filter(qr()).map(([n])=>({props:{color:n},style:{"--variant-textColor":(e.vars||e).palette[n].main,"--variant-outlinedColor":(e.vars||e).palette[n].main,"--variant-outlinedBorder":e.vars?`rgba(${e.vars.palette[n].mainChannel} / 0.5)`:zi(e.palette[n].main,.5),"--variant-containedColor":(e.vars||e).palette[n].contrastText,"--variant-containedBg":(e.vars||e).palette[n].main,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":(e.vars||e).palette[n].dark,"--variant-textBg":e.vars?`rgba(${e.vars.palette[n].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:zi(e.palette[n].main,e.palette.action.hoverOpacity),"--variant-outlinedBorder":(e.vars||e).palette[n].main,"--variant-outlinedBg":e.vars?`rgba(${e.vars.palette[n].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:zi(e.palette[n].main,e.palette.action.hoverOpacity)}}}})),{props:{color:"inherit"},style:{color:"inherit",borderColor:"currentColor","--variant-containedBg":e.vars?e.vars.palette.Button.inheritContainedBg:t,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":e.vars?e.vars.palette.Button.inheritContainedHoverBg:i,"--variant-textBg":e.vars?`rgba(${e.vars.palette.text.primaryChannel} / ${e.vars.palette.action.hoverOpacity})`:zi(e.palette.text.primary,e.palette.action.hoverOpacity),"--variant-outlinedBg":e.vars?`rgba(${e.vars.palette.text.primaryChannel} / ${e.vars.palette.action.hoverOpacity})`:zi(e.palette.text.primary,e.palette.action.hoverOpacity)}}}},{props:{size:"small",variant:"text"},style:{padding:"4px 5px",fontSize:e.typography.pxToRem(13)}},{props:{size:"large",variant:"text"},style:{padding:"8px 11px",fontSize:e.typography.pxToRem(15)}},{props:{size:"small",variant:"outlined"},style:{padding:"3px 9px",fontSize:e.typography.pxToRem(13)}},{props:{size:"large",variant:"outlined"},style:{padding:"7px 21px",fontSize:e.typography.pxToRem(15)}},{props:{size:"small",variant:"contained"},style:{padding:"4px 10px",fontSize:e.typography.pxToRem(13)}},{props:{size:"large",variant:"contained"},style:{padding:"8px 22px",fontSize:e.typography.pxToRem(15)}},{props:{disableElevation:!0},style:{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${qd.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${qd.disabled}`]:{boxShadow:"none"}}},{props:{fullWidth:!0},style:{width:"100%"}},{props:{loadingPosition:"center"},style:{transition:e.transitions.create(["background-color","box-shadow","border-color"],{duration:e.transitions.duration.short}),[`&.${qd.loading}`]:{color:"transparent"}}}]}})),nte=Oe("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(e,t)=>{const{ownerState:i}=e;return[t.startIcon,i.loading&&t.startIconLoadingStart,t[`iconSize${ke(i.size)}`]]}})(({theme:e})=>({display:"inherit",marginRight:8,marginLeft:-4,variants:[{props:{size:"small"},style:{marginLeft:-2}},{props:{loadingPosition:"start",loading:!0},style:{transition:e.transitions.create(["opacity"],{duration:e.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"start",loading:!0,fullWidth:!0},style:{marginRight:-8}},...h_]})),ste=Oe("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(e,t)=>{const{ownerState:i}=e;return[t.endIcon,i.loading&&t.endIconLoadingEnd,t[`iconSize${ke(i.size)}`]]}})(({theme:e})=>({display:"inherit",marginRight:-4,marginLeft:8,variants:[{props:{size:"small"},style:{marginRight:-2}},{props:{loadingPosition:"end",loading:!0},style:{transition:e.transitions.create(["opacity"],{duration:e.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"end",loading:!0,fullWidth:!0},style:{marginLeft:-8}},...h_]})),rte=Oe("span",{name:"MuiButton",slot:"LoadingIndicator",overridesResolver:(e,t)=>t.loadingIndicator})(({theme:e})=>({display:"none",position:"absolute",visibility:"visible",variants:[{props:{loading:!0},style:{display:"flex"}},{props:{loadingPosition:"start"},style:{left:14}},{props:{loadingPosition:"start",size:"small"},style:{left:10}},{props:{variant:"text",loadingPosition:"start"},style:{left:6}},{props:{loadingPosition:"center"},style:{left:"50%",transform:"translate(-50%)",color:(e.vars||e).palette.action.disabled}},{props:{loadingPosition:"end"},style:{right:14}},{props:{loadingPosition:"end",size:"small"},style:{right:10}},{props:{variant:"text",loadingPosition:"end"},style:{right:6}},{props:{loadingPosition:"start",fullWidth:!0},style:{position:"relative",left:-10}},{props:{loadingPosition:"end",fullWidth:!0},style:{position:"relative",right:-10}}]})),lB=Oe("span",{name:"MuiButton",slot:"LoadingIconPlaceholder",overridesResolver:(e,t)=>t.loadingIconPlaceholder})({display:"inline-block",width:"1em",height:"1em"}),Ar=E.forwardRef(function(t,i){const n=E.useContext(Jee),s=E.useContext(ete),r=Dv(n,t),o=kt({props:r,name:"MuiButton"}),{children:a,color:l="primary",component:u="button",className:d,disabled:p=!1,disableElevation:f=!1,disableFocusRipple:m=!1,endIcon:y,focusVisibleClassName:C,fullWidth:w=!1,id:b,loading:S=null,loadingIndicator:M,loadingPosition:D="center",size:R="medium",startIcon:A,type:k,variant:F="text",...P}=o,L=zg(b),z=M??B.jsx(qI,{"aria-labelledby":L,color:"inherit",size:16}),H={...o,color:l,component:u,disabled:p,disableElevation:f,disableFocusRipple:m,fullWidth:w,loading:S,loadingIndicator:z,loadingPosition:D,size:R,type:k,variant:F},V=tte(H),q=(A||S&&D==="start")&&B.jsx(nte,{className:V.startIcon,ownerState:H,children:A||B.jsx(lB,{className:V.loadingIconPlaceholder,ownerState:H})}),K=(y||S&&D==="end")&&B.jsx(ste,{className:V.endIcon,ownerState:H,children:y||B.jsx(lB,{className:V.loadingIconPlaceholder,ownerState:H})}),j=s||"",Z=typeof S=="boolean"?B.jsx("span",{className:V.loadingWrapper,style:{display:"contents"},children:S&&B.jsx(rte,{className:V.loadingIndicator,ownerState:H,children:z})}):null;return B.jsxs(ite,{ownerState:H,className:je(n.className,V.root,d,j),component:u,disabled:p||S,focusRipple:!m,focusVisibleClassName:je(V.focusVisible,C),ref:i,type:k,id:S?L:b,...P,classes:V,children:[q,D!=="end"&&Z,a,D==="end"&&Z,K]})});function ote(e){return Tt("MuiCard",e)}Rt("MuiCard",["root"]);const ate=e=>{const{classes:t}=e;return At({root:["root"]},ote,t)},lte=Oe(Zs,{name:"MuiCard",slot:"Root",overridesResolver:(e,t)=>t.root})({overflow:"hidden"}),p_=E.forwardRef(function(t,i){const n=kt({props:t,name:"MuiCard"}),{className:s,raised:r=!1,...o}=n,a={...n,raised:r},l=ate(a);return B.jsx(lte,{className:je(l.root,s),elevation:r?8:void 0,ref:i,ownerState:a,...o})});function cte(e){return Tt("MuiCardContent",e)}Rt("MuiCardContent",["root"]);const ute=e=>{const{classes:t}=e;return At({root:["root"]},cte,t)},dte=Oe("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(e,t)=>t.root})({padding:16,"&:last-child":{paddingBottom:24}}),hte=E.forwardRef(function(t,i){const n=kt({props:t,name:"MuiCardContent"}),{className:s,component:r="div",...o}=n,a={...n,component:r},l=ute(a);return B.jsx(dte,{as:r,className:je(l.root,s),ownerState:a,ref:i,...o})}),Ew=IX({createStyledComponent:Oe("div",{name:"MuiContainer",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:i}=e;return[t.root,t[`maxWidth${ke(String(i.maxWidth))}`],i.fixed&&t.fixed,i.disableGutters&&t.disableGutters]}}),useThemeProps:e=>kt({props:e,name:"MuiContainer"})});function pte(e){const t=to(e);return t.body===e?Ia(e).innerWidth>t.documentElement.clientWidth:e.scrollHeight>e.clientHeight}function Qy(e,t){t?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden")}function cB(e){return parseInt(Ia(e).getComputedStyle(e).paddingRight,10)||0}function fte(e){const i=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].includes(e.tagName),n=e.tagName==="INPUT"&&e.getAttribute("type")==="hidden";return i||n}function uB(e,t,i,n,s){const r=[t,i,...n];[].forEach.call(e.children,o=>{const a=!r.includes(o),l=!fte(o);a&&l&&Qy(o,s)})}function OE(e,t){let i=-1;return e.some((n,s)=>t(n)?(i=s,!0):!1),i}function gte(e,t){const i=[],n=e.container;if(!t.disableScrollLock){if(pte(n)){const o=zH(Ia(n));i.push({value:n.style.paddingRight,property:"padding-right",el:n}),n.style.paddingRight=`${cB(n)+o}px`;const a=to(n).querySelectorAll(".mui-fixed");[].forEach.call(a,l=>{i.push({value:l.style.paddingRight,property:"padding-right",el:l}),l.style.paddingRight=`${cB(l)+o}px`})}let r;if(n.parentNode instanceof DocumentFragment)r=to(n).body;else{const o=n.parentElement,a=Ia(n);r=(o==null?void 0:o.nodeName)==="HTML"&&a.getComputedStyle(o).overflowY==="scroll"?o:n}i.push({value:r.style.overflow,property:"overflow",el:r},{value:r.style.overflowX,property:"overflow-x",el:r},{value:r.style.overflowY,property:"overflow-y",el:r}),r.style.overflow="hidden"}return()=>{i.forEach(({value:r,el:o,property:a})=>{r?o.style.setProperty(a,r):o.style.removeProperty(a)})}}function mte(e){const t=[];return[].forEach.call(e.children,i=>{i.getAttribute("aria-hidden")==="true"&&t.push(i)}),t}class yte{constructor(){this.modals=[],this.containers=[]}add(t,i){let n=this.modals.indexOf(t);if(n!==-1)return n;n=this.modals.length,this.modals.push(t),t.modalRef&&Qy(t.modalRef,!1);const s=mte(i);uB(i,t.mount,t.modalRef,s,!0);const r=OE(this.containers,o=>o.container===i);return r!==-1?(this.containers[r].modals.push(t),n):(this.containers.push({modals:[t],container:i,restore:null,hiddenSiblings:s}),n)}mount(t,i){const n=OE(this.containers,r=>r.modals.includes(t)),s=this.containers[n];s.restore||(s.restore=gte(s,i))}remove(t,i=!0){const n=this.modals.indexOf(t);if(n===-1)return n;const s=OE(this.containers,o=>o.modals.includes(t)),r=this.containers[s];if(r.modals.splice(r.modals.indexOf(t),1),this.modals.splice(n,1),r.modals.length===0)r.restore&&r.restore(),t.modalRef&&Qy(t.modalRef,i),uB(r.container,t.mount,t.modalRef,r.hiddenSiblings,!1),this.containers.splice(s,1);else{const o=r.modals[r.modals.length-1];o.modalRef&&Qy(o.modalRef,!1)}return n}isTopModal(t){return this.modals.length>0&&this.modals[this.modals.length-1]===t}}const vte=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function Cte(e){const t=parseInt(e.getAttribute("tabindex")||"",10);return Number.isNaN(t)?e.contentEditable==="true"||(e.nodeName==="AUDIO"||e.nodeName==="VIDEO"||e.nodeName==="DETAILS")&&e.getAttribute("tabindex")===null?0:e.tabIndex:t}function bte(e){if(e.tagName!=="INPUT"||e.type!=="radio"||!e.name)return!1;const t=n=>e.ownerDocument.querySelector(`input[type="radio"]${n}`);let i=t(`[name="${e.name}"]:checked`);return i||(i=t(`[name="${e.name}"]`)),i!==e}function wte(e){return!(e.disabled||e.tagName==="INPUT"&&e.type==="hidden"||bte(e))}function Ste(e){const t=[],i=[];return Array.from(e.querySelectorAll(vte)).forEach((n,s)=>{const r=Cte(n);r===-1||!wte(n)||(r===0?t.push(n):i.push({documentOrder:s,tabIndex:r,node:n}))}),i.sort((n,s)=>n.tabIndex===s.tabIndex?n.documentOrder-s.documentOrder:n.tabIndex-s.tabIndex).map(n=>n.node).concat(t)}function xte(){return!0}function Mte(e){const{children:t,disableAutoFocus:i=!1,disableEnforceFocus:n=!1,disableRestoreFocus:s=!1,getTabbable:r=Ste,isEnabled:o=xte,open:a}=e,l=E.useRef(!1),u=E.useRef(null),d=E.useRef(null),p=E.useRef(null),f=E.useRef(null),m=E.useRef(!1),y=E.useRef(null),C=Hn(fp(t),y),w=E.useRef(null);E.useEffect(()=>{!a||!y.current||(m.current=!i)},[i,a]),E.useEffect(()=>{if(!a||!y.current)return;const M=to(y.current);return y.current.contains(M.activeElement)||(y.current.hasAttribute("tabIndex")||y.current.setAttribute("tabIndex","-1"),m.current&&y.current.focus()),()=>{s||(p.current&&p.current.focus&&(l.current=!0,p.current.focus()),p.current=null)}},[a]),E.useEffect(()=>{if(!a||!y.current)return;const M=to(y.current),D=k=>{w.current=k,!(n||!o()||k.key!=="Tab")&&M.activeElement===y.current&&k.shiftKey&&(l.current=!0,d.current&&d.current.focus())},R=()=>{var P,L;const k=y.current;if(k===null)return;if(!M.hasFocus()||!o()||l.current){l.current=!1;return}if(k.contains(M.activeElement)||n&&M.activeElement!==u.current&&M.activeElement!==d.current)return;if(M.activeElement!==f.current)f.current=null;else if(f.current!==null)return;if(!m.current)return;let F=[];if((M.activeElement===u.current||M.activeElement===d.current)&&(F=r(y.current)),F.length>0){const z=!!((P=w.current)!=null&&P.shiftKey&&((L=w.current)==null?void 0:L.key)==="Tab"),H=F[0],V=F[F.length-1];typeof H!="string"&&typeof V!="string"&&(z?V.focus():H.focus())}else k.focus()};M.addEventListener("focusin",R),M.addEventListener("keydown",D,!0);const A=setInterval(()=>{M.activeElement&&M.activeElement.tagName==="BODY"&&R()},50);return()=>{clearInterval(A),M.removeEventListener("focusin",R),M.removeEventListener("keydown",D,!0)}},[i,n,s,o,a,r]);const b=M=>{p.current===null&&(p.current=M.relatedTarget),m.current=!0,f.current=M.target;const D=t.props.onFocus;D&&D(M)},S=M=>{p.current===null&&(p.current=M.relatedTarget),m.current=!0};return B.jsxs(E.Fragment,{children:[B.jsx("div",{tabIndex:a?0:-1,onFocus:S,ref:u,"data-testid":"sentinelStart"}),E.cloneElement(t,{ref:C,onFocus:b}),B.jsx("div",{tabIndex:a?0:-1,onFocus:S,ref:d,"data-testid":"sentinelEnd"})]})}function Dte(e){return typeof e=="function"?e():e}function Rte(e){return e?e.props.hasOwnProperty("in"):!1}const dB=()=>{},_0=new yte;function Ete(e){const{container:t,disableEscapeKeyDown:i=!1,disableScrollLock:n=!1,closeAfterTransition:s=!1,onTransitionEnter:r,onTransitionExited:o,children:a,onClose:l,open:u,rootRef:d}=e,p=E.useRef({}),f=E.useRef(null),m=E.useRef(null),y=Hn(m,d),[C,w]=E.useState(!u),b=Rte(a);let S=!0;(e["aria-hidden"]==="false"||e["aria-hidden"]===!1)&&(S=!1);const M=()=>to(f.current),D=()=>(p.current.modalRef=m.current,p.current.mount=f.current,p.current),R=()=>{_0.mount(D(),{disableScrollLock:n}),m.current&&(m.current.scrollTop=0)},A=bc(()=>{const K=Dte(t)||M().body;_0.add(D(),K),m.current&&R()}),k=()=>_0.isTopModal(D()),F=bc(K=>{f.current=K,K&&(u&&k()?R():m.current&&Qy(m.current,S))}),P=E.useCallback(()=>{_0.remove(D(),S)},[S]);E.useEffect(()=>()=>{P()},[P]),E.useEffect(()=>{u?A():(!b||!s)&&P()},[u,P,b,s,A]);const L=K=>j=>{var Z;(Z=K.onKeyDown)==null||Z.call(K,j),!(j.key!=="Escape"||j.which===229||!k())&&(i||(j.stopPropagation(),l&&l(j,"escapeKeyDown")))},z=K=>j=>{var Z;(Z=K.onClick)==null||Z.call(K,j),j.target===j.currentTarget&&l&&l(j,"backdropClick")};return{getRootProps:(K={})=>{const j=HH(e);delete j.onTransitionEnter,delete j.onTransitionExited;const Z={...j,...K};return{role:"presentation",...Z,onKeyDown:L(Z),ref:y}},getBackdropProps:(K={})=>{const j=K;return{"aria-hidden":!0,...j,onClick:z(j),open:u}},getTransitionProps:()=>{const K=()=>{w(!1),r&&r()},j=()=>{w(!0),o&&o(),s&&P()};return{onEnter:A3(K,(a==null?void 0:a.props.onEnter)??dB),onExited:A3(j,(a==null?void 0:a.props.onExited)??dB)}},rootRef:y,portalRef:F,isTopModal:k,exited:C,hasTransition:b}}function Tte(e){return Tt("MuiModal",e)}Rt("MuiModal",["root","hidden","backdrop"]);const Ate=e=>{const{open:t,exited:i,classes:n}=e;return At({root:["root",!t&&i&&"hidden"],backdrop:["backdrop"]},Tte,n)},Ite=Oe("div",{name:"MuiModal",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:i}=e;return[t.root,!i.open&&i.exited&&t.hidden]}})(Kt(({theme:e})=>({position:"fixed",zIndex:(e.vars||e).zIndex.modal,right:0,bottom:0,top:0,left:0,variants:[{props:({ownerState:t})=>!t.open&&t.exited,style:{visibility:"hidden"}}]}))),Lte=Oe(d_,{name:"MuiModal",slot:"Backdrop",overridesResolver:(e,t)=>t.backdrop})({zIndex:-1}),sL=E.forwardRef(function(t,i){const n=kt({name:"MuiModal",props:t}),{BackdropComponent:s=Lte,BackdropProps:r,classes:o,className:a,closeAfterTransition:l=!1,children:u,container:d,component:p,components:f={},componentsProps:m={},disableAutoFocus:y=!1,disableEnforceFocus:C=!1,disableEscapeKeyDown:w=!1,disablePortal:b=!1,disableRestoreFocus:S=!1,disableScrollLock:M=!1,hideBackdrop:D=!1,keepMounted:R=!1,onBackdropClick:A,onClose:k,onTransitionEnter:F,onTransitionExited:P,open:L,slotProps:z={},slots:H={},theme:V,...q}=n,K={...n,closeAfterTransition:l,disableAutoFocus:y,disableEnforceFocus:C,disableEscapeKeyDown:w,disablePortal:b,disableRestoreFocus:S,disableScrollLock:M,hideBackdrop:D,keepMounted:R},{getRootProps:j,getBackdropProps:Z,getTransitionProps:W,portalRef:Y,isTopModal:G,exited:U,hasTransition:te}=Ete({...K,rootRef:i}),ee={...K,exited:U},Q=Ate(ee),ue={};if(u.props.tabIndex===void 0&&(ue.tabIndex="-1"),te){const{onEnter:xe,onExited:Ie}=W();ue.onEnter=xe,ue.onExited=Ie}const de={slots:{root:f.Root,backdrop:f.Backdrop,...H},slotProps:{...m,...z}},[we,ce]=li("root",{ref:i,elementType:Ite,externalForwardedProps:{...de,...q,component:p},getSlotProps:j,ownerState:ee,className:je(a,Q==null?void 0:Q.root,!ee.open&&ee.exited&&(Q==null?void 0:Q.hidden))}),[pe,ae]=li("backdrop",{ref:r==null?void 0:r.ref,elementType:s,externalForwardedProps:de,shouldForwardComponentProp:!0,additionalProps:r,getSlotProps:xe=>Z({...xe,onClick:Ie=>{A&&A(Ie),xe!=null&&xe.onClick&&xe.onClick(Ie)}}),className:je(r==null?void 0:r.className,Q==null?void 0:Q.backdrop),ownerState:ee});return!R&&!L&&(!te||U)?null:B.jsx(c_,{ref:Y,container:d,disablePortal:b,children:B.jsxs(we,{...ce,children:[!D&&s?B.jsx(pe,{...ae}):null,B.jsx(Mte,{disableEnforceFocus:C,disableAutoFocus:y,disableRestoreFocus:S,isEnabled:G,open:L,children:E.cloneElement(u,ue)})]})})});function kte(e){return Tt("MuiDialog",e)}const NE=Rt("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]),f_=E.createContext({}),Pte=Oe(d_,{name:"MuiDialog",slot:"Backdrop",overrides:(e,t)=>t.backdrop})({zIndex:-1}),Fte=e=>{const{classes:t,scroll:i,maxWidth:n,fullWidth:s,fullScreen:r}=e,o={root:["root"],container:["container",`scroll${ke(i)}`],paper:["paper",`paperScroll${ke(i)}`,`paperWidth${ke(String(n))}`,s&&"paperFullWidth",r&&"paperFullScreen"]};return At(o,kte,t)},Ote=Oe(sL,{name:"MuiDialog",slot:"Root",overridesResolver:(e,t)=>t.root})({"@media print":{position:"absolute !important"}}),Nte=Oe("div",{name:"MuiDialog",slot:"Container",overridesResolver:(e,t)=>{const{ownerState:i}=e;return[t.container,t[`scroll${ke(i.scroll)}`]]}})({height:"100%","@media print":{height:"auto"},outline:0,variants:[{props:{scroll:"paper"},style:{display:"flex",justifyContent:"center",alignItems:"center"}},{props:{scroll:"body"},style:{overflowY:"auto",overflowX:"hidden",textAlign:"center","&::after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}}}]}),Bte=Oe(Zs,{name:"MuiDialog",slot:"Paper",overridesResolver:(e,t)=>{const{ownerState:i}=e;return[t.paper,t[`scrollPaper${ke(i.scroll)}`],t[`paperWidth${ke(String(i.maxWidth))}`],i.fullWidth&&t.paperFullWidth,i.fullScreen&&t.paperFullScreen]}})(Kt(({theme:e})=>({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"},variants:[{props:{scroll:"paper"},style:{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"}},{props:{scroll:"body"},style:{display:"inline-block",verticalAlign:"middle",textAlign:"initial"}},{props:({ownerState:t})=>!t.maxWidth,style:{maxWidth:"calc(100% - 64px)"}},{props:{maxWidth:"xs"},style:{maxWidth:e.breakpoints.unit==="px"?Math.max(e.breakpoints.values.xs,444):`max(${e.breakpoints.values.xs}${e.breakpoints.unit}, 444px)`,[`&.${NE.paperScrollBody}`]:{[e.breakpoints.down(Math.max(e.breakpoints.values.xs,444)+32*2)]:{maxWidth:"calc(100% - 64px)"}}}},...Object.keys(e.breakpoints.values).filter(t=>t!=="xs").map(t=>({props:{maxWidth:t},style:{maxWidth:`${e.breakpoints.values[t]}${e.breakpoints.unit}`,[`&.${NE.paperScrollBody}`]:{[e.breakpoints.down(e.breakpoints.values[t]+32*2)]:{maxWidth:"calc(100% - 64px)"}}}})),{props:({ownerState:t})=>t.fullWidth,style:{width:"calc(100% - 64px)"}},{props:({ownerState:t})=>t.fullScreen,style:{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,[`&.${NE.paperScrollBody}`]:{margin:0,maxWidth:"100%"}}}]}))),ST=E.forwardRef(function(t,i){const n=kt({props:t,name:"MuiDialog"}),s=Nc(),r={enter:s.transitions.duration.enteringScreen,exit:s.transitions.duration.leavingScreen},{"aria-describedby":o,"aria-labelledby":a,"aria-modal":l=!0,BackdropComponent:u,BackdropProps:d,children:p,className:f,disableEscapeKeyDown:m=!1,fullScreen:y=!1,fullWidth:C=!1,maxWidth:w="sm",onBackdropClick:b,onClick:S,onClose:M,open:D,PaperComponent:R=Zs,PaperProps:A={},scroll:k="paper",slots:F={},slotProps:P={},TransitionComponent:L=wT,transitionDuration:z=r,TransitionProps:H,...V}=n,q={...n,disableEscapeKeyDown:m,fullScreen:y,fullWidth:C,maxWidth:w,scroll:k},K=Fte(q),j=E.useRef(),Z=Me=>{j.current=Me.target===Me.currentTarget},W=Me=>{S&&S(Me),j.current&&(j.current=null,b&&b(Me),M&&M(Me,"backdropClick"))},Y=zg(a),G=E.useMemo(()=>({titleId:Y}),[Y]),U={transition:L,...F},te={transition:H,paper:A,backdrop:d,...P},ee={slots:U,slotProps:te},[Q,ue]=li("root",{elementType:Ote,shouldForwardComponentProp:!0,externalForwardedProps:ee,ownerState:q,className:je(K.root,f),ref:i}),[de,we]=li("backdrop",{elementType:Pte,shouldForwardComponentProp:!0,externalForwardedProps:ee,ownerState:q}),[ce,pe]=li("paper",{elementType:Bte,shouldForwardComponentProp:!0,externalForwardedProps:ee,ownerState:q,className:je(K.paper,A.className)}),[ae,xe]=li("container",{elementType:Nte,externalForwardedProps:ee,ownerState:q,className:je(K.container)}),[Ie,Fe]=li("transition",{elementType:wT,externalForwardedProps:ee,ownerState:q,additionalProps:{appear:!0,in:D,timeout:z,role:"presentation"}});return B.jsx(Q,{closeAfterTransition:!0,slots:{backdrop:de},slotProps:{backdrop:{transitionDuration:z,as:u,...we}},disableEscapeKeyDown:m,onClose:M,open:D,onClick:W,...ue,...V,children:B.jsx(Ie,{...Fe,children:B.jsx(ae,{onMouseDown:Z,...xe,children:B.jsx(ce,{as:R,elevation:24,role:"dialog","aria-describedby":o,"aria-labelledby":Y,"aria-modal":l,...pe,children:B.jsx(f_.Provider,{value:G,children:p})})})})})});function zte(e){return Tt("MuiDialogActions",e)}Rt("MuiDialogActions",["root","spacing"]);const Gte=e=>{const{classes:t,disableSpacing:i}=e;return At({root:["root",!i&&"spacing"]},zte,t)},Hte=Oe("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:i}=e;return[t.root,!i.disableSpacing&&t.spacing]}})({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto",variants:[{props:({ownerState:e})=>!e.disableSpacing,style:{"& > :not(style) ~ :not(style)":{marginLeft:8}}}]}),xT=E.forwardRef(function(t,i){const n=kt({props:t,name:"MuiDialogActions"}),{className:s,disableSpacing:r=!1,...o}=n,a={...n,disableSpacing:r},l=Gte(a);return B.jsx(Hte,{className:je(l.root,s),ownerState:a,ref:i,...o})});function _te(e){return Tt("MuiDialogContent",e)}Rt("MuiDialogContent",["root","dividers"]);function jte(e){return Tt("MuiDialogTitle",e)}const Vte=Rt("MuiDialogTitle",["root"]),Wte=e=>{const{classes:t,dividers:i}=e;return At({root:["root",i&&"dividers"]},_te,t)},Ute=Oe("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:i}=e;return[t.root,i.dividers&&t.dividers]}})(Kt(({theme:e})=>({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px",variants:[{props:({ownerState:t})=>t.dividers,style:{padding:"16px 24px",borderTop:`1px solid ${(e.vars||e).palette.divider}`,borderBottom:`1px solid ${(e.vars||e).palette.divider}`}},{props:({ownerState:t})=>!t.dividers,style:{[`.${Vte.root} + &`]:{paddingTop:0}}}]}))),MT=E.forwardRef(function(t,i){const n=kt({props:t,name:"MuiDialogContent"}),{className:s,dividers:r=!1,...o}=n,a={...n,dividers:r},l=Wte(a);return B.jsx(Ute,{className:je(l.root,s),ownerState:a,ref:i,...o})}),$te=e=>{const{classes:t}=e;return At({root:["root"]},jte,t)},Yte=Oe(pt,{name:"MuiDialogTitle",slot:"Root",overridesResolver:(e,t)=>t.root})({padding:"16px 24px",flex:"0 0 auto"}),DT=E.forwardRef(function(t,i){const n=kt({props:t,name:"MuiDialogTitle"}),{className:s,id:r,...o}=n,a=n,l=$te(a),{titleId:u=r}=E.useContext(f_);return B.jsx(Yte,{component:"h2",className:je(l.root,s),ownerState:a,ref:i,variant:"h6",id:r??u,...o})});function Kte(e){return Tt("MuiDivider",e)}const hB=Rt("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]),qte=e=>{const{absolute:t,children:i,classes:n,flexItem:s,light:r,orientation:o,textAlign:a,variant:l}=e;return At({root:["root",t&&"absolute",l,r&&"light",o==="vertical"&&"vertical",s&&"flexItem",i&&"withChildren",i&&o==="vertical"&&"withChildrenVertical",a==="right"&&o!=="vertical"&&"textAlignRight",a==="left"&&o!=="vertical"&&"textAlignLeft"],wrapper:["wrapper",o==="vertical"&&"wrapperVertical"]},Kte,n)},Zte=Oe("div",{name:"MuiDivider",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:i}=e;return[t.root,i.absolute&&t.absolute,t[i.variant],i.light&&t.light,i.orientation==="vertical"&&t.vertical,i.flexItem&&t.flexItem,i.children&&t.withChildren,i.children&&i.orientation==="vertical"&&t.withChildrenVertical,i.textAlign==="right"&&i.orientation!=="vertical"&&t.textAlignRight,i.textAlign==="left"&&i.orientation!=="vertical"&&t.textAlignLeft]}})(Kt(({theme:e})=>({margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:(e.vars||e).palette.divider,borderBottomWidth:"thin",variants:[{props:{absolute:!0},style:{position:"absolute",bottom:0,left:0,width:"100%"}},{props:{light:!0},style:{borderColor:e.vars?`rgba(${e.vars.palette.dividerChannel} / 0.08)`:zi(e.palette.divider,.08)}},{props:{variant:"inset"},style:{marginLeft:72}},{props:{variant:"middle",orientation:"horizontal"},style:{marginLeft:e.spacing(2),marginRight:e.spacing(2)}},{props:{variant:"middle",orientation:"vertical"},style:{marginTop:e.spacing(1),marginBottom:e.spacing(1)}},{props:{orientation:"vertical"},style:{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"}},{props:{flexItem:!0},style:{alignSelf:"stretch",height:"auto"}},{props:({ownerState:t})=>!!t.children,style:{display:"flex",textAlign:"center",border:0,borderTopStyle:"solid",borderLeftStyle:"solid","&::before, &::after":{content:'""',alignSelf:"center"}}},{props:({ownerState:t})=>t.children&&t.orientation!=="vertical",style:{"&::before, &::after":{width:"100%",borderTop:`thin solid ${(e.vars||e).palette.divider}`,borderTopStyle:"inherit"}}},{props:({ownerState:t})=>t.orientation==="vertical"&&t.children,style:{flexDirection:"column","&::before, &::after":{height:"100%",borderLeft:`thin solid ${(e.vars||e).palette.divider}`,borderLeftStyle:"inherit"}}},{props:({ownerState:t})=>t.textAlign==="right"&&t.orientation!=="vertical",style:{"&::before":{width:"90%"},"&::after":{width:"10%"}}},{props:({ownerState:t})=>t.textAlign==="left"&&t.orientation!=="vertical",style:{"&::before":{width:"10%"},"&::after":{width:"90%"}}}]}))),Xte=Oe("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:(e,t)=>{const{ownerState:i}=e;return[t.wrapper,i.orientation==="vertical"&&t.wrapperVertical]}})(Kt(({theme:e})=>({display:"inline-block",paddingLeft:`calc(${e.spacing(1)} * 1.2)`,paddingRight:`calc(${e.spacing(1)} * 1.2)`,whiteSpace:"nowrap",variants:[{props:{orientation:"vertical"},style:{paddingTop:`calc(${e.spacing(1)} * 1.2)`,paddingBottom:`calc(${e.spacing(1)} * 1.2)`}}]}))),Cg=E.forwardRef(function(t,i){const n=kt({props:t,name:"MuiDivider"}),{absolute:s=!1,children:r,className:o,orientation:a="horizontal",component:l=r||a==="vertical"?"div":"hr",flexItem:u=!1,light:d=!1,role:p=l!=="hr"?"separator":void 0,textAlign:f="center",variant:m="fullWidth",...y}=n,C={...n,absolute:s,component:l,flexItem:u,light:d,orientation:a,role:p,textAlign:f,variant:m},w=qte(C);return B.jsx(Zte,{as:l,className:je(w.root,o),role:p,ref:i,ownerState:C,"aria-orientation":p==="separator"&&(l!=="hr"||a==="vertical")?a:void 0,...y,children:r?B.jsx(Xte,{className:w.wrapper,ownerState:C,children:r}):null})});Cg&&(Cg.muiSkipListHighlight=!0);function Qte(e,t,i){const n=t.getBoundingClientRect(),s=i&&i.getBoundingClientRect(),r=Ia(t);let o;if(t.fakeTransform)o=t.fakeTransform;else{const u=r.getComputedStyle(t);o=u.getPropertyValue("-webkit-transform")||u.getPropertyValue("transform")}let a=0,l=0;if(o&&o!=="none"&&typeof o=="string"){const u=o.split("(")[1].split(")")[0].split(",");a=parseInt(u[4],10),l=parseInt(u[5],10)}return e==="left"?s?`translateX(${s.right+a-n.left}px)`:`translateX(${r.innerWidth+a-n.left}px)`:e==="right"?s?`translateX(-${n.right-s.left-a}px)`:`translateX(-${n.left+n.width-a}px)`:e==="up"?s?`translateY(${s.bottom+l-n.top}px)`:`translateY(${r.innerHeight+l-n.top}px)`:s?`translateY(-${n.top-s.top+n.height-l}px)`:`translateY(-${n.top+n.height-l}px)`}function Jte(e){return typeof e=="function"?e():e}function j0(e,t,i){const n=Jte(i),s=Qte(e,t,n);s&&(t.style.webkitTransform=s,t.style.transform=s)}const eie=E.forwardRef(function(t,i){const n=Nc(),s={enter:n.transitions.easing.easeOut,exit:n.transitions.easing.sharp},r={enter:n.transitions.duration.enteringScreen,exit:n.transitions.duration.leavingScreen},{addEndListener:o,appear:a=!0,children:l,container:u,direction:d="down",easing:p=s,in:f,onEnter:m,onEntered:y,onEntering:C,onExit:w,onExited:b,onExiting:S,style:M,timeout:D=r,TransitionComponent:R=Ba,...A}=t,k=E.useRef(null),F=Hn(fp(l),k,i),P=W=>Y=>{W&&(Y===void 0?W(k.current):W(k.current,Y))},L=P((W,Y)=>{j0(d,W,u),KI(W),m&&m(W,Y)}),z=P((W,Y)=>{const G=pg({timeout:D,style:M,easing:p},{mode:"enter"});W.style.webkitTransition=n.transitions.create("-webkit-transform",{...G}),W.style.transition=n.transitions.create("transform",{...G}),W.style.webkitTransform="none",W.style.transform="none",C&&C(W,Y)}),H=P(y),V=P(S),q=P(W=>{const Y=pg({timeout:D,style:M,easing:p},{mode:"exit"});W.style.webkitTransition=n.transitions.create("-webkit-transform",Y),W.style.transition=n.transitions.create("transform",Y),j0(d,W,u),w&&w(W)}),K=P(W=>{W.style.webkitTransition="",W.style.transition="",b&&b(W)}),j=W=>{o&&o(k.current,W)},Z=E.useCallback(()=>{k.current&&j0(d,k.current,u)},[d,u]);return E.useEffect(()=>{if(f||d==="down"||d==="right")return;const W=VI(()=>{k.current&&j0(d,k.current,u)}),Y=Ia(k.current);return Y.addEventListener("resize",W),()=>{W.clear(),Y.removeEventListener("resize",W)}},[d,f,u]),E.useEffect(()=>{f||Z()},[f,Z]),B.jsx(R,{nodeRef:k,onEnter:L,onEntered:H,onEntering:z,onExit:q,onExited:K,onExiting:V,addEndListener:j,appear:a,in:f,timeout:D,...A,children:(W,{ownerState:Y,...G})=>E.cloneElement(l,{ref:F,style:{visibility:W==="exited"&&!f?"hidden":void 0,...M,...l.props.style},...G})})});function tie(e){return Tt("MuiDrawer",e)}Rt("MuiDrawer",["root","docked","paper","anchorLeft","anchorRight","anchorTop","anchorBottom","paperAnchorLeft","paperAnchorRight","paperAnchorTop","paperAnchorBottom","paperAnchorDockedLeft","paperAnchorDockedRight","paperAnchorDockedTop","paperAnchorDockedBottom","modal"]);const g_=(e,t)=>{const{ownerState:i}=e;return[t.root,(i.variant==="permanent"||i.variant==="persistent")&&t.docked,t.modal]},iie=e=>{const{classes:t,anchor:i,variant:n}=e,s={root:["root",`anchor${ke(i)}`],docked:[(n==="permanent"||n==="persistent")&&"docked"],modal:["modal"],paper:["paper",`paperAnchor${ke(i)}`,n!=="temporary"&&`paperAnchorDocked${ke(i)}`]};return At(s,tie,t)},nie=Oe(sL,{name:"MuiDrawer",slot:"Root",overridesResolver:g_})(Kt(({theme:e})=>({zIndex:(e.vars||e).zIndex.drawer}))),sie=Oe("div",{shouldForwardProp:so,name:"MuiDrawer",slot:"Docked",skipVariantsResolver:!1,overridesResolver:g_})({flex:"0 0 auto"}),rie=Oe(Zs,{name:"MuiDrawer",slot:"Paper",overridesResolver:(e,t)=>{const{ownerState:i}=e;return[t.paper,t[`paperAnchor${ke(i.anchor)}`],i.variant!=="temporary"&&t[`paperAnchorDocked${ke(i.anchor)}`]]}})(Kt(({theme:e})=>({overflowY:"auto",display:"flex",flexDirection:"column",height:"100%",flex:"1 0 auto",zIndex:(e.vars||e).zIndex.drawer,WebkitOverflowScrolling:"touch",position:"fixed",top:0,outline:0,variants:[{props:{anchor:"left"},style:{left:0}},{props:{anchor:"top"},style:{top:0,left:0,right:0,height:"auto",maxHeight:"100%"}},{props:{anchor:"right"},style:{right:0}},{props:{anchor:"bottom"},style:{top:"auto",left:0,bottom:0,right:0,height:"auto",maxHeight:"100%"}},{props:({ownerState:t})=>t.anchor==="left"&&t.variant!=="temporary",style:{borderRight:`1px solid ${(e.vars||e).palette.divider}`}},{props:({ownerState:t})=>t.anchor==="top"&&t.variant!=="temporary",style:{borderBottom:`1px solid ${(e.vars||e).palette.divider}`}},{props:({ownerState:t})=>t.anchor==="right"&&t.variant!=="temporary",style:{borderLeft:`1px solid ${(e.vars||e).palette.divider}`}},{props:({ownerState:t})=>t.anchor==="bottom"&&t.variant!=="temporary",style:{borderTop:`1px solid ${(e.vars||e).palette.divider}`}}]}))),m_={left:"right",right:"left",top:"down",bottom:"up"};function oie(e){return["left","right"].includes(e)}function aie({direction:e},t){return e==="rtl"&&oie(t)?m_[t]:t}const lie=E.forwardRef(function(t,i){const n=kt({props:t,name:"MuiDrawer"}),s=Nc(),r=Nx(),o={enter:s.transitions.duration.enteringScreen,exit:s.transitions.duration.leavingScreen},{anchor:a="left",BackdropProps:l,children:u,className:d,elevation:p=16,hideBackdrop:f=!1,ModalProps:{BackdropProps:m,...y}={},onClose:C,open:w=!1,PaperProps:b={},SlideProps:S,TransitionComponent:M,transitionDuration:D=o,variant:R="temporary",slots:A={},slotProps:k={},...F}=n,P=E.useRef(!1);E.useEffect(()=>{P.current=!0},[]);const L=aie({direction:r?"rtl":"ltr"},a),H={...n,anchor:a,elevation:p,open:w,variant:R,...F},V=iie(H),q={slots:{transition:M,...A},slotProps:{paper:b,transition:S,...k,backdrop:XH(k.backdrop||{...l,...m},{transitionDuration:D})}},[K,j]=li("root",{ref:i,elementType:nie,className:je(V.root,V.modal,d),shouldForwardComponentProp:!0,ownerState:H,externalForwardedProps:{...q,...F,...y},additionalProps:{open:w,onClose:C,hideBackdrop:f,slots:{backdrop:q.slots.backdrop},slotProps:{backdrop:q.slotProps.backdrop}}}),[Z,W]=li("paper",{elementType:rie,shouldForwardComponentProp:!0,className:je(V.paper,b.className),ownerState:H,externalForwardedProps:q,additionalProps:{elevation:R==="temporary"?p:0,square:!0}}),[Y,G]=li("docked",{elementType:sie,ref:i,className:je(V.root,V.docked,d),ownerState:H,externalForwardedProps:q,additionalProps:F}),[U,te]=li("transition",{elementType:eie,ownerState:H,externalForwardedProps:q,additionalProps:{in:w,direction:m_[L],timeout:D,appear:P.current}}),ee=B.jsx(Z,{...W,children:u});if(R==="permanent")return B.jsx(Y,{...G,children:ee});const Q=B.jsx(U,{...te,children:ee});return R==="persistent"?B.jsx(Y,{...G,children:Q}):B.jsx(K,{...j,children:Q})}),cie=e=>{const{classes:t,disableUnderline:i,startAdornment:n,endAdornment:s,size:r,hiddenLabel:o,multiline:a}=e,l={root:["root",!i&&"underline",n&&"adornedStart",s&&"adornedEnd",r==="small"&&`size${ke(r)}`,o&&"hiddenLabel",a&&"multiline"],input:["input"]},u=At(l,Bee,t);return{...t,...u}},uie=Oe(_x,{shouldForwardProp:e=>so(e)||e==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:i}=e;return[...Gx(e,t),!i.disableUnderline&&t.underline]}})(Kt(({theme:e})=>{const t=e.palette.mode==="light",i=t?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",n=t?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",s=t?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",r=t?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return{position:"relative",backgroundColor:e.vars?e.vars.palette.FilledInput.bg:n,borderTopLeftRadius:(e.vars||e).shape.borderRadius,borderTopRightRadius:(e.vars||e).shape.borderRadius,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),"&:hover":{backgroundColor:e.vars?e.vars.palette.FilledInput.hoverBg:s,"@media (hover: none)":{backgroundColor:e.vars?e.vars.palette.FilledInput.bg:n}},[`&.${Kd.focused}`]:{backgroundColor:e.vars?e.vars.palette.FilledInput.bg:n},[`&.${Kd.disabled}`]:{backgroundColor:e.vars?e.vars.palette.FilledInput.disabledBg:r},variants:[{props:({ownerState:o})=>!o.disableUnderline,style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Kd.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Kd.error}`]:{"&::before, &::after":{borderBottomColor:(e.vars||e).palette.error.main}},"&::before":{borderBottom:`1px solid ${e.vars?`rgba(${e.vars.palette.common.onBackgroundChannel} / ${e.vars.opacity.inputUnderline})`:i}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Kd.disabled}, .${Kd.error}):before`]:{borderBottom:`1px solid ${(e.vars||e).palette.text.primary}`},[`&.${Kd.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(e.palette).filter(qr()).map(([o])=>{var a;return{props:{disableUnderline:!1,color:o},style:{"&::after":{borderBottom:`2px solid ${(a=(e.vars||e).palette[o])==null?void 0:a.main}`}}}}),{props:({ownerState:o})=>o.startAdornment,style:{paddingLeft:12}},{props:({ownerState:o})=>o.endAdornment,style:{paddingRight:12}},{props:({ownerState:o})=>o.multiline,style:{padding:"25px 12px 8px"}},{props:({ownerState:o,size:a})=>o.multiline&&a==="small",style:{paddingTop:21,paddingBottom:4}},{props:({ownerState:o})=>o.multiline&&o.hiddenLabel,style:{paddingTop:16,paddingBottom:17}},{props:({ownerState:o})=>o.multiline&&o.hiddenLabel&&o.size==="small",style:{paddingTop:8,paddingBottom:9}}]}})),die=Oe(jx,{name:"MuiFilledInput",slot:"Input",overridesResolver:Hx})(Kt(({theme:e})=>({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12,...!e.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:e.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:e.palette.mode==="light"?null:"#fff",caretColor:e.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},...e.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[e.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{paddingTop:21,paddingBottom:4}},{props:({ownerState:t})=>t.hiddenLabel,style:{paddingTop:16,paddingBottom:17}},{props:({ownerState:t})=>t.startAdornment,style:{paddingLeft:0}},{props:({ownerState:t})=>t.endAdornment,style:{paddingRight:0}},{props:({ownerState:t})=>t.hiddenLabel&&t.size==="small",style:{paddingTop:8,paddingBottom:9}},{props:({ownerState:t})=>t.multiline,style:{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0}}]}))),rL=E.forwardRef(function(t,i){const n=kt({props:t,name:"MuiFilledInput"}),{disableUnderline:s=!1,components:r={},componentsProps:o,fullWidth:a=!1,hiddenLabel:l,inputComponent:u="input",multiline:d=!1,slotProps:p,slots:f={},type:m="text",...y}=n,C={...n,disableUnderline:s,fullWidth:a,inputComponent:u,multiline:d,type:m},w=cie(n),b={root:{ownerState:C},input:{ownerState:C}},S=p??o?fs(b,p??o):b,M=f.root??r.Root??uie,D=f.input??r.Input??die;return B.jsx(nL,{slots:{root:M,input:D},slotProps:S,fullWidth:a,inputComponent:u,multiline:d,ref:i,type:m,...y,classes:w})});rL.muiName="Input";function hie(e){return Tt("MuiFormControl",e)}Rt("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const pie=e=>{const{classes:t,margin:i,fullWidth:n}=e,s={root:["root",i!=="none"&&`margin${ke(i)}`,n&&"fullWidth"]};return At(s,hie,t)},fie=Oe("div",{name:"MuiFormControl",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:i}=e;return[t.root,t[`margin${ke(i.margin)}`],i.fullWidth&&t.fullWidth]}})({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top",variants:[{props:{margin:"normal"},style:{marginTop:16,marginBottom:8}},{props:{margin:"dense"},style:{marginTop:8,marginBottom:4}},{props:{fullWidth:!0},style:{width:"100%"}}]}),uS=E.forwardRef(function(t,i){const n=kt({props:t,name:"MuiFormControl"}),{children:s,className:r,color:o="primary",component:a="div",disabled:l=!1,error:u=!1,focused:d,fullWidth:p=!1,hiddenLabel:f=!1,margin:m="none",required:y=!1,size:C="medium",variant:w="outlined",...b}=n,S={...n,color:o,component:a,disabled:l,error:u,fullWidth:p,hiddenLabel:f,margin:m,required:y,size:C,variant:w},M=pie(S),[D,R]=E.useState(()=>{let K=!1;return s&&E.Children.forEach(s,j=>{if(!Dw(j,["Input","Select"]))return;const Z=Dw(j,["Select"])?j.props.input:j;Z&&kee(Z.props)&&(K=!0)}),K}),[A,k]=E.useState(()=>{let K=!1;return s&&E.Children.forEach(s,j=>{Dw(j,["Input","Select"])&&(cS(j.props,!0)||cS(j.props.inputProps,!0))&&(K=!0)}),K}),[F,P]=E.useState(!1);l&&F&&P(!1);const L=d!==void 0&&!l?d:F;let z;E.useRef(!1);const H=E.useCallback(()=>{k(!0)},[]),V=E.useCallback(()=>{k(!1)},[]),q=E.useMemo(()=>({adornedStart:D,setAdornedStart:R,color:o,disabled:l,error:u,filled:A,focused:L,fullWidth:p,hiddenLabel:f,size:C,onBlur:()=>{P(!1)},onFocus:()=>{P(!0)},onEmpty:V,onFilled:H,registerEffect:z,required:y,variant:w}),[D,o,l,u,A,L,p,f,z,V,H,y,C,w]);return B.jsx(zx.Provider,{value:q,children:B.jsx(fie,{as:a,ownerState:S,className:je(M.root,r),ref:i,...b,children:s})})});function gie(e){return Tt("MuiFormHelperText",e)}const pB=Rt("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]);var fB;const mie=e=>{const{classes:t,contained:i,size:n,disabled:s,error:r,filled:o,focused:a,required:l}=e,u={root:["root",s&&"disabled",r&&"error",n&&`size${ke(n)}`,i&&"contained",a&&"focused",o&&"filled",l&&"required"]};return At(u,gie,t)},yie=Oe("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:i}=e;return[t.root,i.size&&t[`size${ke(i.size)}`],i.contained&&t.contained,i.filled&&t.filled]}})(Kt(({theme:e})=>({color:(e.vars||e).palette.text.secondary,...e.typography.caption,textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${pB.disabled}`]:{color:(e.vars||e).palette.text.disabled},[`&.${pB.error}`]:{color:(e.vars||e).palette.error.main},variants:[{props:{size:"small"},style:{marginTop:4}},{props:({ownerState:t})=>t.contained,style:{marginLeft:14,marginRight:14}}]}))),vie=E.forwardRef(function(t,i){const n=kt({props:t,name:"MuiFormHelperText"}),{children:s,className:r,component:o="p",disabled:a,error:l,filled:u,focused:d,margin:p,required:f,variant:m,...y}=n,C=gp(),w=Gg({props:n,muiFormControl:C,states:["variant","size","disabled","error","filled","focused","required"]}),b={...n,component:o,contained:w.variant==="filled"||w.variant==="outlined",variant:w.variant,size:w.size,disabled:w.disabled,error:w.error,filled:w.filled,focused:w.focused,required:w.required};delete b.ownerState;const S=mie(b);return B.jsx(yie,{as:o,className:je(S.root,r),ref:i,...y,ownerState:b,children:s===" "?fB||(fB=B.jsx("span",{className:"notranslate","aria-hidden":!0,children:"​"})):s})});function Cie(e){return Tt("MuiFormLabel",e)}const Jy=Rt("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),bie=e=>{const{classes:t,color:i,focused:n,disabled:s,error:r,filled:o,required:a}=e,l={root:["root",`color${ke(i)}`,s&&"disabled",r&&"error",o&&"filled",n&&"focused",a&&"required"],asterisk:["asterisk",r&&"error"]};return At(l,Cie,t)},wie=Oe("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:i}=e;return[t.root,i.color==="secondary"&&t.colorSecondary,i.filled&&t.filled]}})(Kt(({theme:e})=>({color:(e.vars||e).palette.text.secondary,...e.typography.body1,lineHeight:"1.4375em",padding:0,position:"relative",variants:[...Object.entries(e.palette).filter(qr()).map(([t])=>({props:{color:t},style:{[`&.${Jy.focused}`]:{color:(e.vars||e).palette[t].main}}})),{props:{},style:{[`&.${Jy.disabled}`]:{color:(e.vars||e).palette.text.disabled},[`&.${Jy.error}`]:{color:(e.vars||e).palette.error.main}}}]}))),Sie=Oe("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:(e,t)=>t.asterisk})(Kt(({theme:e})=>({[`&.${Jy.error}`]:{color:(e.vars||e).palette.error.main}}))),RT=E.forwardRef(function(t,i){const n=kt({props:t,name:"MuiFormLabel"}),{children:s,className:r,color:o,component:a="label",disabled:l,error:u,filled:d,focused:p,required:f,...m}=n,y=gp(),C=Gg({props:n,muiFormControl:y,states:["color","required","focused","disabled","error","filled"]}),w={...n,color:C.color||"primary",component:a,disabled:C.disabled,error:C.error,filled:C.filled,focused:C.focused,required:C.required},b=bie(w);return B.jsxs(wie,{as:a,ownerState:w,className:je(b.root,r),ref:i,...m,children:[s,C.required&&B.jsxs(Sie,{ownerState:w,"aria-hidden":!0,className:b.asterisk,children:[" ","*"]})]})});function ET(e){return`scale(${e}, ${e**2})`}const xie={entering:{opacity:1,transform:ET(1)},entered:{opacity:1,transform:"none"}},BE=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),dS=E.forwardRef(function(t,i){const{addEndListener:n,appear:s=!0,children:r,easing:o,in:a,onEnter:l,onEntered:u,onEntering:d,onExit:p,onExited:f,onExiting:m,style:y,timeout:C="auto",TransitionComponent:w=Ba,...b}=t,S=Ef(),M=E.useRef(),D=Nc(),R=E.useRef(null),A=Hn(R,fp(r),i),k=K=>j=>{if(K){const Z=R.current;j===void 0?K(Z):K(Z,j)}},F=k(d),P=k((K,j)=>{KI(K);const{duration:Z,delay:W,easing:Y}=pg({style:y,timeout:C,easing:o},{mode:"enter"});let G;C==="auto"?(G=D.transitions.getAutoHeightDuration(K.clientHeight),M.current=G):G=Z,K.style.transition=[D.transitions.create("opacity",{duration:G,delay:W}),D.transitions.create("transform",{duration:BE?G:G*.666,delay:W,easing:Y})].join(","),l&&l(K,j)}),L=k(u),z=k(m),H=k(K=>{const{duration:j,delay:Z,easing:W}=pg({style:y,timeout:C,easing:o},{mode:"exit"});let Y;C==="auto"?(Y=D.transitions.getAutoHeightDuration(K.clientHeight),M.current=Y):Y=j,K.style.transition=[D.transitions.create("opacity",{duration:Y,delay:Z}),D.transitions.create("transform",{duration:BE?Y:Y*.666,delay:BE?Z:Z||Y*.333,easing:W})].join(","),K.style.opacity=0,K.style.transform=ET(.75),p&&p(K)}),V=k(f),q=K=>{C==="auto"&&S.start(M.current||0,K),n&&n(R.current,K)};return B.jsx(w,{appear:s,in:a,nodeRef:R,onEnter:P,onEntered:L,onEntering:F,onExit:H,onExited:V,onExiting:z,addEndListener:q,timeout:C==="auto"?null:C,...b,children:(K,{ownerState:j,...Z})=>E.cloneElement(r,{style:{opacity:0,transform:ET(.75),visibility:K==="exited"&&!a?"hidden":void 0,...xie[K],...y,...r.props.style},ref:A,...Z})})});dS&&(dS.muiSupportAuto=!0);const y_=OH({themeId:SC}),Mie=e=>{const{classes:t,disableUnderline:i}=e,s=At({root:["root",!i&&"underline"],input:["input"]},Oee,t);return{...t,...s}},Die=Oe(_x,{shouldForwardProp:e=>so(e)||e==="classes",name:"MuiInput",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:i}=e;return[...Gx(e,t),!i.disableUnderline&&t.underline]}})(Kt(({theme:e})=>{let i=e.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return e.vars&&(i=`rgba(${e.vars.palette.common.onBackgroundChannel} / ${e.vars.opacity.inputUnderline})`),{position:"relative",variants:[{props:({ownerState:n})=>n.formControl,style:{"label + &":{marginTop:16}}},{props:({ownerState:n})=>!n.disableUnderline,style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${vy.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${vy.error}`]:{"&::before, &::after":{borderBottomColor:(e.vars||e).palette.error.main}},"&::before":{borderBottom:`1px solid ${i}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${vy.disabled}, .${vy.error}):before`]:{borderBottom:`2px solid ${(e.vars||e).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${i}`}},[`&.${vy.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(e.palette).filter(qr()).map(([n])=>({props:{color:n,disableUnderline:!1},style:{"&::after":{borderBottom:`2px solid ${(e.vars||e).palette[n].main}`}}}))]}})),Rie=Oe(jx,{name:"MuiInput",slot:"Input",overridesResolver:Hx})({}),oL=E.forwardRef(function(t,i){const n=kt({props:t,name:"MuiInput"}),{disableUnderline:s=!1,components:r={},componentsProps:o,fullWidth:a=!1,inputComponent:l="input",multiline:u=!1,slotProps:d,slots:p={},type:f="text",...m}=n,y=Mie(n),w={root:{ownerState:{disableUnderline:s}}},b=d??o?fs(d??o,w):w,S=p.root??r.Root??Die,M=p.input??r.Input??Rie;return B.jsx(nL,{slots:{root:S,input:M},slotProps:b,fullWidth:a,inputComponent:l,multiline:u,ref:i,type:f,...m,classes:y})});oL.muiName="Input";function Eie(e){return Tt("MuiInputAdornment",e)}const gB=Rt("MuiInputAdornment",["root","filled","standard","outlined","positionStart","positionEnd","disablePointerEvents","hiddenLabel","sizeSmall"]);var mB;const Tie=(e,t)=>{const{ownerState:i}=e;return[t.root,t[`position${ke(i.position)}`],i.disablePointerEvents===!0&&t.disablePointerEvents,t[i.variant]]},Aie=e=>{const{classes:t,disablePointerEvents:i,hiddenLabel:n,position:s,size:r,variant:o}=e,a={root:["root",i&&"disablePointerEvents",s&&`position${ke(s)}`,o,n&&"hiddenLabel",r&&`size${ke(r)}`]};return At(a,Eie,t)},Iie=Oe("div",{name:"MuiInputAdornment",slot:"Root",overridesResolver:Tie})(Kt(({theme:e})=>({display:"flex",maxHeight:"2em",alignItems:"center",whiteSpace:"nowrap",color:(e.vars||e).palette.action.active,variants:[{props:{variant:"filled"},style:{[`&.${gB.positionStart}&:not(.${gB.hiddenLabel})`]:{marginTop:16}}},{props:{position:"start"},style:{marginRight:8}},{props:{position:"end"},style:{marginLeft:8}},{props:{disablePointerEvents:!0},style:{pointerEvents:"none"}}]}))),TT=E.forwardRef(function(t,i){const n=kt({props:t,name:"MuiInputAdornment"}),{children:s,className:r,component:o="div",disablePointerEvents:a=!1,disableTypography:l=!1,position:u,variant:d,...p}=n,f=gp()||{};let m=d;d&&f.variant,f&&!m&&(m=f.variant);const y={...n,hiddenLabel:f.hiddenLabel,size:f.size,disablePointerEvents:a,position:u,variant:m},C=Aie(y);return B.jsx(zx.Provider,{value:null,children:B.jsx(Iie,{as:o,ownerState:y,className:je(C.root,r),ref:i,...p,children:typeof s=="string"&&!l?B.jsx(pt,{color:"textSecondary",children:s}):B.jsxs(E.Fragment,{children:[u==="start"?mB||(mB=B.jsx("span",{className:"notranslate","aria-hidden":!0,children:"​"})):null,s]})})})});function Lie(e){return Tt("MuiInputLabel",e)}Rt("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const kie=e=>{const{classes:t,formControl:i,size:n,shrink:s,disableAnimation:r,variant:o,required:a}=e,l={root:["root",i&&"formControl",!r&&"animated",s&&"shrink",n&&n!=="normal"&&`size${ke(n)}`,o],asterisk:[a&&"asterisk"]},u=At(l,Lie,t);return{...t,...u}},Pie=Oe(RT,{shouldForwardProp:e=>so(e)||e==="classes",name:"MuiInputLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:i}=e;return[{[`& .${Jy.asterisk}`]:t.asterisk},t.root,i.formControl&&t.formControl,i.size==="small"&&t.sizeSmall,i.shrink&&t.shrink,!i.disableAnimation&&t.animated,i.focused&&t.focused,t[i.variant]]}})(Kt(({theme:e})=>({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%",variants:[{props:({ownerState:t})=>t.formControl,style:{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"}},{props:{size:"small"},style:{transform:"translate(0, 17px) scale(1)"}},{props:({ownerState:t})=>t.shrink,style:{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"}},{props:({ownerState:t})=>!t.disableAnimation,style:{transition:e.transitions.create(["color","transform","max-width"],{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut})}},{props:{variant:"filled"},style:{zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"filled",size:"small"},style:{transform:"translate(12px, 13px) scale(1)"}},{props:({variant:t,ownerState:i})=>t==="filled"&&i.shrink,style:{userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"}},{props:({variant:t,ownerState:i,size:n})=>t==="filled"&&i.shrink&&n==="small",style:{transform:"translate(12px, 4px) scale(0.75)"}},{props:{variant:"outlined"},style:{zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"outlined",size:"small"},style:{transform:"translate(14px, 9px) scale(1)"}},{props:({variant:t,ownerState:i})=>t==="outlined"&&i.shrink,style:{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}}]}))),v_=E.forwardRef(function(t,i){const n=kt({name:"MuiInputLabel",props:t}),{disableAnimation:s=!1,margin:r,shrink:o,variant:a,className:l,...u}=n,d=gp();let p=o;typeof p>"u"&&d&&(p=d.filled||d.focused||d.adornedStart);const f=Gg({props:n,muiFormControl:d,states:["size","variant","required","focused"]}),m={...n,disableAnimation:s,formControl:d,shrink:p,size:f.size,variant:f.variant,required:f.required,focused:f.focused},y=kie(m);return B.jsx(Pie,{"data-shrink":p,ref:i,className:je(y.root,l),...u,ownerState:m,classes:y})}),qu=E.createContext({});function Fie(e){return Tt("MuiList",e)}Rt("MuiList",["root","padding","dense","subheader"]);const Oie=e=>{const{classes:t,disablePadding:i,dense:n,subheader:s}=e;return At({root:["root",!i&&"padding",n&&"dense",s&&"subheader"]},Fie,t)},Nie=Oe("ul",{name:"MuiList",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:i}=e;return[t.root,!i.disablePadding&&t.padding,i.dense&&t.dense,i.subheader&&t.subheader]}})({listStyle:"none",margin:0,padding:0,position:"relative",variants:[{props:({ownerState:e})=>!e.disablePadding,style:{paddingTop:8,paddingBottom:8}},{props:({ownerState:e})=>e.subheader,style:{paddingTop:0}}]}),Wx=E.forwardRef(function(t,i){const n=kt({props:t,name:"MuiList"}),{children:s,className:r,component:o="ul",dense:a=!1,disablePadding:l=!1,subheader:u,...d}=n,p=E.useMemo(()=>({dense:a}),[a]),f={...n,component:o,dense:a,disablePadding:l},m=Oie(f);return B.jsx(qu.Provider,{value:p,children:B.jsxs(Nie,{as:o,className:je(m.root,r),ref:i,ownerState:f,...d,children:[u,s]})})});function Bie(e){return Tt("MuiListItem",e)}Rt("MuiListItem",["root","container","dense","alignItemsFlexStart","divider","gutters","padding","secondaryAction"]);const zie=Rt("MuiListItemButton",["root","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","selected"]);function Gie(e){return Tt("MuiListItemSecondaryAction",e)}Rt("MuiListItemSecondaryAction",["root","disableGutters"]);const Hie=e=>{const{disableGutters:t,classes:i}=e;return At({root:["root",t&&"disableGutters"]},Gie,i)},_ie=Oe("div",{name:"MuiListItemSecondaryAction",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:i}=e;return[t.root,i.disableGutters&&t.disableGutters]}})({position:"absolute",right:16,top:"50%",transform:"translateY(-50%)",variants:[{props:({ownerState:e})=>e.disableGutters,style:{right:0}}]}),C_=E.forwardRef(function(t,i){const n=kt({props:t,name:"MuiListItemSecondaryAction"}),{className:s,...r}=n,o=E.useContext(qu),a={...n,disableGutters:o.disableGutters},l=Hie(a);return B.jsx(_ie,{className:je(l.root,s),ownerState:a,ref:i,...r})});C_.muiName="ListItemSecondaryAction";const jie=(e,t)=>{const{ownerState:i}=e;return[t.root,i.dense&&t.dense,i.alignItems==="flex-start"&&t.alignItemsFlexStart,i.divider&&t.divider,!i.disableGutters&&t.gutters,!i.disablePadding&&t.padding,i.hasSecondaryAction&&t.secondaryAction]},Vie=e=>{const{alignItems:t,classes:i,dense:n,disableGutters:s,disablePadding:r,divider:o,hasSecondaryAction:a}=e;return At({root:["root",n&&"dense",!s&&"gutters",!r&&"padding",o&&"divider",t==="flex-start"&&"alignItemsFlexStart",a&&"secondaryAction"],container:["container"]},Bie,i)},Wie=Oe("div",{name:"MuiListItem",slot:"Root",overridesResolver:jie})(Kt(({theme:e})=>({display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left",variants:[{props:({ownerState:t})=>!t.disablePadding,style:{paddingTop:8,paddingBottom:8}},{props:({ownerState:t})=>!t.disablePadding&&t.dense,style:{paddingTop:4,paddingBottom:4}},{props:({ownerState:t})=>!t.disablePadding&&!t.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:t})=>!t.disablePadding&&!!t.secondaryAction,style:{paddingRight:48}},{props:({ownerState:t})=>!!t.secondaryAction,style:{[`& > .${zie.root}`]:{paddingRight:48}}},{props:{alignItems:"flex-start"},style:{alignItems:"flex-start"}},{props:({ownerState:t})=>t.divider,style:{borderBottom:`1px solid ${(e.vars||e).palette.divider}`,backgroundClip:"padding-box"}},{props:({ownerState:t})=>t.button,style:{transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}}}},{props:({ownerState:t})=>t.hasSecondaryAction,style:{paddingRight:48}}]}))),Uie=Oe("li",{name:"MuiListItem",slot:"Container",overridesResolver:(e,t)=>t.container})({position:"relative"}),Gf=E.forwardRef(function(t,i){const n=kt({props:t,name:"MuiListItem"}),{alignItems:s="center",children:r,className:o,component:a,components:l={},componentsProps:u={},ContainerComponent:d="li",ContainerProps:{className:p,...f}={},dense:m=!1,disableGutters:y=!1,disablePadding:C=!1,divider:w=!1,secondaryAction:b,slotProps:S={},slots:M={},...D}=n,R=E.useContext(qu),A=E.useMemo(()=>({dense:m||R.dense||!1,alignItems:s,disableGutters:y}),[s,R.dense,m,y]),k=E.useRef(null),F=E.Children.toArray(r),P=F.length&&Dw(F[F.length-1],["ListItemSecondaryAction"]),L={...n,alignItems:s,dense:A.dense,disableGutters:y,disablePadding:C,divider:w,hasSecondaryAction:P},z=Vie(L),H=Hn(k,i),V=M.root||l.Root||Wie,q=S.root||u.root||{},K={className:je(z.root,q.className,o),...D};let j=a||"li";return P?(j=!K.component&&!a?"div":j,d==="li"&&(j==="li"?j="div":K.component==="li"&&(K.component="div")),B.jsx(qu.Provider,{value:A,children:B.jsxs(Uie,{as:d,className:je(z.container,p),ref:H,ownerState:L,...f,children:[B.jsx(V,{...q,...!Av(V)&&{as:j,ownerState:{...L,...q.ownerState}},...K,children:F}),F.pop()]})})):B.jsx(qu.Provider,{value:A,children:B.jsxs(V,{...q,as:j,ref:H,...!Av(V)&&{ownerState:{...L,...q.ownerState}},...K,children:[F,b&&B.jsx(C_,{children:b})]})})}),yB=Rt("MuiListItemIcon",["root","alignItemsFlexStart"]);function $ie(e){return Tt("MuiListItemText",e)}const Tf=Rt("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]),Yie=e=>{const{classes:t,inset:i,primary:n,secondary:s,dense:r}=e;return At({root:["root",i&&"inset",r&&"dense",n&&s&&"multiline"],primary:["primary"],secondary:["secondary"]},$ie,t)},Kie=Oe("div",{name:"MuiListItemText",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:i}=e;return[{[`& .${Tf.primary}`]:t.primary},{[`& .${Tf.secondary}`]:t.secondary},t.root,i.inset&&t.inset,i.primary&&i.secondary&&t.multiline,i.dense&&t.dense]}})({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4,[`.${U3.root}:where(& .${Tf.primary})`]:{display:"block"},[`.${U3.root}:where(& .${Tf.secondary})`]:{display:"block"},variants:[{props:({ownerState:e})=>e.primary&&e.secondary,style:{marginTop:6,marginBottom:6}},{props:({ownerState:e})=>e.inset,style:{paddingLeft:56}}]}),Tw=E.forwardRef(function(t,i){const n=kt({props:t,name:"MuiListItemText"}),{children:s,className:r,disableTypography:o=!1,inset:a=!1,primary:l,primaryTypographyProps:u,secondary:d,secondaryTypographyProps:p,slots:f={},slotProps:m={},...y}=n,{dense:C}=E.useContext(qu);let w=l??s,b=d;const S={...n,disableTypography:o,inset:a,primary:!!w,secondary:!!b,dense:C},M=Yie(S),D={slots:f,slotProps:{primary:u,secondary:p,...m}},[R,A]=li("root",{className:je(M.root,r),elementType:Kie,externalForwardedProps:{...D,...y},ownerState:S,ref:i}),[k,F]=li("primary",{className:M.primary,elementType:pt,externalForwardedProps:D,ownerState:S}),[P,L]=li("secondary",{className:M.secondary,elementType:pt,externalForwardedProps:D,ownerState:S});return w!=null&&w.type!==pt&&!o&&(w=B.jsx(k,{variant:C?"body2":"body1",component:F!=null&&F.variant?void 0:"span",...F,children:w})),b!=null&&b.type!==pt&&!o&&(b=B.jsx(P,{variant:"body2",color:"textSecondary",...L,children:b})),B.jsxs(R,{...A,children:[w,b]})});function zE(e,t,i){return e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:i?null:e.firstChild}function vB(e,t,i){return e===t?i?e.firstChild:e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:i?null:e.lastChild}function b_(e,t){if(t===void 0)return!0;let i=e.innerText;return i===void 0&&(i=e.textContent),i=i.trim().toLowerCase(),i.length===0?!1:t.repeating?i[0]===t.keys[0]:i.startsWith(t.keys.join(""))}function Cy(e,t,i,n,s,r){let o=!1,a=s(e,t,t?i:!1);for(;a;){if(a===e.firstChild){if(o)return!1;o=!0}const l=n?!1:a.disabled||a.getAttribute("aria-disabled")==="true";if(!a.hasAttribute("tabindex")||!b_(a,r)||l)a=s(e,a,i);else return a.focus(),!0}return!1}const qie=E.forwardRef(function(t,i){const{actions:n,autoFocus:s=!1,autoFocusItem:r=!1,children:o,className:a,disabledItemsFocusable:l=!1,disableListWrap:u=!1,onKeyDown:d,variant:p="selectedMenu",...f}=t,m=E.useRef(null),y=E.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});Aa(()=>{s&&m.current.focus()},[s]),E.useImperativeHandle(n,()=>({adjustStyleForScrollbar:(M,{direction:D})=>{const R=!m.current.style.width;if(M.clientHeight<m.current.clientHeight&&R){const A=`${zH(Ia(M))}px`;m.current.style[D==="rtl"?"paddingLeft":"paddingRight"]=A,m.current.style.width=`calc(100% + ${A})`}return m.current}}),[]);const C=M=>{const D=m.current,R=M.key;if(M.ctrlKey||M.metaKey||M.altKey){d&&d(M);return}const k=to(D).activeElement;if(R==="ArrowDown")M.preventDefault(),Cy(D,k,u,l,zE);else if(R==="ArrowUp")M.preventDefault(),Cy(D,k,u,l,vB);else if(R==="Home")M.preventDefault(),Cy(D,null,u,l,zE);else if(R==="End")M.preventDefault(),Cy(D,null,u,l,vB);else if(R.length===1){const F=y.current,P=R.toLowerCase(),L=performance.now();F.keys.length>0&&(L-F.lastTime>500?(F.keys=[],F.repeating=!0,F.previousKeyMatched=!0):F.repeating&&P!==F.keys[0]&&(F.repeating=!1)),F.lastTime=L,F.keys.push(P);const z=k&&!F.repeating&&b_(k,F);F.previousKeyMatched&&(z||Cy(D,k,!1,l,zE,F))?M.preventDefault():F.previousKeyMatched=!1}d&&d(M)},w=Hn(m,i);let b=-1;E.Children.forEach(o,(M,D)=>{if(!E.isValidElement(M)){b===D&&(b+=1,b>=o.length&&(b=-1));return}M.props.disabled||(p==="selectedMenu"&&M.props.selected||b===-1)&&(b=D),b===D&&(M.props.disabled||M.props.muiSkipListHighlight||M.type.muiSkipListHighlight)&&(b+=1,b>=o.length&&(b=-1))});const S=E.Children.map(o,(M,D)=>{if(D===b){const R={};return r&&(R.autoFocus=!0),M.props.tabIndex===void 0&&p==="selectedMenu"&&(R.tabIndex=0),E.cloneElement(M,R)}return M});return B.jsx(Wx,{role:"menu",ref:w,className:a,onKeyDown:C,tabIndex:s?0:-1,...f,children:S})});function Zie(e){return Tt("MuiPopover",e)}Rt("MuiPopover",["root","paper"]);function CB(e,t){let i=0;return typeof t=="number"?i=t:t==="center"?i=e.height/2:t==="bottom"&&(i=e.height),i}function bB(e,t){let i=0;return typeof t=="number"?i=t:t==="center"?i=e.width/2:t==="right"&&(i=e.width),i}function wB(e){return[e.horizontal,e.vertical].map(t=>typeof t=="number"?`${t}px`:t).join(" ")}function V0(e){return typeof e=="function"?e():e}const Xie=e=>{const{classes:t}=e;return At({root:["root"],paper:["paper"]},Zie,t)},Qie=Oe(sL,{name:"MuiPopover",slot:"Root",overridesResolver:(e,t)=>t.root})({}),w_=Oe(Zs,{name:"MuiPopover",slot:"Paper",overridesResolver:(e,t)=>t.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),Jie=E.forwardRef(function(t,i){const n=kt({props:t,name:"MuiPopover"}),{action:s,anchorEl:r,anchorOrigin:o={vertical:"top",horizontal:"left"},anchorPosition:a,anchorReference:l="anchorEl",children:u,className:d,container:p,elevation:f=8,marginThreshold:m=16,open:y,PaperProps:C={},slots:w={},slotProps:b={},transformOrigin:S={vertical:"top",horizontal:"left"},TransitionComponent:M,transitionDuration:D="auto",TransitionProps:R={},disableScrollLock:A=!1,...k}=n,F=E.useRef(),P={...n,anchorOrigin:o,anchorReference:l,elevation:f,marginThreshold:m,transformOrigin:S,TransitionComponent:M,transitionDuration:D,TransitionProps:R},L=Xie(P),z=E.useCallback(()=>{if(l==="anchorPosition")return a;const ae=V0(r),Ie=(ae&&ae.nodeType===1?ae:to(F.current).body).getBoundingClientRect();return{top:Ie.top+CB(Ie,o.vertical),left:Ie.left+bB(Ie,o.horizontal)}},[r,o.horizontal,o.vertical,a,l]),H=E.useCallback(ae=>({vertical:CB(ae,S.vertical),horizontal:bB(ae,S.horizontal)}),[S.horizontal,S.vertical]),V=E.useCallback(ae=>{const xe={width:ae.offsetWidth,height:ae.offsetHeight},Ie=H(xe);if(l==="none")return{top:null,left:null,transformOrigin:wB(Ie)};const Fe=z();let Me=Fe.top-Ie.vertical,_e=Fe.left-Ie.horizontal;const tt=Me+xe.height,He=_e+xe.width,Ke=Ia(V0(r)),yt=Ke.innerHeight-m,qe=Ke.innerWidth-m;if(m!==null&&Me<m){const Ve=Me-m;Me-=Ve,Ie.vertical+=Ve}else if(m!==null&&tt>yt){const Ve=tt-yt;Me-=Ve,Ie.vertical+=Ve}if(m!==null&&_e<m){const Ve=_e-m;_e-=Ve,Ie.horizontal+=Ve}else if(He>qe){const Ve=He-qe;_e-=Ve,Ie.horizontal+=Ve}return{top:`${Math.round(Me)}px`,left:`${Math.round(_e)}px`,transformOrigin:wB(Ie)}},[r,l,z,H,m]),[q,K]=E.useState(y),j=E.useCallback(()=>{const ae=F.current;if(!ae)return;const xe=V(ae);xe.top!==null&&ae.style.setProperty("top",xe.top),xe.left!==null&&(ae.style.left=xe.left),ae.style.transformOrigin=xe.transformOrigin,K(!0)},[V]);E.useEffect(()=>(A&&window.addEventListener("scroll",j),()=>window.removeEventListener("scroll",j)),[r,A,j]);const Z=()=>{j()},W=()=>{K(!1)};E.useEffect(()=>{y&&j()}),E.useImperativeHandle(s,()=>y?{updatePosition:()=>{j()}}:null,[y,j]),E.useEffect(()=>{if(!y)return;const ae=VI(()=>{j()}),xe=Ia(V0(r));return xe.addEventListener("resize",ae),()=>{ae.clear(),xe.removeEventListener("resize",ae)}},[r,y,j]);let Y=D;const G={slots:{transition:M,...w},slotProps:{transition:R,paper:C,...b}},[U,te]=li("transition",{elementType:dS,externalForwardedProps:G,ownerState:P,getSlotProps:ae=>({...ae,onEntering:(xe,Ie)=>{var Fe;(Fe=ae.onEntering)==null||Fe.call(ae,xe,Ie),Z()},onExited:xe=>{var Ie;(Ie=ae.onExited)==null||Ie.call(ae,xe),W()}}),additionalProps:{appear:!0,in:y}});D==="auto"&&!U.muiSupportAuto&&(Y=void 0);const ee=p||(r?to(V0(r)).body:void 0),[Q,{slots:ue,slotProps:de,...we}]=li("root",{ref:i,elementType:Qie,externalForwardedProps:{...G,...k},shouldForwardComponentProp:!0,additionalProps:{slots:{backdrop:w.backdrop},slotProps:{backdrop:XH(typeof b.backdrop=="function"?b.backdrop(P):b.backdrop,{invisible:!0})},container:ee,open:y},ownerState:P,className:je(L.root,d)}),[ce,pe]=li("paper",{ref:F,className:L.paper,elementType:w_,externalForwardedProps:G,shouldForwardComponentProp:!0,additionalProps:{elevation:f,style:q?void 0:{opacity:0}},ownerState:P});return B.jsx(Q,{...we,...!Av(Q)&&{slots:ue,slotProps:de,disableScrollLock:A},children:B.jsx(U,{...te,timeout:Y,children:B.jsx(ce,{...pe,children:u})})})});function ene(e){return Tt("MuiMenu",e)}Rt("MuiMenu",["root","paper","list"]);const tne={vertical:"top",horizontal:"right"},ine={vertical:"top",horizontal:"left"},nne=e=>{const{classes:t}=e;return At({root:["root"],paper:["paper"],list:["list"]},ene,t)},sne=Oe(Jie,{shouldForwardProp:e=>so(e)||e==="classes",name:"MuiMenu",slot:"Root",overridesResolver:(e,t)=>t.root})({}),rne=Oe(w_,{name:"MuiMenu",slot:"Paper",overridesResolver:(e,t)=>t.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),one=Oe(qie,{name:"MuiMenu",slot:"List",overridesResolver:(e,t)=>t.list})({outline:0}),ane=E.forwardRef(function(t,i){const n=kt({props:t,name:"MuiMenu"}),{autoFocus:s=!0,children:r,className:o,disableAutoFocusItem:a=!1,MenuListProps:l={},onClose:u,open:d,PaperProps:p={},PopoverClasses:f,transitionDuration:m="auto",TransitionProps:{onEntering:y,...C}={},variant:w="selectedMenu",slots:b={},slotProps:S={},...M}=n,D=Nx(),R={...n,autoFocus:s,disableAutoFocusItem:a,MenuListProps:l,onEntering:y,PaperProps:p,transitionDuration:m,TransitionProps:C,variant:w},A=nne(R),k=s&&!a&&d,F=E.useRef(null),P=(Y,G)=>{F.current&&F.current.adjustStyleForScrollbar(Y,{direction:D?"rtl":"ltr"}),y&&y(Y,G)},L=Y=>{Y.key==="Tab"&&(Y.preventDefault(),u&&u(Y,"tabKeyDown"))};let z=-1;E.Children.map(r,(Y,G)=>{E.isValidElement(Y)&&(Y.props.disabled||(w==="selectedMenu"&&Y.props.selected||z===-1)&&(z=G))});const H={slots:b,slotProps:{list:l,transition:C,paper:p,...S}},V=VH({elementType:b.root,externalSlotProps:S.root,ownerState:R,className:[A.root,o]}),[q,K]=li("paper",{className:A.paper,elementType:rne,externalForwardedProps:H,shouldForwardComponentProp:!0,ownerState:R}),[j,Z]=li("list",{className:je(A.list,l.className),elementType:one,shouldForwardComponentProp:!0,externalForwardedProps:H,getSlotProps:Y=>({...Y,onKeyDown:G=>{var U;L(G),(U=Y.onKeyDown)==null||U.call(Y,G)}}),ownerState:R}),W=typeof H.slotProps.transition=="function"?H.slotProps.transition(R):H.slotProps.transition;return B.jsx(sne,{onClose:u,anchorOrigin:{vertical:"bottom",horizontal:D?"right":"left"},transformOrigin:D?tne:ine,slots:{root:b.root,paper:q,backdrop:b.backdrop,...b.transition&&{transition:b.transition}},slotProps:{root:V,paper:K,backdrop:typeof S.backdrop=="function"?S.backdrop(R):S.backdrop,transition:{...W,onEntering:(...Y)=>{var G;P(...Y),(G=W==null?void 0:W.onEntering)==null||G.call(W,...Y)}}},open:d,ref:i,transitionDuration:m,ownerState:R,...M,classes:f,children:B.jsx(j,{actions:F,autoFocus:s&&(z===-1||a),autoFocusItem:k,variant:w,...Z,children:r})})});function lne(e){return Tt("MuiMenuItem",e)}const by=Rt("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),cne=(e,t)=>{const{ownerState:i}=e;return[t.root,i.dense&&t.dense,i.divider&&t.divider,!i.disableGutters&&t.gutters]},une=e=>{const{disabled:t,dense:i,divider:n,disableGutters:s,selected:r,classes:o}=e,l=At({root:["root",i&&"dense",t&&"disabled",!s&&"gutters",n&&"divider",r&&"selected"]},lne,o);return{...o,...l}},dne=Oe(Rv,{shouldForwardProp:e=>so(e)||e==="classes",name:"MuiMenuItem",slot:"Root",overridesResolver:cne})(Kt(({theme:e})=>({...e.typography.body1,display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap","&:hover":{textDecoration:"none",backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${by.selected}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:zi(e.palette.primary.main,e.palette.action.selectedOpacity),[`&.${by.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:zi(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}},[`&.${by.selected}:hover`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:zi(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:zi(e.palette.primary.main,e.palette.action.selectedOpacity)}},[`&.${by.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`&.${by.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity},[`& + .${hB.root}`]:{marginTop:e.spacing(1),marginBottom:e.spacing(1)},[`& + .${hB.inset}`]:{marginLeft:52},[`& .${Tf.root}`]:{marginTop:0,marginBottom:0},[`& .${Tf.inset}`]:{paddingLeft:36},[`& .${yB.root}`]:{minWidth:36},variants:[{props:({ownerState:t})=>!t.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:t})=>t.divider,style:{borderBottom:`1px solid ${(e.vars||e).palette.divider}`,backgroundClip:"padding-box"}},{props:({ownerState:t})=>!t.dense,style:{[e.breakpoints.up("sm")]:{minHeight:"auto"}}},{props:({ownerState:t})=>t.dense,style:{minHeight:32,paddingTop:4,paddingBottom:4,...e.typography.body2,[`& .${yB.root} svg`]:{fontSize:"1.25rem"}}}]}))),AT=E.forwardRef(function(t,i){const n=kt({props:t,name:"MuiMenuItem"}),{autoFocus:s=!1,component:r="li",dense:o=!1,divider:a=!1,disableGutters:l=!1,focusVisibleClassName:u,role:d="menuitem",tabIndex:p,className:f,...m}=n,y=E.useContext(qu),C=E.useMemo(()=>({dense:o||y.dense||!1,disableGutters:l}),[y.dense,o,l]),w=E.useRef(null);Aa(()=>{s&&w.current&&w.current.focus()},[s]);const b={...n,dense:C.dense,divider:a,disableGutters:l},S=une(n),M=Hn(w,i);let D;return n.disabled||(D=p!==void 0?p:-1),B.jsx(qu.Provider,{value:C,children:B.jsx(dne,{ref:M,role:d,tabIndex:D,component:r,focusVisibleClassName:je(S.focusVisible,u),className:je(S.root,f),...m,ownerState:b,classes:S})})});function hne(e){return Tt("MuiNativeSelect",e)}const aL=Rt("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),pne=e=>{const{classes:t,variant:i,disabled:n,multiple:s,open:r,error:o}=e,a={select:["select",i,n&&"disabled",s&&"multiple",o&&"error"],icon:["icon",`icon${ke(i)}`,r&&"iconOpen",n&&"disabled"]};return At(a,hne,t)},S_=Oe("select")(({theme:e})=>({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":{borderRadius:0},[`&.${aL.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(e.vars||e).palette.background.paper},variants:[{props:({ownerState:t})=>t.variant!=="filled"&&t.variant!=="outlined",style:{"&&&":{paddingRight:24,minWidth:16}}},{props:{variant:"filled"},style:{"&&&":{paddingRight:32}}},{props:{variant:"outlined"},style:{borderRadius:(e.vars||e).shape.borderRadius,"&:focus":{borderRadius:(e.vars||e).shape.borderRadius},"&&&":{paddingRight:32}}}]})),fne=Oe(S_,{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:so,overridesResolver:(e,t)=>{const{ownerState:i}=e;return[t.select,t[i.variant],i.error&&t.error,{[`&.${aL.multiple}`]:t.multiple}]}})({}),x_=Oe("svg")(({theme:e})=>({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(e.vars||e).palette.action.active,[`&.${aL.disabled}`]:{color:(e.vars||e).palette.action.disabled},variants:[{props:({ownerState:t})=>t.open,style:{transform:"rotate(180deg)"}},{props:{variant:"filled"},style:{right:7}},{props:{variant:"outlined"},style:{right:7}}]})),gne=Oe(x_,{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(e,t)=>{const{ownerState:i}=e;return[t.icon,i.variant&&t[`icon${ke(i.variant)}`],i.open&&t.iconOpen]}})({}),mne=E.forwardRef(function(t,i){const{className:n,disabled:s,error:r,IconComponent:o,inputRef:a,variant:l="standard",...u}=t,d={...t,disabled:s,variant:l,error:r},p=pne(d);return B.jsxs(E.Fragment,{children:[B.jsx(fne,{ownerState:d,className:je(p.select,n),disabled:s,ref:a||i,...u}),t.multiple?null:B.jsx(gne,{as:o,ownerState:d,className:p.icon})]})});var SB;const yne=Oe("fieldset",{shouldForwardProp:so})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),vne=Oe("legend",{shouldForwardProp:so})(Kt(({theme:e})=>({float:"unset",width:"auto",overflow:"hidden",variants:[{props:({ownerState:t})=>!t.withLabel,style:{padding:0,lineHeight:"11px",transition:e.transitions.create("width",{duration:150,easing:e.transitions.easing.easeOut})}},{props:({ownerState:t})=>t.withLabel,style:{display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:e.transitions.create("max-width",{duration:50,easing:e.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}}},{props:({ownerState:t})=>t.withLabel&&t.notched,style:{maxWidth:"100%",transition:e.transitions.create("max-width",{duration:100,easing:e.transitions.easing.easeOut,delay:50})}}]})));function Cne(e){const{children:t,classes:i,className:n,label:s,notched:r,...o}=e,a=s!=null&&s!=="",l={...e,notched:r,withLabel:a};return B.jsx(yne,{"aria-hidden":!0,className:n,ownerState:l,...o,children:B.jsx(vne,{ownerState:l,children:a?B.jsx("span",{children:s}):SB||(SB=B.jsx("span",{className:"notranslate","aria-hidden":!0,children:"​"}))})})}const bne=e=>{const{classes:t}=e,n=At({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},Nee,t);return{...t,...n}},wne=Oe(_x,{shouldForwardProp:e=>so(e)||e==="classes",name:"MuiOutlinedInput",slot:"Root",overridesResolver:Gx})(Kt(({theme:e})=>{const t=e.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{position:"relative",borderRadius:(e.vars||e).shape.borderRadius,[`&:hover .${Ja.notchedOutline}`]:{borderColor:(e.vars||e).palette.text.primary},"@media (hover: none)":{[`&:hover .${Ja.notchedOutline}`]:{borderColor:e.vars?`rgba(${e.vars.palette.common.onBackgroundChannel} / 0.23)`:t}},[`&.${Ja.focused} .${Ja.notchedOutline}`]:{borderWidth:2},variants:[...Object.entries(e.palette).filter(qr()).map(([i])=>({props:{color:i},style:{[`&.${Ja.focused} .${Ja.notchedOutline}`]:{borderColor:(e.vars||e).palette[i].main}}})),{props:{},style:{[`&.${Ja.error} .${Ja.notchedOutline}`]:{borderColor:(e.vars||e).palette.error.main},[`&.${Ja.disabled} .${Ja.notchedOutline}`]:{borderColor:(e.vars||e).palette.action.disabled}}},{props:({ownerState:i})=>i.startAdornment,style:{paddingLeft:14}},{props:({ownerState:i})=>i.endAdornment,style:{paddingRight:14}},{props:({ownerState:i})=>i.multiline,style:{padding:"16.5px 14px"}},{props:({ownerState:i,size:n})=>i.multiline&&n==="small",style:{padding:"8.5px 14px"}}]}})),Sne=Oe(Cne,{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:(e,t)=>t.notchedOutline})(Kt(({theme:e})=>{const t=e.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:e.vars?`rgba(${e.vars.palette.common.onBackgroundChannel} / 0.23)`:t}})),xne=Oe(jx,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:Hx})(Kt(({theme:e})=>({padding:"16.5px 14px",...!e.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:e.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:e.palette.mode==="light"?null:"#fff",caretColor:e.palette.mode==="light"?null:"#fff",borderRadius:"inherit"}},...e.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[e.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{padding:"8.5px 14px"}},{props:({ownerState:t})=>t.multiline,style:{padding:0}},{props:({ownerState:t})=>t.startAdornment,style:{paddingLeft:0}},{props:({ownerState:t})=>t.endAdornment,style:{paddingRight:0}}]}))),lL=E.forwardRef(function(t,i){var n;const s=kt({props:t,name:"MuiOutlinedInput"}),{components:r={},fullWidth:o=!1,inputComponent:a="input",label:l,multiline:u=!1,notched:d,slots:p={},type:f="text",...m}=s,y=bne(s),C=gp(),w=Gg({props:s,muiFormControl:C,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),b={...s,color:w.color||"primary",disabled:w.disabled,error:w.error,focused:w.focused,formControl:C,fullWidth:o,hiddenLabel:w.hiddenLabel,multiline:u,size:w.size,type:f},S=p.root??r.Root??wne,M=p.input??r.Input??xne;return B.jsx(nL,{slots:{root:S,input:M},renderSuffix:D=>B.jsx(Sne,{ownerState:b,className:y.notchedOutline,label:l!=null&&l!==""&&w.required?n||(n=B.jsxs(E.Fragment,{children:[l," ","*"]})):l,notched:typeof d<"u"?d:!!(D.startAdornment||D.filled||D.focused)}),fullWidth:o,inputComponent:a,multiline:u,ref:i,type:f,...m,classes:{...y,notchedOutline:null}})});lL.muiName="Input";function M_(e){return Tt("MuiSelect",e)}const wy=Rt("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]);var xB;const Mne=Oe(S_,{name:"MuiSelect",slot:"Select",overridesResolver:(e,t)=>{const{ownerState:i}=e;return[{[`&.${wy.select}`]:t.select},{[`&.${wy.select}`]:t[i.variant]},{[`&.${wy.error}`]:t.error},{[`&.${wy.multiple}`]:t.multiple}]}})({[`&.${wy.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),Dne=Oe(x_,{name:"MuiSelect",slot:"Icon",overridesResolver:(e,t)=>{const{ownerState:i}=e;return[t.icon,i.variant&&t[`icon${ke(i.variant)}`],i.open&&t.iconOpen]}})({}),Rne=Oe("input",{shouldForwardProp:e=>ZH(e)&&e!=="classes",name:"MuiSelect",slot:"NativeInput",overridesResolver:(e,t)=>t.nativeInput})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function MB(e,t){return typeof t=="object"&&t!==null?e===t:String(e)===String(t)}function Ene(e){return e==null||typeof e=="string"&&!e.trim()}const Tne=e=>{const{classes:t,variant:i,disabled:n,multiple:s,open:r,error:o}=e,a={select:["select",i,n&&"disabled",s&&"multiple",o&&"error"],icon:["icon",`icon${ke(i)}`,r&&"iconOpen",n&&"disabled"],nativeInput:["nativeInput"]};return At(a,M_,t)},Ane=E.forwardRef(function(t,i){var di;const{"aria-describedby":n,"aria-label":s,autoFocus:r,autoWidth:o,children:a,className:l,defaultOpen:u,defaultValue:d,disabled:p,displayEmpty:f,error:m=!1,IconComponent:y,inputRef:C,labelId:w,MenuProps:b={},multiple:S,name:M,onBlur:D,onChange:R,onClose:A,onFocus:k,onOpen:F,open:P,readOnly:L,renderValue:z,required:H,SelectDisplayProps:V={},tabIndex:q,type:K,value:j,variant:Z="standard",...W}=t,[Y,G]=cT({controlled:j,default:d,name:"Select"}),[U,te]=cT({controlled:P,default:u,name:"Select"}),ee=E.useRef(null),Q=E.useRef(null),[ue,de]=E.useState(null),{current:we}=E.useRef(P!=null),[ce,pe]=E.useState(),ae=Hn(i,C),xe=E.useCallback(ot=>{Q.current=ot,ot&&de(ot)},[]),Ie=ue==null?void 0:ue.parentNode;E.useImperativeHandle(ae,()=>({focus:()=>{Q.current.focus()},node:ee.current,value:Y}),[Y]),E.useEffect(()=>{u&&U&&ue&&!we&&(pe(o?null:Ie.clientWidth),Q.current.focus())},[ue,o]),E.useEffect(()=>{r&&Q.current.focus()},[r]),E.useEffect(()=>{if(!w)return;const ot=to(Q.current).getElementById(w);if(ot){const Pt=()=>{getSelection().isCollapsed&&Q.current.focus()};return ot.addEventListener("click",Pt),()=>{ot.removeEventListener("click",Pt)}}},[w]);const Fe=(ot,Pt)=>{ot?F&&F(Pt):A&&A(Pt),we||(pe(o?null:Ie.clientWidth),te(ot))},Me=ot=>{ot.button===0&&(ot.preventDefault(),Q.current.focus(),Fe(!0,ot))},_e=ot=>{Fe(!1,ot)},tt=E.Children.toArray(a),He=ot=>{const Pt=tt.find(_t=>_t.props.value===ot.target.value);Pt!==void 0&&(G(Pt.props.value),R&&R(ot,Pt))},Ke=ot=>Pt=>{let _t;if(Pt.currentTarget.hasAttribute("tabindex")){if(S){_t=Array.isArray(Y)?Y.slice():[];const _s=Y.indexOf(ot.props.value);_s===-1?_t.push(ot.props.value):_t.splice(_s,1)}else _t=ot.props.value;if(ot.props.onClick&&ot.props.onClick(Pt),Y!==_t&&(G(_t),R)){const _s=Pt.nativeEvent||Pt,$a=new _s.constructor(_s.type,_s);Object.defineProperty($a,"target",{writable:!0,value:{value:_t,name:M}}),R($a,ot)}S||Fe(!1,Pt)}},yt=ot=>{L||[" ","ArrowUp","ArrowDown","Enter"].includes(ot.key)&&(ot.preventDefault(),Fe(!0,ot))},qe=ue!==null&&U,Ve=ot=>{!qe&&D&&(Object.defineProperty(ot,"target",{writable:!0,value:{value:Y,name:M}}),D(ot))};delete W["aria-invalid"];let Pe,Nt;const Ct=[];let Vi=!1;(cS({value:Y})||f)&&(z?Pe=z(Y):Vi=!0);const Pi=tt.map(ot=>{if(!E.isValidElement(ot))return null;let Pt;if(S){if(!Array.isArray(Y))throw new Error(Ac(2));Pt=Y.some(_t=>MB(_t,ot.props.value)),Pt&&Vi&&Ct.push(ot.props.children)}else Pt=MB(Y,ot.props.value),Pt&&Vi&&(Nt=ot.props.children);return E.cloneElement(ot,{"aria-selected":Pt?"true":"false",onClick:Ke(ot),onKeyUp:_t=>{_t.key===" "&&_t.preventDefault(),ot.props.onKeyUp&&ot.props.onKeyUp(_t)},role:"option",selected:Pt,value:void 0,"data-value":ot.props.value})});Vi&&(S?Ct.length===0?Pe=null:Pe=Ct.reduce((ot,Pt,_t)=>(ot.push(Pt),_t<Ct.length-1&&ot.push(", "),ot),[]):Pe=Nt);let Ei=ce;!o&&we&&ue&&(Ei=Ie.clientWidth);let Et;typeof q<"u"?Et=q:Et=p?null:0;const ri=V.id||(M?`mui-component-select-${M}`:void 0),as={...t,variant:Z,value:Y,open:qe,error:m},bt=Tne(as),ws={...b.PaperProps,...(di=b.slotProps)==null?void 0:di.paper},Cn=zg();return B.jsxs(E.Fragment,{children:[B.jsx(Mne,{as:"div",ref:xe,tabIndex:Et,role:"combobox","aria-controls":qe?Cn:void 0,"aria-disabled":p?"true":void 0,"aria-expanded":qe?"true":"false","aria-haspopup":"listbox","aria-label":s,"aria-labelledby":[w,ri].filter(Boolean).join(" ")||void 0,"aria-describedby":n,"aria-required":H?"true":void 0,"aria-invalid":m?"true":void 0,onKeyDown:yt,onMouseDown:p||L?null:Me,onBlur:Ve,onFocus:k,...V,ownerState:as,className:je(V.className,bt.select,l),id:ri,children:Ene(Pe)?xB||(xB=B.jsx("span",{className:"notranslate","aria-hidden":!0,children:"​"})):Pe}),B.jsx(Rne,{"aria-invalid":m,value:Array.isArray(Y)?Y.join(","):Y,name:M,ref:ee,"aria-hidden":!0,onChange:He,tabIndex:-1,disabled:p,className:bt.nativeInput,autoFocus:r,required:H,...W,ownerState:as}),B.jsx(Dne,{as:y,className:bt.icon,ownerState:as}),B.jsx(ane,{id:`menu-${M||""}`,anchorEl:Ie,open:qe,onClose:_e,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},...b,slotProps:{...b.slotProps,list:{"aria-labelledby":w,role:"listbox","aria-multiselectable":S?"true":void 0,disableListWrap:!0,id:Cn,...b.MenuListProps},paper:{...ws,style:{minWidth:Ei,...ws!=null?ws.style:null}}},children:Pi})]})}),Ine=e=>{const{classes:t}=e,n=At({root:["root"]},M_,t);return{...t,...n}},cL={name:"MuiSelect",overridesResolver:(e,t)=>t.root,shouldForwardProp:e=>so(e)&&e!=="variant",slot:"Root"},Lne=Oe(oL,cL)(""),kne=Oe(lL,cL)(""),Pne=Oe(rL,cL)(""),uL=E.forwardRef(function(t,i){const n=kt({name:"MuiSelect",props:t}),{autoWidth:s=!1,children:r,classes:o={},className:a,defaultOpen:l=!1,displayEmpty:u=!1,IconComponent:d=zee,id:p,input:f,inputProps:m,label:y,labelId:C,MenuProps:w,multiple:b=!1,native:S=!1,onClose:M,onOpen:D,open:R,renderValue:A,SelectDisplayProps:k,variant:F="outlined",...P}=n,L=S?mne:Ane,z=gp(),H=Gg({props:n,muiFormControl:z,states:["variant","error"]}),V=H.variant||F,q={...n,variant:V,classes:o},K=Ine(q),{root:j,...Z}=K,W=f||{standard:B.jsx(Lne,{ownerState:q}),outlined:B.jsx(kne,{label:y,ownerState:q}),filled:B.jsx(Pne,{ownerState:q})}[V],Y=Hn(i,fp(W));return B.jsx(E.Fragment,{children:E.cloneElement(W,{inputComponent:L,inputProps:{children:r,error:H.error,IconComponent:d,variant:V,type:void 0,multiple:b,...S?{id:p}:{autoWidth:s,defaultOpen:l,displayEmpty:u,labelId:C,MenuProps:w,onClose:M,onOpen:D,open:R,renderValue:A,SelectDisplayProps:{id:p,...k}},...m,classes:m?fs(Z,m.classes):Z,...f?f.props.inputProps:{}},...(b&&S||u)&&V==="outlined"?{notched:!0}:{},ref:Y,className:je(W.props.className,a,K.root),...!f&&{variant:V},...P})})});uL.muiName="Select";function Fne(e){return Tt("MuiTooltip",e)}const Tn=Rt("MuiTooltip",["popper","popperInteractive","popperArrow","popperClose","tooltip","tooltipArrow","touch","tooltipPlacementLeft","tooltipPlacementRight","tooltipPlacementTop","tooltipPlacementBottom","arrow"]);function One(e){return Math.round(e*1e5)/1e5}const Nne=e=>{const{classes:t,disableInteractive:i,arrow:n,touch:s,placement:r}=e,o={popper:["popper",!i&&"popperInteractive",n&&"popperArrow"],tooltip:["tooltip",n&&"tooltipArrow",s&&"touch",`tooltipPlacement${ke(r.split("-")[0])}`],arrow:["arrow"]};return At(o,Fne,t)},Bne=Oe(u_,{name:"MuiTooltip",slot:"Popper",overridesResolver:(e,t)=>{const{ownerState:i}=e;return[t.popper,!i.disableInteractive&&t.popperInteractive,i.arrow&&t.popperArrow,!i.open&&t.popperClose]}})(Kt(({theme:e})=>({zIndex:(e.vars||e).zIndex.tooltip,pointerEvents:"none",variants:[{props:({ownerState:t})=>!t.disableInteractive,style:{pointerEvents:"auto"}},{props:({open:t})=>!t,style:{pointerEvents:"none"}},{props:({ownerState:t})=>t.arrow,style:{[`&[data-popper-placement*="bottom"] .${Tn.arrow}`]:{top:0,marginTop:"-0.71em","&::before":{transformOrigin:"0 100%"}},[`&[data-popper-placement*="top"] .${Tn.arrow}`]:{bottom:0,marginBottom:"-0.71em","&::before":{transformOrigin:"100% 0"}},[`&[data-popper-placement*="right"] .${Tn.arrow}`]:{height:"1em",width:"0.71em","&::before":{transformOrigin:"100% 100%"}},[`&[data-popper-placement*="left"] .${Tn.arrow}`]:{height:"1em",width:"0.71em","&::before":{transformOrigin:"0 0"}}}},{props:({ownerState:t})=>t.arrow&&!t.isRtl,style:{[`&[data-popper-placement*="right"] .${Tn.arrow}`]:{left:0,marginLeft:"-0.71em"}}},{props:({ownerState:t})=>t.arrow&&!!t.isRtl,style:{[`&[data-popper-placement*="right"] .${Tn.arrow}`]:{right:0,marginRight:"-0.71em"}}},{props:({ownerState:t})=>t.arrow&&!t.isRtl,style:{[`&[data-popper-placement*="left"] .${Tn.arrow}`]:{right:0,marginRight:"-0.71em"}}},{props:({ownerState:t})=>t.arrow&&!!t.isRtl,style:{[`&[data-popper-placement*="left"] .${Tn.arrow}`]:{left:0,marginLeft:"-0.71em"}}}]}))),zne=Oe("div",{name:"MuiTooltip",slot:"Tooltip",overridesResolver:(e,t)=>{const{ownerState:i}=e;return[t.tooltip,i.touch&&t.touch,i.arrow&&t.tooltipArrow,t[`tooltipPlacement${ke(i.placement.split("-")[0])}`]]}})(Kt(({theme:e})=>({backgroundColor:e.vars?e.vars.palette.Tooltip.bg:zi(e.palette.grey[700],.92),borderRadius:(e.vars||e).shape.borderRadius,color:(e.vars||e).palette.common.white,fontFamily:e.typography.fontFamily,padding:"4px 8px",fontSize:e.typography.pxToRem(11),maxWidth:300,margin:2,wordWrap:"break-word",fontWeight:e.typography.fontWeightMedium,[`.${Tn.popper}[data-popper-placement*="left"] &`]:{transformOrigin:"right center"},[`.${Tn.popper}[data-popper-placement*="right"] &`]:{transformOrigin:"left center"},[`.${Tn.popper}[data-popper-placement*="top"] &`]:{transformOrigin:"center bottom",marginBottom:"14px"},[`.${Tn.popper}[data-popper-placement*="bottom"] &`]:{transformOrigin:"center top",marginTop:"14px"},variants:[{props:({ownerState:t})=>t.arrow,style:{position:"relative",margin:0}},{props:({ownerState:t})=>t.touch,style:{padding:"8px 16px",fontSize:e.typography.pxToRem(14),lineHeight:`${One(16/14)}em`,fontWeight:e.typography.fontWeightRegular}},{props:({ownerState:t})=>!t.isRtl,style:{[`.${Tn.popper}[data-popper-placement*="left"] &`]:{marginRight:"14px"},[`.${Tn.popper}[data-popper-placement*="right"] &`]:{marginLeft:"14px"}}},{props:({ownerState:t})=>!t.isRtl&&t.touch,style:{[`.${Tn.popper}[data-popper-placement*="left"] &`]:{marginRight:"24px"},[`.${Tn.popper}[data-popper-placement*="right"] &`]:{marginLeft:"24px"}}},{props:({ownerState:t})=>!!t.isRtl,style:{[`.${Tn.popper}[data-popper-placement*="left"] &`]:{marginLeft:"14px"},[`.${Tn.popper}[data-popper-placement*="right"] &`]:{marginRight:"14px"}}},{props:({ownerState:t})=>!!t.isRtl&&t.touch,style:{[`.${Tn.popper}[data-popper-placement*="left"] &`]:{marginLeft:"24px"},[`.${Tn.popper}[data-popper-placement*="right"] &`]:{marginRight:"24px"}}},{props:({ownerState:t})=>t.touch,style:{[`.${Tn.popper}[data-popper-placement*="top"] &`]:{marginBottom:"24px"}}},{props:({ownerState:t})=>t.touch,style:{[`.${Tn.popper}[data-popper-placement*="bottom"] &`]:{marginTop:"24px"}}}]}))),Gne=Oe("span",{name:"MuiTooltip",slot:"Arrow",overridesResolver:(e,t)=>t.arrow})(Kt(({theme:e})=>({overflow:"hidden",position:"absolute",width:"1em",height:"0.71em",boxSizing:"border-box",color:e.vars?e.vars.palette.Tooltip.bg:zi(e.palette.grey[700],.9),"&::before":{content:'""',margin:"auto",display:"block",width:"100%",height:"100%",backgroundColor:"currentColor",transform:"rotate(45deg)"}})));let W0=!1;const DB=new Ox;let Sy={x:0,y:0};function U0(e,t){return(i,...n)=>{t&&t(i,...n),e(i,...n)}}const Hne=E.forwardRef(function(t,i){const n=kt({props:t,name:"MuiTooltip"}),{arrow:s=!1,children:r,classes:o,components:a={},componentsProps:l={},describeChild:u=!1,disableFocusListener:d=!1,disableHoverListener:p=!1,disableInteractive:f=!1,disableTouchListener:m=!1,enterDelay:y=100,enterNextDelay:C=0,enterTouchDelay:w=700,followCursor:b=!1,id:S,leaveDelay:M=0,leaveTouchDelay:D=1500,onClose:R,onOpen:A,open:k,placement:F="bottom",PopperComponent:P,PopperProps:L={},slotProps:z={},slots:H={},title:V,TransitionComponent:q,TransitionProps:K,...j}=n,Z=E.isValidElement(r)?r:B.jsx("span",{children:r}),W=Nc(),Y=Nx(),[G,U]=E.useState(),[te,ee]=E.useState(null),Q=E.useRef(!1),ue=f||b,de=Ef(),we=Ef(),ce=Ef(),pe=Ef(),[ae,xe]=cT({controlled:k,default:!1,name:"Tooltip",state:"open"});let Ie=ae;const Fe=zg(S),Me=E.useRef(),_e=bc(()=>{Me.current!==void 0&&(document.body.style.WebkitUserSelect=Me.current,Me.current=void 0),pe.clear()});E.useEffect(()=>_e,[_e]);const tt=Mt=>{DB.clear(),W0=!0,xe(!0),A&&!Ie&&A(Mt)},He=bc(Mt=>{DB.start(800+M,()=>{W0=!1}),xe(!1),R&&Ie&&R(Mt),de.start(W.transitions.duration.shortest,()=>{Q.current=!1})}),Ke=Mt=>{Q.current&&Mt.type!=="touchstart"||(G&&G.removeAttribute("title"),we.clear(),ce.clear(),y||W0&&C?we.start(W0?C:y,()=>{tt(Mt)}):tt(Mt))},yt=Mt=>{we.clear(),ce.start(M,()=>{He(Mt)})},[,qe]=E.useState(!1),Ve=Mt=>{rS(Mt.target)||(qe(!1),yt(Mt))},Pe=Mt=>{G||U(Mt.currentTarget),rS(Mt.target)&&(qe(!0),Ke(Mt))},Nt=Mt=>{Q.current=!0;const X=Z.props;X.onTouchStart&&X.onTouchStart(Mt)},Ct=Mt=>{Nt(Mt),ce.clear(),de.clear(),_e(),Me.current=document.body.style.WebkitUserSelect,document.body.style.WebkitUserSelect="none",pe.start(w,()=>{document.body.style.WebkitUserSelect=Me.current,Ke(Mt)})},Vi=Mt=>{Z.props.onTouchEnd&&Z.props.onTouchEnd(Mt),_e(),ce.start(D,()=>{He(Mt)})};E.useEffect(()=>{if(!Ie)return;function Mt(X){X.key==="Escape"&&He(X)}return document.addEventListener("keydown",Mt),()=>{document.removeEventListener("keydown",Mt)}},[He,Ie]);const Pi=Hn(fp(Z),U,i);!V&&V!==0&&(Ie=!1);const Ei=E.useRef(),Et=Mt=>{const X=Z.props;X.onMouseMove&&X.onMouseMove(Mt),Sy={x:Mt.clientX,y:Mt.clientY},Ei.current&&Ei.current.update()},ri={},as=typeof V=="string";u?(ri.title=!Ie&&as&&!p?V:null,ri["aria-describedby"]=Ie?Fe:null):(ri["aria-label"]=as?V:null,ri["aria-labelledby"]=Ie&&!as?Fe:null);const bt={...ri,...j,...Z.props,className:je(j.className,Z.props.className),onTouchStart:Nt,ref:Pi,...b?{onMouseMove:Et}:{}},ws={};m||(bt.onTouchStart=Ct,bt.onTouchEnd=Vi),p||(bt.onMouseOver=U0(Ke,bt.onMouseOver),bt.onMouseLeave=U0(yt,bt.onMouseLeave),ue||(ws.onMouseOver=Ke,ws.onMouseLeave=yt)),d||(bt.onFocus=U0(Pe,bt.onFocus),bt.onBlur=U0(Ve,bt.onBlur),ue||(ws.onFocus=Pe,ws.onBlur=Ve));const Cn={...n,isRtl:Y,arrow:s,disableInteractive:ue,placement:F,PopperComponentProp:P,touch:Q.current},di=typeof z.popper=="function"?z.popper(Cn):z.popper,ot=E.useMemo(()=>{var X,se;let Mt=[{name:"arrow",enabled:!!te,options:{element:te,padding:4}}];return(X=L.popperOptions)!=null&&X.modifiers&&(Mt=Mt.concat(L.popperOptions.modifiers)),(se=di==null?void 0:di.popperOptions)!=null&&se.modifiers&&(Mt=Mt.concat(di.popperOptions.modifiers)),{...L.popperOptions,...di==null?void 0:di.popperOptions,modifiers:Mt}},[te,L.popperOptions,di==null?void 0:di.popperOptions]),Pt=Nne(Cn),_t=typeof z.transition=="function"?z.transition(Cn):z.transition,_s={slots:{popper:a.Popper,transition:a.Transition??q,tooltip:a.Tooltip,arrow:a.Arrow,...H},slotProps:{arrow:z.arrow??l.arrow,popper:{...L,...di??l.popper},tooltip:z.tooltip??l.tooltip,transition:{...K,..._t??l.transition}}},[$a,gm]=li("popper",{elementType:Bne,externalForwardedProps:_s,ownerState:Cn,className:je(Pt.popper,L==null?void 0:L.className)}),[_l,Jc]=li("transition",{elementType:dS,externalForwardedProps:_s,ownerState:Cn}),[fo,aa]=li("tooltip",{elementType:zne,className:Pt.tooltip,externalForwardedProps:_s,ownerState:Cn}),[go,mm]=li("arrow",{elementType:Gne,className:Pt.arrow,externalForwardedProps:_s,ownerState:Cn,ref:ee});return B.jsxs(E.Fragment,{children:[E.cloneElement(Z,bt),B.jsx($a,{as:P??u_,placement:F,anchorEl:b?{getBoundingClientRect:()=>({top:Sy.y,left:Sy.x,right:Sy.x,bottom:Sy.y,width:0,height:0})}:G,popperRef:Ei,open:G?Ie:!1,id:Fe,transition:!0,...ws,...gm,popperOptions:ot,children:({TransitionProps:Mt})=>B.jsx(_l,{timeout:W.transitions.duration.shorter,...Mt,...Jc,children:B.jsxs(fo,{...aa,children:[V,s?B.jsx(go,{...mm}):null]})})})]})}),_ne=BX({createStyledComponent:Oe("div",{name:"MuiStack",slot:"Root",overridesResolver:(e,t)=>t.root}),useThemeProps:e=>kt({props:e,name:"MuiStack"})});function jne(e){return Tt("MuiTextField",e)}Rt("MuiTextField",["root"]);const Vne={standard:oL,filled:rL,outlined:lL},Wne=e=>{const{classes:t}=e;return At({root:["root"]},jne,t)},Une=Oe(uS,{name:"MuiTextField",slot:"Root",overridesResolver:(e,t)=>t.root})({}),Yn=E.forwardRef(function(t,i){const n=kt({props:t,name:"MuiTextField"}),{autoComplete:s,autoFocus:r=!1,children:o,className:a,color:l="primary",defaultValue:u,disabled:d=!1,error:p=!1,FormHelperTextProps:f,fullWidth:m=!1,helperText:y,id:C,InputLabelProps:w,inputProps:b,InputProps:S,inputRef:M,label:D,maxRows:R,minRows:A,multiline:k=!1,name:F,onBlur:P,onChange:L,onFocus:z,placeholder:H,required:V=!1,rows:q,select:K=!1,SelectProps:j,slots:Z={},slotProps:W={},type:Y,value:G,variant:U="outlined",...te}=n,ee={...n,autoFocus:r,color:l,disabled:d,error:p,fullWidth:m,multiline:k,required:V,select:K,variant:U},Q=Wne(ee),ue=zg(C),de=y&&ue?`${ue}-helper-text`:void 0,we=D&&ue?`${ue}-label`:void 0,ce=Vne[U],pe={slots:Z,slotProps:{input:S,inputLabel:w,htmlInput:b,formHelperText:f,select:j,...W}},ae={},xe=pe.slotProps.inputLabel;U==="outlined"&&(xe&&typeof xe.shrink<"u"&&(ae.notched=xe.shrink),ae.label=D),K&&((!j||!j.native)&&(ae.id=void 0),ae["aria-describedby"]=void 0);const[Ie,Fe]=li("root",{elementType:Une,shouldForwardComponentProp:!0,externalForwardedProps:{...pe,...te},ownerState:ee,className:je(Q.root,a),ref:i,additionalProps:{disabled:d,error:p,fullWidth:m,required:V,color:l,variant:U}}),[Me,_e]=li("input",{elementType:ce,externalForwardedProps:pe,additionalProps:ae,ownerState:ee}),[tt,He]=li("inputLabel",{elementType:v_,externalForwardedProps:pe,ownerState:ee}),[Ke,yt]=li("htmlInput",{elementType:"input",externalForwardedProps:pe,ownerState:ee}),[qe,Ve]=li("formHelperText",{elementType:vie,externalForwardedProps:pe,ownerState:ee}),[Pe,Nt]=li("select",{elementType:uL,externalForwardedProps:pe,ownerState:ee}),Ct=B.jsx(Me,{"aria-describedby":de,autoComplete:s,autoFocus:r,defaultValue:u,fullWidth:m,multiline:k,name:F,rows:q,maxRows:R,minRows:A,type:Y,value:G,id:ue,inputRef:M,onBlur:P,onChange:L,onFocus:z,placeholder:H,inputProps:yt,slots:{input:Z.htmlInput?Ke:void 0},..._e});return B.jsxs(Ie,{...Fe,children:[D!=null&&D!==""&&B.jsx(tt,{htmlFor:ue,id:we,...He,children:D}),K?B.jsx(Pe,{"aria-describedby":de,id:ue,labelId:we,value:G,input:Ct,...Nt,children:o}):Ct,y&&B.jsx(qe,{id:de,...Ve,children:y})]})}),$ne="/assets/logo-akbSUgTZ.png";function Yne(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css",t.firstChild?t.insertBefore(i,t.firstChild):t.appendChild(i),i.styleSheet?i.styleSheet.cssText=e:i.appendChild(document.createTextNode(e))}Yne(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var LC=e=>typeof e=="number"&&!isNaN(e),Zh=e=>typeof e=="string",Lc=e=>typeof e=="function",Kne=e=>Zh(e)||LC(e),IT=e=>Zh(e)||Lc(e)?e:null,qne=(e,t)=>e===!1||LC(e)&&e>0?e:t,LT=e=>E.isValidElement(e)||Zh(e)||Lc(e)||LC(e);function Zne(e,t,i=300){let{scrollHeight:n,style:s}=e;requestAnimationFrame(()=>{s.minHeight="initial",s.height=n+"px",s.transition=`all ${i}ms`,requestAnimationFrame(()=>{s.height="0",s.padding="0",s.margin="0",setTimeout(t,i)})})}function Xne({enter:e,exit:t,appendPosition:i=!1,collapse:n=!0,collapseDuration:s=300}){return function({children:r,position:o,preventExitTransition:a,done:l,nodeRef:u,isIn:d,playToast:p}){let f=i?`${e}--${o}`:e,m=i?`${t}--${o}`:t,y=E.useRef(0);return E.useLayoutEffect(()=>{let C=u.current,w=f.split(" "),b=S=>{S.target===u.current&&(p(),C.removeEventListener("animationend",b),C.removeEventListener("animationcancel",b),y.current===0&&S.type!=="animationcancel"&&C.classList.remove(...w))};C.classList.add(...w),C.addEventListener("animationend",b),C.addEventListener("animationcancel",b)},[]),E.useEffect(()=>{let C=u.current,w=()=>{C.removeEventListener("animationend",w),n?Zne(C,l,s):l()};d||(a?w():(y.current=1,C.className+=` ${m}`,C.addEventListener("animationend",w)))},[d]),fe.createElement(fe.Fragment,null,r)}}function RB(e,t){return{content:D_(e.content,e.props),containerId:e.props.containerId,id:e.props.toastId,theme:e.props.theme,type:e.props.type,data:e.props.data||{},isLoading:e.props.isLoading,icon:e.props.icon,reason:e.removalReason,status:t}}function D_(e,t,i=!1){return E.isValidElement(e)&&!Zh(e.type)?E.cloneElement(e,{closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:i}):Lc(e)?e({closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:i}):e}function Qne({closeToast:e,theme:t,ariaLabel:i="close"}){return fe.createElement("button",{className:`Toastify__close-button Toastify__close-button--${t}`,type:"button",onClick:n=>{n.stopPropagation(),e(!0)},"aria-label":i},fe.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},fe.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function Jne({delay:e,isRunning:t,closeToast:i,type:n="default",hide:s,className:r,controlledProgress:o,progress:a,rtl:l,isIn:u,theme:d}){let p=s||o&&a===0,f={animationDuration:`${e}ms`,animationPlayState:t?"running":"paused"};o&&(f.transform=`scaleX(${a})`);let m=je("Toastify__progress-bar",o?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${d}`,`Toastify__progress-bar--${n}`,{"Toastify__progress-bar--rtl":l}),y=Lc(r)?r({rtl:l,type:n,defaultClassName:m}):je(m,r),C={[o&&a>=1?"onTransitionEnd":"onAnimationEnd"]:o&&a<1?null:()=>{u&&i()}};return fe.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":p},fe.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${d} Toastify__progress-bar--${n}`}),fe.createElement("div",{role:"progressbar","aria-hidden":p?"true":"false","aria-label":"notification timer",className:y,style:f,...C}))}var ese=1,R_=()=>`${ese++}`;function tse(e,t,i){let n=1,s=0,r=[],o=[],a=t,l=new Map,u=new Set,d=S=>(u.add(S),()=>u.delete(S)),p=()=>{o=Array.from(l.values()),u.forEach(S=>S())},f=({containerId:S,toastId:M,updateId:D})=>{let R=S?S!==e:e!==1,A=l.has(M)&&D==null;return R||A},m=(S,M)=>{l.forEach(D=>{var R;(M==null||M===D.props.toastId)&&((R=D.toggle)==null||R.call(D,S))})},y=S=>{var M,D;(D=(M=S.props)==null?void 0:M.onClose)==null||D.call(M,S.removalReason),S.isActive=!1},C=S=>{if(S==null)l.forEach(y);else{let M=l.get(S);M&&y(M)}p()},w=()=>{s-=r.length,r=[]},b=S=>{var M,D;let{toastId:R,updateId:A}=S.props,k=A==null;S.staleId&&l.delete(S.staleId),S.isActive=!0,l.set(R,S),p(),i(RB(S,k?"added":"updated")),k&&((D=(M=S.props).onOpen)==null||D.call(M))};return{id:e,props:a,observe:d,toggle:m,removeToast:C,toasts:l,clearQueue:w,buildToast:(S,M)=>{if(f(M))return;let{toastId:D,updateId:R,data:A,staleId:k,delay:F}=M,P=R==null;P&&s++;let L={...a,style:a.toastStyle,key:n++,...Object.fromEntries(Object.entries(M).filter(([H,V])=>V!=null)),toastId:D,updateId:R,data:A,isIn:!1,className:IT(M.className||a.toastClassName),progressClassName:IT(M.progressClassName||a.progressClassName),autoClose:M.isLoading?!1:qne(M.autoClose,a.autoClose),closeToast(H){l.get(D).removalReason=H,C(D)},deleteToast(){let H=l.get(D);if(H!=null){if(i(RB(H,"removed")),l.delete(D),s--,s<0&&(s=0),r.length>0){b(r.shift());return}p()}}};L.closeButton=a.closeButton,M.closeButton===!1||LT(M.closeButton)?L.closeButton=M.closeButton:M.closeButton===!0&&(L.closeButton=LT(a.closeButton)?a.closeButton:!0);let z={content:S,props:L,staleId:k};a.limit&&a.limit>0&&s>a.limit&&P?r.push(z):LC(F)?setTimeout(()=>{b(z)},F):b(z)},setProps(S){a=S},setToggle:(S,M)=>{let D=l.get(S);D&&(D.toggle=M)},isToastActive:S=>{var M;return(M=l.get(S))==null?void 0:M.isActive},getSnapshot:()=>o}}var hr=new Map,Iv=[],kT=new Set,ise=e=>kT.forEach(t=>t(e)),E_=()=>hr.size>0;function nse(){Iv.forEach(e=>A_(e.content,e.options)),Iv=[]}var sse=(e,{containerId:t})=>{var i;return(i=hr.get(t||1))==null?void 0:i.toasts.get(e)};function T_(e,t){var i;if(t)return!!((i=hr.get(t))!=null&&i.isToastActive(e));let n=!1;return hr.forEach(s=>{s.isToastActive(e)&&(n=!0)}),n}function rse(e){if(!E_()){Iv=Iv.filter(t=>e!=null&&t.options.toastId!==e);return}if(e==null||Kne(e))hr.forEach(t=>{t.removeToast(e)});else if(e&&("containerId"in e||"id"in e)){let t=hr.get(e.containerId);t?t.removeToast(e.id):hr.forEach(i=>{i.removeToast(e.id)})}}var ose=(e={})=>{hr.forEach(t=>{t.props.limit&&(!e.containerId||t.id===e.containerId)&&t.clearQueue()})};function A_(e,t){LT(e)&&(E_()||Iv.push({content:e,options:t}),hr.forEach(i=>{i.buildToast(e,t)}))}function ase(e){var t;(t=hr.get(e.containerId||1))==null||t.setToggle(e.id,e.fn)}function I_(e,t){hr.forEach(i=>{(t==null||!(t!=null&&t.containerId)||(t==null?void 0:t.containerId)===i.id)&&i.toggle(e,t==null?void 0:t.id)})}function lse(e){let t=e.containerId||1;return{subscribe(i){let n=tse(t,e,ise);hr.set(t,n);let s=n.observe(i);return nse(),()=>{s(),hr.delete(t)}},setProps(i){var n;(n=hr.get(t))==null||n.setProps(i)},getSnapshot(){var i;return(i=hr.get(t))==null?void 0:i.getSnapshot()}}}function cse(e){return kT.add(e),()=>{kT.delete(e)}}function use(e){return e&&(Zh(e.toastId)||LC(e.toastId))?e.toastId:R_()}function kC(e,t){return A_(e,t),t.toastId}function Ux(e,t){return{...t,type:t&&t.type||e,toastId:use(t)}}function $x(e){return(t,i)=>kC(t,Ux(e,i))}function Gt(e,t){return kC(e,Ux("default",t))}Gt.loading=(e,t)=>kC(e,Ux("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...t}));function dse(e,{pending:t,error:i,success:n},s){let r;t&&(r=Zh(t)?Gt.loading(t,s):Gt.loading(t.render,{...s,...t}));let o={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},a=(u,d,p)=>{if(d==null){Gt.dismiss(r);return}let f={type:u,...o,...s,data:p},m=Zh(d)?{render:d}:d;return r?Gt.update(r,{...f,...m}):Gt(m.render,{...f,...m}),p},l=Lc(e)?e():e;return l.then(u=>a("success",n,u)).catch(u=>a("error",i,u)),l}Gt.promise=dse;Gt.success=$x("success");Gt.info=$x("info");Gt.error=$x("error");Gt.warning=$x("warning");Gt.warn=Gt.warning;Gt.dark=(e,t)=>kC(e,Ux("default",{theme:"dark",...t}));function hse(e){rse(e)}Gt.dismiss=hse;Gt.clearWaitingQueue=ose;Gt.isActive=T_;Gt.update=(e,t={})=>{let i=sse(e,t);if(i){let{props:n,content:s}=i,r={delay:100,...n,...t,toastId:t.toastId||e,updateId:R_()};r.toastId!==e&&(r.staleId=e);let o=r.render||s;delete r.render,kC(o,r)}};Gt.done=e=>{Gt.update(e,{progress:1})};Gt.onChange=cse;Gt.play=e=>I_(!0,e);Gt.pause=e=>I_(!1,e);function pse(e){var t;let{subscribe:i,getSnapshot:n,setProps:s}=E.useRef(lse(e)).current;s(e);let r=(t=E.useSyncExternalStore(i,n,n))==null?void 0:t.slice();function o(a){if(!r)return[];let l=new Map;return e.newestOnTop&&r.reverse(),r.forEach(u=>{let{position:d}=u.props;l.has(d)||l.set(d,[]),l.get(d).push(u)}),Array.from(l,u=>a(u[0],u[1]))}return{getToastToRender:o,isToastActive:T_,count:r==null?void 0:r.length}}function fse(e){let[t,i]=E.useState(!1),[n,s]=E.useState(!1),r=E.useRef(null),o=E.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:a,pauseOnHover:l,closeToast:u,onClick:d,closeOnClick:p}=e;ase({id:e.toastId,containerId:e.containerId,fn:i}),E.useEffect(()=>{if(e.pauseOnFocusLoss)return f(),()=>{m()}},[e.pauseOnFocusLoss]);function f(){document.hasFocus()||b(),window.addEventListener("focus",w),window.addEventListener("blur",b)}function m(){window.removeEventListener("focus",w),window.removeEventListener("blur",b)}function y(k){if(e.draggable===!0||e.draggable===k.pointerType){S();let F=r.current;o.canCloseOnClick=!0,o.canDrag=!0,F.style.transition="none",e.draggableDirection==="x"?(o.start=k.clientX,o.removalDistance=F.offsetWidth*(e.draggablePercent/100)):(o.start=k.clientY,o.removalDistance=F.offsetHeight*(e.draggablePercent===80?e.draggablePercent*1.5:e.draggablePercent)/100)}}function C(k){let{top:F,bottom:P,left:L,right:z}=r.current.getBoundingClientRect();k.nativeEvent.type!=="touchend"&&e.pauseOnHover&&k.clientX>=L&&k.clientX<=z&&k.clientY>=F&&k.clientY<=P?b():w()}function w(){i(!0)}function b(){i(!1)}function S(){o.didMove=!1,document.addEventListener("pointermove",D),document.addEventListener("pointerup",R)}function M(){document.removeEventListener("pointermove",D),document.removeEventListener("pointerup",R)}function D(k){let F=r.current;if(o.canDrag&&F){o.didMove=!0,t&&b(),e.draggableDirection==="x"?o.delta=k.clientX-o.start:o.delta=k.clientY-o.start,o.start!==k.clientX&&(o.canCloseOnClick=!1);let P=e.draggableDirection==="x"?`${o.delta}px, var(--y)`:`0, calc(${o.delta}px + var(--y))`;F.style.transform=`translate3d(${P},0)`,F.style.opacity=`${1-Math.abs(o.delta/o.removalDistance)}`}}function R(){M();let k=r.current;if(o.canDrag&&o.didMove&&k){if(o.canDrag=!1,Math.abs(o.delta)>o.removalDistance){s(!0),e.closeToast(!0),e.collapseAll();return}k.style.transition="transform 0.2s, opacity 0.2s",k.style.removeProperty("transform"),k.style.removeProperty("opacity")}}let A={onPointerDown:y,onPointerUp:C};return a&&l&&(A.onMouseEnter=b,e.stacked||(A.onMouseLeave=w)),p&&(A.onClick=k=>{d&&d(k),o.canCloseOnClick&&u(!0)}),{playToast:w,pauseToast:b,isRunning:t,preventExitTransition:n,toastRef:r,eventHandlers:A}}var gse=typeof window<"u"?E.useLayoutEffect:E.useEffect,Yx=({theme:e,type:t,isLoading:i,...n})=>fe.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:e==="colored"?"currentColor":`var(--toastify-icon-color-${t})`,...n});function mse(e){return fe.createElement(Yx,{...e},fe.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function yse(e){return fe.createElement(Yx,{...e},fe.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function vse(e){return fe.createElement(Yx,{...e},fe.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function Cse(e){return fe.createElement(Yx,{...e},fe.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function bse(){return fe.createElement("div",{className:"Toastify__spinner"})}var PT={info:yse,warning:mse,success:vse,error:Cse,spinner:bse},wse=e=>e in PT;function Sse({theme:e,type:t,isLoading:i,icon:n}){let s=null,r={theme:e,type:t};return n===!1||(Lc(n)?s=n({...r,isLoading:i}):E.isValidElement(n)?s=E.cloneElement(n,r):i?s=PT.spinner():wse(t)&&(s=PT[t](r))),s}var xse=e=>{let{isRunning:t,preventExitTransition:i,toastRef:n,eventHandlers:s,playToast:r}=fse(e),{closeButton:o,children:a,autoClose:l,onClick:u,type:d,hideProgressBar:p,closeToast:f,transition:m,position:y,className:C,style:w,progressClassName:b,updateId:S,role:M,progress:D,rtl:R,toastId:A,deleteToast:k,isIn:F,isLoading:P,closeOnClick:L,theme:z,ariaLabel:H}=e,V=je("Toastify__toast",`Toastify__toast-theme--${z}`,`Toastify__toast--${d}`,{"Toastify__toast--rtl":R},{"Toastify__toast--close-on-click":L}),q=Lc(C)?C({rtl:R,position:y,type:d,defaultClassName:V}):je(V,C),K=Sse(e),j=!!D||!l,Z={closeToast:f,type:d,theme:z},W=null;return o===!1||(Lc(o)?W=o(Z):E.isValidElement(o)?W=E.cloneElement(o,Z):W=Qne(Z)),fe.createElement(m,{isIn:F,done:k,position:y,preventExitTransition:i,nodeRef:n,playToast:r},fe.createElement("div",{id:A,tabIndex:0,onClick:u,"data-in":F,className:q,...s,style:w,ref:n,...F&&{role:M,"aria-label":H}},K!=null&&fe.createElement("div",{className:je("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!P})},K),D_(a,e,!t),W,!e.customProgressBar&&fe.createElement(Jne,{...S&&!j?{key:`p-${S}`}:{},rtl:R,theme:z,delay:l,isRunning:t,isIn:F,closeToast:f,hide:p,type:d,className:b,controlledProgress:j,progress:D||0})))},Mse=(e,t=!1)=>({enter:`Toastify--animate Toastify__${e}-enter`,exit:`Toastify--animate Toastify__${e}-exit`,appendPosition:t}),Dse=Xne(Mse("bounce",!0)),Rse={position:"top-right",transition:Dse,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:e=>e.altKey&&e.code==="KeyT"};function Ese(e){let t={...Rse,...e},i=e.stacked,[n,s]=E.useState(!0),r=E.useRef(null),{getToastToRender:o,isToastActive:a,count:l}=pse(t),{className:u,style:d,rtl:p,containerId:f,hotKeys:m}=t;function y(w){let b=je("Toastify__toast-container",`Toastify__toast-container--${w}`,{"Toastify__toast-container--rtl":p});return Lc(u)?u({position:w,rtl:p,defaultClassName:b}):je(b,IT(u))}function C(){i&&(s(!0),Gt.play())}return gse(()=>{var w;if(i){let b=r.current.querySelectorAll('[data-in="true"]'),S=12,M=(w=t.position)==null?void 0:w.includes("top"),D=0,R=0;Array.from(b).reverse().forEach((A,k)=>{let F=A;F.classList.add("Toastify__toast--stacked"),k>0&&(F.dataset.collapsed=`${n}`),F.dataset.pos||(F.dataset.pos=M?"top":"bot");let P=D*(n?.2:1)+(n?0:S*k);F.style.setProperty("--y",`${M?P:P*-1}px`),F.style.setProperty("--g",`${S}`),F.style.setProperty("--s",`${1-(n?R:0)}`),D+=F.offsetHeight,R+=.025})}},[n,l,i]),E.useEffect(()=>{function w(b){var S;let M=r.current;m(b)&&((S=M.querySelector('[tabIndex="0"]'))==null||S.focus(),s(!1),Gt.pause()),b.key==="Escape"&&(document.activeElement===M||M!=null&&M.contains(document.activeElement))&&(s(!0),Gt.play())}return document.addEventListener("keydown",w),()=>{document.removeEventListener("keydown",w)}},[m]),fe.createElement("section",{ref:r,className:"Toastify",id:f,onMouseEnter:()=>{i&&(s(!1),Gt.pause())},onMouseLeave:C,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":t["aria-label"]},o((w,b)=>{let S=b.length?{...d}:{...d,pointerEvents:"none"};return fe.createElement("div",{tabIndex:-1,className:y(w),"data-stacked":i,style:S,key:`c-${w}`},b.map(({content:M,props:D})=>fe.createElement(xse,{...D,stacked:i,collapseAll:C,isIn:a(D.toastId,D.containerId),key:`t-${D.key}`},M)))}))}const Tse=({user:e})=>{const t=pp(),i=()=>{localStorage.removeItem("token"),Gt.success("Вы вышли из системы"),t("/login")},n=s=>{if(!s)return"Пользователь";const r=s.split(" ");return r.length===1?r[0]:`${r[0]} ${r[1].charAt(0).toUpperCase()}.`};return B.jsx("header",{style:{position:"sticky",top:0,left:0,right:0,zIndex:1e3,backgroundColor:"white"},children:B.jsxs(Yt,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"10px 20px",borderBottom:"1px solid #ccc"},children:[B.jsxs(EI,{to:"/",style:{textDecoration:"none",color:"inherit",display:"flex",alignItems:"center",gap:"15px"},children:[B.jsx("img",{src:$ne,alt:"logo",width:75,height:75}),B.jsx(pt,{variant:"h4",fontFamily:"",sx:{fontSize:{xs:16,md:24}},children:"AlmazOne"})]}),B.jsxs(Yt,{sx:{display:"flex",alignItems:"center",gap:2},children:[B.jsx(pt,{variant:"body1",sx:{color:"text.secondary",display:{xs:"none",md:"flex"},alignItems:"center",gap:1},children:new Date().toLocaleDateString("ru-RU",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}),B.jsx(Vx,{alt:e==null?void 0:e.name,sx:{width:40,height:40},children:e!=null&&e.name?e==null?void 0:e.name.charAt(0).toUpperCase():"П"}),B.jsx(pt,{variant:"body1",sx:{display:{xs:"none",md:"flex"}},children:n(e==null?void 0:e.name)||"Пользователь"}),B.jsx(Ar,{variant:"outlined",onClick:i,sx:{display:{md:"inline-flex"}},children:"Выйти"})]})]})})};var Xh=class{constructor(){this.allSyncListeners=new Map,this.allAsyncListeners=new Map,this.globalSyncListeners=new Set,this.globalAsyncListeners=new Set,this.asyncFunctionsQueue=[],this.scheduled=!1,this.firedEvents={}}setFrameworkOverrides(e){this.frameworkOverrides=e}getListeners(e,t,i){const n=t?this.allAsyncListeners:this.allSyncListeners;let s=n.get(e);return!s&&i&&(s=new Set,n.set(e,s)),s}noRegisteredListenersExist(){return this.allSyncListeners.size===0&&this.allAsyncListeners.size===0&&this.globalSyncListeners.size===0&&this.globalAsyncListeners.size===0}addEventListener(e,t,i=!1){this.getListeners(e,i,!0).add(t)}removeEventListener(e,t,i=!1){const n=this.getListeners(e,i,!1);n&&(n.delete(t),n.size===0&&(i?this.allAsyncListeners:this.allSyncListeners).delete(e))}addGlobalListener(e,t=!1){(t?this.globalAsyncListeners:this.globalSyncListeners).add(e)}removeGlobalListener(e,t=!1){(t?this.globalAsyncListeners:this.globalSyncListeners).delete(e)}dispatchEvent(e){const t=e;this.dispatchToListeners(t,!0),this.dispatchToListeners(t,!1),this.firedEvents[t.type]=!0}dispatchEventOnce(e){this.firedEvents[e.type]||this.dispatchEvent(e)}dispatchToListeners(e,t){const i=e.type;if(t&&"event"in e){const a=e.event;a instanceof Event&&(e.eventPath=a.composedPath())}const n=(a,l)=>a.forEach(u=>{if(!l.has(u))return;const d=this.frameworkOverrides?()=>this.frameworkOverrides.wrapIncoming(()=>u(e)):()=>u(e);t?this.dispatchAsync(d):d()}),s=this.getListeners(i,t,!1)??new Set,r=new Set(s);r.size>0&&n(r,s),new Set(t?this.globalAsyncListeners:this.globalSyncListeners).forEach(a=>{const l=this.frameworkOverrides?()=>this.frameworkOverrides.wrapIncoming(()=>a(i,e)):()=>a(i,e);t?this.dispatchAsync(l):l()})}dispatchAsync(e){if(this.asyncFunctionsQueue.push(e),!this.scheduled){const t=()=>{window.setTimeout(this.flushAsyncQueue.bind(this),0)};this.frameworkOverrides?this.frameworkOverrides.wrapIncoming(t):t(),this.scheduled=!0}}flushAsyncQueue(){this.scheduled=!1;const e=this.asyncFunctionsQueue.slice();this.asyncFunctionsQueue=[],e.forEach(t=>t())}};function Ase(e,t){return t}function L_(e){return(e==null?void 0:e.getLocaleTextFunc())??Ase}function Bc(e,t,i){i==null||typeof i=="string"&&i==""?k_(e,t):za(e,t,i)}function za(e,t,i){e.setAttribute(P_(t),i.toString())}function k_(e,t){e.removeAttribute(P_(t))}function P_(e){return`aria-${e}`}function La(e,t){t?e.setAttribute("role",t):e.removeAttribute("role")}function Ise(e){let t;return e==="asc"?t="ascending":e==="desc"?t="descending":e==="mixed"?t="other":t="none",t}function Lse(e){return e.getAttribute("aria-label")}function Kx(e,t){Bc(e,"label",t)}function FT(e,t){Bc(e,"labelledby",t)}function F_(e,t){Bc(e,"live",t)}function kse(e,t){Bc(e,"atomic",t)}function Pse(e,t){Bc(e,"relevant",t)}function Fse(e,t){Bc(e,"disabled",t)}function O_(e,t){Bc(e,"hidden",t)}function OT(e,t){za(e,"expanded",t)}function Ose(e,t){za(e,"setsize",t)}function Nse(e,t){za(e,"posinset",t)}function Bse(e,t){za(e,"rowcount",t)}function N_(e,t){za(e,"rowindex",t)}function zse(e,t){za(e,"rowspan",t)}function Gse(e,t){za(e,"colcount",t)}function B_(e,t){za(e,"colindex",t)}function Hse(e,t){za(e,"colspan",t)}function _se(e,t){za(e,"sort",t)}function jse(e){k_(e,"sort")}function NT(e,t){Bc(e,"selected",t)}function Vse(e,t){Bc(e,"controls",t.id),FT(t,e.id)}function dL(e,t){return t===void 0?e("ariaIndeterminate","indeterminate"):t===!0?e("ariaChecked","checked"):e("ariaUnchecked","unchecked")}var GE,HE,_E,jE,VE,BT,zT,WE;function hd(){return GE===void 0&&(GE=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)),GE}function z_(){if(HE===void 0){const e=window;HE=!!e.chrome&&(!!e.chrome.webstore||!!e.chrome.runtime)||/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)}return HE}function G_(){return _E===void 0&&(_E=/(firefox)/i.test(navigator.userAgent)),_E}function H_(){return jE===void 0&&(jE=/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform)),jE}function Ph(){return VE===void 0&&(VE=/iPad|iPhone|iPod/.test(navigator.platform)||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1),VE}function GT(e){if(!e)return null;const t=e.tabIndex,i=e.getAttribute("tabIndex");return t===-1&&(i===null||i===""&&!G_())?null:t.toString()}function Wse(){if(WE!==void 0)return WE;if(!document.body)return-1;let e=1e6;const t=G_()?6e6:1e9,i=document.createElement("div");for(document.body.appendChild(i);;){const n=e*2;if(i.style.height=n+"px",n>t||i.clientHeight!==n)break;e=n}return document.body.removeChild(i),WE=e,e}function Use(){return zT==null&&__(),zT}function __(){const e=document.body,t=document.createElement("div");t.style.width=t.style.height="100px",t.style.opacity="0",t.style.overflow="scroll",t.style.msOverflowStyle="scrollbar",t.style.position="absolute",e.appendChild(t);let i=t.offsetWidth-t.clientWidth;i===0&&t.clientWidth===0&&(i=null),t.parentNode&&t.parentNode.removeChild(t),i!=null&&(zT=i,BT=i===0)}function j_(){return BT==null&&__(),BT}var $0,$se="[tabindex], input, select, button, textarea, [href]",V_="[disabled], .ag-disabled:not(.ag-button), .ag-disabled *";function hL(e){const t=Element.prototype.matches||Element.prototype.msMatchesSelector,n=t.call(e,"input, select, button, textarea"),s=t.call(e,V_),r=Dl(e);return n&&!s&&r}function hn(e,t,i={}){const{skipAriaHidden:n}=i;e.classList.toggle("ag-hidden",!t),n||O_(e,!t)}function Yse(e,t,i={}){const{skipAriaHidden:n}=i;e.classList.toggle("ag-invisible",!t),n||O_(e,!t)}function Lv(e,t){const i="disabled",n=t?s=>s.setAttribute(i,""):s=>s.removeAttribute(i);n(e),Y_(e.querySelectorAll("input"),s=>n(s))}function Fh(e,t,i){let n=0;for(;e;){if(e.classList.contains(t))return!0;if(e=e.parentElement,typeof i=="number"){if(++n>i)break}else if(e===i)break}return!1}function mp(e){const{height:t,width:i,borderTopWidth:n,borderRightWidth:s,borderBottomWidth:r,borderLeftWidth:o,paddingTop:a,paddingRight:l,paddingBottom:u,paddingLeft:d,marginTop:p,marginRight:f,marginBottom:m,marginLeft:y,boxSizing:C}=window.getComputedStyle(e);return{height:parseFloat(t||"0"),width:parseFloat(i||"0"),borderTopWidth:parseFloat(n||"0"),borderRightWidth:parseFloat(s||"0"),borderBottomWidth:parseFloat(r||"0"),borderLeftWidth:parseFloat(o||"0"),paddingTop:parseFloat(a||"0"),paddingRight:parseFloat(l||"0"),paddingBottom:parseFloat(u||"0"),paddingLeft:parseFloat(d||"0"),marginTop:parseFloat(p||"0"),marginRight:parseFloat(f||"0"),marginBottom:parseFloat(m||"0"),marginLeft:parseFloat(y||"0"),boxSizing:C}}function pL(e){const t=mp(e);return t.boxSizing==="border-box"?t.height-t.paddingTop-t.paddingBottom:t.height}function kv(e){const t=mp(e);return t.boxSizing==="border-box"?t.width-t.paddingLeft-t.paddingRight:t.width}function W_(e){const{height:t,marginBottom:i,marginTop:n}=mp(e);return Math.floor(t+i+n)}function hS(e){const{width:t,marginLeft:i,marginRight:n}=mp(e);return Math.floor(t+i+n)}function U_(e){const t=e.getBoundingClientRect(),{borderTopWidth:i,borderLeftWidth:n,borderRightWidth:s,borderBottomWidth:r}=mp(e);return{top:t.top+(i||0),left:t.left+(n||0),right:t.right+(s||0),bottom:t.bottom+(r||0)}}function pS(){if(typeof $0=="boolean")return $0;const e=document.createElement("div");return e.style.direction="rtl",e.style.width="1px",e.style.height="1px",e.style.position="fixed",e.style.top="0px",e.style.overflow="hidden",e.dir="rtl",e.innerHTML=`<div style="width: 2px">
            <span style="display: inline-block; width: 1px"></span>
            <span style="display: inline-block; width: 1px"></span>
        </div>`,document.body.appendChild(e),e.scrollLeft=1,$0=Math.floor(e.scrollLeft)===0,document.body.removeChild(e),$0}function fS(e,t){let i=e.scrollLeft;return t&&(i=Math.abs(i),z_()&&!pS()&&(i=e.scrollWidth-e.getBoundingClientRect().width-i)),i}function gS(e,t,i){i&&(pS()?t*=-1:(hd()||z_())&&(t=e.scrollWidth-e.getBoundingClientRect().width-t)),e.scrollLeft=t}function no(e){for(;e&&e.firstChild;)e.removeChild(e.firstChild)}function Qh(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function $_(e){return!!e.offsetParent}function Dl(e){const t=e;return t.checkVisibility?t.checkVisibility({checkVisibilityCSS:!0}):!(!$_(e)||window.getComputedStyle(e).visibility!=="visible")}function Pv(e){const t=document.createElement("div");return t.innerHTML=(e||"").trim(),t.firstChild}function Kse(e){return e.clientWidth<e.scrollWidth}function qse(e){return e.clientHeight<e.scrollHeight}function mS(e,t){t==="flex"?(e.style.removeProperty("width"),e.style.removeProperty("minWidth"),e.style.removeProperty("maxWidth"),e.style.flex="1 1 auto"):bl(e,t)}function bl(e,t){t=fL(t),e.style.width=t.toString(),e.style.maxWidth=t.toString(),e.style.minWidth=t.toString()}function ev(e,t){t=fL(t),e.style.height=t.toString(),e.style.maxHeight=t.toString(),e.style.minHeight=t.toString()}function fL(e){return typeof e=="number"?`${e}px`:e}function gL(e){return e instanceof Node||e instanceof HTMLElement}function Zse(e){if(e==null)return[];const t=[];return Y_(e,i=>t.push(i)),t}function Xse(e,t){if(e)for(let i=0;i<e.length;i++){const n=e[i];t(n.name,n.value)}}function Yo(e,t,i){i==null||i===""?e.removeAttribute(t):e.setAttribute(t,i.toString())}function Y_(e,t){if(e!=null)for(let i=0;i<e.length;i++)t(e[i])}function zc(e,t,i){const s=tj(e).ResizeObserver,r=s?new s(i):null;return r==null||r.observe(t),()=>r==null?void 0:r.disconnect()}function wc(e){return e==null||e===""?null:e}function Ne(e){return e!=null&&e!==""}function qi(e){return!Ne(e)}function HT(e){return e!=null&&typeof e.toString=="function"?e.toString():null}function Fv(e,t){const i=e?JSON.stringify(e):null,n=t?JSON.stringify(t):null;return i===n}function Qse(e,t,i=!1){const n=e==null,s=t==null;if(e&&e.toNumber&&(e=e.toNumber()),t&&t.toNumber&&(t=t.toNumber()),n&&s)return 0;if(n)return-1;if(s)return 1;function r(o,a){return o>a?1:o<a?-1:0}if(typeof e!="string"||!i)return r(e,t);try{return e.localeCompare(t)}catch{return r(e,t)}}var K_="https://www.ag-grid.com",EB={};function q_(e,t){EB[t]||(e(),EB[t]=!0)}function Jh(e,t,...i){e.get("debug")&&console.log("AG Grid: "+t,...i)}function tv(e,...t){q_(()=>console.warn("AG Grid: "+e,...t),e+(t==null?void 0:t.join("")))}function Hf(e,...t){q_(()=>console.error("AG Grid: "+e,...t),e+(t==null?void 0:t.join("")))}var UE=[],$E=!1;function TB(e){UE.push(e),!$E&&($E=!0,window.setTimeout(()=>{const t=UE.slice();UE.length=0,$E=!1,t.forEach(i=>i())},0))}function Os(e,t,i){let n;return function(...s){const r=this;window.clearTimeout(n),n=window.setTimeout(function(){e.isAlive()&&t.apply(r,s)},i)}}function AB(e,t){let i=0;return function(...n){const s=this,r=new Date().getTime();r-i<t||(i=r,e.apply(s,n))}}function Jse(e,t,i=100,n){const s=new Date().getTime();let r=null,o=!1;const a=()=>{const l=new Date().getTime()-s>i;(e()||l)&&(t(),o=!0,r!=null&&(window.clearInterval(r),r=null))};a(),o||(r=window.setInterval(a,10))}var Ge="33.1.1",IB=2e3,LB=100,Z_="_version_",Aw=null,Oh=`${K_}/javascript-data-grid`;function ere(e){Aw=e}function tre(e){Oh=e}function X_(e,t,i){return(Aw==null?void 0:Aw.getConsoleMessage(e,t))??[rre(e,t,i)]}function mL(e,t,i,n){e(`error #${t}`,...X_(t,i,n))}function ire(e){if(!e)return String(e);const t={};for(const i of Object.keys(e))typeof e[i]!="object"&&typeof e[i]!="function"&&(t[i]=e[i]);return JSON.stringify(t)}function nre(e){let t=e;return e instanceof Error?t=e.toString():typeof e=="object"&&(t=ire(e)),t}function yS(e){return e===void 0?"undefined":e===null?"null":e}function _T(e,t){return`${e}?${t.toString()}`}function sre(e,t,i){const n=Array.from(t.entries()).sort((r,o)=>o[1].length-r[1].length);let s=_T(e,t);for(const[r,o]of n){if(r===Z_)continue;const a=s.length-i;if(a<=0)break;const l="...",u=a+l.length,d=o.length-u>LB?o.slice(0,o.length-u)+l:o.slice(0,LB)+l;t.set(r,d),s=_T(e,t)}return s}function Q_(e,t){const i=new URLSearchParams;if(i.append(Z_,Ge),t)for(const r of Object.keys(t))i.append(r,nre(t[r]));const n=`${Oh}/errors/${e}`,s=_T(n,i);return s.length<=IB?s:sre(n,i,IB)}var rre=(e,t,i)=>{const n=Q_(e,t);return`${i?i+` 
`:""}Visit ${n}${i?"":` 
  Alternatively register the ValidationModule to see the full message in the console.`}`};function Ae(...e){mL(tv,e[0],e[1])}function wi(...e){mL(Hf,e[0],e[1])}function jT(e,t,i){mL(Hf,e,t,i)}function ore(e,t){const i=t[0];return`error #${i} `+X_(i,t[1],e).join(" ")}function Zu(...e){return ore(void 0,e)}function J_(e,t){return e.get("rowModelType")===t}function $s(e,t){return J_(e,"clientSide")}function yp(e,t){return J_(e,"serverSide")}function Gs(e,t){return e.get("domLayout")===t}function Nh(e){return CS(e)!==void 0}function ej(e){return typeof e.get("getRowHeight")=="function"}function are(e,t){return t?!e.get("enableStrictPivotColumnOrder"):e.get("maintainColumnOrder")}function bg(e,t,i=!1,n){const{gos:s,environment:r}=e;if(n==null&&(n=r.getDefaultRowHeight()),ej(s)){if(i)return{height:n,estimated:!0};const l={node:t,data:t.data},u=s.getCallback("getRowHeight")(l);if(VT(u))return u===0&&Ae(23),{height:Math.max(1,u),estimated:!1}}if(t.detail&&s.get("masterDetail"))return lre(s);const o=s.get("rowHeight");return{height:o&&VT(o)?o:n,estimated:!1}}function lre(e){if(e.get("detailRowAutoHeight"))return{height:1,estimated:!1};const t=e.get("detailRowHeight");return VT(t)?{height:t,estimated:!1}:{height:300,estimated:!1}}function Bh(e){const{environment:t,gos:i}=e,n=i.get("rowHeight");if(!n||qi(n))return t.getDefaultRowHeight();const s=t.refreshRowHeightVariable();return s!==-1?s:(Ae(24),t.getDefaultRowHeight())}function VT(e){return!isNaN(e)&&typeof e=="number"&&isFinite(e)}function vS(e,t,i){const n=t[e.getDomDataKey()];return n?n[i]:void 0}function ep(e,t,i,n){const s=e.getDomDataKey();let r=t[s];qi(r)&&(r={},t[s]=r),r[i]=n}function An(e){const{gos:t,eGridDiv:i}=e;let n=null;const s=t.get("getDocument");return s&&Ne(s)?n=s():i&&(n=i.ownerDocument),n&&Ne(n)?n:document}function tj(e){return An(e).defaultView||window}function Ov(e){return e.eGridDiv.getRootNode()}function yn(e){return Ov(e).activeElement}function yL(e){let t=null,i=null;try{t=An(e).fullscreenElement}catch{}finally{t||(t=Ov(e));const n=t.querySelector("body");n?i=n:t instanceof ShadowRoot?i=t:t instanceof Document?i=t==null?void 0:t.documentElement:i=t}return i}function cre(e){const t=yL(e);return(t==null?void 0:t.clientWidth)??(window.innerHeight||-1)}function ure(e){const t=yL(e);return(t==null?void 0:t.clientHeight)??(window.innerHeight||-1)}function dre(e,t,i){const s=e.getBoundingClientRect().height,r=cre(i)-2,o=ure(i)-2;if(!e.offsetParent)return;const l=U_(e.offsetParent),{clientY:u,clientX:d}=t;let p=u-l.top-s/2,f=d-l.left-10;const m=An(i),y=m.defaultView||window,C=y.pageYOffset||m.documentElement.scrollTop,w=y.pageXOffset||m.documentElement.scrollLeft;r>0&&f+e.clientWidth>r+w&&(f=r+w-e.clientWidth),f<0&&(f=0),o>0&&p+e.clientHeight>o+C&&(p=o+C-e.clientHeight),p<0&&(p=0),e.style.left=`${f}px`,e.style.top=`${p}px`}function ij(e){const t=An(e),i=yn(e);return i===null||i===t.body}function _f(e){return e.get("ensureDomOrder")?!1:e.get("animateRows")}function nj(e){return!(e.get("paginateChildRows")||e.get("groupHideOpenParents")||Gs(e,"print"))}function fl(e){const t=e.get("autoGroupColumnDef");return!(t!=null&&t.comparator)&&!e.get("treeData")}function WT(e){const t=e.get("groupAggFiltering");if(typeof t=="function")return e.getCallback("groupAggFiltering");if(t===!0)return()=>!0}function hre(e){return e.exists("groupDisplayType")?e.get("groupDisplayType")==="multipleColumns":e.get("groupHideOpenParents")}function vL(e,t){return t?!1:e.get("groupDisplayType")==="groupRows"}function wg(e){const t=e.getCallback("getRowId");return t===void 0?t:i=>{let n=t(i);return typeof n!="string"&&(Ae(25,{id:n}),n=String(n)),n}}function pre(e,t){const i=e.get("groupHideParentOfSingleChild");return!!(i===!0||i==="leafGroupsOnly"&&t.leafGroup||e.get("groupRemoveSingleChildren")||e.get("groupRemoveLowestSingleChildren")&&t.leafGroup)}function fre(e){const t=e.get("maxConcurrentDatasourceRequests");return t>0?t:void 0}function jf(e){return(e==null?void 0:e.checkboxes)??!0}function Iw(e){return(e==null?void 0:e.mode)==="multiRow"&&(e.headerCheckbox??!0)}function UT(e){if(typeof e=="object")return e.checkboxLocation??"selectionColumn"}function YE(e){return(e==null?void 0:e.hideDisabledCheckboxes)??!1}function gre(e){return typeof e.get("rowSelection")!="string"}function nd(e){const t=e.get("cellSelection");return t!==void 0?!!t:e.get("enableRangeSelection")}function sj(e){const t=e.get("rowSelection")??"single";if(typeof t=="string"){const i=e.get("suppressRowClickSelection"),n=e.get("suppressRowDeselection");return i&&n?!1:i?"enableDeselection":n?"enableSelection":!0}return t.mode==="singleRow"||t.mode==="multiRow"?t.enableClickSelection??!1:!1}function mre(e){const t=sj(e);return t===!0||t==="enableSelection"}function yre(e){const t=sj(e);return t===!0||t==="enableDeselection"}function $T(e){const t=e.get("rowSelection");return typeof t=="string"?e.get("isRowSelectable"):t==null?void 0:t.isRowSelectable}function CS(e){const t="beanName"in e&&e.beanName==="gos"?e.get("rowSelection"):e.rowSelection;if(typeof t=="string")switch(t){case"multiple":return"multiRow";case"single":return"singleRow";default:return}switch(t==null?void 0:t.mode){case"multiRow":case"singleRow":return t.mode;default:return}}function bS(e){return CS(e)==="multiRow"}function vre(e){const t=e.get("rowSelection");return typeof t=="string"?e.get("rowMultiSelectWithClick"):(t==null?void 0:t.enableSelectionWithoutKeys)??!1}function wS(e){const t=e.get("rowSelection");if(typeof t=="string"){const i=e.get("groupSelectsChildren"),n=e.get("groupSelectsFiltered");return i&&n?"filteredDescendants":i?"descendants":"self"}return(t==null?void 0:t.mode)==="multiRow"?t.groupSelects:void 0}function rj(e,t=!0){const i=e.get("rowSelection");return typeof i!="object"?t?"all":void 0:i.mode==="multiRow"?i.selectAll:"all"}function Nv(e){const t=wS(e);return t==="descendants"||t==="filteredDescendants"}function kB(e){const t=e.get("rowSelection");return typeof t=="object"&&t.masterSelects||"self"}function KE(e){return e.isModuleRegistered("SetFilter")&&!e.get("suppressSetFilterByDefault")}function Kr(e){return e.get("columnMenu")==="legacy"}function Cre(e){return!Kr(e)}function oj(e){return!e||e.length<2?e:"on"+e[0].toUpperCase()+e.substring(1)}function bre(e,t,i){typeof e!="object"&&(e={});const n={...e};return i.forEach(s=>{const r=t[s];typeof r<"u"&&(n[s]=r)}),n}function wre(e,t){if(!e)return;const i={};let n=!1;if(Object.keys(e).forEach(o=>{i[o]=e[o],n=!0}),!n)return;const s={type:"gridOptionsChanged",options:i};t.dispatchEvent(s);const r={type:"componentStateChanged",...i};t.dispatchEvent(r)}function ut(e,t){return e.addGridCommonParams(t)}var aj="__ag_Grid_Stop_Propagation",Sre=["touchstart","touchend","touchmove","touchcancel","scroll"],xre=["wheel"],qE={};function Sg(e){e[aj]=!0}function Sc(e){return e[aj]===!0}var lj=(()=>{const e={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return i=>{if(typeof qE[i]=="boolean")return qE[i];const n=document.createElement(e[i]||"div");return i="on"+i,qE[i]=i in n}})();function cj(e,t,i){let n=t;for(;n;){const s=vS(e,n,i);if(s)return s;n=n.parentElement}return null}function Mre(e,t){return!t||!e?!1:Rre(t).indexOf(e)>=0}function Dre(e){const t=[];let i=e.target;for(;i;)t.push(i),i=i.parentElement;return t}function Rre(e){const t=e;return t.path?t.path:t.composedPath?t.composedPath():Dre(t)}function Ere(e,t,i,n){const s=uj(i);let r;s!=null&&(r={passive:s}),e&&e.addEventListener&&e.addEventListener(t,i,n,r)}var uj=e=>{const t=Sre.includes(e),i=xre.includes(e);if(t)return!0;if(i)return!1},ye=class{constructor(){this.destroyFunctions=[],this.destroyed=!1,this.__v_skip=!0,this.propertyListenerId=0,this.lastChangeSetIdLookup={},this.isAlive=()=>!this.destroyed}preWireBeans(e){this.beans=e,this.stubContext=e.context,this.eventSvc=e.eventSvc,this.gos=e.gos}destroy(){const{destroyFunctions:e}=this;for(let t=0;t<e.length;t++)e[t]();e.length=0,this.destroyed=!0,this.dispatchLocalEvent({type:"destroyed"})}addEventListener(e,t,i){this.localEventService||(this.localEventService=new Xh),this.localEventService.addEventListener(e,t,i)}removeEventListener(e,t,i){var n;(n=this.localEventService)==null||n.removeEventListener(e,t,i)}dispatchLocalEvent(e){var t;(t=this.localEventService)==null||t.dispatchEvent(e)}addManagedElementListeners(e,t){return this._setupListeners(e,t)}addManagedEventListeners(e){return this._setupListeners(this.eventSvc,e)}addManagedListeners(e,t){return this._setupListeners(e,t)}_setupListeners(e,t){const i=[];for(const n of Object.keys(t)){const s=t[n];s&&i.push(this._setupListener(e,n,s))}return i}_setupListener(e,t,i){if(this.destroyed)return()=>null;let n;return Tre(e)?(e.__addEventListener(t,i),n=()=>(e.__removeEventListener(t,i),null)):(e instanceof HTMLElement?Ere(this.beans.frameworkOverrides,e,t,i):e.addEventListener(t,i),n=()=>(e.removeEventListener(t,i),null)),this.destroyFunctions.push(n),()=>(n(),this.destroyFunctions=this.destroyFunctions.filter(s=>s!==n),null)}setupGridOptionListener(e,t){const{gos:i}=this;i.addPropertyEventListener(e,t);const n=()=>(i.removePropertyEventListener(e,t),null);return this.destroyFunctions.push(n),()=>(n(),this.destroyFunctions=this.destroyFunctions.filter(s=>s!==n),null)}addManagedPropertyListener(e,t){return this.destroyed?()=>null:this.setupGridOptionListener(e,t)}addManagedPropertyListeners(e,t){if(this.destroyed)return;const i=e.join("-")+this.propertyListenerId++,n=s=>{if(s.changeSet){if(s.changeSet&&s.changeSet.id===this.lastChangeSetIdLookup[i])return;this.lastChangeSetIdLookup[i]=s.changeSet.id}const r={type:"gridPropertyChanged",changeSet:s.changeSet,source:s.source};t(r)};e.forEach(s=>this.setupGridOptionListener(s,n))}getLocaleTextFunc(){return L_(this.beans.localeSvc)}addDestroyFunc(e){this.isAlive()?this.destroyFunctions.push(e):e()}createOptionalManagedBean(e,t){return e?this.createManagedBean(e,t):void 0}createManagedBean(e,t){const i=this.createBean(e,t);return this.addDestroyFunc(this.destroyBean.bind(this,e,t)),i}createBean(e,t,i){return(t||this.stubContext).createBean(e,i)}destroyBean(e,t){return(t||this.stubContext).destroyBean(e)}destroyBeans(e,t){return(t||this.stubContext).destroyBeans(e)}};function Tre(e){return e.__addEventListener!==void 0}var dj=new Set(["__proto__","constructor","prototype"]);function Are(e,t){if(e!=null){if(Array.isArray(e)){for(let i=0;i<e.length;i++)t(i.toString(),e[i]);return}for(const i of Object.keys(e))t(i,e[i])}}function Fr(e,t,i=!0,n=!1){Ne(t)&&Are(t,(s,r)=>{if(dj.has(s))return;let o=e[s];o!==r&&(n&&o==null&&r!=null&&typeof r=="object"&&r.constructor===Object&&(o={},e[s]=o),PB(r)&&PB(o)&&!Array.isArray(o)?Fr(o,r,i,n):(i||r!==void 0)&&(e[s]=r))})}function iv(e,t,i){if(!t||!e)return;if(!i)return e[t];const n=t.split(".");let s=e;for(let r=0;r<n.length;r++){if(s==null)return;s=s[n[r]]}return s}function PB(e){return typeof e=="object"&&e!==null}var Ire=/[&<>"']/g,Lre={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function xc(e,t){if(e==null)return null;const i=e.toString().toString();return t?i:i.replace(Ire,n=>Lre[n])}var kre={resizable:!0,sortable:!0},Pre=0;function hj(){return Pre++}function sd(e){return e instanceof CL}var CL=class extends ye{constructor(e,t,i,n){super(),this.colDef=e,this.userProvidedColDef=t,this.colId=i,this.primary=n,this.isColumn=!0,this.instanceId=hj(),this.autoHeaderHeight=null,this.moving=!1,this.menuVisible=!1,this.lastLeftPinned=!1,this.firstRightPinned=!1,this.filterActive=!1,this.colEventSvc=new Xh,this.tooltipEnabled=!1,this.rowGroupActive=!1,this.pivotActive=!1,this.aggregationActive=!1,this.flex=null,this.colIdSanitised=xc(i)}destroy(){var e;super.destroy(),(e=this.beans.rowSpanSvc)==null||e.deregister(this)}getInstanceId(){return this.instanceId}setState(){const{colDef:e,beans:{sortSvc:t,pinnedCols:i,colFlex:n}}=this;t==null||t.initCol(this);const s=e.hide;s!==void 0?this.visible=!s:this.visible=!e.initialHide,i==null||i.initCol(this),n==null||n.initCol(this)}setColDef(e,t,i){var s;const n=e.spanRows!==this.colDef.spanRows;this.colDef=e,this.userProvidedColDef=t,this.initMinAndMaxWidths(),this.initDotNotation(),this.initTooltip(),n&&((s=this.beans.rowSpanSvc)==null||s.deregister(this),this.initRowSpan()),this.dispatchColEvent("colDefChanged",i)}getUserProvidedColDef(){return this.userProvidedColDef}getParent(){return this.parent}getOriginalParent(){return this.originalParent}postConstruct(){this.setState(),this.initMinAndMaxWidths(),this.resetActualWidth("gridInitializing"),this.initDotNotation(),this.initTooltip(),this.initRowSpan()}initDotNotation(){const{gos:e,colDef:{field:t,tooltipField:i}}=this,n=e.get("suppressFieldDotNotation");this.fieldContainsDots=Ne(t)&&t.indexOf(".")>=0&&!n,this.tooltipFieldContainsDots=Ne(i)&&i.indexOf(".")>=0&&!n}initMinAndMaxWidths(){const e=this.colDef;this.minWidth=e.minWidth??this.beans.environment.getDefaultColumnMinWidth(),this.maxWidth=e.maxWidth??Number.MAX_SAFE_INTEGER}initTooltip(){var e;(e=this.beans.tooltipSvc)==null||e.initCol(this)}initRowSpan(){var e;this.colDef.spanRows&&((e=this.beans.rowSpanSvc)==null||e.register(this))}resetActualWidth(e){const t=this.calculateColInitialWidth(this.colDef);this.setActualWidth(t,e,!0)}calculateColInitialWidth(e){let t;const i=e.width,n=e.initialWidth;return i!=null?t=i:n!=null?t=n:t=200,Math.max(Math.min(t,this.maxWidth),this.minWidth)}isEmptyGroup(){return!1}isRowGroupDisplayed(e){var t;return((t=this.beans.showRowGroupCols)==null?void 0:t.isRowGroupDisplayed(this,e))??!1}isPrimary(){return this.primary}isFilterAllowed(){return!!this.colDef.filter}isFieldContainsDots(){return this.fieldContainsDots}isTooltipEnabled(){return this.tooltipEnabled}isTooltipFieldContainsDots(){return this.tooltipFieldContainsDots}getHighlighted(){return this.highlighted}__addEventListener(e,t){this.colEventSvc.addEventListener(e,t)}__removeEventListener(e,t){this.colEventSvc.removeEventListener(e,t)}addEventListener(e,t){var n,s,r;this.frameworkEventListenerService=(s=(n=this.beans.frameworkOverrides).createLocalEventListenerWrapper)==null?void 0:s.call(n,this.frameworkEventListenerService,this.colEventSvc);const i=((r=this.frameworkEventListenerService)==null?void 0:r.wrap(t))??t;this.colEventSvc.addEventListener(e,i)}removeEventListener(e,t){var n;const i=((n=this.frameworkEventListenerService)==null?void 0:n.unwrap(t))??t;this.colEventSvc.removeEventListener(e,i)}createColumnFunctionCallbackParams(e){return ut(this.gos,{node:e,data:e.data,column:this,colDef:this.colDef})}isSuppressNavigable(e){var t;return((t=this.beans.cellNavigation)==null?void 0:t.isSuppressNavigable(this,e))??!1}isCellEditable(e){var t;return((t=this.beans.editSvc)==null?void 0:t.isCellEditable(this,e))??!1}isSuppressFillHandle(){return!!this.colDef.suppressFillHandle}isAutoHeight(){return!!this.colDef.autoHeight}isAutoHeaderHeight(){return!!this.colDef.autoHeaderHeight}isRowDrag(e){return this.isColumnFunc(e,this.colDef.rowDrag)}isDndSource(e){return this.isColumnFunc(e,this.colDef.dndSource)}isCellCheckboxSelection(e){var t;return((t=this.beans.selectionSvc)==null?void 0:t.isCellCheckboxSelection(this,e))??!1}isSuppressPaste(e){var t;return this.isColumnFunc(e,((t=this.colDef)==null?void 0:t.suppressPaste)??null)}isResizable(){return!!this.getColDefValue("resizable")}getColDefValue(e){return this.colDef[e]??kre[e]}isColumnFunc(e,t){if(typeof t=="boolean")return t;if(typeof t=="function"){const i=this.createColumnFunctionCallbackParams(e);return t(i)}return!1}createColumnEvent(e,t){return ut(this.gos,{type:e,column:this,columns:[this],source:t})}isMoving(){return this.moving}getSort(){return this.sort}isSortable(){return!!this.getColDefValue("sortable")}isSortAscending(){return this.sort==="asc"}isSortDescending(){return this.sort==="desc"}isSortNone(){return qi(this.sort)}isSorting(){return Ne(this.sort)}getSortIndex(){return this.sortIndex}isMenuVisible(){return this.menuVisible}getAggFunc(){return this.aggFunc}getLeft(){return this.left}getOldLeft(){return this.oldLeft}getRight(){return this.left+this.actualWidth}setLeft(e,t){this.oldLeft=this.left,this.left!==e&&(this.left=e,this.dispatchColEvent("leftChanged",t))}isFilterActive(){return this.filterActive}isHovered(){var e;return Ae(261),!!((e=this.beans.colHover)!=null&&e.isHovered(this))}setFirstRightPinned(e,t){this.firstRightPinned!==e&&(this.firstRightPinned=e,this.dispatchColEvent("firstRightPinnedChanged",t))}setLastLeftPinned(e,t){this.lastLeftPinned!==e&&(this.lastLeftPinned=e,this.dispatchColEvent("lastLeftPinnedChanged",t))}isFirstRightPinned(){return this.firstRightPinned}isLastLeftPinned(){return this.lastLeftPinned}isPinned(){return this.pinned==="left"||this.pinned==="right"}isPinnedLeft(){return this.pinned==="left"}isPinnedRight(){return this.pinned==="right"}getPinned(){return this.pinned}setVisible(e,t){const i=e===!0;this.visible!==i&&(this.visible=i,this.dispatchColEvent("visibleChanged",t)),this.dispatchStateUpdatedEvent("hide")}isVisible(){return this.visible}isSpanHeaderHeight(){return!this.getColDef().suppressSpanHeaderHeight}getColumnGroupPaddingInfo(){let e=this.getParent();if(!e||!e.isPadding())return{numberOfParents:0,isSpanningTotal:!1};const t=e.getPaddingLevel()+1;let i=!0;for(;e;){if(!e.isPadding()){i=!1;break}e=e.getParent()}return{numberOfParents:t,isSpanningTotal:i}}getColDef(){return this.colDef}getDefinition(){return this.colDef}getColumnGroupShow(){return this.colDef.columnGroupShow}getColId(){return this.colId}getId(){return this.colId}getUniqueId(){return this.colId}getActualWidth(){return this.actualWidth}getAutoHeaderHeight(){return this.autoHeaderHeight}setAutoHeaderHeight(e){const t=e!==this.autoHeaderHeight;return this.autoHeaderHeight=e,t}createBaseColDefParams(e){return ut(this.gos,{node:e,data:e.data,colDef:this.colDef,column:this})}getColSpan(e){if(qi(this.colDef.colSpan))return 1;const t=this.createBaseColDefParams(e),i=this.colDef.colSpan(t);return Math.max(i,1)}getRowSpan(e){if(qi(this.colDef.rowSpan))return 1;const t=this.createBaseColDefParams(e),i=this.colDef.rowSpan(t);return Math.max(i,1)}setActualWidth(e,t,i=!1){e=Math.max(e,this.minWidth),e=Math.min(e,this.maxWidth),this.actualWidth!==e&&(this.actualWidth=e,this.flex!=null&&t!=="flex"&&t!=="gridInitializing"&&(this.flex=null),i||this.fireColumnWidthChangedEvent(t)),this.dispatchStateUpdatedEvent("width")}fireColumnWidthChangedEvent(e){this.dispatchColEvent("widthChanged",e)}isGreaterThanMax(e){return e>this.maxWidth}getMinWidth(){return this.minWidth}getMaxWidth(){return this.maxWidth}getFlex(){return this.flex}isRowGroupActive(){return this.rowGroupActive}isPivotActive(){return this.pivotActive}isAnyFunctionActive(){return this.isPivotActive()||this.isRowGroupActive()||this.isValueActive()}isAnyFunctionAllowed(){return this.isAllowPivot()||this.isAllowRowGroup()||this.isAllowValue()}isValueActive(){return this.aggregationActive}isAllowPivot(){return this.colDef.enablePivot===!0}isAllowValue(){return this.colDef.enableValue===!0}isAllowRowGroup(){return this.colDef.enableRowGroup===!0}dispatchColEvent(e,t,i){const n=this.createColumnEvent(e,t);i&&Fr(n,i),this.colEventSvc.dispatchEvent(n)}dispatchStateUpdatedEvent(e){this.colEventSvc.dispatchEvent({type:"columnStateUpdated",key:e})}};function cr(e){return e instanceof Lw}var Lw=class extends ye{constructor(e,t,i,n){super(),this.colGroupDef=e,this.groupId=t,this.padding=i,this.level=n,this.isColumn=!1,this.expandable=!1,this.instanceId=hj(),this.expandableListenerRemoveCallback=null,this.expanded=!!(e!=null&&e.openByDefault)}destroy(){this.expandableListenerRemoveCallback&&this.reset(null,void 0),super.destroy()}reset(e,t){this.colGroupDef=e,this.level=t,this.originalParent=null,this.expandableListenerRemoveCallback&&this.expandableListenerRemoveCallback(),this.children=void 0,this.expandable=void 0}getInstanceId(){return this.instanceId}getOriginalParent(){return this.originalParent}getLevel(){return this.level}isVisible(){return this.children?this.children.some(e=>e.isVisible()):!1}isPadding(){return this.padding}setExpanded(e){this.expanded=e===void 0?!1:e,this.dispatchLocalEvent({type:"expandedChanged"})}isExpandable(){return this.expandable}isExpanded(){return this.expanded}getGroupId(){return this.groupId}getId(){return this.getGroupId()}setChildren(e){this.children=e}getChildren(){return this.children}getColGroupDef(){return this.colGroupDef}getLeafColumns(){const e=[];return this.addLeafColumns(e),e}addLeafColumns(e){this.children&&this.children.forEach(t=>{sd(t)?e.push(t):cr(t)&&t.addLeafColumns(e)})}getColumnGroupShow(){const e=this.colGroupDef;if(e)return e.columnGroupShow}setupExpandable(){this.setExpandable(),this.expandableListenerRemoveCallback&&this.expandableListenerRemoveCallback();const e=this.onColumnVisibilityChanged.bind(this);this.getLeafColumns().forEach(t=>t.__addEventListener("visibleChanged",e)),this.expandableListenerRemoveCallback=()=>{this.getLeafColumns().forEach(t=>t.__removeEventListener("visibleChanged",e)),this.expandableListenerRemoveCallback=null}}setExpandable(){if(this.isPadding())return;let e=!1,t=!1,i=!1;const n=this.findChildrenRemovingPadding();for(let r=0,o=n.length;r<o;r++){const a=n[r];if(!a.isVisible())continue;const l=a.getColumnGroupShow();l==="open"?(e=!0,i=!0):l==="closed"?(t=!0,i=!0):(e=!0,t=!0)}const s=e&&t&&i;this.expandable!==s&&(this.expandable=s,this.dispatchLocalEvent({type:"expandableChanged"}))}findChildrenRemovingPadding(){const e=[],t=i=>{i.forEach(n=>{cr(n)&&n.isPadding()?t(n.children):e.push(n)})};return t(this.children),e}onColumnVisibilityChanged(){this.setExpandable()}},Fre={numericColumn:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"},rightAligned:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"}},Ore=class{constructor(){this.existingKeys={}}addExistingKeys(e){for(let t=0;t<e.length;t++)this.existingKeys[e[t]]=!0}getUniqueKey(e,t){e=HT(e);let i=0;for(;;){let n=e??t;if(n?i!==0&&(n+="_"+i):n=i,!this.existingKeys[n])return this.existingKeys[n]=!0,String(n);i++}}},FB=Object.freeze([]);function bi(e){if(e!=null&&e.length)return e[e.length-1]}function vp(e,t,i){return e==null&&t==null?!0:e!=null&&t!=null&&e.length===t.length&&e.every((n,s)=>i?i(n,t[s]):t[s]===n)}function Nre(e){return e.sort((t,i)=>t-i)}function ka(e,t){const i=e.indexOf(t);i>=0&&e.splice(i,1)}function OB(e,t,i){for(let n=0;n<t.length;n++)ka(e,t[n]);for(let n=t.length-1;n>=0;n--)e.splice(i,0,t[n])}var qx="ag-Grid-AutoColumn",pj="ag-Grid-SelectionColumn",Bre="ag-Grid-RowNumbersColumn";function fj(e){const t=[],i=n=>{for(let s=0;s<n.length;s++){const r=n[s];sd(r)?t.push(r):cr(r)&&i(r.getChildren())}};return i(e),t}function pc(e){return e.reduce((t,i)=>t+i.getActualWidth(),0)}function SS(e,t,i){const n={};if(!t)return;Mc(null,t,r=>{n[r.getInstanceId()]=r}),i&&Mc(null,i,r=>{n[r.getInstanceId()]=null});const s=Object.values(n).filter(r=>r!=null);e.context.destroyBeans(s)}function bL(e){return e.getId().startsWith(qx)}function kc(e){const t=typeof e=="string"?e:"getColId"in e?e.getColId():e.colId;return(t==null?void 0:t.startsWith(pj))??!1}function PC(e){const t=typeof e=="string"?e:"getColId"in e?e.getColId():e.colId;return(t==null?void 0:t.startsWith(Bre))??!1}function xS(e){let t=[];return e instanceof Array?t=e:typeof e=="string"&&(t=e.split(",")),t}function zre(e,t){return vp(e,t,(i,n)=>i.getColId()===n.getColId())}function Gre(e){e.map={},e.list.forEach(t=>e.map[t.getId()]=t)}function Vf(e){return e==="gridOptionsUpdated"?"gridOptionsChanged":e}function gj(e,t){const i=e===t,n=e.getColDef()===t,s=e.getColId()==t;return i||n||s}var Hre=(e,t)=>(i,n)=>{const s={value1:void 0,value2:void 0};let r=!1;return e&&(e[i]!==void 0&&(s.value1=e[i],r=!0),Ne(n)&&e[n]!==void 0&&(s.value2=e[n],r=!0)),!r&&t&&(t[i]!==void 0&&(s.value1=t[i]),Ne(n)&&t[n]!==void 0&&(s.value2=t[n])),s};function _re(e,t=null,i,n,s){const r=new Ore,{existingCols:o,existingGroups:a,existingColKeys:l}=jre(n);r.addExistingKeys(l);const u=mj(e,t,0,i,o,r,a,s),{colGroupSvc:d}=e,p=(d==null?void 0:d.findMaxDepth(u,0))??0,f=d?d.balanceColumnTree(u,0,p,r):u;return Mc(null,f,(y,C)=>{cr(y)&&y.setupExpandable(),y.originalParent=C}),{columnTree:f,treeDept:p}}function jre(e){const t=[],i=[],n=[];return e&&Mc(null,e,s=>{if(cr(s)){const r=s;i.push(r)}else{const r=s;n.push(r.getId()),t.push(r)}}),{existingCols:t,existingGroups:i,existingColKeys:n}}function mj(e,t,i,n,s,r,o,a){if(!t)return[];const{colGroupSvc:l}=e,u=new Array(t.length);for(let d=0;d<u.length;d++){const p=t[d];l&&Kre(p)?u[d]=l.createProvidedColumnGroup(n,p,i,s,r,o,a):u[d]=Vre(e,n,p,s,r,a)}return u}function Vre(e,t,i,n,s,r){var l;const o=Ure(i,n);o&&(n==null||n.splice(o.idx,1));let a=o==null?void 0:o.column;if(a){const u=YT(e,i,a.getColId());a.setColDef(u,i,r),Wre(e,a,u,r)}else{const u=s.getUniqueKey(i.colId,i.field),d=YT(e,i,u);a=new CL(d,i,u,t),e.context.createBean(a)}return(l=e.dataTypeSvc)==null||l.addColumnListeners(a),a}function yj(e,t,i,n,s,r,o,a){const{sortSvc:l,pinnedCols:u,colFlex:d}=e;i!==void 0&&t.setVisible(!i,a),l&&(l.updateColSort(t,n,a),s!==void 0&&l.setColSortIndex(t,s)),r!==void 0&&(u==null||u.setColPinned(t,r)),o!==void 0&&(d==null||d.setColFlex(t,o))}function Wre(e,t,i,n){yj(e,t,i.hide,i.sort,i.sortIndex,i.pinned,i.flex,n);const s=t.getFlex();if(!(s!=null&&s>0))if(i.width!=null)t.setActualWidth(i.width,n);else{const r=t.getActualWidth();t.setActualWidth(r,n)}}function Ure(e,t){if(t)for(let i=0;i<t.length;i++){const n=t[i].getUserProvidedColDef();if(!n)continue;if(e.colId!=null){if(t[i].getId()===e.colId)return{idx:i,column:t[i]};continue}if(e.field!=null){if(n.field===e.field)return{idx:i,column:t[i]};continue}if(n===e)return{idx:i,column:t[i]}}}function YT(e,t,i,n){const{gos:s,dataTypeSvc:r,validation:o}=e,a={},l=s.get("defaultColDef");Fr(a,l,!1,!0);const u=$re(e,a,t,i);u&&Yre(e,u,a),Fr(a,t,!1,!0);const d=s.get("autoGroupColumnDef"),p=fl(s);return t.rowGroup&&d&&p&&Fr(a,{sort:d.sort,initialSort:d.initialSort},!1,!0),r==null||r.validateColDef(a),o==null||o.validateColDef(a,i,n),a}function $re(e,t,i,n){var o;const s=(o=e.dataTypeSvc)==null?void 0:o.updateColDefAndGetColumnType(t,i,n),r=i.type??s??t.type;return t.type=r,r?xS(r):void 0}function Yre(e,t,i){if(!t.length)return;const n=Object.assign({},Fre),s=e.gos.get("columnTypes")||{};for(const r of Object.keys(s)){const o=s[r];r in n?Ae(34,{key:r}):(o.type&&Ae(35),n[r]=o)}t.forEach(r=>{const o=n[r.trim()];o?Fr(i,o,!1,!0):Ae(36,{t:r})})}function Kre(e){return e.children!==void 0}function Mc(e,t,i){if(t)for(let n=0;n<t.length;n++){const s=t[n];cr(s)&&Mc(s,s.getChildren(),i),i(s,e)}}function vj(e,t){const i=[],n=[],s=[];return e.forEach(o=>{const a=o.getColDef().lockPosition;a==="right"?s.push(o):a==="left"||a===!0?i.push(o):n.push(o)}),t.get("enableRtl")?[...s,...n,...i]:[...i,...n,...s]}function Cj(e,t){let i=!0;return Mc(null,t,n=>{if(!cr(n))return;const s=n,r=s.getColGroupDef();if(!(r&&r.marryChildren))return;const a=[];s.getLeafColumns().forEach(f=>{const m=e.indexOf(f);a.push(m)});const l=Math.max.apply(Math,a),u=Math.min.apply(Math,a),d=l-u,p=s.getLeafColumns().length-1;d>p&&(i=!1)}),i}function bj(e,t){if(!e||e.length==0)return;const i=t(e[0]);for(let n=1;n<e.length;n++)if(i!==t(e[n]))return;return i}function wj(e,t,i){if(!t.length)return;const n=t.length===1?t[0]:null,s=bj(t,r=>r.getPinned());e.dispatchEvent({type:"columnPinned",pinned:s??null,columns:t,column:n,source:i})}function qre(e,t,i){if(!t.length)return;const n=t.length===1?t[0]:null,s=bj(t,r=>r.isVisible());e.dispatchEvent({type:"columnVisible",visible:s,columns:t,column:n,source:i})}function Zre(e,t,i,n){e.dispatchEvent({type:t,columns:i,column:i&&i.length==1?i[0]:null,source:n})}function xg(e,t,i,n,s=null){t!=null&&t.length&&e.dispatchEvent({type:"columnResized",columns:t,column:t.length===1?t[0]:null,flexColumns:s,finished:i,source:n})}function Ko(e,t,i){var D;const{colModel:n,rowGroupColsSvc:s,pivotColsSvc:r,autoColSvc:o,selectionColSvc:a,colAnimation:l,visibleCols:u,pivotResultCols:d,environment:p,valueColsSvc:f,eventSvc:m,gos:y}=e,C=n.getColDefCols()||[];if(!(C!=null&&C.length))return!1;if(t!=null&&t.state&&!t.state.forEach)return Ae(32),!1;const w=(R,A,k,F,P)=>{if(!R)return;const L=Hre(A,t.defaultState),z=L("flex").value1;if(yj(e,R,L("hide").value1,L("sort").value1,L("sortIndex").value1,L("pinned").value1,z,i),z==null){const H=L("width").value1;if(H!=null){const V=R.getColDef().minWidth??p.getDefaultColumnMinWidth();V!=null&&H>=V&&R.setActualWidth(H,i)}}P||!R.isPrimary()||(f==null||f.syncColumnWithState(R,i,L),s==null||s.syncColumnWithState(R,i,L,k),r==null||r.syncColumnWithState(R,i,L,F))},b=(R,A,k)=>{var G,U;const F=Sj(e,i),P=A.slice(),L={},z={},H=[],V=[],q=[];let K=0;const j=(s==null?void 0:s.columns.slice())??[],Z=(r==null?void 0:r.columns.slice())??[];R.forEach(te=>{const ee=te.colId;if(ee.startsWith(qx)){H.push(te),q.push(te);return}if(kc(ee)){V.push(te),q.push(te);return}const ue=k(ee);ue?(w(ue,te,L,z,!1),ka(P,ue)):(q.push(te),K+=1)});const W=te=>w(te,null,L,z,!1);P.forEach(W),s==null||s.sortColumns(NB.bind(s,L,j)),r==null||r.sortColumns(NB.bind(r,z,Z)),n.refreshCols(!1);const Y=(te,ee,Q=[])=>{ee.forEach(ue=>{const de=te(ue.colId);ka(Q,de),w(de,ue,null,null,!0)}),Q.forEach(W)};return Y(te=>(o==null?void 0:o.getColumn(te))??null,H,(G=o==null?void 0:o.getColumns())==null?void 0:G.slice()),Y(te=>(a==null?void 0:a.getColumn(te))??null,V,(U=a==null?void 0:a.getColumns())==null?void 0:U.slice()),Qre(t,n,y),u.refresh(i),m.dispatchEvent({type:"columnEverythingChanged",source:i}),F(),{unmatchedAndAutoStates:q,unmatchedCount:K}};l==null||l.start();let{unmatchedAndAutoStates:S,unmatchedCount:M}=b(t.state||[],C,R=>n.getColDefCol(R));if(S.length>0||Ne(t.defaultState)){const R=((D=d==null?void 0:d.getPivotResultCols())==null?void 0:D.list)??[];M=b(S,R,A=>(d==null?void 0:d.getPivotResultCol(A))??null).unmatchedCount}return l==null||l.finish(),M===0}function Xre(e,t){const{colModel:i,autoColSvc:n}=e,s=i.getColDefCols();if(!(s!=null&&s.length))return;const r=i.getColDefColTree(),o=fj(r),a=[];let l=1e3,u=1e3,d=[];const p=n==null?void 0:n.getColumns();p&&(d=d.concat(p)),o&&(d=d.concat(o)),d.forEach(f=>{const m=xj(f);qi(m.rowGroupIndex)&&m.rowGroup&&(m.rowGroupIndex=l++),qi(m.pivotIndex)&&m.pivot&&(m.pivotIndex=u++),a.push(m)}),Ko(e,{state:a,applyOrder:!0},t)}function Sj(e,t){const{rowGroupColsSvc:i,pivotColsSvc:n,valueColsSvc:s,colModel:r,sortSvc:o,eventSvc:a}=e,l={rowGroupColumns:(i==null?void 0:i.columns.slice())??[],pivotColumns:(n==null?void 0:n.columns.slice())??[],valueColumns:(s==null?void 0:s.columns.slice())??[]},u=Bv(e),d={};return u.forEach(p=>{d[p.colId]=p}),()=>{const p=r.getAllCols(),f=(k,F,P,L)=>{const z=F.map(L),H=P.map(L);if(vp(z,H))return;const q=new Set(F);P.forEach(j=>{q.delete(j)||q.add(j)});const K=[...q];a.dispatchEvent({type:k,columns:K,column:K.length===1?K[0]:null,source:t})},m=k=>{const F=[];return p.forEach(P=>{const L=d[P.getColId()];L&&k(L,P)&&F.push(P)}),F},y=k=>k.getColId();f("columnRowGroupChanged",l.rowGroupColumns,(i==null?void 0:i.columns)??[],y),f("columnPivotChanged",l.pivotColumns,(n==null?void 0:n.columns)??[],y);const w=m((k,F)=>{const P=k.aggFunc!=null,L=P!=F.isValueActive(),z=P&&k.aggFunc!=F.getAggFunc();return L||z});w.length>0&&Zre(a,"columnValueChanged",w,t),xg(a,m((k,F)=>k.width!=F.getActualWidth()),!0,t),wj(a,m((k,F)=>k.pinned!=F.getPinned()),t),qre(a,m((k,F)=>k.hide==F.isVisible()),t);const R=m((k,F)=>k.sort!=F.getSort()||k.sortIndex!=F.getSortIndex());R.length>0&&(o==null||o.dispatchSortChangedEvents(t,R));const A=Bv(e);eoe(u,A,t,r,a)}}function Bv(e){const{colModel:t,rowGroupColsSvc:i,pivotColsSvc:n}=e,s=t.getColDefCols();if(qi(s)||!t.isAlive())return[];const r=t.getAllCols(),o=i==null?void 0:i.columns,a=n==null?void 0:n.columns,l=p=>{const f=p.isRowGroupActive()&&o?o.indexOf(p):null,m=p.isPivotActive()&&a?a.indexOf(p):null,y=p.isValueActive()?p.getAggFunc():null,C=p.getSort()!=null?p.getSort():null,w=p.getSortIndex()!=null?p.getSortIndex():null;return{colId:p.getColId(),width:p.getActualWidth(),hide:!p.isVisible(),pinned:p.getPinned(),sort:C,sortIndex:w,aggFunc:y,rowGroup:p.isRowGroupActive(),rowGroupIndex:f,pivot:p.isPivotActive(),pivotIndex:m,flex:p.getFlex()??null}},u=r.map(p=>l(p)),d=new Map(t.getCols().map((p,f)=>[p.getColId(),f]));return u.sort((p,f)=>{const m=d.has(p.colId)?d.get(p.colId):-1,y=d.has(f.colId)?d.get(f.colId):-1;return m-y}),u}function xj(e){const t=(y,C)=>y??C??null,i=e.getColDef(),n=t(i.sort,i.initialSort),s=t(i.sortIndex,i.initialSortIndex),r=t(i.hide,i.initialHide),o=t(i.pinned,i.initialPinned),a=t(i.width,i.initialWidth),l=t(i.flex,i.initialFlex);let u=t(i.rowGroupIndex,i.initialRowGroupIndex),d=t(i.rowGroup,i.initialRowGroup);u==null&&(d==null||d==!1)&&(u=null,d=null);let p=t(i.pivotIndex,i.initialPivotIndex),f=t(i.pivot,i.initialPivot);p==null&&(f==null||f==!1)&&(p=null,f=null);const m=t(i.aggFunc,i.initialAggFunc);return{colId:e.getColId(),sort:n,sortIndex:s,hide:r,pinned:o,width:a,flex:l,rowGroup:d,rowGroupIndex:u,pivot:f,pivotIndex:p,aggFunc:m}}function Qre(e,t,i){if(!e.applyOrder||!e.state)return;const n=[];e.state.forEach(s=>{s.colId!=null&&n.push(s.colId)}),Jre(t.cols,n,t,i)}function Jre(e,t,i,n){if(e==null)return;let s=[];const r={};t.forEach(a=>{if(r[a])return;const l=e.map[a];l&&(s.push(l),r[a]=!0)});let o=0;if(e.list.forEach(a=>{const l=a.getColId();if(r[l]!=null)return;l.startsWith(qx)?s.splice(o++,0,a):s.push(a)}),s=vj(s,n),!Cj(s,i.getColTree())){Ae(39);return}e.list=s}function eoe(e,t,i,n,s){const r={};t.forEach(d=>r[d.colId]=d);const o={};e.forEach(d=>{r[d.colId]&&(o[d.colId]=!0)});const a=e.filter(d=>o[d.colId]),l=t.filter(d=>o[d.colId]),u=[];l.forEach((d,p)=>{const f=a&&a[p];if(f&&f.colId!==d.colId){const m=n.getCol(f.colId);m&&u.push(m)}}),u.length&&s.dispatchEvent({type:"columnMoved",columns:u,column:u.length===1?u[0]:null,finished:!0,source:i})}var NB=(e,t,i,n)=>{const s=e[i.getId()],r=e[n.getId()],o=s!=null,a=r!=null;if(o&&a)return s-r;if(o)return-1;if(a)return 1;const l=t.indexOf(i),u=t.indexOf(n),d=l>=0,p=u>=0;return d&&p?l-u:d?-1:1},toe=class extends ye{constructor(){super(...arguments),this.beanName="colModel",this.pivotMode=!1,this.ready=!1,this.changeEventsDispatching=!1}postConstruct(){this.pivotMode=this.gos.get("pivotMode"),this.addManagedPropertyListeners(["groupDisplayType","treeData","treeDataDisplayType","groupHideOpenParents"],e=>this.refreshAll(Vf(e.source))),this.addManagedPropertyListeners(["defaultColDef","defaultColGroupDef","columnTypes","suppressFieldDotNotation"],this.recreateColumnDefs.bind(this)),this.addManagedPropertyListener("pivotMode",e=>this.setPivotMode(this.gos.get("pivotMode"),Vf(e.source)))}createColsFromColDefs(e){var S,M,D;const{beans:t}=this,{valueCache:i,colAutosize:n,rowGroupColsSvc:s,pivotColsSvc:r,valueColsSvc:o,visibleCols:a,colViewport:l,eventSvc:u}=t,d=this.colDefs?Sj(t,e):void 0;i==null||i.expire();const p=(S=this.colDefCols)==null?void 0:S.list,f=(M=this.colDefCols)==null?void 0:M.tree,m=_re(t,this.colDefs,!0,f,e);SS(t,(D=this.colDefCols)==null?void 0:D.tree,m.columnTree);const y=m.columnTree,C=m.treeDept,w=fj(y),b={};w.forEach(R=>b[R.getId()]=R),this.colDefCols={tree:y,treeDepth:C,list:w,map:b},s==null||s.extractCols(e,p),r==null||r.extractCols(e,p),o==null||o.extractCols(e,p),this.ready=!0,this.refreshCols(!0),a.refresh(e),l.checkViewportColumns(),u.dispatchEvent({type:"columnEverythingChanged",source:e}),d&&(this.changeEventsDispatching=!0,d(),this.changeEventsDispatching=!1),u.dispatchEvent({type:"newColumnsLoaded",source:e}),e==="gridInitializing"&&(n==null||n.applyAutosizeStrategy())}refreshCols(e){var C;if(!this.colDefCols)return;const t=(C=this.cols)==null?void 0:C.tree;this.saveColOrder();const{autoColSvc:i,selectionColSvc:n,rowNumbersSvc:s,quickFilter:r,pivotResultCols:o,showRowGroupCols:a,rowAutoHeight:l,visibleCols:u,colViewport:d,eventSvc:p}=this.beans,f=this.selectCols(o,this.colDefCols);this.createColumnsForService([i,n,s],f);const m=are(this.gos,this.showingPivotResult);(!e||m)&&this.restoreColOrder(f),this.positionLockedCols(f),a==null||a.refresh(),r==null||r.refreshCols(),this.setColSpanActive(),l==null||l.setAutoHeightActive(f),u.clear(),d.clear(),!vp(t,this.cols.tree)&&p.dispatchEvent({type:"gridColumnsChanged"})}createColumnsForService(e,t){for(const i of e)i&&(i.createColumns(t,n=>{this.lastOrder=n(this.lastOrder),this.lastPivotOrder=n(this.lastPivotOrder)}),i.addColumns(t))}selectCols(e,t){const i=(e==null?void 0:e.getPivotResultCols())??null;this.showingPivotResult=i!=null;const{map:n,list:s,tree:r,treeDepth:o}=i??t;return this.cols={list:s.slice(),map:{...n},tree:r.slice(),treeDepth:o},i&&(i.list.some(l=>{var u;return((u=this.cols)==null?void 0:u.map[l.getColId()])!==void 0})||(this.lastPivotOrder=null)),this.cols}getColsToShow(){var n;if(!this.cols)return[];const e=this.isPivotMode()&&!this.showingPivotResult,t=(n=this.beans.valueColsSvc)==null?void 0:n.columns;return this.cols.list.filter(s=>{const r=bL(s);if(e){const o=t==null?void 0:t.includes(s);return r||o}else return r||s.isVisible()})}refreshAll(e){this.ready&&(this.refreshCols(!1),this.beans.visibleCols.refresh(e))}setColsVisible(e,t=!1,i){Ko(this.beans,{state:e.map(n=>({colId:typeof n=="string"?n:n.getColId(),hide:!t}))},i)}restoreColOrder(e){const t=this.showingPivotResult?this.lastPivotOrder:this.lastOrder;if(!t)return;const i=new Map(t.map((u,d)=>[u,d]));if(!e.list.some(u=>i.has(u)))return;const s=new Map(e.list.map(u=>[u,!0])),r=t.filter(u=>s.has(u)),o=new Map(r.map(u=>[u,!0])),a=e.list.filter(u=>!o.has(u)),l=r.slice();a.forEach(u=>{let d=u.getOriginalParent();if(!d){l.push(u);return}const p=[];for(;!p.length&&d;)d.getLeafColumns().forEach(C=>{const w=l.indexOf(C)>=0,b=p.indexOf(C)<0;w&&b&&p.push(C)}),d=d.getOriginalParent();if(!p.length){l.push(u);return}const f=p.map(y=>l.indexOf(y)),m=Math.max(...f);l.splice(m+1,0,u)}),e.list=l}positionLockedCols(e){e.list=vj(e.list,this.gos)}saveColOrder(){var e,t;this.showingPivotResult?this.lastPivotOrder=((e=this.cols)==null?void 0:e.list)??null:this.lastOrder=((t=this.cols)==null?void 0:t.list)??null}getColumnDefs(){var e,t;return this.colDefCols?(t=this.beans.colDefFactory)==null?void 0:t.getColumnDefs(this.colDefCols.list,this.showingPivotResult,this.lastOrder,((e=this.cols)==null?void 0:e.list)??[]):void 0}setColSpanActive(){var e;this.colSpanActive=!!((e=this.cols)!=null&&e.list.some(t=>t.getColDef().colSpan!=null))}isPivotMode(){return this.pivotMode}setPivotMode(e,t){if(e===this.pivotMode||(this.pivotMode=e,!this.ready))return;this.refreshCols(!1);const{visibleCols:i,eventSvc:n}=this.beans;i.refresh(t),n.dispatchEvent({type:"columnPivotModeChanged"})}isPivotActive(){var t;const e=(t=this.beans.pivotColsSvc)==null?void 0:t.columns;return this.pivotMode&&!!(e!=null&&e.length)}recreateColumnDefs(e){var i;if(!this.cols)return;(i=this.beans.autoColSvc)==null||i.updateColumns(e);const t=Vf(e.source);this.createColsFromColDefs(t)}setColumnDefs(e,t){this.colDefs=e,this.createColsFromColDefs(t)}destroy(){var e;SS(this.beans,(e=this.colDefCols)==null?void 0:e.tree),super.destroy()}getColTree(){var e;return((e=this.cols)==null?void 0:e.tree)??[]}getColDefColTree(){var e;return((e=this.colDefCols)==null?void 0:e.tree)??[]}getColDefCols(){var e;return((e=this.colDefCols)==null?void 0:e.list)??null}getCols(){var e;return((e=this.cols)==null?void 0:e.list)??[]}getAllCols(){var s,r,o,a;const{pivotResultCols:e,autoColSvc:t,selectionColSvc:i}=this.beans,n=(s=e==null?void 0:e.getPivotResultCols())==null?void 0:s.list;return[((r=this.colDefCols)==null?void 0:r.list)??[],((o=t==null?void 0:t.columns)==null?void 0:o.list)??[],((a=i==null?void 0:i.columns)==null?void 0:a.list)??[],n??[]].flat()}getColsForKeys(e){return e?e.map(t=>this.getCol(t)).filter(t=>t!=null):[]}getColDefCol(e){var t;return(t=this.colDefCols)!=null&&t.list?this.getColFromCollection(e,this.colDefCols):null}getCol(e){return e==null?null:this.getColFromCollection(e,this.cols)}getColFromCollection(e,t){var s,r;if(t==null)return null;const{map:i,list:n}=t;if(typeof e=="string"&&i[e])return i[e];for(let o=0;o<n.length;o++)if(gj(n[o],e))return n[o];return((s=this.beans.autoColSvc)==null?void 0:s.getColumn(e))??((r=this.beans.selectionColSvc)==null?void 0:r.getColumn(e))??null}},Mj=class{constructor(){this.existingIds={}}getInstanceIdForKey(e){const t=this.existingIds[e];let i;return typeof t!="number"?i=0:i=t+1,this.existingIds[e]=i,i}},Hg=class extends ye{};function FC(e,t,i){return i&&e.addDestroyFunc(()=>t.destroyBean(i)),i??e}var OC=class{constructor(e){this.cssClassStates={},this.getGui=e}addCssClass(e){this.addOrRemoveCssClass(e,!0)}removeCssClass(e){this.addOrRemoveCssClass(e,!1)}containsCssClass(e){const t=this.getGui();return t?t.classList.contains(e):!1}addOrRemoveCssClass(e,t){if(!e)return;if(e.indexOf(" ")>=0){const n=(e||"").split(" ");if(n.length>1){n.forEach(s=>this.addOrRemoveCssClass(s,t));return}}if(this.cssClassStates[e]!==t&&e.length){const n=this.getGui();n&&n.classList.toggle(e,t),this.cssClassStates[e]=t}}},ioe=0,nt=null,Xi=class extends ye{constructor(e,t){super(),this.suppressDataRefValidation=!1,this.displayed=!0,this.visible=!0,this.compId=ioe++,this.cssClassManager=new OC(()=>this.eGui),this.componentSelectors=new Map((t??[]).map(i=>[i.selector,i])),e&&this.setTemplate(e)}preConstruct(){var t,i,n;this.wireTemplate(this.getGui());const e="component-"+((i=(t=Object.getPrototypeOf(this))==null?void 0:t.constructor)==null?void 0:i.name);(n=this.css)==null||n.forEach(s=>this.beans.environment.addGlobalCSS(s,e))}wireTemplate(e,t){e&&this.gos&&(this.applyElementsToComponent(e),this.createChildComponentsFromTags(e,t))}getCompId(){return this.compId}getDataRefAttribute(e){return e.getAttribute?e.getAttribute("data-ref"):null}applyElementsToComponent(e,t,i,n=null){if(t===void 0&&(t=this.getDataRefAttribute(e)),t){const s=this[t];if(s===nt)this[t]=n??e;else{const r=i&&i[t];if(!this.suppressDataRefValidation&&!r)throw new Error(`data-ref: ${t} on ${this.constructor.name} with ${s}`)}}}createChildComponentsFromTags(e,t){Zse(e.childNodes).forEach(n=>{if(!(n instanceof HTMLElement))return;const s=this.createComponentFromElement(n,r=>{r.getGui()&&this.copyAttributesFromNode(n,r.getGui())},t);if(s){if(s.addItems&&n.children.length){this.createChildComponentsFromTags(n,t);const r=Array.prototype.slice.call(n.children);s.addItems(r)}this.swapComponentForNode(s,e,n)}else n.childNodes&&this.createChildComponentsFromTags(n,t)})}createComponentFromElement(e,t,i){const n=e.nodeName,s=this.getDataRefAttribute(e),r=n.indexOf("AG-")===0,o=r?this.componentSelectors.get(n):null;let a=null;if(o){const l=i&&s?i[s]:void 0;a=new o.component(l),a.setParentComponent(this),this.createBean(a,null,t)}else if(r)throw new Error(`selector: ${n}`);return this.applyElementsToComponent(e,s,i,a),a}copyAttributesFromNode(e,t){Xse(e.attributes,(i,n)=>t.setAttribute(i,n))}swapComponentForNode(e,t,i){const n=e.getGui();t.replaceChild(n,i),t.insertBefore(document.createComment(i.nodeName),n),this.addDestroyFunc(this.destroyBean.bind(this,e))}activateTabIndex(e){const t=this.gos.get("tabIndex");e||(e=[]),e.length||e.push(this.getGui()),e.forEach(i=>i.setAttribute("tabindex",t.toString()))}setTemplate(e,t,i){const n=Pv(e);this.setTemplateFromElement(n,t,i)}setTemplateFromElement(e,t,i,n=!1){if(this.eGui=e,this.suppressDataRefValidation=n,t)for(let s=0;s<t.length;s++){const r=t[s];this.componentSelectors.set(r.selector,r)}this.wireTemplate(e,i)}getGui(){return this.eGui}getFocusableElement(){return this.eGui}getAriaElement(){return this.getFocusableElement()}setParentComponent(e){this.parentComponent=e}getParentComponent(){return this.parentComponent}setGui(e){this.eGui=e}queryForHtmlElement(e){return this.eGui.querySelector(e)}getContainerAndElement(e,t){let i=t;return e==null?null:(i||(i=this.eGui),gL(e)?{element:e,parent:i}:{element:e.getGui(),parent:i})}prependChild(e,t){const{element:i,parent:n}=this.getContainerAndElement(e,t)||{};!i||!n||n.insertAdjacentElement("afterbegin",i)}appendChild(e,t){const{element:i,parent:n}=this.getContainerAndElement(e,t)||{};!i||!n||n.appendChild(i)}isDisplayed(){return this.displayed}setVisible(e,t={}){if(e!==this.visible){this.visible=e;const{skipAriaHidden:i}=t;Yse(this.eGui,e,{skipAriaHidden:i})}}setDisplayed(e,t={}){if(e!==this.displayed){this.displayed=e;const{skipAriaHidden:i}=t;hn(this.eGui,e,{skipAriaHidden:i});const n={type:"displayChanged",visible:this.displayed};this.dispatchLocalEvent(n)}}destroy(){this.parentComponent&&(this.parentComponent=void 0),super.destroy()}addGuiEventListener(e,t,i){this.eGui.addEventListener(e,t,i),this.addDestroyFunc(()=>this.eGui.removeEventListener(e,t))}addCssClass(e){this.cssClassManager.addCssClass(e)}removeCssClass(e){this.cssClassManager.removeCssClass(e)}containsCssClass(e){return this.cssClassManager.containsCssClass(e)}addOrRemoveCssClass(e,t){this.cssClassManager.addOrRemoveCssClass(e,t)}registerCSS(e){this.css||(this.css=[]),this.css.push(e)}},$i=class Hy{constructor(t){this.status=0,this.resolution=null,this.waiters=[],t(i=>this.onDone(i),i=>this.onReject(i))}static all(t){return t.length?new Hy(i=>{let n=t.length;const s=new Array(n);t.forEach((r,o)=>{r.then(a=>{s[o]=a,n--,n===0&&i(s)})})}):Hy.resolve()}static resolve(t=null){return new Hy(i=>i(t))}then(t){return new Hy(i=>{this.status===1?i(t(this.resolution)):this.waiters.push(n=>i(t(n)))})}onDone(t){this.status=1,this.resolution=t,this.waiters.forEach(i=>i(t))}onReject(t){}};function noe(e){return e?e.prototype&&"getGui"in e.prototype:!1}function Dj(e,t,i,n){const{name:s}=i;let r,o,a,l,u,d;if(t){const p=t,f=p[s+"Selector"],m=f?f(n):null,y=C=>{typeof C=="string"?r=C:C!=null&&C!==!0&&(e.isFrameworkComponent(C)?a=C:o=C)};m?(y(m.component),l=m.params,u=m.popup,d=m.popupPosition):y(p[s])}return{compName:r,jsComp:o,fwComp:a,paramsFromSelector:l,popupFromSelector:u,popupPositionFromSelector:d}}var soe=class extends ye{constructor(){super(...arguments),this.beanName="userCompFactory"}wireBeans(e){this.agCompUtils=e.agCompUtils,this.registry=e.registry,this.frameworkCompWrapper=e.frameworkCompWrapper,this.gridOptions=e.gridOptions}getCompDetailsFromGridOptions(e,t,i,n=!1){return this.getCompDetails(this.gridOptions,e,t,i,n)}getCompDetails(e,t,i,n,s=!1){var S;const{name:r,cellRenderer:o}=t;let{compName:a,jsComp:l,fwComp:u,paramsFromSelector:d,popupFromSelector:p,popupPositionFromSelector:f}=Dj(this.beans.frameworkOverrides,e,t,n),m;const y=M=>{const D=this.registry.getUserComponent(r,M);D&&(l=D.componentFromFramework?void 0:D.component,u=D.componentFromFramework?D.component:void 0,m=D.params)};if(a!=null&&y(a),l==null&&u==null&&i!=null&&y(i),l&&o&&!noe(l)&&(l=(S=this.agCompUtils)==null?void 0:S.adaptFunction(t,l)),!l&&!u){const{validation:M}=this.beans;s&&(a!==i||!i)?a?M!=null&&M.isProvidedUserComp(a)||wi(50,{compName:a}):i?M||wi(260,{...this.gos.getModuleErrorParams(),propName:r,compName:i}):wi(216,{name:r}):i&&!M&&wi(146,{comp:i});return}const C=this.mergeParams(e,t,n,d,m),w=l==null,b=l??u;return{componentFromFramework:w,componentClass:b,params:C,type:t,popupFromSelector:p,popupPositionFromSelector:f,newAgStackInstance:()=>this.newAgStackInstance(b,w,C,t)}}newAgStackInstance(e,t,i,n){var a;const s=!t;let r;s?r=new e:r=this.frameworkCompWrapper.wrap(e,n.mandatoryMethods,n.optionalMethods,n),this.createBean(r);const o=(a=r.init)==null?void 0:a.call(r,i);return o==null?$i.resolve(r):o.then(()=>r)}mergeParams(e,t,i,n=null,s){const r={...i,...s},o=e,a=o&&o[t.name+"Params"];if(typeof a=="function"){const l=a(i);Fr(r,l)}else typeof a=="object"&&Fr(r,a);return Fr(r,n),r}},roe={name:"dateComponent",mandatoryMethods:["getDate","setDate"],optionalMethods:["afterGuiAttached","setInputPlaceholder","setInputAriaLabel","setDisabled","refresh"]},ooe={name:"dragAndDropImageComponent",mandatoryMethods:["setIcon","setLabel"]},aoe={name:"headerComponent",optionalMethods:["refresh"]},loe={name:"innerHeaderComponent"},coe={name:"innerHeaderGroupComponent"},uoe={name:"headerGroupComponent"},doe={name:"cellRenderer",optionalMethods:["refresh","afterGuiAttached"],cellRenderer:!0},hoe={name:"loadingCellRenderer",cellRenderer:!0},poe={name:"cellEditor",mandatoryMethods:["getValue"],optionalMethods:["isPopup","isCancelBeforeStart","isCancelAfterEnd","getPopupPosition","focusIn","focusOut","afterGuiAttached","refresh"]},foe={name:"loadingOverlayComponent",optionalMethods:["refresh"]},goe={name:"noRowsOverlayComponent",optionalMethods:["refresh"]},moe={name:"tooltipComponent"},wL={name:"filter",mandatoryMethods:["isFilterActive","doesFilterPass","getModel","setModel"],optionalMethods:["afterGuiAttached","afterGuiDetached","onNewRowsLoaded","getModelAsString","onFloatingFilterChanged","onAnyFilterChanged","refresh"]},yoe={name:"floatingFilterComponent",mandatoryMethods:["onParentModelChanged"],optionalMethods:["afterGuiAttached","refresh"]},voe={name:"fullWidthCellRenderer",optionalMethods:["refresh","afterGuiAttached"],cellRenderer:!0},Coe={name:"loadingCellRenderer",cellRenderer:!0},boe={name:"groupRowRenderer",optionalMethods:["afterGuiAttached"],cellRenderer:!0},woe={name:"detailCellRenderer",optionalMethods:["refresh"],cellRenderer:!0};function Soe(e,t){return e.getCompDetailsFromGridOptions(ooe,"agDragAndDropImage",t,!0)}function xoe(e,t,i){return e.getCompDetails(t,aoe,"agColumnHeader",i)}function Moe(e,t,i){return e.getCompDetails(t,loe,void 0,i)}function Doe(e,t){const i=t.columnGroup.getColGroupDef();return e.getCompDetails(i,uoe,"agColumnGroupHeader",t)}function Roe(e,t,i){return e.getCompDetails(t,coe,void 0,i)}function Eoe(e,t){return e.getCompDetailsFromGridOptions(voe,void 0,t,!0)}function Toe(e,t){return e.getCompDetailsFromGridOptions(Coe,"agLoadingCellRenderer",t,!0)}function Aoe(e,t){return e.getCompDetailsFromGridOptions(boe,"agGroupRowRenderer",t,!0)}function Ioe(e,t){return e.getCompDetailsFromGridOptions(woe,"agDetailCellRenderer",t,!0)}function Loe(e,t,i){return e.getCompDetails(t,doe,void 0,i)}function koe(e,t,i){return e.getCompDetails(t,hoe,"agSkeletonCellRenderer",i,!0)}function BB(e,t,i){return e.getCompDetails(t,poe,"agCellEditor",i,!0)}function Poe(e,t,i,n){return e.getCompDetails(t,wL,n,i,!0)}function Foe(e,t){return e.getCompDetailsFromGridOptions(roe,"agDateInput",t,!0)}function Ooe(e,t){return e.getCompDetailsFromGridOptions(foe,"agLoadingOverlay",t,!0)}function Noe(e,t){return e.getCompDetailsFromGridOptions(goe,"agNoRowsOverlay",t,!0)}function Boe(e,t){return e.getCompDetails(t.colDef,moe,"agTooltipComponent",t,!0)}function zoe(e,t,i,n){return e.getCompDetails(t,yoe,n,i)}function Goe(e,t){return Dj(e,t,wL)}function Hoe(e,t,i){return e.mergeParams(t,wL,i)}function zv(e){const t=e;return t!=null&&t.getFrameworkComponentInstance!=null?t.getFrameworkComponentInstance():e}var Rj=new Set,MS={},zh={},kw,Ej=!1,_oe=!1;function joe(e){const[t,i]=e.version.split(".")||[],[n,s]=kw.split(".")||[];return t===n&&i===s}function Voe(e){kw||(kw=e.version);const t=i=>`You are using incompatible versions of AG Grid modules. Major and minor versions should always match across modules. ${i} Please update all modules to the same version.`;if(e.version?joe(e)||Hf(t(`'${e.moduleName}' is version ${e.version} but the other modules are version ${kw}.`)):Hf(t(`'${e.moduleName}' is incompatible.`)),e.validate){const i=e.validate();i.isValid||Hf(`${i.message}`)}}function Gv(e,t){Voe(e);const i=e.rowModels??["all"];Rj.add(e);let n;t!==void 0?(Ej=!0,zh[t]===void 0&&(zh[t]={}),n=zh[t]):n=MS,i.forEach(s=>{n[s]===void 0&&(n[s]={}),n[s][e.moduleName]=e}),e.dependsOn&&e.dependsOn.forEach(s=>Gv(s,t))}function Woe(e){delete zh[e]}function Tj(e,t,i){const n=s=>{var r,o,a;return!!((r=MS[s])!=null&&r[e])||!!((a=(o=zh[t])==null?void 0:o[s])!=null&&a[e])};return n(i)||n("all")}function SL(){return Ej}function Uoe(e,t){const i=zh[e]??{};return[...Object.values(MS.all??{}),...Object.values(i.all??{}),...Object.values(MS[t]??{}),...Object.values(i[t]??{})]}function $oe(){return new Set(Rj)}function Yoe(e,t){const i=zh[e]??{};return[...Object.values(i.all??{}),...Object.values(i[t]??{})]}function Koe(){return _oe}var qoe=class{static register(t){Gv(t,void 0)}static registerModules(t){t.forEach(i=>Gv(i,void 0))}},Zoe=class{constructor(e){this.beans={},this.createdBeans=[],this.destroyed=!1,!(!e||!e.beanClasses)&&(this.beanDestroyComparator=e.beanDestroyComparator,this.init(e))}init(e){var t;for(const i of Object.keys(e.providedBeanInstances))this.beans[i]=e.providedBeanInstances[i];e.beanClasses.forEach(i=>{const n=new i;n.beanName?this.beans[n.beanName]=n:console.error(`Bean ${i.name} is missing beanName`),this.createdBeans.push(n)}),(t=e.derivedBeans)==null||t.forEach(i=>{const{beanName:n,bean:s}=i(this);this.beans[n]=s,this.createdBeans.push(s)}),e.beanInitComparator&&this.createdBeans.sort(e.beanInitComparator),this.initBeans(this.createdBeans)}getBeanInstances(){return Object.values(this.beans)}createBean(e,t){if(!e)throw Error("null bean");return this.initBeans([e],t),e}initBeans(e,t){e.forEach(i=>{var n,s;(n=i.preWireBeans)==null||n.call(i,this.beans),(s=i.wireBeans)==null||s.call(i,this.beans)}),e.forEach(i=>{var n;return(n=i.preConstruct)==null?void 0:n.call(i)}),t&&e.forEach(t),e.forEach(i=>{var n;return(n=i.postConstruct)==null?void 0:n.call(i)})}getBeans(){return this.beans}getBean(e){return this.beans[e]}destroy(){if(this.destroyed)return;this.destroyed=!0;const e=this.getBeanInstances();this.beanDestroyComparator&&e.sort(this.beanDestroyComparator),this.destroyBeans(e),this.beans={},this.createdBeans=[]}destroyBean(e){var t;(t=e==null?void 0:e.destroy)==null||t.call(e)}destroyBeans(e){if(e)for(let t=0;t<e.length;t++)this.destroyBean(e[t]);return[]}isDestroyed(){return this.destroyed}},Xoe=class extends Zoe{init(e){this.gridId=e.gridId,this.beans.context=this,this.destroyCallback=e.destroyCallback,super.init(e)}destroy(){var e;super.destroy(),Woe(this.gridId),(e=this.destroyCallback)==null||e.call(this)}getGridId(){return this.gridId}},Qoe="ag-column-first",Joe="ag-column-last";function Aj(e,t,i,n){return qi(e)?[]:tae(e.headerClass,e,t,i,n)}function Ij(e,t,i){e.addOrRemoveCssClass(Qoe,i.isColAtEdge(t,"first")),e.addOrRemoveCssClass(Joe,i.isColAtEdge(t,"last"))}function eae(e,t,i,n){return ut(t,{colDef:e,column:i,columnGroup:n})}function tae(e,t,i,n,s){if(qi(e))return[];let r;if(typeof e=="function"){const o=eae(t,i,n,s);r=e(o)}else r=e;return typeof r=="string"?[r]:Array.isArray(r)?[...r]:[]}function Gc(e,t){const i=tj(e);i.requestAnimationFrame?i.requestAnimationFrame(t):i.webkitRequestAnimationFrame?i.webkitRequestAnimationFrame(t):i.setTimeout(t,0)}var iae=class extends ye{constructor(){super(...arguments),this.beanName="animationFrameSvc",this.createTasksP1={list:[],sorted:!1},this.createTasksP2={list:[],sorted:!1},this.destroyTasks=[],this.ticking=!1,this.scrollGoingDown=!0,this.lastPage=0,this.lastScrollTop=0,this.taskCount=0,this.cancelledTasks=new Set}setScrollTop(e){const{gos:t,pagination:i}=this.beans,n=t.get("pagination");if(this.scrollGoingDown=e>=this.lastScrollTop,n&&e===0){const s=(i==null?void 0:i.getCurrentPage())??0;s!==this.lastPage&&(this.lastPage=s,this.scrollGoingDown=!0)}this.lastScrollTop=e}postConstruct(){this.active=!this.gos.get("suppressAnimationFrame")}verifyAnimationFrameOn(e){this.active===!1&&Ae(92,{methodName:e})}createTask(e,t,i){this.verifyAnimationFrameOn(i);const n={task:e,index:t,createOrder:++this.taskCount};this.addTaskToList(this[i],n),this.schedule()}cancelTask(e){this.cancelledTasks.add(e)}addTaskToList(e,t){e.list.push(t),e.sorted=!1}sortTaskList(e){if(e.sorted)return;const t=this.scrollGoingDown?1:-1;e.list.sort((i,n)=>i.index!==n.index?t*(n.index-i.index):n.createOrder-i.createOrder),e.sorted=!0}addDestroyTask(e){this.verifyAnimationFrameOn("createTasksP3"),this.destroyTasks.push(e),this.schedule()}executeFrame(e){this.verifyAnimationFrameOn("executeFrame");const t=this.createTasksP1,i=t.list,n=this.createTasksP2,s=n.list,r=this.destroyTasks,o=new Date().getTime();let a=new Date().getTime()-o;const l=e<=0,u=this.beans.ctrlsSvc.getScrollFeature();for(;l||a<e;){if(!u.scrollGridIfNeeded()){let p;if(i.length)this.sortTaskList(t),p=i.pop().task;else if(s.length)this.sortTaskList(n),p=s.pop().task;else if(r.length)p=r.pop();else{this.cancelledTasks.clear();break}this.cancelledTasks.has(p)||p()}a=new Date().getTime()-o}i.length||s.length||r.length?this.requestFrame():this.ticking=!1}flushAllFrames(){this.active&&this.executeFrame(-1)}schedule(){this.active&&(this.ticking||(this.ticking=!0,this.requestFrame()))}requestFrame(){const e=this.executeFrame.bind(this,60);Gc(this.beans,e)}isQueueEmpty(){return!this.ticking}},ge={BACKSPACE:"Backspace",TAB:"Tab",ENTER:"Enter",ESCAPE:"Escape",SPACE:" ",LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",DOWN:"ArrowDown",DELETE:"Delete",F2:"F2",PAGE_UP:"PageUp",PAGE_DOWN:"PageDown",PAGE_HOME:"Home",PAGE_END:"End",A:"KeyA",C:"KeyC",D:"KeyD",V:"KeyV",X:"KeyX",Y:"KeyY",Z:"KeyZ"},KT=!1,DS=0;function nae(e){DS>0||(e.addEventListener("keydown",RS),e.addEventListener("mousedown",RS))}function sae(e){DS>0||(e.removeEventListener("keydown",RS),e.removeEventListener("mousedown",RS))}function RS(e){const t=KT,i=e.type==="keydown";i&&(e.ctrlKey||e.metaKey||e.altKey)||t!==i&&(KT=i)}function rae(e){const t=An(e);return nae(t),DS++,()=>{DS--,sae(t)}}function oae(){return KT}function aae(e,t,i){t.addManagedElementListeners(i,{keydown:n=>{if(!n.defaultPrevented&&n.key===ge.TAB){const s=n.shiftKey;Cp(e,i,!1,s)||Mg(e,s)&&n.preventDefault()}}})}function Wf(e,t,i=!1){const n=$se;let s=V_;t&&(s+=", "+t),i&&(s+=', [tabindex="-1"]');const r=Array.prototype.slice.apply(e.querySelectorAll(n)).filter(l=>Dl(l)),o=Array.prototype.slice.apply(e.querySelectorAll(s));return o.length?((l,u)=>l.filter(d=>u.indexOf(d)===-1))(r,o):r}function tp(e,t=!1,i=!1,n=!1){const s=Wf(e,n?".ag-tab-guard":null,i),r=t?bi(s):s[0];return r?(r.focus({preventScroll:!0}),!0):!1}function Cp(e,t,i,n){const s=Wf(t,i?':not([tabindex="-1"])':null),r=yn(e);let o;i?o=s.findIndex(l=>l.contains(r)):o=s.indexOf(r);const a=o+(n?-1:1);return a<0||a>=s.length?null:s[a]}function Lj(e,t=5){let i=0;for(;e&&GT(e)===null&&++i<=t;)e=e.parentElement;return GT(e)===null?null:e}function lae(e,t){return e.ctrlsSvc.get("gridCtrl").focusInnerElement(t)}function Gh(e){var t;return e.gos.get("suppressHeaderFocus")||!!((t=e.overlays)!=null&&t.isExclusive())}function Zx(e){var t;return e.gos.get("suppressCellFocus")||!!((t=e.overlays)!=null&&t.isExclusive())}function Mg(e,t,i=!1){const n=e.ctrlsSvc.get("gridCtrl");return!i&&n.focusNextInnerContainer(t)?!0:((i||!t&&!n.isDetailGrid())&&n.forceFocusOutOfContainer(t),!1)}function cae(e,t=!1){return e===ge.DELETE?!0:!t&&e===ge.BACKSPACE?H_():!1}var uae=class extends ye{constructor(e,t,i,n){super(),this.cellCtrl=e,this.rowNode=i,this.rowCtrl=n,this.beans=t}init(){this.eGui=this.cellCtrl.eGui}onKeyDown(e){const t=e.key;switch(t){case ge.ENTER:this.onEnterKeyDown(e);break;case ge.F2:this.onF2KeyDown(e);break;case ge.ESCAPE:this.onEscapeKeyDown(e);break;case ge.TAB:this.onTabKeyDown(e);break;case ge.BACKSPACE:case ge.DELETE:this.onBackspaceOrDeleteKeyDown(t,e);break;case ge.DOWN:case ge.UP:case ge.RIGHT:case ge.LEFT:this.onNavigationKeyDown(e,t);break}}onNavigationKeyDown(e,t){var i;if(!this.cellCtrl.editing){if(e.shiftKey&&this.cellCtrl.isRangeSelectionEnabled())this.onShiftRangeSelect(e);else{const n=this.cellCtrl.getFocusedCellPosition();(i=this.beans.navigation)==null||i.navigateToNextCell(e,t,n,!0)}e.preventDefault()}}onShiftRangeSelect(e){const{rangeSvc:t,navigation:i}=this.beans;if(!t)return;const n=t.extendLatestRangeInDirection(e);n&&(i==null||i.ensureCellVisible(n))}onTabKeyDown(e){var t;(t=this.beans.navigation)==null||t.onTabKeyDown(this.cellCtrl,e)}onBackspaceOrDeleteKeyDown(e,t){var l;const{cellCtrl:i,beans:n,rowNode:s}=this,{gos:r,rangeSvc:o,eventSvc:a}=n;if(!i.editing){if(a.dispatchEvent({type:"keyShortcutChangedCellStart"}),cae(e,r.get("enableCellEditingOnBackspace"))){if(o&&nd(r))o.clearCellRangeCellValues({dispatchWrapperEvents:!0,wrapperEventSource:"deleteKey"});else if(i.isCellEditable()){const{column:u}=i,d=this.beans.valueSvc.getDeleteValue(u,s);s.setDataValue(u,d,"cellClear")}}else(l=n.editSvc)==null||l.startRowOrCellEdit(i,e,t);a.dispatchEvent({type:"keyShortcutChangedCellEnd"})}}onEnterKeyDown(e){var n,s;const{cellCtrl:t,beans:i}=this;if(t.editing||this.rowCtrl.editing)t.stopEditingAndFocus(!1,e.shiftKey);else if(i.gos.get("enterNavigatesVertically")){const r=e.shiftKey?ge.UP:ge.DOWN;(n=i.navigation)==null||n.navigateToNextCell(null,r,t.cellPosition,!1)}else(s=i.editSvc)==null||s.startRowOrCellEdit(t,ge.ENTER,e),t.editing&&e.preventDefault()}onF2KeyDown(e){var n;const{cellCtrl:t,beans:i}=this;t.editing||(n=i.editSvc)==null||n.startRowOrCellEdit(t,ge.F2,e)}onEscapeKeyDown(e){var n;const{cellCtrl:t,beans:i}=this;t.editing&&((n=i.editSvc)==null||n.stopRowOrCellEdit(t,!0),t.focusCell(!0))}processCharacter(e){var s;if(e.target!==this.eGui||this.cellCtrl.editing)return;const n=e.key;n===ge.SPACE?this.onSpaceKeyDown(e):(s=this.beans.editSvc)!=null&&s.startRowOrCellEdit(this.cellCtrl,n,e)&&e.preventDefault()}onSpaceKeyDown(e){var i;const{gos:t}=this.beans;!this.cellCtrl.editing&&Nh(t)&&((i=this.beans.selectionSvc)==null||i.handleSelectionEvent(e,this.rowNode,"spaceKey")),e.preventDefault()}destroy(){super.destroy()}},dae=class extends ye{constructor(e,t,i){super(),this.cellCtrl=e,this.column=i,this.beans=t}onMouseEvent(e,t){if(!Sc(t))switch(e){case"click":this.onCellClicked(t);break;case"mousedown":case"touchstart":this.onMouseDown(t);break;case"dblclick":this.onCellDoubleClicked(t);break;case"mouseout":this.onMouseOut(t);break;case"mouseover":this.onMouseOver(t);break}}onCellClicked(e){var u;if((u=this.beans.touchSvc)!=null&&u.handleCellDoubleClick(this,e))return;const{eventSvc:t,rangeSvc:i,gos:n,editSvc:s}=this.beans,r=e.ctrlKey||e.metaKey;i&&r&&i.getCellRangeCount(this.cellCtrl.cellPosition)>1&&i.intersectLastRange(!0);const o=this.cellCtrl.createEvent(e,"cellClicked");t.dispatchEvent(o);const a=this.column.getColDef();a.onCellClicked&&window.setTimeout(()=>{this.beans.frameworkOverrides.wrapOutgoing(()=>{a.onCellClicked(o)})},0),(n.get("singleClickEdit")||a.singleClickEdit)&&!n.get("suppressClickEdit")&&!(e.shiftKey&&(i==null?void 0:i.getCellRanges().length)!=0)&&(s==null||s.startRowOrCellEdit(this.cellCtrl,void 0,e))}onCellDoubleClicked(e){const{column:t,beans:i,cellCtrl:n}=this,{eventSvc:s,frameworkOverrides:r,gos:o,editSvc:a}=i,l=t.getColDef(),u=n.createEvent(e,"cellDoubleClicked");s.dispatchEvent(u),typeof l.onCellDoubleClicked=="function"&&window.setTimeout(()=>{r.wrapOutgoing(()=>{l.onCellDoubleClicked(u)})},0),!o.get("singleClickEdit")&&!o.get("suppressClickEdit")&&(a==null||a.startRowOrCellEdit(n,null,e))}onMouseDown(e){const{ctrlKey:t,metaKey:i,shiftKey:n}=e,s=e.target,{cellCtrl:r,beans:o}=this,{eventSvc:a,rangeSvc:l,rowNumbersSvc:u,focusSvc:d,gos:p}=o;if(this.isRightClickInExistingRange(e))return;const f=l&&!l.isEmpty(),m=this.containsWidget(s),{cellPosition:y}=r,C=PC(y.column);if(u&&C&&!u.handleMouseDownOnCell(y,e)){l&&e.preventDefault(),e.stopImmediatePropagation();return}if(!n||!f){const b=p.get("enableCellTextSelection")&&e.defaultPrevented,S=(hd()||b)&&!r.editing&&!hL(s)&&!m;r.focusCell(S)}if(n&&f&&!d.isCellFocused(y)){e.preventDefault();const w=d.getFocusedCell();if(w){const{column:b,rowIndex:S,rowPinned:M}=w,D=o.rowRenderer.getRowByPosition({rowIndex:S,rowPinned:M}),R=D==null?void 0:D.getCellCtrl(b);R!=null&&R.editing&&R.stopEditing(),d.setFocusedCell({column:b,rowIndex:S,rowPinned:M,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0})}}if(!m){if(l)if(C&&e.preventDefault(),n)l.extendLatestRangeToCell(y);else{const w=t||i;l.setRangeToCell(y,w)}a.dispatchEvent(this.cellCtrl.createEvent(e,"cellMouseDown"))}}isRightClickInExistingRange(e){const{rangeSvc:t}=this.beans;if(t){const i=t.isCellInAnyRange(this.cellCtrl.cellPosition),n=e.button===2||e.ctrlKey&&this.beans.gos.get("allowContextMenuWithControlKey");if(i&&n)return!0}return!1}containsWidget(e){return Fh(e,"ag-selection-checkbox",3)||Fh(e,"ag-drag-handle",3)}onMouseOut(e){if(this.mouseStayingInsideCell(e))return;const{eventSvc:t,colHover:i}=this.beans;t.dispatchEvent(this.cellCtrl.createEvent(e,"cellMouseOut")),i==null||i.clearMouseOver()}onMouseOver(e){if(this.mouseStayingInsideCell(e))return;const{eventSvc:t,colHover:i}=this.beans;t.dispatchEvent(this.cellCtrl.createEvent(e,"cellMouseOver")),i==null||i.setMouseOver([this.column])}mouseStayingInsideCell(e){if(!e.target||!e.relatedTarget)return!1;const t=this.cellCtrl.eGui,i=t.contains(e.target),n=t.contains(e.relatedTarget);return i&&n}destroy(){super.destroy()}},hae=class extends ye{constructor(e,t){super(),this.cellCtrl=e,this.beans=t,this.column=e.column,this.rowNode=e.rowNode}setupRowSpan(){this.rowSpan=this.column.getRowSpan(this.rowNode),this.addManagedListeners(this.beans.eventSvc,{newColumnsLoaded:()=>this.onNewColumnsLoaded()})}init(){this.eSetLeft=this.cellCtrl.getRootElement(),this.eContent=this.cellCtrl.eGui;const e=this.cellCtrl.getCellSpan();e||(this.setupColSpan(),this.setupRowSpan()),this.onLeftChanged(),this.onWidthChanged(),e||this._legacyApplyRowSpan(),e&&(this.refreshSpanHeight(e),this.addManagedListeners(this.beans.eventSvc,{modelUpdated:this.refreshSpanHeight.bind(this,e),recalculateRowBounds:this.refreshSpanHeight.bind(this,e)}))}refreshSpanHeight(e){const t=e.getCellHeight();t!=null&&(this.eContent.style.height=`${t}px`)}onNewColumnsLoaded(){const e=this.column.getRowSpan(this.rowNode);this.rowSpan!==e&&(this.rowSpan=e,this._legacyApplyRowSpan(!0))}onDisplayColumnsChanged(){const e=this.getColSpanningList();vp(this.colsSpanning,e)||(this.colsSpanning=e,this.onWidthChanged(),this.onLeftChanged())}setupColSpan(){this.column.getColDef().colSpan!=null&&(this.colsSpanning=this.getColSpanningList(),this.addManagedListeners(this.beans.eventSvc,{displayedColumnsChanged:this.onDisplayColumnsChanged.bind(this),displayedColumnsWidthChanged:this.onWidthChanged.bind(this)}))}onWidthChanged(){if(!this.eContent)return;const e=this.getCellWidth();this.eContent.style.width=`${e}px`}getCellWidth(){return this.colsSpanning?this.colsSpanning.reduce((e,t)=>e+t.getActualWidth(),0):this.column.getActualWidth()}getColSpanningList(){const{column:e,rowNode:t}=this,i=e.getColSpan(t),n=[];if(i===1)n.push(e);else{let s=e;const r=e.getPinned();for(let o=0;s&&o<i&&(n.push(s),s=this.beans.visibleCols.getColAfter(s),!(!s||qi(s)||r!==s.getPinned()));o++);}return n}onLeftChanged(){if(!this.eSetLeft)return;const e=this.modifyLeftForPrintLayout(this.getCellLeft());this.eSetLeft.style.left=e+"px"}getCellLeft(){let e;return this.beans.gos.get("enableRtl")&&this.colsSpanning?e=bi(this.colsSpanning):e=this.column,e.getLeft()}modifyLeftForPrintLayout(e){if(!this.cellCtrl.printLayout||this.column.getPinned()==="left")return e;const{visibleCols:t}=this.beans,i=t.getColsLeftWidth();if(this.column.getPinned()==="right"){const n=t.bodyWidth;return i+n+(e||0)}return i+(e||0)}_legacyApplyRowSpan(e){if(this.rowSpan===1&&!e)return;const i=Bh(this.beans)*this.rowSpan;this.eContent.style.height=`${i}px`,this.eContent.style.zIndex="1"}destroy(){super.destroy()}},pae="ag-cell",fae="ag-cell-auto-height",gae="ag-cell-normal-height",mae="ag-cell-focus",yae="ag-cell-first-right-pinned",vae="ag-cell-last-left-pinned",Cae="ag-cell-not-inline-editing",bae="ag-cell-wrap-text",ES="cellCtrl";function kj(e,t){return cj(e,t,ES)}var wae=0,nv=class extends ye{constructor(e,t,i,n){super(),this.column=e,this.rowNode=t,this.rowCtrl=n,this.rangeFeature=void 0,this.positionFeature=void 0,this.customStyleFeature=void 0,this.tooltipFeature=void 0,this.mouseListener=void 0,this.keyboardListener=void 0,this.suppressRefreshCell=!1,this.onCompAttachedFuncs=[],this.onEditorAttachedFuncs=[],this.beans=i;const{colId:s,colIdSanitised:r}=e;this.instanceId=s+"-"+wae++,this.colIdSanitised=r,this.createCellPosition(),this.updateAndFormatValue(!1)}shouldRestoreFocus(){return this.beans.focusSvc.shouldRestoreFocus(this.cellPosition)}onFocusOut(){this.beans.focusSvc.clearRestoreFocus()}addFeatures(){var n;const{beans:e}=this;this.positionFeature=new hae(this,e),this.customStyleFeature=(n=e.cellStyles)==null?void 0:n.createCellCustomStyleFeature(this,e),this.mouseListener=new dae(this,e,this.column),this.keyboardListener=new uae(this,e,this.rowNode,this.rowCtrl),this.column.isTooltipEnabled()&&this.enableTooltipFeature();const{rangeSvc:t}=e;t&&nd(e.gos)&&(this.rangeFeature=t.createCellRangeFeature(e,this))}isCellSpanning(){return!1}getCellSpan(){}removeFeatures(){const e=this.beans.context;this.positionFeature=e.destroyBean(this.positionFeature),this.customStyleFeature=e.destroyBean(this.customStyleFeature),this.mouseListener=e.destroyBean(this.mouseListener),this.keyboardListener=e.destroyBean(this.keyboardListener),this.rangeFeature=e.destroyBean(this.rangeFeature),this.disableTooltipFeature()}enableTooltipFeature(e,t){var i;this.tooltipFeature=(i=this.beans.tooltipSvc)==null?void 0:i.enableCellTooltipFeature(this,e,t)}disableTooltipFeature(){this.tooltipFeature=this.beans.context.destroyBean(this.tooltipFeature)}setComp(e,t,i,n,s,r,o){var a,l,u,d,p,f;this.comp=e,this.eGui=t,this.printLayout=s,o??(o=this),this.addDomData(o),this.addFeatures(),o.addDestroyFunc(()=>this.removeFeatures()),this.onSuppressCellFocusChanged(this.beans.gos.get("suppressCellFocus")),this.onCellFocused(this.focusEventToRestore),this.applyStaticCssClasses(),this.setWrapText(),this.onFirstRightPinnedChanged(),this.onLastLeftPinnedChanged(),this.onColumnHover(),this.setupControlComps(),this.setupAutoHeight(n,o),this.refreshFirstAndLastStyles(),this.refreshAriaColIndex(),(a=this.positionFeature)==null||a.init(),(l=this.customStyleFeature)==null||l.setComp(e),(u=this.tooltipFeature)==null||u.refreshTooltip(),(d=this.keyboardListener)==null||d.init(),(p=this.rangeFeature)==null||p.setComp(e),r&&this.isCellEditable()?(f=this.beans.editSvc)==null||f.startEditing(this):this.showValue(!1,!0),this.onCompAttachedFuncs.length&&(this.onCompAttachedFuncs.forEach(m=>m()),this.onCompAttachedFuncs=[])}setupAutoHeight(e,t){var i;this.isAutoHeight=((i=this.beans.rowAutoHeight)==null?void 0:i.setupCellAutoHeight(this,e,t))??!1}getCellAriaRole(){return this.column.getColDef().cellAriaRole??"gridcell"}isCellRenderer(){const e=this.column.getColDef();return e.cellRenderer!=null||e.cellRendererSelector!=null}getValueToDisplay(){return this.valueFormatted??this.value}showValue(e,t){var d;const{beans:i,column:n,rowNode:s,rangeFeature:r}=this,{userCompFactory:o}=i,a=this.getValueToDisplay();let l;if(s.stub&&((d=s.groupData)==null?void 0:d[n.getId()])==null){const p=this.createCellRendererParams();l=koe(o,n.getColDef(),p)}else if(this.isCellRenderer()){const p=this.createCellRendererParams();l=Loe(o,n.getColDef(),p)}this.comp.setRenderDetails(l,a,e),!t&&r&&Gc(i,()=>r==null?void 0:r.refreshHandle())}setupControlComps(){const e=this.column.getColDef();this.includeSelection=this.isIncludeControl(this.isCheckboxSelection(e)),this.includeRowDrag=this.isIncludeControl(e.rowDrag),this.includeDndSource=this.isIncludeControl(e.dndSource),this.comp.setIncludeSelection(this.includeSelection),this.comp.setIncludeDndSource(this.includeDndSource),this.comp.setIncludeRowDrag(this.includeRowDrag)}isForceWrapper(){return this.beans.gos.get("enableCellTextSelection")||this.column.isAutoHeight()}isIncludeControl(e){return this.rowNode.rowPinned!=null?!1:typeof e=="function"||e===!0}isCheckboxSelection(e){const{rowSelection:t}=this.beans.gridOptions;return e.checkboxSelection||kc(this.column)&&t&&typeof t!="string"&&jf(t)}refreshShouldDestroy(){const e=this.column.getColDef(),t=this.includeSelection!=this.isIncludeControl(this.isCheckboxSelection(e)),i=this.includeRowDrag!=this.isIncludeControl(e.rowDrag),n=this.includeDndSource!=this.isIncludeControl(e.dndSource),s=this.isAutoHeight!=this.column.isAutoHeight();return t||i||n||s}onPopupEditorClosed(){this.editing&&this.stopEditingAndFocus()}stopEditing(e=!1){var t;return((t=this.beans.editSvc)==null?void 0:t.stopEditing(this,e))??!1}createCellRendererParams(){const{value:e,valueFormatted:t,column:i,rowNode:n,comp:s,eGui:r,beans:{valueSvc:o,gos:a}}=this;return ut(a,{value:e,valueFormatted:t,getValue:()=>o.getValueForDisplay(i,n),setValue:u=>o.setValue(n,i,u),formatValue:this.formatValue.bind(this),data:n.data,node:n,pinned:i.getPinned(),colDef:i.getColDef(),column:i,refreshCell:this.refreshCell.bind(this),eGridCell:r,eParentOfValue:s.getParentOfValue(),registerRowDragger:(u,d,p,f)=>this.registerRowDragger(u,d,f),setTooltip:(u,d)=>{var p;a.assertModuleRegistered("Tooltip",3),this.tooltipFeature&&this.disableTooltipFeature(),this.enableTooltipFeature(u,d),(p=this.tooltipFeature)==null||p.refreshTooltip()}})}onCellChanged(e){e.column===this.column&&this.refreshCell({})}refreshOrDestroyCell(e){var t;this.refreshShouldDestroy()?(t=this.rowCtrl)==null||t.recreateCell(this):this.refreshCell(e)}refreshCell(e){var u,d,p,f,m,y;if(this.suppressRefreshCell||this.editing)return;const t=this.column.getColDef(),i=e!=null&&!!e.newData,n=e!=null&&!!e.suppressFlash,s=t.field==null&&t.valueGetter==null&&t.showRowGroup==null,r=e&&e.forceRefresh||s||i,o=!!this.comp,a=this.updateAndFormatValue(o),l=r||a;if(o){if(l){this.showValue(i,!1);const C=(u=this.beans.filterManager)==null?void 0:u.isSuppressFlashingCellsBecauseFiltering();!n&&!C&&t.enableCellChangeFlash&&((d=this.beans.cellFlashSvc)==null||d.flashCell(this)),(p=this.customStyleFeature)==null||p.applyUserStyles(),(f=this.customStyleFeature)==null||f.applyClassesFromColDef()}(m=this.tooltipFeature)==null||m.refreshTooltip(),(y=this.customStyleFeature)==null||y.applyCellClassRules()}}stopEditingAndFocus(e=!1,t=!1){var i;(i=this.beans.editSvc)==null||i.stopEditingAndFocus(this,e,t)}isCellEditable(){return this.column.isCellEditable(this.rowNode)}formatValue(e){return this.callValueFormatter(e)??e}callValueFormatter(e){return this.beans.valueSvc.formatValue(this.column,this.rowNode,e)}updateAndFormatValue(e){const t=this.value,i=this.valueFormatted;return this.value=this.beans.valueSvc.getValueForDisplay(this.column,this.rowNode),this.valueFormatted=this.callValueFormatter(this.value),e?!this.valuesAreEqual(t,this.value)||this.valueFormatted!=i:!0}valuesAreEqual(e,t){const i=this.column.getColDef();return i.equals?i.equals(e,t):e===t}addDomData(e){const t=this.eGui;ep(this.beans.gos,t,ES,this),e.addDestroyFunc(()=>ep(this.beans.gos,t,ES,null))}createEvent(e,t){const{rowNode:i,column:n,value:s,beans:r}=this;return ut(r.gos,{type:t,node:i,data:i.data,value:s,column:n,colDef:n.getColDef(),rowPinned:i.rowPinned,event:e,rowIndex:i.rowIndex})}processCharacter(e){var t;(t=this.keyboardListener)==null||t.processCharacter(e)}onKeyDown(e){var t;(t=this.keyboardListener)==null||t.onKeyDown(e)}onMouseEvent(e,t){var i;(i=this.mouseListener)==null||i.onMouseEvent(e,t)}getColSpanningList(){return this.positionFeature.getColSpanningList()}onLeftChanged(){var e;this.comp&&((e=this.positionFeature)==null||e.onLeftChanged())}onDisplayedColumnsChanged(){this.eGui&&(this.refreshAriaColIndex(),this.refreshFirstAndLastStyles())}refreshFirstAndLastStyles(){const{comp:e,column:t,beans:i}=this;Ij(e,t,i.visibleCols)}refreshAriaColIndex(){const e=this.beans.visibleCols.getAriaColIndex(this.column);B_(this.eGui,e)}onWidthChanged(){var e;return(e=this.positionFeature)==null?void 0:e.onWidthChanged()}getRowPosition(){const{rowIndex:e,rowPinned:t}=this.cellPosition;return{rowIndex:e,rowPinned:t}}updateRangeBordersIfRangeCount(){var e;this.comp&&((e=this.rangeFeature)==null||e.updateRangeBordersIfRangeCount())}onCellSelectionChanged(){var e;this.comp&&((e=this.rangeFeature)==null||e.onCellSelectionChanged())}isRangeSelectionEnabled(){return this.rangeFeature!=null}focusCell(e=!1){this.beans.focusSvc.setFocusedCell({...this.getFocusedCellPosition(),forceBrowserFocus:e})}onRowIndexChanged(){var e;this.createCellPosition(),this.onCellFocused(),(e=this.rangeFeature)==null||e.onCellSelectionChanged()}onSuppressCellFocusChanged(e){const t=this.eGui;t&&(PC(this.column)&&(e=!0),Yo(t,"tabindex",e?void 0:-1))}onFirstRightPinnedChanged(){if(!this.comp)return;const e=this.column.isFirstRightPinned();this.comp.addOrRemoveCssClass(yae,e)}onLastLeftPinnedChanged(){if(!this.comp)return;const e=this.column.isLastLeftPinned();this.comp.addOrRemoveCssClass(vae,e)}isCellFocused(){return this.beans.focusSvc.isCellFocused(this.cellPosition)}onCellFocused(e){var s;const{beans:t}=this;if(Zx(t))return;const i=this.isCellFocused();if(!this.comp){i&&(e!=null&&e.forceBrowserFocus)&&(this.focusEventToRestore=e);return}if(this.focusEventToRestore=void 0,this.comp.addOrRemoveCssClass(mae,i),i&&e&&e.forceBrowserFocus){let r=this.comp.getFocusableElement();if(this.editing){const o=Wf(r,null,!0);o.length&&(r=o[0])}r.focus({preventScroll:!!e.preventScrollOnBrowserFocus})}const n=t.gos.get("editType")==="fullRow";!i&&!n&&this.editing&&((s=t.editSvc)==null||s.stopRowOrCellEdit(this)),i&&this.rowCtrl.announceDescription()}createCellPosition(){const{rowIndex:e,rowPinned:t}=this.rowNode;this.cellPosition={rowIndex:e,rowPinned:wc(t),column:this.column}}setInlineEditingCss(){var e;(e=this.beans.editSvc)==null||e.setInlineEditingCss(this.rowCtrl)}applyStaticCssClasses(){const{comp:e}=this;e.addOrRemoveCssClass(pae,!0),e.addOrRemoveCssClass(Cae,!0);const t=this.column.isAutoHeight()==!0;e.addOrRemoveCssClass(fae,t),e.addOrRemoveCssClass(gae,!t)}onColumnHover(){var e;(e=this.beans.colHover)==null||e.onCellColumnHover(this.column,this.comp)}onColDefChanged(){var e;this.comp&&(this.column.isTooltipEnabled()?(this.disableTooltipFeature(),this.enableTooltipFeature()):this.disableTooltipFeature(),this.setWrapText(),this.editing?(e=this.beans.editSvc)==null||e.handleColDefChanged(this):this.refreshOrDestroyCell({forceRefresh:!0,suppressFlash:!0}))}setWrapText(){const e=this.column.getColDef().wrapText==!0;this.comp.addOrRemoveCssClass(bae,e)}dispatchCellContextMenuEvent(e){const t=this.column.getColDef(),i=this.createEvent(e,"cellContextMenu"),{beans:n}=this;n.eventSvc.dispatchEvent(i),t.onCellContextMenu&&window.setTimeout(()=>{n.frameworkOverrides.wrapOutgoing(()=>{t.onCellContextMenu(i)})},0)}getCellRenderer(){var e;return((e=this.comp)==null?void 0:e.getCellRenderer())??null}destroy(){this.onCompAttachedFuncs=[],this.onEditorAttachedFuncs=[],super.destroy()}createSelectionCheckbox(){var t;const e=(t=this.beans.selectionSvc)==null?void 0:t.createCheckboxSelectionComponent();if(e)return this.beans.context.createBean(e),e.init({rowNode:this.rowNode,column:this.column}),e}createDndSource(){const e=this.beans.registry.createDynamicBean("dndSourceComp",!1,this.rowNode,this.column,this.eGui);return e&&this.beans.context.createBean(e),e}registerRowDragger(e,t,i){if(this.customRowDragComp){this.customRowDragComp.setDragElement(e,t);return}const n=this.createRowDragComp(e,t,i);n&&(this.customRowDragComp=n,this.addDestroyFunc(()=>{this.beans.context.destroyBean(n),this.customRowDragComp=null}))}createRowDragComp(e,t,i){var s;const n=(s=this.beans.rowDragSvc)==null?void 0:s.createRowDragCompForCell(this.rowNode,this.column,()=>this.value,e,t,i);if(n)return this.beans.context.createBean(n),n}cellEditorAttached(){this.onEditorAttachedFuncs.forEach(e=>e()),this.onEditorAttachedFuncs=[]}setFocusedCellPosition(e){}getFocusedCellPosition(){return this.cellPosition}refreshAriaRowIndex(){}getRootElement(){return this.eGui}},Pj="__ag_grid_instance";function Fj(e,t){t[Pj]=e.gridInstanceId}function TS(e,t){return Oj(e,t.target)}function Oj(e,t){let i=t;for(;i;){const n=i[Pj];if(Ne(n))return n===e.gridInstanceId;i=i.parentElement}return!1}function Sae(e,t){var i;return((i=kj(e,t.target))==null?void 0:i.getFocusedCellPosition())??null}function ZE(e,t){const i=Gs(e.gos,"normal"),n=t;let s,r;if(n.clientX!=null||n.clientY!=null?(s=n.clientX,r=n.clientY):(s=n.x,r=n.y),i){const o=e.ctrlsSvc.getScrollFeature(),a=o.getVScrollPosition(),l=o.getHScrollPosition();s+=l.left,r+=a.top}return{x:s,y:r}}var xae=class extends ye{constructor(){super(...arguments),this.beanName="dragAndDrop",this.dragSourceAndParamsList=[],this.dropTargets=[]}wireBeans(e){this.ctrlsSvc=e.ctrlsSvc,this.dragSvc=e.dragSvc,this.environment=e.environment,this.userCompFactory=e.userCompFactory}addDragSource(e,t=!1){const i={eElement:e.eElement,dragStartPixels:e.dragStartPixels,onDragStart:this.onDragStart.bind(this,e),onDragStop:this.onDragStop.bind(this),onDragging:this.onDragging.bind(this),onDragCancel:this.onDragCancel.bind(this),includeTouch:t};this.dragSourceAndParamsList.push({params:i,dragSource:e}),this.dragSvc.addDragSource(i)}getDragAndDropImageComponent(){const{dragAndDropImageComp:e}=this;return!e||!e.comp?null:e.comp}removeDragSource(e){const{dragSourceAndParamsList:t,dragSvc:i}=this,n=t.find(s=>s.dragSource===e);n&&(i.removeDragSource(n.params),ka(t,n))}destroy(){const{dragSourceAndParamsList:e,dragSvc:t,dropTargets:i}=this;e.forEach(n=>t.removeDragSource(n.params)),e.length=0,i.length=0,this.clearDragAndDropProperties(),super.destroy()}nudge(){this.dragging&&this.onDragging(this.eventLastTime,!0)}onDragStart(e,t){var i;this.dragging=!0,this.dragSource=e,this.eventLastTime=t,this.dragItem=e.getDragItem(),(i=e.onDragStarted)==null||i.call(e),this.createDragAndDropImageComponent()}onDragStop(e){var i,n;(n=(i=this.dragSource)==null?void 0:i.onDragStopped)==null||n.call(i);const{lastDropTarget:t}=this;if(t!=null&&t.onDragStop){const s=this.createDropTargetEvent(t,e,null,null,!1);t.onDragStop(s)}this.clearDragAndDropProperties()}onDragCancel(){var i;const{dragSource:e,lastDropTarget:t}=this;(i=e==null?void 0:e.onDragCancelled)==null||i.call(e),t!=null&&t.onDragCancel&&t.onDragCancel(this.createDropTargetEvent(t,this.eventLastTime,null,null,!1)),this.clearDragAndDropProperties()}clearDragAndDropProperties(){this.eventLastTime=null,this.dragging=!1,this.lastDropTarget=void 0,this.dragItem=null,this.dragSource=null,this.removeDragAndDropImageComponent()}onDragging(e,t=!1){var d,p;const i=this.getHorizontalDirection(e),n=this.getVerticalDirection(e);this.eventLastTime=e,this.positionDragAndDropImageComp(e);const s=this.dropTargets.filter(f=>this.isMouseOnDropTarget(e,f)),r=this.findCurrentDropTarget(e,s),{lastDropTarget:o,dragSource:a,dragAndDropImageComp:l,dragItem:u}=this;if(r!==o){if(this.leaveLastTargetIfExists(e,i,n,t),o!==null&&r===null&&((d=a==null?void 0:a.onGridExit)==null||d.call(a,u)),o===null&&r!==null&&((p=a==null?void 0:a.onGridEnter)==null||p.call(a,u)),this.enterDragTargetIfExists(r,e,i,n,t),r&&l){const{comp:f,promise:m}=l;f?f.setIcon(r.getIconName?r.getIconName():null,!1):m.then(y=>{y&&y.setIcon(r.getIconName?r.getIconName():null,!1)})}this.lastDropTarget=r}else if(r&&r.onDragging){const f=this.createDropTargetEvent(r,e,i,n,t);r.onDragging(f)}}getAllContainersFromDropTarget(e){const t=e.getSecondaryContainers?e.getSecondaryContainers():null,i=[[e.getContainer()]];return t?i.concat(t):i}isMouseOnDropTarget(e,t){const i=this.getAllContainersFromDropTarget(t);let n=!1;const s=(a,l)=>{for(const u of l){const{width:d,height:p,left:f,right:m,top:y,bottom:C}=u.getBoundingClientRect();if(d===0||p===0)return!1;const w=a.clientX>=f&&a.clientX<m,b=a.clientY>=y&&a.clientY<C;if(!w||!b)return!1}return!0};for(const a of i)if(s(e,a)){n=!0;break}const{eElement:r,type:o}=this.dragSource;return t.targetContainsSource&&!t.getContainer().contains(r)?!1:n&&t.isInterestedIn(o,r)}findCurrentDropTarget(e,t){const i=t.length;if(i===0)return null;if(i===1)return t[0];const s=Ov(this.beans).elementsFromPoint(e.clientX,e.clientY);for(const r of s)for(const o of t)if(this.getAllContainersFromDropTarget(o).flatMap(l=>l).indexOf(r)!==-1)return o;return null}enterDragTargetIfExists(e,t,i,n,s){if(e&&e.onDragEnter){const r=this.createDropTargetEvent(e,t,i,n,s);e.onDragEnter(r)}}leaveLastTargetIfExists(e,t,i,n){const{lastDropTarget:s}=this;if(!s)return;if(s.onDragLeave){const o=this.createDropTargetEvent(s,e,t,i,n);s.onDragLeave(o)}const r=this.getDragAndDropImageComponent();r&&r.setIcon(null,!1)}addDropTarget(e){this.dropTargets.push(e)}removeDropTarget(e){this.dropTargets=this.dropTargets.filter(t=>t.getContainer()!==e.getContainer())}hasExternalDropZones(){return this.dropTargets.some(e=>e.external)}findExternalZone(e){return this.dropTargets.filter(i=>i.external).find(i=>i.getContainer()===e.getContainer())||null}isDropZoneWithinThisGrid(e){const i=this.ctrlsSvc.getGridBodyCtrl().eGridBody,{dropZoneTarget:n}=e;return i.contains(n)}getHorizontalDirection(e){var n;const t=(n=this.eventLastTime)==null?void 0:n.clientX,i=e.clientX;return t===i?null:t>i?"left":"right"}getVerticalDirection(e){var n;const t=(n=this.eventLastTime)==null?void 0:n.clientY,i=e.clientY;return t===i?null:t>i?"up":"down"}createDropTargetEvent(e,t,i,n,s){const r=e.getContainer(),o=r.getBoundingClientRect(),{dragItem:a,dragSource:l,gos:u}=this,d=t.clientX-o.left,p=t.clientY-o.top;return ut(u,{event:t,x:d,y:p,vDirection:n,hDirection:i,dragSource:l,fromNudge:s,dragItem:a,dropZoneTarget:r})}positionDragAndDropImageComp(e){const t=this.getDragAndDropImageComponent();t&&dre(t.getGui(),e,this.beans)}removeDragAndDropImageComponent(){var t;const{dragAndDropImageComp:e}=this;if(e){const{comp:i}=e;if(i){const n=i.getGui();(t=this.dragAndDropImageParent)==null||t.removeChild(n),this.destroyBean(i)}}this.dragAndDropImageComp=null}createDragAndDropImageComponent(){const{dragSource:e,gos:t,userCompFactory:i}=this;if(!e)return;const n=Soe(i,ut(t,{dragSource:e}));if(!n)return;const s=n.newAgStackInstance();this.dragAndDropImageComp={promise:s},s.then(r=>{!r||!this.isAlive()||(this.processDragAndDropImageComponent(r),this.dragAndDropImageComp.comp=r)})}processDragAndDropImageComponent(e){const{dragSource:t,environment:i}=this;if(!t)return;const n=e.getGui();n.style.setProperty("position","absolute"),n.style.setProperty("z-index","9999"),Fj(this.gos,n),i.applyThemeClasses(n),e.setIcon(null,!1);let{dragItemName:s}=t;typeof s=="function"&&(s=s()),e.setLabel(s||""),n.style.top="20px",n.style.left="20px";const r=yL(this.beans);this.dragAndDropImageParent=r,r?r.appendChild(n):Ae(54)}registerGridDropTarget(e,t){const i={getContainer:e,isInterestedIn:n=>n===1||n===0,getIconName:()=>"notAllowed"};this.addDropTarget(i),t.addDestroyFunc(()=>this.removeDropTarget(i))}},Mae=class{constructor(e){this.tickingInterval=null,this.onScrollCallback=null,this.scrollContainer=e.scrollContainer,this.scrollHorizontally=e.scrollAxis.indexOf("x")!==-1,this.scrollVertically=e.scrollAxis.indexOf("y")!==-1,this.scrollByTick=e.scrollByTick!=null?e.scrollByTick:20,e.onScrollCallback&&(this.onScrollCallback=e.onScrollCallback),this.scrollVertically&&(this.getVerticalPosition=e.getVerticalPosition,this.setVerticalPosition=e.setVerticalPosition),this.scrollHorizontally&&(this.getHorizontalPosition=e.getHorizontalPosition,this.setHorizontalPosition=e.setHorizontalPosition),this.shouldSkipVerticalScroll=e.shouldSkipVerticalScroll||(()=>!1),this.shouldSkipHorizontalScroll=e.shouldSkipHorizontalScroll||(()=>!1)}check(e,t=!1){const i=t||this.shouldSkipVerticalScroll();if(i&&this.shouldSkipHorizontalScroll())return;const n=this.scrollContainer.getBoundingClientRect(),s=this.scrollByTick;this.tickLeft=e.clientX<n.left+s,this.tickRight=e.clientX>n.right-s,this.tickUp=e.clientY<n.top+s&&!i,this.tickDown=e.clientY>n.bottom-s&&!i,this.tickLeft||this.tickRight||this.tickUp||this.tickDown?this.ensureTickingStarted():this.ensureCleared()}ensureTickingStarted(){this.tickingInterval===null&&(this.tickingInterval=window.setInterval(this.doTick.bind(this),100),this.tickCount=0)}doTick(){this.tickCount++;const e=this.tickCount>20?200:this.tickCount>10?80:40;if(this.scrollVertically){const t=this.getVerticalPosition();this.tickUp&&this.setVerticalPosition(t-e),this.tickDown&&this.setVerticalPosition(t+e)}if(this.scrollHorizontally){const t=this.getHorizontalPosition();this.tickLeft&&this.setHorizontalPosition(t-e),this.tickRight&&this.setHorizontalPosition(t+e)}this.onScrollCallback&&this.onScrollCallback()}ensureCleared(){this.tickingInterval&&(window.clearInterval(this.tickingInterval),this.tickingInterval=null)}};function Dae(e){const{rowIndex:t,rowPinned:i,column:n}=e;return`${t}.${i??"null"}.${n.getId()}`}function qT(e,t){const i=e.column===t.column,n=e.rowPinned===t.rowPinned,s=e.rowIndex===t.rowIndex;return i&&n&&s}function Rae(e,t){switch(e.rowPinned){case"top":if(t.rowPinned!=="top")return!0;break;case"bottom":if(t.rowPinned!=="bottom")return!1;break;default:if(Ne(t.rowPinned))return t.rowPinned!=="top";break}return e.rowIndex<t.rowIndex}function Eae(e,t){return!e&&!t?!0:e&&!t||!e&&t?!1:e.rowIndex===t.rowIndex&&e.rowPinned==t.rowPinned}function Tae(e){let t=0,i;const{pinnedRowModel:n,rowModel:s,pageBounds:r}=e;return n!=null&&n.getPinnedTopRowCount()?i="top":s.getRowCount()?(i=null,t=r.getFirstRow()):n!=null&&n.getPinnedBottomRowCount()&&(i="bottom"),i===void 0?null:{rowIndex:t,rowPinned:i}}function Aae(e){let t,i=null;const{pinnedRowModel:n,pageBounds:s}=e,r=n==null?void 0:n.getPinnedBottomRowCount(),o=n==null?void 0:n.getPinnedTopRowCount();return r?(i="bottom",t=r-1):e.rowModel.getRowCount()?(i=null,t=s.getLastRow()):o&&(i="top",t=o-1),t===void 0?null:{rowIndex:t,rowPinned:i}}function AS(e,t){var i,n;switch(t.rowPinned){case"top":return(i=e.pinnedRowModel)==null?void 0:i.getPinnedTopRow(t.rowIndex);case"bottom":return(n=e.pinnedRowModel)==null?void 0:n.getPinnedBottomRow(t.rowIndex);default:return e.rowModel.getRow(t.rowIndex)}}function Af(e,t){var s;const i=(s=e.spannedRowRenderer)==null?void 0:s.getCellByPosition(t);if(i)return i;const n=e.rowRenderer.getRowByPosition(t);return n?n.getCellCtrl(t.column):null}var Iae=class extends ye{constructor(e){super(),this.eContainer=e}postConstruct(){const{rowModel:e,gos:t,ctrlsSvc:i}=this.beans;$s(t)&&(this.clientSideRowModel=e),i.whenReady(this,n=>{const s=n.gridBodyCtrl;this.autoScrollService=new Mae({scrollContainer:s.eBodyViewport,scrollAxis:"y",getVerticalPosition:()=>s.scrollFeature.getVScrollPosition().top,setVerticalPosition:r=>s.scrollFeature.setVerticalScrollPosition(r),onScrollCallback:()=>{this.onDragging(this.lastDraggingEvent)}})})}getContainer(){return this.eContainer}isInterestedIn(e){return e===2}getIconName(){return this.gos.get("rowDragManaged")&&this.shouldPreventRowMove()?"notAllowed":"move"}shouldPreventRowMove(){const{rowGroupColsSvc:e,filterManager:t,sortSvc:i}=this.beans;return!!(((e==null?void 0:e.columns)??[]).length||(t==null?void 0:t.isAnyFilterPresent())||(i==null?void 0:i.isSortActive()))}getRowNodes(e){var n;if(!this.isFromThisGrid(e))return e.dragItem.rowNodes||[];const t=e.dragItem.rowNode;if(this.gos.get("rowDragMultiRow")){const s=[...((n=this.beans.selectionSvc)==null?void 0:n.getSelectedNodes())??[]].sort((r,o)=>r.rowIndex==null||o.rowIndex==null?0:this.getRowIndexNumber(r)-this.getRowIndexNumber(o));if(s.indexOf(t)!==-1)return s}return[t]}onDragEnter(e){e.dragItem.rowNodes=this.getRowNodes(e),this.dispatchGridEvent("rowDragEnter",e),this.getRowNodes(e).forEach(t=>{this.setRowNodeDragging(t,!0)}),this.onEnterOrDragging(e)}onDragging(e){this.onEnterOrDragging(e)}isFromThisGrid(e){const{dragSourceDomDataKey:t}=e.dragSource;return t===this.gos.getDomDataKey()}onEnterOrDragging(e){this.dispatchGridEvent("rowDragMove",e),this.lastDraggingEvent=e;const t=ZE(this.beans,e).y;this.gos.get("rowDragManaged")&&this.doManagedDrag(e,t),this.autoScrollService.check(e.event)}doManagedDrag(e,t){const{dragAndDrop:i,gos:n}=this.beans,s=this.isFromThisGrid(e),r=n.get("rowDragManaged"),o=e.dragItem.rowNodes;r&&this.shouldPreventRowMove()||(n.get("suppressMoveWhenRowDragging")||!s?i.isDropZoneWithinThisGrid(e)&&this.clientSideRowModel.highlightRowAtPixel(o[0],t):this.moveRows(o,t))}getRowIndexNumber(e){const t=e.getRowIndexString();return parseInt(bi(t.split("-")),10)}moveRowAndClearHighlight(e){const t=this.clientSideRowModel,i=t.getLastHighlightedRowNode(),n=i&&i.highlighted==="Below",s=ZE(this.beans,e).y,r=e.dragItem.rowNodes;let o=n?1:0;if(this.isFromThisGrid(e))r.forEach(a=>{a.rowTop<s&&(o-=1)}),this.moveRows(r,s,o);else{const a=wg(this.gos);let l=t.getRowIndexAtPixel(s)+1;t.getHighlightPosition(s)==="Above"&&l--,t.updateRowData({add:r.filter(u=>!t.getRowNode((a==null?void 0:a({data:u.data,level:0,rowPinned:u.rowPinned}))??u.data.id)).map(u=>u.data),addIndex:l})}this.clearRowHighlight()}clearRowHighlight(){this.clientSideRowModel.highlightRowAtPixel(null)}moveRows(e,t,i=0){const n=this.beans.focusSvc,s=n.getFocusedCell(),r=s&&Af(this.beans,s);this.clientSideRowModel.ensureRowsAtPixel(e,t,i)&&(r?r.focusCell():n.clearFocusedCell())}addRowDropZone(e){if(!e.getContainer()){Ae(55);return}const t=this.beans.dragAndDrop;if(t.findExternalZone(e)){Ae(56);return}let i={getContainer:e.getContainer};e.fromGrid?i=e:(e.onDragEnter&&(i.onDragEnter=s=>{e.onDragEnter(this.draggingToRowDragEvent("rowDragEnter",s))}),e.onDragLeave&&(i.onDragLeave=s=>{e.onDragLeave(this.draggingToRowDragEvent("rowDragLeave",s))}),e.onDragging&&(i.onDragging=s=>{e.onDragging(this.draggingToRowDragEvent("rowDragMove",s))}),e.onDragStop&&(i.onDragStop=s=>{e.onDragStop(this.draggingToRowDragEvent("rowDragEnd",s))}),e.onDragCancel&&(i.onDragCancel=s=>{e.onDragCancel(this.draggingToRowDragEvent("rowDragCancel",s))}));const n={isInterestedIn:s=>s===2,getIconName:()=>"move",external:!0,...i};t.addDropTarget(n),this.addDestroyFunc(()=>t.removeDropTarget(n))}getRowDropZone(e){const t=this.getContainer.bind(this),i=this.onDragEnter.bind(this),n=this.onDragLeave.bind(this),s=this.onDragging.bind(this),r=this.onDragStop.bind(this),o=this.onDragCancel.bind(this);let a;return e?a={getContainer:t,onDragEnter:e.onDragEnter?l=>{i(l),e.onDragEnter(this.draggingToRowDragEvent("rowDragEnter",l))}:i,onDragLeave:e.onDragLeave?l=>{n(l),e.onDragLeave(this.draggingToRowDragEvent("rowDragLeave",l))}:n,onDragging:e.onDragging?l=>{s(l),e.onDragging(this.draggingToRowDragEvent("rowDragMove",l))}:s,onDragStop:e.onDragStop?l=>{r(l),e.onDragStop(this.draggingToRowDragEvent("rowDragEnd",l))}:r,onDragCancel:e.onDragCancel?l=>{o(l),e.onDragCancel(this.draggingToRowDragEvent("rowDragCancel",l))}:o,fromGrid:!0}:a={getContainer:t,onDragEnter:i,onDragLeave:n,onDragging:s,onDragStop:r,onDragCancel:o,fromGrid:!0},a}draggingToRowDragEvent(e,t){const i=this.beans,{pageBounds:n,rowModel:s,gos:r}=i,o=ZE(i,t).y,a=o>n.getCurrentPageHeight();let l=-1,u;return a||(l=s.getRowIndexAtPixel(o),u=s.getRow(l)),ut(r,{type:e,event:t.event,node:t.dragItem.rowNode,nodes:t.dragItem.rowNodes,overIndex:l,overNode:u,y:o,vDirection:t.vDirection})}dispatchGridEvent(e,t){const i=this.draggingToRowDragEvent(e,t);this.eventSvc.dispatchEvent(i)}onDragLeave(e){this.dispatchGridEvent("rowDragLeave",e),this.stopDragging(e),this.gos.get("rowDragManaged")&&this.clearRowHighlight()}onDragStop(e){this.dispatchGridEvent("rowDragEnd",e),this.stopDragging(e);const{dragAndDrop:t,gos:i}=this.beans;i.get("rowDragManaged")&&(i.get("suppressMoveWhenRowDragging")||!this.isFromThisGrid(e))&&t.isDropZoneWithinThisGrid(e)&&this.moveRowAndClearHighlight(e)}onDragCancel(e){this.dispatchGridEvent("rowDragCancel",e),this.stopDragging(e);const{dragAndDrop:t,gos:i}=this.beans;i.get("rowDragManaged")&&(i.get("suppressMoveWhenRowDragging")||!this.isFromThisGrid(e))&&t.isDropZoneWithinThisGrid(e)&&this.clearRowHighlight()}stopDragging(e){this.autoScrollService.ensureCleared(),this.getRowNodes(e).forEach(t=>{this.setRowNodeDragging(t,!1)})}setRowNodeDragging(e,t){e.dragging!==t&&(e.dragging=t,e.dispatchRowEvent("draggingChanged"))}};function Nj(e,t,i){if(i===0)return!1;const n=Math.abs(e.clientX-t.clientX),s=Math.abs(e.clientY-t.clientY);return Math.max(n,s)<=i}var Lae=class extends ye{constructor(){super(...arguments),this.beanName="dragSvc",this.dragEndFunctions=[],this.dragSources=[]}destroy(){const{dragSources:e}=this;e.forEach(this.removeListener.bind(this)),e.length=0,super.destroy()}removeListener(e){const t=e.dragSource.eElement,i=e.mouseDownListener;if(t.removeEventListener("mousedown",i),e.touchEnabled){const n=e.touchStartListener;t.removeEventListener("touchstart",n,{passive:!0})}}removeDragSource(e){const{dragSources:t}=this,i=t.find(n=>n.dragSource===e);i&&(this.removeListener(i),ka(t,i))}addDragSource(e){const t=this.onMouseDown.bind(this,e),{eElement:i,includeTouch:n,stopPropagationForTouch:s}=e;i.addEventListener("mousedown",t);let r=null;const o=this.gos.get("suppressTouch");n&&!o&&(r=a=>{hL(a.target)||(s&&a.stopPropagation(),this.onTouchStart(e,a))},i.addEventListener("touchstart",r,{passive:!1})),this.dragSources.push({dragSource:e,mouseDownListener:t,touchStartListener:r,touchEnabled:!!n})}onTouchStart(e,t){this.currentDragParams=e,this.dragging=!1;const i=t.touches[0];this.touchLastTime=i,this.touchStart=i;const n=l=>this.onTouchMove(l,e.eElement),s=l=>this.onTouchUp(l,e.eElement),r=l=>{l.cancelable&&l.preventDefault()},o=t.target,a=[{target:Ov(this.beans),type:"touchmove",listener:r,options:{passive:!1}},{target:o,type:"touchmove",listener:n,options:{passive:!0}},{target:o,type:"touchend",listener:s,options:{passive:!0}},{target:o,type:"touchcancel",listener:s,options:{passive:!0}}];this.addTemporaryEvents(a),e.dragStartPixels===0&&this.onCommonMove(i,this.touchStart,e.eElement)}onMouseDown(e,t){const i=t;if(e.skipMouseEvent&&e.skipMouseEvent(t)||i._alreadyProcessedByDragService||(i._alreadyProcessedByDragService=!0,t.button!==0))return;this.shouldPreventMouseEvent(t)&&t.preventDefault(),this.currentDragParams=e,this.dragging=!1,this.mouseStartEvent=t,this.startTarget=t.target;const n=u=>this.onMouseMove(u,e.eElement),s=u=>this.onMouseUp(u,e.eElement),r=u=>u.preventDefault(),o=u=>{u.key===ge.ESCAPE&&this.cancelDrag(e.eElement)},a=Ov(this.beans),l=[{target:a,type:"mousemove",listener:n},{target:a,type:"mouseup",listener:s},{target:a,type:"contextmenu",listener:r},{target:a,type:"keydown",listener:o}];this.addTemporaryEvents(l),e.dragStartPixels===0&&this.onMouseMove(t,e.eElement)}addTemporaryEvents(e){e.forEach(t=>{const{target:i,type:n,listener:s,options:r}=t;i.addEventListener(n,s,r)}),this.dragEndFunctions.push(()=>{e.forEach(t=>{const{target:i,type:n,listener:s,options:r}=t;i.removeEventListener(n,s,r)})})}isEventNearStartEvent(e,t){const{dragStartPixels:i}=this.currentDragParams,n=Ne(i)?i:4;return Nj(e,t,n)}getFirstActiveTouch(e){for(let t=0;t<e.length;t++)if(e[t].identifier===this.touchStart.identifier)return e[t];return null}onCommonMove(e,t,i){var n;if(!this.dragging){if(this.isEventNearStartEvent(e,t))return;if(this.dragging=!0,this.eventSvc.dispatchEvent({type:"dragStarted",target:i}),this.currentDragParams.onDragStart(t),!this.currentDragParams){this.dragging=!1;return}this.currentDragParams.onDragging(t)}(n=this.currentDragParams)==null||n.onDragging(e)}onTouchMove(e,t){const i=this.getFirstActiveTouch(e.touches);i&&this.onCommonMove(i,this.touchStart,t)}onMouseMove(e,t){var i;hd()&&((i=An(this.beans).getSelection())==null||i.removeAllRanges()),this.shouldPreventMouseEvent(e)&&e.preventDefault(),this.onCommonMove(e,this.mouseStartEvent,t)}shouldPreventMouseEvent(e){const{gos:t}=this,i=t.get("enableCellTextSelection"),n=e.type==="mousemove",s=r=>{const o=r.target,a=o==null?void 0:o.tagName.toLocaleLowerCase();return!!(a!=null&&a.match("^a$|textarea|input|select|button"))};return i&&n&&e.cancelable&&TS(t,e)&&!s(e)}onTouchUp(e,t){let i=this.getFirstActiveTouch(e.changedTouches);i||(i=this.touchLastTime),this.onUpCommon(i,t)}onMouseUp(e,t){this.onUpCommon(e,t)}onUpCommon(e,t){this.dragging&&(this.dragging=!1,this.currentDragParams.onDragStop(e),this.eventSvc.dispatchEvent({type:"dragStopped",target:t})),this.resetDragProperties()}cancelDrag(e){var t,i;this.eventSvc.dispatchEvent({type:"dragCancelled",target:e}),(i=(t=this.currentDragParams)==null?void 0:t.onDragCancel)==null||i.call(t),this.resetDragProperties()}resetDragProperties(){this.mouseStartEvent=null,this.startTarget=null,this.touchStart=null,this.touchLastTime=null,this.currentDragParams=null;const{dragEndFunctions:e}=this;e.forEach(t=>t()),e.length=0}};function Bj(e,t){return e+"_"+t}function dn(e){return e instanceof zj}var zj=class extends ye{constructor(e,t,i,n){super(),this.providedColumnGroup=e,this.groupId=t,this.partId=i,this.pinned=n,this.isColumn=!1,this.displayedChildren=[],this.autoHeaderHeight=null,this.parent=null}reset(){this.parent=null,this.children=null,this.displayedChildren=null}getParent(){return this.parent}getUniqueId(){return Bj(this.groupId,this.partId)}isEmptyGroup(){return this.displayedChildren.length===0}isMoving(){const e=this.getProvidedColumnGroup().getLeafColumns();return!e||e.length===0?!1:e.every(t=>t.isMoving())}checkLeft(){if(this.displayedChildren.forEach(e=>{dn(e)&&e.checkLeft()}),this.displayedChildren.length>0)if(this.gos.get("enableRtl")){const t=bi(this.displayedChildren).getLeft();this.setLeft(t)}else{const e=this.displayedChildren[0].getLeft();this.setLeft(e)}else this.setLeft(null)}getLeft(){return this.left}getOldLeft(){return this.oldLeft}setLeft(e){this.oldLeft=this.left,this.left!==e&&(this.left=e,this.dispatchLocalEvent({type:"leftChanged"}))}getPinned(){return this.pinned}getGroupId(){return this.groupId}getPartId(){return this.partId}getActualWidth(){var t;let e=0;return(t=this.displayedChildren)==null||t.forEach(i=>{e+=i.getActualWidth()}),e}isResizable(){if(!this.displayedChildren)return!1;let e=!1;return this.displayedChildren.forEach(t=>{t.isResizable()&&(e=!0)}),e}getMinWidth(){let e=0;return this.displayedChildren.forEach(t=>{e+=t.getMinWidth()}),e}addChild(e){this.children||(this.children=[]),this.children.push(e)}getDisplayedChildren(){return this.displayedChildren}getLeafColumns(){const e=[];return this.addLeafColumns(e),e}getDisplayedLeafColumns(){const e=[];return this.addDisplayedLeafColumns(e),e}getDefinition(){return this.providedColumnGroup.getColGroupDef()}getColGroupDef(){return this.providedColumnGroup.getColGroupDef()}isPadding(){return this.providedColumnGroup.isPadding()}isExpandable(){return this.providedColumnGroup.isExpandable()}isExpanded(){return this.providedColumnGroup.isExpanded()}setExpanded(e){this.providedColumnGroup.setExpanded(e)}isAutoHeaderHeight(){var e;return!!((e=this.getColGroupDef())!=null&&e.autoHeaderHeight)}getAutoHeaderHeight(){return this.autoHeaderHeight}setAutoHeaderHeight(e){const t=e!==this.autoHeaderHeight;return this.autoHeaderHeight=e,t}addDisplayedLeafColumns(e){this.displayedChildren.forEach(t=>{sd(t)?e.push(t):dn(t)&&t.addDisplayedLeafColumns(e)})}addLeafColumns(e){this.children.forEach(t=>{sd(t)?e.push(t):dn(t)&&t.addLeafColumns(e)})}getChildren(){return this.children}getColumnGroupShow(){return this.providedColumnGroup.getColumnGroupShow()}getProvidedColumnGroup(){return this.providedColumnGroup}getPaddingLevel(){const e=this.getParent();return!this.isPadding()||!e||!e.isPadding()?0:1+e.getPaddingLevel()}calculateDisplayedColumns(){this.displayedChildren=[];let e=this;for(;e!=null&&e.isPadding();)e=e.getParent();if(!(e?e.getProvidedColumnGroup().isExpandable():!1)){this.displayedChildren=this.children,this.dispatchLocalEvent({type:"displayedChildrenChanged"});return}this.children.forEach(i=>{if(dn(i)&&(!i.displayedChildren||!i.displayedChildren.length))return;switch(i.getColumnGroupShow()){case"open":e.getProvidedColumnGroup().isExpanded()&&this.displayedChildren.push(i);break;case"closed":e.getProvidedColumnGroup().isExpanded()||this.displayedChildren.push(i);break;default:this.displayedChildren.push(i);break}}),this.dispatchLocalEvent({type:"displayedChildrenChanged"})}},ZT="row-group-",Gj="t-",Hj="b-",kae=0,Dg=class{constructor(e){this.master=!1,this.detail=void 0,this.rowIndex=null,this.key=null,this.sourceRowIndex=-1,this.childrenMapped={},this.treeNode=null,this.treeNodeFlags=0,this.displayed=!1,this.rowTop=null,this.oldRowTop=null,this.selectable=!0,this.__objectId=kae++,this.alreadyRendered=!1,this.highlighted=null,this.hovered=!1,this.__selected=!1,this.beans=e}setData(e){this.setDataCommon(e,!1)}updateData(e){this.setDataCommon(e,!0)}setDataCommon(e,t){var a;const{valueCache:i,selectionSvc:n,rowSpanSvc:s}=this.beans,r=this.data;this.data=e,i==null||i.onDataChanged(),this.updateDataOnDetailNode(),n==null||n.updateRowSelectable(this),this.resetQuickFilterAggregateText();const o=this.createDataChangedEvent(e,r,t);(a=this.__localEventService)==null||a.dispatchEvent(o),s==null||s.onRowDataUpdated(this)}updateDataOnDetailNode(){this.detailNode&&(this.detailNode.data=this.data)}createDataChangedEvent(e,t,i){return{type:"dataChanged",node:this,oldData:t,newData:e,update:i}}getRowIndexString(){return this.rowIndex==null?(wi(13),null):this.rowPinned==="top"?Gj+this.rowIndex:this.rowPinned==="bottom"?Hj+this.rowIndex:this.rowIndex.toString()}setDataAndId(e,t){var o,a;const{selectionSvc:i}=this.beans,n=(o=i==null?void 0:i.createDaemonNode)==null?void 0:o.call(i,this),s=this.data;this.data=e,this.updateDataOnDetailNode(),this.setId(t),i&&(i.updateRowSelectable(this),i.syncInRowNode(this,n));const r=this.createDataChangedEvent(e,s,!1);(a=this.__localEventService)==null||a.dispatchEvent(r)}setId(e){var i;const t=wg(this.beans.gos);if(t)if(this.data){const n=((i=this.parent)==null?void 0:i.getRoute())??[];this.id=t({data:this.data,parentKeys:n.length>0?n:void 0,level:this.level,rowPinned:this.rowPinned}),this.id.startsWith(ZT)&&wi(14,{groupPrefix:ZT})}else this.id=void 0;else this.id=e}setRowTop(e){this.oldRowTop=this.rowTop,this.rowTop!==e&&(this.rowTop=e,this.dispatchRowEvent("topChanged"),this.setDisplayed(e!==null))}clearRowTopAndRowIndex(){this.oldRowTop=null,this.setRowTop(null),this.setRowIndex(null)}setHovered(e){this.hovered=e}isHovered(){return this.hovered}setRowHeight(e,t=!1){this.rowHeight=e,this.rowHeightEstimated=t,this.dispatchRowEvent("heightChanged")}setExpanded(e,t,i){var n;(n=this.beans.expansionSvc)==null||n.setExpanded(this,e,t,i)}setDataValue(e,t,i){const{colModel:n,valueSvc:s,gos:r,selectionSvc:o,rowSpanSvc:a}=this.beans,l=typeof e!="string"?e:n.getCol(e)??n.getColDefCol(e);if(!l)return!1;const u=s.getValueForDisplay(l,this);if(r.get("readOnlyEdit")){const{beans:{eventSvc:p},data:f,rowIndex:m,rowPinned:y}=this;return p.dispatchEvent({type:"cellEditRequest",event:null,rowIndex:m,rowPinned:y,column:l,colDef:l.colDef,data:f,node:this,oldValue:u,newValue:t,value:t,source:i}),!1}const d=s.setValue(this,l,t,i);return this.dispatchCellChangedEvent(l,t,u),o==null||o.updateRowSelectable(this),a==null||a.onRowDataUpdated(this),d}updateHasChildren(){let e=this.group&&!this.footer||this.childrenAfterGroup&&this.childrenAfterGroup.length>0;const{rowChildrenSvc:t}=this.beans;t&&(e=t.getHasChildrenValue(this)),e!==this.__hasChildren&&(this.__hasChildren=!!e,this.dispatchRowEvent("hasChildrenChanged"))}hasChildren(){return this.__hasChildren==null&&this.updateHasChildren(),this.__hasChildren}dispatchCellChangedEvent(e,t,i){var s;const n={type:"cellChanged",node:this,column:e,newValue:t,oldValue:i};(s=this.__localEventService)==null||s.dispatchEvent(n)}resetQuickFilterAggregateText(){this.quickFilterAggregateText=null}isExpandable(){var e;return((e=this.beans.expansionSvc)==null?void 0:e.isExpandable(this))??!1}isSelected(){return this.footer?this.sibling.isSelected():this.__selected}depthFirstSearch(e){var t;(t=this.childrenAfterGroup)==null||t.forEach(i=>i.depthFirstSearch(e)),e(this)}dispatchRowEvent(e){var t;(t=this.__localEventService)==null||t.dispatchEvent({type:e,node:this})}setSelected(e,t=!1,i="api"){var n;(n=this.beans.selectionSvc)==null||n.setNodesSelected({nodes:[this],newValue:e,clearSelection:t,source:i})}isRowPinned(){return!!this.rowPinned}__addEventListener(e,t){this.__localEventService||(this.__localEventService=new Xh),this.__localEventService.addEventListener(e,t)}__removeEventListener(e,t){this.removeLocalListener(e,t)}addEventListener(e,t){var n,s,r,o;(n=this.beans.validation)==null||n.checkRowEvents(e),this.__localEventService||(this.__localEventService=new Xh),this.frameworkEventListenerService=(r=(s=this.beans.frameworkOverrides).createLocalEventListenerWrapper)==null?void 0:r.call(s,this.frameworkEventListenerService,this.__localEventService);const i=((o=this.frameworkEventListenerService)==null?void 0:o.wrap(t))??t;this.__localEventService.addEventListener(e,i)}removeEventListener(e,t){var n;const i=((n=this.frameworkEventListenerService)==null?void 0:n.unwrap(t))??t;this.removeLocalListener(e,i)}removeLocalListener(e,t){var i,n;(i=this.__localEventService)==null||i.removeEventListener(e,t),(n=this.__localEventService)!=null&&n.noRegisteredListenersExist()&&(this.__localEventService=null)}isFullWidthCell(){if(Ae(61),this.detail)return!0;const e=this.beans.gos.getCallback("isFullWidthRow");return e?e({rowNode:this}):!1}getRoute(){if(this.level===-1)return[];if(this.key==null)return;const e=[];let t=this;for(;t&&t.key!=null;)e.push(t.key),t=t.parent;return e.reverse()}setFirstChild(e){this.firstChild!==e&&(this.firstChild=e,this.dispatchRowEvent("firstChildChanged"))}setDisplayed(e){this.displayed!==e&&(this.displayed=e,this.dispatchRowEvent("displayedChanged"))}setRowIndex(e){this.rowIndex!==e&&(this.rowIndex=e,this.dispatchRowEvent("rowIndexChanged"))}setAllChildrenCount(e){this.allChildrenCount!==e&&(this.allChildrenCount=e,this.dispatchRowEvent("allChildrenCountChanged"))}setUiLevel(e){this.uiLevel!==e&&(this.uiLevel=e,this.dispatchRowEvent("uiLevelChanged"))}};function Pae(e,t,i){return ut(t,{type:i,node:e,data:e.data,rowIndex:e.rowIndex,rowPinned:e.rowPinned})}var Fae=class extends Xi{constructor(e,t){super('<div class="ag-filter"></div>'),this.column=e,this.source=t,this.filterWrapper=null}postConstruct(){this.createFilter(!0),this.addManagedEventListeners({filterDestroyed:this.onFilterDestroyed.bind(this)})}hasFilter(){return!!this.filterWrapper}getFilter(){var e;return((e=this.filterWrapper)==null?void 0:e.filterPromise)??null}afterInit(){var e,t;return((t=(e=this.filterWrapper)==null?void 0:e.filterPromise)==null?void 0:t.then(()=>{}))??$i.resolve()}afterGuiAttached(e){var t,i;(i=(t=this.filterWrapper)==null?void 0:t.filterPromise)==null||i.then(n=>{var s;(s=n==null?void 0:n.afterGuiAttached)==null||s.call(n,e)})}afterGuiDetached(){var e,t;(t=(e=this.filterWrapper)==null?void 0:e.filterPromise)==null||t.then(i=>{var n;(n=i==null?void 0:i.afterGuiDetached)==null||n.call(i)})}createFilter(e){var n,s;const{column:t,source:i}=this;this.filterWrapper=((n=this.beans.filterManager)==null?void 0:n.getOrCreateFilterWrapper(t))??null,(s=this.filterWrapper)!=null&&s.filterPromise&&this.filterWrapper.filterPromise.then(r=>{const o=r.getGui();Ne(o)||Ae(69,{guiFromFilter:o}),this.appendChild(o),e&&this.eventSvc.dispatchEvent({type:"filterOpened",column:t,source:i,eGui:this.getGui()})})}onFilterDestroyed(e){(e.source==="api"||e.source==="paramsUpdated")&&e.column.getId()===this.column.getId()&&this.beans.colModel.getColDefCol(this.column)&&(no(this.getGui()),this.createFilter())}destroy(){this.filterWrapper=null,super.destroy()}},_j="ag-resizer-wrapper",Su=(e,t)=>`<div data-ref="${e}Resizer" class="ag-resizer ag-resizer-${t}"></div>`,Oae=`<div class="${_j}">
        ${Su("eTopLeft","topLeft")}
        ${Su("eTop","top")}
        ${Su("eTopRight","topRight")}
        ${Su("eRight","right")}
        ${Su("eBottomRight","bottomRight")}
        ${Su("eBottom","bottom")}
        ${Su("eBottomLeft","bottomLeft")}
        ${Su("eLeft","left")}
    </div>`,Nae=class extends ye{constructor(e,t){super(),this.element=e,this.dragStartPosition={x:0,y:0},this.position={x:0,y:0},this.lastSize={width:-1,height:-1},this.positioned=!1,this.resizersAdded=!1,this.resizeListeners=[],this.boundaryEl=null,this.isResizing=!1,this.isMoving=!1,this.resizable={},this.movable=!1,this.currentResizer=null,this.config=Object.assign({},{popup:!1},t)}wireBeans(e){this.popupSvc=e.popupSvc,this.dragSvc=e.dragSvc}center(){const{clientHeight:e,clientWidth:t}=this.offsetParent,i=t/2-this.getWidth()/2,n=e/2-this.getHeight()/2;this.offsetElement(i,n)}initialisePosition(){if(this.positioned)return;const{centered:e,forcePopupParentAsOffsetParent:t,minWidth:i,width:n,minHeight:s,height:r,x:o,y:a}=this.config;this.offsetParent||this.setOffsetParent();let l=0,u=0;const d=Dl(this.element);if(d){const p=this.findBoundaryElement(),f=window.getComputedStyle(p);if(f.minWidth!=null){const m=p.offsetWidth-this.element.offsetWidth;u=parseInt(f.minWidth,10)-m}if(f.minHeight!=null){const m=p.offsetHeight-this.element.offsetHeight;l=parseInt(f.minHeight,10)-m}}if(this.minHeight=s||l,this.minWidth=i||u,n&&this.setWidth(n),r&&this.setHeight(r),(!n||!r)&&this.refreshSize(),e)this.center();else if(o||a)this.offsetElement(o,a);else if(d&&t){let p=this.boundaryEl,f=!0;if(p||(p=this.findBoundaryElement(),f=!1),p){const m=parseFloat(p.style.top),y=parseFloat(p.style.left);f?this.offsetElement(isNaN(y)?0:y,isNaN(m)?0:m):this.setPosition(y,m)}}this.positioned=!!this.offsetParent}isPositioned(){return this.positioned}getPosition(){return this.position}setMovable(e,t){var n,s;if(!this.config.popup||e===this.movable)return;this.movable=e;const i=this.moveElementDragListener||{eElement:t,onDragStart:this.onMoveStart.bind(this),onDragging:this.onMove.bind(this),onDragStop:this.onMoveEnd.bind(this)};e?((n=this.dragSvc)==null||n.addDragSource(i),this.moveElementDragListener=i):((s=this.dragSvc)==null||s.removeDragSource(i),this.moveElementDragListener=void 0)}setResizable(e){if(this.clearResizeListeners(),e?this.addResizers():this.removeResizers(),typeof e=="boolean"){if(e===!1)return;e={topLeft:e,top:e,topRight:e,right:e,bottomRight:e,bottom:e,bottomLeft:e,left:e}}Object.keys(e).forEach(t=>{var o;const n=!!e[t],s=this.getResizerElement(t),r={dragStartPixels:0,eElement:s,onDragStart:a=>this.onResizeStart(a,t),onDragging:this.onResize.bind(this),onDragStop:a=>this.onResizeEnd(a,t)};(n||!this.isAlive()&&!n)&&(n?((o=this.dragSvc)==null||o.addDragSource(r),this.resizeListeners.push(r),s.style.pointerEvents="all"):s.style.pointerEvents="none",this.resizable[t]=n)})}removeSizeFromEl(){this.element.style.removeProperty("height"),this.element.style.removeProperty("width"),this.element.style.removeProperty("flex")}restoreLastSize(){this.element.style.flex="0 0 auto";const{height:e,width:t}=this.lastSize;t!==-1&&(this.element.style.width=`${t}px`),e!==-1&&(this.element.style.height=`${e}px`)}getHeight(){return this.element.offsetHeight}setHeight(e){const{popup:t}=this.config,i=this.element;let n=!1;if(typeof e=="string"&&e.indexOf("%")!==-1)ev(i,e),e=W_(i),n=!0;else if(e=Math.max(this.minHeight,e),this.positioned){const s=this.getAvailableHeight();s&&e>s&&(e=s)}this.getHeight()!==e&&(n?(i.style.maxHeight="unset",i.style.minHeight="unset"):t?ev(i,e):(i.style.height=`${e}px`,i.style.flex="0 0 auto",this.lastSize.height=typeof e=="number"?e:parseFloat(e)))}getAvailableHeight(){const{popup:e,forcePopupParentAsOffsetParent:t}=this.config;this.positioned||this.initialisePosition();const{clientHeight:i}=this.offsetParent;if(!i)return null;const n=this.element.getBoundingClientRect(),s=this.offsetParent.getBoundingClientRect(),r=e?this.position.y:n.top,o=e?0:s.top;let a=0;if(t){const u=this.element.parentElement;if(u){const{bottom:d}=u.getBoundingClientRect();a=d-n.bottom}}return i+o-r-a}getWidth(){return this.element.offsetWidth}setWidth(e){const t=this.element,{popup:i}=this.config;let n=!1;if(typeof e=="string"&&e.indexOf("%")!==-1)bl(t,e),e=hS(t),n=!0;else if(this.positioned){e=Math.max(this.minWidth,e);const{clientWidth:s}=this.offsetParent,r=i?this.position.x:this.element.getBoundingClientRect().left;s&&e+r>s&&(e=s-r)}this.getWidth()!==e&&(n?(t.style.maxWidth="unset",t.style.minWidth="unset"):this.config.popup?bl(t,e):(t.style.width=`${e}px`,t.style.flex=" unset",this.lastSize.width=typeof e=="number"?e:parseFloat(e)))}offsetElement(e=0,t=0){var s;const{forcePopupParentAsOffsetParent:i}=this.config,n=i?this.boundaryEl:this.element;n&&((s=this.popupSvc)==null||s.positionPopup({ePopup:n,keepWithinBounds:!0,skipObserver:this.movable||this.isResizable(),updatePosition:()=>({x:e,y:t})}),this.setPosition(parseFloat(n.style.left),parseFloat(n.style.top)))}constrainSizeToAvailableHeight(e){var i;if(!this.config.forcePopupParentAsOffsetParent)return;const t=()=>{const n=this.getAvailableHeight();this.element.style.setProperty("max-height",`${n}px`)};e&&this.popupSvc?this.resizeObserverSubscriber=zc(this.beans,(i=this.popupSvc)==null?void 0:i.getPopupParent(),t):(this.element.style.removeProperty("max-height"),this.resizeObserverSubscriber&&(this.resizeObserverSubscriber(),this.resizeObserverSubscriber=void 0))}setPosition(e,t){this.position.x=e,this.position.y=t}updateDragStartPosition(e,t){this.dragStartPosition={x:e,y:t}}calculateMouseMovement(e){const{e:t,isLeft:i,isTop:n,anywhereWithin:s,topBuffer:r}=e,o=t.clientX-this.dragStartPosition.x,a=t.clientY-this.dragStartPosition.y,l=this.shouldSkipX(t,!!i,!!s,o)?0:o,u=this.shouldSkipY(t,!!n,r,a)?0:a;return{movementX:l,movementY:u}}shouldSkipX(e,t,i,n){const s=this.element.getBoundingClientRect(),r=this.offsetParent.getBoundingClientRect(),o=this.boundaryEl.getBoundingClientRect(),a=this.config.popup?this.position.x:s.left;let l=a<=0&&r.left>=e.clientX||r.right<=e.clientX&&r.right<=o.right;return l?!0:(t?l=n<0&&e.clientX>a+r.left||n>0&&e.clientX<a+r.left:i?l=n<0&&e.clientX>o.right||n>0&&e.clientX<a+r.left:l=n<0&&e.clientX>o.right||n>0&&e.clientX<o.right,l)}shouldSkipY(e,t,i=0,n){const s=this.element.getBoundingClientRect(),r=this.offsetParent.getBoundingClientRect(),o=this.boundaryEl.getBoundingClientRect(),a=this.config.popup?this.position.y:s.top;let l=a<=0&&r.top>=e.clientY||r.bottom<=e.clientY&&r.bottom<=o.bottom;return l?!0:(t?l=n<0&&e.clientY>a+r.top+i||n>0&&e.clientY<a+r.top:l=n<0&&e.clientY>o.bottom||n>0&&e.clientY<o.bottom,l)}createResizeMap(){const e=this.element;this.resizerMap={topLeft:{element:e.querySelector("[data-ref=eTopLeftResizer]")},top:{element:e.querySelector("[data-ref=eTopResizer]")},topRight:{element:e.querySelector("[data-ref=eTopRightResizer]")},right:{element:e.querySelector("[data-ref=eRightResizer]")},bottomRight:{element:e.querySelector("[data-ref=eBottomRightResizer]")},bottom:{element:e.querySelector("[data-ref=eBottomResizer]")},bottomLeft:{element:e.querySelector("[data-ref=eBottomLeftResizer]")},left:{element:e.querySelector("[data-ref=eLeftResizer]")}}}addResizers(){if(this.resizersAdded)return;const e=this.element;if(!e)return;const i=new DOMParser().parseFromString(Oae,"text/html").body;e.appendChild(i.firstChild),this.createResizeMap(),this.resizersAdded=!0}removeResizers(){this.resizerMap=void 0;const e=this.element.querySelector(`.${_j}`);e&&this.element.removeChild(e),this.resizersAdded=!1}getResizerElement(e){return this.resizerMap[e].element}onResizeStart(e,t){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.currentResizer={isTop:!!t.match(/top/i),isRight:!!t.match(/right/i),isBottom:!!t.match(/bottom/i),isLeft:!!t.match(/left/i)},this.element.classList.add("ag-resizing"),this.resizerMap[t].element.classList.add("ag-active");const{popup:i,forcePopupParentAsOffsetParent:n}=this.config;!i&&!n&&this.applySizeToSiblings(this.currentResizer.isBottom||this.currentResizer.isTop),this.isResizing=!0,this.updateDragStartPosition(e.clientX,e.clientY)}getSiblings(){const t=this.element.parentElement;return t?Array.prototype.slice.call(t.children).filter(i=>!i.classList.contains("ag-hidden")):null}getMinSizeOfSiblings(){const e=this.getSiblings()||[];let t=0,i=0;for(let n=0;n<e.length;n++){const s=e[n],r=!!s.style.flex&&s.style.flex!=="0 0 auto";if(s===this.element)continue;let o=this.minHeight||0,a=this.minWidth||0;if(r){const l=window.getComputedStyle(s);l.minHeight&&(o=parseInt(l.minHeight,10)),l.minWidth&&(a=parseInt(l.minWidth,10))}else o=s.offsetHeight,a=s.offsetWidth;t+=o,i+=a}return{height:t,width:i}}applySizeToSiblings(e){let t=null;const i=this.getSiblings();if(i){for(let n=0;n<i.length;n++){const s=i[n];s!==t&&(e?s.style.height=`${s.offsetHeight}px`:s.style.width=`${s.offsetWidth}px`,s.style.flex="0 0 auto",s===this.element&&(t=i[n+1]))}t&&(t.style.removeProperty("height"),t.style.removeProperty("min-height"),t.style.removeProperty("max-height"),t.style.flex="1 1 auto")}}isResizable(){return Object.values(this.resizable).some(e=>e)}onResize(e){if(!this.isResizing||!this.currentResizer)return;const{popup:t,forcePopupParentAsOffsetParent:i}=this.config,{isTop:n,isRight:s,isBottom:r,isLeft:o}=this.currentResizer,a=s||o,l=r||n,{movementX:u,movementY:d}=this.calculateMouseMovement({e,isLeft:o,isTop:n}),p=this.position.x,f=this.position.y;let m=0,y=0;if(a&&u){const C=o?-1:1,w=this.getWidth(),b=w+u*C;let S=!1;o&&(m=w-b,(p+m<=0||b<=this.minWidth)&&(S=!0,m=0)),S||this.setWidth(b)}if(l&&d){const C=n?-1:1,w=this.getHeight(),b=w+d*C;let S=!1;n?(y=w-b,(f+y<=0||b<=this.minHeight)&&(S=!0,y=0)):!this.config.popup&&!this.config.forcePopupParentAsOffsetParent&&w<b&&this.getMinSizeOfSiblings().height+b>this.element.parentElement.offsetHeight&&(S=!0),S||this.setHeight(b)}this.updateDragStartPosition(e.clientX,e.clientY),((t||i)&&m||y)&&this.offsetElement(p+m,f+y)}onResizeEnd(e,t){this.isResizing=!1,this.currentResizer=null,this.boundaryEl=null,this.element.classList.remove("ag-resizing"),this.resizerMap[t].element.classList.remove("ag-active"),this.dispatchLocalEvent({type:"resize"})}refreshSize(){const e=this.element;this.config.popup&&(this.config.width||this.setWidth(e.offsetWidth),this.config.height||this.setHeight(e.offsetHeight))}onMoveStart(e){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.isMoving=!0,this.element.classList.add("ag-moving"),this.updateDragStartPosition(e.clientX,e.clientY)}onMove(e){if(!this.isMoving)return;const{x:t,y:i}=this.position;let n;this.config.calculateTopBuffer&&(n=this.config.calculateTopBuffer());const{movementX:s,movementY:r}=this.calculateMouseMovement({e,isTop:!0,anywhereWithin:!0,topBuffer:n});this.offsetElement(t+s,i+r),this.updateDragStartPosition(e.clientX,e.clientY)}onMoveEnd(){this.isMoving=!1,this.boundaryEl=null,this.element.classList.remove("ag-moving")}setOffsetParent(){this.config.forcePopupParentAsOffsetParent&&this.popupSvc?this.offsetParent=this.popupSvc.getPopupParent():this.offsetParent=this.element.offsetParent}findBoundaryElement(){let e=this.element;for(;e;){if(window.getComputedStyle(e).position!=="static")return e;e=e.parentElement}return this.element}clearResizeListeners(){var e;for(;this.resizeListeners.length;){const t=this.resizeListeners.pop();(e=this.dragSvc)==null||e.removeDragSource(t)}}destroy(){var e;super.destroy(),this.moveElementDragListener&&((e=this.dragSvc)==null||e.removeDragSource(this.moveElementDragListener)),this.constrainSizeToAvailableHeight(!1),this.clearResizeListeners(),this.removeResizers()}},Bae="ag-focus-managed",_g=class extends ye{constructor(e,t={}){super(),this.eFocusable=e,this.callbacks=t,this.callbacks={shouldStopEventPropagation:()=>!1,onTabKeyDown:i=>{if(i.defaultPrevented)return;const n=Cp(this.beans,this.eFocusable,!1,i.shiftKey);n&&(n.focus(),i.preventDefault())},...t}}postConstruct(){const{eFocusable:e,callbacks:{onFocusIn:t,onFocusOut:i}}=this;e.classList.add(Bae),this.addKeyDownListeners(e),t&&this.addManagedElementListeners(e,{focusin:t}),i&&this.addManagedElementListeners(e,{focusout:i})}addKeyDownListeners(e){this.addManagedElementListeners(e,{keydown:t=>{if(t.defaultPrevented||Sc(t))return;const{callbacks:i}=this;if(i.shouldStopEventPropagation(t)){Sg(t);return}t.key===ge.TAB?i.onTabKeyDown(t):i.handleKeyDown&&i.handleKeyDown(t)}})}},jj={applyFilter:"Apply",clearFilter:"Clear",resetFilter:"Reset",cancelFilter:"Cancel",textFilter:"Text Filter",numberFilter:"Number Filter",dateFilter:"Date Filter",setFilter:"Set Filter",filterOoo:"Filter...",empty:"Choose one",equals:"Equals",notEqual:"Does not equal",lessThan:"Less than",greaterThan:"Greater than",inRange:"Between",inRangeStart:"From",inRangeEnd:"To",lessThanOrEqual:"Less than or equal to",greaterThanOrEqual:"Greater than or equal to",contains:"Contains",notContains:"Does not contain",startsWith:"Begins with",endsWith:"Ends with",blank:"Blank",notBlank:"Not blank",before:"Before",after:"After",andCondition:"AND",orCondition:"OR",dateFormatOoo:"yyyy-mm-dd"};function xL(e,t){const{debounceMs:i}=e;return IS(e)?(i!=null&&Ae(71),0):i??t}function IS(e){var t;return(((t=e.buttons)==null?void 0:t.indexOf("apply"))??-1)>=0}var zae=class extends Xi{constructor(e){super(),this.filterNameKey=e,this.applyActive=!1,this.hidePopup=null,this.debouncePending=!1,this.appliedModel=null,this.eFilterBody=nt,this.buttonListeners=[],this.defaultDebounceMs=0}postConstruct(){this.resetTemplate(),this.createManagedBean(new _g(this.getFocusableElement(),{handleKeyDown:this.handleKeyDown.bind(this)})),this.positionableFeature=new Nae(this.getPositionableElement(),{forcePopupParentAsOffsetParent:!0}),this.createBean(this.positionableFeature)}handleKeyDown(e){}getFilterTitle(){return this.translate(this.filterNameKey)}isFilterActive(){return!!this.appliedModel}resetTemplate(e){let t=this.getGui();t&&t.removeEventListener("submit",this.onFormSubmit);const i=`
            <form class="ag-filter-wrapper">
                <div class="ag-filter-body-wrapper ag-${this.getCssIdentifier()}-body-wrapper" data-ref="eFilterBody">
                    ${this.createBodyTemplate()}
                </div>
            </form>`;this.setTemplate(i,this.getAgComponents(),e),t=this.getGui(),t==null||t.addEventListener("submit",this.onFormSubmit)}isReadOnly(){return!!this.params.readOnly}init(e){this.setParams(e),this.resetUiToDefaults(!0).then(()=>{this.updateUiVisibility(),this.setupOnBtApplyDebounce()})}setParams(e){this.params=e,this.applyActive=IS(e),this.resetButtonsPanel(e)}updateParams(e){this.params=e,this.applyActive=IS(e),this.resetUiToActiveModel(this.getModel(),()=>{this.updateUiVisibility(),this.setupOnBtApplyDebounce()})}resetButtonsPanel(e,t){const{buttons:i,readOnly:n}=t??{},{buttons:s,readOnly:r}=e;if(n===r&&Fv(i,s))return;const o=s&&s.length>0&&!this.isReadOnly();if(this.eButtonsPanel?(no(this.eButtonsPanel),this.buttonListeners.forEach(u=>u()),this.buttonListeners=[]):o&&(this.eButtonsPanel=document.createElement("div"),this.eButtonsPanel.classList.add("ag-filter-apply-panel")),!o){this.eButtonsPanel&&Qh(this.eButtonsPanel);return}const a=document.createDocumentFragment(),l=u=>{let d;const p=u?this.translate(`${u}Filter`):void 0;switch(u){case"apply":d=y=>this.onBtApply(!1,!1,y);break;case"clear":d=()=>this.onBtClear();break;case"reset":d=()=>this.onBtReset();break;case"cancel":d=y=>{this.onBtCancel(y)};break;default:Ae(75);return}const m=Pv(`<button
                    type="${u==="apply"?"submit":"button"}"
                    data-ref="${u}FilterButton"
                    class="ag-button ag-standard-button ag-filter-apply-panel-button"
                >${p}
                </button>`);this.buttonListeners.push(...this.addManagedElementListeners(m,{click:d})),a.append(m)};s.forEach(u=>l(u)),this.eButtonsPanel.append(a),this.getGui().appendChild(this.eButtonsPanel)}setupOnBtApplyDebounce(){const e=xL(this.params,this.defaultDebounceMs),t=Os(this,this.checkApplyDebounce.bind(this),e);this.onBtApplyDebounce=()=>{this.debouncePending=!0,t()}}checkApplyDebounce(){this.debouncePending&&(this.debouncePending=!1,this.onBtApply())}getModel(){return this.appliedModel??null}setModel(e){return(e!=null?this.setModelIntoUi(e):this.resetUiToDefaults()).then(()=>{this.updateUiVisibility(),this.applyModel("api")})}onBtCancel(e){this.resetUiToActiveModel(this.getModel(),()=>{this.handleCancelEnd(e)})}handleCancelEnd(e){this.params.closeOnApply&&this.close(e)}resetUiToActiveModel(e,t){const i=()=>{this.onUiChanged(!1,"prevent"),t==null||t()};e!=null?this.setModelIntoUi(e).then(i):this.resetUiToDefaults().then(i)}onBtClear(){this.resetUiToDefaults().then(()=>this.onUiChanged())}onBtReset(){this.onBtClear(),this.onBtApply()}applyModel(e="api"){const t=this.getModelFromUi();if(!this.isModelValid(t))return!1;const i=this.appliedModel;return this.appliedModel=t,!this.areModelsEqual(i,t)}isModelValid(e){return!0}onFormSubmit(e){e.preventDefault()}onBtApply(e=!1,t=!1,i){i&&i.preventDefault(),this.applyModel(t?"rowDataUpdated":"ui")&&this.params.filterChangedCallback({afterFloatingFilter:e,afterDataChange:t,source:"columnFilter"});const{closeOnApply:n}=this.params;n&&this.applyActive&&!e&&!t&&this.close(i)}onNewRowsLoaded(){}close(e){if(!this.hidePopup)return;const t=e,i=t&&t.key;let n;(i==="Enter"||i==="Space")&&(n={keyboardEvent:t}),this.hidePopup(n),this.hidePopup=null}onUiChanged(e=!1,t){if(this.updateUiVisibility(),this.params.filterModifiedCallback(),this.applyActive&&!this.isReadOnly()){const i=this.isModelValid(this.getModelFromUi()),n=this.queryForHtmlElement('[data-ref="applyFilterButton"]');n&&Lv(n,!i)}e&&!t||t==="immediately"?this.onBtApply(e):(!this.applyActive&&!t||t==="debounce")&&this.onBtApplyDebounce()}afterGuiAttached(e){e&&(this.hidePopup=e.hidePopup),this.refreshFilterResizer(e==null?void 0:e.container)}refreshFilterResizer(e){const{positionableFeature:t,gos:i}=this;if(!t||e==="toolPanel")return;e==="floatingFilter"||e==="columnFilter"?(t.restoreLastSize(),t.setResizable(i.get("enableRtl")?{bottom:!0,bottomLeft:!0,left:!0}:{bottom:!0,bottomRight:!0,right:!0})):(t.removeSizeFromEl(),t.setResizable(!1)),t.constrainSizeToAvailableHeight(!0)}afterGuiDetached(){var e;this.checkApplyDebounce(),(e=this.positionableFeature)==null||e.constrainSizeToAvailableHeight(!1)}refresh(e){const t=this.params;return this.params=e,this.resetButtonsPanel(e,t),!0}destroy(){const e=this.getGui();e&&e.removeEventListener("submit",this.onFormSubmit),this.hidePopup=null,this.positionableFeature&&(this.positionableFeature=this.destroyBean(this.positionableFeature)),this.appliedModel=null,super.destroy()}translate(e){return this.getLocaleTextFunc()(e,jj[e])}getCellValue(e){return this.params.getValue(e)}getPositionableElement(){return this.eFilterBody}};function Gae(e,t,i){if(t==null)return null;let n=null;const{compName:s,jsComp:r,fwComp:o}=Goe(e,t);return s?n={agSetColumnFilter:"agSetColumnFloatingFilter",agMultiColumnFilter:"agMultiColumnFloatingFilter",agGroupColumnFilter:"agGroupColumnFloatingFilter",agNumberColumnFilter:"agNumberColumnFloatingFilter",agDateColumnFilter:"agDateColumnFloatingFilter",agTextColumnFilter:"agTextColumnFloatingFilter"}[s]:r==null&&o==null&&t.filter===!0&&(n=i()),n}var Pw={AUTO_HEIGHT:"ag-layout-auto-height",NORMAL:"ag-layout-normal",PRINT:"ag-layout-print"},ML=class extends ye{constructor(e){super(),this.view=e}postConstruct(){this.addManagedPropertyListener("domLayout",this.updateLayoutClasses.bind(this)),this.updateLayoutClasses()}updateLayoutClasses(){const e=this.gos.get("domLayout"),t={autoHeight:e==="autoHeight",normal:e==="normal",print:e==="print"},i=t.autoHeight?Pw.AUTO_HEIGHT:t.print?Pw.PRINT:Pw.NORMAL;this.view.updateLayoutClasses(i,t)}},xu="Viewport",zB="fakeVScrollComp",GB=["fakeHScrollComp","centerHeader","topCenter","bottomCenter","stickyTopCenter","stickyBottomCenter"],HB=100,XE=150,Hae=class extends ye{constructor(e){super(),this.lastScrollSource=[null,null],this.scrollLeft=-1,this.nextScrollTop=-1,this.scrollTop=-1,this.lastOffsetHeight=-1,this.lastScrollTop=-1,this.scrollTimer=0,this.needsRefreshedScrollPosition=!0,this.eBodyViewport=e,this.resetLastHScrollDebounced=Os(this,()=>this.lastScrollSource[1]=null,XE),this.resetLastVScrollDebounced=Os(this,()=>this.lastScrollSource[0]=null,XE)}wireBeans(e){this.ctrlsSvc=e.ctrlsSvc,this.animationFrameSvc=e.animationFrameSvc,this.visibleCols=e.visibleCols}destroy(){super.destroy(),window.clearTimeout(this.scrollTimer)}postConstruct(){this.enableRtl=this.gos.get("enableRtl");const e=this.requireUpdatedScrollPosition.bind(this);this.addManagedEventListeners({displayedColumnsWidthChanged:this.onDisplayedColumnsWidthChanged.bind(this),gridSizeChanged:e}),this.addManagedElementListeners(this.eBodyViewport,{scroll:e}),this.ctrlsSvc.whenReady(this,t=>{this.centerRowsCtrl=t.center,this.onDisplayedColumnsWidthChanged(),this.addScrollListener()})}requireUpdatedScrollPosition(){this.needsRefreshedScrollPosition=!0}addScrollListener(){this.addHorizontalScrollListeners(),this.addVerticalScrollListeners()}addHorizontalScrollListeners(){this.addManagedElementListeners(this.centerRowsCtrl.eViewport,{scroll:this.onHScroll.bind(this,xu)});for(const e of GB){const t=this.ctrlsSvc.get(e);this.registerScrollPartner(t,this.onHScroll.bind(this,e))}}addVerticalScrollListeners(){const e=this.ctrlsSvc.get("fakeVScrollComp"),t=this.gos.get("debounceVerticalScrollbar"),i=t?Os(this,this.onVScroll.bind(this,xu),HB):this.onVScroll.bind(this,xu),n=t?Os(this,this.onVScroll.bind(this,zB),HB):this.onVScroll.bind(this,zB);this.addManagedElementListeners(this.eBodyViewport,{scroll:i}),this.registerScrollPartner(e,n)}registerScrollPartner(e,t){e.onScrollCallback(t)}onDisplayedColumnsWidthChanged(){this.enableRtl&&this.horizontallyScrollHeaderCenterAndFloatingCenter()}horizontallyScrollHeaderCenterAndFloatingCenter(e){this.centerRowsCtrl!=null&&(e===void 0&&(e=this.centerRowsCtrl.getCenterViewportScrollLeft()),this.setScrollLeftForAllContainersExceptCurrent(Math.abs(e)))}setScrollLeftForAllContainersExceptCurrent(e){for(const t of[...GB,xu]){if(this.lastScrollSource[1]===t)continue;const i=this.getViewportForSource(t);gS(i,e,this.enableRtl)}}getViewportForSource(e){return e===xu?this.centerRowsCtrl.eViewport:this.ctrlsSvc.get(e).eViewport}isControllingScroll(e,t){return this.lastScrollSource[t]==null?(t===0?this.lastScrollSource[0]=e:this.lastScrollSource[1]=e,!0):this.lastScrollSource[t]===e}onHScroll(e){if(!this.isControllingScroll(e,1))return;const t=this.centerRowsCtrl.eViewport,{scrollLeft:i}=t;if(this.shouldBlockScrollUpdate(1,i,!0))return;const n=fS(this.getViewportForSource(e),this.enableRtl);this.doHorizontalScroll(n),this.resetLastHScrollDebounced()}onVScroll(e){if(!this.isControllingScroll(e,0))return;let t;if(e===xu?t=this.eBodyViewport.scrollTop:t=this.ctrlsSvc.get("fakeVScrollComp").getScrollPosition(),this.shouldBlockScrollUpdate(0,t,!0))return;const{animationFrameSvc:i}=this;i==null||i.setScrollTop(t),this.nextScrollTop=t,e===xu?this.ctrlsSvc.get("fakeVScrollComp").setScrollPosition(t):this.eBodyViewport.scrollTop=t,!i||this.gos.get("suppressAnimationFrame")?this.scrollGridIfNeeded(!0):i.schedule(),this.resetLastVScrollDebounced()}doHorizontalScroll(e){const t=this.ctrlsSvc.get("fakeHScrollComp").getScrollPosition();this.scrollLeft===e&&e===t||(this.scrollLeft=e,this.fireScrollEvent(1),this.horizontallyScrollHeaderCenterAndFloatingCenter(e),this.centerRowsCtrl.onHorizontalViewportChanged(!0))}fireScrollEvent(e){const t={type:"bodyScroll",direction:e===1?"horizontal":"vertical",left:this.scrollLeft,top:this.scrollTop};this.eventSvc.dispatchEvent(t),window.clearTimeout(this.scrollTimer),this.scrollTimer=window.setTimeout(()=>{this.scrollTimer=0,this.eventSvc.dispatchEvent({...t,type:"bodyScrollEnd"})},XE)}shouldBlockScrollUpdate(e,t,i=!1){return i&&!Ph()?!1:e===0?this.shouldBlockVerticalScroll(t):this.shouldBlockHorizontalScroll(t)}shouldBlockVerticalScroll(e){const t=pL(this.eBodyViewport),{scrollHeight:i}=this.eBodyViewport;return e<0||e+t>i}shouldBlockHorizontalScroll(e){const t=this.centerRowsCtrl.getCenterWidth(),{scrollWidth:i}=this.centerRowsCtrl.eViewport;if(this.enableRtl&&pS()){if(e>0)return!0}else if(e<0)return!0;return Math.abs(e)+t>i}redrawRowsAfterScroll(){this.fireScrollEvent(0)}checkScrollLeft(){this.scrollLeft!==this.centerRowsCtrl.getCenterViewportScrollLeft()&&this.onHScroll(xu)}scrollGridIfNeeded(e=!1){const t=this.scrollTop!=this.nextScrollTop;return t&&(this.scrollTop=this.nextScrollTop,e&&this.requireUpdatedScrollPosition(),this.redrawRowsAfterScroll()),t}setHorizontalScrollPosition(e,t=!1){const n=this.centerRowsCtrl.eViewport.scrollWidth-this.centerRowsCtrl.getCenterWidth();!t&&this.shouldBlockScrollUpdate(1,e)&&(this.enableRtl&&pS()?e=e>0?0:n:e=Math.min(Math.max(e,0),n)),gS(this.centerRowsCtrl.eViewport,Math.abs(e),this.enableRtl),this.doHorizontalScroll(e)}setVerticalScrollPosition(e){this.requireUpdatedScrollPosition(),this.eBodyViewport.scrollTop=e}getVScrollPosition(){if(!this.needsRefreshedScrollPosition){const{lastOffsetHeight:i,lastScrollTop:n}=this;return{top:n,bottom:n+i}}this.needsRefreshedScrollPosition=!1;const{scrollTop:e,offsetHeight:t}=this.eBodyViewport;return this.lastScrollTop=e,this.lastOffsetHeight=t,{top:e,bottom:e+t}}getApproximateVScollPosition(){return this.lastScrollTop>=0&&this.lastOffsetHeight>=0?{top:this.scrollTop,bottom:this.scrollTop+this.lastOffsetHeight}:this.getVScrollPosition()}getHScrollPosition(){return this.centerRowsCtrl.getHScrollPosition()}isHorizontalScrollShowing(){return this.centerRowsCtrl.isHorizontalScrollShowing()}scrollHorizontally(e){const t=this.centerRowsCtrl.eViewport.scrollLeft;return this.setHorizontalScrollPosition(t+e),this.centerRowsCtrl.eViewport.scrollLeft-t}scrollToTop(){this.eBodyViewport.scrollTop=0}ensureNodeVisible(e,t=null){const{rowModel:i}=this.beans,n=i.getRowCount();let s=-1;for(let r=0;r<n;r++){const o=i.getRow(r);if(typeof e=="function"){if(o&&e(o)){s=r;break}}else if(e===o||e===o.data){s=r;break}}s>=0&&this.ensureIndexVisible(s,t)}ensureIndexVisible(e,t){if(Gs(this.gos,"print"))return;const{rowModel:i}=this.beans,n=i.getRowCount();if(typeof e!="number"||e<0||e>=n){Ae(88,{index:e});return}const r=this.gos.get("pagination")&&!this.gos.get("suppressPaginationPanel"),{frameworkOverrides:o,pagination:a,pageBounds:l,rowContainerHeight:u,rowRenderer:d}=this.beans;o.wrapIncoming(()=>{var w;r||a==null||a.goToPageWithIndex(e);const p=this.ctrlsSvc.getGridBodyCtrl(),f=p.stickyTopHeight,m=p.stickyBottomHeight,y=i.getRow(e);let C;do{const b=y.rowTop,S=y.rowHeight,M=l.getPixelOffset(),D=y.rowTop-M,R=D+y.rowHeight,A=this.getVScrollPosition(),k=u.divStretchOffset,F=A.top+k,P=A.bottom+k,L=P-F,z=u.getScrollPositionForPixel(D),H=u.getScrollPositionForPixel(R-L),V=Math.min((z+H)/2,D),q=F+f>D,K=P-m<R;let j=null;t==="top"?j=z:t==="bottom"?j=H:t==="middle"?j=V:q?j=z-f:K&&(j=H+m),j!==null&&(this.setVerticalScrollPosition(j),d.redraw({afterScroll:!0})),C=b!==y.rowTop||S!==y.rowHeight}while(C);(w=this.animationFrameSvc)==null||w.flushAllFrames()})}ensureColumnVisible(e,t="auto"){const{colModel:i,frameworkOverrides:n}=this.beans,s=i.getCol(e);if(!s||s.isPinned()||!this.visibleCols.isColDisplayed(s))return;const r=this.getPositionedHorizontalScroll(s,t);n.wrapIncoming(()=>{var o;r!==null&&this.centerRowsCtrl.setCenterViewportScrollLeft(r),this.centerRowsCtrl.onHorizontalViewportChanged(),(o=this.animationFrameSvc)==null||o.flushAllFrames()})}getPositionedHorizontalScroll(e,t){const{columnBeforeStart:i,columnAfterEnd:n}=this.isColumnOutsideViewport(e),s=this.centerRowsCtrl.getCenterWidth()<e.getActualWidth(),r=this.centerRowsCtrl.getCenterWidth(),o=this.enableRtl;let a=(o?i:n)||s,l=o?n:i;t!=="auto"&&(a=t==="start",l=t==="end");const u=t==="middle";if(a||l||u){const{colLeft:d,colMiddle:p,colRight:f}=this.getColumnBounds(e);return u?p-r/2:a?o?f:d:o?d-r:f-r}return null}isColumnOutsideViewport(e){const{start:t,end:i}=this.getViewportBounds(),{colLeft:n,colRight:s}=this.getColumnBounds(e),r=this.enableRtl,o=r?t>s:i<s,a=r?i<n:t>n;return{columnBeforeStart:o,columnAfterEnd:a}}getColumnBounds(e){const t=this.enableRtl,i=this.visibleCols.bodyWidth,n=e.getActualWidth(),s=e.getLeft(),r=t?-1:1,o=t?i-s:s,a=o+n*r,l=o+n/2*r;return{colLeft:o,colMiddle:l,colRight:a}}getViewportBounds(){const e=this.centerRowsCtrl.getCenterWidth(),t=this.centerRowsCtrl.getCenterViewportScrollLeft(),i=t,n=e+t;return{start:i,end:n,width:e}}},DL=class extends ye{constructor(e,t=!1){super(),this.callback=e,this.addSpacer=t}postConstruct(){const e=this.setWidth.bind(this);this.addManagedPropertyListener("domLayout",e),this.addManagedEventListeners({columnContainerWidthChanged:e,displayedColumnsChanged:e,leftPinnedWidthChanged:e}),this.addSpacer&&this.addManagedEventListeners({rightPinnedWidthChanged:e,scrollVisibilityChanged:e,scrollbarWidthChanged:e}),this.setWidth()}setWidth(){const e=Gs(this.gos,"print"),{visibleCols:t,scrollVisibleSvc:i}=this.beans,n=t.bodyWidth,s=t.getColsLeftWidth(),r=t.getDisplayedColumnsRightWidth();let o;e?o=n+s+r:(o=n,this.addSpacer&&(this.gos.get("enableRtl")?s:r)===0&&i.verticalScrollShowing&&(o+=i.getScrollbarWidth())),this.callback(o)}},_ae=class extends ye{constructor(e){super(),this.centerContainerCtrl=e}wireBeans(e){this.scrollVisibleSvc=e.scrollVisibleSvc}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>{this.gridBodyCtrl=e.gridBodyCtrl,this.listenForResize()}),this.addManagedEventListeners({scrollbarWidthChanged:this.onScrollbarWidthChanged.bind(this)}),this.addManagedPropertyListeners(["alwaysShowHorizontalScroll","alwaysShowVerticalScroll"],()=>{this.checkViewportAndScrolls()})}listenForResize(){const{beans:e,centerContainerCtrl:t,gridBodyCtrl:i}=this,n=()=>{Gc(e,()=>{this.onCenterViewportResized()})};t.registerViewportResizeListener(n),i.registerBodyViewportResizeListener(n)}onScrollbarWidthChanged(){this.checkViewportAndScrolls()}onCenterViewportResized(){if(this.scrollVisibleSvc.updateScrollGap(),this.centerContainerCtrl.isViewportInTheDOMTree()){const{pinnedCols:e,colFlex:t}=this.beans;e==null||e.keepPinnedColumnsNarrowerThanViewport(),this.checkViewportAndScrolls();const i=this.centerContainerCtrl.getCenterWidth();i!==this.centerWidth&&(this.centerWidth=i,t==null||t.refreshFlexedColumns({viewportWidth:this.centerWidth,updateBodyWidths:!0,fireResizedEvent:!0}))}else this.bodyHeight=0}checkViewportAndScrolls(){this.updateScrollVisibleService(),this.checkBodyHeight(),this.onHorizontalViewportChanged(),this.gridBodyCtrl.scrollFeature.checkScrollLeft()}getBodyHeight(){return this.bodyHeight}checkBodyHeight(){const e=this.gridBodyCtrl.eBodyViewport,t=pL(e);this.bodyHeight!==t&&(this.bodyHeight=t,this.eventSvc.dispatchEvent({type:"bodyHeightChanged"}))}updateScrollVisibleService(){this.updateScrollVisibleServiceImpl(),setTimeout(this.updateScrollVisibleServiceImpl.bind(this),500)}updateScrollVisibleServiceImpl(){const e={horizontalScrollShowing:this.centerContainerCtrl.isHorizontalScrollShowing(),verticalScrollShowing:this.gridBodyCtrl.isVerticalScrollShowing()};this.scrollVisibleSvc.setScrollsVisible(e)}onHorizontalViewportChanged(){const e=this.centerContainerCtrl.getCenterWidth(),t=this.centerContainerCtrl.getViewportScrollLeft();this.beans.colViewport.setScrollPosition(e,t)}};function RL(e,t,i,n,s,r){if(i==null&&t==null)return;const o={},a={},l=(u,d)=>{u.split(" ").forEach(p=>{p.trim()!=""&&d(p)})};if(i){const u=Object.keys(i);for(let d=0;d<u.length;d++){const p=u[d],f=i[p];let m;typeof f=="string"?m=e?e.evaluate(f,n):!0:typeof f=="function"&&(m=f(n)),l(p,y=>{m?o[y]=!0:a[y]=!0})}}t&&r&&Object.keys(t).forEach(u=>l(u,d=>{o[d]||(a[d]=!0)})),r&&Object.keys(a).forEach(r),Object.keys(o).forEach(s)}function _B(e){if(e.group)return e.level;const t=e.parent;return t?t.level+1:0}var jae=class extends ye{constructor(){super(...arguments),this.beanName="rowStyleSvc"}processClassesFromGridOptions(e,t){const i=this.gos,n=o=>{typeof o=="string"?e.push(o):Array.isArray(o)&&o.forEach(a=>e.push(a))},s=i.get("rowClass");s&&n(s);const r=i.getCallback("getRowClass");if(r){const o={data:t.data,node:t,rowIndex:t.rowIndex},a=r(o);n(a)}}preProcessRowClassRules(e,t){this.processRowClassRules(t,i=>{e.push(i)},()=>{})}processRowClassRules(e,t,i){const{gos:n,expressionSvc:s}=this.beans,r=ut(n,{data:e.data,node:e,rowIndex:e.rowIndex});RL(s,void 0,n.get("rowClassRules"),r,t,i)}processStylesFromGridOptions(e){const t=this.gos,i=t.get("rowStyle"),n=t.getCallback("getRowStyle");let s;if(n){const r={data:e.data,node:e,rowIndex:e.rowIndex};s=n(r)}if(s||i)return Object.assign({},i,s)}},Vae=0,Hv="renderedRow",LS=class extends ye{constructor(e,t,i,n,s){var r;super(),this.rowNode=e,this.useAnimationFrameForCreate=n,this.printLayout=s,this.allRowGuis=[],this.active=!0,this.centerCellCtrls={list:[],map:{}},this.leftCellCtrls={list:[],map:{}},this.rightCellCtrls={list:[],map:{}},this.slideInAnimation={left:!1,center:!1,right:!1,fullWidth:!1},this.fadeInAnimation={left:!1,center:!1,right:!1,fullWidth:!1},this.rowDragComps=[],this.lastMouseDownOnDragger=!1,this.emptyStyle={},this.updateColumnListsPending=!1,this.rowId=null,this.businessKey=null,this.beans=t,this.gos=t.gos,this.paginationPage=((r=t.pagination)==null?void 0:r.getCurrentPage())??0,this.suppressRowTransform=this.gos.get("suppressRowTransform"),this.instanceId=e.id+"-"+Vae++,this.rowId=xc(e.id),this.initRowBusinessKey(),this.rowFocused=t.focusSvc.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned),this.rowLevel=_B(this.rowNode),this.setRowType(),this.setAnimateFlags(i),this.rowStyles=this.processStylesFromGridOptions(),this.addListeners()}initRowBusinessKey(){this.businessKeyForNodeFunc=this.gos.get("getBusinessKeyForNode"),this.updateRowBusinessKey()}updateRowBusinessKey(){if(typeof this.businessKeyForNodeFunc!="function")return;const e=this.businessKeyForNodeFunc(this.rowNode);this.businessKey=xc(e)}updateGui(e,t){e==="left"?this.leftGui=t:e==="right"?this.rightGui=t:e==="fullWidth"?this.fullWidthGui=t:this.centerGui=t}setComp(e,t,i,n){n=FC(this,this.beans.context,n);const s={rowComp:e,element:t,containerType:i,compBean:n};this.allRowGuis.push(s),this.updateGui(i,s),this.initialiseRowComp(s),!(this.rowType==="FullWidthLoading"||this.rowNode.stub)&&!this.rowNode.rowPinned&&this.beans.rowRenderer.dispatchFirstDataRenderedEvent()}unsetComp(e){this.allRowGuis=this.allRowGuis.filter(t=>t.containerType!==e),this.updateGui(e,void 0)}isCacheable(){return this.rowType==="FullWidthDetail"&&this.gos.get("keepDetailRows")}setCached(e){const t=e?"none":"";this.allRowGuis.forEach(i=>i.element.style.display=t)}initialiseRowComp(e){const t=this.gos;this.onSuppressCellFocusChanged(this.beans.gos.get("suppressCellFocus")),this.listenOnDomOrder(e),this.onRowHeightChanged(e),this.updateRowIndexes(e),this.setFocusedClasses(e),this.setStylesFromGridOptions(!1,e),Nh(t)&&this.rowNode.selectable&&this.onRowSelected(e),this.updateColumnLists(!this.useAnimationFrameForCreate);const i=e.rowComp;this.getInitialRowClasses(e.containerType).forEach(s=>i.addOrRemoveCssClass(s,!0)),this.executeSlideAndFadeAnimations(e),this.rowNode.group&&OT(e.element,this.rowNode.expanded==!0),this.setRowCompRowId(i),this.setRowCompRowBusinessKey(i),ep(t,e.element,Hv,this),e.compBean.addDestroyFunc(()=>ep(t,e.element,Hv,null)),this.useAnimationFrameForCreate?this.beans.animationFrameSvc.createTask(this.addHoverFunctionality.bind(this,e),this.rowNode.rowIndex,"createTasksP2"):this.addHoverFunctionality(e),this.isFullWidth()&&this.setupFullWidth(e),t.get("rowDragEntireRow")&&this.addRowDraggerToRow(e),this.useAnimationFrameForCreate&&this.beans.animationFrameSvc.addDestroyTask(()=>{this.isAlive()&&e.rowComp.addOrRemoveCssClass("ag-after-created",!0)}),this.executeProcessRowPostCreateFunc()}setRowCompRowBusinessKey(e){this.businessKey!=null&&e.setRowBusinessKey(this.businessKey)}setRowCompRowId(e){const t=xc(this.rowNode.id);this.rowId=t,t!=null&&e.setRowId(t)}executeSlideAndFadeAnimations(e){const{containerType:t}=e;this.slideInAnimation[t]&&(TB(()=>{this.onTopChanged()}),this.slideInAnimation[t]=!1),this.fadeInAnimation[t]&&(TB(()=>{e.rowComp.addOrRemoveCssClass("ag-opacity-zero",!1)}),this.fadeInAnimation[t]=!1)}addRowDraggerToRow(e){var n;const t=(n=this.beans.rowDragSvc)==null?void 0:n.createRowDragCompForRow(this.rowNode,e.element);if(!t)return;const i=this.createBean(t,this.beans.context);this.rowDragComps.push(i),e.compBean.addDestroyFunc(()=>{this.rowDragComps=this.rowDragComps.filter(s=>s!==i),this.destroyBean(i,this.beans.context)})}setupFullWidth(e){const t=this.getPinnedForContainer(e.containerType),i=this.createFullWidthCompDetails(e.element,t);e.rowComp.showFullWidth(i)}getFullWidthCellRenderers(){var e,t;return this.gos.get("embedFullWidthRows")?this.allRowGuis.map(i=>{var n;return(n=i==null?void 0:i.rowComp)==null?void 0:n.getFullWidthCellRenderer()}):[(t=(e=this.fullWidthGui)==null?void 0:e.rowComp)==null?void 0:t.getFullWidthCellRenderer()]}executeProcessRowPostCreateFunc(){const e=this.gos.getCallback("processRowPostCreate");if(!e||!this.areAllContainersReady())return;const t={eRow:this.centerGui.element,ePinnedLeftRow:this.leftGui?this.leftGui.element:void 0,ePinnedRightRow:this.rightGui?this.rightGui.element:void 0,node:this.rowNode,rowIndex:this.rowNode.rowIndex,addRenderedRowListener:this.addEventListener.bind(this)};e(t)}areAllContainersReady(){const{leftGui:e,centerGui:t,rightGui:i,beans:{visibleCols:n}}=this,s=!!e||!n.isPinningLeft(),r=!!t,o=!!i||!n.isPinningRight();return s&&r&&o}isNodeFullWidthCell(){if(this.rowNode.detail)return!0;const e=this.beans.gos.getCallback("isFullWidthRow");return e?e({rowNode:this.rowNode}):!1}setRowType(){const e=this.rowNode.stub&&!this.gos.get("suppressServerSideFullWidthLoadingRow")&&!this.gos.get("groupHideOpenParents"),t=this.isNodeFullWidthCell(),i=this.gos.get("masterDetail")&&this.rowNode.detail,n=this.beans.colModel.isPivotMode(),r=!!this.rowNode.group&&!this.rowNode.footer&&vL(this.gos,n);e?this.rowType="FullWidthLoading":i?this.rowType="FullWidthDetail":t?this.rowType="FullWidth":r?this.rowType="FullWidthGroup":this.rowType="Normal"}updateColumnLists(e=!1,t=!1){if(this.isFullWidth())return;const{animationFrameSvc:i}=this.beans;if(!i||e||this.gos.get("suppressAnimationFrame")||this.printLayout){this.updateColumnListsImpl(t);return}this.updateColumnListsPending||(i.createTask(()=>{this.active&&this.updateColumnListsImpl(!0)},this.rowNode.rowIndex,"createTasksP1"),this.updateColumnListsPending=!0)}getNewCellCtrl(e){var i;if(!((i=this.beans.rowSpanSvc)!=null&&i.isCellSpanning(e,this.rowNode)))return new nv(e,this.rowNode,this.beans,this)}shouldRecreateCellCtrl(e){var t;return!!((t=this.beans.rowSpanSvc)!=null&&t.isCellSpanning(e.column,this.rowNode))}createCellCtrls(e,t,i=null){const n={list:[],map:{}},s=(o,a,l)=>{l!=null?n.list.splice(l,0,a):n.list.push(a),n.map[o]=a},r=[];for(const o of t){const a=o.getInstanceId();let l=e.map[a];l&&this.shouldRecreateCellCtrl(l)&&(l.destroy(),l=void 0),l||(l=this.getNewCellCtrl(o)),l&&s(a,l)}for(const o of e.list){const a=o.column.getInstanceId();if(n.map[a]!=null)continue;!this.isCellEligibleToBeRemoved(o,i)?r.push([a,o]):o.destroy()}if(r.length)for(const[o,a]of r){const l=n.list.findIndex(d=>d.column.getLeft()>a.column.getLeft()),u=l===-1?void 0:Math.max(l-1,0);s(o,a,u)}return n}updateColumnListsImpl(e){this.updateColumnListsPending=!1,this.createAllCellCtrls(),this.setCellCtrls(e)}setCellCtrls(e){this.allRowGuis.forEach(t=>{const i=this.getCellCtrlsForContainer(t.containerType);t.rowComp.setCellCtrls(i,e)})}getCellCtrlsForContainer(e){switch(e){case"left":return this.leftCellCtrls.list;case"right":return this.rightCellCtrls.list;case"fullWidth":return[];case"center":return this.centerCellCtrls.list}}createAllCellCtrls(){const e=this.beans.colViewport,t=this.beans.visibleCols;if(this.printLayout)this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,t.allCols),this.leftCellCtrls={list:[],map:{}},this.rightCellCtrls={list:[],map:{}};else{const i=e.getColsWithinViewport(this.rowNode);this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,i);const n=t.getLeftColsForRow(this.rowNode);this.leftCellCtrls=this.createCellCtrls(this.leftCellCtrls,n,"left");const s=t.getRightColsForRow(this.rowNode);this.rightCellCtrls=this.createCellCtrls(this.rightCellCtrls,s,"right")}}isCellEligibleToBeRemoved(e,t){const{column:s}=e;if(s.getPinned()!=t)return!0;const{editing:r,cellPosition:o}=e,{focusSvc:a,visibleCols:l}=this.beans,u=a.isCellFocused(o);return r||u?!(l.allCols.indexOf(s)>=0):!0}getDomOrder(){return this.gos.get("ensureDomOrder")||Gs(this.gos,"print")}listenOnDomOrder(e){const t=()=>{e.rowComp.setDomOrder(this.getDomOrder())};e.compBean.addManagedPropertyListeners(["domLayout","ensureDomOrder"],t)}setAnimateFlags(e){if(this.rowNode.sticky||!e)return;const t=Ne(this.rowNode.oldRowTop),{visibleCols:i}=this.beans,n=i.isPinningLeft(),s=i.isPinningRight();if(t){const{slideInAnimation:r}=this;if(this.isFullWidth()&&!this.gos.get("embedFullWidthRows")){r.fullWidth=!0;return}r.center=!0,r.left=n,r.right=s}else{const{fadeInAnimation:r}=this;if(this.isFullWidth()&&!this.gos.get("embedFullWidthRows")){r.fullWidth=!0;return}r.center=!0,r.left=n,r.right=s}}isFullWidth(){return this.rowType!=="Normal"}refreshFullWidth(){const e=(o,a)=>o?o.rowComp.refreshFullWidth(()=>this.createFullWidthCompDetails(o.element,a).params):!0,t=e(this.fullWidthGui,null),i=e(this.centerGui,null),n=e(this.leftGui,"left"),s=e(this.rightGui,"right");return t&&i&&n&&s}addListeners(){var e;this.addManagedListeners(this.rowNode,{heightChanged:()=>this.onRowHeightChanged(),rowSelected:()=>this.onRowSelected(),rowIndexChanged:this.onRowIndexChanged.bind(this),topChanged:this.onTopChanged.bind(this),...((e=this.beans.expansionSvc)==null?void 0:e.getRowExpandedListeners(this))??{}}),this.rowNode.detail&&this.addManagedListeners(this.rowNode.parent,{dataChanged:this.onRowNodeDataChanged.bind(this)}),this.addManagedListeners(this.rowNode,{dataChanged:this.onRowNodeDataChanged.bind(this),cellChanged:this.postProcessCss.bind(this),rowHighlightChanged:this.onRowNodeHighlightChanged.bind(this),draggingChanged:this.postProcessRowDragging.bind(this),uiLevelChanged:this.onUiLevelChanged.bind(this)}),this.addManagedListeners(this.beans.eventSvc,{paginationPixelOffsetChanged:this.onPaginationPixelOffsetChanged.bind(this),heightScaleChanged:this.onTopChanged.bind(this),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),virtualColumnsChanged:this.onVirtualColumnsChanged.bind(this),cellFocused:this.onCellFocusChanged.bind(this),cellFocusCleared:this.onCellFocusChanged.bind(this),paginationChanged:this.onPaginationChanged.bind(this),modelUpdated:this.refreshFirstAndLastRowStyles.bind(this),columnMoved:()=>this.updateColumnLists()}),this.beans.rowSpanSvc&&this.addManagedListeners(this.beans.rowSpanSvc,{spannedCellsUpdated:({pinned:t})=>{t&&!this.rowNode.rowPinned||this.updateColumnLists()}}),this.addDestroyFunc(()=>{this.rowDragComps=this.destroyBeans(this.rowDragComps,this.beans.context),this.tooltipFeature=this.destroyBean(this.tooltipFeature,this.beans.context)}),this.addManagedPropertyListeners(["rowStyle","getRowStyle","rowClass","getRowClass","rowClassRules"],this.postProcessCss.bind(this)),this.addManagedPropertyListener("rowDragEntireRow",()=>{if(this.gos.get("rowDragEntireRow")){this.allRowGuis.forEach(i=>{this.addRowDraggerToRow(i)});return}this.rowDragComps=this.destroyBeans(this.rowDragComps,this.beans.context)}),this.addListenersForCellComps()}addListenersForCellComps(){this.addManagedListeners(this.rowNode,{rowIndexChanged:()=>{this.getAllCellCtrls().forEach(e=>e.onRowIndexChanged())},cellChanged:e=>{this.getAllCellCtrls().forEach(t=>t.onCellChanged(e))}})}onRowNodeDataChanged(e){if(this.isFullWidth()!==!!this.isNodeFullWidthCell()){this.beans.rowRenderer.redrawRow(this.rowNode);return}if(this.isFullWidth()){this.refreshFullWidth()||this.beans.rowRenderer.redrawRow(this.rowNode);return}this.getAllCellCtrls().forEach(i=>i.refreshCell({suppressFlash:!e.update,newData:!e.update})),this.allRowGuis.forEach(i=>{this.setRowCompRowId(i.rowComp),this.updateRowBusinessKey(),this.setRowCompRowBusinessKey(i.rowComp)}),this.onRowSelected(),this.postProcessCss()}postProcessCss(){this.setStylesFromGridOptions(!0),this.postProcessClassesFromGridOptions(),this.postProcessRowClassRules(),this.postProcessRowDragging()}onRowNodeHighlightChanged(){const e=this.rowNode.highlighted;this.allRowGuis.forEach(t=>{const i=e==="Above",n=e==="Below";t.rowComp.addOrRemoveCssClass("ag-row-highlight-above",i),t.rowComp.addOrRemoveCssClass("ag-row-highlight-below",n)})}postProcessRowDragging(){const e=this.rowNode.dragging;this.allRowGuis.forEach(t=>t.rowComp.addOrRemoveCssClass("ag-row-dragging",e))}verifyCells(){this.onDisplayedColumnsChanged()}onDisplayedColumnsChanged(){var e;this.updateColumnLists(!0),(e=this.beans.rowAutoHeight)==null||e.requestCheckAutoHeight()}onVirtualColumnsChanged(){this.updateColumnLists(!1,!0)}getRowPosition(){return{rowPinned:wc(this.rowNode.rowPinned),rowIndex:this.rowNode.rowIndex}}onKeyboardNavigate(e){const t=this.findFullWidthInfoForEvent(e);if(!t)return;const{rowGui:i,column:n}=t;if(!(i.element===e.target))return;const o=this.rowNode,{focusSvc:a,navigation:l}=this.beans,u=a.getFocusedCell(),d={rowIndex:o.rowIndex,rowPinned:o.rowPinned,column:(u==null?void 0:u.column)??n};l==null||l.navigateToNextCell(e,e.key,d,!0),e.preventDefault()}onTabKeyDown(e){var a;if(e.defaultPrevented||Sc(e))return;const t=this.allRowGuis.find(l=>l.element.contains(e.target)),i=t?t.element:null,n=i===e.target,s=yn(this.beans);let r=!1;i&&s&&(r=i.contains(s)&&s.classList.contains("ag-cell"));let o=null;!n&&!r&&(o=Cp(this.beans,i,!1,e.shiftKey)),(this.isFullWidth()&&n||!o)&&((a=this.beans.navigation)==null||a.onTabKeyDown(this,e))}getFullWidthElement(){return this.fullWidthGui?this.fullWidthGui.element:null}getRowYPosition(){var t;const e=(t=this.allRowGuis.find(i=>Dl(i.element)))==null?void 0:t.element;return e?e.getBoundingClientRect().top:0}onSuppressCellFocusChanged(e){const t=this.isFullWidth()&&e?void 0:-1;this.allRowGuis.forEach(i=>{Yo(i.element,"tabindex",t)})}onFullWidthRowFocused(e){var s;const t=this.rowNode,i=e?this.isFullWidth()&&e.rowIndex===t.rowIndex&&e.rowPinned==t.rowPinned:!1,n=this.fullWidthGui?this.fullWidthGui.element:(s=this.centerGui)==null?void 0:s.element;n&&(n.classList.toggle("ag-full-width-focus",i),i&&(e!=null&&e.forceBrowserFocus)&&n.focus({preventScroll:!0}))}recreateCell(e){this.centerCellCtrls=this.removeCellCtrl(this.centerCellCtrls,e),this.leftCellCtrls=this.removeCellCtrl(this.leftCellCtrls,e),this.rightCellCtrls=this.removeCellCtrl(this.rightCellCtrls,e),e.destroy(),this.updateColumnLists()}removeCellCtrl(e,t){const i={list:[],map:{}};return e.list.forEach(n=>{n!==t&&(i.list.push(n),i.map[n.column.getInstanceId()]=n)}),i}onMouseEvent(e,t){switch(e){case"dblclick":this.onRowDblClick(t);break;case"click":this.onRowClick(t);break;case"touchstart":case"mousedown":this.onRowMouseDown(t);break}}createRowEvent(e,t){const{rowNode:i}=this;return ut(this.gos,{type:e,node:i,data:i.data,rowIndex:i.rowIndex,rowPinned:i.rowPinned,event:t})}createRowEventWithSource(e,t){const i=this.createRowEvent(e,t);return i.source=this,i}onRowDblClick(e){Sc(e)||this.beans.eventSvc.dispatchEvent(this.createRowEventWithSource("rowDoubleClicked",e))}findFullWidthInfoForEvent(e){if(!e)return;const t=this.findFullWidthRowGui(e.target),i=this.getColumnForFullWidth(t);if(!(!t||!i))return{rowGui:t,column:i}}findFullWidthRowGui(e){return this.allRowGuis.find(t=>t.element.contains(e))}getColumnForFullWidth(e){const{visibleCols:t}=this.beans;switch(e==null?void 0:e.containerType){case"center":return t.centerCols[0];case"left":return t.leftCols[0];case"right":return t.rightCols[0];default:return t.allCols[0]}}onRowMouseDown(e){if(this.lastMouseDownOnDragger=Fh(e.target,"ag-row-drag",3),!this.isFullWidth())return;const t=this.rowNode,{rangeSvc:i,focusSvc:n}=this.beans;i==null||i.removeAllCellRanges();const s=this.findFullWidthInfoForEvent(e);if(!s)return;const{rowGui:r,column:o}=s,a=r.element,l=e.target;let u=e.defaultPrevented||hd();a&&a.contains(l)&&hL(l)&&(u=!1),n.setFocusedCell({rowIndex:t.rowIndex,column:o,rowPinned:t.rowPinned,forceBrowserFocus:u})}onRowClick(e){if(Sc(e)||this.lastMouseDownOnDragger)return;const{eventSvc:i,selectionSvc:n}=this.beans;i.dispatchEvent(this.createRowEventWithSource("rowClicked",e)),n==null||n.handleSelectionEvent(e,this.rowNode,"rowClicked")}setupDetailRowAutoHeight(e){var t;this.rowType==="FullWidthDetail"&&((t=this.beans.masterDetailSvc)==null||t.setupDetailRowAutoHeight(this,e))}createFullWidthCompDetails(e,t){const{gos:i,rowNode:n}=this,s=ut(i,{fullWidth:!0,data:n.data,node:n,value:n.key,valueFormatted:n.key,eGridCell:e,eParentOfValue:e,pinned:t,addRenderedRowListener:this.addEventListener.bind(this),registerRowDragger:(o,a,l,u)=>this.addFullWidthRowDragging(o,a,l,u),setTooltip:(o,a)=>{i.assertModuleRegistered("Tooltip",3),this.refreshRowTooltip(o,a)}}),r=this.beans.userCompFactory;switch(this.rowType){case"FullWidthDetail":return Ioe(r,s);case"FullWidthGroup":return Aoe(r,s);case"FullWidthLoading":return Toe(r,s);default:return Eoe(r,s)}}refreshRowTooltip(e,t){var i;this.fullWidthGui&&(this.tooltipFeature=(i=this.beans.tooltipSvc)==null?void 0:i.refreshRowTooltip(this.tooltipFeature,this,e,t))}addFullWidthRowDragging(e,t,i="",n){const{rowDragSvc:s,context:r}=this.beans;if(!s||!this.isFullWidth())return;const o=s.createRowDragComp(()=>i,this.rowNode,void 0,e,t,n);this.createBean(o,r),this.addDestroyFunc(()=>{this.destroyBean(o,r)})}onUiLevelChanged(){const e=_B(this.rowNode);if(this.rowLevel!=e){const t="ag-row-level-"+e,i="ag-row-level-"+this.rowLevel;this.allRowGuis.forEach(n=>{n.rowComp.addOrRemoveCssClass(t,!0),n.rowComp.addOrRemoveCssClass(i,!1)})}this.rowLevel=e}isFirstRowOnPage(){return this.rowNode.rowIndex===this.beans.pageBounds.getFirstRow()}isLastRowOnPage(){return this.rowNode.rowIndex===this.beans.pageBounds.getLastRow()}refreshFirstAndLastRowStyles(){const e=this.isFirstRowOnPage(),t=this.isLastRowOnPage();this.firstRowOnPage!==e&&(this.firstRowOnPage=e,this.allRowGuis.forEach(i=>i.rowComp.addOrRemoveCssClass("ag-row-first",e))),this.lastRowOnPage!==t&&(this.lastRowOnPage=t,this.allRowGuis.forEach(i=>i.rowComp.addOrRemoveCssClass("ag-row-last",t)))}getAllCellCtrls(){return this.leftCellCtrls.list.length===0&&this.rightCellCtrls.list.length===0?this.centerCellCtrls.list:[...this.centerCellCtrls.list,...this.leftCellCtrls.list,...this.rightCellCtrls.list]}postProcessClassesFromGridOptions(){var t;const e=[];(t=this.beans.rowStyleSvc)==null||t.processClassesFromGridOptions(e,this.rowNode),e.length&&e.forEach(i=>{this.allRowGuis.forEach(n=>n.rowComp.addOrRemoveCssClass(i,!0))})}postProcessRowClassRules(){var e;(e=this.beans.rowStyleSvc)==null||e.processRowClassRules(this.rowNode,t=>{this.allRowGuis.forEach(i=>i.rowComp.addOrRemoveCssClass(t,!0))},t=>{this.allRowGuis.forEach(i=>i.rowComp.addOrRemoveCssClass(t,!1))})}setStylesFromGridOptions(e,t){e&&(this.rowStyles=this.processStylesFromGridOptions()),this.forEachGui(t,i=>i.rowComp.setUserStyles(this.rowStyles))}getPinnedForContainer(e){return e==="left"||e==="right"?e:null}getInitialRowClasses(e){var a;const t=this.getPinnedForContainer(e),i=this.isFullWidth(),{rowNode:n,beans:s}=this,r=[];r.push("ag-row"),r.push(this.rowFocused?"ag-row-focus":"ag-row-no-focus"),this.fadeInAnimation[e]&&r.push("ag-opacity-zero"),r.push(n.rowIndex%2===0?"ag-row-even":"ag-row-odd"),n.isRowPinned()&&r.push("ag-row-pinned"),n.isSelected()&&r.push("ag-row-selected"),n.footer&&r.push("ag-row-footer"),r.push("ag-row-level-"+this.rowLevel),n.stub&&r.push("ag-row-loading"),i&&r.push("ag-full-width-row"),(a=s.expansionSvc)==null||a.addExpandedCss(r,n),n.dragging&&r.push("ag-row-dragging");const{rowStyleSvc:o}=s;return o&&(o.processClassesFromGridOptions(r,n),o.preProcessRowClassRules(r,n)),r.push(this.printLayout?"ag-row-position-relative":"ag-row-position-absolute"),this.isFirstRowOnPage()&&r.push("ag-row-first"),this.isLastRowOnPage()&&r.push("ag-row-last"),i&&(t==="left"&&r.push("ag-cell-last-left-pinned"),t==="right"&&r.push("ag-cell-first-right-pinned")),r}processStylesFromGridOptions(){var e;return((e=this.beans.rowStyleSvc)==null?void 0:e.processStylesFromGridOptions(this.rowNode))??this.emptyStyle}onRowSelected(e){var t;(t=this.beans.selectionSvc)==null||t.onRowCtrlSelected(this,i=>{(i===this.centerGui||i===this.fullWidthGui)&&this.announceDescription()},e)}announceDescription(){var e;(e=this.beans.selectionSvc)==null||e.announceAriaRowSelection(this.rowNode)}addHoverFunctionality(e){if(!this.active)return;const{element:t,compBean:i}=e,{rowNode:n,beans:s,gos:r}=this;i.addManagedListeners(t,{mouseenter:()=>n.dispatchRowEvent("mouseEnter"),mouseleave:()=>n.dispatchRowEvent("mouseLeave")}),i.addManagedListeners(n,{mouseEnter:()=>{var o;!((o=s.dragSvc)!=null&&o.dragging)&&!r.get("suppressRowHoverHighlight")&&(t.classList.add("ag-row-hover"),n.setHovered(!0))},mouseLeave:()=>{this.resetHoveredStatus(t)}})}resetHoveredStatus(e){const t=e?[e]:this.allRowGuis.map(i=>i.element);for(const i of t)i.classList.remove("ag-row-hover");this.rowNode.setHovered(!1)}roundRowTopToBounds(e){const t=this.beans.ctrlsSvc.getScrollFeature().getApproximateVScollPosition(),i=this.applyPaginationOffset(t.top,!0)-100,n=this.applyPaginationOffset(t.bottom,!0)+100;return Math.min(Math.max(i,e),n)}forEachGui(e,t){e?t(e):this.allRowGuis.forEach(t)}onRowHeightChanged(e){if(this.rowNode.rowHeight==null)return;const t=this.rowNode.rowHeight,i=this.beans.environment.getDefaultRowHeight(),s=ej(this.gos)?bg(this.beans,this.rowNode).height:void 0,r=s?`${Math.min(i,s)-2}px`:void 0;this.forEachGui(e,o=>{o.element.style.height=`${t}px`,r&&o.element.style.setProperty("--ag-line-height",r)})}destroyFirstPass(e=!1){this.active=!1;const{rowNode:t}=this;if(!e&&_f(this.gos)&&!t.sticky)if(t.rowTop!=null){const s=this.roundRowTopToBounds(t.rowTop);this.setRowTop(s)}else this.allRowGuis.forEach(s=>s.rowComp.addOrRemoveCssClass("ag-opacity-zero",!0));t.setHovered(!1);const i=this.createRowEvent("virtualRowRemoved");this.dispatchLocalEvent(i),this.beans.eventSvc.dispatchEvent(i),super.destroy()}destroySecondPass(){var t;this.allRowGuis.length=0,(t=this.beans.editSvc)==null||t.stopRowEditing(this);const e=i=>(i.list.forEach(n=>n.destroy()),{list:[],map:{}});this.centerCellCtrls=e(this.centerCellCtrls),this.leftCellCtrls=e(this.leftCellCtrls),this.rightCellCtrls=e(this.rightCellCtrls)}setFocusedClasses(e){this.forEachGui(e,t=>{t.rowComp.addOrRemoveCssClass("ag-row-focus",this.rowFocused),t.rowComp.addOrRemoveCssClass("ag-row-no-focus",!this.rowFocused)})}onCellFocusChanged(){const{focusSvc:e,editSvc:t}=this.beans,i=e.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned);i!==this.rowFocused&&(this.rowFocused=i,this.setFocusedClasses()),!i&&this.editing&&(t==null||t.stopRowEditing(this,!1))}onPaginationChanged(){var t;const e=((t=this.beans.pagination)==null?void 0:t.getCurrentPage())??0;this.paginationPage!==e&&(this.paginationPage=e,this.onTopChanged()),this.refreshFirstAndLastRowStyles()}onTopChanged(){this.setRowTop(this.rowNode.rowTop)}onPaginationPixelOffsetChanged(){this.onTopChanged()}applyPaginationOffset(e,t=!1){if(this.rowNode.isRowPinned()||this.rowNode.sticky)return e;const i=this.beans.pageBounds.getPixelOffset();return e+i*(t?1:-1)}setRowTop(e){if(!this.printLayout&&Ne(e)){const t=this.applyPaginationOffset(e),s=`${this.rowNode.isRowPinned()||this.rowNode.sticky?t:this.beans.rowContainerHeight.getRealPixelPosition(t)}px`;this.setRowTopStyle(s)}}getInitialRowTop(e){return this.suppressRowTransform?this.getInitialRowTopShared(e):void 0}getInitialTransform(e){return this.suppressRowTransform?void 0:`translateY(${this.getInitialRowTopShared(e)})`}getInitialRowTopShared(e){if(this.printLayout)return"";const t=this.rowNode;let i;if(t.sticky)i=t.stickyRowTop;else{const n=this.slideInAnimation[e]?this.roundRowTopToBounds(t.oldRowTop):t.rowTop,s=this.applyPaginationOffset(n);i=t.isRowPinned()?s:this.beans.rowContainerHeight.getRealPixelPosition(s)}return i+"px"}setRowTopStyle(e){this.allRowGuis.forEach(t=>this.suppressRowTransform?t.rowComp.setTop(e):t.rowComp.setTransform(`translateY(${e})`))}getCellCtrl(e,t=!1){let i=null;return this.getAllCellCtrls().forEach(n=>{n.column==e&&(i=n)}),i!=null||t||this.getAllCellCtrls().forEach(n=>{n.getColSpanningList().indexOf(e)>=0&&(i=n)}),i}onRowIndexChanged(){this.rowNode.rowIndex!=null&&(this.onCellFocusChanged(),this.updateRowIndexes(),this.postProcessCss())}updateRowIndexes(e){var r,o;const t=this.rowNode.getRowIndexString();if(t===null)return;const i=(((r=this.beans.ctrlsSvc.getHeaderRowContainerCtrl())==null?void 0:r.getRowCount())??0)+(((o=this.beans.filterManager)==null?void 0:o.getHeaderRowCount())??0),n=this.rowNode.rowIndex%2===0,s=i+this.rowNode.rowIndex+1;this.forEachGui(e,a=>{a.rowComp.setRowIndex(t),a.rowComp.addOrRemoveCssClass("ag-row-even",n),a.rowComp.addOrRemoveCssClass("ag-row-odd",!n),N_(a.element,s)})}};function Vj(e){var i;return e.altKey||e.ctrlKey||e.metaKey?!1:((i=e.key)==null?void 0:i.length)===1}function XT(e,t,i,n,s){const r=n?n.getColDef().suppressKeyboardEvent:void 0;if(!r)return!1;const o=ut(e,{event:t,editing:s,column:n,node:i,data:i.data,colDef:n.getColDef()});return!!(r&&r(o))}function Wae(e){const{pinnedRowModel:t,rowModel:i}=e,[n,s]=[(t==null?void 0:t.isEmpty("top"))??!0,(t==null?void 0:t.isEmpty("bottom"))??!0],r=n?null:"top";let o,a;s?(o=null,a=i.getRowCount()-1):(o="bottom",a=(t==null?void 0:t.getPinnedBottomRowCount())??-1);const{visibleCols:l,rangeSvc:u}=e,d=l.allCols;!u||!(d!=null&&d.length)||u.setCellRange({rowStartIndex:0,rowStartPinned:r,rowEndIndex:a,rowEndPinned:o})}var Uae=65,$ae=67,Yae=86,Kae=68,qae=90,Zae=89;function Xae(e){const{keyCode:t}=e;let i;switch(t){case Uae:i=ge.A;break;case $ae:i=ge.C;break;case Yae:i=ge.V;break;case Kae:i=ge.D;break;case qae:i=ge.Z;break;case Zae:i=ge.Y;break;default:i=e.code}return i}var Qae=class extends ye{constructor(e){super(),this.element=e}postConstruct(){var e;this.addKeyboardListeners(),this.addMouseListeners(),(e=this.beans.touchSvc)==null||e.mockRowContextMenu(this)}addKeyboardListeners(){const e="keydown",t=this.processKeyboardEvent.bind(this,e);this.addManagedElementListeners(this.element,{[e]:t})}addMouseListeners(){["dblclick","contextmenu","mouseover","mouseout","click",lj("touchstart")?"touchstart":"mousedown"].forEach(i=>{const n=this.processMouseEvent.bind(this,i);this.addManagedElementListeners(this.element,{[i]:n})})}processMouseEvent(e,t){var s;if(!TS(this.gos,t)||Sc(t))return;const{cellCtrl:i,rowCtrl:n}=this.getControlsForEventTarget(t.target);e==="contextmenu"?(i!=null&&i.column&&i.dispatchCellContextMenuEvent(t),(s=this.beans.contextMenuSvc)==null||s.handleContextMenuMouseEvent(t,void 0,n,i)):(i&&i.onMouseEvent(e,t),n&&n.onMouseEvent(e,t))}getControlsForEventTarget(e){const{gos:t}=this;return{cellCtrl:kj(t,e),rowCtrl:cj(t,e,Hv)}}processKeyboardEvent(e,t){const{cellCtrl:i,rowCtrl:n}=this.getControlsForEventTarget(t.target);t.defaultPrevented||(i?this.processCellKeyboardEvent(i,e,t):n&&n.isFullWidth()&&this.processFullWidthRowKeyboardEvent(n,e,t))}processCellKeyboardEvent(e,t,i){var a;const{rowNode:n,column:s,editing:r}=e;!XT(this.gos,i,n,s,r)&&t==="keydown"&&(!r&&((a=this.beans.navigation)!=null&&a.handlePageScrollingKey(i))||e.onKeyDown(i),this.doGridOperations(i,e.editing),Vj(i)&&e.processCharacter(i)),t==="keydown"&&this.eventSvc.dispatchEvent(e.createEvent(i,"cellKeyDown"))}processFullWidthRowKeyboardEvent(e,t,i){const{rowNode:n}=e,{focusSvc:s,navigation:r}=this.beans,o=s.getFocusedCell(),a=o&&o.column;if(!XT(this.gos,i,n,a,!1)){const u=i.key;if(t==="keydown")switch(u){case ge.PAGE_HOME:case ge.PAGE_END:case ge.PAGE_UP:case ge.PAGE_DOWN:r==null||r.handlePageScrollingKey(i,!0);break;case ge.UP:case ge.DOWN:e.onKeyboardNavigate(i);break;case ge.TAB:e.onTabKeyDown(i);break}}t==="keydown"&&this.eventSvc.dispatchEvent(e.createRowEvent("cellKeyDown",i))}doGridOperations(e,t){if(!e.ctrlKey&&!e.metaKey||t||!TS(this.gos,e))return;const i=Xae(e),{clipboardSvc:n,undoRedo:s}=this.beans;if(i===ge.A)return this.onCtrlAndA(e);if(i===ge.C)return this.onCtrlAndC(n,e);if(i===ge.D)return this.onCtrlAndD(n,e);if(i===ge.V)return this.onCtrlAndV(n,e);if(i===ge.X)return this.onCtrlAndX(n,e);if(i===ge.Y)return this.onCtrlAndY(s);if(i===ge.Z)return this.onCtrlAndZ(s,e)}onCtrlAndA(e){const{beans:{rowModel:t,rangeSvc:i,selectionSvc:n},gos:s}=this;i&&nd(s)&&t.isRowsToRender()?Wae(this.beans):n&&(n==null||n.selectAllRowNodes({source:"keyboardSelectAll",selectAll:rj(s)})),e.preventDefault()}onCtrlAndC(e,t){if(!e||this.gos.get("enableCellTextSelection"))return;const{cellCtrl:i,rowCtrl:n}=this.getControlsForEventTarget(t.target);i!=null&&i.editing||n!=null&&n.editing||(t.preventDefault(),e.copyToClipboard())}onCtrlAndX(e,t){if(!e||this.gos.get("enableCellTextSelection")||this.gos.get("suppressCutToClipboard"))return;const{cellCtrl:i,rowCtrl:n}=this.getControlsForEventTarget(t.target);i!=null&&i.editing||n!=null&&n.editing||(t.preventDefault(),e.cutToClipboard(void 0,"ui"))}onCtrlAndV(e,t){const{cellCtrl:i,rowCtrl:n}=this.getControlsForEventTarget(t.target);i!=null&&i.editing||n!=null&&n.editing||e&&!this.gos.get("suppressClipboardPaste")&&e.pasteFromClipboard()}onCtrlAndD(e,t){e&&!this.gos.get("suppressClipboardPaste")&&e.copyRangeDown(),t.preventDefault()}onCtrlAndZ(e,t){!this.gos.get("undoRedoCellEditing")||!e||(t.preventDefault(),t.shiftKey?e.redo("ui"):e.undo("ui"))}onCtrlAndY(e){e==null||e.redo("ui")}},Wj=class extends ye{constructor(e,t){super(),this.eContainer=e,this.eViewport=t}postConstruct(){this.addManagedEventListeners({rowContainerHeightChanged:this.onHeightChanged.bind(this,this.beans.rowContainerHeight)})}onHeightChanged(e){const t=e.uiContainerHeight,i=t!=null?`${t}px`:"";this.eContainer.style.height=i,this.eViewport&&(this.eViewport.style.height=i)}},Y0=e=>e.topRowCtrls,K0=e=>e.getStickyTopRowCtrls(),q0=e=>e.getStickyBottomRowCtrls(),Z0=e=>e.bottomRowCtrls,X0=e=>e.allRowCtrls,QE=e=>e.getCtrls("top"),JE=e=>e.getCtrls("center"),e1=e=>e.getCtrls("bottom"),Jae={center:{type:"center",name:"center-cols",getRowCtrls:X0,getSpannedRowCtrls:JE},left:{type:"left",name:"pinned-left-cols",pinnedType:"left",getRowCtrls:X0,getSpannedRowCtrls:JE},right:{type:"right",name:"pinned-right-cols",pinnedType:"right",getRowCtrls:X0,getSpannedRowCtrls:JE},fullWidth:{type:"fullWidth",name:"full-width",fullWidth:!0,getRowCtrls:X0},topCenter:{type:"center",name:"floating-top",getRowCtrls:Y0,getSpannedRowCtrls:QE},topLeft:{type:"left",name:"pinned-left-floating",container:"ag-pinned-left-floating-top",pinnedType:"left",getRowCtrls:Y0,getSpannedRowCtrls:QE},topRight:{type:"right",name:"pinned-right-floating",container:"ag-pinned-right-floating-top",pinnedType:"right",getRowCtrls:Y0,getSpannedRowCtrls:QE},topFullWidth:{type:"fullWidth",name:"floating-top-full-width",fullWidth:!0,getRowCtrls:Y0},stickyTopCenter:{type:"center",name:"sticky-top",getRowCtrls:K0},stickyTopLeft:{type:"left",name:"pinned-left-sticky-top",container:"ag-pinned-left-sticky-top",pinnedType:"left",getRowCtrls:K0},stickyTopRight:{type:"right",name:"pinned-right-sticky-top",container:"ag-pinned-right-sticky-top",pinnedType:"right",getRowCtrls:K0},stickyTopFullWidth:{type:"fullWidth",name:"sticky-top-full-width",fullWidth:!0,getRowCtrls:K0},stickyBottomCenter:{type:"center",name:"sticky-bottom",getRowCtrls:q0},stickyBottomLeft:{type:"left",name:"pinned-left-sticky-bottom",container:"ag-pinned-left-sticky-bottom",pinnedType:"left",getRowCtrls:q0},stickyBottomRight:{type:"right",name:"pinned-right-sticky-bottom",container:"ag-pinned-right-sticky-bottom",pinnedType:"right",getRowCtrls:q0},stickyBottomFullWidth:{type:"fullWidth",name:"sticky-bottom-full-width",fullWidth:!0,getRowCtrls:q0},bottomCenter:{type:"center",name:"floating-bottom",getRowCtrls:Z0,getSpannedRowCtrls:e1},bottomLeft:{type:"left",name:"pinned-left-floating-bottom",container:"ag-pinned-left-floating-bottom",pinnedType:"left",getRowCtrls:Z0,getSpannedRowCtrls:e1},bottomRight:{type:"right",name:"pinned-right-floating-bottom",container:"ag-pinned-right-floating-bottom",pinnedType:"right",getRowCtrls:Z0,getSpannedRowCtrls:e1},bottomFullWidth:{type:"fullWidth",name:"floating-bottom-full-width",fullWidth:!0,getRowCtrls:Z0}};function Uj(e){return`ag-${NC(e).name}-viewport`}function Fw(e){const t=NC(e);return t.container??`ag-${t.name}-container`}function ele(e){return`ag-${NC(e).name}-spanned-cells-container`}function NC(e){return Jae[e]}var tle=["topCenter","topLeft","topRight"],ile=["bottomCenter","bottomLeft","bottomRight"],nle=["center","left","right"],sle=["center","left","right","fullWidth"],rle=["stickyTopCenter","stickyBottomCenter","center","topCenter","bottomCenter"],ole=["left","bottomLeft","topLeft","stickyTopLeft","stickyBottomLeft"],ale=["right","bottomRight","topRight","stickyTopRight","stickyBottomRight"],$j=["stickyTopCenter","stickyTopLeft","stickyTopRight"],Yj=["stickyBottomCenter","stickyBottomLeft","stickyBottomRight"],lle=[...$j,"stickyTopFullWidth",...Yj,"stickyBottomFullWidth"],cle=[...tle,...ile,...nle,...$j,...Yj],ule=class extends ye{constructor(e){super(),this.name=e,this.visible=!0,this.EMPTY_CTRLS=[],this.options=NC(e)}postConstruct(){this.enableRtl=this.gos.get("enableRtl"),this.forContainers(["center"],()=>{this.viewportSizeFeature=this.createManagedBean(new _ae(this)),this.addManagedEventListeners({stickyTopOffsetChanged:this.onStickyTopOffsetChanged.bind(this)})})}onStickyTopOffsetChanged(e){this.comp.setOffsetTop(`${e.offset}px`)}registerWithCtrlsService(){this.options.fullWidth||this.beans.ctrlsSvc.register(this.name,this)}forContainers(e,t){e.indexOf(this.name)>=0&&t()}setComp(e,t,i,n){this.comp=e,this.eContainer=t,this.eSpannedContainer=i,this.eViewport=n,this.createManagedBean(new Qae(this.eViewport??this.eContainer)),this.addPreventScrollWhileDragging(),this.listenOnDomOrder();const{pinnedCols:s,rangeSvc:r}=this.beans,o=()=>this.onPinnedWidthChanged();this.forContainers(ole,()=>{this.pinnedWidthFeature=this.createOptionalManagedBean(s==null?void 0:s.createPinnedWidthFeature(!0,this.eContainer,this.eSpannedContainer)),this.addManagedEventListeners({leftPinnedWidthChanged:o})}),this.forContainers(ale,()=>{this.pinnedWidthFeature=this.createOptionalManagedBean(s==null?void 0:s.createPinnedWidthFeature(!1,this.eContainer,this.eSpannedContainer)),this.addManagedEventListeners({rightPinnedWidthChanged:o})}),this.forContainers(sle,()=>this.createManagedBean(new Wj(this.eContainer,this.name==="center"?n:void 0))),r&&this.forContainers(cle,()=>this.createManagedBean(r.createDragListenerFeature(this.eContainer))),this.forContainers(rle,()=>this.createManagedBean(new DL(a=>this.comp.setContainerWidth(`${a}px`)))),this.visible=this.isContainerVisible(),this.addListeners(),this.registerWithCtrlsService()}onScrollCallback(e){this.addManagedElementListeners(this.eViewport,{scroll:e})}addListeners(){const{spannedRowRenderer:e,gos:t}=this.beans;this.addManagedEventListeners({displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),displayedColumnsWidthChanged:this.onDisplayedColumnsChanged.bind(this),displayedRowsChanged:i=>this.onDisplayedRowsChanged(i.afterScroll)}),this.onDisplayedColumnsChanged(),this.onDisplayedRowsChanged(),e&&this.options.getSpannedRowCtrls&&t.get("enableCellSpan")&&this.addManagedListeners(e,{spannedRowsUpdated:()=>{const i=this.options.getSpannedRowCtrls(e);i&&this.comp.setSpannedRowCtrls(i,!1)}})}listenOnDomOrder(){if(lle.indexOf(this.name)>=0){this.comp.setDomOrder(!0);return}const t=()=>{const i=this.gos.get("ensureDomOrder"),n=Gs(this.gos,"print");this.comp.setDomOrder(i||n)};this.addManagedPropertyListener("domLayout",t),t()}onDisplayedColumnsChanged(){this.forContainers(["center"],()=>this.onHorizontalViewportChanged())}addPreventScrollWhileDragging(){const{dragSvc:e}=this.beans;if(!e)return;const t=i=>{e.dragging&&i.cancelable&&i.preventDefault()};this.eContainer.addEventListener("touchmove",t,{passive:!1}),this.addDestroyFunc(()=>this.eContainer.removeEventListener("touchmove",t))}onHorizontalViewportChanged(e=!1){const t=this.getCenterWidth(),i=this.getCenterViewportScrollLeft();this.beans.colViewport.setScrollPosition(t,i,e)}hasHorizontalScrollGap(){return this.eContainer.clientWidth-this.eViewport.clientWidth<0}hasVerticalScrollGap(){return this.eContainer.clientHeight-this.eViewport.clientHeight<0}getCenterWidth(){return kv(this.eViewport)}getCenterViewportScrollLeft(){return fS(this.eViewport,this.enableRtl)}registerViewportResizeListener(e){const t=zc(this.beans,this.eViewport,e);this.addDestroyFunc(()=>t())}isViewportInTheDOMTree(){return $_(this.eViewport)}getViewportScrollLeft(){return fS(this.eViewport,this.enableRtl)}isHorizontalScrollShowing(){return this.gos.get("alwaysShowHorizontalScroll")||Kse(this.eViewport)}setHorizontalScroll(e){this.comp.setHorizontalScroll(e)}getHScrollPosition(){return{left:this.eViewport.scrollLeft,right:this.eViewport.scrollLeft+this.eViewport.offsetWidth}}setCenterViewportScrollLeft(e){gS(this.eViewport,e,this.enableRtl)}isContainerVisible(){return!(this.options.pinnedType!=null)||!!this.pinnedWidthFeature&&this.pinnedWidthFeature.getWidth()>0}onPinnedWidthChanged(){const e=this.isContainerVisible();this.visible!=e&&(this.visible=e,this.onDisplayedRowsChanged())}onDisplayedRowsChanged(e=!1){const t=this.options.getRowCtrls(this.beans.rowRenderer);if(!this.visible||t.length===0){this.comp.setRowCtrls({rowCtrls:this.EMPTY_CTRLS});return}const i=Gs(this.gos,"print"),s=this.gos.get("embedFullWidthRows")||i,r=t.filter(o=>{const a=o.isFullWidth();return this.options.fullWidth?!s&&a:s||!a});this.comp.setRowCtrls({rowCtrls:r,useFlushSync:e})}},dle="ag-force-vertical-scroll",hle="ag-selectable",ple="ag-column-moving",fle=class extends ye{constructor(){super(...arguments),this.stickyTopHeight=0,this.stickyBottomHeight=0}wireBeans(e){this.ctrlsSvc=e.ctrlsSvc,this.colModel=e.colModel,this.scrollVisibleSvc=e.scrollVisibleSvc,this.pinnedRowModel=e.pinnedRowModel,this.filterManager=e.filterManager,this.rowGroupColsSvc=e.rowGroupColsSvc}setComp(e,t,i,n,s,r,o){var a,l;this.comp=e,this.eGridBody=t,this.eBodyViewport=i,this.eTop=n,this.eBottom=s,this.eStickyTop=r,this.eStickyBottom=o,this.eCenterColsViewport=i.querySelector(`.${Uj("center")}`),this.eFullWidthContainer=i.querySelector(`.${Fw("fullWidth")}`),this.eStickyTopFullWidthContainer=r.querySelector(`.${Fw("stickyTopFullWidth")}`),this.eStickyBottomFullWidthContainer=o.querySelector(`.${Fw("stickyBottomFullWidth")}`),this.setCellTextSelection(this.gos.get("enableCellTextSelection")),this.addManagedPropertyListener("enableCellTextSelection",u=>this.setCellTextSelection(u.currentValue)),this.createManagedBean(new ML(this.comp)),this.scrollFeature=this.createManagedBean(new Hae(this.eBodyViewport)),(a=this.beans.rowDragSvc)==null||a.setupRowDrag(this.eBodyViewport,this),this.setupRowAnimationCssClass(),this.addEventListeners(),this.addFocusListeners([n,i,s,r,o]),this.setGridRootRole(),this.onGridColumnsChanged(),this.addBodyViewportListener(),this.setFloatingHeights(),this.disableBrowserDragging(),this.addStopEditingWhenGridLosesFocus(),this.updateScrollingClasses(),(l=this.filterManager)==null||l.setupAdvFilterHeaderComp(n),this.ctrlsSvc.register("gridBodyCtrl",this)}addEventListeners(){const e=this.setFloatingHeights.bind(this),t=this.setGridRootRole.bind(this);this.addManagedEventListeners({gridColumnsChanged:this.onGridColumnsChanged.bind(this),scrollVisibilityChanged:this.onScrollVisibilityChanged.bind(this),scrollGapChanged:this.updateScrollingClasses.bind(this),pinnedRowDataChanged:e,pinnedHeightChanged:e,headerHeightChanged:this.setStickyTopOffsetTop.bind(this),columnRowGroupChanged:t,columnPivotChanged:t}),this.addManagedPropertyListener("treeData",t)}onGridColumnsChanged(){const e=this.beans.colModel.getCols();this.comp.setColumnCount(e.length)}onScrollVisibilityChanged(){const{scrollVisibleSvc:e}=this,t=e.verticalScrollShowing;this.setVerticalScrollPaddingVisible(t),this.setStickyWidth(t),this.setStickyBottomOffsetBottom();const i=t&&e.getScrollbarWidth()||0,n=j_()?16:0,s=`calc(100% + ${i+n}px)`;Gc(this.beans,()=>this.comp.setBodyViewportWidth(s)),this.updateScrollingClasses()}setGridRootRole(){const{rowGroupColsSvc:e,colModel:t}=this;let i=this.gos.get("treeData");if(!i){const n=t.isPivotMode();i=(e?e.columns.length:0)>=(n?2:1)}this.comp.setGridRootRole(i?"treegrid":"grid")}addFocusListeners(e){e.forEach(t=>{this.addManagedElementListeners(t,{focusin:i=>{const{target:n}=i,s=Fh(n,"ag-root",t);t.classList.toggle("ag-has-focus",!s)},focusout:i=>{const{target:n,relatedTarget:s}=i,r=t.contains(s),o=Fh(s,"ag-root",t);Fh(n,"ag-root",t)||(!r||o)&&t.classList.remove("ag-has-focus")}})})}setColumnMovingCss(e){this.comp.setColumnMovingCss(ple,e)}setCellTextSelection(e=!1){this.comp.setCellSelectableCss(hle,e)}updateScrollingClasses(){const{eGridBody:{classList:e},scrollVisibleSvc:t}=this;e.toggle("ag-body-vertical-content-no-gap",!t.verticalScrollGap),e.toggle("ag-body-horizontal-content-no-gap",!t.horizontalScrollGap)}disableBrowserDragging(){this.addManagedElementListeners(this.eGridBody,{dragstart:e=>{if(e.target instanceof HTMLImageElement)return e.preventDefault(),!1}})}addStopEditingWhenGridLosesFocus(){var e;(e=this.beans.editSvc)==null||e.addStopEditingWhenGridLosesFocus([this.eBodyViewport,this.eBottom,this.eTop,this.eStickyTop,this.eStickyBottom])}updateRowCount(){var s,r;const e=(((s=this.ctrlsSvc.getHeaderRowContainerCtrl())==null?void 0:s.getRowCount())??0)+(((r=this.filterManager)==null?void 0:r.getHeaderRowCount())??0),{rowModel:t}=this.beans,i=t.isLastRowIndexKnown()?t.getRowCount():-1,n=i===-1?-1:e+i;this.comp.setRowCount(n)}registerBodyViewportResizeListener(e){this.comp.registerBodyViewportResizeListener(e)}setVerticalScrollPaddingVisible(e){const t=e?"scroll":"hidden";this.comp.setPinnedTopBottomOverflowY(t)}isVerticalScrollShowing(){const e=this.gos.get("alwaysShowVerticalScroll"),t=e?dle:null,i=Gs(this.gos,"normal");return this.comp.setAlwaysVerticalScrollClass(t,e),e||i&&qse(this.eBodyViewport)}setupRowAnimationCssClass(){const{rowContainerHeight:e,environment:t}=this.beans;let i=t.sizesMeasured;const n=()=>{const s=i&&_f(this.gos)&&!e.stretching,r=s?"ag-row-animation":"ag-row-no-animation";this.comp.setRowAnimationCssOnBodyViewport(r,s)};n(),this.addManagedEventListeners({heightScaleChanged:n}),this.addManagedPropertyListener("animateRows",n),this.addManagedEventListeners({gridStylesChanged:()=>{!i&&t.sizesMeasured&&(i=!0,n())}})}addBodyViewportListener(){const{popupSvc:e,touchSvc:t}=this.beans,i=this.onBodyViewportContextMenu.bind(this);this.addManagedElementListeners(this.eBodyViewport,{contextmenu:i}),t==null||t.mockBodyContextMenu(this,i),this.addManagedElementListeners(this.eBodyViewport,{wheel:this.onBodyViewportWheel.bind(this,e)}),this.addManagedElementListeners(this.eStickyTop,{wheel:this.onStickyWheel.bind(this)}),this.addManagedElementListeners(this.eStickyBottom,{wheel:this.onStickyWheel.bind(this)}),this.addFullWidthContainerWheelListener()}addFullWidthContainerWheelListener(){this.addManagedElementListeners(this.eFullWidthContainer,{wheel:e=>this.onFullWidthContainerWheel(e)})}onFullWidthContainerWheel(e){const{deltaX:t,deltaY:i,shiftKey:n}=e;(n||Math.abs(t)>Math.abs(i))&&TS(this.gos,e)&&this.scrollGridBodyToMatchEvent(e)}onStickyWheel(e){const{deltaX:t,deltaY:i,shiftKey:n}=e,s=n||Math.abs(t)>Math.abs(i),r=e.target;s?(this.eStickyTopFullWidthContainer.contains(r)||this.eStickyBottomFullWidthContainer.contains(r))&&this.scrollGridBodyToMatchEvent(e):(e.preventDefault(),this.scrollVertically(i))}scrollGridBodyToMatchEvent(e){const{deltaX:t,deltaY:i}=e;e.preventDefault(),this.eCenterColsViewport.scrollBy({left:t||i})}onBodyViewportContextMenu(e,t,i){var s;if(!e&&!i)return;this.gos.get("preventDefaultOnContextMenu")&&(e||i).preventDefault();const{target:n}=e||t;(n===this.eBodyViewport||n===this.ctrlsSvc.get("center").eViewport)&&((s=this.beans.contextMenuSvc)==null||s.showContextMenu({mouseEvent:e,touchEvent:i,value:null,anchorToElement:this.eGridBody,source:"ui"}))}onBodyViewportWheel(e,t){this.gos.get("suppressScrollWhenPopupsAreOpen")&&e!=null&&e.hasAnchoredPopup()&&t.preventDefault()}scrollVertically(e){const t=this.eBodyViewport.scrollTop;return this.scrollFeature.setVerticalScrollPosition(t+e),this.eBodyViewport.scrollTop-t}setFloatingHeights(){const{pinnedRowModel:e}=this,t=(e==null?void 0:e.getPinnedTopTotalHeight())??0,i=(e==null?void 0:e.getPinnedBottomTotalHeight())??0;this.comp.setTopHeight(t),this.comp.setBottomHeight(i),this.comp.setTopDisplay(t?"inherit":"none"),this.comp.setBottomDisplay(i?"inherit":"none"),this.setStickyTopOffsetTop(),this.setStickyBottomOffsetBottom()}setStickyTopHeight(e=0){this.comp.setStickyTopHeight(`${e}px`),this.stickyTopHeight=e}setStickyBottomHeight(e=0){this.comp.setStickyBottomHeight(`${e}px`),this.stickyBottomHeight=e}setStickyWidth(e){if(!e)this.comp.setStickyTopWidth("100%"),this.comp.setStickyBottomWidth("100%");else{const t=this.scrollVisibleSvc.getScrollbarWidth();this.comp.setStickyTopWidth(`calc(100% - ${t}px)`),this.comp.setStickyBottomWidth(`calc(100% - ${t}px)`)}}setStickyTopOffsetTop(){var s,r;const t=this.ctrlsSvc.get("gridHeaderCtrl").headerHeight+(((s=this.filterManager)==null?void 0:s.getHeaderHeight())??0),i=((r=this.pinnedRowModel)==null?void 0:r.getPinnedTopTotalHeight())??0;let n=0;t>0&&(n+=t),i>0&&(n+=i),n>0&&(n+=1),this.comp.setStickyTopTop(`${n}px`)}setStickyBottomOffsetBottom(){const{pinnedRowModel:e,scrollVisibleSvc:t,comp:i}=this,n=(e==null?void 0:e.getPinnedBottomTotalHeight())??0,r=t.horizontalScrollShowing&&t.getScrollbarWidth()||0,o=n+r;i.setStickyBottomBottom(`${o}px`)}},Kj=class extends Xi{constructor(e,t){super(),this.direction=t,this.eViewport=nt,this.eContainer=nt,this.hideTimeout=0,this.setTemplate(e)}postConstruct(){this.addManagedEventListeners({scrollVisibilityChanged:this.onScrollVisibilityChanged.bind(this)}),this.onScrollVisibilityChanged(),this.addOrRemoveCssClass("ag-apple-scrollbar",H_()||Ph())}destroy(){super.destroy(),window.clearTimeout(this.hideTimeout)}initialiseInvisibleScrollbar(){this.invisibleScrollbar===void 0&&(this.invisibleScrollbar=j_(),this.invisibleScrollbar&&(this.hideAndShowInvisibleScrollAsNeeded(),this.addActiveListenerToggles()))}addActiveListenerToggles(){const e=this.getGui(),t=()=>this.addOrRemoveCssClass("ag-scrollbar-active",!0),i=()=>this.addOrRemoveCssClass("ag-scrollbar-active",!1);this.addManagedListeners(e,{mouseenter:t,mousedown:t,touchstart:t,mouseleave:i,touchend:i})}onScrollVisibilityChanged(){this.invisibleScrollbar===void 0&&this.initialiseInvisibleScrollbar(),Gc(this.beans,()=>this.setScrollVisible())}hideAndShowInvisibleScrollAsNeeded(){this.addManagedEventListeners({bodyScroll:e=>{e.direction===this.direction&&(this.hideTimeout&&(window.clearTimeout(this.hideTimeout),this.hideTimeout=0),this.addOrRemoveCssClass("ag-scrollbar-scrolling",!0))},bodyScrollEnd:()=>{this.hideTimeout=window.setTimeout(()=>{this.addOrRemoveCssClass("ag-scrollbar-scrolling",!1),this.hideTimeout=0},400)}})}attemptSettingScrollPosition(e){const t=this.eViewport;Jse(()=>Dl(t),()=>this.setScrollPosition(e),100)}onScrollCallback(e){this.addManagedElementListeners(this.eViewport,{scroll:e})}},gle=class extends Kj{constructor(){super(`<div class="ag-body-horizontal-scroll" aria-hidden="true">
            <div class="ag-horizontal-left-spacer" data-ref="eLeftSpacer"></div>
            <div class="ag-body-horizontal-scroll-viewport" data-ref="eViewport">
                <div class="ag-body-horizontal-scroll-container" data-ref="eContainer"></div>
            </div>
            <div class="ag-horizontal-right-spacer" data-ref="eRightSpacer"></div>
        </div>`,"horizontal"),this.eLeftSpacer=nt,this.eRightSpacer=nt,this.setScrollVisibleDebounce=0}wireBeans(e){this.visibleCols=e.visibleCols,this.scrollVisibleSvc=e.scrollVisibleSvc}postConstruct(){super.postConstruct();const e=this.setFakeHScrollSpacerWidths.bind(this);this.addManagedEventListeners({displayedColumnsChanged:e,displayedColumnsWidthChanged:e,pinnedRowDataChanged:this.refreshCompBottom.bind(this)}),this.addManagedPropertyListener("domLayout",e),this.beans.ctrlsSvc.register("fakeHScrollComp",this),this.createManagedBean(new DL(t=>this.eContainer.style.width=`${t}px`)),this.addManagedPropertyListeners(["suppressHorizontalScroll"],this.onScrollVisibilityChanged.bind(this))}destroy(){window.clearTimeout(this.setScrollVisibleDebounce),super.destroy()}initialiseInvisibleScrollbar(){this.invisibleScrollbar===void 0&&(this.enableRtl=this.gos.get("enableRtl"),super.initialiseInvisibleScrollbar(),this.invisibleScrollbar&&this.refreshCompBottom())}refreshCompBottom(){var t;if(!this.invisibleScrollbar)return;const e=((t=this.beans.pinnedRowModel)==null?void 0:t.getPinnedBottomTotalHeight())??0;this.getGui().style.bottom=`${e}px`}onScrollVisibilityChanged(){super.onScrollVisibilityChanged(),this.setFakeHScrollSpacerWidths()}setFakeHScrollSpacerWidths(){const e=this.scrollVisibleSvc.verticalScrollShowing;let t=this.visibleCols.getDisplayedColumnsRightWidth();const i=!this.enableRtl&&e,n=this.scrollVisibleSvc.getScrollbarWidth();i&&(t+=n),bl(this.eRightSpacer,t),this.eRightSpacer.classList.toggle("ag-scroller-corner",t<=n);let s=this.visibleCols.getColsLeftWidth();this.enableRtl&&e&&(s+=n),bl(this.eLeftSpacer,s),this.eLeftSpacer.classList.toggle("ag-scroller-corner",s<=n)}setScrollVisible(){const e=this.scrollVisibleSvc.horizontalScrollShowing,t=this.invisibleScrollbar,i=this.gos.get("suppressHorizontalScroll"),n=e&&this.scrollVisibleSvc.getScrollbarWidth()||0,r=i?0:n===0&&t?16:n,o=()=>{this.setScrollVisibleDebounce=0,this.addOrRemoveCssClass("ag-scrollbar-invisible",t),ev(this.getGui(),r),ev(this.eViewport,r),ev(this.eContainer,r),this.setDisplayed(e,{skipAriaHidden:!0})};window.clearTimeout(this.setScrollVisibleDebounce),e?this.setScrollVisibleDebounce=window.setTimeout(o,100):o()}getScrollPosition(){return fS(this.eViewport,this.enableRtl)}setScrollPosition(e){Dl(this.eViewport)||this.attemptSettingScrollPosition(e),gS(this.eViewport,e,this.enableRtl)}},mle=class extends Kj{constructor(){super(`<div class="ag-body-vertical-scroll" aria-hidden="true">
            <div class="ag-body-vertical-scroll-viewport" data-ref="eViewport">
                <div class="ag-body-vertical-scroll-container" data-ref="eContainer"></div>
            </div>
        </div>`,"vertical")}postConstruct(){super.postConstruct(),this.createManagedBean(new Wj(this.eContainer));const{ctrlsSvc:e}=this.beans;e.register("fakeVScrollComp",this),this.addManagedEventListeners({rowContainerHeightChanged:this.onRowContainerHeightChanged.bind(this,e)})}setScrollVisible(){const{scrollVisibleSvc:e}=this.beans,t=e.verticalScrollShowing,i=this.invisibleScrollbar,n=t&&e.getScrollbarWidth()||0,s=n===0&&i?16:n;this.addOrRemoveCssClass("ag-scrollbar-invisible",i),bl(this.getGui(),s),bl(this.eViewport,s),bl(this.eContainer,s),this.setDisplayed(t,{skipAriaHidden:!0})}onRowContainerHeightChanged(e){const i=e.getGridBodyCtrl().eBodyViewport,n=this.getScrollPosition(),s=i.scrollTop;n!=s&&this.setScrollPosition(s,!0)}getScrollPosition(){return this.eViewport.scrollTop}setScrollPosition(e,t){!t&&!Dl(this.eViewport)&&this.attemptSettingScrollPosition(e),this.eViewport.scrollTop=e}};function yle(e){return e.cols?e.cols.treeDepth+1:-1}function yc(e){var t;return((t=e.ctrlsSvc.getHeaderRowContainerCtrl())==null?void 0:t.getRowCount())??0}function EL(e){const t=[],i=e.ctrlsSvc.getHeaderRowContainerCtrls();for(const n of i){if(!n)continue;const s=n.getGroupRowCount()||0;for(let r=0;r<s;r++){const o=n.getGroupRowCtrlAtIndex(r),a=t[r];if(o){const l=vle(e,o);(a==null||l>a)&&(t[r]=l)}}}return t}function vle(e,t){const i=e.colModel.isPivotMode()?ble(e):Zj(e);let n=0;const s=t.getHeaderCtrls();for(const r of s){const{column:o}=r;if(o.isAutoHeaderHeight()){const a=o.getAutoHeaderHeight();a!=null&&a>n&&(n=a)}}return Math.max(i,n)}function TL(e){const t=e.colModel.isPivotMode()?Cle(e):BC(e),n=e.visibleCols.allCols.filter(s=>s.isAutoHeaderHeight()).map(s=>s.getAutoHeaderHeight()||0);return Math.max(t,...n)}function BC(e){return e.gos.get("headerHeight")??e.environment.getDefaultHeaderHeight()}function qj(e){return e.gos.get("floatingFiltersHeight")??BC(e)}function Zj(e){return e.gos.get("groupHeaderHeight")??BC(e)}function Cle(e){return e.gos.get("pivotHeaderHeight")??BC(e)}function ble(e){return e.gos.get("pivotGroupHeaderHeight")??Zj(e)}var wle=class extends ye{setComp(e,t,i){this.comp=e,this.eGui=t;const{beans:n}=this,{headerNavigation:s,touchSvc:r,ctrlsSvc:o}=n;s&&this.createManagedBean(new _g(i,{onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addManagedEventListeners({columnPivotModeChanged:this.onPivotModeChanged.bind(this,n),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this,n)}),this.onPivotModeChanged(n),this.setupHeaderHeight();const a=this.onHeaderContextMenu.bind(this);this.addManagedElementListeners(this.eGui,{contextmenu:a}),r==null||r.mockHeaderContextMenu(this,a),o.register("gridHeaderCtrl",this)}setupHeaderHeight(){const e=this.setHeaderHeight.bind(this);e(),this.addManagedPropertyListeners(["headerHeight","pivotHeaderHeight","groupHeaderHeight","pivotGroupHeaderHeight","floatingFiltersHeight"],e),this.addManagedEventListeners({displayedColumnsChanged:e,columnHeaderHeightChanged:e,columnGroupHeaderHeightChanged:()=>Gc(this.beans,()=>e()),gridStylesChanged:e,advancedFilterEnabledChanged:e})}setHeaderHeight(){var r;const{beans:e}=this;let t=0;const i=EL(e).reduce((o,a)=>o+a,0),n=TL(e);if((r=e.filterManager)!=null&&r.hasFloatingFilters()&&(t+=qj(e)),t+=i,t+=n,this.headerHeight===t)return;this.headerHeight=t;const s=`${t+1}px`;this.comp.setHeightAndMinHeight(s),this.eventSvc.dispatchEvent({type:"headerHeightChanged"})}onPivotModeChanged(e){const t=e.colModel.isPivotMode();this.comp.addOrRemoveCssClass("ag-pivot-on",t),this.comp.addOrRemoveCssClass("ag-pivot-off",!t)}onDisplayedColumnsChanged(e){const i=e.visibleCols.allCols.some(n=>n.isSpanHeaderHeight());this.comp.addOrRemoveCssClass("ag-header-allow-overflow",i)}onTabKeyDown(e){const t=this.gos.get("enableRtl"),i=e.shiftKey,n=i!==t?"LEFT":"RIGHT",{beans:s}=this,{headerNavigation:r,focusSvc:o}=s;(r.navigateHorizontally(n,!0,e)||!i&&o.focusOverlay(!1)||Mg(s,i,!0))&&e.preventDefault()}handleKeyDown(e){let t=null;const{headerNavigation:i}=this.beans;switch(e.key){case ge.LEFT:t="LEFT";case ge.RIGHT:{Ne(t)||(t="RIGHT"),i.navigateHorizontally(t,!1,e)&&e.preventDefault();break}case ge.UP:t="UP";case ge.DOWN:{Ne(t)||(t="DOWN"),i.navigateVertically(t,null,e)&&e.preventDefault();break}default:return}}onFocusOut(e){const{relatedTarget:t}=e,{eGui:i,beans:n}=this;!t&&i.contains(yn(n))||i.contains(t)||(n.focusSvc.focusedHeader=null)}onHeaderContextMenu(e,t,i){var o;const{menuSvc:n,ctrlsSvc:s}=this.beans;if(!e&&!i||!(n!=null&&n.isHeaderContextMenuEnabled()))return;const{target:r}=e??t;(r===this.eGui||r===((o=s.getHeaderRowContainerCtrl())==null?void 0:o.eViewport))&&n.showHeaderContextMenu(void 0,e,i)}},AL=class extends ye{constructor(e,t,i,n){super(),this.columnOrGroup=e,this.eCell=t,this.colsSpanning=n,this.columnOrGroup=e,this.ariaEl=t.querySelector("[role=columnheader]")||t,this.beans=i}setColsSpanning(e){this.colsSpanning=e,this.onLeftChanged()}getColumnOrGroup(){const{beans:e,colsSpanning:t}=this;return e.gos.get("enableRtl")&&t?bi(t):this.columnOrGroup}postConstruct(){const e=this.onLeftChanged.bind(this);this.addManagedListeners(this.columnOrGroup,{leftChanged:e}),this.setLeftFirstTime(),this.addManagedEventListeners({displayedColumnsWidthChanged:e}),this.addManagedPropertyListener("domLayout",e)}setLeftFirstTime(){const{gos:e,colAnimation:t}=this.beans,i=e.get("suppressColumnMoveAnimation"),n=Ne(this.columnOrGroup.getOldLeft());(t==null?void 0:t.isActive())&&n&&!i?this.animateInLeft():this.onLeftChanged()}animateInLeft(){const e=this.getColumnOrGroup(),t=this.modifyLeftForPrintLayout(e,e.getOldLeft()),i=this.modifyLeftForPrintLayout(e,e.getLeft());this.setLeft(t),this.actualLeft=i,this.beans.colAnimation.executeNextVMTurn(()=>{this.actualLeft===i&&this.setLeft(i)})}onLeftChanged(){const e=this.getColumnOrGroup(),t=e.getLeft();this.actualLeft=this.modifyLeftForPrintLayout(e,t),this.setLeft(this.actualLeft)}modifyLeftForPrintLayout(e,t){const{gos:i,visibleCols:n}=this.beans;if(!Gs(i,"print")||e.getPinned()==="left")return t;const r=n.getColsLeftWidth();if(e.getPinned()==="right"){const o=n.bodyWidth;return r+o+t}return r+t}setLeft(e){if(Ne(e)&&(this.eCell.style.left=`${e}px`),dn(this.columnOrGroup)){const t=this.columnOrGroup.getLeafColumns();if(!t.length)return;t.length>1&&Hse(this.ariaEl,t.length)}}},Sle=0,Xj="headerCtrl",IL=class extends ye{constructor(e,t){super(),this.column=e,this.rowCtrl=t,this.resizeToggleTimeout=0,this.resizeMultiplier=1,this.resizeFeature=null,this.lastFocusEvent=null,this.dragSource=null,this.instanceId=e.getUniqueId()+"-"+Sle++}postConstruct(){const e=this.refreshTabIndex.bind(this);this.addManagedPropertyListeners(["suppressHeaderFocus"],e),this.addManagedEventListeners({overlayExclusiveChanged:e})}shouldStopEventPropagation(e){const{headerRowIndex:t,column:i}=this.beans.focusSvc.focusedHeader,n=i.getDefinition(),s=n&&n.suppressHeaderKeyboardEvent;if(!Ne(s))return!1;const r=ut(this.gos,{colDef:n,column:i,headerRowIndex:t,event:e});return!!s(r)}getWrapperHasFocus(){return yn(this.beans)===this.eGui}setGui(e,t){this.eGui=e,this.addDomData(t),t.addManagedListeners(this.beans.eventSvc,{displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this)}),t.addManagedElementListeners(this.eGui,{focus:this.onGuiFocus.bind(this)}),this.onDisplayedColumnsChanged(),this.refreshTabIndex()}refreshHeaderStyles(){const e=this.column.getDefinition();if(!e)return;const{headerStyle:t}=e;let i;if(typeof t=="function"){const n=this.getHeaderClassParams();i=t(n)}else i=t;i&&this.comp.setUserStyles(i)}onGuiFocus(){this.eventSvc.dispatchEvent({type:"headerFocused",column:this.column})}setupAutoHeight(e){const{wrapperElement:t,checkMeasuringCallback:i,compBean:n}=e,{beans:s}=this,r=p=>{if(!this.isAlive()||!n.isAlive())return;const{paddingTop:f,paddingBottom:m,borderBottomWidth:y,borderTopWidth:C}=mp(this.eGui),w=f+m+y+C,S=t.offsetHeight+w;if(p<5){const M=An(s),D=!M||!M.contains(t),R=S==0;if(D||R){Gc(s,()=>r(p+1));return}}this.setColHeaderHeight(this.column,S)};let o=!1,a;const l=()=>{const p=this.column.isAutoHeaderHeight();p&&!o&&u(),!p&&o&&d()},u=()=>{o=!0,r(0),this.comp.addOrRemoveCssClass("ag-header-cell-auto-height",!0),a=zc(this.beans,t,()=>r(0))},d=()=>{o=!1,a&&a(),this.comp.addOrRemoveCssClass("ag-header-cell-auto-height",!1),a=void 0};l(),n.addDestroyFunc(()=>d()),n.addManagedListeners(this.column,{widthChanged:()=>o&&r(0)}),n.addManagedEventListeners({sortChanged:()=>{o&&window.setTimeout(()=>r(0))}}),i&&i(l)}onDisplayedColumnsChanged(){const{comp:e,column:t,beans:i,eGui:n}=this;!e||!t||!n||(Ij(e,t,i.visibleCols),B_(n,i.visibleCols.getAriaColIndex(t)))}addResizeAndMoveKeyboardListeners(e){e.addManagedListeners(this.eGui,{keydown:this.onGuiKeyDown.bind(this),keyup:this.onGuiKeyUp.bind(this)})}refreshTabIndex(){const e=Gh(this.beans);this.eGui&&Yo(this.eGui,"tabindex",e?null:"-1")}onGuiKeyDown(e){var r;const t=yn(this.beans),i=e.key===ge.LEFT||e.key===ge.RIGHT;if(this.isResizing&&(e.preventDefault(),e.stopImmediatePropagation()),t!==this.eGui||!e.shiftKey&&!e.altKey||((this.isResizing||i)&&(e.preventDefault(),e.stopImmediatePropagation()),!i))return;const s=e.key===ge.LEFT!==this.gos.get("enableRtl")?"left":"right";if(e.altKey){this.isResizing=!0,this.resizeMultiplier+=1;const o=this.getViewportAdjustedResizeDiff(e);this.resizeHeader(o,e.shiftKey),(r=this.resizeFeature)==null||r.toggleColumnResizing(!0)}else this.moveHeader(s)}moveHeader(e){var t;(t=this.beans.colMoves)==null||t.moveHeader(e,this.eGui,this.column,this.rowCtrl.pinned,this)}getViewportAdjustedResizeDiff(e){const t=this.getResizeDiff(e),{pinnedCols:i}=this.beans;return i?i.getHeaderResizeDiff(t,this.column):t}getResizeDiff(e){const{gos:t,column:i}=this;let n=e.key===ge.LEFT!==t.get("enableRtl");const s=i.getPinned(),r=t.get("enableRtl");return s&&r!==(s==="right")&&(n=!n),(n?-1:1)*this.resizeMultiplier}onGuiKeyUp(){this.isResizing&&(this.resizeToggleTimeout&&(window.clearTimeout(this.resizeToggleTimeout),this.resizeToggleTimeout=0),this.isResizing=!1,this.resizeMultiplier=1,this.resizeToggleTimeout=window.setTimeout(()=>{var e;(e=this.resizeFeature)==null||e.toggleColumnResizing(!1)},150))}handleKeyDown(e){const t=this.getWrapperHasFocus();switch(e.key){case ge.PAGE_DOWN:case ge.PAGE_UP:case ge.PAGE_HOME:case ge.PAGE_END:t&&e.preventDefault()}}addDomData(e){const t=Xj,{eGui:i,gos:n}=this;ep(n,i,t,this),e.addDestroyFunc(()=>ep(n,i,t,null))}focus(e){const{eGui:t}=this;return t?(this.lastFocusEvent=e||null,t.focus(),!0):!1}focusThis(){this.beans.focusSvc.focusedHeader={headerRowIndex:this.rowCtrl.rowIndex,column:this.column}}removeDragSource(){var e;this.dragSource&&((e=this.beans.dragAndDrop)==null||e.removeDragSource(this.dragSource),this.dragSource=null)}handleContextMenuMouseEvent(e,t,i){const n=e??t,{menuSvc:s,gos:r}=this.beans;r.get("preventDefaultOnContextMenu")&&n.preventDefault(),s!=null&&s.isHeaderContextMenuEnabled(i)&&s.showHeaderContextMenu(i,e,t),this.dispatchColumnMouseEvent("columnHeaderContextMenu",i)}dispatchColumnMouseEvent(e,t){this.eventSvc.dispatchEvent({type:e,column:t})}setColHeaderHeight(e,t){if(!e.setAutoHeaderHeight(t))return;const{eventSvc:i}=this;e.isColumn?i.dispatchEvent({type:"columnHeaderHeightChanged",column:e,columns:[e],source:"autosizeColumnHeaderHeight"}):i.dispatchEvent({type:"columnGroupHeaderHeightChanged",columnGroup:e,source:"autosizeColumnGroupHeaderHeight"})}clearComponent(){this.removeDragSource(),this.resizeFeature=null,this.comp=null,this.eGui=null}destroy(){super.destroy(),this.column=null,this.lastFocusEvent=null,this.rowCtrl=null}},xle=class extends IL{constructor(){super(...arguments),this.refreshFunctions={},this.userHeaderClasses=new Set,this.ariaDescriptionProperties=new Map}setComp(e,t,i,n,s){this.comp=e;const{rowCtrl:r,column:o,beans:a}=this,{colResize:l,context:u,colHover:d,rangeSvc:p}=a,f=FC(this,u,s);this.setGui(t,f),this.updateState(),this.setupWidth(f),this.setupMovingCss(f),this.setupMenuClass(f),this.setupSortableClass(f),this.setupWrapTextClass(),this.refreshSpanHeaderHeight(),this.setupAutoHeight({wrapperElement:n,checkMeasuringCallback:y=>this.setRefreshFunction("measuring",y),compBean:f}),this.addColumnHoverListener(f),this.setupFilterClass(f),this.setupStylesFromColDef(),this.setupClassesFromColDef(),this.setupTooltip(),this.addActiveHeaderMouseListeners(f),this.setupSelectAll(f),this.setupUserComp(),this.refreshAria(),l?this.resizeFeature=f.createManagedBean(l.createResizeFeature(r.pinned,o,i,e,this)):hn(i,!1),d==null||d.createHoverFeature(f,[o],t),p==null||p.createRangeHighlightFeature(f,o,e),f.createManagedBean(new AL(o,t,a)),f.createManagedBean(new _g(t,{shouldStopEventPropagation:y=>this.shouldStopEventPropagation(y),onTabKeyDown:()=>null,handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addResizeAndMoveKeyboardListeners(f),f.addManagedPropertyListeners(["suppressMovableColumns","suppressMenuHide","suppressAggFuncInHeader","enableAdvancedFilter"],()=>this.refresh()),f.addManagedListeners(o,{colDefChanged:()=>this.refresh()}),f.addManagedListeners(o,{headerHighlightChanged:this.onHeaderHighlightChanged.bind(this)});const m=()=>this.checkDisplayName();f.addManagedEventListeners({columnValueChanged:m,columnRowGroupChanged:m,columnPivotChanged:m,headerHeightChanged:this.onHeaderHeightChanged.bind(this)}),f.addDestroyFunc(()=>{this.refreshFunctions={},this.selectAllFeature=null,this.dragSourceElement=void 0,this.userCompDetails=null,this.userHeaderClasses.clear(),this.ariaDescriptionProperties.clear(),this.clearComponent()})}resizeHeader(e,t){var i;(i=this.beans.colResize)==null||i.resizeHeader(this.column,e,t)}getHeaderClassParams(){const{column:e,beans:t}=this,i=e.colDef;return ut(t.gos,{colDef:i,column:e,floatingFilter:!1})}setupUserComp(){const e=this.lookupUserCompDetails();e&&this.setCompDetails(e)}setCompDetails(e){this.userCompDetails=e,this.comp.setUserCompDetails(e)}lookupUserCompDetails(){const e=this.createParams(),t=this.column.getColDef();return xoe(this.beans.userCompFactory,t,e)}createParams(){const{menuSvc:e,sortSvc:t,colFilter:i,gos:n}=this.beans;return ut(n,{column:this.column,displayName:this.displayName,enableSorting:this.column.isSortable(),enableMenu:this.menuEnabled,enableFilterButton:this.openFilterEnabled&&!!(e!=null&&e.isHeaderFilterButtonEnabled(this.column)),enableFilterIcon:!!i&&(!this.openFilterEnabled||Kr(this.gos)),showColumnMenu:(r,o)=>{e==null||e.showColumnMenu({column:this.column,buttonElement:r,positionBy:"button",onClosedCallback:o})},showColumnMenuAfterMouseClick:(r,o)=>{e==null||e.showColumnMenu({column:this.column,mouseEvent:r,positionBy:"mouse",onClosedCallback:o})},showFilter:r=>{e==null||e.showFilterMenu({column:this.column,buttonElement:r,containerType:"columnFilter",positionBy:"button"})},progressSort:r=>{t==null||t.progressSort(this.column,!!r,"uiColumnSorted")},setSort:(r,o)=>{t==null||t.setSortForColumn(this.column,r,!!o,"uiColumnSorted")},eGridHeader:this.eGui,setTooltip:(r,o)=>{n.assertModuleRegistered("Tooltip",3),this.setupTooltip(r,o)}})}setupSelectAll(e){const{selectionSvc:t}=this.beans;t&&(this.selectAllFeature=e.createManagedBean(t.createSelectAllFeature(this.column)),this.selectAllFeature.setComp(this))}getSelectAllGui(){var e;return(e=this.selectAllFeature)==null?void 0:e.getCheckboxGui()}handleKeyDown(e){var t;super.handleKeyDown(e),e.key===ge.SPACE&&((t=this.selectAllFeature)==null||t.onSpaceKeyDown(e)),e.key===ge.ENTER&&this.onEnterKeyDown(e),e.key===ge.DOWN&&e.altKey&&this.showMenuOnKeyPress(e,!1)}onEnterKeyDown(e){var t;e.ctrlKey||e.metaKey?this.showMenuOnKeyPress(e,!0):this.sortable&&((t=this.beans.sortSvc)==null||t.progressSort(this.column,e.shiftKey,"uiColumnSorted"))}showMenuOnKeyPress(e,t){const i=this.comp.getUserCompInstance();jB(i)&&i.onMenuKeyboardShortcut(t)&&e.preventDefault()}onFocusIn(e){this.eGui.contains(e.relatedTarget)||(this.focusThis(),this.announceAriaDescription()),oae()&&this.setActiveHeader(!0)}onFocusOut(e){this.eGui.contains(e.relatedTarget)||this.setActiveHeader(!1)}setupTooltip(e,t){var i;this.tooltipFeature=(i=this.beans.tooltipSvc)==null?void 0:i.setupHeaderTooltip(this.tooltipFeature,this,e,t)}setupStylesFromColDef(){this.setRefreshFunction("headerStyles",this.refreshHeaderStyles.bind(this)),this.refreshHeaderStyles()}setupClassesFromColDef(){const e=()=>{const t=this.column.getColDef(),i=Aj(t,this.gos,this.column,null),n=this.userHeaderClasses;this.userHeaderClasses=new Set(i),i.forEach(s=>{n.has(s)?n.delete(s):this.comp.addOrRemoveCssClass(s,!0)}),n.forEach(s=>this.comp.addOrRemoveCssClass(s,!1))};this.setRefreshFunction("headerClasses",e),e()}setDragSource(e){var t;this.dragSourceElement=e,this.removeDragSource(),!(!e||!this.draggable)&&(this.dragSource=((t=this.beans.colMoves)==null?void 0:t.setDragSourceForHeader(e,this.column,this.displayName))??null)}updateState(){const{menuSvc:e}=this.beans;this.menuEnabled=!!(e!=null&&e.isColumnMenuInHeaderEnabled(this.column)),this.openFilterEnabled=!!(e!=null&&e.isFilterMenuInHeaderEnabled(this.column)),this.sortable=this.column.isSortable(),this.displayName=this.calculateDisplayName(),this.draggable=this.workOutDraggable()}setRefreshFunction(e,t){this.refreshFunctions[e]=t}refresh(){this.updateState(),this.refreshHeaderComp(),this.refreshAria(),Object.values(this.refreshFunctions).forEach(e=>e())}refreshHeaderComp(){const e=this.lookupUserCompDetails();if(!e)return;(this.comp.getUserCompInstance()!=null&&this.userCompDetails.componentClass==e.componentClass?this.attemptHeaderCompRefresh(e.params):!1)?this.setDragSource(this.dragSourceElement):this.setCompDetails(e)}attemptHeaderCompRefresh(e){const t=this.comp.getUserCompInstance();return!t||!t.refresh?!1:t.refresh(e)}calculateDisplayName(){return this.beans.colNames.getDisplayNameForColumn(this.column,"header",!0)}checkDisplayName(){this.displayName!==this.calculateDisplayName()&&this.refresh()}workOutDraggable(){const e=this.column.getColDef();return!!(!this.gos.get("suppressMovableColumns")&&!e.suppressMovable&&!e.lockPosition)||!!e.enableRowGroup||!!e.enablePivot}setupWidth(e){const t=()=>{const i=this.column.getActualWidth();this.comp.setWidth(`${i}px`)};e.addManagedListeners(this.column,{widthChanged:t}),t()}setupMovingCss(e){const t=()=>{this.comp.addOrRemoveCssClass("ag-header-cell-moving",this.column.isMoving())};e.addManagedListeners(this.column,{movingChanged:t}),t()}setupMenuClass(e){const t=()=>{var i;(i=this.comp)==null||i.addOrRemoveCssClass("ag-column-menu-visible",this.column.isMenuVisible())};e.addManagedListeners(this.column,{menuVisibleChanged:t}),t()}setupSortableClass(e){const t=()=>{this.comp.addOrRemoveCssClass("ag-header-cell-sortable",!!this.sortable)};t(),this.setRefreshFunction("updateSortable",t),e.addManagedEventListeners({sortChanged:this.refreshAriaSort.bind(this)})}setupFilterClass(e){const t=()=>{const i=this.column.isFilterActive();this.comp.addOrRemoveCssClass("ag-header-cell-filtered",i),this.refreshAria()};e.addManagedListeners(this.column,{filterActiveChanged:t}),t()}setupWrapTextClass(){const e=()=>{const t=!!this.column.getColDef().wrapHeaderText;this.comp.addOrRemoveCssClass("ag-header-cell-wrap-text",t)};e(),this.setRefreshFunction("wrapText",e)}onHeaderHighlightChanged(){const e=this.column.getHighlighted(),t=e===0,i=e===1;this.comp.addOrRemoveCssClass("ag-header-highlight-before",t),this.comp.addOrRemoveCssClass("ag-header-highlight-after",i)}onDisplayedColumnsChanged(){super.onDisplayedColumnsChanged(),this.isAlive()&&this.onHeaderHeightChanged()}onHeaderHeightChanged(){this.refreshSpanHeaderHeight()}refreshSpanHeaderHeight(){const{eGui:e,column:t,comp:i,beans:n}=this,s=EL(this.beans),r=s.reduce((d,p)=>d+=p,0)===0;if(i.addOrRemoveCssClass("ag-header-parent-hidden",r),!t.isSpanHeaderHeight()){e.style.removeProperty("top"),e.style.removeProperty("height"),i.addOrRemoveCssClass("ag-header-span-height",!1),i.addOrRemoveCssClass("ag-header-span-total",!1);return}const{numberOfParents:o,isSpanningTotal:a}=this.column.getColumnGroupPaddingInfo();i.addOrRemoveCssClass("ag-header-span-height",o>0);const l=TL(n);if(o===0){i.addOrRemoveCssClass("ag-header-span-total",!1),e.style.setProperty("top","0px"),e.style.setProperty("height",`${l}px`);return}i.addOrRemoveCssClass("ag-header-span-total",a);let u=0;for(let d=0;d<o;d++)u+=s[s.length-1-d];e.style.setProperty("top",`${-u}px`),e.style.setProperty("height",`${l+u}px`)}refreshAriaSort(){var e;if(this.sortable){const t=this.getLocaleTextFunc(),i=((e=this.beans.sortSvc)==null?void 0:e.getDisplaySortForColumn(this.column))||null;this.comp.setAriaSort(Ise(i)),this.setAriaDescriptionProperty("sort",t("ariaSortableColumn","Press ENTER to sort"))}else this.comp.setAriaSort(),this.setAriaDescriptionProperty("sort",null)}refreshAriaMenu(){if(this.menuEnabled){const e=this.getLocaleTextFunc();this.setAriaDescriptionProperty("menu",e("ariaMenuColumn","Press ALT DOWN to open column menu"))}else this.setAriaDescriptionProperty("menu",null)}refreshAriaFilterButton(){if(this.openFilterEnabled&&!Kr(this.gos)){const e=this.getLocaleTextFunc();this.setAriaDescriptionProperty("filterButton",e("ariaFilterColumn","Press CTRL ENTER to open filter"))}else this.setAriaDescriptionProperty("filterButton",null)}refreshAriaFiltered(){const e=this.getLocaleTextFunc();this.column.isFilterActive()?this.setAriaDescriptionProperty("filter",e("ariaColumnFiltered","Column Filtered")):this.setAriaDescriptionProperty("filter",null)}setAriaDescriptionProperty(e,t){t!=null?this.ariaDescriptionProperties.set(e,t):this.ariaDescriptionProperties.delete(e)}announceAriaDescription(){var t;if(!this.eGui.contains(yn(this.beans)))return;const e=Array.from(this.ariaDescriptionProperties.keys()).sort((i,n)=>i==="filter"?-1:n.charCodeAt(0)-i.charCodeAt(0)).map(i=>this.ariaDescriptionProperties.get(i)).join(". ");(t=this.beans.ariaAnnounce)==null||t.announceValue(e,"columnHeader")}refreshAria(){this.refreshAriaSort(),this.refreshAriaMenu(),this.refreshAriaFilterButton(),this.refreshAriaFiltered()}addColumnHoverListener(e){var t;(t=this.beans.colHover)==null||t.addHeaderColumnHoverListener(e,this.comp,this.column)}addActiveHeaderMouseListeners(e){const t=s=>this.handleMouseOverChange(s.type==="mouseenter"),i=()=>{this.setActiveHeader(!0),this.dispatchColumnMouseEvent("columnHeaderClicked",this.column)},n=s=>this.handleContextMenuMouseEvent(s,void 0,this.column);e.addManagedListeners(this.eGui,{mouseenter:t,mouseleave:t,click:i,contextmenu:n})}handleMouseOverChange(e){this.setActiveHeader(e),this.eventSvc.dispatchEvent({type:e?"columnHeaderMouseOver":"columnHeaderMouseLeave",column:this.column})}setActiveHeader(e){this.comp.addOrRemoveCssClass("ag-header-active",e)}getAnchorElementForMenu(e){const t=this.comp.getUserCompInstance();return jB(t)?t.getAnchorElementForMenu(e):this.eGui}destroy(){this.tooltipFeature=this.destroyBean(this.tooltipFeature),super.destroy()}};function jB(e){return typeof e.getAnchorElementForMenu=="function"&&typeof e.onMenuKeyboardShortcut=="function"}var Mle=0,t1=class extends ye{constructor(e,t,i){super(),this.rowIndex=e,this.pinned=t,this.type=i,this.instanceId=Mle++;const n=i=="group"?"ag-header-row-column-group":i=="filter"?"ag-header-row-column-filter":"ag-header-row-column";this.headerRowClass=`ag-header-row ${n}`}postConstruct(){this.isPrintLayout=Gs(this.gos,"print"),this.isEnsureDomOrder=this.gos.get("ensureDomOrder")}areCellsRendered(){return this.comp?this.getHeaderCellCtrls().every(e=>e.eGui!=null):!1}setComp(e,t,i=!0){this.comp=e,t=FC(this,this.beans.context,t),i&&(this.onRowHeightChanged(),this.onVirtualColumnsChanged()),this.setWidth(),this.addEventListeners(t)}getAriaRowIndex(){return this.rowIndex+1}addEventListeners(e){const t=this.onRowHeightChanged.bind(this),i=this.onDisplayedColumnsChanged.bind(this);e.addManagedEventListeners({columnResized:this.setWidth.bind(this),displayedColumnsChanged:i,virtualColumnsChanged:n=>this.onVirtualColumnsChanged(n.afterScroll),columnGroupHeaderHeightChanged:t,columnHeaderHeightChanged:t,gridStylesChanged:t,advancedFilterEnabledChanged:t}),e.addManagedPropertyListener("domLayout",i),e.addManagedPropertyListener("ensureDomOrder",n=>this.isEnsureDomOrder=n.currentValue),e.addManagedPropertyListeners(["headerHeight","pivotHeaderHeight","groupHeaderHeight","pivotGroupHeaderHeight","floatingFiltersHeight"],t)}getHeaderCellCtrl(e){if(this.headerCellCtrls){for(const t of this.headerCellCtrls.values())if(t.column===e)return t}}onDisplayedColumnsChanged(){this.isPrintLayout=Gs(this.gos,"print"),this.onVirtualColumnsChanged(),this.setWidth(),this.onRowHeightChanged()}setWidth(){const e=this.getWidthForRow();this.comp.setWidth(`${e}px`)}getWidthForRow(){const{visibleCols:e}=this.beans;return this.isPrintLayout?this.pinned!=null?0:e.getContainerWidth("right")+e.getContainerWidth("left")+e.getContainerWidth(null):e.getContainerWidth(this.pinned)}onRowHeightChanged(){const{topOffset:e,rowHeight:t}=this.getTopAndHeight();this.comp.setTop(e+"px"),this.comp.setHeight(t+"px")}getTopAndHeight(){const{filterManager:e}=this.beans,t=[],i=EL(this.beans),n=TL(this.beans);t.push(...i),t.push(n),e!=null&&e.hasFloatingFilters()&&t.push(qj(this.beans));let s=0;for(let o=0;o<this.rowIndex;o++)s+=t[o];const r=t[this.rowIndex];return{topOffset:s,rowHeight:r}}onVirtualColumnsChanged(e=!1){const t=this.getHeaderCtrls(),i=this.isEnsureDomOrder||this.isPrintLayout;this.comp.setHeaderCtrls(t,i,e)}getHeaderCtrls(){const e=this.headerCellCtrls;this.headerCellCtrls=new Map;const t=this.getColumnsInViewport();for(const n of t)this.recycleAndCreateHeaderCtrls(n,e);const i=n=>{const{focusSvc:s,visibleCols:r}=this.beans;return s.isHeaderWrapperFocused(n)?r.isVisible(n.column):!1};if(e)for(const[n,s]of e)i(s)?this.headerCellCtrls.set(n,s):this.destroyBean(s);return this.getHeaderCellCtrls()}getHeaderCellCtrls(){var e;return Array.from(((e=this.headerCellCtrls)==null?void 0:e.values())??[])}recycleAndCreateHeaderCtrls(e,t){if(!this.headerCellCtrls||e.isEmptyGroup())return;const i=e.getUniqueId();let n;if(t&&(n=t.get(i),t.delete(i)),n&&n.column!=e&&(this.destroyBean(n),n=void 0),n==null)switch(this.type){case"filter":{n=this.createBean(this.beans.registry.createDynamicBean("headerFilterCellCtrl",!0,e,this));break}case"group":n=this.createBean(this.beans.registry.createDynamicBean("headerGroupCellCtrl",!0,e,this));break;default:n=this.createBean(new xle(e,this));break}this.headerCellCtrls.set(i,n)}getColumnsInViewport(){return this.isPrintLayout?this.getColumnsInViewportPrintLayout():this.getColumnsInViewportNormalLayout()}getColumnsInViewportPrintLayout(){if(this.pinned!=null)return[];let e=[];const t=this.getActualDepth(),{colViewport:i}=this.beans;return["left",null,"right"].forEach(n=>{const s=i.getHeadersToRender(n,t);e=e.concat(s)}),e}getActualDepth(){return this.type=="filter"?this.rowIndex-1:this.rowIndex}getColumnsInViewportNormalLayout(){return this.beans.colViewport.getHeadersToRender(this.pinned,this.getActualDepth())}findHeaderCellCtrl(e){if(!this.headerCellCtrls)return;const t=this.getHeaderCellCtrls();let i;return typeof e=="function"?i=t.find(e):i=t.find(n=>n.column==e),i}focusHeader(e,t){const i=this.findHeaderCellCtrl(e);return i?i.focus(t):!1}destroy(){var e;(e=this.headerCellCtrls)==null||e.forEach(t=>{this.destroyBean(t)}),this.headerCellCtrls=void 0,super.destroy()}},Dle=class extends ye{constructor(e){super(),this.pinned=e,this.hidden=!1,this.includeFloatingFilter=!1,this.groupsRowCtrls=[]}setComp(e,t){this.comp=e,this.eViewport=t;const{pinnedCols:i,ctrlsSvc:n,colModel:s,colMoves:r,filterManager:o}=this.beans;this.setupCenterWidth(),i==null||i.setupHeaderPinnedWidth(this),this.setupDragAndDrop(r,this.eViewport);const a=this.onDisplayedColumnsChanged.bind(this,o);this.addManagedEventListeners({gridColumnsChanged:this.onGridColumnsChanged.bind(this),displayedColumnsChanged:a,advancedFilterEnabledChanged:a});const l=`${typeof this.pinned=="string"?this.pinned:"center"}Header`;n.register(l,this),s.ready&&this.refresh()}getAllCtrls(){const e=[...this.groupsRowCtrls];return this.columnsRowCtrl&&e.push(this.columnsRowCtrl),this.filtersRowCtrl&&e.push(this.filtersRowCtrl),e}refresh(e=!1){const{focusSvc:t,colModel:i,filterManager:n}=this.beans;let s=0;const r=t.getFocusHeaderToUseAfterRefresh(),o=()=>{const d=yle(i)-1;this.groupsRowCtrls=this.destroyBeans(this.groupsRowCtrls);for(let p=0;p<d;p++){const f=this.createBean(new t1(s++,this.pinned,"group"));this.groupsRowCtrls.push(f)}},a=()=>{const d=s++,p=!this.hidden&&(this.columnsRowCtrl==null||!e||this.columnsRowCtrl.rowIndex!==d);(p||this.hidden)&&(this.columnsRowCtrl=this.destroyBean(this.columnsRowCtrl)),p&&(this.columnsRowCtrl=this.createBean(new t1(d,this.pinned,"column")))},l=()=>{this.includeFloatingFilter=!!(n!=null&&n.hasFloatingFilters())&&!this.hidden;const d=()=>{this.filtersRowCtrl=this.destroyBean(this.filtersRowCtrl)};if(!this.includeFloatingFilter){d();return}const p=s++;if(this.filtersRowCtrl){const f=this.filtersRowCtrl.rowIndex!==p;(!e||f)&&d()}this.filtersRowCtrl||(this.filtersRowCtrl=this.createBean(new t1(p,this.pinned,"filter")))};o(),a(),l();const u=this.getAllCtrls();this.comp.setCtrls(u),this.restoreFocusOnHeader(t,r)}getHeaderCtrlForColumn(e){var t;if(sd(e))return(t=this.columnsRowCtrl)==null?void 0:t.getHeaderCellCtrl(e);if(this.groupsRowCtrls.length!==0)for(let i=0;i<this.groupsRowCtrls.length;i++){const n=this.groupsRowCtrls[i].getHeaderCellCtrl(e);if(n)return n}}getHtmlElementForColumnHeader(e){var t;return((t=this.getHeaderCtrlForColumn(e))==null?void 0:t.eGui)??null}getRowType(e){var t;return(t=this.getAllCtrls()[e])==null?void 0:t.type}focusHeader(e,t,i){const s=this.getAllCtrls()[e];return s?s.focusHeader(t,i):!1}getGroupRowCount(){return this.groupsRowCtrls.length}getGroupRowCtrlAtIndex(e){return this.groupsRowCtrls[e]}getRowCount(){return this.groupsRowCtrls.length+(this.columnsRowCtrl?1:0)+(this.filtersRowCtrl?1:0)}setHorizontalScroll(e){this.comp.setViewportScrollLeft(e)}onScrollCallback(e){this.addManagedElementListeners(this.eViewport,{scroll:e})}destroy(){this.filtersRowCtrl=this.destroyBean(this.filtersRowCtrl),this.columnsRowCtrl=this.destroyBean(this.columnsRowCtrl),this.groupsRowCtrls=this.destroyBeans(this.groupsRowCtrls),super.destroy()}setupDragAndDrop(e,t){const i=e==null?void 0:e.createBodyDropTarget(this.pinned,t);i&&this.createManagedBean(i)}restoreFocusOnHeader(e,t){if(!t)return;const{column:i}=t;i.getPinned()==this.pinned&&e.focusHeaderPosition({headerPosition:t})}onGridColumnsChanged(){this.refresh(!0)}onDisplayedColumnsChanged(e){const t=!!(e!=null&&e.hasFloatingFilters())&&!this.hidden;this.includeFloatingFilter!==t&&this.refresh(!0)}setupCenterWidth(){this.pinned==null&&this.createManagedBean(new DL(e=>this.comp.setCenterWidth(`${e}px`),!0))}},Rle=class extends ye{constructor(){super(...arguments),this.beanName="menuSvc"}postConstruct(){const{enterpriseMenuFactory:e,filterMenuFactory:t}=this.beans;this.activeMenuFactory=e??t}showColumnMenu(e){this.showColumnMenuCommon(this.activeMenuFactory,e,"columnMenu")}showFilterMenu(e){const{enterpriseMenuFactory:t,filterMenuFactory:i}=this.beans,n=t&&Kr(this.gos)?t:i;this.showColumnMenuCommon(n,e,e.containerType,!0)}showHeaderContextMenu(e,t,i){var n;(n=this.activeMenuFactory)==null||n.showMenuAfterContextMenuEvent(e,t,i)}hidePopupMenu(){var e,t;(e=this.beans.contextMenuSvc)==null||e.hideActiveMenu(),(t=this.activeMenuFactory)==null||t.hideActiveMenu()}isColumnMenuInHeaderEnabled(e){var i;const{suppressHeaderMenuButton:t}=e.getColDef();return!t&&!!((i=this.activeMenuFactory)!=null&&i.isMenuEnabled(e))&&(Kr(this.gos)||!!this.beans.enterpriseMenuFactory)}isFilterMenuInHeaderEnabled(e){var t;return!e.getColDef().suppressHeaderFilterButton&&!!((t=this.beans.filterManager)!=null&&t.isFilterAllowed(e))}isHeaderContextMenuEnabled(e){const t=e&&sd(e)?e.getColDef():e==null?void 0:e.getColGroupDef();return!(t!=null&&t.suppressHeaderContextMenu)&&this.gos.get("columnMenu")==="new"}isHeaderMenuButtonAlwaysShowEnabled(){return this.isSuppressMenuHide()}isHeaderMenuButtonEnabled(){const e=!this.isSuppressMenuHide();return!(Ph()&&e)}isHeaderFilterButtonEnabled(e){return this.isFilterMenuInHeaderEnabled(e)&&!Kr(this.gos)&&!this.isFloatingFilterButtonDisplayed(e)}isFilterMenuItemEnabled(e){var t;return!!((t=this.beans.filterManager)!=null&&t.isFilterAllowed(e))&&!Kr(this.gos)&&!this.isFilterMenuInHeaderEnabled(e)&&!this.isFloatingFilterButtonDisplayed(e)}isFloatingFilterButtonEnabled(e){return!e.getColDef().suppressFloatingFilterButton}isFloatingFilterButtonDisplayed(e){return!!e.getColDef().floatingFilter&&this.isFloatingFilterButtonEnabled(e)}isSuppressMenuHide(){const e=this.gos,t=e.get("suppressMenuHide");return Kr(e)?e.exists("suppressMenuHide")?t:!1:t}showColumnMenuCommon(e,t,i,n){const{positionBy:s,onClosedCallback:r}=t,o=t.column;if(s==="button"){const{buttonElement:a}=t;e==null||e.showMenuAfterButtonClick(o,a,i,r,n)}else if(s==="mouse"){const{mouseEvent:a}=t;e==null||e.showMenuAfterMouseEvent(o,a,i,r,n)}else if(o){const a=this.beans,l=a.ctrlsSvc;l.getScrollFeature().ensureColumnVisible(o,"auto"),Gc(a,()=>{var d;const u=(d=l.getHeaderRowContainerCtrl(o.getPinned()))==null?void 0:d.getHeaderCtrlForColumn(o);u&&(e==null||e.showMenuAfterButtonClick(o,u.getAnchorElementForMenu(n),i,r,!0))})}}};function VB(e,t,i){e.menuVisible!==t&&(e.menuVisible=t,e.dispatchColEvent("menuVisibleChanged",i))}var Qj=class extends Xi{constructor(){super()}},Ele=class extends Qj{init(){var t;const e=wc((t=this.gos.get("overlayLoadingTemplate"))==null?void 0:t.trim());if(this.setTemplate(e??'<span aria-live="polite" aria-atomic="true" class="ag-overlay-loading-center"></span>'),!e){const i=this.getLocaleTextFunc();setTimeout(()=>{this.getGui().textContent=i("loadingOoo","Loading...")})}}},Tle=class extends Qj{init(){var t;const e=wc((t=this.gos.get("overlayNoRowsTemplate"))==null?void 0:t.trim());if(this.setTemplate(e??'<span class="ag-overlay-no-rows-center"></span>'),!e){const i=this.getLocaleTextFunc();setTimeout(()=>{this.getGui().textContent=i("noRowsToShow","No Rows To Show")})}}};function Ale(e,t,i){const n=_o(e,t,i);if(n){const{className:r}=n;if(typeof r=="string"&&r.indexOf("ag-icon")>-1||typeof r=="object"&&r["ag-icon"])return n}const s=document.createElement("span");return s.appendChild(n),s}function _o(e,t,i){var r;let n=null;e==="smallDown"?Ae(262):e==="smallLeft"?Ae(263):e==="smallRight"&&Ae(264);const s=i&&i.getColDef().icons;if(s&&(n=s[e]),t.gos&&!n){const o=t.gos.get("icons");o&&(n=o[e])}if(n){let o;if(typeof n=="function")o=n();else if(typeof n=="string")o=n;else{Ae(38,{iconName:e});return}if(typeof o=="string")return Pv(o);if(gL(o))return o;Ae(133,{iconName:e});return}else{const o=document.createElement("span"),a=t.registry.getIcon(e);a||(r=t.validation)==null||r.validateIcon(e);const l=a??e;return o.setAttribute("class",`ag-icon ag-icon-${l}`),o.setAttribute("unselectable","on"),La(o,"presentation"),o}}var Ile=".ag-dnd-ghost{align-items:center;background-color:var(--ag-drag-and-drop-image-background-color);border:var(--ag-drag-and-drop-image-border);border-radius:var(--ag-border-radius);box-shadow:var(--ag-drag-and-drop-image-shadow);color:var(--ag-text-color);cursor:move;display:flex;font-weight:500;gap:var(--ag-cell-widget-spacing);height:var(--ag-header-height);overflow:hidden;padding-left:var(--ag-cell-horizontal-padding);padding-right:var(--ag-cell-horizontal-padding);text-overflow:ellipsis;transform:translateY(calc(var(--ag-spacing)*2));white-space:nowrap}",Lle=class extends Xi{constructor(){super(),this.dragSource=null,this.eIcon=nt,this.eLabel=nt,this.registerCSS(Ile)}postConstruct(){const e=t=>Ale(t,this.beans,null);this.dropIconMap={pinned:e("columnMovePin"),hide:e("columnMoveHide"),move:e("columnMoveMove"),left:e("columnMoveLeft"),right:e("columnMoveRight"),group:e("columnMoveGroup"),aggregate:e("columnMoveValue"),pivot:e("columnMovePivot"),notAllowed:e("dropNotAllowed")}}init(e){this.dragSource=e.dragSource,this.setTemplate(`<div class="ag-dnd-ghost ag-unselectable">
                <span data-ref="eIcon" class="ag-dnd-ghost-icon ag-shake-left-to-right"></span>
                <div data-ref="eLabel" class="ag-dnd-ghost-label"></div>
            </div>`)}destroy(){this.dragSource=null,super.destroy()}setIcon(e,t){const{eIcon:i,dragSource:n,dropIconMap:s,gos:r}=this;no(i);let o=null;e||(e=n!=null&&n.getDefaultIconName?n.getDefaultIconName():"notAllowed"),o=s[e],i.classList.toggle("ag-shake-left-to-right",t),!(o===s.hide&&r.get("suppressDragLeaveHidesColumns"))&&o&&i.appendChild(o)}setLabel(e){this.eLabel.textContent=e}},kle=".ag-label{white-space:nowrap}:where(.ag-ltr) .ag-label{margin-right:var(--ag-spacing)}:where(.ag-rtl) .ag-label{margin-left:var(--ag-spacing)}:where(.ag-label-align-right) .ag-label{order:1}:where(.ag-ltr) :where(.ag-label-align-right) .ag-label{margin-left:var(--ag-spacing)}:where(.ag-rtl) :where(.ag-label-align-right) .ag-label{margin-right:var(--ag-spacing)}.ag-label-align-right>*{flex:none}.ag-label-align-top{align-items:flex-start;flex-direction:column;>*{align-self:stretch}}.ag-label-ellipsis{flex:1;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}:where(.ag-label-align-top) .ag-label{margin-bottom:calc(var(--ag-spacing)*.5)}",Ple=class extends Xi{constructor(e,t,i){super(t,i),this.labelSeparator="",this.labelAlignment="left",this.disabled=!1,this.label="",this.config=e||{},this.registerCSS(kle)}postConstruct(){this.addCssClass("ag-labeled"),this.eLabel.classList.add("ag-label");const{labelSeparator:e,label:t,labelWidth:i,labelAlignment:n,disabled:s}=this.config;s!=null&&this.setDisabled(s),e!=null&&this.setLabelSeparator(e),t!=null&&this.setLabel(t),i!=null&&this.setLabelWidth(i),this.setLabelAlignment(n||this.labelAlignment),this.refreshLabel()}refreshLabel(){const{label:e,eLabel:t}=this;no(t),typeof e=="string"?t.innerText=e+this.labelSeparator:e&&t.appendChild(e),e===""?(hn(t,!1),La(t,"presentation")):(hn(t,!0),La(t,null))}setLabelSeparator(e){return this.labelSeparator===e?this:(this.labelSeparator=e,this.label!=null&&this.refreshLabel(),this)}getLabelId(){const e=this.eLabel;return e.id=e.id||`ag-${this.getCompId()}-label`,e.id}getLabel(){return this.label}setLabel(e){return this.label===e?this:(this.label=e,this.refreshLabel(),this)}setLabelAlignment(e){const i=this.getGui().classList;return i.toggle("ag-label-align-left",e==="left"),i.toggle("ag-label-align-right",e==="right"),i.toggle("ag-label-align-top",e==="top"),this}setLabelEllipsis(e){return this.eLabel.classList.toggle("ag-label-ellipsis",e),this}setLabelWidth(e){return this.label==null?this:(mS(this.eLabel,e),this)}setDisabled(e){e=!!e;const t=this.getGui();return Lv(t,e),t.classList.toggle("ag-disabled",e),this.disabled=e,this}isDisabled(){return!!this.disabled}},Jj=class extends Ple{constructor(e,t,i,n){super(e,t,i),this.className=n}postConstruct(){super.postConstruct();const{width:e,value:t,onValueChange:i}=this.config;e!=null&&this.setWidth(e),t!=null&&this.setValue(t),i!=null&&this.onValueChange(i),this.className&&this.addCssClass(this.className),this.refreshAriaLabelledBy()}setLabel(e){return super.setLabel(e),this.refreshAriaLabelledBy(),this}refreshAriaLabelledBy(){const e=this.getAriaElement(),t=this.getLabelId(),i=this.getLabel();i==null||i==""||Lse(e)!==null?FT(e,""):FT(e,t??"")}setAriaLabel(e){return Kx(this.getAriaElement(),e),this.refreshAriaLabelledBy(),this}onValueChange(e){return this.addManagedListeners(this,{fieldValueChanged:()=>e(this.getValue())}),this}getWidth(){return this.getGui().clientWidth}setWidth(e){return bl(this.getGui(),e),this}getPreviousValue(){return this.previousValue}getValue(){return this.value}setValue(e,t){return this.value===e?this:(this.previousValue=this.value,this.value=e,t||this.dispatchLocalEvent({type:"fieldValueChanged"}),this)}},Ch=class extends Jj{constructor(e,t,i="text",n="input"){super(e,(e==null?void 0:e.template)??`
            <div role="presentation">
                <div data-ref="eLabel" class="ag-input-field-label"></div>
                <div data-ref="eWrapper" class="ag-wrapper ag-input-wrapper" role="presentation">
                    <${n} data-ref="eInput" class="ag-input-field-input"></${n}>
                </div>
            </div>`,[],t),this.inputType=i,this.displayFieldTag=n,this.eLabel=nt,this.eWrapper=nt,this.eInput=nt}postConstruct(){super.postConstruct(),this.setInputType();const{eLabel:e,eWrapper:t,eInput:i,className:n}=this;e.classList.add(`${n}-label`),t.classList.add(`${n}-input-wrapper`),i.classList.add(`${n}-input`),this.addCssClass("ag-input-field"),i.id=i.id||`ag-${this.getCompId()}-input`;const{inputName:s,inputWidth:r}=this.config;s!=null&&this.setInputName(s),r!=null&&this.setInputWidth(r),this.addInputListeners(),this.activateTabIndex([i])}addInputListeners(){this.addManagedElementListeners(this.eInput,{input:e=>this.setValue(e.target.value)})}setInputType(){this.displayFieldTag==="input"&&this.eInput.setAttribute("type",this.inputType)}getInputElement(){return this.eInput}setInputWidth(e){return mS(this.eWrapper,e),this}setInputName(e){return this.getInputElement().setAttribute("name",e),this}getFocusableElement(){return this.eInput}setMaxLength(e){const t=this.eInput;return t.maxLength=e,this}setInputPlaceholder(e){return Yo(this.eInput,"placeholder",e),this}setInputAriaLabel(e){return Kx(this.eInput,e),this.refreshAriaLabelledBy(),this}setDisabled(e){return Lv(this.eInput,e),super.setDisabled(e)}setAutoComplete(e){if(e===!0)Yo(this.eInput,"autocomplete",null);else{const t=typeof e=="string"?e:"off";Yo(this.eInput,"autocomplete",t)}return this}},LL=class extends Ch{constructor(e,t="ag-checkbox",i="checkbox"){super(e,t,i),this.labelAlignment="right",this.selected=!1,this.readOnly=!1,this.passive=!1}postConstruct(){super.postConstruct();const{readOnly:e,passive:t}=this.config;typeof e=="boolean"&&this.setReadOnly(e),typeof t=="boolean"&&this.setPassive(t)}addInputListeners(){this.addManagedElementListeners(this.eInput,{click:this.onCheckboxClick.bind(this)}),this.addManagedElementListeners(this.eLabel,{click:this.toggle.bind(this)})}getNextValue(){return this.selected===void 0?!0:!this.selected}setPassive(e){this.passive=e}isReadOnly(){return this.readOnly}setReadOnly(e){this.eWrapper.classList.toggle("ag-disabled",e),this.eInput.disabled=e,this.readOnly=e}setDisabled(e){return this.eWrapper.classList.toggle("ag-disabled",e),super.setDisabled(e)}toggle(){if(this.eInput.disabled)return;const e=this.isSelected(),t=this.getNextValue();this.passive?this.dispatchChange(t,e):this.setValue(t)}getValue(){return this.isSelected()}setValue(e,t){return this.refreshSelectedClass(e),this.setSelected(e,t),this}setName(e){const t=this.getInputElement();return t.name=e,this}isSelected(){return this.selected}setSelected(e,t){if(this.isSelected()===e)return;this.previousValue=this.isSelected(),e=this.selected=typeof e=="boolean"?e:void 0;const i=this.eInput;i.checked=e,i.indeterminate=e===void 0,t||this.dispatchChange(this.selected,this.previousValue)}dispatchChange(e,t,i){this.dispatchLocalEvent({type:"fieldValueChanged",selected:e,previousValue:t,event:i});const n=this.getInputElement();this.eventSvc.dispatchEvent({type:"checkboxChanged",id:n.id,name:n.name,selected:e,previousValue:t})}onCheckboxClick(e){if(this.passive||this.eInput.disabled)return;const t=this.isSelected(),i=this.selected=e.target.checked;this.refreshSelectedClass(i),this.dispatchChange(i,t,e)}refreshSelectedClass(e){const t=this.eWrapper.classList;t.toggle("ag-checked",e===!0),t.toggle("ag-indeterminate",e==null)}},kL={selector:"AG-CHECKBOX",component:LL},Fle=".ag-checkbox-cell{height:100%}",Ole=class extends Xi{constructor(){super(`
            <div class="ag-cell-wrapper ag-checkbox-cell" role="presentation">
                <ag-checkbox role="presentation" data-ref="eCheckbox"></ag-checkbox>
            </div>`,[kL]),this.eCheckbox=nt,this.registerCSS(Fle)}init(e){this.refresh(e);const{eCheckbox:t,beans:i}=this,n=t.getInputElement();n.setAttribute("tabindex","-1"),F_(n,"polite"),this.addManagedListeners(n,{click:s=>{if(Sg(s),t.isDisabled())return;const r=t.getValue();this.onCheckboxChanged(r)},dblclick:s=>{Sg(s)}}),this.addManagedElementListeners(e.eGridCell,{keydown:s=>{if(s.key===ge.SPACE&&!t.isDisabled()){e.eGridCell===yn(i)&&t.toggle();const r=t.getValue();this.onCheckboxChanged(r),s.preventDefault()}}})}refresh(e){return this.params=e,this.updateCheckbox(e),!0}updateCheckbox(e){let t,i=!0;const{value:n,column:s,node:r}=e;if(r.group&&s)if(typeof n=="boolean")t=n;else{const p=s.getColId();p.startsWith(qx)?t=n==null||n===""?void 0:n==="true":r.aggData&&r.aggData[p]!==void 0?t=n??void 0:i=!1}else t=n??void 0;const{eCheckbox:o}=this;if(!i){o.setDisplayed(!1);return}o.setValue(t);const a=e.disabled??!(s!=null&&s.isCellEditable(r));o.setDisabled(a);const l=this.getLocaleTextFunc(),u=dL(l,t),d=a?u:`${l("ariaToggleCellValue","Press SPACE to toggle cell value")} (${u})`;o.setInputAriaLabel(d)}onCheckboxChanged(e){const{eventSvc:t,params:i}=this,{column:n,node:s,value:r}=i,o={column:n,colDef:n.getColDef(),data:s.data,node:s,rowIndex:s.rowIndex,rowPinned:s.rowPinned,value:r};t.dispatchEvent({type:"cellEditingStarted",...o});const a=s.setDataValue(n,e,"edit");t.dispatchEvent({type:"cellEditingStopped",...o,oldValue:r,newValue:e,valueChanged:a}),a||this.updateCheckbox(i)}},Nle="ROOT_NODE_ID",Ble=class extends ye{constructor(){super(...arguments),this.nextId=0,this.allNodesMap={},this.rootNode=null}get treeData(){return!1}getRowNode(e){return this.allNodesMap[e]}extractRowData(){var e,t;return(t=(e=this.rootNode)==null?void 0:e.allLeafChildren)==null?void 0:t.map(i=>i.data)}activate(e){this.rootNode=e,e.group=!0,e.level=-1,e.id=Nle,e.allLeafChildren=[],e.childrenAfterGroup=[],e.childrenAfterSort=[],e.childrenAfterAggFilter=[],e.childrenAfterFilter=[],this.updateRootSiblingArrays(e)}deactivate(){this.rootNode&&(this.allNodesMap={},this.rootNode=null)}destroy(){super.destroy(),this.allNodesMap={},this.rootNode=null}setNewRowData(e){const t=this.rootNode;t&&(this.dispatchRowDataUpdateStartedEvent(e),t.childrenAfterFilter=null,t.childrenAfterGroup=null,t.childrenAfterAggFilter=null,t.childrenAfterSort=null,t.childrenMapped=null,t.updateHasChildren(),this.allNodesMap={},this.nextId=0,this.loadNewRowData(e),this.updateRootSiblingArrays(t))}updateRootSiblingArrays(e){const t=e.sibling;t&&(t.childrenAfterFilter=e.childrenAfterFilter,t.childrenAfterGroup=e.childrenAfterGroup,t.childrenAfterAggFilter=e.childrenAfterAggFilter,t.childrenAfterSort=e.childrenAfterSort,t.childrenMapped=e.childrenMapped,t.allLeafChildren=e.allLeafChildren)}loadNewRowData(e){this.rootNode.allLeafChildren=(e==null?void 0:e.map((t,i)=>this.createRowNode(t,i)))??[]}setImmutableRowData(e,t){const i=wg(this.gos),n=!this.gos.get("suppressMaintainUnsortedOrder"),s=e.changedRowNodes,r=new Set,o=this.rootNode,a=o.allLeafChildren,l=a.length;let u=!1,d=!1,p=!1,f=!1;for(let y=0,C=-1,w=t.length;y<w;y++){const b=t[y];let S=this.getRowNode(i({data:b,level:0}));if(!S)u=!0,S=this.createRowNode(b,-1),s.add(S);else{if(n){const M=S.sourceRowIndex;f||(f=M<=C||u),C=M}S.data!==b&&(p=!0,S.updateData(b),s.update(S))}r.add(S)}const m=[];for(let y=0;y<l;y++){const C=a[y];r.has(C)||(d=!0,C.isSelected()&&m.push(C),this.rowNodeDeleted(C),s.remove(C))}if(u||d||f){const y=new Array(r.size);let C=0;if(!n)for(let b=0;b<l;++b){const S=a[b];r.delete(S)&&(S.sourceRowIndex=C,y[C++]=S)}for(const b of r)b.sourceRowIndex=C,y[C++]=b;o.allLeafChildren=y;const w=o.sibling;w&&(w.allLeafChildren=y),e.rowNodesOrderChanged||(e.rowNodesOrderChanged=f)}(u||d||f||p)&&(this.deselectNodes(m),e.rowDataUpdated=!0)}rowNodeDeleted(e){e.clearRowTopAndRowIndex();const t=e.id,i=this.allNodesMap;i[t]===e&&delete i[t]}updateRowData(e,t){this.dispatchRowDataUpdateStartedEvent(e.add);const i={changedRowNodes:t,rowNodeTransaction:{remove:[],update:[],add:[]},rowsInserted:!1},n=[],s=wg(this.gos);return this.executeRemove(s,e,i,n),this.executeUpdate(s,e,i,n),this.executeAdd(e,i),this.deselectNodes(n),i}executeAdd(e,t){const i=e.add;if(!(i!=null&&i.length))return;let n=this.rootNode.allLeafChildren,s=n.length;if(typeof e.addIndex=="number"&&(s=this.sanitizeAddIndex(e.addIndex),s>0&&this.gos.get("treeData")&&this.gos.get("getDataPath")))for(let p=0;p<n.length;p++){const f=n[p];if((f==null?void 0:f.rowIndex)==s-1){s=p+1;break}}const r=i.length,o=t.changedRowNodes,a=new Array(r);for(let d=0;d<r;d++){const p=this.createRowNode(i[d],s+d);o.add(p),a[d]=p}const l=this.rootNode;if(s<n.length){const d=n.slice(0,s),p=n.slice(s,n.length),f=d.length+a.length;for(let m=0,y=p.length;m<y;++m)p[m].sourceRowIndex=f+m;n=[...d,...a,...p],t.rowsInserted=!0}else n=n.concat(a);l.allLeafChildren=n;const u=l.sibling;u&&(u.allLeafChildren=n),t.rowNodeTransaction.add=a}executeRemove(e,t,{changedRowNodes:i,rowNodeTransaction:n},s){var u,d;const{remove:r}=t;if(!(r!=null&&r.length))return;const o={};r.forEach(p=>{const f=this.lookupRowNode(e,p);f&&(f.isSelected()&&s.push(f),f.clearRowTopAndRowIndex(),o[f.id]=!0,delete this.allNodesMap[f.id],n.remove.push(f),i.remove(f))});const a=this.rootNode;a.allLeafChildren=((u=a.allLeafChildren)==null?void 0:u.filter(p=>!o[p.id]))??null,(d=a.allLeafChildren)==null||d.forEach((p,f)=>{p.sourceRowIndex=f});const l=a.sibling;l&&(l.allLeafChildren=a.allLeafChildren)}executeUpdate(e,t,{changedRowNodes:i,rowNodeTransaction:n},s){const{update:r}=t;r!=null&&r.length&&r.forEach(o=>{const a=this.lookupRowNode(e,o);a&&(a.updateData(o),!a.selectable&&a.isSelected()&&s.push(a),n.update.push(a),i.update(a))})}dispatchRowDataUpdateStartedEvent(e){this.eventSvc.dispatchEvent({type:"rowDataUpdateStarted",firstRowData:e!=null&&e.length?e[0]:null})}deselectNodes(e){var s;const t="rowDataChanged",i=this.beans.selectionSvc,n=e.length>0;n&&(i==null||i.setNodesSelected({newValue:!1,nodes:e,suppressFinishActions:!0,source:t})),(s=i==null?void 0:i.updateGroupsFromChildrenSelections)==null||s.call(i,t),n&&this.eventSvc.dispatchEvent({type:"selectionChanged",source:t})}sanitizeAddIndex(e){var i;const t=((i=this.rootNode.allLeafChildren)==null?void 0:i.length)??0;return e<0||e>=t||Number.isNaN(e)?t:Math.ceil(e)}createRowNode(e,t){const i=new Dg(this.beans);return i.parent=this.rootNode,i.level=0,i.group=!1,i.expanded=!1,i.sourceRowIndex=t,i.setDataAndId(e,String(this.nextId)),this.allNodesMap[i.id]&&Ae(2,{nodeId:i.id}),this.allNodesMap[i.id]=i,this.nextId++,i}lookupRowNode(e,t){var n,s;let i;if(e){const r=e({data:t,level:0});if(i=this.allNodesMap[r],!i)return wi(4,{id:r}),null}else if(i=(s=(n=this.rootNode)==null?void 0:n.allLeafChildren)==null?void 0:s.find(r=>r.data===t),!i)return wi(5,{data:t}),null;return i||null}},zle=class extends Xi{constructor(){super(`
            <div class="ag-selection-checkbox" role="presentation">
                <ag-checkbox role="presentation" data-ref="eCheckbox"></ag-checkbox>
            </div>`,[kL]),this.eCheckbox=nt}postConstruct(){this.eCheckbox.setPassive(!0)}getCheckboxId(){return this.eCheckbox.getInputElement().id}onDataChanged(){this.onSelectionChanged()}onSelectableChanged(){this.showOrHideSelect()}onSelectionChanged(){const e=this.getLocaleTextFunc(),{rowNode:t,eCheckbox:i}=this,n=t.isSelected(),s=dL(e,n),[r,o]=t.selectable?["ariaRowToggleSelection","Press Space to toggle row selection"]:["ariaRowSelectionDisabled","Row Selection is disabled for this row"],a=e(r,o);i.setValue(n,!0),i.setInputAriaLabel(`${a} (${s})`)}init(e){if(this.rowNode=e.rowNode,this.column=e.column,this.overrides=e.overrides,this.onSelectionChanged(),this.addManagedListeners(this.eCheckbox.getInputElement(),{dblclick:Sg,click:n=>{var s;Sg(n),(s=this.beans.selectionSvc)==null||s.handleSelectionEvent(n,this.rowNode,"checkboxSelected")}}),this.addManagedListeners(this.rowNode,{rowSelected:this.onSelectionChanged.bind(this),dataChanged:this.onDataChanged.bind(this),selectableChanged:this.onSelectableChanged.bind(this)}),this.addManagedPropertyListener("rowSelection",({currentValue:n,previousValue:s})=>{const r=typeof n=="object"?YE(n):void 0,o=typeof s=="object"?YE(s):void 0;r!==o&&this.onSelectableChanged()}),$T(this.gos)||typeof this.getIsVisible()=="function"){const n=this.showOrHideSelect.bind(this);this.addManagedEventListeners({displayedColumnsChanged:n}),this.addManagedListeners(this.rowNode,{dataChanged:n,cellChanged:n}),this.showOrHideSelect()}this.eCheckbox.getInputElement().setAttribute("tabindex","-1")}showOrHideSelect(){const{column:e,rowNode:t,overrides:i,gos:n}=this;let s=t.selectable;const r=this.getIsVisible();if(s)if(typeof r=="function"){const l=i==null?void 0:i.callbackParams;if(!e)s=r({...l,node:t,data:t.data});else{const u=e.createColumnFunctionCallbackParams(t);s=r({...l,...u})}}else s=r??!1;const o=n.get("rowSelection");if(o&&typeof o!="string"?!YE(o):e==null?void 0:e.getColDef().showDisabledCheckboxes){this.eCheckbox.setDisabled(!s),this.setVisible(!0),this.setDisplayed(!0);return}if(i!=null&&i.removeHidden){this.setDisplayed(s);return}this.setVisible(s)}getIsVisible(){var i,n;const e=this.overrides;if(e)return e.isVisible;const t=this.gos.get("rowSelection");return t&&typeof t!="string"?jf(t):(n=(i=this.column)==null?void 0:i.getColDef())==null?void 0:n.checkboxSelection}},Gle=class{constructor(e){this.rowModel=e,this.selectAll=!1,this.rootId=null,this.endId=null,this.cachedRange=[]}reset(){this.rootId=null,this.endId=null,this.cachedRange.length=0}setRoot(e){this.rootId=e.id,this.endId=null,this.cachedRange.length=0}setEndRange(e){this.endId=e.id,this.cachedRange.length=0}getRange(){if(this.cachedRange.length===0){const e=this.getRoot(),t=this.getEnd();if(e==null||t==null)return this.cachedRange;this.cachedRange=this.rowModel.getNodesInRangeForSelection(e,t)??[]}return this.cachedRange}isInRange(e){return this.rootId===null?!1:this.getRange().some(t=>t.id===e.id)}getRoot(e){return this.rootId?this.rowModel.getRowNode(this.rootId)??null:e?(this.setRoot(e),e):null}getEnd(){return this.endId?this.rowModel.getRowNode(this.endId)??null:null}truncate(e){const t=this.getRange();if(t.length===0)return{keep:[],discard:[]};const i=t[0].id===this.rootId,n=t.findIndex(s=>s.id===e.id);if(n>-1){const s=t.slice(0,n),r=t.slice(n+1);return this.setEndRange(e),i?{keep:s,discard:r}:{keep:r,discard:s}}else return{keep:t,discard:[]}}extend(e,t=!1){const i=this.getRoot();if(i==null){const s=this.getRange().slice();return t&&e.depthFirstSearch(r=>!r.group&&s.push(r)),s.push(e),this.setRoot(e),{keep:s,discard:[]}}const n=this.rowModel.getNodesInRangeForSelection(i,e);if(!n)return this.setRoot(e),{keep:[e],discard:[]};if(n.find(s=>s.id===this.endId))return this.setEndRange(e),{keep:this.getRange(),discard:[]};{const s=this.getRange().slice();return this.setEndRange(e),{keep:this.getRange(),discard:s}}}},Hle=class extends ye{constructor(e){super(),this.column=e,this.cbSelectAllVisible=!1,this.processingEventFromCheckbox=!1}onSpaceKeyDown(e){const t=this.cbSelectAll;t.isDisplayed()&&!t.getGui().contains(yn(this.beans))&&(e.preventDefault(),t.setValue(!t.getValue()))}getCheckboxGui(){return this.cbSelectAll.getGui()}setComp(e){this.headerCellCtrl=e;const t=this.createManagedBean(new LL);this.cbSelectAll=t,t.addCssClass("ag-header-select-all"),La(t.getGui(),"presentation"),this.showOrHideSelectAll(),this.addManagedEventListeners({newColumnsLoaded:()=>this.showOrHideSelectAll(),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),selectionChanged:this.onSelectionChanged.bind(this),paginationChanged:this.onSelectionChanged.bind(this),modelUpdated:this.onModelChanged.bind(this)}),this.addManagedPropertyListener("rowSelection",({currentValue:i,previousValue:n})=>{const s=r=>typeof r=="string"||!r||r.mode==="singleRow"?void 0:r.selectAll;s(i)!==s(n)&&this.showOrHideSelectAll()}),this.addManagedListeners(t,{fieldValueChanged:this.onCbSelectAll.bind(this)}),t.getInputElement().setAttribute("tabindex","-1"),this.refreshSelectAllLabel()}onDisplayedColumnsChanged(e){this.isAlive()&&this.showOrHideSelectAll(e.source==="uiColumnMoved")}showOrHideSelectAll(e=!1){const t=this.isCheckboxSelection();this.cbSelectAllVisible=t,this.cbSelectAll.setDisplayed(t),t&&(this.checkRightRowModelType("selectAllCheckbox"),this.checkSelectionType("selectAllCheckbox"),this.updateStateOfCheckbox()),this.refreshSelectAllLabel(e)}onModelChanged(){this.cbSelectAllVisible&&this.updateStateOfCheckbox()}onSelectionChanged(){this.cbSelectAllVisible&&this.updateStateOfCheckbox()}updateStateOfCheckbox(){if(this.processingEventFromCheckbox)return;this.processingEventFromCheckbox=!0;const e=this.getSelectAllMode(),t=this.beans.selectionSvc,i=this.cbSelectAll,n=t.getSelectAllState(e);i.setValue(n);const s=t.hasNodesToSelect(e);i.setDisabled(!s),this.refreshSelectAllLabel(),this.processingEventFromCheckbox=!1}refreshSelectAllLabel(e=!1){const t=this.getLocaleTextFunc(),{headerCellCtrl:i,cbSelectAll:n,cbSelectAllVisible:s}=this,o=n.getValue()?t("ariaChecked","checked"):t("ariaUnchecked","unchecked"),a=t("ariaRowSelectAll","Press Space to toggle all rows selection");i.setAriaDescriptionProperty("selectAll",s?`${a} (${o})`:null),n.setInputAriaLabel(t("ariaHeaderSelection","Column with Header Selection")),e||i.announceAriaDescription()}checkSelectionType(e){return bS(this.gos)?!0:(Ae(128,{feature:e}),!1)}checkRightRowModelType(e){const{gos:t,rowModel:i}=this.beans;return $s(t)||yp(t)?!0:(Ae(129,{feature:e,rowModel:i.getType()}),!1)}onCbSelectAll(){if(this.processingEventFromCheckbox||!this.cbSelectAllVisible)return;const e=this.cbSelectAll.getValue(),t=this.getSelectAllMode();let i="uiSelectAll";t==="currentPage"?i="uiSelectAllCurrentPage":t==="filtered"&&(i="uiSelectAllFiltered");const n={source:i,selectAll:t},s=this.beans.selectionSvc;e?s.selectAllRowNodes(n):s.deselectAllRowNodes(n)}isCheckboxSelection(){var u;const{column:e,gos:t,beans:i}=this,n=t.get("rowSelection"),s=e.getColDef(),{headerCheckboxSelection:r}=s;let o=!1;const a=typeof n=="object";if(a){const d=kc(e),p=bL(e);(UT(n)==="autoGroupColumn"&&p||d&&((u=i.selectionColSvc)!=null&&u.isSelectionColumnEnabled()))&&(o=Iw(n))}else typeof r=="function"?o=r(ut(t,{column:e,colDef:s})):o=!!r;const l=a?"headerCheckbox":"headerCheckboxSelection";return o&&this.checkRightRowModelType(l)&&this.checkSelectionType(l)}getSelectAllMode(){const e=rj(this.gos,!1);if(e)return e;const{headerCheckboxSelectionCurrentPageOnly:t,headerCheckboxSelectionFilteredOnly:i}=this.column.getColDef();return t?"currentPage":i?"filtered":"all"}},_le=class extends ye{postConstruct(){const{gos:e,beans:t}=this;this.selectionCtx=new Gle(t.rowModel),this.addManagedPropertyListeners(["isRowSelectable","rowSelection"],()=>{const i=$T(e);i!==this.isRowSelectable&&(this.isRowSelectable=i,this.updateSelectable())}),this.isRowSelectable=$T(e)}destroy(){super.destroy(),this.selectionCtx.reset()}createCheckboxSelectionComponent(){return new zle}createSelectAllFeature(e){return new Hle(e)}isMultiSelect(){return bS(this.gos)}onRowCtrlSelected(e,t,i){const n=!!e.rowNode.isSelected();e.forEachGui(i,s=>{s.rowComp.addOrRemoveCssClass("ag-row-selected",n);const r=s.element;NT(r,n),r.contains(yn(this.beans))&&t(s)})}announceAriaRowSelection(e){var s;if(this.isRowSelectionBlocked(e))return;const t=e.isSelected();if(!e.selectable)return;const n=this.getLocaleTextFunc()(t?"ariaRowDeselect":"ariaRowSelect",`Press SPACE to ${t?"deselect":"select"} this row`);(s=this.beans.ariaAnnounce)==null||s.announceValue(n,"rowSelection")}dispatchSelectionChanged(e){this.eventSvc.dispatchEvent({type:"selectionChanged",source:e})}isRowSelectionBlocked(e){return!e.selectable||!!e.rowPinned||!Nh(this.gos)}updateRowSelectable(e,t){var n;const i=((n=this.isRowSelectable)==null?void 0:n.call(this,e))??!0;return this.setRowSelectable(e,i,t),i}setRowSelectable(e,t,i){if(e.selectable!==t){if(e.selectable=t,e.dispatchRowEvent("selectableChanged"),i)return;if(Nv(this.gos)){const s=this.calculateSelectedFromChildren(e);this.setNodesSelected({nodes:[e],newValue:s??!1,source:"selectableChanged"});return}e.isSelected()&&!e.selectable&&this.setNodesSelected({nodes:[e],newValue:!1,source:"selectableChanged"})}}calculateSelectedFromChildren(e){var n;let t=!1,i=!1;if(!((n=e.childrenAfterGroup)!=null&&n.length))return e.selectable?e.__selected:null;for(let s=0;s<e.childrenAfterGroup.length;s++){const r=e.childrenAfterGroup[s];let o=r.isSelected();if(!r.selectable){const a=this.calculateSelectedFromChildren(r);if(a===null)continue;o=a}switch(o){case!0:t=!0;break;case!1:i=!0;break;default:return}}if(!(t&&i))return t?!0:i?!1:e.selectable?e.__selected:null}selectRowNode(e,t,i,n="api"){const s=!e.selectable&&t,r=e.__selected===t;if(s||r)return!1;e.__selected=t,e.dispatchRowEvent("rowSelected");const o=e.sibling;return o&&o.footer&&o.__localEventService&&o.dispatchRowEvent("rowSelected"),this.eventSvc.dispatchEvent({...Pae(e,this.gos,"rowSelected"),event:i||null,source:n}),!0}isCellCheckboxSelection(e,t){const i=this.gos.get("rowSelection");if(i&&typeof i!="string"){const n=kc(e)&&jf(i);return e.isColumnFunc(t,n)}else return e.isColumnFunc(t,e.colDef.checkboxSelection)}inferNodeSelections(e,t,i,n){const{gos:s,selectionCtx:r}=this,o=e.isSelected(),a=Nv(s),l=mre(s),u=yre(s),d=this.isMultiSelect(),p=n==="rowClicked";if(p&&a&&e.group||p&&!(l||u))return null;if(t&&i&&d){const f=r.getRoot();if(f)if(f.isSelected()){const m=r.isInRange(e)?r.truncate(e):r.extend(e,a);return{deselect:m.discard,select:m.keep,reset:!1}}else{const m=r.extend(e,a);return{select:[],deselect:m.keep,reset:!1}}else return null}else if(t&&d){const f=r.selectAll?this.beans.rowModel.getRow(0):void 0,m=r.getRoot(f),y=r.isInRange(e)?r.truncate(e):r.extend(e,a);return{select:y.keep,deselect:y.discard,reset:r.selectAll||!!(m&&!m.isSelected())}}else{if(i)return r.setRoot(e),p&&o&&!u?null:{node:e,newValue:!o,clearSelection:!d};{r.setRoot(e);const f=vre(s),m=wS(s)==="filteredDescendants",y=p&&(!f||!l);if(m&&o===void 0&&$s(s))return{node:e,newValue:!1,clearSelection:!d||y};if(p){const C=o?!f:l;return C===o&&!y||C&&!l||!C&&!u?null:{node:e,newValue:C,clearSelection:!d||y}}return{node:e,newValue:!o,clearSelection:!d||y}}}}},jle=class extends LL{constructor(e){super(e,"ag-radio-button","radio")}isSelected(){return this.eInput.checked}toggle(){this.eInput.disabled||this.isSelected()||this.setValue(!0)}addInputListeners(){super.addInputListeners(),this.addManagedEventListeners({checkboxChanged:this.onChange.bind(this)})}onChange(e){const t=this.eInput;e.selected&&e.name&&t.name&&t.name===e.name&&e.id&&t.id!==e.id&&this.setValue(!1,!0)}},bp=class extends Ch{constructor(e,t="ag-text-field",i="text"){super(e,t,i)}postConstruct(){super.postConstruct(),this.config.allowedCharPattern&&this.preventDisallowedCharacters()}setValue(e,t){const i=this.eInput;return i.value!==e&&(i.value=Ne(e)?e:""),super.setValue(e,t)}setStartValue(e){this.setValue(e,!0)}preventDisallowedCharacters(){const e=new RegExp(`[${this.config.allowedCharPattern}]`),t=i=>{Vj(i)&&i.key&&!e.test(i.key)&&i.preventDefault()};this.addManagedListeners(this.eInput,{keydown:t,paste:i=>{var s;const n=(s=i.clipboardData)==null?void 0:s.getData("text");n&&n.split("").some(r=>!e.test(r))&&i.preventDefault()}})}},Xx={selector:"AG-INPUT-TEXT-FIELD",component:bp},Vle=class extends Ch{constructor(e){super(e,"ag-text-area",null,"textarea")}setValue(e,t){const i=super.setValue(e,t);return this.eInput.value=e,i}setCols(e){return this.eInput.cols=e,this}setRows(e){return this.eInput.rows=e,this}},Wle={selector:"AG-INPUT-TEXT-AREA",component:Vle},PL=class extends bp{constructor(e){super(e,"ag-number-field","number")}postConstruct(){super.postConstruct();const e=this.eInput;this.addManagedListeners(e,{blur:()=>{const r=parseFloat(e.value),o=isNaN(r)?"":this.normalizeValue(r.toString());this.value!==o&&this.setValue(o)},wheel:this.onWheel.bind(this)}),e.step="any";const{precision:t,min:i,max:n,step:s}=this.config;typeof t=="number"&&this.setPrecision(t),typeof i=="number"&&this.setMin(i),typeof n=="number"&&this.setMax(n),typeof s=="number"&&this.setStep(s)}onWheel(e){yn(this.beans)===this.eInput&&e.preventDefault()}normalizeValue(e){if(e==="")return"";this.precision!=null&&(e=this.adjustPrecision(e));const t=parseFloat(e),{min:i,max:n}=this;return i!=null&&t<i?e=i.toString():n!=null&&t>n&&(e=n.toString()),e}adjustPrecision(e,t){const i=this.precision;if(i==null)return e;if(t){const s=parseFloat(e).toFixed(i);return parseFloat(s).toString()}const n=String(e).split(".");if(n.length>1){if(n[1].length<=i)return e;if(i>0)return`${n[0]}.${n[1].slice(0,i)}`}return n[0]}setMin(e){return this.min===e?this:(this.min=e,Yo(this.eInput,"min",e),this)}setMax(e){return this.max===e?this:(this.max=e,Yo(this.eInput,"max",e),this)}setPrecision(e){return this.precision=e,this}setStep(e){return this.step===e?this:(this.step=e,Yo(this.eInput,"step",e),this)}setValue(e,t){return this.setValueOrInputValue(i=>super.setValue(i,t),()=>this,e)}setStartValue(e){return this.setValueOrInputValue(t=>super.setValue(t,!0),t=>{this.eInput.value=t},e)}setValueOrInputValue(e,t,i){if(Ne(i)){let n=this.isScientificNotation(i);if(n&&this.eInput.validity.valid)return e(i);if(!n){i=this.adjustPrecision(i);const s=this.normalizeValue(i);n=i!=s}if(n)return t(i)}return e(i)}getValue(){const e=this.eInput;if(!e.validity.valid)return;const t=e.value;return this.isScientificNotation(t)?this.adjustPrecision(t,!0):super.getValue()}isScientificNotation(e){return typeof e=="string"&&e.includes("e")}},Ule={selector:"AG-INPUT-NUMBER-FIELD",component:PL};function sv(e,t){return e.toString().padStart(t,"0")}function qo(e,t=!0,i="-"){if(!e)return null;let n=[e.getFullYear(),e.getMonth()+1,e.getDate()].map(s=>sv(s,2)).join(i);return t&&(n+=" "+[e.getHours(),e.getMinutes(),e.getSeconds()].map(s=>sv(s,2)).join(":")),n}var i1=e=>{if(e>3&&e<21)return"th";switch(e%10){case 1:return"st";case 2:return"nd";case 3:return"rd"}return"th"};function rv(e,t="YYYY-MM-DD"){const i=sv(e.getFullYear(),4),n=["January","February","March","April","May","June","July","August","September","October","November","December"],s=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],r={YYYY:()=>i.slice(i.length-4,i.length),YY:()=>i.slice(i.length-2,i.length),Y:()=>`${e.getFullYear()}`,MMMM:()=>n[e.getMonth()],MMM:()=>n[e.getMonth()].slice(0,3),MM:()=>sv(e.getMonth()+1,2),Mo:()=>`${e.getMonth()+1}${i1(e.getMonth()+1)}`,M:()=>`${e.getMonth()+1}`,Do:()=>`${e.getDate()}${i1(e.getDate())}`,DD:()=>sv(e.getDate(),2),D:()=>`${e.getDate()}`,dddd:()=>s[e.getDay()],ddd:()=>s[e.getDay()].slice(0,3),dd:()=>s[e.getDay()].slice(0,2),do:()=>`${e.getDay()}${i1(e.getDay())}`,d:()=>`${e.getDay()}`},o=new RegExp(Object.keys(r).join("|"),"g");return t.replace(o,a=>a in r?r[a]():a)}function Ir(e){if(!e)return null;const[t,i]=e.split(" ");if(!t)return null;const n=t.split("-").map(p=>parseInt(p,10));if(n.filter(p=>!isNaN(p)).length!==3)return null;const[s,r,o]=n,a=new Date(s,r-1,o);if(a.getFullYear()!==s||a.getMonth()!==r-1||a.getDate()!==o)return null;if(!i||i==="00:00:00")return a;const[l,u,d]=i.split(":").map(p=>parseInt(p,10));return l>=0&&l<24&&a.setHours(l),u>=0&&u<60&&a.setMinutes(u),d>=0&&d<60&&a.setSeconds(d),a}var $le=class extends bp{constructor(e){super(e,"ag-date-field","date")}postConstruct(){super.postConstruct();const e=hd();this.addManagedListeners(this.eInput,{wheel:this.onWheel.bind(this),mousedown:()=>{this.isDisabled()||e||this.eInput.focus()}}),this.eInput.step="any"}onWheel(e){yn(this.beans)===this.eInput&&e.preventDefault()}setMin(e){const t=e instanceof Date?qo(e??null,!1)??void 0:e;return this.min===t?this:(this.min=t,Yo(this.eInput,"min",t),this)}setMax(e){const t=e instanceof Date?qo(e??null,!1)??void 0:e;return this.max===t?this:(this.max=t,Yo(this.eInput,"max",t),this)}setStep(e){return this.step===e?this:(this.step=e,Yo(this.eInput,"step",e),this)}getDate(){if(this.eInput.validity.valid)return Ir(this.getValue())??void 0}setDate(e,t){this.setValue(qo(e??null,!1),t)}},eV={selector:"AG-INPUT-DATE-FIELD",component:$le},Yle=1e3,Kle=1e3,WB=100,UB,Q0=!1,qle=class extends ye{constructor(e,t){super(),this.tooltipCtrl=e,this.getTooltipValue=t,this.interactionEnabled=!1,this.isInteractingWithTooltip=!1,this.state=0,this.tooltipInstanceCount=0,this.tooltipMouseTrack=!1}wireBeans(e){this.popupSvc=e.popupSvc,this.userCompFactory=e.userCompFactory}postConstruct(){this.gos.get("tooltipInteraction")&&(this.interactionEnabled=!0),this.tooltipTrigger=this.getTooltipTrigger(),this.tooltipMouseTrack=this.gos.get("tooltipMouseTrack");const e=this.tooltipCtrl.getGui();this.tooltipTrigger===0&&this.addManagedListeners(e,{mouseenter:this.onMouseEnter.bind(this),mouseleave:this.onMouseLeave.bind(this)}),this.tooltipTrigger===1&&this.addManagedListeners(e,{focusin:this.onFocusIn.bind(this),focusout:this.onFocusOut.bind(this)}),this.addManagedListeners(e,{mousemove:this.onMouseMove.bind(this)}),this.interactionEnabled||this.addManagedListeners(e,{mousedown:this.onMouseDown.bind(this),keydown:this.onKeyDown.bind(this)})}getGridOptionsTooltipDelay(e){const t=this.gos.get(e);return Math.max(200,t)}getTooltipDelay(e){var t,i,n,s;return e==="show"?((i=(t=this.tooltipCtrl).getTooltipShowDelayOverride)==null?void 0:i.call(t))??this.getGridOptionsTooltipDelay("tooltipShowDelay"):((s=(n=this.tooltipCtrl).getTooltipHideDelayOverride)==null?void 0:s.call(n))??this.getGridOptionsTooltipDelay("tooltipHideDelay")}destroy(){this.setToDoNothing(),super.destroy()}getTooltipTrigger(){const e=this.gos.get("tooltipTrigger");return!e||e==="hover"?0:1}onMouseEnter(e){this.interactionEnabled&&this.interactiveTooltipTimeoutId&&(this.unlockService(),this.startHideTimeout()),!Ph()&&(Q0?this.showTooltipTimeoutId=window.setTimeout(()=>{this.prepareToShowTooltip(e)},WB):this.prepareToShowTooltip(e))}onMouseMove(e){this.lastMouseEvent&&(this.lastMouseEvent=e),this.tooltipMouseTrack&&this.state===2&&this.tooltipComp&&this.positionTooltip()}onMouseDown(){this.setToDoNothing()}onMouseLeave(){this.interactionEnabled?this.lockService():this.setToDoNothing()}onFocusIn(){this.prepareToShowTooltip()}onFocusOut(e){var s;const t=e.relatedTarget,i=this.tooltipCtrl.getGui(),n=(s=this.tooltipComp)==null?void 0:s.getGui();this.isInteractingWithTooltip||i.contains(t)||this.interactionEnabled&&(n!=null&&n.contains(t))||this.setToDoNothing()}onKeyDown(){this.isInteractingWithTooltip&&(this.isInteractingWithTooltip=!1),this.setToDoNothing()}prepareToShowTooltip(e){if(this.state!=0||Q0)return;let t=0;e&&(t=this.isLastTooltipHiddenRecently()?200:this.getTooltipDelay("show")),this.lastMouseEvent=e||null,this.showTooltipTimeoutId=window.setTimeout(this.showTooltip.bind(this),t),this.state=1}isLastTooltipHiddenRecently(){return new Date().getTime()-UB<Yle}setToDoNothing(e){!e&&this.state===2&&this.hideTooltip(),this.onBodyScrollEventCallback&&(this.onBodyScrollEventCallback(),this.onBodyScrollEventCallback=void 0),this.onColumnMovedEventCallback&&(this.onColumnMovedEventCallback(),this.onColumnMovedEventCallback=void 0),this.onDocumentKeyDownCallback&&(this.onDocumentKeyDownCallback(),this.onDocumentKeyDownCallback=void 0),this.clearTimeouts(),this.state=0,this.lastMouseEvent=null}showTooltip(){var o,a,l,u,d,p,f;const e=this.getTooltipValue(),t=this.tooltipCtrl;if(!Ne(e)||t.shouldDisplayTooltip&&!t.shouldDisplayTooltip()){this.setToDoNothing();return}const i=(o=t.getRowNode)==null?void 0:o.call(t),n=ut(this.gos,{location:((a=t.getLocation)==null?void 0:a.call(t))??"UNKNOWN",colDef:(l=t.getColDef)==null?void 0:l.call(t),column:(u=t.getColumn)==null?void 0:u.call(t),rowIndex:(d=t.getRowIndex)==null?void 0:d.call(t),node:i,data:i==null?void 0:i.data,value:e,valueFormatted:(p=t.getValueFormatted)==null?void 0:p.call(t),hideTooltipCallback:()=>this.hideTooltip(!0),...((f=t.getAdditionalParams)==null?void 0:f.call(t))??{}});this.state=2,this.tooltipInstanceCount++;const s=this.newTooltipComponentCallback.bind(this,this.tooltipInstanceCount),r=Boe(this.userCompFactory,n);r==null||r.newAgStackInstance().then(s)}hideTooltip(e){!e&&this.isInteractingWithTooltip||(this.tooltipComp&&(this.destroyTooltipComp(),UB=new Date().getTime()),this.eventSvc.dispatchEvent({type:"tooltipHide",parentGui:this.tooltipCtrl.getGui()}),e&&(this.isInteractingWithTooltip=!1),this.setToDoNothing(!0))}newTooltipComponentCallback(e,t){var o;if(this.state!==2||this.tooltipInstanceCount!==e){this.destroyBean(t);return}const n=t.getGui();this.tooltipComp=t,n.classList.contains("ag-tooltip")||n.classList.add("ag-tooltip-custom"),this.tooltipTrigger===0&&n.classList.add("ag-tooltip-animate"),this.interactionEnabled&&n.classList.add("ag-tooltip-interactive");const s=this.getLocaleTextFunc(),r=(o=this.popupSvc)==null?void 0:o.addPopup({eChild:n,ariaLabel:s("ariaLabelTooltip","Tooltip")});if(r&&(this.tooltipPopupDestroyFunc=r.hideFunc),this.positionTooltip(),this.tooltipTrigger===1){const a=()=>this.setToDoNothing();[this.onBodyScrollEventCallback,this.onColumnMovedEventCallback]=this.addManagedEventListeners({bodyScroll:a,columnMoved:a})}this.interactionEnabled&&([this.tooltipMouseEnterListener,this.tooltipMouseLeaveListener]=this.addManagedElementListeners(n,{mouseenter:this.onTooltipMouseEnter.bind(this),mouseleave:this.onTooltipMouseLeave.bind(this)}),[this.onDocumentKeyDownCallback]=this.addManagedElementListeners(An(this.beans),{keydown:a=>{n.contains(a==null?void 0:a.target)||this.onKeyDown()}}),this.tooltipTrigger===1&&([this.tooltipFocusInListener,this.tooltipFocusOutListener]=this.addManagedElementListeners(n,{focusin:this.onTooltipFocusIn.bind(this),focusout:this.onTooltipFocusOut.bind(this)}))),this.eventSvc.dispatchEvent({type:"tooltipShow",tooltipGui:n,parentGui:this.tooltipCtrl.getGui()}),this.startHideTimeout()}onTooltipMouseEnter(){this.isInteractingWithTooltip=!0,this.unlockService()}onTooltipMouseLeave(){this.isTooltipFocused()||(this.isInteractingWithTooltip=!1,this.lockService())}onTooltipFocusIn(){this.isInteractingWithTooltip=!0}isTooltipFocused(){var i;const e=(i=this.tooltipComp)==null?void 0:i.getGui(),t=yn(this.beans);return!!e&&e.contains(t)}onTooltipFocusOut(e){const t=this.tooltipCtrl.getGui();this.isTooltipFocused()||(this.isInteractingWithTooltip=!1,t.contains(e.relatedTarget)?this.startHideTimeout():this.hideTooltip())}positionTooltip(){var t,i;const e={type:"tooltip",ePopup:this.tooltipComp.getGui(),nudgeY:18,skipObserver:this.tooltipMouseTrack};this.lastMouseEvent?(t=this.popupSvc)==null||t.positionPopupUnderMouseEvent({...e,mouseEvent:this.lastMouseEvent}):(i=this.popupSvc)==null||i.positionPopupByComponent({...e,eventSource:this.tooltipCtrl.getGui(),position:"under",keepWithinBounds:!0,nudgeY:5})}destroyTooltipComp(){this.tooltipComp.getGui().classList.add("ag-tooltip-hiding");const e=this.tooltipPopupDestroyFunc,t=this.tooltipComp,i=this.tooltipTrigger===0?Kle:0;window.setTimeout(()=>{e(),this.destroyBean(t)},i),this.clearTooltipListeners(),this.tooltipPopupDestroyFunc=void 0,this.tooltipComp=void 0}clearTooltipListeners(){[this.tooltipMouseEnterListener,this.tooltipMouseLeaveListener,this.tooltipFocusInListener,this.tooltipFocusOutListener].forEach(e=>{e&&e()}),this.tooltipMouseEnterListener=this.tooltipMouseLeaveListener=this.tooltipFocusInListener=this.tooltipFocusOutListener=null}lockService(){Q0=!0,this.interactiveTooltipTimeoutId=window.setTimeout(()=>{this.unlockService(),this.setToDoNothing()},WB)}unlockService(){Q0=!1,this.clearInteractiveTimeout()}startHideTimeout(){this.clearHideTimeout(),this.hideTooltipTimeoutId=window.setTimeout(this.hideTooltip.bind(this),this.getTooltipDelay("hide"))}clearShowTimeout(){this.showTooltipTimeoutId&&(window.clearTimeout(this.showTooltipTimeoutId),this.showTooltipTimeoutId=void 0)}clearHideTimeout(){this.hideTooltipTimeoutId&&(window.clearTimeout(this.hideTooltipTimeoutId),this.hideTooltipTimeoutId=void 0)}clearInteractiveTimeout(){this.interactiveTooltipTimeoutId&&(window.clearTimeout(this.interactiveTooltipTimeoutId),this.interactiveTooltipTimeoutId=void 0)}clearTimeouts(){this.clearShowTimeout(),this.clearHideTimeout(),this.clearInteractiveTimeout()}};function n1(e){return e.get("tooltipShowMode")==="whenTruncated"}function Ow(e){return()=>{const t=e();return t?t.scrollWidth>t.clientWidth:!0}}var Zle=class extends ye{constructor(e,t){super(),this.ctrl=e,t&&(this.beans=t)}postConstruct(){this.refreshTooltip()}setBrowserTooltip(e){const t="title",i=this.ctrl.getGui();i&&(e!=null&&e!=""?i.setAttribute(t,e):i.removeAttribute(t))}updateTooltipText(){const{getTooltipValue:e}=this.ctrl;e&&(this.tooltip=e())}createTooltipFeatureIfNeeded(){this.tooltipManager==null&&(this.tooltipManager=this.createBean(new qle(this.ctrl,()=>this.tooltip),this.beans.context))}setTooltipAndRefresh(e){this.tooltip=e,this.refreshTooltip()}refreshTooltip(){this.browserTooltips=this.beans.gos.get("enableBrowserTooltips"),this.updateTooltipText(),this.browserTooltips?(this.setBrowserTooltip(this.tooltip),this.tooltipManager=this.destroyBean(this.tooltipManager,this.beans.context)):(this.setBrowserTooltip(null),this.createTooltipFeatureIfNeeded())}destroy(){this.tooltipManager=this.destroyBean(this.tooltipManager,this.beans.context),super.destroy()}},Xle=class extends Xi{constructor(e="default",t=!1){super(`<div class="ag-list ag-${e}-list" role="listbox"></div>`),this.cssIdentifier=e,this.unFocusable=t,this.activeClass="ag-active-item",this.options=[],this.itemEls=[]}postConstruct(){const e=this.getGui();this.addManagedElementListeners(e,{mouseleave:()=>this.clearHighlighted()}),!this.unFocusable&&this.addManagedElementListeners(e,{keydown:this.handleKeyDown.bind(this)})}handleKeyDown(e){const t=e.key;switch(t){case ge.ENTER:if(!this.highlightedEl)this.setValue(this.getValue());else{const i=this.itemEls.indexOf(this.highlightedEl);this.setValueByIndex(i)}break;case ge.DOWN:case ge.UP:e.preventDefault(),this.navigate(t);break;case ge.PAGE_DOWN:case ge.PAGE_UP:case ge.PAGE_HOME:case ge.PAGE_END:e.preventDefault(),this.navigateToPage(t);break}}navigate(e){const t=e===ge.DOWN;let i;const{itemEls:n,highlightedEl:s}=this;if(!s)i=n[t?0:n.length-1];else{let o=n.indexOf(s)+(t?1:-1);o=Math.min(Math.max(o,0),n.length-1),i=n[o]}this.highlightItem(i)}navigateToPage(e){const{itemEls:t,highlightedEl:i}=this;if(!i||t.length===0)return;const n=t.indexOf(i),s=this.options.length-1,r=t[0].clientHeight,o=Math.floor(this.getGui().clientHeight/r);let a=-1;e===ge.PAGE_HOME?a=0:e===ge.PAGE_END?a=s:e===ge.PAGE_DOWN?a=Math.min(n+o,s):e===ge.PAGE_UP&&(a=Math.max(n-o,0)),a!==-1&&this.highlightItem(t[a])}addOptions(e){return e.forEach(t=>this.addOption(t)),this}addOption(e){const{value:t,text:i}=e,n=i||t;return this.options.push({value:t,text:n}),this.renderOption(t,n),this.updateIndices(),this}clearOptions(){this.options=[],this.reset(!0),this.itemEls.forEach(e=>{Qh(e)}),this.itemEls=[]}updateIndices(){const e=this.getGui().querySelectorAll(".ag-list-item");e.forEach((t,i)=>{Nse(t,i+1),Ose(t,e.length)})}renderOption(e,t){const i=An(this.beans),n=i.createElement("div");La(n,"option"),n.classList.add("ag-list-item",`ag-${this.cssIdentifier}-list-item`);const s=i.createElement("span");n.appendChild(s),s.textContent=t,this.unFocusable||(n.tabIndex=-1),this.itemEls.push(n),this.addManagedListeners(n,{mouseover:()=>this.highlightItem(n),mousedown:r=>{r.preventDefault(),r.stopPropagation(),this.setValue(e)}}),this.createOptionalManagedBean(this.beans.registry.createDynamicBean("tooltipFeature",!1,{getTooltipValue:()=>t,getGui:()=>n,getLocation:()=>"UNKNOWN",shouldDisplayTooltip:()=>s.scrollWidth>s.clientWidth})),this.getGui().appendChild(n)}setValue(e,t){if(this.value===e)return this.fireItemSelected(),this;if(e==null)return this.reset(t),this;const i=this.options.findIndex(n=>n.value===e);if(i!==-1){const n=this.options[i];this.value=n.value,this.displayValue=n.text,this.highlightItem(this.itemEls[i]),t||this.fireChangeEvent()}return this}setValueByIndex(e){return this.setValue(this.options[e].value)}getValue(){return this.value}getDisplayValue(){return this.displayValue}refreshHighlighted(){this.clearHighlighted();const e=this.options.findIndex(t=>t.value===this.value);e!==-1&&this.highlightItem(this.itemEls[e])}reset(e){this.value=null,this.displayValue=null,this.clearHighlighted(),e||this.fireChangeEvent()}highlightItem(e){if(!Dl(e))return;this.clearHighlighted(),this.highlightedEl=e,e.classList.add(this.activeClass),NT(e,!0);const t=this.getGui(),{scrollTop:i,clientHeight:n}=t,{offsetTop:s,offsetHeight:r}=e;(s+r>i+n||s<i)&&e.scrollIntoView({block:"nearest"}),this.unFocusable||e.focus()}clearHighlighted(){const e=this.highlightedEl;!e||!Dl(e)||(e.classList.remove(this.activeClass),NT(e,!1),this.highlightedEl=null)}fireChangeEvent(){this.dispatchLocalEvent({type:"fieldValueChanged"}),this.fireItemSelected()}fireItemSelected(){this.dispatchLocalEvent({type:"selectedItem"})}},Qle=".ag-picker-field-display{flex:1 1 auto}.ag-picker-field{align-items:center;display:flex}.ag-picker-field-icon{border:0;cursor:pointer;display:flex;margin:0;padding:0}.ag-picker-field-wrapper{background-color:var(--ag-picker-button-background-color);border:var(--ag-picker-button-border);border-radius:5px;min-height:max(var(--ag-list-item-height),calc(var(--ag-spacing)*4));overflow:hidden;&:disabled{opacity:.5}&.ag-picker-has-focus,&:focus-within{background-color:var(--ag-picker-button-focus-background-color);border:var(--ag-picker-button-focus-border);box-shadow:var(--ag-focus-shadow)}}",Jle=class extends Jj{constructor(e){if(super(e,(e==null?void 0:e.template)||`
            <div class="ag-picker-field" role="presentation">
                <div data-ref="eLabel"></div>
                <div data-ref="eWrapper" class="ag-wrapper ag-picker-field-wrapper ag-picker-collapsed">
                    <div data-ref="eDisplayField" class="ag-picker-field-display"></div>
                    <div data-ref="eIcon" class="ag-picker-field-icon" aria-hidden="true"></div>
                </div>
            </div>`,(e==null?void 0:e.agComponents)||[],e==null?void 0:e.className),this.isPickerDisplayed=!1,this.skipClick=!1,this.pickerGap=4,this.hideCurrentPicker=null,this.eLabel=nt,this.eWrapper=nt,this.eDisplayField=nt,this.eIcon=nt,this.registerCSS(Qle),this.ariaRole=e==null?void 0:e.ariaRole,this.onPickerFocusIn=this.onPickerFocusIn.bind(this),this.onPickerFocusOut=this.onPickerFocusOut.bind(this),!e)return;const{pickerGap:t,maxPickerHeight:i,variableWidth:n,minPickerWidth:s,maxPickerWidth:r}=e;t!=null&&(this.pickerGap=t),this.variableWidth=!!n,i!=null&&this.setPickerMaxHeight(i),s!=null&&this.setPickerMinWidth(s),r!=null&&this.setPickerMaxWidth(r)}postConstruct(){super.postConstruct(),this.setupAria();const e=`ag-${this.getCompId()}-display`;this.eDisplayField.setAttribute("id",e);const t=this.getAriaElement();this.addManagedElementListeners(t,{keydown:this.onKeyDown.bind(this)}),this.addManagedElementListeners(this.eLabel,{mousedown:this.onLabelOrWrapperMouseDown.bind(this)}),this.addManagedElementListeners(this.eWrapper,{mousedown:this.onLabelOrWrapperMouseDown.bind(this)});const{pickerIcon:i,inputWidth:n}=this.config;if(i){const s=_o(i,this.beans);s&&this.eIcon.appendChild(s)}n!=null&&this.setInputWidth(n)}setupAria(){const e=this.getAriaElement();e.setAttribute("tabindex",this.gos.get("tabIndex").toString()),OT(e,!1),this.ariaRole&&La(e,this.ariaRole)}onLabelOrWrapperMouseDown(e){if(e){const t=this.getFocusableElement();if(t!==this.eWrapper&&(e==null?void 0:e.target)===t)return;e.preventDefault(),this.getFocusableElement().focus()}if(this.skipClick){this.skipClick=!1;return}this.isDisabled()||(this.isPickerDisplayed?this.hidePicker():this.showPicker())}onKeyDown(e){switch(e.key){case ge.UP:case ge.DOWN:case ge.ENTER:case ge.SPACE:e.preventDefault(),this.onLabelOrWrapperMouseDown();break;case ge.ESCAPE:this.isPickerDisplayed&&(e.preventDefault(),e.stopPropagation(),this.hideCurrentPicker&&this.hideCurrentPicker());break}}showPicker(){this.isPickerDisplayed=!0,this.pickerComponent||(this.pickerComponent=this.createPickerComponent());const e=this.pickerComponent.getGui();e.addEventListener("focusin",this.onPickerFocusIn),e.addEventListener("focusout",this.onPickerFocusOut),this.hideCurrentPicker=this.renderAndPositionPicker(),this.toggleExpandedStyles(!0)}renderAndPositionPicker(){const e=this.pickerComponent.getGui();this.gos.get("suppressScrollWhenPopupsAreOpen")||([this.destroyMouseWheelFunc]=this.addManagedEventListeners({bodyScroll:()=>{this.hidePicker()}}));const t=this.getLocaleTextFunc(),{config:{pickerAriaLabelKey:i,pickerAriaLabelValue:n,modalPicker:s=!0},maxPickerHeight:r,minPickerWidth:o,maxPickerWidth:a,variableWidth:l,beans:u,eWrapper:d}=this,p={modal:s,eChild:e,closeOnEsc:!0,closedCallback:()=>{const C=ij(u);this.beforeHidePicker(),C&&this.isAlive()&&this.getFocusableElement().focus()},ariaLabel:t(i,n),anchorToElement:d};e.style.position="absolute";const f=u.popupSvc,m=f.addPopup(p);l?(o&&(e.style.minWidth=o),e.style.width=fL(hS(d)),a&&(e.style.maxWidth=a)):mS(e,a??hS(d));const y=r??`${pL(f.getPopupParent())}px`;return e.style.setProperty("max-height",y),this.alignPickerToComponent(),m.hideFunc}alignPickerToComponent(){if(!this.pickerComponent)return;const{pickerGap:e,config:{pickerType:t},beans:{popupSvc:i,gos:n},eWrapper:s,pickerComponent:r}=this,o=n.get("enableRtl")?"right":"left";i.positionPopupByComponent({type:t,eventSource:s,ePopup:r.getGui(),position:"under",alignSide:o,keepWithinBounds:!0,nudgeY:e})}beforeHidePicker(){this.destroyMouseWheelFunc&&(this.destroyMouseWheelFunc(),this.destroyMouseWheelFunc=void 0),this.toggleExpandedStyles(!1);const e=this.pickerComponent.getGui();e.removeEventListener("focusin",this.onPickerFocusIn),e.removeEventListener("focusout",this.onPickerFocusOut),this.isPickerDisplayed=!1,this.pickerComponent=void 0,this.hideCurrentPicker=null}toggleExpandedStyles(e){if(!this.isAlive())return;const t=this.getAriaElement();OT(t,e);const i=this.eWrapper.classList;i.toggle("ag-picker-expanded",e),i.toggle("ag-picker-collapsed",!e)}onPickerFocusIn(){this.togglePickerHasFocus(!0)}onPickerFocusOut(e){var t;(t=this.pickerComponent)!=null&&t.getGui().contains(e.relatedTarget)||this.togglePickerHasFocus(!1)}togglePickerHasFocus(e){this.pickerComponent&&this.eWrapper.classList.toggle("ag-picker-has-focus",e)}hidePicker(){var e;(e=this.hideCurrentPicker)==null||e.call(this)}setInputWidth(e){return mS(this.eWrapper,e),this}getFocusableElement(){return this.eWrapper}setPickerGap(e){return this.pickerGap=e,this}setPickerMinWidth(e){return typeof e=="number"&&(e=`${e}px`),this.minPickerWidth=e??void 0,this}setPickerMaxWidth(e){return typeof e=="number"&&(e=`${e}px`),this.maxPickerWidth=e??void 0,this}setPickerMaxHeight(e){return typeof e=="number"&&(e=`${e}px`),this.maxPickerHeight=e??void 0,this}destroy(){this.hidePicker(),super.destroy()}},ece=".ag-select{align-items:center;display:flex;&.ag-disabled{opacity:.5}}:where(.ag-select){.ag-picker-field-wrapper{cursor:default}&.ag-disabled .ag-picker-field-wrapper:focus{box-shadow:none}&:not(.ag-cell-editor,.ag-label-align-top){min-height:var(--ag-list-item-height)}.ag-picker-field-display{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.ag-picker-field-icon{align-items:center;display:flex}}:where(.ag-ltr) :where(.ag-select){.ag-picker-field-wrapper{padding-left:calc(var(--ag-cell-horizontal-padding)/2);padding-right:var(--ag-spacing)}}:where(.ag-rtl) :where(.ag-select){.ag-picker-field-wrapper{padding-left:var(--ag-spacing);padding-right:calc(var(--ag-cell-horizontal-padding)/2)}}",FL=class extends Jle{constructor(e){super({pickerAriaLabelKey:"ariaLabelSelectField",pickerAriaLabelValue:"Select Field",pickerType:"ag-list",className:"ag-select",pickerIcon:"selectOpen",ariaRole:"combobox",...e}),this.registerCSS(ece)}postConstruct(){this.tooltipFeature=this.createOptionalManagedBean(this.beans.registry.createDynamicBean("tooltipFeature",!1,{shouldDisplayTooltip:Ow(()=>this.eDisplayField),getGui:()=>this.getGui()})),super.postConstruct(),this.createListComponent(),this.eWrapper.tabIndex=this.gos.get("tabIndex");const{options:e,value:t,placeholder:i}=this.config;e!=null&&this.addOptions(e),t!=null&&this.setValue(t,!0),i&&t==null&&(this.eDisplayField.textContent=i),this.addManagedElementListeners(this.eWrapper,{focusout:this.onWrapperFocusOut.bind(this)})}onWrapperFocusOut(e){this.eWrapper.contains(e.relatedTarget)||this.hidePicker()}createListComponent(){const e=this.createBean(new Xle("select",!0));this.listComponent=e,e.setParentComponent(this);const t=e.getAriaElement(),i=`ag-select-list-${e.getCompId()}`;t.setAttribute("id",i),Vse(this.getAriaElement(),t),e.addManagedElementListeners(e.getGui(),{mousedown:n=>{n==null||n.preventDefault()}}),e.addManagedListeners(e,{selectedItem:()=>{this.hidePicker(),this.dispatchLocalEvent({type:"selectedItem"})},fieldValueChanged:()=>{this.listComponent&&(this.setValue(this.listComponent.getValue(),!1,!0),this.hidePicker())}})}createPickerComponent(){return this.listComponent}onKeyDown(e){var i;const{key:t}=e;switch(t===ge.TAB&&this.hidePicker(),t){case ge.ENTER:case ge.UP:case ge.DOWN:case ge.PAGE_UP:case ge.PAGE_DOWN:case ge.PAGE_HOME:case ge.PAGE_END:e.preventDefault(),this.isPickerDisplayed?(i=this.listComponent)==null||i.handleKeyDown(e):super.onKeyDown(e);break;case ge.ESCAPE:super.onKeyDown(e);break;case ge.SPACE:this.isPickerDisplayed?e.preventDefault():super.onKeyDown(e);break}}showPicker(){const e=this.listComponent;e&&(super.showPicker(),e.refreshHighlighted())}addOptions(e){return e.forEach(t=>this.addOption(t)),this}addOption(e){return this.listComponent.addOption(e),this}clearOptions(){var e;return(e=this.listComponent)==null||e.clearOptions(),this}setValue(e,t,i){const{listComponent:n,config:{placeholder:s},eDisplayField:r,tooltipFeature:o}=this;if(this.value===e||!n)return this;if(i||n.setValue(e,!0),n.getValue()===this.getValue())return this;let l=n.getDisplayValue();return l==null&&s&&(l=s),r.textContent=l,o==null||o.setTooltipAndRefresh(l??null),super.setValue(e,t)}destroy(){this.listComponent=this.destroyBean(this.listComponent),super.destroy()}},tce={selector:"AG-SELECT",component:FL},Uf={TAB_GUARD:"ag-tab-guard",TAB_GUARD_TOP:"ag-tab-guard-top",TAB_GUARD_BOTTOM:"ag-tab-guard-bottom"},tV=class extends ye{constructor(e){super(),this.skipTabGuardFocus=!1,this.forcingFocusOut=!1,this.allowFocus=!1;const{comp:t,eTopGuard:i,eBottomGuard:n,focusTrapActive:s,forceFocusOutWhenTabGuardsAreEmpty:r,isFocusableContainer:o,focusInnerElement:a,onFocusIn:l,onFocusOut:u,shouldStopEventPropagation:d,onTabKeyDown:p,handleKeyDown:f,isEmpty:m,eFocusableElement:y}=e;this.comp=t,this.eTopGuard=i,this.eBottomGuard=n,this.providedFocusInnerElement=a,this.eFocusableElement=y,this.focusTrapActive=!!s,this.forceFocusOutWhenTabGuardsAreEmpty=!!r,this.isFocusableContainer=!!o,this.providedFocusIn=l,this.providedFocusOut=u,this.providedShouldStopEventPropagation=d,this.providedOnTabKeyDown=p,this.providedHandleKeyDown=f,this.providedIsEmpty=m}postConstruct(){this.createManagedBean(new _g(this.eFocusableElement,{shouldStopEventPropagation:()=>this.shouldStopEventPropagation(),onTabKeyDown:e=>this.onTabKeyDown(e),handleKeyDown:e=>this.handleKeyDown(e),onFocusIn:e=>this.onFocusIn(e),onFocusOut:e=>this.onFocusOut(e)})),this.activateTabGuards(),[this.eTopGuard,this.eBottomGuard].forEach(e=>this.addManagedElementListeners(e,{focus:this.onFocus.bind(this)}))}handleKeyDown(e){this.providedHandleKeyDown&&this.providedHandleKeyDown(e)}tabGuardsAreActive(){return!!this.eTopGuard&&this.eTopGuard.hasAttribute("tabIndex")}shouldStopEventPropagation(){return this.providedShouldStopEventPropagation?this.providedShouldStopEventPropagation():!1}activateTabGuards(){if(this.forcingFocusOut)return;const e=this.gos.get("tabIndex");this.comp.setTabIndex(e.toString())}deactivateTabGuards(){this.comp.setTabIndex()}onFocus(e){if(this.isFocusableContainer&&!this.eFocusableElement.contains(e.relatedTarget)&&!this.allowFocus){this.findNextElementOutsideAndFocus(e.target===this.eBottomGuard);return}if(this.skipTabGuardFocus){this.skipTabGuardFocus=!1;return}if(this.forceFocusOutWhenTabGuardsAreEmpty&&(this.providedIsEmpty?this.providedIsEmpty():Wf(this.eFocusableElement,".ag-tab-guard").length===0)){this.findNextElementOutsideAndFocus(e.target===this.eBottomGuard);return}if(this.isFocusableContainer&&this.eFocusableElement.contains(e.relatedTarget))return;const t=e.target===this.eBottomGuard;!(this.providedFocusInnerElement?this.providedFocusInnerElement(t):this.focusInnerElement(t))&&this.forceFocusOutWhenTabGuardsAreEmpty&&this.findNextElementOutsideAndFocus(e.target===this.eBottomGuard)}findNextElementOutsideAndFocus(e){var l;const t=An(this.beans),i=Wf(t.body,null,!0),n=i.indexOf(e?this.eTopGuard:this.eBottomGuard);if(n===-1)return;let s,r;e?(s=0,r=n):(s=n+1,r=i.length);const o=i.slice(s,r),a=this.gos.get("tabIndex");o.sort((u,d)=>{const p=parseInt(u.getAttribute("tabindex")||"0"),f=parseInt(d.getAttribute("tabindex")||"0");return f===a?1:p===a?-1:p===0?1:f===0?-1:p-f}),(l=o[e?o.length-1:0])==null||l.focus()}onFocusIn(e){this.focusTrapActive||this.forcingFocusOut||(this.providedFocusIn&&this.providedFocusIn(e),this.isFocusableContainer||this.deactivateTabGuards())}onFocusOut(e){this.focusTrapActive||(this.providedFocusOut&&this.providedFocusOut(e),this.eFocusableElement.contains(e.relatedTarget)||this.activateTabGuards())}onTabKeyDown(e){if(this.providedOnTabKeyDown){this.providedOnTabKeyDown(e);return}if(this.focusTrapActive||e.defaultPrevented)return;const t=this.tabGuardsAreActive();t&&this.deactivateTabGuards();const i=this.getNextFocusableElement(e.shiftKey);t&&setTimeout(()=>this.activateTabGuards(),0),i&&(i.focus(),e.preventDefault())}focusInnerElement(e=!1){const t=Wf(this.eFocusableElement);return this.tabGuardsAreActive()&&(t.splice(0,1),t.splice(t.length-1,1)),t.length?(t[e?t.length-1:0].focus({preventScroll:!0}),!0):!1}getNextFocusableElement(e){return Cp(this.beans,this.eFocusableElement,!1,e)}forceFocusOutOfContainer(e=!1){if(this.forcingFocusOut)return;const t=e?this.eTopGuard:this.eBottomGuard;this.activateTabGuards(),this.skipTabGuardFocus=!0,this.forcingFocusOut=!0,t.focus(),window.setTimeout(()=>{this.forcingFocusOut=!1,this.activateTabGuards()})}isTabGuard(e,t){return e===this.eTopGuard&&!t||e===this.eBottomGuard&&(t??!0)}setAllowFocus(e){this.allowFocus=e}},ice=class extends ye{constructor(e){super(),this.comp=e}initialiseTabGuard(e){this.eTopGuard=this.createTabGuard("top"),this.eBottomGuard=this.createTabGuard("bottom"),this.eFocusableElement=this.comp.getFocusableElement();const{eTopGuard:t,eBottomGuard:i,eFocusableElement:n}=this,s=[t,i],r={setTabIndex:w=>{s.forEach(b=>w!=null?b.setAttribute("tabindex",w):b.removeAttribute("tabindex"))}};this.addTabGuards(t,i);const{focusTrapActive:o=!1,onFocusIn:a,onFocusOut:l,focusInnerElement:u,handleKeyDown:d,onTabKeyDown:p,shouldStopEventPropagation:f,isEmpty:m,forceFocusOutWhenTabGuardsAreEmpty:y,isFocusableContainer:C}=e;this.tabGuardCtrl=this.createManagedBean(new tV({comp:r,focusTrapActive:o,eTopGuard:t,eBottomGuard:i,eFocusableElement:n,onFocusIn:a,onFocusOut:l,focusInnerElement:u,handleKeyDown:d,onTabKeyDown:p,shouldStopEventPropagation:f,isEmpty:m,forceFocusOutWhenTabGuardsAreEmpty:y,isFocusableContainer:C}))}getTabGuardCtrl(){return this.tabGuardCtrl}createTabGuard(e){const t=An(this.beans).createElement("div"),i=e==="top"?Uf.TAB_GUARD_TOP:Uf.TAB_GUARD_BOTTOM;return t.classList.add(Uf.TAB_GUARD,i),La(t,"presentation"),t}addTabGuards(e,t){const i=this.eFocusableElement;i.insertAdjacentElement("afterbegin",e),i.insertAdjacentElement("beforeend",t)}removeAllChildrenExceptTabGuards(){const e=[this.eTopGuard,this.eBottomGuard];no(this.comp.getFocusableElement()),this.addTabGuards(...e)}forceFocusOutOfContainer(e=!1){this.tabGuardCtrl.forceFocusOutOfContainer(e)}appendChild(e,t,i){gL(t)||(t=t.getGui());const{eBottomGuard:n}=this;n?n.insertAdjacentElement("beforebegin",t):e(t,i)}destroy(){const{eFocusableElement:e,eTopGuard:t,eBottomGuard:i}=this;e.removeChild(t),e.removeChild(i),super.destroy()}},nce=class extends Xi{initialiseTabGuard(t){this.tabGuardFeature=this.createManagedBean(new ice(this)),this.tabGuardFeature.initialiseTabGuard(t)}forceFocusOutOfContainer(t=!1){this.tabGuardFeature.forceFocusOutOfContainer(t)}appendChild(t,i){this.tabGuardFeature.appendChild(super.appendChild.bind(this),t,i)}},jg=class extends Xi{isPopup(){return!0}setParentComponent(e){e.addCssClass("ag-has-popup"),super.setParentComponent(e)}destroy(){const e=this.parentComponent;e&&e.isAlive()&&e.getGui().classList.remove("ag-has-popup"),super.destroy()}},xf=class{constructor(e,t=!1){this.DOUBLE_TAP_MILLIS=500,this.destroyFuncs=[],this.touching=!1,this.localEventService=new Xh,this.preventMouseClick=t;const i=this.onTouchStart.bind(this),n=this.onTouchMove.bind(this),s=this.onTouchEnd.bind(this);e.addEventListener("touchstart",i,{passive:!0}),e.addEventListener("touchmove",n,{passive:!0}),e.addEventListener("touchend",s,{passive:!1}),this.destroyFuncs.push(()=>{e.removeEventListener("touchstart",i,{passive:!0}),e.removeEventListener("touchmove",n,{passive:!0}),e.removeEventListener("touchend",s,{passive:!1})})}getActiveTouch(e){for(let t=0;t<e.length;t++)if(e[t].identifier===this.touchStart.identifier)return e[t];return null}addEventListener(e,t){this.localEventService.addEventListener(e,t)}removeEventListener(e,t){this.localEventService.removeEventListener(e,t)}onTouchStart(e){if(this.touching)return;this.touchStart=e.touches[0],this.touching=!0,this.moved=!1;const t=this.touchStart;window.setTimeout(()=>{const i=this.touchStart===t;if(this.touching&&i&&!this.moved){this.moved=!0;const n={type:"longTap",touchStart:this.touchStart,touchEvent:e};this.localEventService.dispatchEvent(n)}},500)}onTouchMove(e){if(!this.touching)return;const t=this.getActiveTouch(e.touches);if(!t)return;!Nj(t,this.touchStart,4)&&(this.moved=!0)}onTouchEnd(e){if(this.touching){if(!this.moved){const t={type:"tap",touchStart:this.touchStart};this.localEventService.dispatchEvent(t),this.checkForDoubleTap()}this.preventMouseClick&&e.cancelable&&e.preventDefault(),this.touching=!1}}checkForDoubleTap(){const e=new Date().getTime();if(this.lastTapTime&&this.lastTapTime>0)if(e-this.lastTapTime>this.DOUBLE_TAP_MILLIS){const i={type:"doubleTap",touchStart:this.touchStart};this.localEventService.dispatchEvent(i),this.lastTapTime=null}else this.lastTapTime=e;else this.lastTapTime=e}destroy(){this.destroyFuncs.forEach(e=>e())}},iV=class{constructor(e="javascript"){this.frameworkName=e,this.renderingEngine="vanilla",this.wrapIncoming=t=>t(),this.wrapOutgoing=t=>t(),this.baseDocLink=`${K_}/${this.frameworkName}-data-grid`,tre(this.baseDocLink)}setInterval(e,t){return new $i(i=>{i(window.setInterval(e,t))})}addEventListener(e,t,i,n){let s={};if(typeof n=="object"?s=n:typeof n=="boolean"&&(s={capture:n}),s.passive==null){const r=uj(t);r!=null&&(s.passive=r)}e.addEventListener(t,i,s)}frameworkComponent(e){return null}isFrameworkComponent(e){return!1}getDocLink(e){return`${this.baseDocLink}${e?`/${e}`:""}`}};function sce(e){return{beanName:"gridApi",bean:e.getBean("apiFunctionSvc").api}}var rce=["licenseManager","environment","eventSvc","gos","paginationAutoPageSizeSvc","apiFunctionSvc","gridApi","registry","agCompUtils","userCompFactory","rowContainerHeight","horizontalResizeSvc","localeSvc","pinnedRowModel","dragSvc","colGroupSvc","visibleCols","popupSvc","selectionSvc","colFilter","quickFilter","filterManager","colModel","headerNavigation","pageBounds","pagination","rowSpanSvc","pageBoundsListener","stickyRowSvc","rowRenderer","expressionSvc","alignedGridsSvc","navigation","valueCache","valueSvc","autoWidthCalc","filterMenuFactory","dragAndDrop","focusSvc","cellNavigation","cellStyles","scrollVisibleSvc","sortSvc","colHover","colAnimation","autoColSvc","selectionColSvc","changeDetectionSvc","animationFrameSvc","undoRedo","colDefFactory","rowStyleSvc","rowNodeBlockLoader","rowNodeSorter","ctrlsSvc","pinnedCols","dataTypeSvc","syncSvc","overlays","stateSvc","expansionSvc","apiEventSvc","ariaAnnounce","menuSvc","colMoves","colAutosize","colFlex","colResize","pivotColsSvc","valueColsSvc","rowGroupColsSvc","funcColsSvc","colNames","colViewport","pivotResultCols","showRowGroupCols","validation"],$B=Object.fromEntries(rce.map((e,t)=>[e,t]));function oce(e,t){const i=(e.beanName?$B[e.beanName]:void 0)??Number.MAX_SAFE_INTEGER,n=(t.beanName?$B[t.beanName]:void 0)??Number.MAX_SAFE_INTEGER;return i-n}function ace(e,t){return(e==null?void 0:e.beanName)==="gridDestroySvc"?-1:0}var lce=class extends ye{constructor(){super(...arguments),this.additionalFocusableContainers=new Set}setComp(e,t,i){this.view=e,this.eGridHostDiv=t,this.eGui=i,this.eGui.setAttribute("grid-id",this.beans.context.getGridId());const{dragAndDrop:n,ctrlsSvc:s}=this.beans;n==null||n.registerGridDropTarget(()=>this.eGui,this),Fj(this.gos,t),this.createManagedBean(new ML(this.view)),this.view.setRtlClass(this.gos.get("enableRtl")?"ag-rtl":"ag-ltr");const r=zc(this.beans,this.eGridHostDiv,this.onGridSizeChanged.bind(this));this.addDestroyFunc(()=>r()),s.register("gridCtrl",this)}isDetailGrid(){var t;const e=Lj(this.getGui());return((t=e==null?void 0:e.getAttribute("row-id"))==null?void 0:t.startsWith("detail"))||!1}getOptionalSelectors(){var t,i,n,s;const e=this.beans;return{paginationSelector:(t=e.pagination)==null?void 0:t.getPaginationSelector(),gridHeaderDropZonesSelector:e.registry.getSelector("AG-GRID-HEADER-DROP-ZONES"),sideBarSelector:(i=e.sideBar)==null?void 0:i.getSelector(),statusBarSelector:(n=e.registry)==null?void 0:n.getSelector("AG-STATUS-BAR"),watermarkSelector:(s=e.licenseManager)==null?void 0:s.getWatermarkSelector()}}onGridSizeChanged(){this.eventSvc.dispatchEvent({type:"gridSizeChanged",clientWidth:this.eGridHostDiv.clientWidth,clientHeight:this.eGridHostDiv.clientHeight})}destroyGridUi(){this.view.destroyGridUi()}getGui(){return this.eGui}setResizeCursor(e){this.view.setCursor(e?"ew-resize":null)}disableUserSelect(e){this.view.setUserSelect(e?"none":null)}focusNextInnerContainer(e){const t=this.getFocusableContainers(),{indexWithFocus:i,nextIndex:n}=this.getNextFocusableIndex(t,e);if(n<0||n>=t.length)return!1;if(n===0){if(i>0){const{visibleCols:s,focusSvc:r}=this.beans,o=s.allCols,a=bi(o);if(r.focusGridView({column:a,backwards:!0}))return!0}return!1}return this.focusContainer(t[n],e)}focusInnerElement(e){const t=this.gos.getCallback("focusGridInnerElement");if(t&&t({fromBottom:!!e}))return!0;const i=this.getFocusableContainers(),{focusSvc:n,visibleCols:s}=this.beans,r=s.allCols;if(e){if(i.length>1)return this.focusContainer(bi(i),e);const o=bi(r);if(n.focusGridView({column:o,backwards:e}))return!0}if(this.gos.get("headerHeight")===0||Gh(this.beans)){if(n.focusGridView({column:r[0],backwards:e}))return!0;for(let o=1;o<i.length;o++)if(tp(i[o].getGui(),e))return!0;return!1}return n.focusFirstHeader()}forceFocusOutOfContainer(e=!1){this.view.forceFocusOutOfContainer(e)}addFocusableContainer(e){this.additionalFocusableContainers.add(e)}removeFocusableContainer(e){this.additionalFocusableContainers.delete(e)}allowFocusForNextCoreContainer(e){var r;const t=this.view.getFocusableContainers(),{nextIndex:i,indexWithFocus:n}=this.getNextFocusableIndex(t,e);if(n===-1||i<0||i>=t.length)return;const s=t[i];(r=s.setAllowFocus)==null||r.call(s,!0),setTimeout(()=>{var o;(o=s.setAllowFocus)==null||o.call(s,!1)})}isFocusable(){var t,i;const e=this.beans;return!Zx(e)||!Gh(e)||!!((i=(t=e.sideBar)==null?void 0:t.comp)!=null&&i.isDisplayed())}getNextFocusableIndex(e,t){const i=yn(this.beans),n=e.findIndex(r=>r.getGui().contains(i)),s=n+(t?-1:1);return{indexWithFocus:n,nextIndex:s}}focusContainer(e,t){var n,s;(n=e.setAllowFocus)==null||n.call(e,!0);const i=tp(e.getGui(),t,!1,!0);return(s=e.setAllowFocus)==null||s.call(e,!1),i}getFocusableContainers(){return[...this.view.getFocusableContainers(),...this.additionalFocusableContainers]}destroy(){this.additionalFocusableContainers.clear(),super.destroy()}},wt=(e,t)=>{for(const i of Object.keys(t))t[i]=e;return t},YB={dispatchEvent:"CommunityCore",...wt("CommunityCore",{destroy:0,getGridId:0,getGridOption:0,isDestroyed:0,setGridOption:0,updateGridOptions:0}),...wt("GridState",{getState:0}),...wt("SharedRowSelection",{setNodesSelected:0,selectAll:0,deselectAll:0,selectAllFiltered:0,deselectAllFiltered:0,selectAllOnCurrentPage:0,deselectAllOnCurrentPage:0,getSelectedNodes:0,getSelectedRows:0}),...wt("RowApi",{redrawRows:0,setRowNodeExpanded:0,getRowNode:0,addRenderedRowListener:0,getRenderedNodes:0,forEachNode:0,getFirstDisplayedRowIndex:0,getLastDisplayedRowIndex:0,getDisplayedRowAtIndex:0,getDisplayedRowCount:0}),...wt("ScrollApi",{getVerticalPixelRange:0,getHorizontalPixelRange:0,ensureColumnVisible:0,ensureIndexVisible:0,ensureNodeVisible:0}),...wt("KeyboardNavigation",{getFocusedCell:0,clearFocusedCell:0,setFocusedCell:0,tabToNextCell:0,tabToPreviousCell:0,setFocusedHeader:0}),...wt("EventApi",{addEventListener:0,addGlobalListener:0,removeEventListener:0,removeGlobalListener:0}),...wt("ValueCache",{expireValueCache:0}),...wt("CellApi",{getCellValue:0}),...wt("SharedMenu",{showColumnMenu:0,hidePopupMenu:0}),...wt("Sort",{onSortChanged:0}),...wt("PinnedRow",{getPinnedTopRowCount:0,getPinnedBottomRowCount:0,getPinnedTopRow:0,getPinnedBottomRow:0}),...wt("Overlay",{showLoadingOverlay:0,showNoRowsOverlay:0,hideOverlay:0}),...wt("RenderApi",{setGridAriaProperty:0,refreshCells:0,refreshHeader:0,isAnimationFrameQueueEmpty:0,flushAllAnimationFrames:0,getSizesForCurrentTheme:0,getCellRendererInstances:0}),...wt("HighlightChanges",{flashCells:0}),...wt("RowDrag",{addRowDropZone:0,removeRowDropZone:0,getRowDropZoneParams:0}),...wt("ColumnApi",{getColumnDefs:0,getColumnDef:0,getDisplayNameForColumn:0,getColumn:0,getColumns:0,applyColumnState:0,getColumnState:0,resetColumnState:0,isPinning:0,isPinningLeft:0,isPinningRight:0,getDisplayedColAfter:0,getDisplayedColBefore:0,setColumnsVisible:0,setColumnsPinned:0,getAllGridColumns:0,getDisplayedLeftColumns:0,getDisplayedCenterColumns:0,getDisplayedRightColumns:0,getAllDisplayedColumns:0,getAllDisplayedVirtualColumns:0}),...wt("ColumnAutoSize",{sizeColumnsToFit:0,autoSizeColumns:0,autoSizeAllColumns:0}),...wt("ColumnGroup",{setColumnGroupOpened:0,getColumnGroup:0,getProvidedColumnGroup:0,getDisplayNameForColumnGroup:0,getColumnGroupState:0,setColumnGroupState:0,resetColumnGroupState:0,getLeftDisplayedColumnGroups:0,getCenterDisplayedColumnGroups:0,getRightDisplayedColumnGroups:0,getAllDisplayedColumnGroups:0}),...wt("ColumnMove",{moveColumnByIndex:0,moveColumns:0}),...wt("ColumnResize",{setColumnWidths:0}),...wt("ColumnHover",{isColumnHovered:0}),...wt("EditCore",{getCellEditorInstances:0,getEditingCells:0,stopEditing:0,startEditingCell:0}),...wt("UndoRedoEdit",{undoCellEditing:0,redoCellEditing:0,getCurrentUndoSize:0,getCurrentRedoSize:0}),...wt("FilterCore",{isAnyFilterPresent:0,onFilterChanged:0}),...wt("ColumnFilter",{isColumnFilterPresent:0,getColumnFilterInstance:0,destroyFilter:0,setFilterModel:0,getFilterModel:0,getColumnFilterModel:0,setColumnFilterModel:0,showColumnFilter:0}),...wt("QuickFilter",{isQuickFilterPresent:0,getQuickFilter:0,resetQuickFilter:0}),...wt("Pagination",{paginationIsLastPageFound:0,paginationGetPageSize:0,paginationGetCurrentPage:0,paginationGetTotalPages:0,paginationGetRowCount:0,paginationGoToNextPage:0,paginationGoToPreviousPage:0,paginationGoToFirstPage:0,paginationGoToLastPage:0,paginationGoToPage:0}),...wt("CsrmSsrmSharedApi",{expandAll:0,collapseAll:0,onRowHeightChanged:0}),...wt("SsrmInfiniteSharedApi",{setRowCount:0,getCacheBlockState:0,isLastRowIndexKnown:0}),...wt("ClientSideRowModelApi",{onGroupExpandedOrCollapsed:0,refreshClientSideRowModel:0,isRowDataEmpty:0,forEachLeafNode:0,forEachNodeAfterFilter:0,forEachNodeAfterFilterAndSort:0,resetRowHeights:0,applyTransaction:0,applyTransactionAsync:0,flushAsyncTransactions:0,getBestCostNodeSelection:0}),...wt("CsvExport",{getDataAsCsv:0,exportDataAsCsv:0}),...wt("InfiniteRowModel",{refreshInfiniteCache:0,purgeInfiniteCache:0,getInfiniteRowCount:0}),...wt("AdvancedFilter",{getAdvancedFilterModel:0,setAdvancedFilterModel:0,showAdvancedFilterBuilder:0,hideAdvancedFilterBuilder:0}),...wt("IntegratedCharts",{getChartModels:0,getChartRef:0,getChartImageDataURL:0,downloadChart:0,openChartToolPanel:0,closeChartToolPanel:0,createRangeChart:0,createPivotChart:0,createCrossFilterChart:0,updateChart:0,restoreChart:0}),...wt("Clipboard",{copyToClipboard:0,cutToClipboard:0,copySelectedRowsToClipboard:0,copySelectedRangeToClipboard:0,copySelectedRangeDown:0,pasteFromClipboard:0}),...wt("ExcelExport",{getDataAsExcel:0,exportDataAsExcel:0,getSheetDataForExcel:0,getMultipleSheetsAsExcel:0,exportMultipleSheetsAsExcel:0}),...wt("SharedMasterDetail",{addDetailGridInfo:0,removeDetailGridInfo:0,getDetailGridInfo:0,forEachDetailGridInfo:0}),...wt("ContextMenu",{showContextMenu:0}),...wt("ColumnMenu",{showColumnChooser:0,hideColumnChooser:0}),...wt("CellSelection",{getCellRanges:0,addCellRange:0,clearRangeSelection:0,clearCellSelection:0}),...wt("SharedRowGrouping",{setRowGroupColumns:0,removeRowGroupColumns:0,addRowGroupColumns:0,getRowGroupColumns:0,moveRowGroupColumn:0}),...wt("SharedAggregation",{addAggFuncs:0,clearAggFuncs:0,setColumnAggFunc:0}),...wt("SharedPivot",{isPivotMode:0,getPivotResultColumn:0,setValueColumns:0,getValueColumns:0,removeValueColumns:0,addValueColumns:0,setPivotColumns:0,removePivotColumns:0,addPivotColumns:0,getPivotColumns:0,setPivotResultColumns:0,getPivotResultColumns:0}),...wt("ServerSideRowModelApi",{getServerSideSelectionState:0,setServerSideSelectionState:0,applyServerSideTransaction:0,applyServerSideTransactionAsync:0,applyServerSideRowData:0,retryServerSideLoads:0,flushServerSideAsyncTransactions:0,refreshServerSide:0,getServerSideGroupLevelState:0}),...wt("SideBar",{isSideBarVisible:0,setSideBarVisible:0,setSideBarPosition:0,openToolPanel:0,closeToolPanel:0,getOpenedToolPanel:0,refreshToolPanel:0,isToolPanelShowing:0,getToolPanelInstance:0,getSideBar:0}),...wt("StatusBar",{getStatusPanel:0})},s1={isDestroyed:()=>!0,destroy(){},preConstruct(){},postConstruct(){},preWireBeans(){},wireBeans(){}},cce=(e,t)=>e.eventSvc.dispatchEvent(t),nV=class{};Reflect.defineProperty(nV,"name",{value:"GridApi"});var uce=class extends ye{constructor(){super(),this.beanName="apiFunctionSvc",this.api=new nV,this.fns={...s1,dispatchEvent:cce},this.preDestroyLink="";const{api:e}=this;for(const t of Object.keys(YB))e[t]=this.makeApi(t)[t]}postConstruct(){this.preDestroyLink=this.beans.frameworkOverrides.getDocLink("grid-lifecycle/#grid-pre-destroyed")}addFunction(e,t){var s;const{fns:i,beans:n}=this;i!==s1&&(i[e]=((s=n==null?void 0:n.validation)==null?void 0:s.validateApiFunction(e,t))??t)}makeApi(e){return{[e]:(...t)=>{const{beans:i,fns:{[e]:n}}=this;return n?n(i,...t):this.apiNotFound(e)}}}apiNotFound(e){const{beans:t,gos:i,preDestroyLink:n}=this;if(!t)Ae(26,{fnName:e,preDestroyLink:n});else{const s=YB[e];i.assertModuleRegistered(s,`api.${e}`)&&Ae(27,{fnName:e,module:s})}}destroy(){super.destroy(),this.fns=s1,this.beans=null}};function dce(e){return e.context.getGridId()}function hce(e){e.gridDestroySvc.destroy()}function pce(e){return e.gridDestroySvc.destroyCalled}function fce(e,t){return e.gos.get(t)}function gce(e,t,i){sV(e,{[t]:i})}function sV(e,t){e.gos.updateGridOptions({options:t})}var mce=class extends Xi{constructor(e,t,i){super('<div class="ag-drag-handle ag-row-drag" draggable="true"></div>'),this.rowNode=e,this.column=t,this.eCell=i}postConstruct(){this.getGui().appendChild(_o("rowDrag",this.beans,null)),this.addGuiEventListener("mousedown",t=>{t.stopPropagation()}),this.addDragSource(),this.checkVisibility()}addDragSource(){this.addGuiEventListener("dragstart",this.onDragStart.bind(this))}onDragStart(e){const{rowNode:t,column:i,eCell:n,gos:s}=this,r=i.getColDef().dndSourceOnRowDrag,o=e.dataTransfer;if(o.setDragImage(n,0,0),r){const a=ut(s,{rowNode:t,dragEvent:e});r(a)}else try{const a=JSON.stringify(t.data);o.setData("application/json",a),o.setData("text/plain",a)}catch{}}checkVisibility(){const e=this.column.isDndSource(this.rowNode);this.setDisplayed(e)}};function yce(e,t){var i,n;(n=(i=e.rowDragSvc)==null?void 0:i.rowDragFeature)==null||n.addRowDropZone(t)}function vce(e,t){var n,s;const i=(n=e.dragAndDrop)==null?void 0:n.findExternalZone(t);i&&((s=e.dragAndDrop)==null||s.removeDropTarget(i))}function Cce(e,t){var i,n;return(n=(i=e.rowDragSvc)==null?void 0:i.rowDragFeature)==null?void 0:n.getRowDropZone(t)}var bce=class extends ye{constructor(){super(...arguments),this.beanName="horizontalResizeSvc"}addResizeBar(e){const t={dragStartPixels:e.dragStartPixels||0,eElement:e.eResizeBar,onDragStart:this.onDragStart.bind(this,e),onDragStop:this.onDragStop.bind(this,e),onDragging:this.onDragging.bind(this,e),onDragCancel:this.onDragStop.bind(this,e),includeTouch:!0,stopPropagationForTouch:!0},{dragSvc:i}=this.beans;return i.addDragSource(t),()=>i.removeDragSource(t)}onDragStart(e,t){this.dragStartX=t.clientX,this.setResizeIcons();const i=t instanceof MouseEvent&&t.shiftKey===!0;e.onResizeStart(i)}setResizeIcons(){const e=this.beans.ctrlsSvc.get("gridCtrl");e.setResizeCursor(!0),e.disableUserSelect(!0)}onDragStop(e){e.onResizeEnd(this.resizeAmount),this.resetIcons()}resetIcons(){const e=this.beans.ctrlsSvc.get("gridCtrl");e.setResizeCursor(!1),e.disableUserSelect(!1)}onDragging(e,t){this.resizeAmount=t.clientX-this.dragStartX,e.onResizing(this.resizeAmount)}},wce=class extends Xi{constructor(e,t,i,n,s,r){super(),this.cellValueFn=e,this.rowNode=t,this.column=i,this.customGui=n,this.dragStartPixels=s,this.suppressVisibilityChange=r,this.dragSource=null}isCustomGui(){return this.customGui!=null}postConstruct(){const{beans:e,rowNode:t,column:i,gos:n}=this;if(this.customGui?this.setDragElement(this.customGui,this.dragStartPixels):(this.setTemplate('<div class="ag-drag-handle ag-row-drag" aria-hidden="true"></div>'),this.getGui().appendChild(_o("rowDrag",e,null)),this.addDragSource()),!this.suppressVisibilityChange){const s=n.get("rowDragManaged")?new xce(this,t,i):new Sce(this,t,i);this.createManagedBean(s,this.beans.context)}}setDragElement(e,t){this.setTemplateFromElement(e,void 0,void 0,!0),this.addDragSource(t)}getSelectedNodes(){var n;const e=this.rowNode;if(!this.gos.get("rowDragMultiRow"))return[e];const i=((n=this.beans.selectionSvc)==null?void 0:n.getSelectedNodes())??[];return i.indexOf(e)!==-1?i:[e]}getDragItem(){const{column:e,rowNode:t}=this;return{rowNode:t,rowNodes:this.getSelectedNodes(),columns:e?[e]:void 0,defaultTextValue:this.cellValueFn()}}getRowDragText(e){if(e){const t=e.getColDef();if(t.rowDragText)return t.rowDragText}return this.gos.get("rowDragText")}addDragSource(e=4){this.dragSource&&this.removeDragSource();const t=this.getGui();this.gos.get("enableCellTextSelection")&&(this.removeMouseDownListener(),this.mouseDownListener=this.addManagedElementListeners(t,{mousedown:n=>{n==null||n.preventDefault()}})[0]);const i=this.getLocaleTextFunc();this.dragSource={type:2,eElement:t,dragItemName:()=>{var o;const n=this.getDragItem(),s=((o=n.rowNodes)==null?void 0:o.length)||1,r=this.getRowDragText(this.column);return r?r(n,s):s===1?this.cellValueFn():`${s} ${i("rowDragRows","rows")}`},getDragItem:()=>this.getDragItem(),dragStartPixels:e,dragSourceDomDataKey:this.gos.getDomDataKey()},this.beans.dragAndDrop.addDragSource(this.dragSource,!0)}destroy(){this.removeDragSource(),this.removeMouseDownListener(),super.destroy()}removeDragSource(){this.dragSource&&(this.beans.dragAndDrop.removeDragSource(this.dragSource),this.dragSource=null)}removeMouseDownListener(){this.mouseDownListener&&(this.mouseDownListener(),this.mouseDownListener=void 0)}},rV=class extends ye{constructor(e,t,i){super(),this.parent=e,this.rowNode=t,this.column=i}setDisplayedOrVisible(e){const t={skipAriaHidden:!0};if(e)this.parent.setDisplayed(!1,t);else{let i=!0,n=!1;const{column:s,rowNode:r,parent:o}=this;s&&(i=s.isRowDrag(r)||o.isCustomGui(),n=typeof s.getColDef().rowDrag=="function"),n?(o.setDisplayed(!0,t),o.setVisible(i,t)):(o.setDisplayed(i,t),o.setVisible(!0,t))}}},Sce=class extends rV{postConstruct(){this.addManagedPropertyListener("suppressRowDrag",this.onSuppressRowDrag.bind(this));const e=this.workOutVisibility.bind(this);this.addManagedListeners(this.rowNode,{dataChanged:e,cellChanged:e}),this.addManagedListeners(this.beans.eventSvc,{newColumnsLoaded:e}),this.workOutVisibility()}onSuppressRowDrag(){this.workOutVisibility()}workOutVisibility(){const e=this.gos.get("suppressRowDrag");this.setDisplayedOrVisible(e)}},xce=class extends rV{postConstruct(){const e=this.workOutVisibility.bind(this);this.addManagedListeners(this.beans.eventSvc,{sortChanged:e,filterChanged:e,columnRowGroupChanged:e,newColumnsLoaded:e}),this.addManagedListeners(this.rowNode,{dataChanged:e,cellChanged:e}),this.addManagedPropertyListener("suppressRowDrag",this.onSuppressRowDrag.bind(this)),this.workOutVisibility()}onSuppressRowDrag(){this.workOutVisibility()}workOutVisibility(){const{rowDragSvc:e,dragAndDrop:t,gos:i}=this.beans,n=e.rowDragFeature,s=n&&n.shouldPreventRowMove(),r=i.get("suppressRowDrag"),o=t.hasExternalDropZones(),a=s&&!o||r;this.setDisplayedOrVisible(a)}},Mce=class extends ye{constructor(){super(...arguments),this.beanName="rowDragSvc"}setupRowDrag(e,t){const i=t.createManagedBean(new Iae(e)),n=this.beans.dragAndDrop;n.addDropTarget(i),t.addDestroyFunc(()=>n.removeDropTarget(i)),this.rowDragFeature=i}createRowDragComp(e,t,i,n,s,r){return new wce(e,t,i,n,s,r)}createRowDragCompForRow(e,t){if(nd(this.gos))return;const i=this.getLocaleTextFunc();return this.createRowDragComp(()=>`1 ${i("rowDragRow","row")}`,e,void 0,t,void 0,!0)}createRowDragCompForCell(e,t,i,n,s,r){const o=this.gos;return o.get("rowDragManaged")&&(!$s(o)||o.get("pagination"))?void 0:this.createRowDragComp(i,e,t,n,s,r)}},oV={moduleName:"Drag",version:Ge,beans:[Lae]},Dce={moduleName:"DragAndDrop",version:Ge,dynamicBeans:{dndSourceComp:mce},icons:{rowDrag:"grip"}},aV={moduleName:"SharedDragAndDrop",version:Ge,beans:[xae],dependsOn:[oV],userComponents:{agDragAndDropImage:Lle},icons:{columnMovePin:"pin",columnMoveHide:"eye-slash",columnMoveMove:"arrows",columnMoveLeft:"left",columnMoveRight:"right",columnMoveGroup:"group",columnMoveValue:"aggregation",columnMovePivot:"pivot",dropNotAllowed:"not-allowed",rowDrag:"grip"}},Rce={moduleName:"RowDrag",version:Ge,beans:[Mce],apiFunctions:{addRowDropZone:yce,removeRowDropZone:vce,getRowDropZoneParams:Cce},dependsOn:[aV]},Ece={moduleName:"HorizontalResize",version:Ge,beans:[bce],dependsOn:[oV]},Tce=":where(.ag-ltr) :where(.ag-column-moving){.ag-cell,.ag-header-cell,.ag-spanned-cell-wrapper{transition:left .2s}.ag-header-group-cell{transition:left .2s,width .2s}}:where(.ag-rtl) :where(.ag-column-moving){.ag-cell,.ag-header-cell,.ag-spanned-cell-wrapper{transition:right .2s}.ag-header-group-cell{transition:right .2s,width .2s}}",Ace=class extends ye{constructor(){super(...arguments),this.beanName="colAnimation",this.executeNextFuncs=[],this.executeLaterFuncs=[],this.active=!1,this.activeNext=!1,this.suppressAnimation=!1,this.animationThreadCount=0}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>this.gridBodyCtrl=e.gridBodyCtrl)}isActive(){return this.active&&!this.suppressAnimation}setSuppressAnimation(e){this.suppressAnimation=e}start(){if(this.active)return;const{gos:e}=this;e.get("suppressColumnMoveAnimation")||e.get("enableRtl")||(this.ensureAnimationCssClassPresent(),this.active=!0,this.activeNext=!0)}finish(){this.active&&this.flush(()=>this.activeNext=!1,()=>this.active=!1)}executeNextVMTurn(e){this.activeNext?this.executeNextFuncs.push(e):e()}executeLaterVMTurn(e){this.active?this.executeLaterFuncs.push(e):e()}ensureAnimationCssClassPresent(){this.animationThreadCount++;const e=this.animationThreadCount,{gridBodyCtrl:t}=this;t.setColumnMovingCss(!0),this.executeLaterFuncs.push(()=>{this.animationThreadCount===e&&t.setColumnMovingCss(!1)})}flush(e,t){const{executeNextFuncs:i,executeLaterFuncs:n}=this;if(i.length===0&&n.length===0){e(),t();return}const s=r=>{for(;r.length;){const o=r.pop();o&&o()}};this.beans.frameworkOverrides.wrapIncoming(()=>{window.setTimeout(()=>{e(),s(i)},0),window.setTimeout(()=>{t(),s(n)},200)})}};function Ice(e,t,i){var n;(n=e.colMoves)==null||n.moveColumnByIndex(t,i,"api")}function Lce(e,t,i){var n;(n=e.colMoves)==null||n.moveColumns(t,i,"api")}var kce=class extends ye{constructor(e){super(),this.pinned=e,this.columnsToAggregate=[],this.columnsToGroup=[],this.columnsToPivot=[]}onDragEnter(e){if(this.clearColumnsList(),this.gos.get("functionsReadOnly"))return;const t=e.dragItem.columns;t&&t.forEach(i=>{i.isPrimary()&&(i.isAnyFunctionActive()||(i.isAllowValue()?this.columnsToAggregate.push(i):i.isAllowRowGroup()?this.columnsToGroup.push(i):i.isAllowPivot()&&this.columnsToPivot.push(i)))})}getIconName(){return this.columnsToAggregate.length+this.columnsToGroup.length+this.columnsToPivot.length>0?this.pinned?"pinned":"move":null}onDragLeave(e){this.clearColumnsList()}clearColumnsList(){this.columnsToAggregate.length=0,this.columnsToGroup.length=0,this.columnsToPivot.length=0}onDragging(e){}onDragStop(e){const{valueColsSvc:t,rowGroupColsSvc:i,pivotColsSvc:n}=this.beans;this.columnsToAggregate.length>0&&(t==null||t.addColumns(this.columnsToAggregate,"toolPanelDragAndDrop")),this.columnsToGroup.length>0&&(i==null||i.addColumns(this.columnsToGroup,"toolPanelDragAndDrop")),this.columnsToPivot.length>0&&(n==null||n.addColumns(this.columnsToPivot,"toolPanelDragAndDrop"))}onDragCancel(){this.clearColumnsList()}};function Pce(e,t){!t||t.length<=1||t.filter(n=>e.indexOf(n)<0).length>0||t.sort((n,s)=>{const r=e.indexOf(n),o=e.indexOf(s);return r-o})}function lV(e){const{isFromHeader:t,fromLeft:i,xPosition:n,fromEnter:s,fakeEvent:r,pinned:o,gos:a,colModel:l,colMoves:u,visibleCols:d}=e;let{allMovingColumns:p}=e;if(t){const R=[];p.forEach(A=>{var P;let k=null,F=A.getParent();for(;F!=null&&F.getDisplayedLeafColumns().length===1;)k=F,F=F.getParent();k!=null?(!!((P=k.getColGroupDef())!=null&&P.marryChildren)?k.getProvidedColumnGroup().getLeafColumns():k.getLeafColumns()).forEach(H=>{R.includes(H)||R.push(H)}):R.includes(A)||R.push(A)}),p=R}const f=p.slice();Pce(l.getCols(),f);const m=Bce({movingCols:f,draggingRight:i,xPosition:n,pinned:o,gos:a,colModel:l,visibleCols:d}),y=Fce(f,l);if(m.length===0)return;const C=m[0];let w=y!==null&&!s;if(t&&(w=y!==null),w&&!r&&(!i&&C>=y||i&&C<=y))return;const b=d.allCols,S=[];let M=null;for(let R=0;R<m.length;R++){const A=m[R],k=u.getProposedColumnOrder(f,A);if(!u.doesOrderPassRules(k))continue;const F=k.filter(L=>b.includes(L));if(M===null)M=F;else if(!vp(F,M))break;const P=Oce(k);S.push({move:A,fragCount:P})}if(S.length===0)return;S.sort((R,A)=>R.fragCount-A.fragCount);const D=S[0].move;if(!(D>l.getCols().length-p.length))return{columns:p,toIndex:D}}function cV(e){const{columns:t,toIndex:i}=lV(e)||{},{finished:n,colMoves:s}=e;return!t||i==null?null:(s.moveColumns(t,i,"uiColumnMoved",n),n?null:{columns:t,toIndex:i})}function Fce(e,t){const i=t.getCols(),n=Nre(e.map(l=>i.indexOf(l))),s=n[0];return bi(n)-s!==n.length-1?null:s}function Oce(e){function t(n){const s=[];let r=n.getOriginalParent();for(;r!=null;)s.push(r),r=r.getOriginalParent();return s}let i=0;for(let n=0;n<e.length-1;n++){let s=t(e[n]),r=t(e[n+1]);[s,r]=s.length>r.length?[s,r]:[r,s],s.forEach(o=>{r.indexOf(o)===-1&&i++})}return i}function Nce(e,t){switch(t){case"left":return e.leftCols;case"right":return e.rightCols;default:return e.centerCols}}function Bce(e){const{movingCols:t,draggingRight:i,xPosition:n,pinned:s,gos:r,colModel:o,visibleCols:a}=e;if(r.get("suppressMovableColumns")||t.some(M=>M.getColDef().suppressMovable))return[];const u=Nce(a,s),d=o.getCols(),p=u.filter(M=>t.includes(M)),f=u.filter(M=>!t.includes(M)),m=d.filter(M=>!t.includes(M));let y=0,C=n;if(i){let M=0;p.forEach(D=>M+=D.getActualWidth()),C-=M}if(C>0){for(let M=0;M<f.length;M++){const D=f[M];if(C-=D.getActualWidth(),C<0)break;y++}i&&y++}let w;if(y>0){const M=f[y-1];w=m.indexOf(M)+1}else w=m.indexOf(f[0]),w===-1&&(w=0);const b=[w],S=(M,D)=>M-D;if(i){let M=w+1;const D=d.length-1;for(;M<=D;)b.push(M),M++;b.sort(S)}else{let M=w;const D=d.length-1;let R=d[M];for(;M<=D&&u.indexOf(R)<0;)M++,b.push(M),R=d[M];M=w-1;const A=0;for(;M>=A;)b.push(M),M--;b.sort(S).reverse()}return b}function QT(e){var u;const{pinned:t,fromKeyboard:i,gos:n,ctrlsSvc:s,useHeaderRow:r,skipScrollPadding:o}=e;let a=(u=s.getHeaderRowContainerCtrl(t))==null?void 0:u.eViewport,{x:l}=e;return a?(i&&(l-=a.getBoundingClientRect().left),n.get("enableRtl")&&(r&&(a=a.querySelector(".ag-header-row")),l=a.clientWidth-l),t==null&&!o&&(l+=s.get("center").getCenterViewportScrollLeft()),l):0}function r1(e,t){for(const i of e)i.moving=t,i.dispatchColEvent("movingChanged","uiColumnMoved")}var KB=7,JT=100,J0=JT/2,zce=5,Gce=100,Hce=class extends ye{constructor(e){super(),this.pinned=e,this.needToMoveLeft=!1,this.needToMoveRight=!1,this.lastMovedInfo=null,this.isCenterContainer=!Ne(e)}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>{this.gridBodyCon=e.gridBodyCtrl})}getIconName(){const{pinned:e,lastDraggingEvent:t}=this,i=(t==null?void 0:t.dragItem.columns)??[];for(const n of i){const s=n.getPinned();if(n.getColDef().lockPinned){if(s==e)return"move";continue}if(s===e||!e)return"move";if(!s&&e)return"pinned"}return"notAllowed"}onDragEnter(e){const t=e.dragItem,i=t.columns;if(e.dragSource.type===0)this.setColumnsVisible(i,!0,"uiColumnDragged");else{const s=t.visibleState,r=(i||[]).filter(o=>s[o.getId()]);this.setColumnsVisible(r,!0,"uiColumnDragged")}this.gos.get("suppressMoveWhenColumnDragging")||this.attemptToPinColumns(i,this.pinned),this.onDragging(e,!0,!0)}onDragging(e=this.lastDraggingEvent,t=!1,i=!1,n=!1){const{gos:s,ctrlsSvc:r}=this.beans,o=s.get("suppressMoveWhenColumnDragging");if(n&&!o){this.finishColumnMoving();return}if(this.lastDraggingEvent=e,!e||!n&&qi(e.hDirection))return;const a=QT({x:e.x,pinned:this.pinned,gos:s,ctrlsSvc:r});t||this.checkCenterForScrolling(a),o?this.handleColumnDragWhileSuppressingMovement(e,t,i,a,n):this.handleColumnDragWhileAllowingMovement(e,t,i,a,n)}onDragLeave(){this.ensureIntervalCleared(),this.clearHighlighted(),this.lastMovedInfo=null}onDragStop(){this.onDragging(this.lastDraggingEvent,!1,!0,!0),this.ensureIntervalCleared(),this.lastMovedInfo=null}onDragCancel(){this.clearHighlighted(),this.ensureIntervalCleared(),this.lastMovedInfo=null}setColumnsVisible(e,t,i){if(!e)return;const n=e.filter(s=>!s.getColDef().lockVisible);this.beans.colModel.setColsVisible(n,t,i)}finishColumnMoving(){this.clearHighlighted();const e=this.lastMovedInfo;if(!e)return;const{columns:t,toIndex:i}=e;this.beans.colMoves.moveColumns(t,i,"uiColumnMoved",!0)}handleColumnDragWhileSuppressingMovement(e,t,i,n,s){const r=this.getAllMovingColumns(e,!0);if(s){const o=this.isAttemptingToPin(r);o&&this.attemptToPinColumns(r,void 0,!0);const{fromLeft:a,xPosition:l}=this.getNormalisedXPositionInfo(r,o)||{};if(a==null||l==null){this.finishColumnMoving();return}this.moveColumnsAfterHighlight({allMovingColumns:r,xPosition:l,fromEnter:t,fakeEvent:i,fromLeft:a})}else{if(!this.beans.dragAndDrop.isDropZoneWithinThisGrid(e))return;this.highlightHoveredColumn(r,n)}}handleColumnDragWhileAllowingMovement(e,t,i,n,s){const r=this.getAllMovingColumns(e),o=this.normaliseDirection(e.hDirection)==="right",a=e.dragSource.type===1,l=this.getMoveColumnParams({allMovingColumns:r,isFromHeader:a,xPosition:n,fromLeft:o,fromEnter:t,fakeEvent:i}),u=cV({...l,finished:s});u&&(this.lastMovedInfo=u)}getAllMovingColumns(e,t=!1){const i=e.dragSource.getDragItem();let n=null;t?(n=i.columnsInSplit,n||(n=i.columns)):n=i.columns;const s=r=>r.getColDef().lockPinned?r.getPinned()==this.pinned:!0;return n?n.filter(s):[]}getMoveColumnParams(e){const{allMovingColumns:t,isFromHeader:i,xPosition:n,fromLeft:s,fromEnter:r,fakeEvent:o}=e,{gos:a,colModel:l,colMoves:u,visibleCols:d}=this.beans;return{allMovingColumns:t,isFromHeader:i,fromLeft:s,xPosition:n,pinned:this.pinned,fromEnter:r,fakeEvent:o,gos:a,colModel:l,colMoves:u,visibleCols:d}}highlightHoveredColumn(e,t){var d;const{gos:i,colModel:n}=this.beans,s=i.get("enableRtl"),r=n.getCols().filter(p=>p.isVisible()&&p.getPinned()===this.pinned);let o=null,a=null,l=null;for(const p of r){if(a=p.getActualWidth(),o=this.getNormalisedColumnLeft(p,0,s),o!=null){const f=o+a;if(o<=t&&f>=t){l=p;break}}o=null,a=null}if(l)e.indexOf(l)!==-1&&(l=null);else{for(let p=r.length-1;p>=0;p--){const f=r[p],m=r[p].getParent();if(!m){l=f;break}const y=m==null?void 0:m.getDisplayedLeafColumns();if(y.length){l=bi(y);break}}if(!l)return;o=this.getNormalisedColumnLeft(l,0,s),a=l.getActualWidth()}if(((d=this.lastHighlightedColumn)==null?void 0:d.column)!==l&&this.clearHighlighted(),l==null||o==null||a==null)return;let u;t-o<a/2!==s?u=0:u=1,qB(l,u),this.lastHighlightedColumn={column:l,position:u}}getNormalisedXPositionInfo(e,t){const{gos:i,visibleCols:n}=this.beans,s=i.get("enableRtl"),{firstMovingCol:r,column:o,position:a}=this.getColumnMoveAndTargetInfo(e,t,s);if(!r||!o||a==null)return;const l=n.allCols,u=l.indexOf(r),d=l.indexOf(o),p=a===0!==s,f=u<d||u===d&&!p;let m=0;if(p?f&&(m-=1):f||(m+=1),d+m===u)return;const y=l[d+m];if(!y)return;const C=this.getNormalisedColumnLeft(y,20,s);return{fromLeft:f,xPosition:C}}getColumnMoveAndTargetInfo(e,t,i){const n=this.lastHighlightedColumn||{},{firstMovingCol:s,lastMovingCol:r}=_ce(e);if(!s||!r||n.column||!t)return{firstMovingCol:s,...n};const a=this.getPinDirection()==="left";return{firstMovingCol:s,position:a?1:0,column:a!==i?s:r}}normaliseDirection(e){if(this.gos.get("enableRtl"))switch(e){case"left":return"right";case"right":return"left"}return e}getNormalisedColumnLeft(e,t,i){const{gos:n,ctrlsSvc:s}=this.beans,r=e.getLeft();if(r==null)return null;const o=e.getActualWidth();return QT({x:i?r+o-t:r+t,pinned:e.getPinned(),useHeaderRow:i,skipScrollPadding:!0,gos:n,ctrlsSvc:s})}isAttemptingToPin(e){const t=this.needToMoveLeft||this.needToMoveRight,i=this.failedMoveAttempts>KB;return t&&i||e.some(n=>n.getPinned()!==this.pinned)}moveColumnsAfterHighlight(e){const{allMovingColumns:t,xPosition:i,fromEnter:n,fakeEvent:s,fromLeft:r}=e,o=this.getMoveColumnParams({allMovingColumns:t,isFromHeader:!0,xPosition:i,fromLeft:r,fromEnter:n,fakeEvent:s}),{columns:a,toIndex:l}=lV(o)||{};a&&l!=null&&(this.lastMovedInfo={columns:a,toIndex:l}),this.finishColumnMoving()}clearHighlighted(){const{lastHighlightedColumn:e}=this;e&&(qB(e.column,null),this.lastHighlightedColumn=null)}checkCenterForScrolling(e){if(!this.isCenterContainer)return;const t=this.beans.ctrlsSvc.get("center"),i=t.getCenterViewportScrollLeft(),n=i+t.getCenterWidth();let s,r;this.gos.get("enableRtl")?(s=e<i+J0,r=e>n-J0):(r=e<i+J0,s=e>n-J0),this.needToMoveRight=s,this.needToMoveLeft=r,r||s?this.ensureIntervalStarted():this.ensureIntervalCleared()}ensureIntervalStarted(){var e;this.movingIntervalId||(this.intervalCount=0,this.failedMoveAttempts=0,this.movingIntervalId=window.setInterval(this.moveInterval.bind(this),Gce),(e=this.beans.dragAndDrop.getDragAndDropImageComponent())==null||e.setIcon(this.needToMoveLeft?"left":"right",!0))}ensureIntervalCleared(){var e;this.movingIntervalId&&(window.clearInterval(this.movingIntervalId),this.movingIntervalId=null,this.failedMoveAttempts=0,(e=this.beans.dragAndDrop.getDragAndDropImageComponent())==null||e.setIcon(this.getIconName(),!1))}moveInterval(){var n,s;let e;this.intervalCount++,e=10+this.intervalCount*zce,e>JT&&(e=JT);let t=null;const i=this.gridBodyCon.scrollFeature;if(this.needToMoveLeft?t=i.scrollHorizontally(-e):this.needToMoveRight&&(t=i.scrollHorizontally(e)),t!==0)this.onDragging(this.lastDraggingEvent),this.failedMoveAttempts=0;else{this.failedMoveAttempts++;const{pinnedCols:r,dragAndDrop:o,gos:a}=this.beans;if(this.failedMoveAttempts<=KB+1||!r)return;if((n=o.getDragAndDropImageComponent())==null||n.setIcon("pinned",!1),!a.get("suppressMoveWhenColumnDragging")){const l=(s=this.lastDraggingEvent)==null?void 0:s.dragItem.columns;this.attemptToPinColumns(l,void 0,!0)}}}getPinDirection(){if(this.needToMoveLeft||this.pinned==="left")return"left";if(this.needToMoveRight||this.pinned==="right")return"right"}attemptToPinColumns(e,t,i=!1){const n=(e||[]).filter(o=>!o.getColDef().lockPinned);if(!n.length)return 0;i&&(t=this.getPinDirection());const{pinnedCols:s,dragAndDrop:r}=this.beans;return s==null||s.setColsPinned(n,t,"uiColumnDragged"),i&&r.nudge(),n.length}destroy(){super.destroy(),this.lastDraggingEvent=null,this.clearHighlighted(),this.lastMovedInfo=null}};function qB(e,t){e.highlighted!==t&&(e.highlighted=t,e.dispatchColEvent("headerHighlightChanged","uiColumnMoved"))}function _ce(e){const t=e.length;let i,n;for(let s=0;s<t;s++){if(!i){const r=e[s];r.getLeft()!=null&&(i=r)}if(!n){const r=e[t-1-s];r.getLeft()!=null&&(n=r)}if(i&&n)break}return{firstMovingCol:i,lastMovingCol:n}}var jce=class extends ye{constructor(e,t){super(),this.pinned=e,this.eContainer=t}postConstruct(){const{ctrlsSvc:e,dragAndDrop:t}=this.beans,i=this.pinned;e.whenReady(this,n=>{let s;const r=n.gridBodyCtrl.eBodyViewport;switch(i){case"left":s=[[r,n.left.eContainer],[n.bottomLeft.eContainer],[n.topLeft.eContainer]];break;case"right":s=[[r,n.right.eContainer],[n.bottomRight.eContainer],[n.topRight.eContainer]];break;default:s=[[r,n.center.eViewport],[n.bottomCenter.eViewport],[n.topCenter.eViewport]];break}this.eSecondaryContainers=s}),this.moveColumnFeature=this.createManagedBean(new Hce(i)),this.bodyDropPivotTarget=this.createManagedBean(new kce(i)),t.addDropTarget(this),this.addDestroyFunc(()=>t.removeDropTarget(this))}isInterestedIn(e){return e===1||e===0&&this.gos.get("allowDragFromColumnsToolPanel")}getSecondaryContainers(){return this.eSecondaryContainers}getContainer(){return this.eContainer}getIconName(){return this.currentDropListener.getIconName()}isDropColumnInPivotMode(e){return this.beans.colModel.isPivotMode()&&e.dragSource.type===0}onDragEnter(e){this.currentDropListener=this.isDropColumnInPivotMode(e)?this.bodyDropPivotTarget:this.moveColumnFeature,this.currentDropListener.onDragEnter(e)}onDragLeave(e){this.currentDropListener.onDragLeave(e)}onDragging(e){this.currentDropListener.onDragging(e)}onDragStop(e){this.currentDropListener.onDragStop(e)}onDragCancel(){this.currentDropListener.onDragCancel()}},Vce=class extends ye{constructor(){super(...arguments),this.beanName="colMoves"}moveColumnByIndex(e,t,i){const n=this.beans.colModel.getCols();if(!n)return;const s=n[e];this.moveColumns([s],t,i)}moveColumns(e,t,i,n=!0){const{colModel:s,colAnimation:r,visibleCols:o,eventSvc:a}=this.beans,l=s.getCols();if(!l)return;if(t>l.length-e.length){Ae(30,{toIndex:t});return}r==null||r.start();const u=s.getColsForKeys(e);this.doesMovePassRules(u,t)&&(OB(s.getCols(),u,t),o.refresh(i),a.dispatchEvent({type:"columnMoved",columns:u,column:u.length===1?u[0]:null,toIndex:t,finished:n,source:i})),r==null||r.finish()}doesMovePassRules(e,t){const i=this.getProposedColumnOrder(e,t);return this.doesOrderPassRules(i)}doesOrderPassRules(e){const{colModel:t,gos:i}=this.beans;return!(!Cj(e,t.getColTree())||!(s=>{const r=u=>u?u==="left"||u===!0?-1:1:0,o=i.get("enableRtl");let a=o?1:-1,l=!0;return s.forEach(u=>{const d=r(u.getColDef().lockPosition);o?d>a&&(l=!1):d<a&&(l=!1),a=d}),l})(e))}getProposedColumnOrder(e,t){const n=this.beans.colModel.getCols().slice();return OB(n,e,t),n}createBodyDropTarget(e,t){return new jce(e,t)}moveHeader(e,t,i,n,s){const{ctrlsSvc:r,gos:o,colModel:a,visibleCols:l,focusSvc:u}=this.beans,d=t.getBoundingClientRect(),p=d.left,f=dn(i),m=f?d.width:i.getActualWidth(),y=e==="left"!==o.get("enableRtl"),C=QT({x:y?p-20:p+m+20,pinned:n,fromKeyboard:!0,gos:o,ctrlsSvc:r}),w=u.focusedHeader;cV({allMovingColumns:f?i.getLeafColumns():[i],isFromHeader:!0,fromLeft:e==="right",xPosition:C,pinned:n,fromEnter:!1,fakeEvent:!1,gos:o,colModel:a,colMoves:this,visibleCols:l,finished:!0});let b;if(f){const S=i.getDisplayedLeafColumns();b=y?S[0]:bi(S)}else b=i;if(r.getScrollFeature().ensureColumnVisible(b,"auto"),(!s.isAlive()||o.get("ensureDomOrder"))&&w){let S;if(f){const M=i.getGroupId(),D=i.getLeafColumns();if(!D.length)return;const R=D[0].getParent();if(!R)return;S=Wce(R,M)}else S=i;S&&u.focusHeaderPosition({headerPosition:{...w,column:S}})}}setDragSourceForHeader(e,t,i){const{gos:n,colModel:s,dragAndDrop:r,visibleCols:o}=this.beans;let a=!n.get("suppressDragLeaveHidesColumns");const l=dn(t),u=l?t.getProvidedColumnGroup().getLeafColumns():[t],p={type:1,eElement:e,getDefaultIconName:()=>a?"hide":"notAllowed",getDragItem:l?()=>$ce(t,o.allCols):()=>Uce(t),dragItemName:i,onDragStarted:()=>{a=!n.get("suppressDragLeaveHidesColumns"),r1(u,!0)},onDragStopped:()=>r1(u,!1),onDragCancelled:()=>r1(u,!1),onGridEnter:f=>{if(a){const{columns:m=[],visibleState:y}=f??{},C=l?b=>!y||y[b.getColId()]:()=>!0,w=m.filter(b=>!b.getColDef().lockVisible&&C(b));s.setColsVisible(w,!0,"uiColumnMoved")}},onGridExit:f=>{var m;if(a){const y=((m=f==null?void 0:f.columns)==null?void 0:m.filter(C=>!C.getColDef().lockVisible))||[];s.setColsVisible(y,!1,"uiColumnMoved")}}};return r.addDragSource(p,!0),p}};function Wce(e,t){for(;e;){if(e.getGroupId()===t)return e;e=e.getParent()}}function Uce(e){const t={};return t[e.getId()]=e.isVisible(),{columns:[e],visibleState:t}}function $ce(e,t){const i=e.getProvidedColumnGroup().getLeafColumns(),n={};i.forEach(a=>n[a.getId()]=a.isVisible());const s=[];t.forEach(a=>{i.indexOf(a)>=0&&(s.push(a),ka(i,a))}),i.forEach(a=>s.push(a));const r=[],o=e.getLeafColumns();for(const a of s)o.indexOf(a)!==-1&&r.push(a);return{columns:s,columnsInSplit:r,visibleState:n}}var Yce={moduleName:"ColumnMove",version:Ge,beans:[Vce,Ace],apiFunctions:{moveColumnByIndex:Ice,moveColumns:Lce},dependsOn:[aV],css:[Tce]},Kce=class extends ye{constructor(){super(...arguments),this.beanName="autoWidthCalc"}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>{this.centerRowContainerCtrl=e.center})}getPreferredWidthForColumn(e,t){const i=this.getHeaderCellForColumn(e);if(!i)return-1;const n=this.beans.rowRenderer.getAllCellsNotSpanningForColumn(e);return t||n.push(i),this.getPreferredWidthForElements(n)}getPreferredWidthForColumnGroup(e){const t=this.getHeaderCellForColumn(e);return t?this.getPreferredWidthForElements([t]):-1}getPreferredWidthForElements(e,t){const i=document.createElement("form");i.style.position="fixed";const n=this.centerRowContainerCtrl.eContainer;e.forEach(r=>this.cloneItemIntoDummy(r,i)),n.appendChild(i);const s=i.offsetWidth;return n.removeChild(i),t=t??this.gos.get("autoSizePadding"),s+t}getHeaderCellForColumn(e){let t=null;return this.beans.ctrlsSvc.getHeaderRowContainerCtrls().forEach(i=>{const n=i.getHtmlElementForColumnHeader(e);n!=null&&(t=n)}),t}cloneItemIntoDummy(e,t){const i=e.cloneNode(!0);i.style.width="",i.style.position="static",i.style.left="";const n=document.createElement("div"),s=n.classList;["ag-header-cell","ag-header-group-cell"].some(a=>i.classList.contains(a))?(s.add("ag-header","ag-header-row"),n.style.position="static"):s.add("ag-row");let o=e.parentElement;for(;o;){if(["ag-header-row","ag-row"].some(l=>o.classList.contains(l))){for(let l=0;l<o.classList.length;l++){const u=o.classList[l];u!="ag-row-position-absolute"&&s.add(u)}break}o=o.parentElement}n.appendChild(i),t.appendChild(n)}},uV={moduleName:"AutoWidth",version:Ge,beans:[Kce]};function qce(e,t,i=!0,n="api"){var s;(s=e.colResize)==null||s.setColumnWidths(t,!1,i,n)}var Zce=class extends ye{constructor(e,t,i,n){super(),this.comp=e,this.eResize=t,this.pinned=i,this.columnGroup=n}postConstruct(){if(!this.columnGroup.isResizable()){this.comp.setResizableDisplayed(!1);return}const{horizontalResizeSvc:e,gos:t,colAutosize:i}=this.beans,n=e.addResizeBar({eResizeBar:this.eResize,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this,!1),onResizeEnd:this.onResizing.bind(this,!0)});this.addDestroyFunc(n),!t.get("suppressAutoSize")&&i&&this.addDestroyFunc(i.addColumnGroupResize(this.eResize,this.columnGroup,()=>this.resizeLeafColumnsToFit("uiColumnResized")))}onResizeStart(e){const{columnsToResize:t,resizeStartWidth:i,resizeRatios:n,groupAfterColumns:s,groupAfterStartWidth:r,groupAfterRatios:o}=this.getInitialValues(e);this.resizeCols=t,this.resizeStartWidth=i,this.resizeRatios=n,this.resizeTakeFromCols=s,this.resizeTakeFromStartWidth=r,this.resizeTakeFromRatios=o,this.toggleColumnResizing(!0)}onResizing(e,t,i="uiColumnResized"){const n=this.normaliseDragChange(t),s=this.resizeStartWidth+n;this.resizeColumnsFromLocalValues(s,i,e)}getInitialValues(e){var l;const t=u=>u.reduce((d,p)=>d+p.getActualWidth(),0),i=(u,d)=>u.map(p=>p.getActualWidth()/d),n=this.getColumnsToResize(),s=t(n),r=i(n,s),o={columnsToResize:n,resizeStartWidth:s,resizeRatios:r};let a=null;if(e&&(a=((l=this.beans.colGroupSvc)==null?void 0:l.getGroupAtDirection(this.columnGroup,"After"))??null),a){const u=a.getDisplayedLeafColumns(),d=o.groupAfterColumns=u.filter(f=>f.isResizable()),p=o.groupAfterStartWidth=t(d);o.groupAfterRatios=i(d,p)}else o.groupAfterColumns=void 0,o.groupAfterStartWidth=void 0,o.groupAfterRatios=void 0;return o}resizeLeafColumnsToFit(e){const t=this.beans.autoWidthCalc.getPreferredWidthForColumnGroup(this.columnGroup),i=this.getInitialValues();t>i.resizeStartWidth&&this.resizeColumns(i,t,e,!0)}resizeColumnsFromLocalValues(e,t,i=!0){if(!this.resizeCols||!this.resizeRatios)return;const n={columnsToResize:this.resizeCols,resizeStartWidth:this.resizeStartWidth,resizeRatios:this.resizeRatios,groupAfterColumns:this.resizeTakeFromCols,groupAfterStartWidth:this.resizeTakeFromStartWidth,groupAfterRatios:this.resizeTakeFromRatios};this.resizeColumns(n,e,t,i)}resizeColumns(e,t,i,n=!0){var p;const{columnsToResize:s,resizeStartWidth:r,resizeRatios:o,groupAfterColumns:a,groupAfterStartWidth:l,groupAfterRatios:u}=e,d=[];if(d.push({columns:s,ratios:o,width:t}),a){const f=t-r;d.push({columns:a,ratios:u,width:l-f})}(p=this.beans.colResize)==null||p.resizeColumnSets({resizeSets:d,finished:n,source:i}),n&&this.toggleColumnResizing(!1)}toggleColumnResizing(e){this.comp.addOrRemoveCssClass("ag-column-resizing",e)}getColumnsToResize(){return this.columnGroup.getDisplayedLeafColumns().filter(t=>t.isResizable())}normaliseDragChange(e){let t=e;return this.gos.get("enableRtl")?this.pinned!=="left"&&(t*=-1):this.pinned==="right"&&(t*=-1),t}destroy(){super.destroy(),this.resizeCols=void 0,this.resizeRatios=void 0,this.resizeTakeFromCols=void 0,this.resizeTakeFromRatios=void 0}},Xce=class extends ye{constructor(e,t,i,n,s){super(),this.pinned=e,this.column=t,this.eResize=i,this.comp=n,this.ctrl=s}postConstruct(){const e=[];let t,i;const n=()=>{if(hn(this.eResize,t),!t)return;const{horizontalResizeSvc:o,colAutosize:a}=this.beans,l=o.addResizeBar({eResizeBar:this.eResize,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this,!1),onResizeEnd:this.onResizing.bind(this,!0)});e.push(l),i&&a&&e.push(a.addColumnAutosize(this.eResize,this.column))},s=()=>{e.forEach(o=>o()),e.length=0},r=()=>{const o=this.column.isResizable(),a=!this.gos.get("suppressAutoSize")&&!this.column.getColDef().suppressAutoSize;(o!==t||a!==i)&&(t=o,i=a,s(),n())};r(),this.addDestroyFunc(s),this.ctrl.setRefreshFunction("resize",r)}onResizing(e,t){const{column:i,lastResizeAmount:n,resizeStartWidth:s,beans:r}=this,o=this.normaliseResizeAmount(t),a=s+o,l=[{key:i,newWidth:a}],{pinnedCols:u,ctrlsSvc:d,colResize:p}=r;if(this.column.getPinned()){const f=(u==null?void 0:u.leftWidth)??0,m=(u==null?void 0:u.rightWidth)??0,y=kv(d.getGridBodyCtrl().eBodyViewport)-50;if(f+m+(o-n)>y)return}this.lastResizeAmount=o,p==null||p.setColumnWidths(l,this.resizeWithShiftKey,e,"uiColumnResized"),e&&this.toggleColumnResizing(!1)}onResizeStart(e){this.resizeStartWidth=this.column.getActualWidth(),this.lastResizeAmount=0,this.resizeWithShiftKey=e,this.toggleColumnResizing(!0)}toggleColumnResizing(e){this.comp.addOrRemoveCssClass("ag-column-resizing",e)}normaliseResizeAmount(e){let t=e;const i=this.pinned!=="left",n=this.pinned==="right";return this.gos.get("enableRtl")?i&&(t*=-1):n&&(t*=-1),t}},Qce=class extends ye{constructor(){super(...arguments),this.beanName="colResize"}setColumnWidths(e,t,i,n){const s=[],{colModel:r,gos:o,visibleCols:a}=this.beans;e.forEach(l=>{const u=r.getColDefCol(l.key)||r.getCol(l.key);if(!u)return;if(s.push({width:l.newWidth,ratios:[1],columns:[u]}),o.get("colResizeDefault")==="shift"&&(t=!t),t){const p=a.getColAfter(u);if(!p)return;const f=u.getActualWidth()-l.newWidth,m=p.getActualWidth()+f;s.push({width:m,ratios:[1],columns:[p]})}}),s.length!==0&&this.resizeColumnSets({resizeSets:s,finished:i,source:n})}resizeColumnSets(e){const{resizeSets:t,finished:i,source:n}=e;if(!(!t||t.every(d=>Jce(d)))){if(i){const d=t&&t.length>0?t[0].columns:null;xg(this.eventSvc,d,i,n)}return}const r=[],o=[];t.forEach(d=>{const{width:p,columns:f,ratios:m}=d,y={},C={};f.forEach(S=>o.push(S));let w=!0,b=0;for(;w;){if(b++,b>1e3){wi(31);break}w=!1;const S=[];let M=0,D=p;f.forEach((A,k)=>{if(C[A.getId()])D-=y[A.getId()];else{S.push(A);const P=m[k];M+=P}});const R=1/M;S.forEach((A,k)=>{const F=k===S.length-1;let P;F?P=D:(P=Math.round(m[k]*p*R),D-=P);const L=A.getMinWidth(),z=A.getMaxWidth();P<L?(P=L,C[A.getId()]=!0,w=!0):z>0&&P>z&&(P=z,C[A.getId()]=!0,w=!0),y[A.getId()]=P})}f.forEach(S=>{const M=y[S.getId()];S.getActualWidth()!==M&&(S.setActualWidth(M,n),r.push(S))})});const a=r.length>0;let l=[];if(a){const{colFlex:d,visibleCols:p,colViewport:f}=this.beans;l=(d==null?void 0:d.refreshFlexedColumns({resizingCols:o,skipSetLeft:!0}))??[],p.setLeftValues(n),p.updateBodyWidths(),f.checkViewportColumns()}const u=o.concat(l);(a||i)&&xg(this.eventSvc,u,i,n,l)}resizeHeader(e,t,i){if(!e.isResizable())return;const n=e.getActualWidth(),s=e.getMinWidth(),r=e.getMaxWidth(),o=Math.min(Math.max(n+t,s),r);this.setColumnWidths([{key:e,newWidth:o}],i,!0,"uiColumnResized")}createResizeFeature(e,t,i,n,s){return new Xce(e,t,i,n,s)}createGroupResizeFeature(e,t,i,n){return new Zce(e,t,i,n)}};function Jce(e){const{columns:t,width:i}=e;let n=0,s=0,r=!0;t.forEach(l=>{const u=l.getMinWidth();n+=u||0;const d=l.getMaxWidth();d>0?s+=d:r=!1});const o=i>=n,a=!r||i<=s;return o&&a}var eue={moduleName:"ColumnResize",version:Ge,beans:[Qce],apiFunctions:{setColumnWidths:qce},dependsOn:[Ece,uV]},tue=class extends ye{constructor(e,t){super(),this.removeChildListenersFuncs=[],this.columnGroup=t,this.comp=e}postConstruct(){this.addListenersToChildrenColumns(),this.addManagedListeners(this.columnGroup,{displayedChildrenChanged:this.onDisplayedChildrenChanged.bind(this)}),this.onWidthChanged(),this.addDestroyFunc(this.removeListenersOnChildrenColumns.bind(this))}addListenersToChildrenColumns(){this.removeListenersOnChildrenColumns();const e=this.onWidthChanged.bind(this);this.columnGroup.getLeafColumns().forEach(t=>{t.__addEventListener("widthChanged",e),t.__addEventListener("visibleChanged",e),this.removeChildListenersFuncs.push(()=>{t.__removeEventListener("widthChanged",e),t.__removeEventListener("visibleChanged",e)})})}removeListenersOnChildrenColumns(){this.removeChildListenersFuncs.forEach(e=>e()),this.removeChildListenersFuncs=[]}onDisplayedChildrenChanged(){this.addListenersToChildrenColumns(),this.onWidthChanged()}onWidthChanged(){const e=this.columnGroup.getActualWidth();this.comp.setWidth(`${e}px`),this.comp.addOrRemoveCssClass("ag-hidden",e===0)}},iue=class extends IL{constructor(){super(...arguments),this.onSuppressColMoveChange=()=>{!this.isAlive()||this.isSuppressMoving()?this.removeDragSource():this.dragSource||this.setDragSource(this.eGui)}}setComp(e,t,i,n,s){const{column:r,beans:o}=this,{context:a,colNames:l,colHover:u,rangeSvc:d,colResize:p}=o;this.comp=e,s=FC(this,a,s),this.setGui(t,s),this.displayName=l.getDisplayNameForColumnGroup(r,"header"),this.refreshHeaderStyles(),this.addClasses(),this.setupMovingCss(s),this.setupExpandable(s),this.setupTooltip(),this.setupAutoHeight({wrapperElement:n,compBean:s}),this.setupUserComp(),this.addHeaderMouseListeners(s),this.addManagedPropertyListener("groupHeaderHeight",this.refreshMaxHeaderHeight.bind(this)),this.refreshMaxHeaderHeight();const f=this.rowCtrl.pinned,m=r.getProvidedColumnGroup().getLeafColumns();u==null||u.createHoverFeature(s,m,t),d==null||d.createRangeHighlightFeature(s,r,e),s.createManagedBean(new AL(r,t,o)),s.createManagedBean(new tue(e,r)),p?this.resizeFeature=s.createManagedBean(p.createGroupResizeFeature(e,i,f,r)):e.setResizableDisplayed(!1),s.createManagedBean(new _g(t,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:()=>{},handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)})),this.addHighlightListeners(s,m),s.addManagedPropertyListener("suppressMovableColumns",this.onSuppressColMoveChange),this.addResizeAndMoveKeyboardListeners(s),s.addDestroyFunc(()=>this.clearComponent())}getHeaderClassParams(){const{column:e,beans:t}=this,i=e.getDefinition();return ut(t.gos,{colDef:i,columnGroup:e,floatingFilter:!1})}refreshMaxHeaderHeight(){const{gos:e,comp:t}=this,i=e.get("groupHeaderHeight");i!=null?i===0?t.setHeaderWrapperHidden(!0):t.setHeaderWrapperMaxHeight(i):(t.setHeaderWrapperHidden(!1),t.setHeaderWrapperMaxHeight(null))}addHighlightListeners(e,t){if(this.beans.gos.get("suppressMoveWhenColumnDragging"))for(const i of t)e.addManagedListeners(i,{headerHighlightChanged:this.onLeafColumnHighlightChanged.bind(this,i)})}onLeafColumnHighlightChanged(e){const t=this.column.getDisplayedLeafColumns(),i=t[0]===e,n=bi(t)===e;if(!i&&!n)return;const s=e.getHighlighted(),r=!!this.rowCtrl.findHeaderCellCtrl(l=>l.column.isMoving());let o=!1,a=!1;if(r){const l=this.beans.gos.get("enableRtl"),u=s===1,d=s===0;i&&(l?a=u:o=d),n&&(l?o=d:a=u)}this.comp.addOrRemoveCssClass("ag-header-highlight-before",o),this.comp.addOrRemoveCssClass("ag-header-highlight-after",a)}resizeHeader(e,t){const{resizeFeature:i}=this;if(!i)return;const n=i.getInitialValues(t);i.resizeColumns(n,n.resizeStartWidth+e,"uiColumnResized",!0)}resizeLeafColumnsToFit(e){var t;(t=this.resizeFeature)==null||t.resizeLeafColumnsToFit(e)}setupUserComp(){const{colGroupSvc:e,userCompFactory:t,gos:i}=this.beans,n=ut(i,{displayName:this.displayName,columnGroup:this.column,setExpanded:r=>{e.setColumnGroupOpened(this.column.getProvidedColumnGroup(),r,"gridInitializing")},setTooltip:(r,o)=>{i.assertModuleRegistered("Tooltip",3),this.setupTooltip(r,o)}}),s=Doe(t,n);s&&this.comp.setUserCompDetails(s)}addHeaderMouseListeners(e){const t=s=>this.handleMouseOverChange(s.type==="mouseenter"),i=()=>this.dispatchColumnMouseEvent("columnHeaderClicked",this.column.getProvidedColumnGroup()),n=s=>this.handleContextMenuMouseEvent(s,void 0,this.column.getProvidedColumnGroup());e.addManagedListeners(this.eGui,{mouseenter:t,mouseleave:t,click:i,contextmenu:n})}handleMouseOverChange(e){this.eventSvc.dispatchEvent({type:e?"columnHeaderMouseOver":"columnHeaderMouseLeave",column:this.column.getProvidedColumnGroup()})}setupTooltip(e,t){var i;this.tooltipFeature=(i=this.beans.tooltipSvc)==null?void 0:i.setupHeaderGroupTooltip(this.tooltipFeature,this,e,t)}setupExpandable(e){const t=this.column.getProvidedColumnGroup();this.refreshExpanded();const i=this.refreshExpanded.bind(this);e.addManagedListeners(t,{expandedChanged:i,expandableChanged:i})}refreshExpanded(){const{column:e}=this;this.expandable=e.isExpandable();const t=e.isExpanded();this.expandable?this.comp.setAriaExpanded(t?"true":"false"):this.comp.setAriaExpanded(void 0),this.refreshHeaderStyles()}addClasses(){const{column:e}=this,t=e.getColGroupDef(),i=Aj(t,this.gos,null,e);e.isPadding()?(i.push("ag-header-group-cell-no-group"),e.getLeafColumns().every(s=>s.isSpanHeaderHeight())&&i.push("ag-header-span-height")):(i.push("ag-header-group-cell-with-group"),t!=null&&t.wrapHeaderText&&i.push("ag-header-cell-wrap-text")),i.forEach(n=>this.comp.addOrRemoveCssClass(n,!0))}setupMovingCss(e){const{column:t}=this,n=t.getProvidedColumnGroup().getLeafColumns(),s=()=>this.comp.addOrRemoveCssClass("ag-header-cell-moving",t.isMoving());n.forEach(r=>{e.addManagedListeners(r,{movingChanged:s})}),s()}onFocusIn(e){this.eGui.contains(e.relatedTarget)||this.focusThis()}handleKeyDown(e){super.handleKeyDown(e);const t=this.getWrapperHasFocus();if(!(!this.expandable||!t)&&e.key===ge.ENTER){const i=this.column,n=!i.isExpanded();this.beans.colGroupSvc.setColumnGroupOpened(i.getProvidedColumnGroup(),n,"uiColumnExpanded")}}setDragSource(e){var t;!this.isAlive()||this.isSuppressMoving()||(this.removeDragSource(),e&&(this.dragSource=((t=this.beans.colMoves)==null?void 0:t.setDragSourceForHeader(e,this.column,this.displayName))??null))}isSuppressMoving(){return this.gos.get("suppressMovableColumns")||this.column.getLeafColumns().some(e=>e.getColDef().suppressMovable||e.getColDef().lockPosition)}destroy(){this.tooltipFeature=this.destroyBean(this.tooltipFeature),super.destroy()}};function nue(e,t,i){var n;(n=e.colGroupSvc)==null||n.setColumnGroupOpened(t,i,"api")}function sue(e,t,i){var n;return((n=e.colGroupSvc)==null?void 0:n.getColumnGroup(t,i))??null}function rue(e,t){var i;return((i=e.colGroupSvc)==null?void 0:i.getProvidedColGroup(t))??null}function oue(e,t,i){return e.colNames.getDisplayNameForColumnGroup(t,i)||""}function aue(e){var t;return((t=e.colGroupSvc)==null?void 0:t.getColumnGroupState())??[]}function lue(e,t){var i;(i=e.colGroupSvc)==null||i.setColumnGroupState(t,"api")}function cue(e){var t;(t=e.colGroupSvc)==null||t.resetColumnGroupState("api")}function uue(e){return e.visibleCols.treeLeft}function due(e){return e.visibleCols.treeCenter}function hue(e){return e.visibleCols.treeRight}function pue(e){return e.visibleCols.getAllTrees()}function fue(e,t){for(let i=0;i<t.length;i++){const n=e.indexOf(t[i]);n>=0&&(e[n]=e[e.length-1],e.pop())}}var gue=class extends ye{constructor(){super(...arguments),this.beanName="visibleCols",this.colsAndGroupsMap={},this.leftCols=[],this.rightCols=[],this.centerCols=[],this.allCols=[],this.bodyWidth=0,this.leftWidth=0,this.rightWidth=0,this.isBodyWidthDirty=!0}refresh(e,t=!1){var a;const{colModel:i,colGroupSvc:n,colViewport:s}=this.beans;t||this.buildTrees(i,n),n==null||n.updateOpenClosedVisibility();const r=o1(this.treeLeft);this.leftCols=r,this.centerCols=o1(this.treeCenter);const o=o1(this.treeRight);this.rightCols=o,this.joinColsAriaOrder(i),this.joinCols(),this.setLeftValues(e),this.autoHeightCols=this.allCols.filter(l=>l.isAutoHeight()),(a=this.beans.colFlex)==null||a.refreshFlexedColumns(),this.updateBodyWidths(),s.checkViewportColumns(!1),this.setFirstRightAndLastLeftPinned(i,r,o,e),this.eventSvc.dispatchEvent({type:"displayedColumnsChanged",source:e})}updateBodyWidths(){const e=pc(this.centerCols),t=pc(this.leftCols),i=pc(this.rightCols);this.isBodyWidthDirty=this.bodyWidth!==e,(this.bodyWidth!==e||this.leftWidth!==t||this.rightWidth!==i)&&(this.bodyWidth=e,this.leftWidth=t,this.rightWidth=i,this.eventSvc.dispatchEvent({type:"columnContainerWidthChanged"}),this.eventSvc.dispatchEvent({type:"displayedColumnsWidthChanged"}))}setLeftValues(e){this.setLeftValuesOfCols(e),this.setLeftValuesOfGroups()}setFirstRightAndLastLeftPinned(e,t,i,n){let s,r;this.gos.get("enableRtl")?(s=t?t[0]:null,r=i?bi(i):null):(s=t?bi(t):null,r=i?i[0]:null),e.getCols().forEach(o=>{o.setLastLeftPinned(o===s,n),o.setFirstRightPinned(o===r,n)})}buildTrees(e,t){const i=e.getColsToShow(),n=i.filter(l=>l.getPinned()=="left"),s=i.filter(l=>l.getPinned()=="right"),r=i.filter(l=>l.getPinned()!="left"&&l.getPinned()!="right"),o=new Mj,a=l=>t?t.createColumnGroups(l):l.columns;this.treeLeft=a({columns:n,idCreator:o,pinned:"left",oldDisplayedGroups:this.treeLeft}),this.treeRight=a({columns:s,idCreator:o,pinned:"right",oldDisplayedGroups:this.treeRight}),this.treeCenter=a({columns:r,idCreator:o,pinned:null,oldDisplayedGroups:this.treeCenter}),this.updateColsAndGroupsMap()}clear(){this.leftCols=[],this.rightCols=[],this.centerCols=[],this.allCols=[],this.ariaOrderColumns=[]}joinColsAriaOrder(e){const t=e.getCols(),i=[],n=[],s=[];for(const r of t){const o=r.getPinned();o?o===!0||o==="left"?i.push(r):s.push(r):n.push(r)}this.ariaOrderColumns=i.concat(n).concat(s)}getAriaColIndex(e){let t;return dn(e)?t=e.getLeafColumns()[0]:t=e,this.ariaOrderColumns.indexOf(t)+1}setLeftValuesOfGroups(){[this.treeLeft,this.treeRight,this.treeCenter].forEach(e=>{e.forEach(t=>{dn(t)&&t.checkLeft()})})}setLeftValuesOfCols(e){const{colModel:t}=this.beans;if(!t.getColDefCols())return;const n=t.getCols().slice(0),s=this.gos.get("enableRtl");[this.leftCols,this.rightCols,this.centerCols].forEach(r=>{if(s){let o=pc(r);r.forEach(a=>{o-=a.getActualWidth(),a.setLeft(o,e)})}else{let o=0;r.forEach(a=>{a.setLeft(o,e),o+=a.getActualWidth()})}fue(n,r)}),n.forEach(r=>{r.setLeft(null,e)})}joinCols(){this.gos.get("enableRtl")?this.allCols=this.rightCols.concat(this.centerCols).concat(this.leftCols):this.allCols=this.leftCols.concat(this.centerCols).concat(this.rightCols)}getAllTrees(){return this.treeLeft&&this.treeRight&&this.treeCenter?this.treeLeft.concat(this.treeCenter).concat(this.treeRight):null}isColDisplayed(e){return this.allCols.indexOf(e)>=0}getLeftColsForRow(e){const{leftCols:t,beans:{colModel:i}}=this;return i.colSpanActive?this.getColsForRow(e,t):t}getRightColsForRow(e){const{rightCols:t,beans:{colModel:i}}=this;return i.colSpanActive?this.getColsForRow(e,t):t}getColsForRow(e,t,i,n){const s=[];let r=null;for(let o=0;o<t.length;o++){const a=t[o],l=t.length-o,u=Math.min(a.getColSpan(e),l),d=[a];if(u>1){const f=u-1;for(let m=1;m<=f;m++)d.push(t[o+m]);o+=f}let p;i?(p=!1,d.forEach(f=>{i(f)&&(p=!0)})):p=!0,p&&(s.length===0&&r&&(n&&n(a))&&s.push(r),s.push(a)),r=a}return s}getContainerWidth(e){switch(e){case"left":return this.leftWidth;case"right":return this.rightWidth;default:return this.bodyWidth}}getColBefore(e){const t=this.allCols,i=t.indexOf(e);return i>0?t[i-1]:null}isPinningLeft(){return this.leftCols.length>0}isPinningRight(){return this.rightCols.length>0}updateColsAndGroupsMap(){this.colsAndGroupsMap={};const e=t=>{this.colsAndGroupsMap[t.getUniqueId()]=t};Hh(this.treeCenter,!1,e),Hh(this.treeLeft,!1,e),Hh(this.treeRight,!1,e)}isVisible(e){return this.colsAndGroupsMap[e.getUniqueId()]===e}getFirstColumn(){const e=this.gos.get("enableRtl"),t=["leftCols","centerCols","rightCols"];e&&t.reverse();for(let i=0;i<t.length;i++){const n=this[t[i]];if(n.length)return e?bi(n):n[0]}return null}getColAfter(e){const t=this.allCols,i=t.indexOf(e);return i<t.length-1?t[i+1]:null}getColsLeftWidth(){return pc(this.leftCols)}getDisplayedColumnsRightWidth(){return pc(this.rightCols)}isColAtEdge(e,t){const i=this.allCols;if(!i.length)return!1;const n=t==="first";let s;if(dn(e)){const r=e.getDisplayedLeafColumns();if(!r.length)return!1;s=n?r[0]:bi(r)}else s=e;return(n?i[0]:bi(i))===s}};function Hh(e,t,i){if(e)for(let n=0;n<e.length;n++){const s=e[n];if(dn(s)){const r=t?s.getDisplayedChildren():s.getChildren();Hh(r,t,i)}i(s)}}function o1(e){const t=[];return Hh(e,!0,i=>{sd(i)&&t.push(i)}),t}var mue=class extends ye{constructor(){super(...arguments),this.beanName="colGroupSvc"}getColumnGroupState(){const e=[],t=this.beans.colModel.getColTree();return Mc(null,t,i=>{cr(i)&&e.push({groupId:i.getGroupId(),open:i.isExpanded()})}),e}resetColumnGroupState(e){const t=this.beans.colModel.getColDefColTree();if(!t)return;const i=[];Mc(null,t,n=>{if(cr(n)){const s=n.getColGroupDef(),r={groupId:n.getGroupId(),open:s?s.openByDefault:void 0};i.push(r)}}),this.setColumnGroupState(i,e)}setColumnGroupState(e,t){const{colModel:i,colAnimation:n,visibleCols:s,eventSvc:r}=this.beans;if(!i.getColTree().length)return;n==null||n.start();const a=[];e.forEach(l=>{const u=l.groupId,d=l.open,p=this.getProvidedColGroup(u);p&&p.isExpanded()!==d&&(p.setExpanded(d),a.push(p))}),s.refresh(t,!0),a.length&&r.dispatchEvent({type:"columnGroupOpened",columnGroup:a.length===1?a[0]:void 0,columnGroups:a}),n==null||n.finish()}setColumnGroupOpened(e,t,i){let n;cr(e)?n=e.getId():n=e||"",this.setColumnGroupState([{groupId:n,open:t}],i)}getProvidedColGroup(e){let t=null;return Mc(null,this.beans.colModel.getColTree(),i=>{cr(i)&&i.getId()===e&&(t=i)}),t}getGroupAtDirection(e,t){const i=e.getProvidedColumnGroup().getLevel()+e.getPaddingLevel(),n=e.getDisplayedLeafColumns(),s=t==="After"?bi(n):n[0],r=`getCol${t}`;for(;;){const o=this.beans.visibleCols[r](s);if(!o)return null;const a=this.getColGroupAtLevel(o,i);if(a!==e)return a}}getColGroupAtLevel(e,t){let i=e.getParent(),n,s;for(;n=i.getProvidedColumnGroup().getLevel(),s=i.getPaddingLevel(),!(n+s<=t);)i=i.getParent();return i}updateOpenClosedVisibility(){const e=this.beans.visibleCols.getAllTrees();Hh(e,!1,t=>{dn(t)&&t.calculateDisplayedColumns()})}getColumnGroup(e,t){if(!e)return null;if(dn(e))return e;const i=this.beans.visibleCols.getAllTrees(),n=typeof t=="number";let s=null;return Hh(i,!1,r=>{if(dn(r)){const o=r;let a;n?a=e===o.getGroupId()&&t===o.getPartId():a=e===o.getGroupId(),a&&(s=o)}}),s}createColumnGroups(e){const{columns:t,idCreator:i,pinned:n,oldDisplayedGroups:s,isStandaloneStructure:r}=e,o=this.mapOldGroupsById(s),a=[];let l=t;for(;l.length;){const u=l;l=[];let d=0;const p=f=>{const m=d;d=f;const y=u[m],w=(dn(y)?y.getProvidedColumnGroup():y).getOriginalParent();if(w==null){for(let S=m;S<f;S++)a.push(u[S]);return}const b=this.createColumnGroup(w,i,o,n,r);for(let S=m;S<f;S++)b.addChild(u[S]);l.push(b)};for(let f=1;f<u.length;f++){const m=u[f],C=(dn(m)?m.getProvidedColumnGroup():m).getOriginalParent(),w=u[d],S=(dn(w)?w.getProvidedColumnGroup():w).getOriginalParent();C!==S&&p(f)}d<u.length&&p(u.length)}return r||this.setupParentsIntoCols(a,null),a}createProvidedColumnGroup(e,t,i,n,s,r,o){const a=s.getUniqueKey(t.groupId||null,null),l=this.createMergedColGroupDef(t,a),u=new Lw(l,a,!1,i);this.createBean(u);const d=this.findExistingGroup(t,r);d&&r.splice(d.idx,1);const p=d==null?void 0:d.group;p&&u.setExpanded(p.isExpanded());const f=mj(this.beans,l.children,i+1,e,n,s,r,o);return u.setChildren(f),u}balanceColumnTree(e,t,i,n){const s=[];for(let r=0;r<e.length;r++){const o=e[r];if(cr(o)){const a=o,l=this.balanceColumnTree(a.getChildren(),t+1,i,n);a.setChildren(l),s.push(a)}else{let a,l;for(let u=i-1;u>=t;u--){const d=n.getUniqueKey(null,null),p=this.createMergedColGroupDef(null,d),f=new Lw(p,d,!0,t);this.createBean(f),l&&l.setChildren([f]),l=f,a||(a=l)}if(a&&l)if(s.push(a),e.some(d=>cr(d))){l.setChildren([o]);continue}else{l.setChildren(e);break}s.push(o)}}return s}findDepth(e){let t=0,i=e;for(;i&&i[0]&&cr(i[0]);)t++,i=i[0].getChildren();return t}findMaxDepth(e,t){let i=t;for(let n=0;n<e.length;n++){const s=e[n];if(cr(s)){const r=s,o=this.findMaxDepth(r.getChildren(),t+1);i<o&&(i=o)}}return i}balanceTreeForAutoCols(e,t){const i=[];return e.forEach(n=>{let s=n;for(let r=t-1;r>=0;r--){const o=new Lw(null,`FAKE_PATH_${n.getId()}}_${r}`,!0,r);this.createBean(o),o.setChildren([s]),s.originalParent=o,s=o}t===0&&(n.originalParent=null),i.push(s)}),i}createMergedColGroupDef(e,t){const i={},{gos:n,validation:s}=this.beans;return Object.assign(i,n.get("defaultColGroupDef")),Object.assign(i,e),s==null||s.validateColDef(i,t),i}findExistingGroup(e,t){if(e.groupId!=null)for(let n=0;n<t.length;n++){const s=t[n];if(s.getColGroupDef()&&s.getId()===e.groupId)return{idx:n,group:s}}}createColumnGroup(e,t,i,n,s){const r=e.getGroupId(),o=t.getInstanceIdForKey(r),a=Bj(r,o);let l=i[a];return l&&l.getProvidedColumnGroup()!==e&&(l=null),Ne(l)?l.reset():(l=new zj(e,r,o,n),s||this.createBean(l)),l}mapOldGroupsById(e){const t={},i=n=>{n.forEach(s=>{if(dn(s)){const r=s;t[s.getUniqueId()]=r,i(r.getChildren())}})};return e&&i(e),t}setupParentsIntoCols(e,t){e.forEach(i=>{if(i.parent=t,dn(i)){const n=i;this.setupParentsIntoCols(n.getChildren(),n)}})}},yue={moduleName:"ColumnGroup",version:Ge,dynamicBeans:{headerGroupCellCtrl:iue},beans:[mue],apiFunctions:{getAllDisplayedColumnGroups:pue,getCenterDisplayedColumnGroups:due,getColumnGroup:sue,getColumnGroupState:aue,getDisplayNameForColumnGroup:oue,getLeftDisplayedColumnGroups:uue,getProvidedColumnGroup:rue,getRightDisplayedColumnGroups:hue,resetColumnGroupState:cue,setColumnGroupOpened:nue,setColumnGroupState:lue}},vue={moduleName:"CheckboxCellRenderer",version:Ge,userComponents:{agCheckboxCellRenderer:Ole}};function Cue(e,t){const i=e.colModel.getColDefCol(t);return i?i.getColDef():null}function bue(e){return e.colModel.getColumnDefs()}function wue(e,t,i){return e.colNames.getDisplayNameForColumn(t,i)||""}function Sue(e,t){return e.colModel.getColDefCol(t)}function xue(e){return e.colModel.getColDefCols()}function Mue(e,t){return Ko(e,t,"api")}function Due(e){return Bv(e)}function Rue(e){Xre(e,"api")}function Eue(e){return e.visibleCols.isPinningLeft()||e.visibleCols.isPinningRight()}function Tue(e){return e.visibleCols.isPinningLeft()}function Aue(e){return e.visibleCols.isPinningRight()}function Iue(e,t){return e.visibleCols.getColAfter(t)}function Lue(e,t){return e.visibleCols.getColBefore(t)}function kue(e,t,i){e.colModel.setColsVisible(t,i,"api")}function Pue(e,t,i){var n;(n=e.pinnedCols)==null||n.setColsPinned(t,i,"api")}function Fue(e){return e.colModel.getCols()}function Oue(e){return e.visibleCols.leftCols}function Nue(e){return e.visibleCols.centerCols}function Bue(e){return e.visibleCols.rightCols}function zue(e){return e.visibleCols.allCols}function Gue(e){return e.colViewport.getViewportColumns()}function eA(e,t){if(!e)return;const i=e,n={};return Object.keys(i).forEach(s=>{if(t&&t.indexOf(s)>=0||dj.has(s))return;const r=i[s];typeof r=="object"&&r!==null&&r.constructor===Object?n[s]=eA(r):n[s]=r}),n}var Hue=class extends ye{constructor(){super(...arguments),this.beanName="colDefFactory"}wireBeans(e){this.rowGroupColsSvc=e.rowGroupColsSvc,this.pivotColsSvc=e.pivotColsSvc}getColumnDefs(e,t,i,n){var a,l;const s=e.slice();t?s.sort((u,d)=>i.indexOf(u)-i.indexOf(d)):i&&s.sort((u,d)=>n.indexOf(u)-n.indexOf(d));const r=(a=this.rowGroupColsSvc)==null?void 0:a.columns,o=(l=this.pivotColsSvc)==null?void 0:l.columns;return this.buildColumnDefs(s,r,o)}buildColumnDefs(e,t=[],i=[]){const n=[],s={};return e.forEach(r=>{const o=this.createDefFromColumn(r,t,i);let a=!0,l=o,u=r.getOriginalParent(),d=null;for(;u;){let p=null;if(u.isPadding()){u=u.getOriginalParent();continue}const f=s[u.getGroupId()];if(f){f.children.push(l),a=!1;break}if(p=this.createDefFromGroup(u),p&&(p.children=[l],s[p.groupId]=p,l=p,u=u.getOriginalParent()),u!=null&&d===u){a=!1;break}d=u}a&&n.push(l)}),n}createDefFromGroup(e){const t=eA(e.getColGroupDef(),["children"]);return t&&(t.groupId=e.getGroupId()),t}createDefFromColumn(e,t,i){const n=eA(e.getColDef());return n.colId=e.getColId(),n.width=e.getActualWidth(),n.rowGroup=e.isRowGroupActive(),n.rowGroupIndex=e.isRowGroupActive()?t.indexOf(e):null,n.pivot=e.isPivotActive(),n.pivotIndex=e.isPivotActive()?i.indexOf(e):null,n.aggFunc=e.isValueActive()?e.getAggFunc():null,n.hide=e.isVisible()?void 0:!0,n.pinned=e.isPinned()?e.getPinned():null,n.sort=e.getSort()?e.getSort():null,n.sortIndex=e.getSortIndex()!=null?e.getSortIndex():null,n}},_ue=class extends ye{constructor(){super(...arguments),this.beanName="colFlex"}refreshFlexedColumns(e={}){const t=e.source??"flex";e.viewportWidth!=null&&(this.flexViewportWidth=e.viewportWidth);const i=this.flexViewportWidth;if(!i)return[];const{visibleCols:n}=this.beans,s=n.centerCols;let r=-1;if(e.resizingCols){const y=new Set(e.resizingCols);for(let C=s.length-1;C>=0;C--)if(y.has(s[C])){r=C;break}}let o=!1;const a=s.map((y,C)=>{const w=y.getFlex(),b=w!=null&&w>0&&C>r;return o||(o=b),{col:y,isFlex:b,flex:Math.max(0,w??0),initialSize:y.getActualWidth(),min:y.getMinWidth(),max:y.getMaxWidth(),targetSize:0}});if(!o)return[];let l=a.length,u=a.reduce((y,C)=>y+C.flex,0),d=i;const p=(y,C)=>{y.frozenSize=C,y.col.setActualWidth(C,t),d-=C,u-=y.flex,l-=1},f=y=>y.frozenSize!=null;for(const y of a)y.isFlex||p(y,y.initialSize);for(;l>0;){const y=Math.round(u<1?d*u:d);let C,w=0,b=0;for(const D of a){if(f(D))continue;C=D,b+=y*(D.flex/u);const R=b-w,A=Math.round(R);D.targetSize=A,w+=A}C&&(C.targetSize+=y-w);let S=0;for(const D of a){if(f(D))continue;const R=D.targetSize,A=Math.min(Math.max(R,D.min),D.max);S+=A-R,D.violationType=A===R?void 0:A<R?"max":"min",D.targetSize=A}const M=S===0?"all":S>0?"min":"max";for(const D of a)f(D)||(M==="all"||D.violationType===M)&&p(D,D.targetSize)}e.skipSetLeft||n.setLeftValues(t),e.updateBodyWidths&&n.updateBodyWidths();const m=a.filter(y=>y.isFlex&&!y.violationType).map(y=>y.col);if(e.fireResizedEvent){const y=a.filter(w=>w.initialSize!==w.frozenSize).map(w=>w.col),C=a.filter(w=>w.flex).map(w=>w.col);xg(this.eventSvc,y,!0,t,C)}return m}initCol(e){const{flex:t,initialFlex:i}=e.colDef;t!==void 0?e.flex=t:i!==void 0&&(e.flex=i)}setColFlex(e,t){e.flex=t??null,e.dispatchStateUpdatedEvent("flex")}},jue=class extends ye{constructor(){super(...arguments),this.beanName="dataTypeSvc",this.dataTypeDefinitions={},this.isPendingInference=!1,this.isColumnTypeOverrideInDataTypeDefinitions=!1,this.columnStateUpdatesPendingInference={},this.columnStateUpdateListenerDestroyFuncs=[]}wireBeans(e){this.colModel=e.colModel}postConstruct(){this.processDataTypeDefinitions(),this.addManagedPropertyListener("dataTypeDefinitions",e=>{this.processDataTypeDefinitions(),this.colModel.recreateColumnDefs(e)})}processDataTypeDefinitions(){const e=this.getDefaultDataTypes(),t={};this.dataTypeDefinitions=t;const i={};this.formatValueFuncs=i;const n=o=>a=>{const{column:l,node:u,value:d}=a;let p=l.getColDef().valueFormatter;return p===o.groupSafeValueFormatter&&(p=o.valueFormatter),this.beans.valueSvc.formatValue(l,u,d,p)};for(const o of Object.keys(e)){const a=e[o],l={...a,groupSafeValueFormatter:QB(a,this.gos)};t[o]=l,i[o]=n(l)}const s=this.gos.get("dataTypeDefinitions")??{},r={};this.dataTypeMatchers=r;for(const o of Object.keys(s)){const a=s[o],l=this.processDataTypeDefinition(a,s,[o],e);l&&(t[o]=l,a.dataTypeMatcher&&(r[o]=a.dataTypeMatcher),i[o]=n(l))}this.checkObjectValueHandlers(e),["dateString","text","number","boolean","date"].forEach(o=>{const a=r[o];a&&delete r[o],r[o]=a??e[o].dataTypeMatcher})}processDataTypeDefinition(e,t,i,n){let s;const r=e.extendsDataType;if(e.columnTypes&&(this.isColumnTypeOverrideInDataTypeDefinitions=!0),e.extendsDataType===e.baseDataType){let o=n[r];const a=t[r];if(o&&a&&(o=a),!XB(e,o,r))return;s=ZB(o,e)}else{if(i.includes(r)){Ae(44);return}const o=t[r];if(!XB(e,o,r))return;const a=this.processDataTypeDefinition(o,t,[...i,r],n);if(!a)return;s=ZB(a,e)}return{...s,groupSafeValueFormatter:QB(s,this.gos)}}updateColDefAndGetColumnType(e,t,i){let{cellDataType:n}=t;const{field:s}=t;if(n===void 0&&(n=e.cellDataType),(n==null||n===!0)&&(n=this.canInferCellDataType(e,t)?this.inferCellDataType(s,i):!1),!n){e.cellDataType=!1;return}const r=this.dataTypeDefinitions[n];if(!r){Ae(47,{cellDataType:n});return}return e.cellDataType=n,r.groupSafeValueFormatter&&(e.valueFormatter=r.groupSafeValueFormatter),r.valueParser&&(e.valueParser=r.valueParser),r.suppressDefaultProperties||this.setColDefPropertiesForBaseDataType(e,n,r,i),r.columnTypes}addColumnListeners(e){if(!this.isPendingInference)return;const t=this.columnStateUpdatesPendingInference[e.getColId()];if(!t)return;const i=n=>{t.add(n.key)};e.__addEventListener("columnStateUpdated",i),this.columnStateUpdateListenerDestroyFuncs.push(()=>e.__removeEventListener("columnStateUpdated",i))}canInferCellDataType(e,t){const{gos:i}=this;if(!$s(i))return!1;const n={cellRenderer:!0,valueGetter:!0,valueParser:!0,refData:!0};if(a1(t,n))return!1;const s=t.type===null?e.type:t.type;if(s){const r=i.get("columnTypes")??{};if(xS(s).some(a=>{const l=r[a.trim()];return l&&a1(l,n)}))return!1}return!a1(e,n)}inferCellDataType(e,t){if(!e)return;let i;const n=this.getInitialData();if(n){const s=e.indexOf(".")>=0&&!this.gos.get("suppressFieldDotNotation");i=iv(n,e,s)}else this.initWaitForRowData(t);if(i!=null)return Object.keys(this.dataTypeMatchers).find(s=>this.dataTypeMatchers[s](i))??"object"}getInitialData(){var t;const e=this.gos.get("rowData");if(e!=null&&e.length)return e[0];if(this.initialData)return this.initialData;{const i=(t=this.beans.rowModel.rootNode)==null?void 0:t.allLeafChildren;if(i!=null&&i.length)return i[0].data}return null}initWaitForRowData(e){if(this.columnStateUpdatesPendingInference[e]=new Set,this.isPendingInference)return;this.isPendingInference=!0;const t=this.isColumnTypeOverrideInDataTypeDefinitions,{colAutosize:i,eventSvc:n}=this.beans;t&&i&&(i.shouldQueueResizeOperations=!0);const[s]=this.addManagedEventListeners({rowDataUpdateStarted:r=>{const{firstRowData:o}=r;o&&(s==null||s(),this.isPendingInference=!1,this.processColumnsPendingInference(o,t),this.columnStateUpdatesPendingInference={},t&&(i==null||i.processResizeOperations()),n.dispatchEvent({type:"dataTypesInferred"}))}})}processColumnsPendingInference(e,t){this.initialData=e;const i=[];this.destroyColumnStateUpdateListeners();const n={},s={};for(const r of Object.keys(this.columnStateUpdatesPendingInference)){const o=this.columnStateUpdatesPendingInference[r],a=this.colModel.getCol(r);if(!a)return;const l=a.getColDef();if(!this.resetColDefIntoCol(a,"cellDataTypeInferred"))return;const u=a.getColDef();if(t&&u.type&&u.type!==l.type){const d=Wue(a,o);d.rowGroup&&d.rowGroupIndex==null&&(n[r]=d),d.pivot&&d.pivotIndex==null&&(s[r]=d),i.push(d)}}t&&i.push(...this.generateColumnStateForRowGroupAndPivotIndexes(n,s)),i.length&&Ko(this.beans,{state:i},"cellDataTypeInferred"),this.initialData=null}generateColumnStateForRowGroupAndPivotIndexes(e,t){const i={},{rowGroupColsSvc:n,pivotColsSvc:s}=this.beans;return n==null||n.restoreColumnOrder(i,e),s==null||s.restoreColumnOrder(i,t),Object.values(i)}resetColDefIntoCol(e,t){const i=e.getUserProvidedColDef();if(!i)return!1;const n=YT(this.beans,i,e.getColId());return e.setColDef(n,i,t),!0}checkObjectValueHandlers(e){const t=this.dataTypeDefinitions.object,i=e.object;this.hasObjectValueParser=t.valueParser!==i.valueParser,this.hasObjectValueFormatter=t.valueFormatter!==i.valueFormatter}getDateStringTypeDefinition(e){const{dateString:t}=this.dataTypeDefinitions;return e?this.getDataTypeDefinition(e)??t:t}getDateParserFunction(e){return this.getDateStringTypeDefinition(e).dateParser}getDateFormatterFunction(e){return this.getDateStringTypeDefinition(e).dateFormatter}getDataTypeDefinition(e){const t=e.getColDef();if(t.cellDataType)return this.dataTypeDefinitions[t.cellDataType]}getBaseDataType(e){var t;return(t=this.getDataTypeDefinition(e))==null?void 0:t.baseDataType}checkType(e,t){var n;if(t==null)return!0;const i=(n=this.getDataTypeDefinition(e))==null?void 0:n.dataTypeMatcher;return i?i(t):!0}validateColDef(e){const t=i=>Ae(48,{property:i});if(e.cellDataType==="object"){const{object:i}=this.dataTypeDefinitions;e.valueFormatter===i.groupSafeValueFormatter&&!this.hasObjectValueFormatter&&t("Formatter"),e.editable&&e.valueParser===i.valueParser&&!this.hasObjectValueParser&&t("Parser")}}getFormatValue(e){return this.formatValueFuncs[e]}isColPendingInference(e){return this.isPendingInference&&!!this.columnStateUpdatesPendingInference[e]}setColDefPropertiesForBaseDataType(e,t,i,n){var r;const s=this.formatValueFuncs[t];switch(i.baseDataType){case"number":{e.cellEditor="agNumberCellEditor";break}case"boolean":{e.cellEditor="agCheckboxCellEditor",e.cellRenderer="agCheckboxCellRenderer",e.suppressKeyboardEvent=o=>!!o.colDef.editable&&o.event.key===ge.SPACE;break}case"date":{e.cellEditor="agDateCellEditor",e.keyCreator=s;break}case"dateString":{e.cellEditor="agDateStringCellEditor",e.keyCreator=s;break}case"object":{e.cellEditorParams={useFormatter:!0},e.comparator=(o,a)=>{const l=this.colModel.getColDefCol(n),u=l==null?void 0:l.getColDef();if(!l||!u)return 0;const d=o==null?"":s({column:l,node:null,value:o}),p=a==null?"":s({column:l,node:null,value:a});return d===p?0:d>p?1:-1},e.keyCreator=s;break}}(r=this.beans.filterManager)==null||r.setColDefPropertiesForDataType(e,i,s)}getDefaultDataTypes(){const e=i=>!!i.match("^\\d{4}-\\d{2}-\\d{2}$"),t=this.getLocaleTextFunc();return{number:{baseDataType:"number",valueParser:i=>{var n,s;return((s=(n=i.newValue)==null?void 0:n.trim)==null?void 0:s.call(n))===""?null:Number(i.newValue)},valueFormatter:i=>i.value==null?"":typeof i.value!="number"||isNaN(i.value)?t("invalidNumber","Invalid Number"):String(i.value),dataTypeMatcher:i=>typeof i=="number"},text:{baseDataType:"text",valueParser:i=>i.newValue===""?null:HT(i.newValue),dataTypeMatcher:i=>typeof i=="string"},boolean:{baseDataType:"boolean",valueParser:i=>{var n,s;return i.newValue==null?i.newValue:((s=(n=i.newValue)==null?void 0:n.trim)==null?void 0:s.call(n))===""?null:String(i.newValue).toLowerCase()==="true"},valueFormatter:i=>i.value==null?"":String(i.value),dataTypeMatcher:i=>typeof i=="boolean"},date:{baseDataType:"date",valueParser:i=>Ir(i.newValue==null?null:String(i.newValue)),valueFormatter:i=>i.value==null?"":!(i.value instanceof Date)||isNaN(i.value.getTime())?t("invalidDate","Invalid Date"):qo(i.value,!1)??"",dataTypeMatcher:i=>i instanceof Date},dateString:{baseDataType:"dateString",dateParser:i=>Ir(i)??void 0,dateFormatter:i=>qo(i??null,!1)??void 0,valueParser:i=>e(String(i.newValue))?i.newValue:null,valueFormatter:i=>e(String(i.value))?i.value:"",dataTypeMatcher:i=>typeof i=="string"&&e(i)},object:{baseDataType:"object",valueParser:()=>null,valueFormatter:i=>HT(i.value)??""}}}destroyColumnStateUpdateListeners(){this.columnStateUpdateListenerDestroyFuncs.forEach(e=>e()),this.columnStateUpdateListenerDestroyFuncs=[]}destroy(){this.dataTypeDefinitions={},this.dataTypeMatchers={},this.formatValueFuncs={},this.columnStateUpdatesPendingInference={},this.destroyColumnStateUpdateListeners(),super.destroy()}};function ZB(e,t){const i={...e,...t};return e.columnTypes&&t.columnTypes&&t.appendColumnTypes&&(i.columnTypes=[...xS(e.columnTypes),...xS(t.columnTypes)]),i}function XB(e,t,i){return t?t.baseDataType!==e.baseDataType?(Ae(46),!1):!0:(Ae(45,{parentCellDataType:i}),!1)}function QB(e,t){if(e.valueFormatter)return i=>{var n,s;if((n=i.node)!=null&&n.group){const r=(i.colDef.pivotValueColumn??i.column).getAggFunc();if(r){if(r==="first"||r==="last")return e.valueFormatter(i);if(e.baseDataType==="number"&&r!=="count"){if(typeof i.value=="number")return e.valueFormatter(i);if(typeof i.value=="object"){if(!i.value)return;if("toNumber"in i.value)return e.valueFormatter({...i,value:i.value.toNumber()});if("value"in i.value)return e.valueFormatter({...i,value:i.value.value})}}return}if(t.get("groupDisplayType")==="groupRows"&&!t.get("treeData"))return}else if(t.get("groupHideOpenParents")&&i.column.isRowGroupActive()&&typeof i.value=="string"&&!((s=e.dataTypeMatcher)!=null&&s.call(e,i.value)))return;return e.valueFormatter(i)}}function Vue(e,t,i,n){if(!t[i])return!1;const s=e[i];return s===null?(t[i]=!1,!1):n===void 0?!!s:s===n}function a1(e,t){return[["cellRenderer","agSparklineCellRenderer"],["valueGetter",void 0],["valueParser",void 0],["refData",void 0]].some(([i,n])=>Vue(e,t,i,n))}function Wue(e,t){const i=xj(e);return t.forEach(n=>{delete i[n],n==="rowGroup"?delete i.rowGroupIndex:n==="pivot"&&delete i.pivotIndex}),i}var Uue={moduleName:"DataType",version:Ge,beans:[jue],dependsOn:[vue]},$ue={moduleName:"ColumnFlex",version:Ge,beans:[_ue]},Yue={moduleName:"ColumnApi",version:Ge,beans:[Hue],apiFunctions:{getColumnDef:Cue,getDisplayNameForColumn:wue,getColumn:Sue,getColumns:xue,applyColumnState:Mue,getColumnState:Due,resetColumnState:Rue,isPinning:Eue,isPinningLeft:Tue,isPinningRight:Aue,getDisplayedColAfter:Iue,getDisplayedColBefore:Lue,setColumnsVisible:kue,setColumnsPinned:Pue,getAllGridColumns:Fue,getDisplayedLeftColumns:Oue,getDisplayedCenterColumns:Nue,getDisplayedRightColumns:Bue,getAllDisplayedColumns:zue,getAllDisplayedVirtualColumns:Gue,getColumnDefs:bue}};function Kue(e){if(!e||e==null)return null;const t=/([a-z])([A-Z])/g,i=/([A-Z]+)([A-Z])([a-z])/g;return e.replace(t,"$1 $2").replace(i,"$1 $2$3").replace(/\./g," ").split(" ").map(s=>s.substring(0,1).toUpperCase()+(s.length>1?s.substring(1,s.length):"")).join(" ")}var que=class extends ye{constructor(){super(...arguments),this.beanName="colNames"}getDisplayNameForColumn(e,t,i=!1){if(!e)return null;const n=this.getHeaderName(e.getColDef(),e,null,null,t),{aggColNameSvc:s}=this.beans;return i&&s?s.getHeaderName(e,n):n}getDisplayNameForProvidedColumnGroup(e,t,i){const n=t==null?void 0:t.getColGroupDef();return n?this.getHeaderName(n,null,e,t,i):null}getDisplayNameForColumnGroup(e,t){return this.getDisplayNameForProvidedColumnGroup(e,e.getProvidedColumnGroup(),t)}getHeaderName(e,t,i,n,s){var o;const r=e.headerValueGetter;if(r){const a=ut(this.gos,{colDef:e,column:t,columnGroup:i,providedColumnGroup:n,location:s});return typeof r=="function"?r(a):typeof r=="string"?((o=this.beans.expressionSvc)==null?void 0:o.evaluate(r,a))??null:""}else{if(e.headerName!=null)return e.headerName;if(e.field)return Kue(e.field)}return""}},Zue=class extends ye{constructor(){super(...arguments),this.beanName="colViewport",this.colsWithinViewport=[],this.headerColsWithinViewport=[],this.colsWithinViewportHash="",this.rowsOfHeadersToRenderLeft={},this.rowsOfHeadersToRenderRight={},this.rowsOfHeadersToRenderCenter={}}wireBeans(e){this.visibleCols=e.visibleCols,this.colModel=e.colModel}postConstruct(){this.suppressColumnVirtualisation=this.gos.get("suppressColumnVirtualisation")}setScrollPosition(e,t,i=!1){const{visibleCols:n}=this,s=n.isBodyWidthDirty;if(!(e===this.scrollWidth&&t===this.scrollPosition&&!s)){if(this.scrollWidth=e,this.scrollPosition=t,n.isBodyWidthDirty=!0,this.gos.get("enableRtl")){const o=n.bodyWidth;this.viewportLeft=o-t-e,this.viewportRight=o-t}else this.viewportLeft=t,this.viewportRight=e+t;this.colModel.ready&&this.checkViewportColumns(i)}}getHeadersToRender(e,t){let i;switch(e){case"left":i=this.rowsOfHeadersToRenderLeft[t];break;case"right":i=this.rowsOfHeadersToRenderRight[t];break;default:i=this.rowsOfHeadersToRenderCenter[t];break}return i||[]}extractViewportColumns(){const e=this.visibleCols.centerCols;this.isColumnVirtualisationSuppressed()?(this.colsWithinViewport=e,this.headerColsWithinViewport=e):(this.colsWithinViewport=e.filter(this.isColumnInRowViewport.bind(this)),this.headerColsWithinViewport=e.filter(this.isColumnInHeaderViewport.bind(this)))}isColumnVirtualisationSuppressed(){return this.suppressColumnVirtualisation||this.viewportRight===0}clear(e){this.rowsOfHeadersToRenderLeft={},this.rowsOfHeadersToRenderRight={},this.rowsOfHeadersToRenderCenter={},e||(this.colsWithinViewportHash="")}isColumnInHeaderViewport(e){return e.isAutoHeaderHeight()||Xue(e)?!0:this.isColumnInRowViewport(e)}isColumnInRowViewport(e){if(e.isAutoHeight())return!0;const t=e.getLeft()||0,i=t+e.getActualWidth(),n=this.viewportLeft-200,s=this.viewportRight+200,r=t<n&&i<n,o=t>s&&i>s;return!r&&!o}getViewportColumns(){const{leftCols:e,rightCols:t}=this.visibleCols;return this.colsWithinViewport.concat(e).concat(t)}getColsWithinViewport(e){if(!this.colModel.colSpanActive)return this.colsWithinViewport;const t=r=>{const o=r.getLeft();return Ne(o)&&o>this.viewportLeft},i=this.isColumnVirtualisationSuppressed()?void 0:this.isColumnInRowViewport.bind(this),{visibleCols:n}=this,s=n.centerCols;return n.getColsForRow(e,s,i,t)}checkViewportColumns(e=!1){this.extractViewport()&&this.eventSvc.dispatchEvent({type:"virtualColumnsChanged",afterScroll:e})}calculateHeaderRows(){this.clear(!0);const e={},{leftCols:t,rightCols:i,treeLeft:n,treeRight:s,treeCenter:r}=this.visibleCols;this.headerColsWithinViewport.concat(t).concat(i).forEach(l=>e[l.getId()]=!0);const a=(l,u,d)=>{let p=!1;for(let f=0;f<l.length;f++){const m=l[f];let y=!1;if(sd(m))y=e[m.getId()]===!0;else{const w=m.getDisplayedChildren();w&&(y=a(w,u,d+1))}y&&(p=!0,u[d]||(u[d]=[]),u[d].push(m))}return p};a(n,this.rowsOfHeadersToRenderLeft,0),a(s,this.rowsOfHeadersToRenderRight,0),a(r,this.rowsOfHeadersToRenderCenter,0)}extractViewport(){const e=n=>`${n.getId()}-${n.getPinned()||"normal"}`;this.extractViewportColumns();const t=this.getViewportColumns().map(e).join("#"),i=this.colsWithinViewportHash!==t;return i&&(this.colsWithinViewportHash=t,this.calculateHeaderRows()),i}};function Xue(e){for(;e;){if(e.isAutoHeaderHeight())return!0;e=e.getParent()}return!1}var Que=class extends ye{constructor(){super(...arguments),this.beanName="agCompUtils"}adaptFunction(e,t){if(!e.cellRenderer)return null;class i{refresh(){return!1}getGui(){return this.eGui}init(s){const r=t(s),o=typeof r;if(o==="string"||o==="number"||o==="boolean"){this.eGui=Pv("<span>"+r+"</span>");return}if(r==null){this.eGui=Pv("<span></span>");return}this.eGui=r}}return i}},Jue={moduleName:"CellRendererFunction",version:Ge,beans:[Que]},ede=class extends ye{constructor(){super(...arguments),this.beanName="registry",this.agGridDefaults={},this.agGridDefaultParams={},this.jsComps={},this.dynamicBeans={},this.selectors={},this.icons={}}postConstruct(){const e=this.gos.get("components");if(e!=null)for(const t of Object.keys(e))this.jsComps[t]=e[t]}registerModule(e){const{icons:t,userComponents:i,dynamicBeans:n,selectors:s}=e;if(i){const r=(o,a,l)=>{this.agGridDefaults[o]=a,l&&(this.agGridDefaultParams[o]=l)};for(const o of Object.keys(i)){const a=i[o];typeof a=="object"?r(o,a.classImp,a.params):r(o,a)}}if(n)for(const r of Object.keys(n))this.dynamicBeans[r]=n[r];if(s==null||s.forEach(r=>{this.selectors[r.selector]=r}),t)for(const r of Object.keys(t))this.icons[r]=t[r]}getUserComponent(e,t){var a;const i=(l,u,d)=>({componentFromFramework:u,component:l,params:d}),{frameworkOverrides:n}=this.beans,s=n.frameworkComponent(t,this.gos.get("components"));if(s!=null)return i(s,!0);const r=this.jsComps[t];if(r){const l=n.isFrameworkComponent(r);return i(r,l)}const o=this.agGridDefaults[t];return o?i(o,!1,this.agGridDefaultParams[t]):((a=this.beans.validation)==null||a.missingUserComponent(e,t,this.agGridDefaults,this.jsComps),null)}createDynamicBean(e,t,...i){const n=this.dynamicBeans[e];if(n==null){if(t)throw new Error(Zu(256));return}return new n(...i)}getSelector(e){return this.selectors[e]}getIcon(e){return this.icons[e]}},tde=23,ide=class extends ye{constructor(){super(...arguments),this.beanName="ctrlsSvc",this.params={},this.ready=!1,this.readyCallbacks=[]}postConstruct(){var e,t;this.addEventListener("ready",()=>{this.updateReady(),this.ready&&(this.readyCallbacks.forEach(i=>i(this.params)),this.readyCallbacks.length=0)},((t=(e=this.beans.frameworkOverrides).runWhenReadyAsync)==null?void 0:t.call(e))??!1)}updateReady(){const e=Object.values(this.params);this.ready=e.length===tde&&e.every(t=>(t==null?void 0:t.isAlive())??!1)}whenReady(e,t){this.ready?t(this.params):this.readyCallbacks.push(t),e.addDestroyFunc(()=>{const i=this.readyCallbacks.indexOf(t);i>=0&&this.readyCallbacks.splice(i,1)})}register(e,t){this.params[e]=t,this.updateReady(),this.ready&&this.dispatchLocalEvent({type:"ready"}),t.addDestroyFunc(()=>{this.updateReady()})}get(e){return this.params[e]}getGridBodyCtrl(){return this.params.gridBodyCtrl}getHeaderRowContainerCtrls(){const{leftHeader:e,centerHeader:t,rightHeader:i}=this.params;return[e,i,t]}getHeaderRowContainerCtrl(e){const t=this.params;switch(e){case"left":return t.leftHeader;case"right":return t.rightHeader;default:return t.centerHeader}}getScrollFeature(){return this.getGridBodyCtrl().scrollFeature}},nde=':where(.ag-root-wrapper,.ag-popup,.ag-dnd-ghost,.ag-chart),:where(.ag-root-wrapper,.ag-popup,.ag-dnd-ghost,.ag-chart) :where([class^=ag-]){box-sizing:border-box;&:after,&:before{box-sizing:border-box}&:where(div,span,label):focus-visible{box-shadow:inset var(--ag-focus-shadow);outline:none}}:where(.ag-root-wrapper,.ag-popup,.ag-dnd-ghost,.ag-chart) :where([class^=ag-]) ::-ms-clear{display:none}.ag-aria-description-container{border:0;z-index:9999;clip:rect(1px,1px,1px,1px);height:1px;overflow:hidden;padding:0;position:absolute;white-space:nowrap;width:1px}.ag-hidden{display:none!important}.ag-invisible{visibility:hidden!important}.ag-unselectable{-webkit-user-select:none;-moz-user-select:none;user-select:none}.ag-selectable{-webkit-user-select:text;-moz-user-select:text;user-select:text}.ag-tab-guard{display:block;height:0;position:absolute;width:0}:where(.ag-virtual-list-viewport) .ag-tab-guard{position:sticky}.ag-tab-guard-top{top:1px}.ag-tab-guard-bottom{bottom:1px}.ag-shake-left-to-right{animation-direction:alternate;animation-duration:.2s;animation-iteration-count:infinite;animation-name:ag-shake-left-to-right}@keyframes ag-shake-left-to-right{0%{padding-left:6px;padding-right:2px}to{padding-left:2px;padding-right:6px}}.ag-body-horizontal-scroll-viewport,.ag-body-vertical-scroll-viewport,.ag-body-viewport,.ag-center-cols-viewport,.ag-floating-bottom-viewport,.ag-floating-top-viewport,.ag-header-viewport,.ag-sticky-bottom-viewport,.ag-sticky-top-viewport,.ag-virtual-list-viewport{flex:1 1 auto;height:100%;min-width:0;overflow:hidden;position:relative}.ag-viewport{position:relative}.ag-spanning-container{position:absolute;top:0;z-index:1}.ag-body-viewport,.ag-center-cols-viewport,.ag-floating-bottom-viewport,.ag-floating-top-viewport,.ag-header-viewport,.ag-sticky-bottom-viewport,.ag-sticky-top-viewport{overflow-x:auto;-ms-overflow-style:none!important;scrollbar-width:none!important;&::-webkit-scrollbar{display:none!important}}.ag-body-viewport{display:flex;overflow-x:hidden;&:where(.ag-layout-normal){overflow-y:auto;-webkit-overflow-scrolling:touch}}.ag-sticky-bottom-container,.ag-sticky-top-container{min-height:1px}.ag-center-cols-viewport{min-height:100%;width:100%}.ag-body-horizontal-scroll-viewport{overflow-x:scroll}.ag-body-vertical-scroll-viewport{overflow-y:scroll}.ag-virtual-list-viewport{overflow:auto;width:100%}.ag-body-container,.ag-body-horizontal-scroll-container,.ag-body-vertical-scroll-container,.ag-center-cols-container,.ag-floating-bottom-container,.ag-floating-bottom-full-width-container,.ag-floating-top-container,.ag-full-width-container,.ag-header-container,.ag-pinned-left-cols-container,.ag-pinned-right-cols-container,.ag-sticky-bottom-container,.ag-sticky-top-container,.ag-virtual-list-container{position:relative}.ag-floating-bottom-container,.ag-floating-top-container,.ag-header-container,.ag-pinned-left-floating-bottom,.ag-pinned-left-floating-top,.ag-pinned-right-floating-bottom,.ag-pinned-right-floating-top,.ag-sticky-bottom-container,.ag-sticky-top-container{height:100%;white-space:nowrap}.ag-center-cols-container,.ag-pinned-right-cols-container{display:block}.ag-body-horizontal-scroll-container{height:100%}.ag-body-vertical-scroll-container{width:100%}.ag-floating-bottom-full-width-container,.ag-floating-top-full-width-container,.ag-full-width-container,.ag-sticky-bottom-full-width-container,.ag-sticky-top-full-width-container{pointer-events:none;position:absolute;top:0}:where(.ag-ltr) .ag-floating-bottom-full-width-container,:where(.ag-ltr) .ag-floating-top-full-width-container,:where(.ag-ltr) .ag-full-width-container,:where(.ag-ltr) .ag-sticky-bottom-full-width-container,:where(.ag-ltr) .ag-sticky-top-full-width-container{left:0}:where(.ag-rtl) .ag-floating-bottom-full-width-container,:where(.ag-rtl) .ag-floating-top-full-width-container,:where(.ag-rtl) .ag-full-width-container,:where(.ag-rtl) .ag-sticky-bottom-full-width-container,:where(.ag-rtl) .ag-sticky-top-full-width-container{right:0}.ag-full-width-container{width:100%}.ag-floating-bottom-full-width-container,.ag-floating-top-full-width-container{display:inline-block;height:100%;overflow:hidden;width:100%}.ag-virtual-list-container{overflow:hidden}.ag-body{display:flex;flex:1 1 auto;flex-direction:row!important;min-height:0;position:relative}.ag-body-horizontal-scroll,.ag-body-vertical-scroll{display:flex;min-height:0;min-width:0;position:relative;&:where(.ag-scrollbar-invisible){bottom:0;position:absolute;&:where(.ag-apple-scrollbar){opacity:0;transition:opacity .4s;visibility:hidden;&:where(.ag-scrollbar-scrolling,.ag-scrollbar-active){opacity:1;visibility:visible}}}}.ag-body-horizontal-scroll{width:100%;&:where(.ag-scrollbar-invisible){left:0;right:0}}.ag-body-vertical-scroll{height:100%;&:where(.ag-scrollbar-invisible){top:0;z-index:10}}:where(.ag-ltr) .ag-body-vertical-scroll{&:where(.ag-scrollbar-invisible){right:0}}:where(.ag-rtl) .ag-body-vertical-scroll{&:where(.ag-scrollbar-invisible){left:0}}.ag-force-vertical-scroll{overflow-y:scroll!important}.ag-horizontal-left-spacer,.ag-horizontal-right-spacer{height:100%;min-width:0;overflow-x:scroll;&:where(.ag-scroller-corner){overflow-x:hidden}}:where(.ag-row-animation) .ag-row{transition:transform .4s,top .4s,opacity .2s;&:where(.ag-after-created){transition:transform .4s,top .4s,height .4s,opacity .2s}}:where(.ag-row-no-animation) .ag-row{transition:none}.ag-row-loading{align-items:center;display:flex}.ag-row-position-absolute{position:absolute}.ag-row-position-relative{position:relative}.ag-full-width-row{overflow:hidden;pointer-events:all}.ag-row-inline-editing{z-index:1}.ag-row-dragging{z-index:2}.ag-stub-cell{align-items:center;display:flex}.ag-cell{display:inline-block;height:100%;position:absolute;white-space:nowrap;&:focus-visible{box-shadow:none}}.ag-cell-value{flex:1 1 auto}.ag-cell-value,.ag-group-value{overflow:hidden;text-overflow:ellipsis}.ag-cell-wrap-text{white-space:normal;word-break:break-word}:where(.ag-cell) .ag-icon{display:inline-block;vertical-align:middle}.ag-floating-top{border-bottom:var(--ag-pinned-row-border)}.ag-floating-bottom,.ag-floating-top{display:flex;overflow:hidden;position:relative;white-space:nowrap;width:100%}.ag-floating-bottom{border-top:var(--ag-pinned-row-border)}.ag-sticky-bottom,.ag-sticky-top{background-color:var(--ag-background-color);display:flex;height:0;overflow:hidden;position:absolute;width:100%;z-index:1}.ag-opacity-zero{opacity:0!important}.ag-cell-label-container{align-items:center;display:flex;flex-direction:row-reverse;height:100%;justify-content:space-between;width:100%}:where(.ag-right-aligned-header){.ag-cell-label-container{flex-direction:row}.ag-header-cell-text{text-align:end}}.ag-column-group-icons{display:block;>*{cursor:pointer}}:where(.ag-ltr){direction:ltr;.ag-body,.ag-body-horizontal-scroll,.ag-body-viewport,.ag-floating-bottom,.ag-floating-top,.ag-header,.ag-sticky-bottom,.ag-sticky-top{flex-direction:row}}:where(.ag-rtl){direction:rtl;text-align:right;.ag-body,.ag-body-horizontal-scroll,.ag-body-viewport,.ag-floating-bottom,.ag-floating-top,.ag-header,.ag-sticky-bottom,.ag-sticky-top{flex-direction:row-reverse}.ag-icon-contracted,.ag-icon-expanded,.ag-icon-tree-closed{display:block}}:where(.ag-rtl){.ag-icon-contracted,.ag-icon-expanded,.ag-icon-tree-closed{transform:rotate(180deg)}}:where(.ag-rtl){.ag-icon-contracted,.ag-icon-expanded,.ag-icon-tree-closed{transform:rotate(-180deg)}}.ag-measurement-container{height:0;overflow:hidden;visibility:hidden;width:0}.ag-measurement-element-border{display:inline-block;&:before{border-left:var(--ag-internal-measurement-border);content:"";display:block}}.ag-group{position:relative;width:100%}.ag-group-title-bar{align-items:center;display:flex;padding:var(--ag-spacing)}.ag-group-title{display:inline;min-width:0;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}:where(.ag-group-title-bar) .ag-group-title{cursor:default}.ag-group-toolbar{align-items:center;display:flex;padding:var(--ag-spacing)}.ag-group-container{display:flex}.ag-disabled .ag-group-container{pointer-events:none}.ag-disabled-group-container,.ag-disabled-group-title-bar{opacity:.5}.ag-group-container-horizontal{flex-flow:row wrap}.ag-group-container-vertical{flex-direction:column}.ag-group-title-bar-icon{cursor:pointer;flex:none}:where(.ag-ltr) .ag-group-title-bar-icon{margin-right:var(--ag-spacing)}:where(.ag-rtl) .ag-group-title-bar-icon{margin-left:var(--ag-spacing)}:where(.ag-group-item-alignment-stretch) .ag-group-item{align-items:stretch}:where(.ag-group-item-alignment-start) .ag-group-item{align-items:flex-start}:where(.ag-group-item-alignment-end) .ag-group-item{align-items:flex-end}.ag-popup-child{top:0;z-index:5;&:where(:not(.ag-tooltip-custom)){box-shadow:var(--ag-popup-shadow)}}.ag-popup-editor{position:absolute;-webkit-user-select:none;-moz-user-select:none;user-select:none}.ag-large-text-input{display:block}:where(.ag-ltr) .ag-row:not(.ag-row-level-0) .ag-pivot-leaf-group{margin-left:var(--ag-row-group-indent-size)}:where(.ag-rtl) .ag-row:not(.ag-row-level-0) .ag-pivot-leaf-group{margin-right:var(--ag-row-group-indent-size)}:where(.ag-ltr) .ag-row-group-leaf-indent{margin-left:calc(var(--ag-cell-widget-spacing) + var(--ag-icon-size))}:where(.ag-rtl) .ag-row-group-leaf-indent{margin-right:calc(var(--ag-cell-widget-spacing) + var(--ag-icon-size))}.ag-value-change-delta{padding:0 2px}.ag-value-change-delta-up{color:var(--ag-value-change-delta-up-color)}.ag-value-change-delta-down{color:var(--ag-value-change-delta-down-color)}.ag-value-change-value{background-color:transparent;border-radius:1px;padding-left:1px;padding-right:1px;transition:background-color 1s}.ag-value-change-value-highlight{background-color:var(--ag-value-change-value-highlight-background-color);transition:background-color .1s}.ag-cell-data-changed{background-color:var(--ag-value-change-value-highlight-background-color)!important}.ag-cell-data-changed-animation{background-color:transparent}.ag-cell-highlight{background-color:var(--ag-range-selection-highlight-color)!important}.ag-row,.ag-spanned-row{color:var(--ag-cell-text-color);font-family:var(--ag-cell-font-family);font-size:var(--ag-data-font-size);white-space:nowrap;--ag-internal-content-line-height:calc(min(var(--ag-row-height), var(--ag-line-height, 1000px)) - var(--ag-internal-row-border-width, 1px) - 2px)}.ag-row{background-color:var(--ag-background-color);border-bottom:var(--ag-row-border);height:var(--ag-row-height);width:100%}:where(.ag-body-vertical-content-no-gap>div>div>div,.ag-body-vertical-content-no-gap>div>div>div>div)>.ag-row-last{border-bottom-color:transparent}.ag-sticky-bottom{border-top:var(--ag-row-border);box-sizing:content-box!important}.ag-group-contracted,.ag-group-expanded{cursor:pointer}.ag-cell,.ag-full-width-row .ag-cell-wrapper.ag-row-group{border:1px solid transparent;line-height:var(--ag-internal-content-line-height);-webkit-font-smoothing:subpixel-antialiased}:where(.ag-ltr) .ag-cell{border-right:var(--ag-column-border)}:where(.ag-rtl) .ag-cell{border-left:var(--ag-column-border)}.ag-spanned-cell-wrapper{background-color:var(--ag-background-color);position:absolute}.ag-spanned-cell-wrapper>.ag-spanned-cell{display:block;position:relative}:where(.ag-ltr) :where(.ag-body-horizontal-content-no-gap) .ag-column-last{border-right-color:transparent}:where(.ag-rtl) :where(.ag-body-horizontal-content-no-gap) .ag-column-last{border-left-color:transparent}.ag-cell-wrapper{align-items:center;display:flex;>:where(:not(.ag-cell-value,.ag-group-value)){align-items:center;display:flex;height:var(--ag-internal-content-line-height)}&:where(.ag-row-group){align-items:flex-start}:where(.ag-full-width-row) &:where(.ag-row-group){align-items:center;height:100%}}:where(.ag-ltr) .ag-cell-wrapper{padding-left:calc(var(--ag-indentation-level)*var(--ag-row-group-indent-size))}:where(.ag-rtl) .ag-cell-wrapper{padding-right:calc(var(--ag-indentation-level)*var(--ag-row-group-indent-size))}:where(.ag-cell-wrap-text:not(.ag-cell-auto-height)) .ag-cell-wrapper{align-items:normal;height:100%;:where(.ag-cell-value){height:100%}}:where(.ag-ltr) .ag-row>.ag-cell-wrapper.ag-row-group{padding-left:calc(var(--ag-cell-horizontal-padding) + var(--ag-row-group-indent-size)*var(--ag-indentation-level))}:where(.ag-rtl) .ag-row>.ag-cell-wrapper.ag-row-group{padding-right:calc(var(--ag-cell-horizontal-padding) + var(--ag-row-group-indent-size)*var(--ag-indentation-level))}.ag-cell-focus:not(.ag-cell-range-selected):focus-within,.ag-cell-range-single-cell,.ag-cell-range-single-cell.ag-cell-range-handle,.ag-context-menu-open .ag-cell-focus:not(.ag-cell-range-selected),.ag-context-menu-open .ag-full-width-row.ag-row-focus .ag-cell-wrapper.ag-row-group,.ag-full-width-row.ag-row-focus:focus .ag-cell-wrapper.ag-row-group{border:1px solid;border-color:var(--ag-range-selection-border-color);border-style:var(--ag-range-selection-border-style);outline:initial}.ag-full-width-row.ag-row-focus:focus{box-shadow:none}:where(.ag-ltr) .ag-group-contracted,:where(.ag-ltr) .ag-group-expanded,:where(.ag-ltr) .ag-row-drag,:where(.ag-ltr) .ag-selection-checkbox{margin-right:var(--ag-cell-widget-spacing)}:where(.ag-rtl) .ag-group-contracted,:where(.ag-rtl) .ag-group-expanded,:where(.ag-rtl) .ag-row-drag,:where(.ag-rtl) .ag-selection-checkbox{margin-left:var(--ag-cell-widget-spacing)}:where(.ag-ltr) .ag-group-child-count{margin-left:3px}:where(.ag-rtl) .ag-group-child-count{margin-right:3px}.ag-row-highlight-above:after,.ag-row-highlight-below:after{background-color:var(--ag-range-selection-border-color);content:"";height:1px;position:absolute;width:calc(100% - 1px)}:where(.ag-ltr) .ag-row-highlight-above:after,:where(.ag-ltr) .ag-row-highlight-below:after{left:1px}:where(.ag-rtl) .ag-row-highlight-above:after,:where(.ag-rtl) .ag-row-highlight-below:after{right:1px}.ag-row-highlight-above:after{top:0}.ag-row-highlight-below:after{bottom:0}.ag-row-odd{background-color:var(--ag-odd-row-background-color)}.ag-row-selected:before{background-color:var(--ag-selected-row-background-color);content:"";display:block;inset:0;pointer-events:none;position:absolute}.ag-row-hover.ag-full-width-row.ag-row-group:before,.ag-row-hover:not(.ag-full-width-row):before{background-color:var(--ag-row-hover-color);content:"";display:block;inset:0;pointer-events:none;position:absolute}.ag-row-hover.ag-row-selected:before{background-color:var(--ag-row-hover-color);background-image:linear-gradient(var(--ag-selected-row-background-color),var(--ag-selected-row-background-color))}.ag-row-hover.ag-full-width-row.ag-row-group>*{position:relative}.ag-column-hover{background-color:var(--ag-column-hover-color)}.ag-header-range-highlight{background-color:var(--ag-range-header-highlight-color)}.ag-right-aligned-cell{font-variant-numeric:tabular-nums}:where(.ag-ltr) .ag-right-aligned-cell{text-align:right}:where(.ag-rtl) .ag-right-aligned-cell{text-align:left}.ag-right-aligned-cell .ag-cell-value,.ag-right-aligned-cell .ag-group-value{margin-left:auto}:where(.ag-ltr) .ag-cell:not(.ag-cell-inline-editing),:where(.ag-ltr) .ag-full-width-row .ag-cell-wrapper.ag-row-group{padding-left:calc(var(--ag-cell-horizontal-padding) - 1px + var(--ag-row-group-indent-size)*var(--ag-indentation-level));padding-right:calc(var(--ag-cell-horizontal-padding) - 1px)}:where(.ag-rtl) .ag-cell:not(.ag-cell-inline-editing),:where(.ag-rtl) .ag-full-width-row .ag-cell-wrapper.ag-row-group{padding-left:calc(var(--ag-cell-horizontal-padding) - 1px);padding-right:calc(var(--ag-cell-horizontal-padding) - 1px + var(--ag-row-group-indent-size)*var(--ag-indentation-level))}.ag-row>.ag-cell-wrapper{padding-left:calc(var(--ag-cell-horizontal-padding) - 1px);padding-right:calc(var(--ag-cell-horizontal-padding) - 1px)}.ag-row-dragging{cursor:move;opacity:.5}.ag-details-row{background-color:var(--ag-background-color);padding:calc(var(--ag-spacing)*3.75)}.ag-layout-auto-height,.ag-layout-print{.ag-center-cols-container,.ag-center-cols-viewport{min-height:150px}}.ag-overlay-loading-wrapper{background-color:var(--ag-modal-overlay-background-color)}.ag-skeleton-container{align-content:center;height:100%;width:100%}.ag-skeleton-effect{animation:ag-skeleton-loading 1.5s ease-in-out .5s infinite;background-color:var(--ag-row-loading-skeleton-effect-color);border-radius:.25rem;height:1em;width:100%}:where(.ag-ltr) .ag-right-aligned-cell .ag-skeleton-effect{margin-left:auto}:where(.ag-rtl) .ag-right-aligned-cell .ag-skeleton-effect{margin-right:auto}@keyframes ag-skeleton-loading{0%{opacity:1}50%{opacity:.4}to{opacity:1}}.ag-loading{align-items:center;display:flex;height:100%}:where(.ag-ltr) .ag-loading{padding-left:var(--ag-cell-horizontal-padding)}:where(.ag-rtl) .ag-loading{padding-right:var(--ag-cell-horizontal-padding)}:where(.ag-ltr) .ag-loading-icon{padding-right:var(--ag-cell-widget-spacing)}:where(.ag-rtl) .ag-loading-icon{padding-left:var(--ag-cell-widget-spacing)}.ag-icon-loading{animation-duration:1s;animation-iteration-count:infinite;animation-name:spin;animation-timing-function:linear}@keyframes spin{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}.ag-input-wrapper,.ag-picker-field-wrapper{align-items:center;display:flex;flex:1 1 auto;line-height:normal;position:relative}.ag-input-field{align-items:center;display:flex;flex-direction:row}.ag-input-field-input:where(:not([type=checkbox],[type=radio])){flex:1 1 auto;min-width:0;width:100%}.ag-header{background-color:var(--ag-header-background-color);border-bottom:var(--ag-header-row-border);color:var(--ag-header-text-color);display:flex;font-family:var(--ag-header-font-family);font-size:var(--ag-header-font-size);font-weight:var(--ag-header-font-weight);overflow:hidden;white-space:nowrap;width:100%}.ag-header-row{height:var(--ag-header-height);position:absolute}.ag-floating-filter-button-button,.ag-header-cell-filter-button,.ag-header-cell-menu-button,.ag-header-expand-icon,.ag-panel-title-bar-button,:where(.ag-header-cell-sortable) .ag-header-cell-label{cursor:pointer}:where(.ag-ltr) .ag-header-expand-icon{margin-left:4px}:where(.ag-rtl) .ag-header-expand-icon{margin-right:4px}.ag-header-row:where(:not(:first-child)){:where(.ag-header-cell:not(.ag-header-span-height.ag-header-span-total,.ag-header-parent-hidden),.ag-header-group-cell.ag-header-group-cell-with-group){border-top:var(--ag-header-row-border)}}.ag-header-row:where(:not(.ag-header-row-column-group)){overflow:hidden}:where(.ag-header.ag-header-allow-overflow) .ag-header-row{overflow:visible}.ag-header-cell{display:inline-flex;overflow:hidden}.ag-header-group-cell{contain:paint;display:flex}.ag-header-cell,.ag-header-group-cell{align-items:center;gap:var(--ag-cell-widget-spacing);height:100%;padding:0 var(--ag-cell-horizontal-padding);position:absolute}@property --ag-internal-moving-color{syntax:"<color>";inherits:false;initial-value:transparent}@property --ag-internal-hover-color{syntax:"<color>";inherits:false;initial-value:transparent}.ag-header-cell:where(:not(.ag-floating-filter)),.ag-header-group-cell{&:before{background-image:linear-gradient(var(--ag-internal-hover-color),var(--ag-internal-hover-color)),linear-gradient(var(--ag-internal-moving-color),var(--ag-internal-moving-color));content:"";inset:0;position:absolute;--ag-internal-moving-color:transparent;--ag-internal-hover-color:transparent;transition:--ag-internal-moving-color var(--ag-header-cell-background-transition-duration),--ag-internal-hover-color var(--ag-header-cell-background-transition-duration)}&:where(:hover):before{--ag-internal-hover-color:var(--ag-header-cell-hover-background-color)}&:where(.ag-header-cell-moving):before{--ag-internal-moving-color:var(--ag-header-cell-moving-background-color);--ag-internal-hover-color:var(--ag-header-cell-hover-background-color)}}:where(.ag-header-cell:not(.ag-floating-filter) *,.ag-header-group-cell *){position:relative;z-index:1}.ag-header-cell-menu-button:where(:not(.ag-header-menu-always-show)){opacity:0;transition:opacity .2s}.ag-header-cell-filter-button,:where(.ag-header-cell.ag-header-active) .ag-header-cell-menu-button{opacity:1}.ag-header-cell-label,.ag-header-group-cell-label{align-items:center;align-self:stretch;display:flex;flex:1 1 auto;overflow:hidden;padding:5px 0}:where(.ag-ltr) .ag-sort-indicator-icon{padding-left:var(--ag-spacing)}:where(.ag-rtl) .ag-sort-indicator-icon{padding-right:var(--ag-spacing)}.ag-header-cell-label{text-overflow:ellipsis}.ag-header-group-cell-label.ag-sticky-label{flex:none;max-width:100%;overflow:visible;position:sticky}:where(.ag-ltr) .ag-header-group-cell-label.ag-sticky-label{left:var(--ag-cell-horizontal-padding)}:where(.ag-rtl) .ag-header-group-cell-label.ag-sticky-label{right:var(--ag-cell-horizontal-padding)}.ag-header-cell-text,.ag-header-group-text{overflow:hidden;text-overflow:ellipsis}.ag-header-cell-text{word-break:break-word}.ag-header-cell-comp-wrapper{width:100%}:where(.ag-header-group-cell) .ag-header-cell-comp-wrapper{display:flex}:where(.ag-header-cell:not(.ag-header-cell-auto-height)) .ag-header-cell-comp-wrapper{align-items:center;display:flex;height:100%}.ag-header-cell-wrap-text .ag-header-cell-comp-wrapper{white-space:normal}.ag-header-cell-comp-wrapper-limited-height>*{overflow:hidden}:where(.ag-right-aligned-header) .ag-header-cell-label{flex-direction:row-reverse}:where(.ag-ltr) :where(.ag-header-cell:not(.ag-right-aligned-header)){.ag-header-label-icon,.ag-header-menu-icon{margin-left:var(--ag-spacing)}}:where(.ag-rtl) :where(.ag-header-cell:not(.ag-right-aligned-header)){.ag-header-label-icon,.ag-header-menu-icon{margin-right:var(--ag-spacing)}}:where(.ag-ltr) :where(.ag-header-cell.ag-right-aligned-header){.ag-header-label-icon,.ag-header-menu-icon{margin-right:var(--ag-spacing)}}:where(.ag-rtl) :where(.ag-header-cell.ag-right-aligned-header){.ag-header-label-icon,.ag-header-menu-icon{margin-left:var(--ag-spacing)}}.ag-header-cell:after,.ag-header-group-cell:where(:not(.ag-header-span-height.ag-header-group-cell-no-group)):after{content:"";height:var(--ag-header-column-border-height);position:absolute;top:calc(50% - var(--ag-header-column-border-height)*.5);z-index:1}:where(.ag-ltr) .ag-header-cell:after,:where(.ag-ltr) .ag-header-group-cell:where(:not(.ag-header-span-height.ag-header-group-cell-no-group)):after{border-right:var(--ag-header-column-border);right:0}:where(.ag-rtl) .ag-header-cell:after,:where(.ag-rtl) .ag-header-group-cell:where(:not(.ag-header-span-height.ag-header-group-cell-no-group)):after{border-left:var(--ag-header-column-border);left:0}.ag-header-highlight-after:after,.ag-header-highlight-before:after{background-color:var(--ag-accent-color);content:"";height:100%;position:absolute;width:1px}:where(.ag-ltr) .ag-header-highlight-before:after{left:0}:where(.ag-rtl) .ag-header-highlight-before:after{right:0}:where(.ag-ltr) .ag-header-highlight-after:after{right:0;:where(.ag-pinned-left-header) &{right:1px}}:where(.ag-rtl) .ag-header-highlight-after:after{left:0;:where(.ag-pinned-left-header) &{left:1px}}.ag-header-cell-resize{align-items:center;cursor:ew-resize;display:flex;height:100%;position:absolute;top:0;width:8px;z-index:2;&:after{background-color:var(--ag-header-column-resize-handle-color);content:"";height:var(--ag-header-column-resize-handle-height);position:absolute;top:calc(50% - var(--ag-header-column-resize-handle-height)*.5);width:var(--ag-header-column-resize-handle-width);z-index:1}}:where(.ag-ltr) .ag-header-cell-resize{right:-3px;&:after{left:calc(50% - var(--ag-header-column-resize-handle-width))}}:where(.ag-rtl) .ag-header-cell-resize{left:-3px;&:after{right:calc(50% - var(--ag-header-column-resize-handle-width))}}:where(.ag-header-cell.ag-header-span-height) .ag-header-cell-resize:after{height:calc(100% - var(--ag-spacing)*4);top:calc(var(--ag-spacing)*2)}.ag-header-group-cell-no-group:where(.ag-header-span-height){display:none}.ag-sort-indicator-container{display:flex;gap:var(--ag-spacing)}.ag-layout-print{&.ag-body{display:block;height:unset}&.ag-root-wrapper{display:inline-block}.ag-body-horizontal-scroll,.ag-body-vertical-scroll{display:none}&.ag-force-vertical-scroll{overflow-y:visible!important}}@media print{.ag-root-wrapper.ag-layout-print{display:table;.ag-body-horizontal-scroll-viewport,.ag-body-viewport,.ag-center-cols-container,.ag-center-cols-viewport,.ag-root,.ag-root-wrapper-body,.ag-virtual-list-viewport{display:block!important;height:auto!important;overflow:hidden!important}.ag-cell,.ag-row{-moz-column-break-inside:avoid;break-inside:avoid}}}ag-grid,ag-grid-angular{display:block}.ag-chart,.ag-dnd-ghost,.ag-popup,.ag-root-wrapper{cursor:default;line-height:normal;white-space:normal;-webkit-font-smoothing:antialiased;background-color:var(--ag-background-color);color:var(--ag-text-color);color-scheme:var(--ag-browser-color-scheme);font-family:var(--ag-font-family);font-size:var(--ag-font-size);--ag-indentation-level:0}.ag-root-wrapper{border:var(--ag-wrapper-border);border-radius:var(--ag-wrapper-border-radius);display:flex;flex-direction:column;overflow:hidden;position:relative;&.ag-layout-normal{height:100%}}.ag-root-wrapper-body{display:flex;flex-direction:row;&.ag-layout-normal{flex:1 1 auto;height:0;min-height:0}}.ag-root{display:flex;flex-direction:column;position:relative;&.ag-layout-auto-height,&.ag-layout-normal{flex:1 1 auto;overflow:hidden;width:0}&.ag-layout-normal{height:100%}}.ag-drag-handle{color:var(--ag-drag-handle-color);cursor:grab}.ag-list-item,.ag-virtual-list-item{height:var(--ag-list-item-height)}.ag-virtual-list-item{position:absolute;width:100%}.ag-select-list{background-color:var(--ag-picker-list-background-color);border:var(--ag-picker-list-border);border-radius:var(--ag-border-radius);box-shadow:var(--ag-dropdown-shadow);overflow:hidden auto}.ag-list-item{align-items:center;display:flex;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;&.ag-active-item{background-color:var(--ag-row-hover-color)}}.ag-select-list-item{cursor:default;-webkit-user-select:none;-moz-user-select:none;user-select:none;:where(span){overflow:hidden;text-overflow:ellipsis;white-space:nowrap}}:where(.ag-ltr) .ag-select-list-item{padding-left:calc(var(--ag-cell-horizontal-padding)/2)}:where(.ag-rtl) .ag-select-list-item{padding-right:calc(var(--ag-cell-horizontal-padding)/2)}.ag-list-item-hovered:after{background-color:var(--ag-accent-color);content:"";height:1px;left:0;position:absolute;right:0}.ag-item-highlight-top:after{top:0}.ag-item-highlight-bottom:after{bottom:0}:where(.ag-icon):before{align-items:center;background-color:currentcolor;color:inherit;content:"";display:flex;font-family:inherit;font-size:var(--ag-icon-size);font-style:normal;font-variant:normal;height:var(--ag-icon-size);justify-content:center;line-height:var(--ag-icon-size);-webkit-mask-size:contain;mask-size:contain;text-transform:none;width:var(--ag-icon-size)}.ag-icon{background-position:50%;background-repeat:no-repeat;background-size:contain;color:var(--ag-icon-color);display:block;height:var(--ag-icon-size);position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;width:var(--ag-icon-size)}.ag-column-select-column-group-readonly,.ag-column-select-column-readonly,.ag-disabled,[disabled]{.ag-icon{opacity:.5}&.ag-icon-grip{opacity:.35}}.ag-column-select-column-readonly{&.ag-icon-grip,.ag-icon-grip{opacity:.35}}.ag-chart-menu-icon,.ag-chart-settings-next,.ag-chart-settings-prev,.ag-column-group-icons,.ag-column-select-header-icon,.ag-filter-toolpanel-expand,.ag-floating-filter-button-button,.ag-group-title-bar-icon,.ag-header-cell-filter-button,.ag-header-cell-menu-button,.ag-header-expand-icon,.ag-panel-title-bar-button,.ag-panel-title-bar-button-icon,.ag-set-filter-group-icons,:where(.ag-group-contracted) .ag-icon,:where(.ag-group-expanded) .ag-icon{background-color:var(--ag-icon-button-background-color);border-radius:var(--ag-icon-button-border-radius);box-shadow:0 0 0 var(--ag-icon-button-background-spread) var(--ag-icon-button-background-color);color:var(--ag-icon-button-color);&:hover{background-color:var(--ag-icon-button-hover-background-color);box-shadow:0 0 0 var(--ag-icon-button-background-spread) var(--ag-icon-button-hover-background-color);color:var(--ag-icon-button-hover-color)}}.ag-filter-active{background-image:linear-gradient(var(--ag-icon-button-active-background-color),var(--ag-icon-button-active-background-color));border-radius:1px;outline:solid var(--ag-icon-button-background-spread) var(--ag-icon-button-active-background-color);position:relative;&:after{background-color:var(--ag-accent-color);border-radius:50%;content:"";height:6px;position:absolute;top:-1px;width:6px}:where(.ag-icon-filter){clip-path:path("M8,0C8,4.415 11.585,8 16,8L16,16L0,16L0,0L8,0Z");color:var(--ag-icon-button-active-color)}}:where(.ag-ltr) .ag-filter-active{&:after{right:-1px}}:where(.ag-rtl) .ag-filter-active{&:after{left:-1px}}.ag-menu{background-color:var(--ag-menu-background-color);border:var(--ag-menu-border);border-radius:var(--ag-border-radius);box-shadow:var(--ag-menu-shadow);color:var(--ag-menu-text-color);max-height:100%;overflow-y:auto}.ag-menu,.ag-resizer{position:absolute;-webkit-user-select:none;-moz-user-select:none;user-select:none}.ag-resizer{pointer-events:none;z-index:1}:where(.ag-resizer){&.ag-resizer-topLeft{cursor:nwse-resize;height:5px;left:0;top:0;width:5px}&.ag-resizer-top{cursor:ns-resize;height:5px;left:5px;right:5px;top:0}&.ag-resizer-topRight{cursor:nesw-resize;height:5px;right:0;top:0;width:5px}&.ag-resizer-right{bottom:5px;cursor:ew-resize;right:0;top:5px;width:5px}&.ag-resizer-bottomRight{bottom:0;cursor:nwse-resize;height:5px;right:0;width:5px}&.ag-resizer-bottom{bottom:0;cursor:ns-resize;height:5px;left:5px;right:5px}&.ag-resizer-bottomLeft{bottom:0;cursor:nesw-resize;height:5px;left:0;width:5px}&.ag-resizer-left{bottom:5px;cursor:ew-resize;left:0;top:5px;width:5px}}',E4,T4,OL=typeof window!="object"||!((T4=(E4=window==null?void 0:window.document)==null?void 0:E4.fonts)!=null&&T4.forEach),tA=new WeakMap,Rg=(e,t,i,n,s)=>{if(OL)return;n&&(e=`@layer ${CSS.escape(n)} { ${e} }`);let r=tA.get(t);if(r||(r=[],tA.set(t,r)),r.find(u=>u.css===e))return;const o=document.createElement("style");o.dataset.agGlobalCss=i,o.textContent=e;const a={css:e,el:o,priority:s};let l;for(const u of r){if(u.priority>s)break;l=u}if(l){l.el.insertAdjacentElement("afterend",o);const u=r.indexOf(l);r.splice(u+1,0,a)}else t.insertBefore(o,t.querySelector(":not(title, meta)")),r.push(a)},dV=(e,t)=>{Rg(nde,e,"core",t,0),Array.from($oe()).sort((i,n)=>i.moduleName.localeCompare(n.moduleName)).forEach(i=>{var n;return(n=i.css)==null?void 0:n.forEach(s=>Rg(s,e,`module-${i.moduleName}`,t,0))})},iA=new Set,sde=e=>{iA.add(e)},rde=e=>{if(iA.delete(e),iA.size===0){tA=new WeakMap;for(const t of document.head.querySelectorAll("style[data-ag-global-css]"))t.remove()}},fr=e=>new hV(e),Lu="$default",ode=0,hV=class{constructor({feature:e,params:t,modeParams:i={},css:n,cssImports:s}){this.feature=e,this.css=n,this.cssImports=s,this.modeParams={[Lu]:{...i[Lu]??{},...t??{}},...i}}use(e,t){let i=this._inject;if(i==null){let{css:n}=this;if(n){const s=`ag-theme-${this.feature??"part"}-${++ode}`;typeof n=="function"&&(n=n()),n=`:where(.${s}) {
${n}
}
`;for(const r of this.cssImports??[])n=`@import url(${JSON.stringify(r)});
${n}`;i={css:n,class:s}}else i=!1;this._inject=i}return i&&e&&Rg(i.css,e,i.class,t,1),i?i.class:!1}},ade=e=>e.replace(/[A-Z]/g,t=>`-${t}`).toLowerCase(),pV=e=>`--ag-${ade(e)}`,Rl=e=>`var(${pV(e)})`,lde=(e,t,i)=>Math.max(t,Math.min(i,e)),cde=e=>{const t=new Map;return i=>{const n=i;return t.has(n)||t.set(n,e(i)),t.get(n)}},sl=e=>({ref:"accentColor",mix:e}),ds=e=>({ref:"foregroundColor",mix:e}),Lr=e=>({ref:"foregroundColor",mix:e,onto:"backgroundColor"}),ude=e=>({ref:"foregroundColor",mix:e,onto:"headerBackgroundColor"}),Ho={ref:"backgroundColor"},bh={ref:"foregroundColor"},Pu={ref:"accentColor"},kS={backgroundColor:"#fff",foregroundColor:"#181d1f",borderColor:ds(.15),chromeBackgroundColor:Lr(.02),browserColorScheme:"light"},dde={...kS,textColor:bh,accentColor:"#2196f3",invalidColor:"#e02525",wrapperBorder:!0,rowBorder:!0,headerRowBorder:!0,footerRowBorder:{ref:"rowBorder"},columnBorder:{style:"solid",width:1,color:"transparent"},headerColumnBorder:!1,headerColumnBorderHeight:"100%",pinnedColumnBorder:!0,pinnedRowBorder:!0,sidePanelBorder:!0,sideBarPanelWidth:250,sideBarBackgroundColor:{ref:"chromeBackgroundColor"},sideButtonBarBackgroundColor:{ref:"sideBarBackgroundColor"},sideButtonBarTopPadding:0,sideButtonSelectedUnderlineWidth:2,sideButtonSelectedUnderlineColor:"transparent",sideButtonSelectedUnderlineTransitionDuration:0,sideButtonBackgroundColor:"transparent",sideButtonTextColor:{ref:"textColor"},sideButtonHoverBackgroundColor:{ref:"sideButtonBackgroundColor"},sideButtonHoverTextColor:{ref:"sideButtonTextColor"},sideButtonSelectedBackgroundColor:Ho,sideButtonSelectedTextColor:{ref:"sideButtonTextColor"},sideButtonBorder:"solid 1px transparent",sideButtonSelectedBorder:!0,sideButtonLeftPadding:{ref:"spacing"},sideButtonRightPadding:{ref:"spacing"},sideButtonVerticalPadding:{calc:"spacing * 3"},fontFamily:["-apple-system","BlinkMacSystemFont","Segoe UI","Roboto","Oxygen-Sans","Ubuntu","Cantarell","Helvetica Neue","sans-serif"],headerBackgroundColor:{ref:"chromeBackgroundColor"},headerFontFamily:{ref:"fontFamily"},cellFontFamily:{ref:"fontFamily"},headerFontWeight:500,headerFontSize:{ref:"fontSize"},dataFontSize:{ref:"fontSize"},headerTextColor:{ref:"textColor"},headerCellHoverBackgroundColor:"transparent",headerCellMovingBackgroundColor:{ref:"headerCellHoverBackgroundColor"},headerCellBackgroundTransitionDuration:"0.2s",cellTextColor:{ref:"textColor"},subtleTextColor:{ref:"textColor",mix:.5},rangeSelectionBorderStyle:"solid",rangeSelectionBorderColor:Pu,rangeSelectionBackgroundColor:sl(.2),rangeSelectionChartBackgroundColor:"#0058FF1A",rangeSelectionChartCategoryBackgroundColor:"#00FF841A",rangeSelectionHighlightColor:sl(.5),rangeHeaderHighlightColor:ude(.08),rowNumbersSelectedColor:sl(.5),rowHoverColor:sl(.08),columnHoverColor:sl(.05),selectedRowBackgroundColor:sl(.12),modalOverlayBackgroundColor:{ref:"backgroundColor",mix:.66},oddRowBackgroundColor:Ho,borderRadius:4,wrapperBorderRadius:8,cellHorizontalPadding:{calc:"spacing * 2 * cellHorizontalPaddingScale"},cellWidgetSpacing:{calc:"spacing * 1.5"},cellHorizontalPaddingScale:1,rowGroupIndentSize:{calc:"cellWidgetSpacing + iconSize"},valueChangeDeltaUpColor:"#43a047",valueChangeDeltaDownColor:"#e53935",valueChangeValueHighlightBackgroundColor:"#16a08580",spacing:8,fontSize:14,rowHeight:{calc:"max(iconSize, dataFontSize) + spacing * 3.25 * rowVerticalPaddingScale"},rowVerticalPaddingScale:1,headerHeight:{calc:"max(iconSize, dataFontSize) + spacing * 4 * headerVerticalPaddingScale"},headerVerticalPaddingScale:1,popupShadow:"0 0 16px #00000026",cardShadow:"0 1px 4px 1px #00000018",dropdownShadow:{ref:"cardShadow"},dragAndDropImageBackgroundColor:Ho,dragAndDropImageBorder:!0,dragAndDropImageShadow:{ref:"popupShadow"},dragHandleColor:ds(.7),focusShadow:{spread:3,color:sl(.5)},headerColumnResizeHandleHeight:"30%",headerColumnResizeHandleWidth:2,headerColumnResizeHandleColor:{ref:"borderColor"},widgetContainerHorizontalPadding:{calc:"spacing * 1.5"},widgetContainerVerticalPadding:{calc:"spacing * 1.5"},widgetHorizontalSpacing:{calc:"spacing * 1.5"},widgetVerticalSpacing:{ref:"spacing"},listItemHeight:{calc:"max(iconSize, dataFontSize) + widgetVerticalSpacing"},iconSize:16,iconColor:"inherit",iconButtonColor:{ref:"iconColor"},iconButtonBackgroundColor:"transparent",iconButtonBackgroundSpread:4,iconButtonBorderRadius:1,iconButtonHoverColor:{ref:"iconButtonColor"},iconButtonHoverBackgroundColor:ds(.1),iconButtonActiveColor:Pu,iconButtonActiveBackgroundColor:sl(.28),iconButtonActiveIndicatorColor:Pu,toggleButtonWidth:28,toggleButtonHeight:18,toggleButtonOnBackgroundColor:Pu,toggleButtonOffBackgroundColor:Lr(.3),toggleButtonSwitchBackgroundColor:Ho,toggleButtonSwitchInset:2,menuBorder:{color:ds(.2)},menuBackgroundColor:Lr(.03),menuTextColor:Lr(.95),menuShadow:{ref:"popupShadow"},menuSeparatorColor:{ref:"borderColor"},setFilterIndentSize:{ref:"iconSize"},chartMenuPanelWidth:260,chartMenuLabelColor:ds(.8),dialogShadow:{ref:"popupShadow"},cellEditingBorder:{color:Pu},cellEditingShadow:{ref:"cardShadow"},dialogBorder:{color:ds(.2)},panelBackgroundColor:Ho,panelTitleBarBackgroundColor:{ref:"headerBackgroundColor"},panelTitleBarIconColor:{ref:"headerTextColor"},panelTitleBarTextColor:{ref:"headerTextColor"},panelTitleBarFontWeight:{ref:"headerFontWeight"},panelTitleBarBorder:!0,columnSelectIndentSize:{ref:"iconSize"},toolPanelSeparatorBorder:!0,tooltipBackgroundColor:{ref:"chromeBackgroundColor"},tooltipTextColor:{ref:"textColor"},tooltipBorder:!0,columnDropCellBackgroundColor:ds(.07),columnDropCellTextColor:{ref:"textColor"},columnDropCellDragHandleColor:{ref:"textColor"},columnDropCellBorder:{color:ds(.13)},selectCellBackgroundColor:ds(.07),selectCellBorder:{color:ds(.13)},advancedFilterBuilderButtonBarBorder:!0,advancedFilterBuilderIndentSize:{calc:"spacing * 2 + iconSize"},advancedFilterBuilderJoinPillColor:"#f08e8d",advancedFilterBuilderColumnPillColor:"#a6e194",advancedFilterBuilderOptionPillColor:"#f3c08b",advancedFilterBuilderValuePillColor:"#85c0e4",filterToolPanelGroupIndent:{ref:"spacing"},rowLoadingSkeletonEffectColor:ds(.15),statusBarLabelColor:bh,statusBarLabelFontWeight:500,statusBarValueColor:bh,statusBarValueFontWeight:500},fV=":where(.ag-button){background:none;border:none;color:inherit;cursor:pointer;font-family:inherit;font-size:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;margin:0;padding:0;text-indent:inherit;text-shadow:inherit;text-transform:inherit;word-spacing:inherit;&:disabled{cursor:default}&:focus-visible{box-shadow:var(--ag-focus-shadow);outline:none}}.ag-standard-button{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:var(--ag-button-background-color);border:var(--ag-button-border);border-radius:var(--ag-button-border-radius);color:var(--ag-button-text-color);cursor:pointer;font-weight:var(--ag-button-font-weight);padding:var(--ag-button-vertical-padding) var(--ag-button-horizontal-padding);&:hover{background-color:var(--ag-button-hover-background-color);border:var(--ag-button-hover-border);color:var(--ag-button-hover-text-color)}&:active{background-color:var(--ag-button-active-background-color);border:var(--ag-button-active-border);color:var(--ag-button-active-text-color)}&:disabled{background-color:var(--ag-button-disabled-background-color);border:var(--ag-button-disabled-border);color:var(--ag-button-disabled-text-color)}}",gV={buttonTextColor:"inherit",buttonFontWeight:"normal",buttonBackgroundColor:"transparent",buttonBorder:!1,buttonBorderRadius:{ref:"borderRadius"},buttonHorizontalPadding:{calc:"spacing * 2"},buttonVerticalPadding:{ref:"spacing"},buttonHoverTextColor:{ref:"buttonTextColor"},buttonHoverBackgroundColor:{ref:"buttonBackgroundColor"},buttonHoverBorder:{ref:"buttonBorder"},buttonActiveTextColor:{ref:"buttonHoverTextColor"},buttonActiveBackgroundColor:{ref:"buttonHoverBackgroundColor"},buttonActiveBorder:{ref:"buttonHoverBorder"},buttonDisabledTextColor:{ref:"inputDisabledTextColor"},buttonDisabledBackgroundColor:{ref:"inputDisabledBackgroundColor"},buttonDisabledBorder:{ref:"inputDisabledBorder"}},hde=()=>fr({feature:"buttonStyle",params:gV,css:fV}),pde=hde(),fde=()=>fr({feature:"buttonStyle",params:{...gV,buttonBackgroundColor:Ho,buttonBorder:!0,buttonHoverBackgroundColor:{ref:"rowHoverColor"},buttonActiveBorder:{color:Pu}},css:fV}),gde=fde(),mde=".ag-column-drop-vertical-empty-message{align-items:center;border:1px dashed;border-color:var(--ag-border-color);display:flex;inset:0;justify-content:center;margin:calc(var(--ag-spacing)*1.5) calc(var(--ag-spacing)*2);overflow:hidden;padding:calc(var(--ag-spacing)*2);position:absolute}",yde=".ag-column-drop-vertical-empty-message{color:var(--ag-subtle-text-color);font-size:calc(var(--ag-font-size) - 1px);font-weight:600;padding-top:var(--ag-spacing)}:where(.ag-ltr) .ag-column-drop-vertical-empty-message{padding-left:calc(var(--ag-icon-size) + var(--ag-spacing) + var(--ag-widget-horizontal-spacing));padding-right:var(--ag-spacing)}:where(.ag-rtl) .ag-column-drop-vertical-empty-message{padding-left:var(--ag-spacing);padding-right:calc(var(--ag-icon-size) + var(--ag-spacing) + var(--ag-widget-horizontal-spacing))}",vde=()=>fr({feature:"columnDropStyle",css:mde}),mV=vde(),Cde=()=>fr({feature:"columnDropStyle",css:yde}),bde=Cde(),wde=["colorScheme","color","length","scale","borderStyle","border","shadow","image","fontFamily","fontWeight","duration"],Sde=cde(e=>(e=e.toLowerCase(),wde.find(t=>e.endsWith(t.toLowerCase()))??"length")),Qx=e=>typeof e=="object"&&(e!=null&&e.ref)?Rl(e.ref):typeof e=="string"?e:typeof e=="number"?String(e):!1,NL=e=>{if(typeof e=="string")return e;if(e&&"ref"in e){const t=Rl(e.ref);return e.mix==null?t:`color-mix(in srgb, ${e.onto?Rl(e.onto):"transparent"}, ${t} ${lde(e.mix*100,0,100)}%)`}return!1},xde=Qx,If=e=>typeof e=="string"?e:typeof e=="number"?`${e}px`:e&&"calc"in e?`calc(${e.calc.replace(/ ?[*/+] ?/g," $& ").replace(/-?\b[a-z][a-z0-9]*\b(?![-(])/gi,i=>i[0]==="-"?i:` ${Rl(i)} `)})`:e&&"ref"in e?Rl(e.ref):!1,Mde=Qx,Dde=(e,t)=>typeof e=="string"?e:e===!0?"solid 1px var(--ag-border-color)":e===!1?t==="columnBorder"?"solid 1px transparent":"none":e&&"ref"in e?Rl(e.ref):yV(e.style??"solid")+" "+If(e.width??1)+" "+NL(e.color??{ref:"borderColor"}),Rde=e=>typeof e=="string"?e:e===!1?"none":e&&"ref"in e?Rl(e.ref):[If(e.offsetX??0),If(e.offsetY??0),If(e.radius??0),If(e.spread??0),NL(e.color??{ref:"foregroundColor"})].join(" "),yV=Qx,vV=e=>typeof e=="string"?e:e&&"googleFont"in e?vV(e.googleFont):e&&"ref"in e?Rl(e.ref):Array.isArray(e)?e.map(t=>(typeof t=="object"&&"googleFont"in t&&(t=t.googleFont),Ede(t))).join(", "):!1,Ede=e=>/^[\w-]+$|\w\(/.test(e)?e:JSON.stringify(e),Tde=Qx,CV=e=>typeof e=="string"?e:e&&"url"in e?`url(${JSON.stringify(e.url)})`:e&&"svg"in e?CV({url:`data:image/svg+xml,${encodeURIComponent(e.svg)}`}):e&&"ref"in e?Rl(e.ref):!1,Ade=(e,t)=>typeof e=="string"?e:typeof e=="number"?(e>=10&&wi(104,{value:e,param:t}),`${e}s`):e&&"ref"in e?Rl(e.ref):!1,Ide={color:NL,colorScheme:xde,length:If,scale:Mde,border:Dde,borderStyle:yV,shadow:Rde,image:CV,fontFamily:vV,fontWeight:Tde,duration:Ade},Lde=(e,t)=>{const i=Sde(e);return Ide[i](t,e)},bV=()=>new wV().withPart(gde).withPart(mV),wV=class SV{constructor(t=[]){this.parts=t}withPart(t){return typeof t=="function"&&(t=t()),t instanceof hV?new SV([...this.parts,t]):(jT(259,{part:t},"Invalid part"),this)}withoutPart(t){return this.withPart(fr({feature:t}))}withParams(t,i=Lu){return this.withPart(fr({modeParams:{[i]:t}}))}_startUse({styleContainer:t,cssLayer:i,loadThemeGoogleFonts:n}){if(OL)return;Pde(),dV(t,i);const s=kde(this);if(s.length>0)for(const r of s)n&&Ode(r);for(const r of this.parts)r.use(t,i)}_getCssClass(){return this._cssClassCache??(this._cssClassCache=JB(this.parts).map(t=>t.use(void 0,void 0)).filter(Boolean).join(" "))}_getModeParams(){let t=this._paramsCache;if(!t){const i={[Lu]:{...dde}};for(const n of JB(this.parts))for(const s of Object.keys(n.modeParams)){const r=n.modeParams[s];if(r){const o=i[s]??(i[s]={}),a=new Set;for(const l of Object.keys(r)){const u=r[l];u!==void 0&&(o[l]=u,a.add(l))}if(s===Lu)for(const l of Object.keys(i)){const u=i[l];if(l!==Lu)for(const d of a)delete u[d]}}}this._paramsCache=t=i}return t}_getPerGridCss(t){const i="##SELECTOR##";let n=this._paramsCssCache;if(!n){let s="",r="";const o=this._getModeParams();for(const l of Object.keys(o)){const u=o[l];if(l!==Lu){const p=`:where([data-ag-theme-mode="${typeof CSS=="object"?CSS.escape(l):l}"]) & {
`;s+=p,r+=p}for(const d of Object.keys(u).sort()){const p=u[d],f=Lde(d,p);if(f===!1)wi(107,{key:d,value:p});else{const m=pV(d),y=m.replace("--ag-","--ag-inherited-");s+=`	${m}: var(${y}, ${f});
`,r+=`	${y}: var(${m});
`}}l!==Lu&&(s+=`}
`,r+=`}
`)}let a=`${i} {
${s}}
`;a+=`:has(> ${i}):not(${i}) {
${r}}
`,this._paramsCssCache=n=a}return n.replaceAll(i,`:where(.${t})`)}},JB=e=>{const t=new Map;for(const n of e)t.set(n.feature,n);const i=[];for(const n of e)(!n.feature||t.get(n.feature)===n)&&i.push(n);return i},kde=e=>{const t=new Set,i=r=>{if(Array.isArray(r))r.forEach(i);else{const o=r==null?void 0:r.googleFont;typeof o=="string"&&t.add(o)}};return Object.values(e._getModeParams()).flatMap(r=>Object.values(r)).forEach(i),Array.from(t).sort()},ez=!1,Pde=()=>{if(!ez){ez=!0;for(const e of Array.from(document.head.querySelectorAll('style[data-ag-scope="legacy"]')))e.remove()}},Fde=new Set,Ode=async e=>{Fde.add(e);const t=`@import url('https://${Nde}/css2?family=${encodeURIComponent(e)}:wght@100;200;300;400;500;600;700;800;900&display=swap');
`;Rg(t,document.head,`googleFont:${e}`,void 0,0)},Nde="fonts.googleapis.com",Bde='.ag-checkbox-input-wrapper,.ag-radio-button-input-wrapper{background-color:var(--ag-checkbox-unchecked-background-color);border:solid var(--ag-checkbox-border-width) var(--ag-checkbox-unchecked-border-color);flex:none;height:var(--ag-icon-size);position:relative;width:var(--ag-icon-size);:where(input){-webkit-appearance:none;-moz-appearance:none;appearance:none;cursor:pointer;display:block;height:var(--ag-icon-size);margin:0;opacity:0;width:var(--ag-icon-size)}&:after{content:"";display:block;inset:0;-webkit-mask-position:center;mask-position:center;-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;pointer-events:none;position:absolute}&:where(.ag-checked){background-color:var(--ag-checkbox-checked-background-color);border-color:var(--ag-checkbox-checked-border-color);&:after{background-color:var(--ag-checkbox-checked-shape-color)}}&:where(:focus-within,:active){box-shadow:var(--ag-focus-shadow)}&:where(.ag-disabled){filter:grayscale();opacity:.5}}.ag-checkbox-input-wrapper{border-radius:var(--ag-checkbox-border-radius);&:where(.ag-checked):after{-webkit-mask-image:var(--ag-checkbox-checked-shape-image);mask-image:var(--ag-checkbox-checked-shape-image)}&:where(.ag-indeterminate){background-color:var(--ag-checkbox-indeterminate-background-color);border-color:var(--ag-checkbox-indeterminate-border-color);&:after{background-color:var(--ag-checkbox-indeterminate-shape-color);-webkit-mask-image:var(--ag-checkbox-indeterminate-shape-image);mask-image:var(--ag-checkbox-indeterminate-shape-image)}}}.ag-radio-button-input-wrapper{border-radius:100%;&:where(.ag-checked):after{-webkit-mask-image:var(--ag-radio-checked-shape-image);mask-image:var(--ag-radio-checked-shape-image)}}',zde=()=>fr({feature:"checkboxStyle",params:{checkboxBorderWidth:1,checkboxBorderRadius:{ref:"borderRadius"},checkboxUncheckedBackgroundColor:Ho,checkboxUncheckedBorderColor:Lr(.3),checkboxCheckedBackgroundColor:Pu,checkboxCheckedBorderColor:{ref:"checkboxCheckedBackgroundColor"},checkboxCheckedShapeImage:{svg:'<svg xmlns="http://www.w3.org/2000/svg" width="10" height="7" fill="none"><path stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.75" d="M1 3.5 3.5 6l5-5"/></svg>'},checkboxCheckedShapeColor:Ho,checkboxIndeterminateBackgroundColor:Lr(.3),checkboxIndeterminateBorderColor:{ref:"checkboxIndeterminateBackgroundColor"},checkboxIndeterminateShapeImage:{svg:'<svg xmlns="http://www.w3.org/2000/svg" width="10" height="2" fill="none"><rect width="10" height="2" fill="#000" rx="1"/></svg>'},checkboxIndeterminateShapeColor:Ho,radioCheckedShapeImage:{svg:'<svg xmlns="http://www.w3.org/2000/svg" width="6" height="6" fill="none"><circle cx="3" cy="3" r="3" fill="#000"/></svg>'}},css:Bde}),xV=zde(),MV=()=>({...kS,backgroundColor:"hsl(217, 0%, 17%)",foregroundColor:"#FFF",chromeBackgroundColor:Lr(.05),rowHoverColor:sl(.15),selectedRowBackgroundColor:sl(.2),menuBackgroundColor:Lr(.1),browserColorScheme:"dark",popupShadow:"0 0px 20px #000A",cardShadow:"0 1px 4px 1px #000A",advancedFilterBuilderJoinPillColor:"#7a3a37",advancedFilterBuilderColumnPillColor:"#355f2d",advancedFilterBuilderOptionPillColor:"#5a3168",advancedFilterBuilderValuePillColor:"#374c86",checkboxUncheckedBorderColor:Lr(.4),toggleButtonOffBackgroundColor:Lr(.4)}),Gde=()=>({...MV(),backgroundColor:"#1f2836"}),Hde=()=>fr({feature:"colorScheme",params:kS,modeParams:{light:kS,dark:MV(),"dark-blue":Gde()}}),DV=Hde(),_de=`.ag-icon-aggregation:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Eaggregation%3C/title%3E%3Cpath d='M24 5.333H8V8l8.667 8L8 24v2.667h16v-4h-9.333L21.334 16l-6.667-6.667H24z'/%3E%3C/svg%3E")}.ag-icon-arrows:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Earrows%3C/title%3E%3Cpath d='M13.333 11.556h5.333V8h3.556L16 1.778 9.778 8h3.556zm-1.777 1.777H8V9.777l-6.222 6.222L8 22.221v-3.556h3.556zM30.222 16 24 9.778v3.556h-3.556v5.333H24v3.556l6.222-6.222zm-11.555 4.444h-5.333V24H9.778L16 30.222 22.222 24h-3.556z'/%3E%3C/svg%3E")}.ag-icon-asc:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Easc%3C/title%3E%3Cpath d='m5.333 16 1.88 1.88 7.453-7.44v16.227h2.667V10.44l7.44 7.453L26.666 16 15.999 5.333z'/%3E%3C/svg%3E")}.ag-icon-cancel:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Ecancel%3C/title%3E%3Cpath d='M16 2.667C8.627 2.667 2.667 8.627 2.667 16S8.627 29.333 16 29.333 29.333 23.373 29.333 16 23.373 2.667 16 2.667m6.667 18.12-1.88 1.88L16 17.88l-4.787 4.787-1.88-1.88L14.12 16l-4.787-4.787 1.88-1.88L16 14.12l4.787-4.787 1.88 1.88L17.88 16z'/%3E%3C/svg%3E")}.ag-icon-chart:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Echart%3C/title%3E%3Cpath d='M6.667 12.267h4v13.067h-4zm7.466-5.6h3.733v18.667h-3.733zM21.6 17.333h3.733v8H21.6z'/%3E%3C/svg%3E")}.ag-icon-color-picker:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Ecolor-picker%3C/title%3E%3Cpath d='M23.907 17.587 10.574 4.254l-1.88 1.88 3.173 3.173-8.28 8.28 10.16 10.16zm-16.547 0 6.387-6.387 6.387 6.387H7.361zm18.387 2s-2.667 2.893-2.667 4.667c0 1.467 1.2 2.667 2.667 2.667s2.667-1.2 2.667-2.667c0-1.773-2.667-4.667-2.667-4.667'/%3E%3C/svg%3E")}.ag-icon-columns:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Ecolumns%3C/title%3E%3Cpath d='M5.333 10.667h5.333V5.334H5.333zm8 16h5.333v-5.333h-5.333zm-8 0h5.333v-5.333H5.333zm0-8h5.333v-5.333H5.333zm8 0h5.333v-5.333h-5.333zm8-13.334v5.333h5.333V5.333zm-8 5.334h5.333V5.334h-5.333zm8 8h5.333v-5.333h-5.333zm0 8h5.333v-5.333h-5.333z'/%3E%3C/svg%3E")}.ag-icon-contracted:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Econtracted%3C/title%3E%3Cpath d='m12.94 8-1.88 1.88L17.167 16l-6.107 6.12L12.94 24l8-8z'/%3E%3C/svg%3E")}.ag-icon-copy:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Ecopy%3C/title%3E%3Cpath d='M22 1.333H6A2.675 2.675 0 0 0 3.333 4v18.667H6V4h16zm4 5.334H11.333a2.675 2.675 0 0 0-2.667 2.667v18.667c0 1.467 1.2 2.667 2.667 2.667H26c1.467 0 2.667-1.2 2.667-2.667V9.334c0-1.467-1.2-2.667-2.667-2.667M26 28H11.333V9.333H26z'/%3E%3C/svg%3E")}.ag-icon-cross:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Ecross%3C/title%3E%3Cpath d='m25.333 8.547-1.88-1.88L16 14.12 8.547 6.667l-1.88 1.88L14.12 16l-7.453 7.453 1.88 1.88L16 17.88l7.453 7.453 1.88-1.88L17.88 16z'/%3E%3C/svg%3E")}.ag-icon-csv:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M384 131.9c-7.753-8.433-110.425-128.473-114.9-133L48-.1C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48zm-35.9 2.1H257V27.9zM30 479V27h200l1 105c0 13.3-1.3 29 12 29h111l1 318z' style='fill-rule:nonzero' transform='matrix(.06285 0 0 .06285 3.934 -.054)'/%3E%3Cpath d='M.688-.226a.2.2 0 0 1-.017.074.28.28 0 0 1-.145.14.412.412 0 0 1-.234.013.28.28 0 0 1-.202-.168.468.468 0 0 1-.04-.19q0-.086.025-.155a.319.319 0 0 1 .182-.191.4.4 0 0 1 .134-.025q.087 0 .155.035a.3.3 0 0 1 .104.085.17.17 0 0 1 .036.097.06.06 0 0 1-.018.044.06.06 0 0 1-.042.019.06.06 0 0 1-.042-.013.2.2 0 0 1-.031-.046.2.2 0 0 0-.066-.079.16.16 0 0 0-.095-.027.17.17 0 0 0-.142.068.3.3 0 0 0-.053.193.4.4 0 0 0 .023.139.2.2 0 0 0 .067.083.2.2 0 0 0 .1.027q.063 0 .106-.031a.2.2 0 0 0 .065-.091.2.2 0 0 1 .023-.046q.014-.018.044-.018a.06.06 0 0 1 .044.018.06.06 0 0 1 .019.045' style='fill-rule:nonzero' transform='matrix(8.39799 0 0 12.455 7.122 25.977)'/%3E%3Cpath d='M.622-.215a.2.2 0 0 1-.033.117.23.23 0 0 1-.098.081.4.4 0 0 1-.153.029.34.34 0 0 1-.175-.04.23.23 0 0 1-.079-.077.17.17 0 0 1-.031-.093q0-.027.019-.045a.06.06 0 0 1 .046-.019.06.06 0 0 1 .039.014.1.1 0 0 1 .027.044.3.3 0 0 0 .03.057q.015.023.044.038.03.015.076.015.065 0 .105-.03a.09.09 0 0 0 .04-.075.08.08 0 0 0-.022-.058.14.14 0 0 0-.056-.034 1 1 0 0 0-.092-.025.7.7 0 0 1-.129-.042.2.2 0 0 1-.083-.066.17.17 0 0 1-.03-.104q0-.058.032-.105a.2.2 0 0 1 .093-.07.4.4 0 0 1 .144-.025q.066 0 .114.016a.3.3 0 0 1 .08.044.2.2 0 0 1 .046.057q.015.03.015.058a.07.07 0 0 1-.018.046.06.06 0 0 1-.046.021q-.025 0-.038-.012a.2.2 0 0 1-.028-.041.2.2 0 0 0-.047-.063Q.387-.625.326-.625a.15.15 0 0 0-.09.025q-.035.024-.035.059 0 .021.012.037a.1.1 0 0 0 .032.027.4.4 0 0 0 .111.036q.06.015.11.031.048.018.083.042a.2.2 0 0 1 .054.062.2.2 0 0 1 .019.091' style='fill-rule:nonzero' transform='matrix(8.39799 0 0 12.455 13.339 25.977)'/%3E%3Cpath d='m.184-.633.162.48.163-.483q.013-.038.019-.053a.062.062 0 0 1 .061-.039q.018 0 .034.009a.1.1 0 0 1 .025.025q.009.015.009.031L.654-.64l-.007.025-.009.024-.173.468-.019.051a.2.2 0 0 1-.021.042.1.1 0 0 1-.033.03.1.1 0 0 1-.049.012.1.1 0 0 1-.05-.011A.1.1 0 0 1 .26-.03a.2.2 0 0 1-.021-.042L.22-.123.05-.587.041-.612.033-.638.03-.662q0-.025.02-.046a.07.07 0 0 1 .05-.02q.037 0 .053.023.015.023.031.072' style='fill-rule:nonzero' transform='matrix(8.39799 0 0 12.455 18.94 25.977)'/%3E%3C/svg%3E")}.ag-icon-cut:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='m19 3-6 6 2 2 7-7V3m-10 9.5a.503.503 0 0 1-.5-.5c0-.274.226-.5.5-.5s.5.226.5.5-.226.5-.5.5M6 20c-1.097 0-2-.903-2-2a2 2 0 0 1 2-2c1.097 0 2 .903 2 2a2 2 0 0 1-2 2M6 8c-1.097 0-2-.903-2-2a2 2 0 0 1 2-2c1.097 0 2 .903 2 2a2 2 0 0 1-2 2m3.64-.36c.23-.5.36-1.05.36-1.64 0-2.194-1.806-4-4-4S2 3.806 2 6s1.806 4 4 4c.59 0 1.14-.13 1.64-.36L10 12l-2.36 2.36C7.14 14.13 6.59 14 6 14c-2.194 0-4 1.806-4 4s1.806 4 4 4 4-1.806 4-4c0-.59-.13-1.14-.36-1.64L12 14l7 7h3v-1z' style='fill-rule:nonzero' transform='translate(4 4)'/%3E%3C/svg%3E")}.ag-icon-desc:before,.ag-icon-down:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Edesc%3C/title%3E%3Cpath d='m26.667 16-1.88-1.88-7.453 7.44V5.333h-2.667V21.56l-7.44-7.453L5.334 16l10.667 10.667L26.668 16z'/%3E%3C/svg%3E")}.ag-icon-excel:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M384 131.9c-7.753-8.433-110.425-128.473-114.9-133L48-.1C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48zm-35.9 2.1H257V27.9zM30 479V27h200l1 105c0 13.3-1.3 29 12 29h111l1 318z' style='fill-rule:nonzero' transform='matrix(.06285 0 0 .06285 3.934 -.054)'/%3E%3Cpath d='m.052-.139.16-.234-.135-.208a.4.4 0 0 1-.028-.052.1.1 0 0 1-.01-.042.05.05 0 0 1 .018-.037.07.07 0 0 1 .045-.016q.03 0 .047.018a1 1 0 0 1 .047.066l.107.174.115-.174.024-.038.019-.026.021-.015a.1.1 0 0 1 .027-.005.06.06 0 0 1 .044.016.05.05 0 0 1 .018.039q0 .033-.038.089l-.141.211.152.234a.3.3 0 0 1 .03.051.1.1 0 0 1 .009.038.1.1 0 0 1-.008.031.1.1 0 0 1-.024.023.1.1 0 0 1-.034.008.1.1 0 0 1-.035-.008.1.1 0 0 1-.023-.022L.427-.067.301-.265l-.134.204-.022.034-.016.019a.1.1 0 0 1-.022.015.1.1 0 0 1-.03.005.06.06 0 0 1-.044-.016.06.06 0 0 1-.017-.047q0-.036.036-.088' style='fill-rule:nonzero' transform='matrix(17.82892 0 0 16.50777 10.371 25.928)'/%3E%3C/svg%3E")}.ag-icon-expanded:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Eexpanded%3C/title%3E%3Cpath d='M20.94 9.88 19.06 8l-8 8 8 8 1.88-1.88L14.833 16z'/%3E%3C/svg%3E")}.ag-icon-eye-slash:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Eeye-slash%3C/title%3E%3Cpath d='M21.106 15.088A5.19 5.19 0 0 0 16 10.814a5.17 5.17 0 0 0-3.668 1.522L9.866 9.868a12.2 12.2 0 0 1 6.133-1.646c5.186 0 9.614 3.225 11.408 7.778a12.34 12.34 0 0 1-5.276 6.133l-2.468-2.466a5.17 5.17 0 0 0 1.449-2.802h-2.123c-.148.508-.42.964-.782 1.33l-1.33-1.33h-2.514l2.196 2.196q-.272.049-.56.05a3.11 3.11 0 0 1-2.99-2.245h-2.123a5.19 5.19 0 0 0 7.3 3.836l2.247 2.247a12.2 12.2 0 0 1-4.434.828c-5.186 0-9.614-3.225-11.408-7.778a12.3 12.3 0 0 1 3.781-5.111l2.924 2.924a5.1 5.1 0 0 0-.404 1.275h4.206l-1.296-1.296a3.1 3.1 0 0 1 2.196-.903c1.404 0 2.587.924 2.976 2.199h2.13z'/%3E%3C/svg%3E")}.ag-icon-eye:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Eeye%3C/title%3E%3Cpath d='M16 8.222c-5.186 0-9.614 3.225-11.408 7.778 1.794 4.553 6.222 7.778 11.408 7.778S25.614 20.553 27.408 16C25.614 11.447 21.186 8.222 16 8.222m0 12.964c-2.862 0-5.186-2.324-5.186-5.186s2.324-5.186 5.186-5.186 5.186 2.324 5.186 5.186-2.324 5.186-5.186 5.186m0-8.297c-1.721 0-3.111 1.39-3.111 3.111s1.39 3.111 3.111 3.111 3.111-1.39 3.111-3.111-1.39-3.111-3.111-3.111'/%3E%3C/svg%3E")}.ag-icon-filter:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Efilter%3C/title%3E%3Cpath d='M13.333 24h5.333v-2.667h-5.333zM4 8v2.667h24V8zm4 9.333h16v-2.667H8z'/%3E%3C/svg%3E")}.ag-icon-first:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Efirst%3C/title%3E%3Cpath d='M24.273 22.12 18.153 16l6.12-6.12L22.393 8l-8 8 8 8zM7.727 8h2.667v16H7.727z'/%3E%3C/svg%3E")}.ag-icon-group:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Egroup%3C/title%3E%3Cpath d='M18.667 21.333h8.889A3.555 3.555 0 0 1 24 24.889h-5.333zm8.888-7.111v3.556h-8.889v-3.556zM24 7.111a3.555 3.555 0 0 1 3.556 3.556h-16V7.111zm-8.889 17.778h-3.556v-3.556h3.556zm0-7.111h-3.556v-3.556h3.556zM8 10.667H4.444A3.555 3.555 0 0 1 8 7.111z'/%3E%3C/svg%3E")}.ag-icon-last:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Elast%3C/title%3E%3Cpath d='m7.727 9.88 6.12 6.12-6.12 6.12L9.607 24l8-8-8-8zM21.607 8h2.667v16h-2.667z'/%3E%3C/svg%3E")}.ag-icon-left:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Eleft%3C/title%3E%3Cpath d='M26.667 14.667H10.44l7.453-7.453L16 5.334 5.333 16.001 16 26.668l1.88-1.88-7.44-7.453h16.227v-2.667z'/%3E%3C/svg%3E")}.ag-icon-linked:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Elinked%3C/title%3E%3Cpath d='M5.2 16a4.136 4.136 0 0 1 4.133-4.133h5.333V9.334H9.333c-3.68 0-6.667 2.987-6.667 6.667s2.987 6.667 6.667 6.667h5.333v-2.533H9.333A4.136 4.136 0 0 1 5.2 16.002zm5.467 1.333h10.667v-2.667H10.667zm12-8h-5.333v2.533h5.333c2.28 0 4.133 1.853 4.133 4.133s-1.853 4.133-4.133 4.133h-5.333v2.533h5.333c3.68 0 6.667-2.987 6.667-6.667s-2.987-6.667-6.667-6.667z'/%3E%3C/svg%3E")}.ag-icon-loading:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Eloading%3C/title%3E%3Cpath d='m17.778 11.708 3.25-3.251 2.516 2.516-3.251 3.25h4.597v3.556h-4.597l3.251 3.25-2.516 2.516-3.25-3.251v4.597h-3.556v-4.597l-3.25 3.251-2.516-2.516 3.251-3.25H7.11v-3.556h4.597l-3.251-3.25 2.516-2.516 3.25 3.251V7.111h3.556zm-3.251 7.847h2.944l2.084-2.084v-2.944l-2.084-2.084h-2.944l-2.084 2.084v2.944z'/%3E%3C/svg%3E")}.ag-icon-maximize:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Emaximize%3C/title%3E%3Cpath d='M4 4h24v2.667H4z'/%3E%3C/svg%3E")}.ag-icon-menu:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Emenu%3C/title%3E%3Cpath d='M4 24h24v-2.667H4zm0-6.667h24v-2.667H4zM4 8v2.667h24V8z'/%3E%3C/svg%3E")}.ag-icon-menu-alt:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='32' height='32' fill='none' viewBox='0 0 32 32'%3E%3Cpath fill='%23000' d='M16 26.667a2.57 2.57 0 0 1-1.883-.784A2.57 2.57 0 0 1 13.333 24q0-1.1.784-1.883A2.57 2.57 0 0 1 16 21.333q1.1 0 1.883.784.784.783.784 1.883t-.784 1.883a2.57 2.57 0 0 1-1.883.784m0-8a2.57 2.57 0 0 1-1.883-.784A2.57 2.57 0 0 1 13.333 16q0-1.1.784-1.883A2.57 2.57 0 0 1 16 13.333q1.1 0 1.883.784.784.783.784 1.883t-.784 1.883a2.57 2.57 0 0 1-1.883.784m0-8a2.57 2.57 0 0 1-1.883-.784A2.57 2.57 0 0 1 13.333 8q0-1.1.784-1.883A2.57 2.57 0 0 1 16 5.333q1.1 0 1.883.784.784.783.784 1.883t-.784 1.883a2.57 2.57 0 0 1-1.883.784'/%3E%3C/svg%3E")}.ag-icon-minimize:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Eminimize%3C/title%3E%3Cpath d='M8 25.333h16V28H8z'/%3E%3C/svg%3E")}.ag-icon-minus:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M6.572 6.572a13.32 13.32 0 0 0 0 18.856 13.32 13.32 0 0 0 18.856 0 13.32 13.32 0 0 0 0-18.856 13.32 13.32 0 0 0-18.856 0m17.527 8.099v2.658H7.901v-2.658z' style='fill-rule:nonzero'/%3E%3C/svg%3E")}.ag-icon-next:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Enext%3C/title%3E%3Cpath d='m12.94 8-1.88 1.88L17.167 16l-6.107 6.12L12.94 24l8-8z'/%3E%3C/svg%3E")}.ag-icon-none:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Enone%3C/title%3E%3Cpath d='M4 24h16v-2.667H4zM4 8v2.667h24V8zm0 9.333h24v-2.667H4z'/%3E%3C/svg%3E")}.ag-icon-not-allowed:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Enot-allowed%3C/title%3E%3Cpath d='M16 2.667C8.64 2.667 2.667 8.64 2.667 16S8.64 29.333 16 29.333 29.333 23.36 29.333 16 23.36 2.667 16 2.667M5.333 16c0-5.893 4.773-10.667 10.667-10.667 2.467 0 4.733.84 6.533 2.253L7.586 22.533A10.54 10.54 0 0 1 5.333 16M16 26.667c-2.467 0-4.733-.84-6.533-2.253L24.414 9.467A10.54 10.54 0 0 1 26.667 16c0 5.893-4.773 10.667-10.667 10.667'/%3E%3C/svg%3E")}.ag-icon-paste:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Epaste%3C/title%3E%3Cpath d='M25.333 4H19.76C19.2 2.453 17.733 1.333 16 1.333S12.8 2.453 12.24 4H6.667A2.675 2.675 0 0 0 4 6.667V28c0 1.467 1.2 2.667 2.667 2.667h18.667c1.467 0 2.667-1.2 2.667-2.667V6.667C28.001 5.2 26.801 4 25.334 4zM16 4c.733 0 1.333.6 1.333 1.333s-.6 1.333-1.333 1.333-1.333-.6-1.333-1.333S15.267 4 16 4m9.333 24H6.666V6.667h2.667v4h13.333v-4h2.667z'/%3E%3C/svg%3E")}.ag-icon-pin:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Epin%3C/title%3E%3Cpath d='m11.106 22.093-4.444 4.444-1.259-1.259 4.444-4.444zm5.872-16.63 9.618 9.62-.962.962-.962-.962-7.694 3.847 1.924 1.924-2.74 2.74-7.696-7.696 2.741-2.74 1.924 1.925 3.847-7.696-.962-.962z'/%3E%3C/svg%3E")}.ag-icon-pivot:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Epivot%3C/title%3E%3Cpath d='M26.667 30.223H5.334a3.556 3.556 0 0 1-3.556-3.556V5.334a3.556 3.556 0 0 1 3.556-3.556h21.333a3.556 3.556 0 0 1 3.556 3.556v21.333a3.556 3.556 0 0 1-3.556 3.556m-16-8.89H5.334v5.333h5.333zm16-7.11H12.444v12.444h14.223zm-9.15 6.85-2.039 2.037 2.039 2.039-1.257 1.257-3.295-3.296 3.295-3.295q.63.628 1.257 1.257zm-6.85-6.85H5.334v5.333h5.333zm15.74 3.816-1.257 1.256-2.039-2.037-2.037 2.037-1.257-1.256 3.295-3.296zM10.667 5.333H5.334v5.333h5.333zm8.889 0h-7.112v5.333h7.112zm7.111 0h-5.333v5.333h5.333z'/%3E%3C/svg%3E")}.ag-icon-plus:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M6.572 6.572a13.32 13.32 0 0 0 0 18.856 13.32 13.32 0 0 0 18.856 0 13.32 13.32 0 0 0 0-18.856 13.32 13.32 0 0 0-18.856 0m17.527 8.099v2.658h-6.77v6.77h-2.658v-6.77h-6.77v-2.658h6.77v-6.77h2.658v6.77z' style='fill-rule:nonzero'/%3E%3C/svg%3E")}.ag-icon-previous:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Eprevious%3C/title%3E%3Cpath d='M20.94 9.88 19.06 8l-8 8 8 8 1.88-1.88L14.833 16z'/%3E%3C/svg%3E")}.ag-icon-right:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Eright%3C/title%3E%3Cpath d='m16 5.333-1.88 1.88 7.44 7.453H5.333v2.667H21.56l-7.44 7.453 1.88 1.88 10.667-10.667L16 5.332z'/%3E%3C/svg%3E")}.ag-icon-save:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Esave%3C/title%3E%3Cpath d='M25.333 16v9.333H6.666V16H3.999v9.333C3.999 26.8 5.199 28 6.666 28h18.667C26.8 28 28 26.8 28 25.333V16zm-8 .893 3.453-3.44 1.88 1.88L15.999 22l-6.667-6.667 1.88-1.88 3.453 3.44V4h2.667v12.893z'/%3E%3C/svg%3E")}.ag-icon-small-down:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Esmall-down%3C/title%3E%3Cpath d='M9.333 12.667 16 19.334l6.667-6.667H9.334z'/%3E%3C/svg%3E")}.ag-icon-small-left:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Esmall-left%3C/title%3E%3Cpath d='M19.333 9.333 12.666 16l6.667 6.667V9.334z'/%3E%3C/svg%3E")}.ag-icon-small-right:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Esmall-right%3C/title%3E%3Cpath d='M12.667 22.667 19.334 16l-6.667-6.667v13.333z'/%3E%3C/svg%3E")}.ag-icon-small-up:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Esmall-up%3C/title%3E%3Cpath d='M9.333 19.333 16 12.666l6.667 6.667H9.334z'/%3E%3C/svg%3E")}.ag-icon-tick:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Etick%3C/title%3E%3Cpath d='m11.727 21.167-5.56-5.56-1.893 1.88 7.453 7.453 16-16-1.88-1.88z'/%3E%3C/svg%3E")}.ag-icon-tree-closed:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Etree-closed%3C/title%3E%3Cpath d='m12.94 8-1.88 1.88L17.167 16l-6.107 6.12L12.94 24l8-8z'/%3E%3C/svg%3E")}.ag-icon-tree-indeterminate:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Etree-indeterminate%3C/title%3E%3Cpath d='M6.667 14.667h18.667v2.667H6.667z'/%3E%3C/svg%3E")}.ag-icon-tree-open:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Etree-open%3C/title%3E%3Cpath d='M22.12 11.06 16 17.167 9.88 11.06 8 12.94l8 8 8-8z'/%3E%3C/svg%3E")}.ag-icon-unlinked:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Eunlinked%3C/title%3E%3Cpath d='M22.667 9.333h-5.333v2.533h5.333a4.136 4.136 0 0 1 4.133 4.133c0 1.907-1.307 3.507-3.08 3.973l1.947 1.947c2.173-1.107 3.667-3.32 3.667-5.92a6.67 6.67 0 0 0-6.667-6.667zm-1.334 5.334h-2.92l2.667 2.667h.253zM2.667 5.693 6.814 9.84A6.65 6.65 0 0 0 2.667 16a6.67 6.67 0 0 0 6.667 6.667h5.333v-2.533H9.334a4.136 4.136 0 0 1-4.133-4.133c0-2.12 1.613-3.867 3.68-4.093l2.76 2.76h-.973v2.667h3.64l3.027 3.027v2.307h2.307l5.347 5.333 1.68-1.68L4.362 4.002 2.669 5.695z'/%3E%3C/svg%3E")}.ag-icon-up:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Easc%3C/title%3E%3Cpath d='m5.333 16 1.88 1.88 7.453-7.44v16.227h2.667V10.44l7.44 7.453L26.666 16 15.999 5.333z'/%3E%3C/svg%3E")}.ag-icon-grip:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Egrip%3C/title%3E%3Cpath d='M26.667 12H5.334v2.667h21.333zM5.333 20h21.333v-2.667H5.333z'/%3E%3C/svg%3E")}.ag-icon-settings:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='32' height='32' fill='none' viewBox='0 0 32 32'%3E%3Cpath fill='%23000' d='M30 8h-4.1c-.5-2.3-2.5-4-4.9-4s-4.4 1.7-4.9 4H2v2h14.1c.5 2.3 2.5 4 4.9 4s4.4-1.7 4.9-4H30zm-9 4c-1.7 0-3-1.3-3-3s1.3-3 3-3 3 1.3 3 3-1.3 3-3 3M2 24h4.1c.5 2.3 2.5 4 4.9 4s4.4-1.7 4.9-4H30v-2H15.9c-.5-2.3-2.5-4-4.9-4s-4.4 1.7-4.9 4H2zm9-4c1.7 0 3 1.3 3 3s-1.3 3-3 3-3-1.3-3-3 1.3-3 3-3'/%3E%3C/svg%3E")}`,jde=fr({feature:"iconSet",css:_de}),RV={aggregation:'<path d="M18 7V4H6l6 8-6 8h12v-3"/>',arrows:'<polyline points="5 9 2 12 5 15"/><polyline points="9 5 12 2 15 5"/><polyline points="15 19 12 22 9 19"/><polyline points="19 9 22 12 19 15"/><line x1="2" x2="22" y1="12" y2="12"/><line x1="12" x2="12" y1="2" y2="22"/>',asc:'<path d="m5 12 7-7 7 7"/><path d="M12 19V5"/>',cancel:'<path d="m18 6-12 12"/><path d="m6 6 12 12"/>',chart:'<line x1="18" x2="18" y1="20" y2="10"/><line x1="12" x2="12" y1="20" y2="4"/><line x1="6" x2="6" y1="20" y2="14"/>',"color-picker":'<path d="m19 11-8-8-8.6 8.6a2 2 0 0 0 0 2.8l5.2 5.2c.8.8 2 .8 2.8 0L19 11Z"/><path d="m5 2 5 5"/><path d="M2 13h15"/><path d="M22 20a2 2 0 1 1-4 0c0-1.6 1.7-2.4 2-4 .3 1.6 2 2.4 2 4Z"/>',columns:'<path d="M9 3H5a2 2 0 0 0-2 2v4m6-6h10a2 2 0 0 1 2 2v4M9 3v18m0 0h10a2 2 0 0 0 2-2V9M9 21H5a2 2 0 0 1-2-2V9m0 0h18"/>',contracted:'<path d="m9 18 6-6-6-6"/>',copy:'<rect width="14" height="14" x="8" y="8" rx="2" ry="2"/><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"/>',cross:'<path d="M18 6 6 18"/><path d="m6 6 12 12"/>',csv:'<path d="M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"/><polyline points="14 2 14 8 20 8"/><path d="M8 13h2"/><path d="M8 17h2"/><path d="M14 13h2"/><path d="M14 17h2"/>',cut:'<circle cx="6" cy="6" r="3"/><path d="M8.12 8.12 12 12"/><path d="M20 4 8.12 15.88"/><circle cx="6" cy="18" r="3"/><path d="M14.8 14.8 20 20"/>',desc:'<path d="M12 5v14"/><path d="m19 12-7 7-7-7"/>',down:'<path d="M12 5v14"/><path d="m19 12-7 7-7-7"/>',excel:'<path d="M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"/><polyline points="14 2 14 8 20 8"/><path d="M8 13h2"/><path d="M8 17h2"/><path d="M14 13h2"/><path d="M14 17h2"/>',expanded:'<path d="m15 18-6-6 6-6"/>',"eye-slash":'<path d="M9.88 9.88a3 3 0 1 0 4.24 4.24"/><path d="M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68"/><path d="M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61"/><line x1="2" x2="22" y1="2" y2="22"/>',eye:'<path d="M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z"/><circle cx="12" cy="12" r="3"/>',filter:'<path d="M3 6h18"/><path d="M7 12h10"/><path d="M10 18h4"/>',first:'<path d="m17 18-6-6 6-6"/><path d="M7 6v12"/>',group:'<path d="M16 12H3"/><path d="M16 18H3"/><path d="M10 6H3"/><path d="M21 18V8a2 2 0 0 0-2-2h-5"/><path d="m16 8-2-2 2-2"/>',last:'<path d="m7 18 6-6-6-6"/><path d="M17 6v12"/>',left:'<path d="m12 19-7-7 7-7"/><path d="M19 12H5"/>',linked:'<path d="M9 17H7A5 5 0 0 1 7 7h2"/><path d="M15 7h2a5 5 0 1 1 0 10h-2"/><line x1="8" x2="16" y1="12" y2="12"/>',loading:'<line x1="12" x2="12" y1="2" y2="6"/><line x1="12" x2="12" y1="18" y2="22"/><line x1="4.93" x2="7.76" y1="4.93" y2="7.76"/><line x1="16.24" x2="19.07" y1="16.24" y2="19.07"/><line x1="2" x2="6" y1="12" y2="12"/><line x1="18" x2="22" y1="12" y2="12"/><line x1="4.93" x2="7.76" y1="19.07" y2="16.24"/><line x1="16.24" x2="19.07" y1="7.76" y2="4.93"/>',maximize:'<polyline points="15 3 21 3 21 9"/><polyline points="9 21 3 21 3 15"/><line x1="21" x2="14" y1="3" y2="10"/><line x1="3" x2="10" y1="21" y2="14"/>',menu:'<line x1="4" x2="20" y1="12" y2="12"/><line x1="4" x2="20" y1="6" y2="6"/><line x1="4" x2="20" y1="18" y2="18"/>',"menu-alt":'<circle cx="12" cy="5" r="0.75" fill="#D9D9D9"/><circle cx="12" cy="12" r="0.75" fill="#D9D9D9"/><circle cx="12" cy="19" r="0.75" fill="#D9D9D9"/>',minimize:'<polyline points="4 14 10 14 10 20"/><polyline points="20 10 14 10 14 4"/><line x1="14" x2="21" y1="10" y2="3"/><line x1="3" x2="10" y1="21" y2="14"/>',minus:'<circle cx="12" cy="12" r="10"/><path d="M8 12h8"/>',next:'<path d="m9 18 6-6-6-6"/>',none:'<path d="m7 15 5 5 5-5"/><path d="m7 9 5-5 5 5"/>',"not-allowed":'<circle cx="12" cy="12" r="10"/><path d="m4.9 4.9 14.2 14.2"/>',paste:'<path d="M15 2H9a1 1 0 0 0-1 1v2c0 .6.4 1 1 1h6c.6 0 1-.4 1-1V3c0-.6-.4-1-1-1Z"/><path d="M8 4H6a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2M16 4h2a2 2 0 0 1 2 2v2M11 14h10"/><path d="m17 10 4 4-4 4"/>',pin:'<line x1="12" x2="12" y1="17" y2="22"/><path d="M5 17h14v-1.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V6h1a2 2 0 0 0 0-4H8a2 2 0 0 0 0 4h1v4.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24Z"/>',pivot:'<path d="M15 3v18"/><rect width="18" height="18" x="3" y="3" rx="2"/><path d="M21 9H3"/><path d="M21 15H3"/>',plus:'<circle cx="12" cy="12" r="10"/><path d="M8 12h8"/><path d="M12 8v8"/>',previous:'<path d="m15 18-6-6 6-6"/>',right:'<path d="M5 12h14"/><path d="m12 5 7 7-7 7"/>',save:'<path d="M12 17V3"/><path d="m6 11 6 6 6-6"/><path d="M19 21H5"/>',"small-left":'<path d="m15 18-6-6 6-6"/>',"small-right":'<path d="m9 18 6-6-6-6"/>',tick:'<path d="M20 6 9 17l-5-5"/>',"tree-closed":'<path d="m9 18 6-6-6-6"/>',"tree-indeterminate":'<path d="M5 12h14"/>',"tree-open":'<path d="m6 9 6 6 6-6"/>',unlinked:'<path d="M9 17H7A5 5 0 0 1 7 7"/><path d="M15 7h2a5 5 0 0 1 4 8"/><line x1="8" x2="12" y1="12" y2="12"/><line x1="2" x2="22" y1="2" y2="22"/>',up:'<path d="m5 12 7-7 7 7"/><path d="M12 19V5"/>',grip:'<circle cx="5" cy="8" r="0.5"/><circle cx="12" cy="8" r="0.5"/><circle cx="19" cy="8" r="0.5"/><circle cx="5" cy="16" r="0.5"/><circle cx="12" cy="16" r="0.5"/><circle cx="19" cy="16" r="0.5"/><g stroke="none" fill="currentColor"><circle cx="5" cy="8" r="1"/><circle cx="12" cy="8" r="1"/><circle cx="19" cy="8" r="1"/><circle cx="5" cy="16" r="1"/><circle cx="12" cy="16" r="1"/><circle cx="19" cy="16" r="1"/></g>',settings:'<path d="M20 7h-9"/><path d="M14 17H5"/><circle cx="17" cy="17" r="3"/><circle cx="7" cy="7" r="3"/>'},EV={"small-down":'<svg xmlns="http://www.w3.org/2000/svg" class="ag-icon" fill="black" stroke="none" viewBox="0 0 32 32"><path d="M7.334 10.667 16 21.334l8.667-10.667H7.334Z"/></svg>',"small-up":'<svg xmlns="http://www.w3.org/2000/svg" class="ag-icon" fill="black" stroke="none" viewBox="0 0 32 32"><path d="M7.334 21.333 16 10.666l8.667 10.667H7.334Z"/></svg>'},Vde=(e={})=>{let t="";for(const i of[...Object.keys(RV),...Object.keys(EV)]){const n=Wde(i,e.strokeWidth);t+=`.ag-icon-${i}::before { mask-image: url('data:image/svg+xml,${encodeURIComponent(n)}'); }
`}return t},Wde=(e,t=1.5)=>{const i=EV[e];if(i)return i;const n=RV[e];if(!n)throw new Error(`Missing icon data for ${e}`);return`<svg xmlns="http://www.w3.org/2000/svg" class="ag-icon" fill="none" stroke-linecap="round" stroke-linejoin="round" stroke="black" stroke-width="${t}" viewBox="0 0 24 24"><style>* { vector-effect: non-scaling-stroke; }</style>`+n+"</svg>"},Ude=(e={})=>fr({feature:"iconSet",css:()=>Vde(e)}),$de=Ude(),TV=':where(.ag-input-field-input[type=number]:not(.ag-number-field-input-stepper)){-webkit-appearance:textfield;-moz-appearance:textfield;appearance:textfield;&::-webkit-inner-spin-button,&::-webkit-outer-spin-button{-webkit-appearance:none;appearance:none;margin:0}}:where(input.ag-input-field-input:not([type]),input.ag-input-field-input[type=text],input.ag-input-field-input[type=number],input.ag-input-field-input[type=tel],input.ag-input-field-input[type=date],input.ag-input-field-input[type=datetime-local],textarea.ag-input-field-input){background-color:var(--ag-input-background-color);border:var(--ag-input-border);border-radius:var(--ag-input-border-radius);color:var(--ag-input-text-color);font-family:inherit;font-size:inherit;line-height:inherit;margin:0;min-height:var(--ag-input-height);padding:0;&:where(:disabled){background-color:var(--ag-input-disabled-background-color);border:var(--ag-input-disabled-border);color:var(--ag-input-disabled-text-color)}&:where(:focus){background-color:var(--ag-input-focus-background-color);border:var(--ag-input-focus-border);box-shadow:var(--ag-input-focus-shadow);color:var(--ag-input-focus-text-color);outline:none}&:where(:invalid){background-color:var(--ag-input-invalid-background-color);border:var(--ag-input-invalid-border);color:var(--ag-input-invalid-text-color)}&:where(.invalid){background-color:var(--ag-input-invalid-background-color);border:var(--ag-input-invalid-border);color:var(--ag-input-invalid-text-color)}&::-moz-placeholder{color:var(--ag-input-placeholder-text-color)}&::placeholder{color:var(--ag-input-placeholder-text-color)}}:where(.ag-ltr) :where(input.ag-input-field-input:not([type]),input.ag-input-field-input[type=text],input.ag-input-field-input[type=number],input.ag-input-field-input[type=tel],input.ag-input-field-input[type=date],input.ag-input-field-input[type=datetime-local],textarea.ag-input-field-input){padding-left:var(--ag-input-padding-start)}:where(.ag-rtl) :where(input.ag-input-field-input:not([type]),input.ag-input-field-input[type=text],input.ag-input-field-input[type=number],input.ag-input-field-input[type=tel],input.ag-input-field-input[type=date],input.ag-input-field-input[type=datetime-local],textarea.ag-input-field-input){padding-right:var(--ag-input-padding-start)}:where(.ag-column-select-header-filter-wrapper,.ag-filter-toolpanel-search,.ag-mini-filter,.ag-filter-filter){.ag-input-wrapper:before{background-color:currentcolor;color:var(--ag-input-icon-color);content:"";display:block;height:12px;-webkit-mask-image:url("data:image/svg+xml;charset=utf-8;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMiIgaGVpZ2h0PSIxMiIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS13aWR0aD0iMS41Ij48cGF0aCBkPSJNNS4zIDlhMy43IDMuNyAwIDEgMCAwLTcuNSAzLjcgMy43IDAgMCAwIDAgNy41Wk0xMC41IDEwLjUgOC4zIDguMiIvPjwvc3ZnPg==");mask-image:url("data:image/svg+xml;charset=utf-8;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMiIgaGVpZ2h0PSIxMiIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS13aWR0aD0iMS41Ij48cGF0aCBkPSJNNS4zIDlhMy43IDMuNyAwIDEgMCAwLTcuNSAzLjcgMy43IDAgMCAwIDAgNy41Wk0xMC41IDEwLjUgOC4zIDguMiIvPjwvc3ZnPg==");-webkit-mask-position:center;mask-position:center;-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;opacity:.5;position:absolute;width:12px}}:where(.ag-ltr) :where(.ag-column-select-header-filter-wrapper,.ag-filter-toolpanel-search,.ag-mini-filter,.ag-filter-filter){.ag-input-wrapper:before{margin-left:var(--ag-spacing)}.ag-number-field-input,.ag-text-field-input{padding-left:calc(var(--ag-spacing)*1.5 + 12px)}}:where(.ag-rtl) :where(.ag-column-select-header-filter-wrapper,.ag-filter-toolpanel-search,.ag-mini-filter,.ag-filter-filter){.ag-input-wrapper:before{margin-right:var(--ag-spacing)}.ag-number-field-input,.ag-text-field-input{padding-right:calc(var(--ag-spacing)*1.5 + 12px)}}',Yde=":where(input.ag-input-field-input:not([type]),input.ag-input-field-input[type=text],input.ag-input-field-input[type=number],input.ag-input-field-input[type=tel],input.ag-input-field-input[type=date],input.ag-input-field-input[type=datetime-local],textarea.ag-input-field-input){&:focus{box-shadow:var(--ag-focus-shadow)}}",Kde=":where(input.ag-input-field-input:not([type]),input.ag-input-field-input[type=text],input.ag-input-field-input[type=number],input.ag-input-field-input[type=tel],input.ag-input-field-input[type=date],input.ag-input-field-input[type=datetime-local],textarea.ag-input-field-input){border-left:none;border-right:none;border-top:none}",AV={inputBackgroundColor:"transparent",inputBorder:!1,inputBorderRadius:0,inputTextColor:{ref:"textColor"},inputPlaceholderTextColor:{ref:"inputTextColor",mix:.5},inputPaddingStart:0,inputHeight:{calc:"max(iconSize, fontSize) + spacing * 2"},inputFocusBackgroundColor:{ref:"inputBackgroundColor"},inputFocusBorder:{ref:"inputBorder"},inputFocusShadow:"none",inputFocusTextColor:{ref:"inputTextColor"},inputDisabledBackgroundColor:{ref:"inputBackgroundColor"},inputDisabledBorder:{ref:"inputBorder"},inputDisabledTextColor:{ref:"inputTextColor"},inputInvalidBackgroundColor:{ref:"inputBackgroundColor"},inputInvalidBorder:{ref:"inputBorder"},inputInvalidTextColor:{ref:"inputTextColor"},inputIconColor:{ref:"inputTextColor"},pickerButtonBorder:!1,pickerButtonFocusBorder:{ref:"inputFocusBorder"},pickerButtonBackgroundColor:{ref:"backgroundColor"},pickerButtonFocusBackgroundColor:{ref:"backgroundColor"},pickerListBorder:!1,pickerListBackgroundColor:{ref:"backgroundColor"}},qde=()=>fr({feature:"inputStyle",params:{...AV,inputBackgroundColor:Ho,inputBorder:!0,inputBorderRadius:{ref:"borderRadius"},inputPaddingStart:{ref:"spacing"},inputFocusBorder:{color:Pu},inputFocusShadow:{ref:"focusShadow"},inputDisabledBackgroundColor:Lr(.06),inputDisabledTextColor:{ref:"textColor",mix:.5},inputInvalidBorder:{color:{ref:"invalidColor"}},pickerButtonBorder:!0,pickerListBorder:!0},css:()=>TV+Yde}),Zde=qde(),Xde=()=>fr({feature:"inputStyle",params:{...AV,inputBackgroundColor:"transparent",inputBorder:{width:2,color:ds(.3)},inputPaddingStart:{ref:"spacing"},inputFocusBorder:"solid 2px var(--ag-accent-color)",inputDisabledTextColor:{ref:"textColor",mix:.5},inputDisabledBorder:"solid 1px var(--ag-border-color)",inputInvalidBorder:{width:2,color:{ref:"invalidColor",mix:.3}}},css:()=>TV+Kde}),Qde=Xde(),IV='.ag-tabs-header{background-color:var(--ag-tab-bar-background-color);border-bottom:var(--ag-tab-bar-border);display:flex;flex:1;gap:var(--ag-tab-spacing);padding:var(--ag-tab-bar-top-padding) var(--ag-tab-bar-horizontal-padding) 0}.ag-tabs-header-wrapper{display:flex}.ag-tabs-close-button-wrapper{align-items:center;border:0;display:flex;padding:var(--ag-spacing)}:where(.ag-ltr) .ag-tabs-close-button-wrapper{border-right:1px solid var(--ag-border-color)}:where(.ag-rtl) .ag-tabs-close-button-wrapper{border-left:1px solid var(--ag-border-color)}.ag-tabs-close-button{background-color:unset;border:0;cursor:pointer;padding:0}.ag-tab{align-items:center;background-color:var(--ag-tab-background-color);border-left:var(--ag-tab-selected-border-width) solid transparent;border-right:var(--ag-tab-selected-border-width) solid transparent;color:var(--ag-tab-text-color);cursor:pointer;display:flex;flex:1;justify-content:center;padding:var(--ag-tab-top-padding) var(--ag-tab-horizontal-padding) var(--ag-tab-bottom-padding);position:relative;&:hover{background-color:var(--ag-tab-hover-background-color);color:var(--ag-tab-hover-text-color)}&.ag-tab-selected{background-color:var(--ag-tab-selected-background-color);color:var(--ag-tab-selected-text-color)}&:after{background-color:var(--ag-tab-selected-underline-color);bottom:0;content:"";display:block;height:var(--ag-tab-selected-underline-width);left:0;opacity:0;position:absolute;right:0;transition:opacity var(--ag-tab-selected-underline-transition-duration)}&.ag-tab-selected:after{opacity:1}}:where(.ag-ltr) .ag-tab{&.ag-tab-selected{&:where(:not(:first-of-type)){border-left-color:var(--ag-tab-selected-border-color)}&:where(:not(:last-of-type)){border-right-color:var(--ag-tab-selected-border-color)}}}:where(.ag-rtl) .ag-tab{&.ag-tab-selected{&:where(:not(:first-of-type)){border-right-color:var(--ag-tab-selected-border-color)}&:where(:not(:last-of-type)){border-left-color:var(--ag-tab-selected-border-color)}}}',LV={tabBarBackgroundColor:"transparent",tabBarHorizontalPadding:0,tabBarTopPadding:0,tabBackgroundColor:"transparent",tabTextColor:{ref:"textColor"},tabHorizontalPadding:{ref:"spacing"},tabTopPadding:{ref:"spacing"},tabBottomPadding:{ref:"spacing"},tabSpacing:"0",tabHoverBackgroundColor:{ref:"tabBackgroundColor"},tabHoverTextColor:{ref:"tabTextColor"},tabSelectedBackgroundColor:{ref:"tabBackgroundColor"},tabSelectedTextColor:{ref:"tabTextColor"},tabSelectedBorderWidth:1,tabSelectedBorderColor:"transparent",tabSelectedUnderlineColor:"transparent",tabSelectedUnderlineWidth:0,tabSelectedUnderlineTransitionDuration:0,tabBarBorder:!1},Jde=()=>fr({feature:"tabStyle",params:{...LV,tabBarBorder:!0,tabBarBackgroundColor:ds(.05),tabTextColor:{ref:"textColor",mix:.7},tabSelectedTextColor:{ref:"textColor"},tabHoverTextColor:{ref:"textColor"},tabSelectedBorderColor:{ref:"borderColor"},tabSelectedBackgroundColor:Ho},css:IV}),ehe=Jde(),the=()=>fr({feature:"tabStyle",params:{...LV,tabBarBackgroundColor:{ref:"chromeBackgroundColor"},tabSelectedUnderlineColor:{ref:"primaryColor"},tabSelectedUnderlineWidth:2,tabSelectedUnderlineTransitionDuration:0},css:IV}),ihe=the(),nhe=".ag-dnd-ghost,.ag-filter-toolpanel-header,.ag-filter-toolpanel-search,.ag-header-row,.ag-multi-filter-group-title-bar,.ag-panel-title-bar-title,.ag-status-bar{color:var(--ag-header-text-color);font-size:calc(var(--ag-font-size) - 1px);font-weight:600}.ag-column-drop-horizontal{background-color:color-mix(in srgb,var(--ag-background-color),var(--ag-foreground-color) 8%)}.ag-cell.ag-cell-inline-editing{background-color:var(--ag-background-color);background-image:linear-gradient(0deg,var(--ag-input-background-color),var(--ag-input-background-color));border:var(--ag-input-border)!important;border-width:1px!important;height:calc(var(--ag-row-height) + var(--ag-spacing)*3);padding:var(--ag-spacing);:where(.ag-row-last:not(.ag-row-first)) &{bottom:0}:where(.ag-has-focus) &{border:var(--ag-input-focus-border)!important;border-width:1px!important}}.ag-advanced-filter-builder-button,.ag-standard-button{text-transform:uppercase}.ag-status-bar{border:1px solid var(--ag-border-color)}.ag-list-item-hovered:after{background-color:var(--ag-primary-color)}.ag-pill-button:hover{color:var(--ag-primary-color)}.ag-header-highlight-after:after,.ag-header-highlight-before:after{background-color:var(--ag-primary-color)}",she=()=>bV().withPart(xV).withPart(DV).withPart($de).withPart(ehe).withPart(Zde).withPart(mV).withParams({fontFamily:[{googleFont:"IBM Plex Sans"},"-apple-system","BlinkMacSystemFont","Segoe UI","Roboto","Oxygen-Sans","Ubuntu"]}),rhe=she(),ohe=()=>{const e={tabSelectedUnderlineColor:{ref:"primaryColor"},sideButtonSelectedUnderlineColor:{ref:"primaryColor"},buttonTextColor:{ref:"primaryColor"},rangeSelectionBackgroundColor:{ref:"primaryColor",mix:.2},rangeSelectionBorderColor:{ref:"primaryColor"},rangeSelectionHighlightColor:{ref:"primaryColor",mix:.5},rangeHeaderHighlightColor:{ref:"foregroundColor",mix:.08},rowNumbersSelectedColor:{ref:"primaryColor",mix:.5},inputFocusBorder:{width:2,color:{ref:"primaryColor"}},pickerButtonFocusBorder:{width:1,color:{ref:"primaryColor"}},cellEditingBorder:{color:{ref:"primaryColor"}},menuBackgroundColor:{ref:"backgroundColor"},sideButtonBarBackgroundColor:Ho,sideButtonSelectedBackgroundColor:"transparent",sideButtonBarTopPadding:{calc:"spacing * 4"},headerColumnResizeHandleColor:"none",headerBackgroundColor:{ref:"backgroundColor"},rowHoverColor:ds(.08),columnHoverColor:ds(.08),headerCellHoverBackgroundColor:ds(.05),statusBarLabelColor:ds(.63),statusBarLabelFontWeight:600,statusBarValueFontWeight:600,valueChangeValueHighlightBackgroundColor:"#00acc1",panelTitleBarIconColor:bh,advancedFilterBuilderButtonBarBorder:!1},t={...e,primaryColor:"#3f51b5",foregroundColor:"#000D",headerTextColor:"#0008",accentColor:"#ff4081",checkboxUncheckedBorderColor:bh,checkboxIndeterminateBackgroundColor:bh,toggleButtonOffBackgroundColor:bh,selectedRowBackgroundColor:"rgba(33, 150, 243, 0.3)"},i={...e,primaryColor:"#3f51b5",foregroundColor:"#fffD",headerTextColor:"#fff8",accentColor:"#bb86fc",checkboxUncheckedBorderColor:Lr(.5),checkboxIndeterminateBackgroundColor:Lr(.5),toggleButtonOffBackgroundColor:Lr(.5),selectedRowBackgroundColor:"#bb86fc33"};return fr({feature:"styleMaterial",css:nhe,params:t,modeParams:{light:t,dark:i,"dark-blue":i}})},ahe=ohe(),lhe=()=>bV().withPart(pde).withPart(xV).withPart(DV).withPart(jde).withPart(ihe).withPart(Qde).withPart(bde).withPart(ahe).withParams({rowHeight:{calc:"max(iconSize, dataFontSize) + spacing * 3.75 * rowVerticalPaddingScale"},headerHeight:{calc:"max(iconSize, dataFontSize) + spacing * 4.75 * headerVerticalPaddingScale"},widgetVerticalSpacing:{calc:"spacing * 1.75"},cellHorizontalPadding:{calc:"spacing * 3"},buttonHorizontalPadding:{ref:"spacing"},widgetContainerHorizontalPadding:{calc:"spacing * 1.5"},widgetContainerVerticalPadding:{calc:"spacing * 2"},fontSize:13,iconSize:18,borderRadius:0,wrapperBorderRadius:0,wrapperBorder:!1,menuBorder:!1,dialogBorder:!1,panelTitleBarBorder:!1,tabSelectedBorderWidth:0,tabSelectedUnderlineTransitionDuration:.3,sidePanelBorder:!1,sideButtonSelectedBorder:!1,sideButtonSelectedUnderlineWidth:2,sideButtonSelectedUnderlineTransitionDuration:.3,sideButtonBorder:!1,buttonBorder:!1,buttonDisabledBorder:!1,focusShadow:{spread:4,color:ds(.16)},fontFamily:[{googleFont:"Roboto"},"-apple-system","BlinkMacSystemFont","Segoe UI","Oxygen-Sans","Ubuntu","Cantarell","Helvetica Neue","sans-serif"],inputHeight:{calc:"max(iconSize, fontSize) + spacing * 3"},pickerButtonBorder:{width:1,color:"transparent"},headerFontWeight:600,checkboxBorderWidth:2,checkboxBorderRadius:2,toggleButtonWidth:34,toggleButtonSwitchInset:1,cardShadow:"0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12)",popupShadow:"5px 5px 10px rgba(0, 0, 0, 0.3)"}),che=lhe(),tz={cssName:"--ag-row-height",changeKey:"rowHeightChanged",defaultValue:42},iz={cssName:"--ag-header-height",changeKey:"headerHeightChanged",defaultValue:48},nz={cssName:"--ag-list-item-height",changeKey:"listItemHeightChanged",defaultValue:24},l1={cssName:"--ag-row-border",changeKey:"rowBorderWidthChanged",defaultValue:1,border:!0},uhe=0,dhe=class extends ye{constructor(){super(...arguments),this.beanName="environment",this.sizeEls=new Map,this.lastKnownValues=new Map,this.sizesMeasured=!1,this.paramsClass=`ag-theme-params-${++uhe}`,this.globalCSS=[]}wireBeans(e){const{eGridDiv:t,gridOptions:i}=e;this.eGridDiv=t,this.eStyleContainer=i.themeStyleContainer??(t.getRootNode()===document?document.head:t),this.cssLayer=i.themeCssLayer}postConstruct(){this.addManagedPropertyListener("theme",()=>this.handleThemeGridOptionChange()),this.handleThemeGridOptionChange(),this.addManagedPropertyListener("rowHeight",()=>this.refreshRowHeightVariable()),this.getSizeEl(tz),this.getSizeEl(iz),this.getSizeEl(nz),this.getSizeEl(l1),this.refreshRowBorderWidthVariable(),this.addDestroyFunc(()=>rde(this)),this.mutationObserver=new MutationObserver(()=>{this.fireGridStylesChangedEvent("themeChanged")}),this.addDestroyFunc(()=>this.mutationObserver.disconnect())}getDefaultRowHeight(){return this.getCSSVariablePixelValue(tz)}getDefaultHeaderHeight(){return this.getCSSVariablePixelValue(iz)}getDefaultColumnMinWidth(){return Math.min(36,this.getDefaultRowHeight())}getDefaultListItemHeight(){return this.getCSSVariablePixelValue(nz)}getRowBorderWidth(){return this.getCSSVariablePixelValue(l1)}applyThemeClasses(e){const{gridTheme:t}=this;let i="";if(t)i=`${this.paramsClass} ${t._getCssClass()}`;else{this.mutationObserver.disconnect();let n=this.eGridDiv;for(;n;){let s=!1;for(const r of Array.from(n.classList))r.startsWith("ag-theme-")&&(s=!0,i=i?`${i} ${r}`:r);s&&this.mutationObserver.observe(n,{attributes:!0,attributeFilter:["class"]}),n=n.parentElement}}for(const n of Array.from(e.classList))n.startsWith("ag-theme-")&&e.classList.remove(n);if(i){const n=e.className;e.className=n+(n?" ":"")+i}}refreshRowHeightVariable(){const{eGridDiv:e}=this,t=e.style.getPropertyValue("--ag-line-height").trim(),i=this.gos.get("rowHeight");if(i==null||isNaN(i)||!isFinite(i))return t!==null&&e.style.setProperty("--ag-line-height",null),-1;const n=`${i}px`;return t!=n?(e.style.setProperty("--ag-line-height",n),i):t!=""?parseFloat(t):-1}addGlobalCSS(e,t){this.gridTheme?Rg(e,this.eStyleContainer,t,this.cssLayer,0):this.globalCSS.push([e,t])}getCSSVariablePixelValue(e){const t=this.lastKnownValues.get(e);if(t!=null)return t;const i=this.measureSizeEl(e);return i==="detached"||i==="no-styles"?e.defaultValue:(this.lastKnownValues.set(e,i),i)}measureSizeEl(e){const t=this.getSizeEl(e);if(t.offsetParent==null)return"detached";const i=t.offsetWidth;return i===c1?"no-styles":(this.sizesMeasured=!0,i)}getMeasurementContainer(){let e=this.eMeasurementContainer;return e||(e=this.eMeasurementContainer=document.createElement("div"),e.className="ag-measurement-container",this.eGridDiv.appendChild(e)),e}getSizeEl(e){let t=this.sizeEls.get(e);if(t)return t;const i=this.getMeasurementContainer();t=document.createElement("div");const{border:n}=e;n?(t.className="ag-measurement-element-border",t.style.setProperty("--ag-internal-measurement-border",`var(${e.cssName}, solid ${c1}px`)):t.style.width=`var(${e.cssName}, ${c1}px)`,i.appendChild(t),this.sizeEls.set(e,t);let s=this.measureSizeEl(e);s==="no-styles"&&Ae(9,{variable:e});const r=zc(this.beans,t,()=>{const o=this.measureSizeEl(e);o==="detached"||o==="no-styles"||(this.lastKnownValues.set(e,o),o!==s&&(s=o,this.fireGridStylesChangedEvent(e.changeKey)))});return this.addDestroyFunc(()=>r()),t}fireGridStylesChangedEvent(e){e==="rowBorderWidthChanged"&&this.refreshRowBorderWidthVariable(),this.eventSvc.dispatchEvent({type:"gridStylesChanged",[e]:!0})}refreshRowBorderWidthVariable(){const e=this.getCSSVariablePixelValue(l1);this.eGridDiv.style.setProperty("--ag-internal-row-border-width",`${e}px`)}handleThemeGridOptionChange(){const{gos:e,eGridDiv:t,globalCSS:i,gridTheme:n}=this,s=e.get("theme");let r;if(s==="legacy")r=void 0;else{const o=s??rhe;o instanceof wV?r=o:wi(240,{theme:o})}if(r!==n){if(r){sde(this),dV(this.eStyleContainer,this.cssLayer);for(const[a,l]of i)Rg(a,this.eStyleContainer,l,this.cssLayer,0);i.length=0}this.gridTheme=r,r==null||r._startUse({loadThemeGoogleFonts:e.get("loadThemeGoogleFonts"),styleContainer:this.eStyleContainer,cssLayer:this.cssLayer});let o=this.eParamsStyle;o||(o=this.eParamsStyle=document.createElement("style"),t.appendChild(o)),OL||(o.textContent=(r==null?void 0:r._getPerGridCss(this.paramsClass))||""),this.applyThemeClasses(t),this.fireGridStylesChangedEvent("themeChanged")}r&&getComputedStyle(this.getMeasurementContainer()).getPropertyValue("--ag-legacy-styles-loaded")&&wi(s?106:239)}},c1=15538,hhe=class extends ye{constructor(){super(...arguments),this.beanName="eventSvc",this.globalEventService=new Xh}postConstruct(){const{globalListener:e,globalSyncListener:t}=this.beans;e&&this.addGlobalListener(e,!0),t&&this.addGlobalListener(t,!1)}addEventListener(e,t,i){this.globalEventService.addEventListener(e,t,i)}removeEventListener(e,t,i){this.globalEventService.removeEventListener(e,t,i)}addGlobalListener(e,t=!1){this.globalEventService.addGlobalListener(e,t)}removeGlobalListener(e,t=!1){this.globalEventService.removeGlobalListener(e,t)}dispatchLocalEvent(){}dispatchEvent(e){this.globalEventService.dispatchEvent(ut(this.gos,e))}dispatchEventOnce(e){this.globalEventService.dispatchEventOnce(ut(this.gos,e))}};function kV(e){return e?e.getLeafColumns().some(t=>t.isSpanHeaderHeight()):!1}function nA(e,t){let i;if(dn(e)&&kV(e)&&e.isPadding()){const n=e;i=n.getLeafColumns()[0];let s=i;for(;s!==n;)t++,s=s.getParent()}return{column:i||e,headerRowIndex:t}}var phe=class extends ye{constructor(){super(...arguments),this.beanName="headerNavigation",this.currentHeaderRowWithoutSpan=-1}postConstruct(){const e=this.beans;e.ctrlsSvc.whenReady(this,i=>{this.gridBodyCon=i.gridBodyCtrl});const t=An(e);this.addManagedElementListeners(t,{mousedown:()=>{this.currentHeaderRowWithoutSpan=-1}})}getHeaderPositionForColumn(e,t){let i;const{colModel:n,colGroupSvc:s,ctrlsSvc:r}=this.beans;if(typeof e=="string"?(i=n.getCol(e),i||(i=(s==null?void 0:s.getColumnGroup(e))??null)):i=e,!i)return null;const o=r.getHeaderRowContainerCtrl(),a=o==null?void 0:o.getAllCtrls(),l=bi(a||[]).type==="filter",u=yc(this.beans)-1;let d=-1,p=i;for(;p;)d++,p=p.getParent();let f=d;return t&&l&&f===u-1&&f++,f===-1?null:{headerRowIndex:f,column:i}}navigateVertically(e,t,i){const n=this.beans.focusSvc;if(t||(t=n.focusedHeader),!t)return!1;const{headerRowIndex:s}=t,r=t.column,o=yc(this.beans),a=e==="UP",l=this.getHeaderRowType(s);let{headerRowIndex:u,column:d,headerRowIndexWithoutSpan:p}=a?fhe(l,r,s):ghe(l,r,s),f=!1;return u<0&&(u=0,d=r,f=!0),u>=o?(u=-1,this.currentHeaderRowWithoutSpan=-1):p!==void 0&&(this.currentHeaderRowWithoutSpan=p),!f&&!d?!1:n.focusHeaderPosition({headerPosition:{headerRowIndex:u,column:d},allowUserOverride:!0,event:i})}navigateHorizontally(e,t=!1,i){const{focusSvc:n,gos:s}=this.beans,r=n.focusedHeader;let o,a;if(this.currentHeaderRowWithoutSpan!==-1?r.headerRowIndex=this.currentHeaderRowWithoutSpan:this.currentHeaderRowWithoutSpan=r.headerRowIndex,e==="LEFT"!==s.get("enableRtl")?(a="Before",o=this.findHeader(r,a)):(a="After",o=this.findHeader(r,a)),o||!t)return n.focusHeaderPosition({headerPosition:o,direction:a,fromTab:t,allowUserOverride:!0,event:i});if(t){const l=s.getCallback("tabToNextHeader");if(l)return n.focusHeaderPositionFromUserFunc({userFunc:l,headerPosition:o,direction:a})}return this.focusNextHeaderRow(r,a,i)}focusNextHeaderRow(e,t,i){const n=e.headerRowIndex;let s=null,r;const o=this.beans;if(t==="Before"?n>0&&(r=n-1,this.currentHeaderRowWithoutSpan-=1,s=this.findColAtEdgeForHeaderRow(r,"end")):(r=n+1,this.currentHeaderRowWithoutSpan<yc(o)?this.currentHeaderRowWithoutSpan+=1:this.currentHeaderRowWithoutSpan=-1,s=this.findColAtEdgeForHeaderRow(r,"start")),!s)return!1;const{column:a,headerRowIndex:l}=nA(s.column,s==null?void 0:s.headerRowIndex);return o.focusSvc.focusHeaderPosition({headerPosition:{column:a,headerRowIndex:l},direction:t,fromTab:!0,allowUserOverride:!0,event:i})}scrollToColumn(e,t="After"){if(e.getPinned())return;let i;if(dn(e)){const n=e.getDisplayedLeafColumns();i=t==="Before"?bi(n):n[0]}else i=e;this.gridBodyCon.scrollFeature.ensureColumnVisible(i)}findHeader(e,t){let i,n;const{colGroupSvc:s,visibleCols:r}=this.beans;if(dn(e.column)?i=(s==null?void 0:s.getGroupAtDirection(e.column,t))??void 0:(n=`getCol${t}`,i=r[n](e.column)),!i)return;const{headerRowIndex:o}=e;if(this.getHeaderRowType(o)!=="filter"){const u=[i];for(;i.getParent();)i=i.getParent(),u.push(i);i=u[Math.max(0,u.length-1-o)]}const{column:a,headerRowIndex:l}=nA(i,o);return{column:a,headerRowIndex:l}}getHeaderRowType(e){const t=this.beans.ctrlsSvc.getHeaderRowContainerCtrl();if(t)return t.getRowType(e)}findColAtEdgeForHeaderRow(e,t){const{visibleCols:i,ctrlsSvc:n,colGroupSvc:s}=this.beans,r=i.allCols,o=r[t==="start"?0:r.length-1];if(!o)return;const a=n.getHeaderRowContainerCtrl(o.getPinned()),l=a==null?void 0:a.getRowType(e);if(l=="group"){const u=s==null?void 0:s.getColGroupAtLevel(o,e);return{headerRowIndex:e,column:u}}return{headerRowIndex:l==null?-1:e,column:o}}};function fhe(e,t,i){const n=e==="filter",s=e==="column";let r=n?t:t.getParent(),o=i-1,a=o;if(s&&kV(t.getParent())){for(;r&&r.isPadding();)r=r.getParent(),o--;a=o,o<0&&(r=t,o=i,a=void 0)}return{column:r,headerRowIndex:o,headerRowIndexWithoutSpan:a}}function ghe(e,t,i,n="After"){let s=t,r=i+1;const o=r;if(e==="group"){const a=t.getDisplayedLeafColumns(),l=n==="After"?a[0]:bi(a),u=[];let d=l;for(;d.getParent()!==t;)d=d.getParent(),u.push(d);if(s=l,l.isSpanHeaderHeight())for(let p=u.length-1;p>=0;p--){const f=u[p];if(!f.isPadding()){s=f;break}r++}else s=bi(u),s||(s=l)}return{column:s,headerRowIndex:r,headerRowIndexWithoutSpan:o}}var mhe=class extends ye{constructor(){super(...arguments),this.beanName="focusSvc"}wireBeans(e){this.colModel=e.colModel,this.visibleCols=e.visibleCols,this.rowRenderer=e.rowRenderer,this.navigation=e.navigation,this.filterManager=e.filterManager,this.overlays=e.overlays}postConstruct(){const e=this.clearFocusedCell.bind(this);this.addManagedEventListeners({columnPivotModeChanged:e,newColumnsLoaded:this.onColumnEverythingChanged.bind(this),columnGroupOpened:e,columnRowGroupChanged:e}),this.addDestroyFunc(rae(this.beans))}onColumnEverythingChanged(){if(!this.focusedCell)return;const e=this.focusedCell.column,t=this.colModel.getCol(e.getId());e!==t&&this.clearFocusedCell()}getFocusCellToUseAfterRefresh(){return this.gos.get("suppressFocusAfterRefresh")||!this.focusedCell||this.isDomDataMissingInHierarchy(yn(this.beans),Hv)?null:this.focusedCell}getFocusHeaderToUseAfterRefresh(){return this.gos.get("suppressFocusAfterRefresh")||!this.focusedHeader||this.isDomDataMissingInHierarchy(yn(this.beans),Xj)?null:this.focusedHeader}isDomDataMissingInHierarchy(e,t){let i=e;for(;i;){if(vS(this.gos,i,t))return!1;i=i.parentNode}return!0}getFocusedCell(){return this.focusedCell}shouldRestoreFocus(e){return this.isCellRestoreFocused(e)?(setTimeout(()=>{this.restoredFocusedCell=null},0),!0):!1}clearRestoreFocus(){this.restoredFocusedCell=null,this.awaitRestoreFocusedCell=!1}restoreFocusedCell(e,t){this.awaitRestoreFocusedCell=!0,setTimeout(()=>{this.awaitRestoreFocusedCell&&(this.setRestoreFocusedCell(e),t())})}isCellRestoreFocused(e){return this.restoredFocusedCell==null?!1:"cellSpan"in e?e.doesSpanContain(this.restoredFocusedCell):qT(e,this.restoredFocusedCell)}setRestoreFocusedCell(e){this.beans.frameworkOverrides.renderingEngine==="react"&&(this.restoredFocusedCell=e)}getFocusEventParams(e){const{rowIndex:t,rowPinned:i,column:n}=e,s={rowIndex:t,rowPinned:i,column:n,isFullWidthCell:!1},r=this.rowRenderer.getRowByPosition({rowIndex:t,rowPinned:i});return r&&(s.isFullWidthCell=r.isFullWidth()),s}clearFocusedCell(){if(this.restoredFocusedCell=null,this.focusedCell==null)return;const e=this.getFocusEventParams(this.focusedCell);this.focusedCell=null,this.eventSvc.dispatchEvent({type:"cellFocusCleared",...e})}setFocusedCell(e){const{column:t,rowIndex:i,rowPinned:n,forceBrowserFocus:s=!1,preventScrollOnBrowserFocus:r=!1}=e,o=this.colModel.getCol(t);if(!o){this.focusedCell=null;return}this.focusedCell={rowIndex:i,rowPinned:wc(n),column:o},this.eventSvc.dispatchEvent({type:"cellFocused",...this.getFocusEventParams(this.focusedCell),forceBrowserFocus:s,preventScrollOnBrowserFocus:r})}isCellFocused(e){return this.focusedCell==null?!1:qT(e,this.focusedCell)}isRowNodeFocused(e){return this.isRowFocused(e.rowIndex,e.rowPinned)}isHeaderWrapperFocused(e){if(this.focusedHeader==null)return!1;const{column:t,rowCtrl:{rowIndex:i,pinned:n}}=e,{column:s,headerRowIndex:r}=this.focusedHeader;return t===s&&i===r&&n==s.getPinned()}focusHeaderPosition(e){var l;if(Gh(this.beans))return!1;const{direction:t,fromTab:i,allowUserOverride:n,event:s,fromCell:r,rowWithoutSpanValue:o}=e;let{headerPosition:a}=e;if(r&&((l=this.filterManager)!=null&&l.isAdvFilterHeaderActive()))return this.focusAdvancedFilter(a);if(n){const u=this.focusedHeader,d=yc(this.beans);if(i){const p=this.gos.getCallback("tabToNextHeader");p&&(a=this.getHeaderPositionFromUserFunc({userFunc:p,direction:t,currentPosition:u,headerPosition:a,headerRowCount:d}))}else{const p=this.gos.getCallback("navigateToNextHeader");if(p&&s){const f={key:s.key,previousHeaderPosition:u,nextHeaderPosition:a,headerRowCount:d,event:s};a=p(f)}}}return a?this.focusProvidedHeaderPosition({headerPosition:a,direction:t,event:s,fromCell:r,rowWithoutSpanValue:o}):!1}focusHeaderPositionFromUserFunc(e){if(Gh(this.beans))return!1;const{userFunc:t,headerPosition:i,direction:n,event:s}=e,r=this.focusedHeader,o=yc(this.beans),a=this.getHeaderPositionFromUserFunc({userFunc:t,direction:n,currentPosition:r,headerPosition:i,headerRowCount:o});return!!a&&this.focusProvidedHeaderPosition({headerPosition:a,direction:n,event:s})}getHeaderPositionFromUserFunc(e){const{userFunc:t,direction:i,currentPosition:n,headerPosition:s,headerRowCount:r}=e,a=t({backwards:i==="Before",previousHeaderPosition:n,nextHeaderPosition:s,headerRowCount:r});return a===!0?n:a===!1?null:a}focusProvidedHeaderPosition(e){const{headerPosition:t,direction:i,fromCell:n,rowWithoutSpanValue:s,event:r}=e,{column:o,headerRowIndex:a}=t,{filterManager:l,ctrlsSvc:u,headerNavigation:d}=this.beans;if(a===-1)return l!=null&&l.isAdvFilterHeaderActive()?this.focusAdvancedFilter(t):this.focusGridView({column:o,event:r});d==null||d.scrollToColumn(o,i);const p=u.getHeaderRowContainerCtrl(o.getPinned()),f=(p==null?void 0:p.focusHeader(t.headerRowIndex,o,r))||!1;return d&&f&&(s!=null||n)&&(d.currentHeaderRowWithoutSpan=s??-1),f}focusFirstHeader(){var n;if((n=this.overlays)!=null&&n.isExclusive()&&this.focusOverlay())return!0;let e=this.visibleCols.allCols[0];if(!e)return!1;const{colGroupSvc:t}=this.beans;t&&e.getParent()&&(e=t.getColGroupAtLevel(e,0));const i=nA(e,0);return this.focusHeaderPosition({headerPosition:i,rowWithoutSpanValue:0})}focusLastHeader(e){var n;if((n=this.overlays)!=null&&n.isExclusive()&&this.focusOverlay(!0))return!0;const t=yc(this.beans)-1,i=bi(this.visibleCols.allCols);return this.focusHeaderPosition({headerPosition:{headerRowIndex:t,column:i},rowWithoutSpanValue:-1,event:e})}focusPreviousFromFirstCell(e){var t;return(t=this.filterManager)!=null&&t.isAdvFilterHeaderActive()?this.focusAdvancedFilter(null):this.focusLastHeader(e)}isAnyCellFocused(){return!!this.focusedCell}isRowFocused(e,t){return this.focusedCell==null?!1:this.focusedCell.rowIndex===e&&this.focusedCell.rowPinned===wc(t)}focusOverlay(e){var i,n;const t=((i=this.overlays)==null?void 0:i.isVisible())&&((n=this.overlays.eWrapper)==null?void 0:n.getGui());return!!t&&tp(t,e)}focusGridView(e){var r,o,a,l,u,d;const{backwards:t=!1,canFocusOverlay:i=!0,event:n}=e;if((r=this.overlays)!=null&&r.isExclusive())return i&&this.focusOverlay(t);if(Zx(this.beans))return t&&!Gh(this.beans)?this.focusLastHeader():i&&this.focusOverlay(t)?!0:t?!1:Mg(this.beans,t);const s=t?Aae(this.beans):Tae(this.beans);if(s){const p=e.column??((o=this.focusedHeader)==null?void 0:o.column),{rowIndex:f,rowPinned:m}=s,y=AS(this.beans,s);if(!p||!y||f==null)return!1;if(p.isSuppressNavigable(y)){const C=this.gos.get("enableRtl");let w;return!n||n.key===ge.TAB?w=C?ge.LEFT:ge.RIGHT:w=n.key,(a=this.beans.navigation)==null||a.navigateToNextCell(null,w,{rowIndex:f,column:p,rowPinned:m||null},!0),!0}if((l=this.navigation)==null||l.ensureCellVisible({rowIndex:f,column:p,rowPinned:m}),t){const C=this.rowRenderer.getRowByPosition(s);if(C!=null&&C.isFullWidth()&&((u=this.navigation)!=null&&u.tryToFocusFullWidthRow(s,t)))return!0}return this.setFocusedCell({rowIndex:f,column:p,rowPinned:wc(m),forceBrowserFocus:!0}),(d=this.beans.rangeSvc)==null||d.setRangeToCell({rowIndex:f,rowPinned:m,column:p}),!0}return!!(i&&this.focusOverlay(t)||t&&this.focusLastHeader())}focusAdvancedFilter(e){var t;return this.advFilterFocusColumn=e==null?void 0:e.column,((t=this.beans.advancedFilter)==null?void 0:t.getCtrl().focusHeaderComp())??!1}focusNextFromAdvancedFilter(e,t){var n;const i=(t?void 0:this.advFilterFocusColumn)??((n=this.visibleCols.allCols)==null?void 0:n[0]);return e?this.focusHeaderPosition({headerPosition:{column:i,headerRowIndex:yc(this.beans)-1}}):this.focusGridView({column:i})}clearAdvancedFilterColumn(){this.advFilterFocusColumn=void 0}},yhe=class extends ye{constructor(){super(...arguments),this.beanName="scrollVisibleSvc"}wireBeans(e){this.ctrlsSvc=e.ctrlsSvc,this.colAnimation=e.colAnimation}postConstruct(){this.getScrollbarWidth(),this.addManagedEventListeners({displayedColumnsChanged:this.updateScrollVisible.bind(this),displayedColumnsWidthChanged:this.updateScrollVisible.bind(this)})}updateScrollVisible(){const{colAnimation:e}=this;e!=null&&e.isActive()?e.executeLaterVMTurn(()=>{e.executeLaterVMTurn(()=>this.updateScrollVisibleImpl())}):this.updateScrollVisibleImpl()}updateScrollVisibleImpl(){var i;const e=this.ctrlsSvc.get("center");if(!e||(i=this.colAnimation)!=null&&i.isActive())return;const t={horizontalScrollShowing:e.isHorizontalScrollShowing(),verticalScrollShowing:this.verticalScrollShowing};this.setScrollsVisible(t),this.updateScrollGap()}updateScrollGap(){const e=this.ctrlsSvc.get("center"),t=e.hasHorizontalScrollGap(),i=e.hasVerticalScrollGap();(this.horizontalScrollGap!==t||this.verticalScrollGap!==i)&&(this.horizontalScrollGap=t,this.verticalScrollGap=i,this.eventSvc.dispatchEvent({type:"scrollGapChanged"}))}setScrollsVisible(e){(this.horizontalScrollShowing!==e.horizontalScrollShowing||this.verticalScrollShowing!==e.verticalScrollShowing)&&(this.horizontalScrollShowing=e.horizontalScrollShowing,this.verticalScrollShowing=e.verticalScrollShowing,this.eventSvc.dispatchEvent({type:"scrollVisibilityChanged"}))}getScrollbarWidth(){if(this.scrollbarWidth==null){const e=this.gos.get("scrollbarWidth"),i=typeof e=="number"&&e>=0?e:Use();i!=null&&(this.scrollbarWidth=i,this.eventSvc.dispatchEvent({type:"scrollbarWidthChanged"}))}return this.scrollbarWidth}},vhe=class extends ye{constructor(){super(...arguments),this.beanName="gridDestroySvc",this.destroyCalled=!1}destroy(){var n;if(this.destroyCalled)return;const{stateSvc:e,ctrlsSvc:t,context:i}=this.beans;this.eventSvc.dispatchEvent({type:"gridPreDestroyed",state:(e==null?void 0:e.getState())??{}}),this.destroyCalled=!0,(n=t.get("gridCtrl"))==null||n.destroyGridUi(),i.destroy(),super.destroy()}},Nw=new Set(["gridPreDestroyed","fillStart","pasteStart"]),Che={suppressContextMenu:!1,preventDefaultOnContextMenu:!1,allowContextMenuWithControlKey:!1,suppressMenuHide:!0,enableBrowserTooltips:!1,tooltipTrigger:"hover",tooltipShowDelay:2e3,tooltipHideDelay:1e4,tooltipMouseTrack:!1,tooltipShowMode:"standard",tooltipInteraction:!1,copyHeadersToClipboard:!1,copyGroupHeadersToClipboard:!1,clipboardDelimiter:"	",suppressCopyRowsToClipboard:!1,suppressCopySingleCellRanges:!1,suppressLastEmptyLineOnPaste:!1,suppressClipboardPaste:!1,suppressClipboardApi:!1,suppressCutToClipboard:!1,maintainColumnOrder:!1,enableStrictPivotColumnOrder:!1,suppressFieldDotNotation:!1,allowDragFromColumnsToolPanel:!1,suppressMovableColumns:!1,suppressColumnMoveAnimation:!1,suppressMoveWhenColumnDragging:!1,suppressDragLeaveHidesColumns:!1,suppressRowGroupHidesColumns:!1,suppressAutoSize:!1,autoSizePadding:20,skipHeaderOnAutoSize:!1,singleClickEdit:!1,suppressClickEdit:!1,readOnlyEdit:!1,stopEditingWhenCellsLoseFocus:!1,enterNavigatesVertically:!1,enterNavigatesVerticallyAfterEdit:!1,enableCellEditingOnBackspace:!1,undoRedoCellEditing:!1,undoRedoCellEditingLimit:10,suppressCsvExport:!1,suppressExcelExport:!1,cacheQuickFilter:!1,includeHiddenColumnsInQuickFilter:!1,excludeChildrenWhenTreeDataFiltering:!1,enableAdvancedFilter:!1,includeHiddenColumnsInAdvancedFilter:!1,enableCharts:!1,masterDetail:!1,keepDetailRows:!1,keepDetailRowsCount:10,detailRowAutoHeight:!1,tabIndex:0,rowBuffer:10,valueCache:!1,valueCacheNeverExpires:!1,enableCellExpressions:!1,suppressTouch:!1,suppressFocusAfterRefresh:!1,suppressBrowserResizeObserver:!1,suppressPropertyNamesCheck:!1,suppressChangeDetection:!1,debug:!1,suppressLoadingOverlay:!1,suppressNoRowsOverlay:!1,pagination:!1,paginationPageSize:100,paginationPageSizeSelector:!0,paginationAutoPageSize:!1,paginateChildRows:!1,suppressPaginationPanel:!1,pivotMode:!1,pivotPanelShow:"never",pivotDefaultExpanded:0,pivotSuppressAutoColumn:!1,suppressExpandablePivotGroups:!1,functionsReadOnly:!1,suppressAggFuncInHeader:!1,alwaysAggregateAtRootLevel:!1,aggregateOnlyChangedColumns:!1,suppressAggFilteredOnly:!1,removePivotHeaderRowWhenSingleValueColumn:!1,animateRows:!0,cellFlashDuration:500,cellFadeDuration:1e3,allowShowChangeAfterFilter:!1,domLayout:"normal",ensureDomOrder:!1,enableRtl:!1,suppressColumnVirtualisation:!1,suppressMaxRenderedRowRestriction:!1,suppressRowVirtualisation:!1,rowDragManaged:!1,suppressRowDrag:!1,suppressMoveWhenRowDragging:!1,rowDragEntireRow:!1,rowDragMultiRow:!1,embedFullWidthRows:!1,groupDisplayType:"singleColumn",groupDefaultExpanded:0,groupMaintainOrder:!1,groupSelectsChildren:!1,groupSuppressBlankHeader:!1,groupSelectsFiltered:!1,showOpenedGroup:!1,groupRemoveSingleChildren:!1,groupRemoveLowestSingleChildren:!1,groupHideOpenParents:!1,groupAllowUnbalanced:!1,rowGroupPanelShow:"never",suppressMakeColumnVisibleAfterUnGroup:!1,treeData:!1,rowGroupPanelSuppressSort:!1,suppressGroupRowsSticky:!1,rowModelType:"clientSide",asyncTransactionWaitMillis:50,suppressModelUpdateAfterUpdateTransaction:!1,cacheOverflowSize:1,infiniteInitialRowCount:1,serverSideInitialRowCount:1,cacheBlockSize:100,maxBlocksInCache:-1,maxConcurrentDatasourceRequests:2,blockLoadDebounceMillis:0,purgeClosedRowNodes:!1,serverSideSortAllLevels:!1,serverSideOnlyRefreshFilteredGroups:!1,serverSidePivotResultFieldSeparator:"_",viewportRowModelPageSize:5,viewportRowModelBufferSize:5,alwaysShowHorizontalScroll:!1,alwaysShowVerticalScroll:!1,debounceVerticalScrollbar:!1,suppressHorizontalScroll:!1,suppressScrollOnNewData:!1,suppressScrollWhenPopupsAreOpen:!1,suppressAnimationFrame:!1,suppressMiddleClickScrolls:!1,suppressPreventDefaultOnMouseWheel:!1,rowMultiSelectWithClick:!1,suppressRowDeselection:!1,suppressRowClickSelection:!1,suppressCellFocus:!1,suppressHeaderFocus:!1,suppressMultiRangeSelection:!1,enableCellTextSelection:!1,enableRangeSelection:!1,enableRangeHandle:!1,enableFillHandle:!1,fillHandleDirection:"xy",suppressClearOnFillReduction:!1,accentedSort:!1,unSortIcon:!1,suppressMultiSort:!1,alwaysMultiSort:!1,suppressMaintainUnsortedOrder:!1,suppressRowHoverHighlight:!1,suppressRowTransform:!1,columnHoverHighlight:!1,deltaSort:!1,enableGroupEdit:!1,groupLockGroupColumns:0,serverSideEnableClientSideSort:!1,suppressServerSideFullWidthLoadingRow:!1,pivotMaxGeneratedColumns:-1,columnMenu:"new",reactiveCustomComponents:!0,suppressSetFilterByDefault:!1,rowNumbers:!1},bhe=0,whe=0,She=class extends ye{constructor(){super(...arguments),this.beanName="gos",this.domDataKey="__AG_"+Math.random().toString(),this.gridInstanceId=whe++,this.propEventSvc=new Xh,this.globalEventHandlerFactory=e=>(t,i)=>{if(!this.isAlive())return;const n=Nw.has(t);if(n&&!e||!n&&e)return;const s=oj(t),r=this.gridOptions[s];typeof r=="function"&&this.beans.frameworkOverrides.wrapOutgoing(()=>{r(i)})}}wireBeans(e){this.gridOptions=e.gridOptions,this.validation=e.validation,this.api=e.gridApi,this.gridId=e.context.getGridId()}get gridOptionsContext(){return this.gridOptions.context}postConstruct(){this.eventSvc.addGlobalListener(this.globalEventHandlerFactory().bind(this),!0),this.eventSvc.addGlobalListener(this.globalEventHandlerFactory(!0).bind(this),!1),this.propEventSvc.setFrameworkOverrides(this.beans.frameworkOverrides),this.addManagedEventListeners({gridOptionsChanged:({options:e})=>{this.updateGridOptions({options:e,force:!0,source:"gridOptionsUpdated"})}})}get(e){return this.gridOptions[e]??Che[e]}getCallback(e){return this.mergeGridCommonParams(this.gridOptions[e])}exists(e){return Ne(this.gridOptions[e])}mergeGridCommonParams(e){return e&&(i=>e(this.addGridCommonParams(i)))}updateGridOptions({options:e,force:t,source:i="api"}){const n={id:bhe++,properties:[]},s=[],{gridOptions:r,validation:o}=this;for(const a of Object.keys(e)){const l=e[a];o==null||o.warnOnInitialPropertyUpdate(i,a);const u=t||typeof l=="object"&&i==="api",d=r[a];if(u||d!==l){r[a]=l;const p={type:a,currentValue:l,previousValue:d,changeSet:n,source:i};s.push(p)}}o==null||o.processGridOptions(this.gridOptions),n.properties=s.map(a=>a.type),s.forEach(a=>{Jh(this,`Updated property ${a.type} from`,a.previousValue," to ",a.currentValue),this.propEventSvc.dispatchEvent(a)})}addPropertyEventListener(e,t){this.propEventSvc.addEventListener(e,t)}removePropertyEventListener(e,t){this.propEventSvc.removeEventListener(e,t)}getDomDataKey(){return this.domDataKey}addGridCommonParams(e){return e.api=this.api,e.context=this.gridOptionsContext,e}assertModuleRegistered(e,t){const i=Array.isArray(e)?e.some(n=>this.isModuleRegistered(n)):this.isModuleRegistered(e);return i||wi(200,{...this.getModuleErrorParams(),moduleName:e,reasonOrId:t}),i}getModuleErrorParams(){return{gridId:this.gridId,gridScoped:SL(),rowModelType:this.get("rowModelType"),isUmd:Koe()}}isModuleRegistered(e){return Tj(e,this.gridId,this.get("rowModelType"))}};function xhe(e){return`<div class="ag-cell-label-container" role="presentation">
        <span data-ref="eMenu" class="ag-header-icon ag-header-cell-menu-button" aria-hidden="true"></span>
        <span data-ref="eFilterButton" class="ag-header-icon ag-header-cell-filter-button" aria-hidden="true"></span>
        <div data-ref="eLabel" class="ag-header-cell-label" role="presentation">
            <span data-ref="eText" class="ag-header-cell-text"></span>
            <span data-ref="eFilter" class="ag-header-icon ag-header-label-icon ag-filter-icon" aria-hidden="true"></span>
            ${e?'<ag-sort-indicator data-ref="eSortIndicator"></ag-sort-indicator>':""}
        </div>
    </div>`}var Mhe=class extends Xi{constructor(){super(...arguments),this.eFilter=nt,this.eFilterButton=nt,this.eSortIndicator=nt,this.eMenu=nt,this.eLabel=nt,this.eText=nt,this.eSortOrder=nt,this.eSortAsc=nt,this.eSortDesc=nt,this.eSortMixed=nt,this.eSortNone=nt,this.isLoadingInnerComponent=!1}refresh(e){var i,n;const t=this.params;return this.params=e,this.workOutTemplate()!=this.currentTemplate||this.workOutShowMenu()!=this.currentShowMenu||e.enableSorting!=this.currentSort||this.currentSuppressMenuHide!=null&&this.shouldSuppressMenuHide()!=this.currentSuppressMenuHide||t.enableFilterButton!=e.enableFilterButton||t.enableFilterIcon!=e.enableFilterIcon?!1:(this.innerHeaderComponent?(n=(i=this.innerHeaderComponent).refresh)==null||n.call(i,e):this.setDisplayName(e),!0)}workOutTemplate(){const{params:e,beans:t}=this,i=e.template??xhe(!!t.sortSvc);return i!=null&&i.trim?i.trim():i}init(e){this.params=e;const{sortSvc:t,touchSvc:i,rowNumbersSvc:n,userCompFactory:s}=this.beans;this.currentTemplate=this.workOutTemplate(),this.setTemplate(this.currentTemplate,t?[t.getSortIndicatorSelector()]:void 0),i==null||i.setupForHeader(this),this.setMenu(),this.setupSort(),n==null||n.setupForHeader(this),this.setupFilterIcon(),this.setupFilterButton(),this.workOutInnerHeaderComponent(s,e),this.setDisplayName(e)}workOutInnerHeaderComponent(e,t){const i=Moe(e,t,t);i&&(this.isLoadingInnerComponent=!0,i.newAgStackInstance().then(n=>{this.isLoadingInnerComponent=!1,n&&(this.isAlive()?(this.innerHeaderComponent=n,this.eText.appendChild(n.getGui())):this.destroyBean(n))}))}setDisplayName(e){const{displayName:t}=e,i=this.currentDisplayName;if(this.currentDisplayName=t,i===t||this.innerHeaderComponent||this.isLoadingInnerComponent)return;const n=xc(t,!0);this.eText.textContent=n}addInIcon(e,t,i){if(t==null)return;const n=_o(e,this.beans,i);n&&t.appendChild(n)}workOutShowMenu(){var e;return this.params.enableMenu&&!!((e=this.beans.menuSvc)!=null&&e.isHeaderMenuButtonEnabled())}shouldSuppressMenuHide(){var e;return!!((e=this.beans.menuSvc)!=null&&e.isHeaderMenuButtonAlwaysShowEnabled())}setMenu(){if(!this.eMenu)return;if(this.currentShowMenu=this.workOutShowMenu(),!this.currentShowMenu){Qh(this.eMenu),this.eMenu=void 0;return}const{gos:e,eMenu:t,params:i}=this,n=Kr(e);this.addInIcon(n?"menu":"menuAlt",t,i.column),t.classList.toggle("ag-header-menu-icon",!n);const s=this.shouldSuppressMenuHide();this.currentSuppressMenuHide=s,this.addManagedElementListeners(t,{click:()=>this.showColumnMenu(this.eMenu)}),this.toggleMenuAlwaysShow(s)}toggleMenuAlwaysShow(e){var t;(t=this.eMenu)==null||t.classList.toggle("ag-header-menu-always-show",e)}showColumnMenu(e){const{currentSuppressMenuHide:t,params:i}=this;t||this.toggleMenuAlwaysShow(!0),i.showColumnMenu(e,()=>{t||this.toggleMenuAlwaysShow(!1)})}onMenuKeyboardShortcut(e){var l;const{params:t,gos:i,beans:n,eMenu:s,eFilterButton:r}=this,o=t.column,a=Kr(i);if(e&&!a){if((l=n.menuSvc)!=null&&l.isFilterMenuInHeaderEnabled(o))return t.showFilter(r??s??this.getGui()),!0}else if(t.enableMenu)return this.showColumnMenu(s??r??this.getGui()),!0;return!1}setupSort(){const{sortSvc:e}=this.beans;if(!e)return;const{enableSorting:t,column:i}=this.params;if(this.currentSort=t,!this.eSortIndicator){this.eSortIndicator=this.createBean(e.createSortIndicator(!0));const{eSortIndicator:n,eSortOrder:s,eSortAsc:r,eSortDesc:o,eSortMixed:a,eSortNone:l}=this;n.attachCustomElements(s,r,o,a,l)}this.eSortIndicator.setupSort(i),this.currentSort&&e.setupHeader(this,i,this.eLabel)}setupFilterIcon(){const{eFilter:e,params:t}=this;e&&this.configureFilter(t.enableFilterIcon,e,this.onFilterChangedIcon.bind(this),"filterActive")}setupFilterButton(){const{eFilterButton:e,params:t}=this;if(!e)return;this.configureFilter(t.enableFilterButton,e,this.onFilterChangedButton.bind(this),"filter")?this.addManagedElementListeners(e,{click:()=>t.showFilter(e)}):this.eFilterButton=void 0}configureFilter(e,t,i,n){if(!e)return Qh(t),!1;const s=this.params.column;return this.addInIcon(n,t,s),this.addManagedListeners(s,{filterChanged:i}),i(),!0}onFilterChangedIcon(){const e=this.params.column.isFilterActive();hn(this.eFilter,e,{skipAriaHidden:!0})}onFilterChangedButton(){const e=this.params.column.isFilterActive();this.eFilterButton.classList.toggle("ag-filter-active",e)}getAnchorElementForMenu(e){const{eFilterButton:t,eMenu:i}=this;return e?t??i??this.getGui():i??t??this.getGui()}destroy(){super.destroy(),this.innerHeaderComponent&&(this.destroyBean(this.innerHeaderComponent),this.innerHeaderComponent=void 0)}},Dhe=class extends Xi{constructor(){super(`<div class="ag-header-group-cell-label" role="presentation">
            <span data-ref="agLabel" class="ag-header-group-text" role="presentation"></span>
            <span data-ref="agOpened" class="ag-header-icon ag-header-expand-icon ag-header-expand-icon-expanded"></span>
            <span data-ref="agClosed" class="ag-header-icon ag-header-expand-icon ag-header-expand-icon-collapsed"></span>
        </div>`),this.agOpened=nt,this.agClosed=nt,this.agLabel=nt,this.isLoadingInnerComponent=!1}init(e){const{userCompFactory:t}=this.beans;this.params=e,this.checkWarnings(),this.workOutInnerHeaderGroupComponent(t,e),this.setupLabel(e),this.addGroupExpandIcon(e),this.setupExpandIcons()}checkWarnings(){this.params.template&&Ae(89)}workOutInnerHeaderGroupComponent(e,t){const i=Roe(e,t,t);i&&(this.isLoadingInnerComponent=!0,i.newAgStackInstance().then(n=>{this.isLoadingInnerComponent=!1,n&&(this.isAlive()?(this.innerHeaderGroupComponent=n,this.agLabel.appendChild(n.getGui())):this.destroyBean(n))}))}setupExpandIcons(){const{agOpened:e,agClosed:t,params:{columnGroup:i},beans:n}=this;this.addInIcon("columnGroupOpened",e),this.addInIcon("columnGroupClosed",t);const s=l=>{if(Sc(l))return;const u=!i.isExpanded();n.colGroupSvc.setColumnGroupOpened(i.getProvidedColumnGroup(),u,"uiColumnExpanded")};this.addTouchAndClickListeners(n,t,s),this.addTouchAndClickListeners(n,e,s);const r=l=>{Sg(l)};this.addManagedElementListeners(t,{dblclick:r}),this.addManagedElementListeners(e,{dblclick:r}),this.addManagedElementListeners(this.getGui(),{dblclick:s}),this.updateIconVisibility();const o=i.getProvidedColumnGroup(),a=this.updateIconVisibility.bind(this);this.addManagedListeners(o,{expandedChanged:a,expandableChanged:a})}addTouchAndClickListeners(e,t,i){var n;(n=e.touchSvc)==null||n.setupForHeaderGroup(this,t,i),this.addManagedElementListeners(t,{click:i})}updateIconVisibility(){const{agOpened:e,agClosed:t,params:{columnGroup:i}}=this;if(i.isExpandable()){const n=i.isExpanded();hn(e,n),hn(t,!n)}else hn(e,!1),hn(t,!1)}addInIcon(e,t){const i=_o(e,this.beans,null);i&&t.appendChild(i)}addGroupExpandIcon(e){if(!e.columnGroup.isExpandable()){const{agOpened:t,agClosed:i}=this;hn(t,!1),hn(i,!1);return}}setupLabel(e){var s;const{displayName:t,columnGroup:i}=e,n=this.innerHeaderGroupComponent||this.isLoadingInnerComponent;if(Ne(t)&&!n){const r=xc(t,!0);this.agLabel.textContent=r}this.addOrRemoveCssClass("ag-sticky-label",!((s=i.getColGroupDef())!=null&&s.suppressStickyLabel))}destroy(){super.destroy(),this.innerHeaderGroupComponent&&(this.destroyBean(this.innerHeaderGroupComponent),this.innerHeaderGroupComponent=void 0)}},Rhe={moduleName:"ColumnHeaderComp",version:Ge,userComponents:{agColumnHeader:Mhe},icons:{menu:"menu",menuAlt:"menu-alt"}},Ehe={moduleName:"ColumnGroupHeaderComp",version:Ge,userComponents:{agColumnGroupHeader:Dhe},icons:{columnGroupOpened:"expanded",columnGroupClosed:"contracted"}},The={moduleName:"AnimationFrame",version:Ge,beans:[iae]},Ahe=class extends ye{constructor(){super(...arguments),this.beanName="touchSvc"}mockBodyContextMenu(e,t){this.mockContextMenu(e,e.eBodyViewport,t)}mockHeaderContextMenu(e,t){this.mockContextMenu(e,e.eGui,t)}mockRowContextMenu(e){if(!Ph())return;const t=(i,n,s)=>{var a;const{rowCtrl:r,cellCtrl:o}=e.getControlsForEventTarget((s==null?void 0:s.target)??null);o!=null&&o.column&&o.dispatchCellContextMenuEvent(s??null),(a=this.beans.contextMenuSvc)==null||a.handleContextMenuMouseEvent(void 0,s,r,o)};this.mockContextMenu(e,e.element,t)}handleCellDoubleClick(e,t){return(()=>{if(!Ph()||lj("dblclick"))return!1;const n=new Date().getTime(),s=n-e.lastIPadMouseClickEvent<200;return e.lastIPadMouseClickEvent=n,s})()?(e.onCellDoubleClicked(t),t.preventDefault(),!0):!1}setupForHeader(e){const{gos:t,sortSvc:i}=this.beans;if(t.get("suppressTouch"))return;const{params:n,eMenu:s,eFilterButton:r}=e,o=new xf(e.getGui(),!0),a=e.shouldSuppressMenuHide(),l=a&&Ne(s),u=l?new xf(s,!0):o;if(n.enableMenu){const d=l?"tap":"longTap",p=f=>n.showColumnMenuAfterMouseClick(f.touchStart);e.addManagedListeners(u,{[d]:p})}if(n.enableSorting){const d=p=>{const f=p.touchStart.target;a&&(s!=null&&s.contains(f)||r!=null&&r.contains(f))||i==null||i.progressSort(n.column,!1,"uiColumnSorted")};e.addManagedListeners(o,{tap:d})}if(n.enableFilterButton&&r){const d=new xf(r,!0);e.addManagedListeners(d,{tap:()=>n.showFilter(r)}),e.addDestroyFunc(()=>d.destroy())}e.addDestroyFunc(()=>o.destroy()),l&&e.addDestroyFunc(()=>u.destroy())}setupForHeaderGroup(e,t,i){const n=new xf(t,!0);e.addManagedListeners(n,{tap:i}),e.addDestroyFunc(()=>n.destroy())}mockContextMenu(e,t,i){if(!Ph())return;const n=new xf(t),s=r=>{i(void 0,r.touchStart,r.touchEvent)};e.addManagedListeners(n,{longTap:s}),e.addDestroyFunc(()=>n.destroy())}},Ihe={moduleName:"Touch",version:Ge,beans:[Ahe]},Lhe=class extends ye{constructor(){super(...arguments),this.beanName="cellNavigation"}wireBeans(e){this.rowSpanSvc=e.rowSpanSvc}getNextCellToFocus(e,t,i=!1){return i?this.getNextCellToFocusWithCtrlPressed(e,t):this.getNextCellToFocusWithoutCtrlPressed(e,t)}getNextCellToFocusWithCtrlPressed(e,t){const i=e===ge.UP,n=e===ge.DOWN,s=e===ge.LEFT;let r,o;const{pageBounds:a,gos:l,visibleCols:u}=this.beans;if(i||n)o=i?a.getFirstRow():a.getLastRow(),r=t.column;else{const d=l.get("enableRtl");o=t.rowIndex,r=(s!==d?u.allCols:[...u.allCols].reverse()).find(f=>this.isCellGoodToFocusOn({rowIndex:o,rowPinned:null,column:f}))}return r?{rowIndex:o,rowPinned:null,column:r}:null}getNextCellToFocusWithoutCtrlPressed(e,t){let i=t,n=!1;for(;!n;){switch(e){case ge.UP:i=this.getCellAbove(i);break;case ge.DOWN:i=this.getCellBelow(i);break;case ge.RIGHT:i=this.gos.get("enableRtl")?this.getCellToLeft(i):this.getCellToRight(i);break;case ge.LEFT:i=this.gos.get("enableRtl")?this.getCellToRight(i):this.getCellToLeft(i);break;default:i=null,Ae(8,{key:e});break}i?n=this.isCellGoodToFocusOn(i):n=!0}return i}isCellGoodToFocusOn(e){const t=e.column;let i;const{pinnedRowModel:n,rowModel:s}=this.beans;switch(e.rowPinned){case"top":i=n==null?void 0:n.getPinnedTopRow(e.rowIndex);break;case"bottom":i=n==null?void 0:n.getPinnedBottomRow(e.rowIndex);break;default:i=s.getRow(e.rowIndex);break}return i?!this.isSuppressNavigable(t,i):!1}getCellToLeft(e){if(!e)return null;const t=this.beans.visibleCols.getColBefore(e.column);return t?{rowIndex:e.rowIndex,column:t,rowPinned:e.rowPinned}:null}getCellToRight(e){if(!e)return null;const t=this.beans.visibleCols.getColAfter(e.column);return t?{rowIndex:e.rowIndex,column:t,rowPinned:e.rowPinned}:null}getRowBelow(e){const t=e.rowIndex,i=e.rowPinned;let n=!1;const{pageBounds:s,pinnedRowModel:r,rowModel:o}=this.beans;if(this.isLastRowInContainer(e))switch(i){case"bottom":return null;case"top":return o.isRowsToRender()?{rowIndex:s.getFirstRow(),rowPinned:null}:r!=null&&r.isRowsToRender("bottom")?{rowIndex:0,rowPinned:"bottom"}:null;default:return r!=null&&r.isRowsToRender("bottom")?{rowIndex:0,rowPinned:"bottom"}:null}else i&&(n=!0);const a=o.getRow(e.rowIndex),l=n?void 0:this.getNextStickyPosition(a);return l||{rowIndex:t+1,rowPinned:i}}getNextStickyPosition(e,t){const{gos:i,rowRenderer:n}=this.beans;if(!nj(i)||!e||!e.sticky)return;const s=n.getStickyTopRowCtrls().some(u=>u.rowNode.rowIndex===e.rowIndex);let r=[];s?r=[...n.getStickyTopRowCtrls()].sort((u,d)=>u.rowNode.rowIndex-d.rowNode.rowIndex):r=[...n.getStickyBottomRowCtrls()].sort((u,d)=>d.rowNode.rowIndex-u.rowNode.rowIndex);const o=t?-1:1,a=r.findIndex(u=>u.rowNode.rowIndex===e.rowIndex),l=r[a+o];if(l)return{rowIndex:l.rowNode.rowIndex,rowPinned:null}}getCellBelow(e){var n;if(!e)return null;const t=((n=this.rowSpanSvc)==null?void 0:n.getCellEnd(e))??e,i=this.getRowBelow(t);return i?{rowIndex:i.rowIndex,column:e.column,rowPinned:i.rowPinned}:null}isLastRowInContainer(e){const t=e.rowPinned,i=e.rowIndex,{pinnedRowModel:n,pageBounds:s}=this.beans;return t==="top"?((n==null?void 0:n.getPinnedTopRowCount())??-1)<=i:t==="bottom"?((n==null?void 0:n.getPinnedBottomRowCount())??-1)<=i:s.getLastRow()<=i}getRowAbove(e){const t=e.rowIndex,i=e.rowPinned,{pageBounds:n,pinnedRowModel:s,rowModel:r}=this.beans,o=i?t===0:t===n.getFirstRow();let a=!1;const l=()=>({rowIndex:(s==null?void 0:s.getPinnedTopRowCount())??-1,rowPinned:"top"});if(o)return i==="top"?null:i&&r.isRowsToRender()?{rowIndex:n.getLastRow(),rowPinned:null}:s!=null&&s.isRowsToRender("top")?l():null;i&&(a=!0);const u=r.getRow(e.rowIndex),d=a?void 0:this.getNextStickyPosition(u,!0);return d||{rowIndex:t-1,rowPinned:i}}getCellAbove(e){var n;if(!e)return null;const t=((n=this.rowSpanSvc)==null?void 0:n.getCellStart(e))??e,i=this.getRowAbove({rowIndex:t.rowIndex,rowPinned:t.rowPinned});return i?{rowIndex:i.rowIndex,column:e.column,rowPinned:i.rowPinned}:null}getNextTabbedCell(e,t){return t?this.getNextTabbedCellBackwards(e):this.getNextTabbedCellForwards(e)}getNextTabbedCellForwards(e){const{visibleCols:t,pagination:i}=this.beans,n=t.allCols;let s=e.rowIndex,r=e.rowPinned,o=t.getColAfter(e.column);if(!o){o=n[0];const a=this.getRowBelow(e);if(qi(a)||!a.rowPinned&&!((i==null?void 0:i.isRowInPage(a))??!0))return null;s=a?a.rowIndex:null,r=a?a.rowPinned:null}return{rowIndex:s,column:o,rowPinned:r}}getNextTabbedCellBackwards(e){const{visibleCols:t,pagination:i}=this.beans,n=t.allCols;let s=e.rowIndex,r=e.rowPinned,o=t.getColBefore(e.column);if(!o){o=bi(n);const a=this.getRowAbove({rowIndex:e.rowIndex,rowPinned:e.rowPinned});if(qi(a)||!a.rowPinned&&!((i==null?void 0:i.isRowInPage(a))??!0))return null;s=a?a.rowIndex:null,r=a?a.rowPinned:null}return{rowIndex:s,column:o,rowPinned:r}}isSuppressNavigable(e,t){const{suppressNavigable:i}=e.colDef;if(typeof i=="boolean")return i;if(typeof i=="function"){const n=e.createColumnFunctionCallbackParams(t);return i(n)}return!1}};function khe(e){return e.focusSvc.getFocusedCell()}function Phe(e){return e.focusSvc.clearFocusedCell()}function Fhe(e,t,i,n){e.focusSvc.setFocusedCell({rowIndex:t,column:i,rowPinned:n,forceBrowserFocus:!0})}function Ohe(e,t){var i;return((i=e.navigation)==null?void 0:i.tabToNextCell(!1,t))??!1}function Nhe(e,t){var i;return((i=e.navigation)==null?void 0:i.tabToNextCell(!0,t))??!1}function Bhe(e,t,i=!1){var s;const n=(s=e.headerNavigation)==null?void 0:s.getHeaderPositionForColumn(t,i);n&&e.focusSvc.focusHeaderPosition({headerPosition:n})}var zhe=class extends ye{constructor(){super(),this.beanName="navigation",this.onPageDown=AB(this.onPageDown,100),this.onPageUp=AB(this.onPageUp,100)}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>{this.gridBodyCon=e.gridBodyCtrl})}handlePageScrollingKey(e,t=!1){const i=e.key,n=e.altKey,s=e.ctrlKey||e.metaKey,r=!!this.beans.rangeSvc&&e.shiftKey,o=Sae(this.gos,e);let a=!1;switch(i){case ge.PAGE_HOME:case ge.PAGE_END:!s&&!n&&(this.onHomeOrEndKey(i),a=!0);break;case ge.LEFT:case ge.RIGHT:case ge.UP:case ge.DOWN:if(!o)return!1;s&&!n&&!r&&(this.onCtrlUpDownLeftRight(i,o),a=!0);break;case ge.PAGE_DOWN:case ge.PAGE_UP:!s&&!n&&(a=this.handlePageUpDown(i,o,t));break}return a&&e.preventDefault(),a}handlePageUpDown(e,t,i){return i&&(t=this.beans.focusSvc.getFocusedCell()),t?(e===ge.PAGE_UP?this.onPageUp(t):this.onPageDown(t),!0):!1}navigateTo(e){const{scrollIndex:t,scrollType:i,scrollColumn:n,focusIndex:s,focusColumn:r}=e,{scrollFeature:o}=this.gridBodyCon;Ne(n)&&!n.isPinned()&&o.ensureColumnVisible(n),Ne(t)&&o.ensureIndexVisible(t,i),e.isAsync||o.ensureIndexVisible(s);const{focusSvc:a,rangeSvc:l}=this.beans;a.setFocusedCell({rowIndex:s,column:r,rowPinned:null,forceBrowserFocus:!0}),l==null||l.setRangeToCell({rowIndex:s,rowPinned:null,column:r})}onPageDown(e){const t=this.beans,i=u1(t),n=this.getViewportHeight(),{pageBounds:s,rowModel:r,rowAutoHeight:o}=t,a=s.getPixelOffset(),l=i.top+n,u=r.getRowIndexAtPixel(l+a);o!=null&&o.active?this.navigateToNextPageWithAutoHeight(e,u):this.navigateToNextPage(e,u)}onPageUp(e){const t=this.beans,i=u1(t),{pageBounds:n,rowModel:s,rowAutoHeight:r}=t,o=n.getPixelOffset(),a=i.top,l=s.getRowIndexAtPixel(a+o);r!=null&&r.active?this.navigateToNextPageWithAutoHeight(e,l,!0):this.navigateToNextPage(e,l,!0)}navigateToNextPage(e,t,i=!1){const{pageBounds:n,rowModel:s}=this.beans,r=this.getViewportHeight(),o=n.getFirstRow(),a=n.getLastRow(),l=n.getPixelOffset(),u=s.getRow(e.rowIndex),d=i?(u==null?void 0:u.rowHeight)-r-l:r-l,p=(u==null?void 0:u.rowTop)+d;let f=s.getRowIndexAtPixel(p+l);if(f===e.rowIndex){const y=i?-1:1;t=f=e.rowIndex+y}let m;i?(m="bottom",f<o&&(f=o),t<o&&(t=o)):(m="top",f>a&&(f=a),t>a&&(t=a)),this.isRowTallerThanView(s.getRow(f))&&(t=f,m="top"),this.navigateTo({scrollIndex:t,scrollType:m,scrollColumn:null,focusIndex:f,focusColumn:e.column})}navigateToNextPageWithAutoHeight(e,t,i=!1){this.navigateTo({scrollIndex:t,scrollType:i?"bottom":"top",scrollColumn:null,focusIndex:t,focusColumn:e.column}),setTimeout(()=>{const n=this.getNextFocusIndexForAutoHeight(e,i);this.navigateTo({scrollIndex:t,scrollType:i?"bottom":"top",scrollColumn:null,focusIndex:n,focusColumn:e.column,isAsync:!0})},50)}getNextFocusIndexForAutoHeight(e,t=!1){const i=t?-1:1,n=this.getViewportHeight(),{pageBounds:s,rowModel:r}=this.beans,o=s.getLastRow();let a=0,l=e.rowIndex;for(;l>=0&&l<=o;){const u=r.getRow(l);if(u){const d=u.rowHeight??0;if(a+d>n)break;a+=d}l+=i}return Math.max(0,Math.min(l,o))}getViewportHeight(){const e=this.beans,t=u1(e),i=this.beans.scrollVisibleSvc.getScrollbarWidth();let n=t.bottom-t.top;return e.ctrlsSvc.get("center").isHorizontalScrollShowing()&&(n-=i),n}isRowTallerThanView(e){if(!e)return!1;const t=e.rowHeight;return typeof t!="number"?!1:t>this.getViewportHeight()}onCtrlUpDownLeftRight(e,t){const i=this.beans.cellNavigation.getNextCellToFocus(e,t,!0),{rowIndex:n}=i,s=i.column;this.navigateTo({scrollIndex:n,scrollType:null,scrollColumn:s,focusIndex:n,focusColumn:s})}onHomeOrEndKey(e){const t=e===ge.PAGE_HOME,{visibleCols:i,pageBounds:n,rowModel:s}=this.beans,r=i.allCols,o=t?n.getFirstRow():n.getLastRow(),a=s.getRow(o);if(!a)return;const l=(t?r:[...r].reverse()).find(u=>!u.isSuppressNavigable(a));l&&this.navigateTo({scrollIndex:o,scrollType:null,scrollColumn:l,focusIndex:o,focusColumn:l})}onTabKeyDown(e,t){const i=t.shiftKey,n=this.tabToNextCellCommon(e,i,t),s=this.beans,{ctrlsSvc:r,pageBounds:o,focusSvc:a,gos:l}=s;if(n!==!1){n?t.preventDefault():n===null&&r.get("gridCtrl").allowFocusForNextCoreContainer(i);return}if(i){const{rowIndex:u,rowPinned:d}=e.getRowPosition();(d?u===0:u===o.getFirstRow())&&(l.get("headerHeight")===0||Gh(s)?Mg(s,!0,!0):(t.preventDefault(),a.focusPreviousFromFirstCell(t)))}else e instanceof nv&&e.focusCell(!0),(!i&&a.focusOverlay(!1)||Mg(s,i))&&t.preventDefault()}tabToNextCell(e,t){const i=this.beans,{focusSvc:n,rowRenderer:s}=i,r=n.getFocusedCell();if(!r)return!1;let o=Af(i,r);return!o&&(o=s.getRowByPosition(r),!o||!o.isFullWidth())?!1:!!this.tabToNextCellCommon(o,e,t)}tabToNextCellCommon(e,t,i){let n=e.editing;if(!n&&e instanceof nv){const o=e.rowCtrl;o&&(n=o.editing)}let s;return n?this.gos.get("editType")==="fullRow"?s=this.moveToNextEditingRow(e,t,i):s=this.moveToNextEditingCell(e,t,i):s=this.moveToNextCellNotEditing(e,t),s===null?s:s||!!this.beans.focusSvc.focusedHeader}moveToNextEditingCell(e,t,i=null){var r;const n=e.cellPosition;e.eGui.focus(),e.stopEditing();const s=this.findNextCellToFocusOn(n,t,!0);return s===!1?null:s==null?!1:((r=this.beans.editSvc)==null||r.startEditing(s,null,!0,i),s.focusCell(!1),!0)}moveToNextEditingRow(e,t,i=null){const n=e.cellPosition,s=this.findNextCellToFocusOn(n,t,!0);if(s===!1)return null;if(s==null)return!1;const r=s.cellPosition,o=this.isCellEditable(n),a=this.isCellEditable(r),l=r&&n.rowIndex===r.rowIndex&&n.rowPinned===r.rowPinned,{editSvc:u,rowEditSvc:d}=this.beans;if(o&&(u==null||u.setFocusOutOnEditor(e)),!l){const p=e.rowCtrl;u==null||u.stopRowEditing(p);const f=s.rowCtrl;d==null||d.startEditing(f,void 0,void 0,i)}return a?(u==null||u.setFocusInOnEditor(s),s.focusCell()):s.focusCell(!0),!0}moveToNextCellNotEditing(e,t){const i=this.beans.visibleCols.allCols;let n;e instanceof LS?n={...e.getRowPosition(),column:t?i[0]:bi(i)}:n=e.getFocusedCellPosition();const s=this.findNextCellToFocusOn(n,t,!1);if(s===!1)return null;if(s instanceof nv)s.focusCell(!0);else if(s)return this.tryToFocusFullWidthRow(s.getRowPosition(),t);return Ne(s)}findNextCellToFocusOn(e,t,i){let n=e;const s=this.beans,{cellNavigation:r,gos:o,focusSvc:a,rowRenderer:l,rangeSvc:u}=s;for(;;){e!==n&&(e=n),t||(n=this.getLastCellOfColSpan(n)),n=r.getNextTabbedCell(n,t);const d=o.getCallback("tabToNextCell");if(Ne(d)){const y=d({backwards:t,editing:i,previousCellPosition:e,nextCellPosition:n||null});if(y===!0)n=e;else{if(y===!1)return!1;n={rowIndex:y.rowIndex,column:y.column,rowPinned:y.rowPinned}}}if(!n)return null;if(n.rowIndex<0){const m=yc(s);return a.focusHeaderPosition({headerPosition:{headerRowIndex:m+n.rowIndex,column:n.column},fromCell:!0}),null}const p=o.get("editType")==="fullRow";if(i&&!p&&!this.isCellEditable(n))continue;this.ensureCellVisible(n);const f=Af(s,n);if(!f){const m=l.getRowByPosition(n);if(!m||!m.isFullWidth()||i)continue;return m}if(!r.isSuppressNavigable(f.column,f.rowNode))return f.setFocusedCellPosition(n),u==null||u.setRangeToCell(n),f}}isCellEditable(e){const t=this.lookupRowNodeForCell(e);return t?e.column.isCellEditable(t):!1}lookupRowNodeForCell({rowIndex:e,rowPinned:t}){const{pinnedRowModel:i,rowModel:n}=this.beans;return t==="top"?i==null?void 0:i.getPinnedTopRow(e):t==="bottom"?i==null?void 0:i.getPinnedBottomRow(e):n.getRow(e)}navigateToNextCell(e,t,i,n){let s=i,r=!1;const o=this.beans,{cellNavigation:a,focusSvc:l,gos:u}=o;for(;s&&(s===i||!this.isValidNavigateCell(s));)u.get("enableRtl")?t===ge.LEFT&&(s=this.getLastCellOfColSpan(s)):t===ge.RIGHT&&(s=this.getLastCellOfColSpan(s)),s=a.getNextCellToFocus(t,s),r=qi(s);if(r&&e&&e.key===ge.UP&&(s={rowIndex:-1,rowPinned:null,column:i.column}),n){const p=u.getCallback("navigateToNextCell");if(Ne(p)){const m=p({key:t,previousCellPosition:i,nextCellPosition:s||null,event:e});Ne(m)?s={rowPinned:m.rowPinned,rowIndex:m.rowIndex,column:m.column}:s=null}}if(!s)return;if(s.rowIndex<0){const p=yc(o);l.focusHeaderPosition({headerPosition:{headerRowIndex:p+s.rowIndex,column:i.column},event:e||void 0,fromCell:!0});return}const d=this.getNormalisedPosition(s);d?this.focusPosition(d):this.tryToFocusFullWidthRow(s)}getNormalisedPosition(e){var n;if(!!((n=this.beans.spannedRowRenderer)!=null&&n.getCellByPosition(e)))return e;this.ensureCellVisible(e);const i=Af(this.beans,e);return i?(e=i.getFocusedCellPosition(),this.ensureCellVisible(e),e):null}tryToFocusFullWidthRow(e,t){const{visibleCols:i,rowRenderer:n,focusSvc:s,eventSvc:r}=this.beans,o=i.allCols,a=n.getRowByPosition(e);if(!a||!a.isFullWidth())return!1;const l=s.getFocusedCell(),u={rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:e.column||(t?bi(o):o[0])};this.focusPosition(u);const d=t??(l!=null&&Rae(u,l));return r.dispatchEvent({type:"fullWidthRowFocused",rowIndex:u.rowIndex,rowPinned:u.rowPinned,column:u.column,isFullWidthCell:!0,fromBelow:d}),!0}focusPosition(e){const{focusSvc:t,rangeSvc:i}=this.beans;t.setFocusedCell({rowIndex:e.rowIndex,column:e.column,rowPinned:e.rowPinned,forceBrowserFocus:!0}),i==null||i.setRangeToCell(e)}isValidNavigateCell(e){return!!AS(this.beans,e)}getLastCellOfColSpan(e){const t=Af(this.beans,e);if(!t)return e;const i=t.getColSpanningList();return i.length===1?e:{rowIndex:e.rowIndex,column:bi(i),rowPinned:e.rowPinned}}ensureCellVisible(e){const t=nj(this.gos),i=this.beans.rowModel.getRow(e.rowIndex),n=t&&(i==null?void 0:i.sticky),{scrollFeature:s}=this.gridBodyCon;!n&&qi(e.rowPinned)&&s.ensureIndexVisible(e.rowIndex),e.column.isPinned()||s.ensureColumnVisible(e.column)}};function u1(e){return e.ctrlsSvc.getScrollFeature().getVScrollPosition()}var Ghe={moduleName:"KeyboardNavigation",version:Ge,beans:[zhe,Lhe,phe],apiFunctions:{getFocusedCell:khe,clearFocusedCell:Phe,setFocusedCell:Fhe,setFocusedHeader:Bhe,tabToNextCell:Ohe,tabToPreviousCell:Nhe}},Hhe=class extends ye{constructor(){super(...arguments),this.beanName="pageBoundsListener"}postConstruct(){this.addManagedEventListeners({modelUpdated:this.onModelUpdated.bind(this),recalculateRowBounds:this.calculatePages.bind(this)}),this.onModelUpdated()}onModelUpdated(e){this.calculatePages(),this.eventSvc.dispatchEvent({type:"paginationChanged",animate:(e==null?void 0:e.animate)??!1,newData:(e==null?void 0:e.newData)??!1,newPage:(e==null?void 0:e.newPage)??!1,newPageSize:(e==null?void 0:e.newPageSize)??!1,keepRenderedRows:(e==null?void 0:e.keepRenderedRows)??!1})}calculatePages(){const{pageBounds:e,pagination:t,rowModel:i}=this.beans;t?t.calculatePages():e.calculateBounds(0,i.getRowCount()-1)}},_he=class extends ye{constructor(){super(...arguments),this.beanName="pageBounds",this.pixelOffset=0}getFirstRow(){var e;return((e=this.topRowBounds)==null?void 0:e.rowIndex)??-1}getLastRow(){var e;return((e=this.bottomRowBounds)==null?void 0:e.rowIndex)??-1}getCurrentPageHeight(){const{topRowBounds:e,bottomRowBounds:t}=this;return!e||!t?0:Math.max(t.rowTop+t.rowHeight-e.rowTop,0)}getCurrentPagePixelRange(){const{topRowBounds:e,bottomRowBounds:t}=this,i=(e==null?void 0:e.rowTop)??0,n=t?t.rowTop+t.rowHeight:0;return{pageFirstPixel:i,pageLastPixel:n}}calculateBounds(e,t){const{rowModel:i}=this.beans,n=i.getRowBounds(e);n&&(n.rowIndex=e),this.topRowBounds=n;const s=i.getRowBounds(t);s&&(s.rowIndex=t),this.bottomRowBounds=s,this.calculatePixelOffset()}getPixelOffset(){return this.pixelOffset}calculatePixelOffset(){var t;const e=((t=this.topRowBounds)==null?void 0:t.rowTop)??0;this.pixelOffset!==e&&(this.pixelOffset=e,this.eventSvc.dispatchEvent({type:"paginationPixelOffsetChanged"}))}},jhe=".ag-pinned-left-floating-bottom,.ag-pinned-left-floating-top,.ag-pinned-right-floating-bottom,.ag-pinned-right-floating-top{min-width:0;overflow:hidden;position:relative}.ag-pinned-left-sticky-top,.ag-pinned-right-sticky-top{height:100%;overflow:hidden;position:relative}.ag-sticky-bottom-full-width-container,.ag-sticky-top-full-width-container{height:100%;overflow:hidden;width:100%}.ag-pinned-left-header,.ag-pinned-right-header{display:inline-block;height:100%;overflow:hidden;position:relative}.ag-body-horizontal-scroll:not(.ag-scrollbar-invisible){.ag-horizontal-left-spacer:not(.ag-scroller-corner){border-right:var(--ag-pinned-column-border)}.ag-horizontal-right-spacer:not(.ag-scroller-corner){border-left:var(--ag-pinned-column-border)}}.ag-pinned-right-header{border-left:var(--ag-pinned-column-border)}.ag-pinned-left-header{border-right:var(--ag-pinned-column-border)}.ag-cell.ag-cell-first-right-pinned:not(.ag-cell-range-left,.ag-cell-range-single-cell,.ag-cell-focus:not(.ag-cell-range-selected):focus-within){border-left:var(--ag-pinned-column-border)}.ag-cell.ag-cell-last-left-pinned:not(.ag-cell-range-right,.ag-cell-range-single-cell,.ag-cell-focus:not(.ag-cell-range-selected):focus-within){border-right:var(--ag-pinned-column-border)}.ag-pinned-left-header .ag-header-cell-resize:after{left:calc(50% - var(--ag-header-column-resize-handle-width))}.ag-pinned-right-header .ag-header-cell-resize:after{left:50%}.ag-pinned-left-header .ag-header-cell-resize{right:-3px}.ag-pinned-right-header .ag-header-cell-resize{left:-3px}",Vhe=class extends ye{constructor(e,t){super(),this.isLeft=e,this.elements=t,this.getWidth=e?()=>this.beans.pinnedCols.leftWidth:()=>this.beans.pinnedCols.rightWidth}postConstruct(){this.addManagedEventListeners({[`${this.isLeft?"left":"right"}PinnedWidthChanged`]:this.onPinnedWidthChanged.bind(this)})}onPinnedWidthChanged(){const e=this.getWidth(),t=e>0;for(const i of this.elements)i&&(hn(i,t),bl(i,e))}},Whe=class extends ye{constructor(){super(...arguments),this.beanName="pinnedCols"}postConstruct(){this.beans.ctrlsSvc.whenReady(this,t=>{this.gridBodyCtrl=t.gridBodyCtrl});const e=this.checkContainerWidths.bind(this);this.addManagedEventListeners({displayedColumnsChanged:e,displayedColumnsWidthChanged:e}),this.addManagedPropertyListener("domLayout",e)}checkContainerWidths(){const{gos:e,visibleCols:t,eventSvc:i}=this.beans,n=Gs(e,"print"),s=n?0:t.getColsLeftWidth(),r=n?0:t.getDisplayedColumnsRightWidth();s!=this.leftWidth&&(this.leftWidth=s,i.dispatchEvent({type:"leftPinnedWidthChanged"})),r!=this.rightWidth&&(this.rightWidth=r,i.dispatchEvent({type:"rightPinnedWidthChanged"}))}keepPinnedColumnsNarrowerThanViewport(){const e=this.gridBodyCtrl.eBodyViewport,t=kv(e);if(t<=50)return;const i=this.getPinnedColumnsOverflowingViewport(t-50),n=this.gos.getCallback("processUnpinnedColumns"),{columns:s,hasLockedPinned:r}=i;let o=s;!o.length&&!r||(n&&(o=n({columns:o,viewportWidth:t})),!(!o||!o.length)&&(o=o.filter(a=>!PC(a)),this.setColsPinned(o,null,"viewportSizeFeature")))}createPinnedWidthFeature(e,...t){return new Vhe(e,t)}setColsPinned(e,t,i){const{colModel:n,colAnimation:s,visibleCols:r,gos:o}=this.beans;if(!n.cols||!(e!=null&&e.length))return;if(Gs(o,"print")){Ae(37);return}s==null||s.start();let a;t===!0||t==="left"?a="left":t==="right"?a="right":a=null;const l=[];e.forEach(u=>{if(!u)return;const d=n.getCol(u);d&&d.getPinned()!==a&&(this.setColPinned(d,a),l.push(d))}),l.length&&(r.refresh(i),wj(this.eventSvc,l,i)),s==null||s.finish()}initCol(e){const{pinned:t,initialPinned:i}=e.colDef;t!==void 0?this.setColPinned(e,t):this.setColPinned(e,i)}setColPinned(e,t){t===!0||t==="left"?e.pinned="left":t==="right"?e.pinned="right":e.pinned=null,e.dispatchStateUpdatedEvent("pinned")}setupHeaderPinnedWidth(e){const{scrollVisibleSvc:t}=this.beans;if(e.pinned==null)return;const i=e.pinned==="left",n=e.pinned==="right";e.hidden=!0;const s=()=>{const r=i?this.leftWidth:this.rightWidth;if(r==null)return;const o=r==0,a=e.hidden!==o,l=this.gos.get("enableRtl"),u=t.getScrollbarWidth(),p=t.verticalScrollShowing&&(l&&i||!l&&n)?r+u:r;e.comp.setPinnedContainerWidth(`${p}px`),e.comp.setDisplayed(!o),a&&(e.hidden=o,e.refresh())};e.addManagedEventListeners({leftPinnedWidthChanged:s,rightPinnedWidthChanged:s,scrollVisibilityChanged:s,scrollbarWidthChanged:s})}getHeaderResizeDiff(e,t){if(t.getPinned()){const{leftWidth:n,rightWidth:s}=this,r=kv(this.beans.ctrlsSvc.getGridBodyCtrl().eBodyViewport)-50;if(n+s+e>r)if(r>n+s)e=r-n-s;else return 0}return e}getPinnedColumnsOverflowingViewport(e){const t=this.rightWidth??0,i=this.leftWidth??0,n=t+i;let s=!1;if(n<e)return{columns:[],hasLockedPinned:s};const{visibleCols:r}=this.beans,o=[...r.leftCols],a=[...r.rightCols];let l=0,u=0;const d=0,p=[];let f=n-d-e;for(;(u<o.length||l<a.length)&&f>0;){if(l<a.length){const m=a[l++];if(m.colDef.lockPinned){s=!0;continue}f-=m.getActualWidth(),p.push(m)}if(u<o.length&&f>0){const m=o[u++];if(m.colDef.lockPinned){s=!0;continue}f-=m.getActualWidth(),p.push(m)}}return{columns:p,hasLockedPinned:s}}},Uhe={moduleName:"PinnedColumn",version:Ge,beans:[Whe],css:[jhe]},$he=class extends ye{constructor(){super(),this.beanName="ariaAnnounce",this.descriptionContainer=null,this.pendingAnnouncements=new Map,this.lastAnnouncement="",this.updateAnnouncement=Os(this,this.updateAnnouncement.bind(this),200)}postConstruct(){const e=this.beans,t=An(e),i=this.descriptionContainer=t.createElement("div");i.classList.add("ag-aria-description-container"),F_(i,"polite"),Pse(i,"additions text"),kse(i,!0),e.eGridDiv.appendChild(i)}announceValue(e,t){this.pendingAnnouncements.set(t,e),this.updateAnnouncement()}updateAnnouncement(){if(!this.descriptionContainer)return;const e=Array.from(this.pendingAnnouncements.values()).join(". ");this.pendingAnnouncements.clear(),this.descriptionContainer.textContent="",setTimeout(()=>{if(this.isAlive()&&this.descriptionContainer){let t=e;this.lastAnnouncement===t&&(t=`${t}.`),this.lastAnnouncement=t,this.descriptionContainer.textContent=t}},50)}destroy(){var t;super.destroy();const{descriptionContainer:e}=this;e&&(no(e),(t=e.parentElement)==null||t.removeChild(e)),this.descriptionContainer=null,this.pendingAnnouncements.clear()}},Yhe={moduleName:"Aria",version:Ge,beans:[$he]};function Khe(e){var t;(t=e.overlays)==null||t.showLoadingOverlay()}function qhe(e){var t;(t=e.overlays)==null||t.showNoRowsOverlay()}function Zhe(e){var t;(t=e.overlays)==null||t.hideOverlay()}var Xhe=".ag-overlay{inset:0;pointer-events:none;position:absolute;z-index:2}.ag-overlay-panel,.ag-overlay-wrapper{display:flex;height:100%;width:100%}.ag-overlay-wrapper{align-items:center;flex:none;justify-content:center;text-align:center}.ag-overlay-loading-wrapper{pointer-events:all}.ag-overlay-loading-center{background:var(--ag-background-color);border:1px solid var(--ag-border-color);border-radius:var(--ag-border-radius);box-shadow:var(--ag-popup-shadow);padding:var(--ag-spacing)}",PV=class extends Xi{constructor(){super(`
            <div class="ag-overlay" role="presentation">
                <div class="ag-overlay-panel" role="presentation">
                    <div class="ag-overlay-wrapper" data-ref="eOverlayWrapper" role="presentation"></div>
                </div>
            </div>`),this.eOverlayWrapper=nt,this.activePromise=null,this.activeOverlay=null,this.updateListenerDestroyFunc=null,this.activeCssClass=null,this.elToFocusAfter=null,this.registerCSS(Xhe)}handleKeyDown(e){if(e.key!==ge.TAB||e.defaultPrevented||Sc(e))return;const t=this.beans;if(Cp(t,this.eOverlayWrapper,!1,e.shiftKey))return;let n=!1;e.shiftKey?n=t.focusSvc.focusGridView({column:bi(t.visibleCols.allCols),backwards:!0,canFocusOverlay:!1}):n=Mg(t,!1),n&&e.preventDefault()}updateLayoutClasses(e,t){const i=this.eOverlayWrapper.classList,{AUTO_HEIGHT:n,NORMAL:s,PRINT:r}=Pw;i.toggle(n,t.autoHeight),i.toggle(s,t.normal),i.toggle(r,t.print)}postConstruct(){this.createManagedBean(new ML(this)),this.setDisplayed(!1,{skipAriaHidden:!0}),this.beans.overlays.setOverlayWrapperComp(this),this.addManagedElementListeners(this.getFocusableElement(),{keydown:this.handleKeyDown.bind(this)})}setWrapperTypeClass(e){const t=this.eOverlayWrapper.classList;this.activeCssClass&&t.toggle(this.activeCssClass,!1),this.activeCssClass=e,t.toggle(e,!0)}showOverlay(e,t,i,n){if(this.setWrapperTypeClass(t),this.destroyActiveOverlay(),this.elToFocusAfter=null,this.activePromise=e,!!e){if(this.setDisplayed(!0,{skipAriaHidden:!0}),i&&this.isGridFocused()){const s=yn(this.beans);s&&!ij(this.beans)&&(this.elToFocusAfter=s)}e.then(s=>{if(this.activePromise!==e){this.activeOverlay!==s&&(this.destroyBean(s),s=null);return}if(this.activePromise=null,!!s){if(this.activeOverlay!==s&&(this.eOverlayWrapper.appendChild(s.getGui()),this.activeOverlay=s,n)){const r=s;this.updateListenerDestroyFunc=this.addManagedPropertyListener(n,({currentValue:o})=>{var a;(a=r.refresh)==null||a.call(r,ut(this.gos,{...o??{}}))})}i&&this.isGridFocused()&&tp(this.eOverlayWrapper)}})}}updateOverlayWrapperPaddingTop(e){this.eOverlayWrapper.style.setProperty("padding-top",`${e}px`)}destroyActiveOverlay(){var n;this.activePromise=null;const e=this.activeOverlay;if(!e)return;let t=this.elToFocusAfter;this.activeOverlay=null,this.elToFocusAfter=null,t&&!this.isGridFocused()&&(t=null);const i=this.updateListenerDestroyFunc;i&&(i(),this.updateListenerDestroyFunc=null),this.destroyBean(e),no(this.eOverlayWrapper),(n=t==null?void 0:t.focus)==null||n.call(t,{preventScroll:!0})}hideOverlay(){this.destroyActiveOverlay(),this.setDisplayed(!1,{skipAriaHidden:!0})}isGridFocused(){const e=yn(this.beans);return!!e&&this.beans.eGridDiv.contains(e)}destroy(){this.elToFocusAfter=null,this.destroyActiveOverlay(),this.beans.overlays.setOverlayWrapperComp(void 0),super.destroy()}},Qhe={selector:"AG-OVERLAY-WRAPPER",component:PV},Jhe=class extends ye{constructor(){super(...arguments),this.beanName="overlays",this.state=0,this.showInitialOverlay=!0,this.wrapperPadding=0}postConstruct(){this.isClientSide=$s(this.gos),this.isServerSide=!this.isClientSide&&yp(this.gos);const e=()=>this.updateOverlayVisibility();this.addManagedEventListeners({newColumnsLoaded:e,rowDataUpdated:e,gridSizeChanged:this.refreshWrapperPadding.bind(this),rowCountReady:()=>{this.showInitialOverlay=!1,this.updateOverlayVisibility()}}),this.addManagedPropertyListener("loading",e)}setOverlayWrapperComp(e){this.eWrapper=e,this.updateOverlayVisibility()}isVisible(){return this.state!==0&&!!this.eWrapper}isExclusive(){return this.state===1&&!!this.eWrapper}showLoadingOverlay(){this.showInitialOverlay=!1;const e=this.gos,t=e.get("loading");!t&&(t!==void 0||e.get("suppressLoadingOverlay"))||this.doShowLoadingOverlay()}showNoRowsOverlay(){this.showInitialOverlay=!1;const e=this.gos;e.get("loading")||e.get("suppressNoRowsOverlay")||this.doShowNoRowsOverlay()}hideOverlay(){if(this.showInitialOverlay=!1,this.gos.get("loading")){Ae(99);return}this.doHideOverlay()}getOverlayWrapperSelector(){return Qhe}getOverlayWrapperCompClass(){return PV}updateOverlayVisibility(){if(!this.eWrapper){this.state=0;return}const{state:e,isClientSide:t,isServerSide:i,beans:{gos:n,colModel:s,rowModel:r}}=this;let o=this.gos.get("loading");o!==void 0&&(this.showInitialOverlay=!1),this.showInitialOverlay&&o===void 0&&!n.get("suppressLoadingOverlay")&&(o=!n.get("columnDefs")||!s.ready||!n.get("rowData")&&t),o?e!==1&&this.doShowLoadingOverlay():(this.showInitialOverlay=!1,t&&r.isEmpty()&&!n.get("suppressNoRowsOverlay")?e!==2&&this.doShowNoRowsOverlay():(e===1||!i&&e!==0)&&this.doHideOverlay())}doShowLoadingOverlay(){this.eWrapper&&(this.state=1,this.showOverlay(Ooe(this.beans.userCompFactory,ut(this.gos,{})),"ag-overlay-loading-wrapper","loadingOverlayComponentParams"),this.updateExclusive())}doShowNoRowsOverlay(){this.eWrapper&&(this.state=2,this.showOverlay(Noe(this.beans.userCompFactory,ut(this.gos,{})),"ag-overlay-no-rows-wrapper","noRowsOverlayComponentParams"),this.updateExclusive())}doHideOverlay(){this.eWrapper&&(this.state=0,this.eWrapper.hideOverlay(),this.updateExclusive())}showOverlay(e,t,i){var s;const n=(e==null?void 0:e.newAgStackInstance())??null;(s=this.eWrapper)==null||s.showOverlay(n,t,this.isExclusive(),i),this.refreshWrapperPadding()}updateExclusive(){const e=this.exclusive;this.exclusive=this.isExclusive(),this.exclusive!==e&&this.eventSvc.dispatchEvent({type:"overlayExclusiveChanged"})}refreshWrapperPadding(){const e=this.eWrapper;if(!e)return;let t=0;if(this.state===2){const i=this.beans.ctrlsSvc.get("gridHeaderCtrl");t=(i==null?void 0:i.headerHeight)||0}else this.wrapperPadding!==0&&(t=0);this.wrapperPadding!==t&&(this.wrapperPadding=t,e.updateOverlayWrapperPaddingTop(t))}},epe={moduleName:"Overlay",version:Ge,userComponents:{agLoadingOverlay:Ele,agNoRowsOverlay:Tle},apiFunctions:{showLoadingOverlay:Khe,showNoRowsOverlay:qhe,hideOverlay:Zhe},beans:[Jhe]},tpe=class extends ye{constructor(){super(...arguments),this.beanName="rowContainerHeight",this.scrollY=0,this.uiBodyHeight=0}postConstruct(){this.addManagedEventListeners({bodyHeightChanged:this.updateOffset.bind(this)}),this.maxDivHeight=Wse(),Jh(this.gos,"RowContainerHeightService - maxDivHeight = "+this.maxDivHeight)}updateOffset(){if(!this.stretching)return;const e=this.beans.ctrlsSvc.getScrollFeature().getVScrollPosition().top,t=this.getUiBodyHeight();(e!==this.scrollY||t!==this.uiBodyHeight)&&(this.scrollY=e,this.uiBodyHeight=t,this.calculateOffset())}calculateOffset(){this.setUiContainerHeight(this.maxDivHeight),this.pixelsToShave=this.modelHeight-this.uiContainerHeight,this.maxScrollY=this.uiContainerHeight-this.uiBodyHeight;const e=this.scrollY/this.maxScrollY,t=e*this.pixelsToShave;Jh(this.gos,`RowContainerHeightService - Div Stretch Offset = ${t} (${this.pixelsToShave} * ${e})`),this.setDivStretchOffset(t)}setUiContainerHeight(e){e!==this.uiContainerHeight&&(this.uiContainerHeight=e,this.eventSvc.dispatchEvent({type:"rowContainerHeightChanged"}))}clearOffset(){this.setUiContainerHeight(this.modelHeight),this.pixelsToShave=0,this.setDivStretchOffset(0)}setDivStretchOffset(e){const t=typeof e=="number"?Math.floor(e):null;this.divStretchOffset!==t&&(this.divStretchOffset=t,this.eventSvc.dispatchEvent({type:"heightScaleChanged"}))}setModelHeight(e){this.modelHeight=e,this.stretching=e!=null&&this.maxDivHeight>0&&e>this.maxDivHeight,this.stretching?this.calculateOffset():this.clearOffset()}getRealPixelPosition(e){return e-this.divStretchOffset}getUiBodyHeight(){const e=this.beans.ctrlsSvc.getScrollFeature().getVScrollPosition();return e.bottom-e.top}getScrollPositionForPixel(e){if(this.pixelsToShave<=0)return e;const t=this.modelHeight-this.getUiBodyHeight(),i=e/t;return this.maxScrollY*i}},ipe=400,npe=class extends ye{constructor(){super(...arguments),this.beanName="rowRenderer",this.destroyFuncsForColumnListeners=[],this.rowCtrlsByRowIndex={},this.zombieRowCtrls={},this.allRowCtrls=[],this.topRowCtrls=[],this.bottomRowCtrls=[],this.refreshInProgress=!1,this.dataFirstRenderedFired=!1,this.setupRangeSelectionListeners=()=>{const e=()=>{this.getAllCellCtrls().forEach(r=>r.onCellSelectionChanged())},t=()=>{this.getAllCellCtrls().forEach(r=>r.updateRangeBordersIfRangeCount())},i=()=>{this.eventSvc.addEventListener("cellSelectionChanged",e),this.eventSvc.addEventListener("columnMoved",t),this.eventSvc.addEventListener("columnPinned",t),this.eventSvc.addEventListener("columnVisible",t)},n=()=>{this.eventSvc.removeEventListener("cellSelectionChanged",e),this.eventSvc.removeEventListener("columnMoved",t),this.eventSvc.removeEventListener("columnPinned",t),this.eventSvc.removeEventListener("columnVisible",t)};this.addDestroyFunc(()=>n()),this.addManagedPropertyListeners(["enableRangeSelection","cellSelection"],()=>{nd(this.gos)?i():n()}),nd(this.gos)&&i()}}wireBeans(e){this.pageBounds=e.pageBounds,this.colModel=e.colModel,this.pinnedRowModel=e.pinnedRowModel,this.rowModel=e.rowModel,this.focusSvc=e.focusSvc,this.rowContainerHeight=e.rowContainerHeight,this.ctrlsSvc=e.ctrlsSvc}postConstruct(){this.ctrlsSvc.whenReady(this,e=>{this.gridBodyCtrl=e.gridBodyCtrl,this.initialise()})}initialise(){this.addManagedEventListeners({paginationChanged:this.onPageLoaded.bind(this),pinnedRowDataChanged:this.onPinnedRowDataChanged.bind(this),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),bodyScroll:this.onBodyScroll.bind(this),bodyHeightChanged:this.redraw.bind(this,{})}),this.addManagedPropertyListeners(["domLayout","embedFullWidthRows"],()=>this.onDomLayoutChanged()),this.addManagedPropertyListeners(["suppressMaxRenderedRowRestriction","rowBuffer"],()=>this.redraw()),this.addManagedPropertyListener("suppressCellFocus",i=>this.onSuppressCellFocusChanged(i.currentValue)),this.addManagedPropertyListeners(["groupSuppressBlankHeader","getBusinessKeyForNode","fullWidthCellRenderer","fullWidthCellRendererParams","suppressStickyTotalRow","groupRowRenderer","groupRowRendererParams","loadingCellRenderer","loadingCellRendererParams","detailCellRenderer","detailCellRendererParams","enableRangeSelection","enableCellTextSelection"],()=>this.redrawRows()),this.addManagedPropertyListener("cellSelection",({currentValue:i,previousValue:n})=>{(!n&&i||n&&!i)&&this.redrawRows()});const{stickyRowSvc:e,gos:t}=this.beans;if(e)this.stickyRowFeature=e.createStickyRowFeature(this,this.createRowCon.bind(this),this.destroyRowCtrls.bind(this));else{const i=this.gridBodyCtrl;i.setStickyTopHeight(0),i.setStickyBottomHeight(0)}this.registerCellEventListeners(),this.initialiseCache(),this.printLayout=Gs(t,"print"),this.embedFullWidthRows=this.printLayout||t.get("embedFullWidthRows"),this.redrawAfterModelUpdate()}initialiseCache(){if(this.gos.get("keepDetailRows")){const e=this.getKeepDetailRowsCount(),t=e??3;this.cachedRowCtrls=new spe(t)}}getKeepDetailRowsCount(){return this.gos.get("keepDetailRowsCount")}getStickyTopRowCtrls(){var e;return((e=this.stickyRowFeature)==null?void 0:e.stickyTopRowCtrls)??[]}getStickyBottomRowCtrls(){var e;return((e=this.stickyRowFeature)==null?void 0:e.stickyBottomRowCtrls)??[]}updateAllRowCtrls(){var n;const e=Object.values(this.rowCtrlsByRowIndex),t=Object.values(this.zombieRowCtrls),i=((n=this.cachedRowCtrls)==null?void 0:n.getEntries())??[];t.length>0||i.length>0?this.allRowCtrls=[...e,...t,...i]:this.allRowCtrls=e}onCellFocusChanged(e){this.getAllCellCtrls().forEach(t=>t.onCellFocused(e)),this.getFullWidthRowCtrls().forEach(t=>t.onFullWidthRowFocused(e))}onSuppressCellFocusChanged(e){this.getAllCellCtrls().forEach(t=>t.onSuppressCellFocusChanged(e)),this.getFullWidthRowCtrls().forEach(t=>t.onSuppressCellFocusChanged(e))}registerCellEventListeners(){this.addManagedEventListeners({cellFocused:e=>{this.onCellFocusChanged(e)},cellFocusCleared:()=>this.onCellFocusChanged(),flashCells:e=>{const{cellFlashSvc:t}=this.beans;t&&this.getAllCellCtrls().forEach(i=>t.onFlashCells(i,e))},columnHoverChanged:()=>{this.getAllCellCtrls().forEach(e=>e.onColumnHover())},displayedColumnsChanged:()=>{this.getAllCellCtrls().forEach(e=>e.onDisplayedColumnsChanged())},displayedColumnsWidthChanged:()=>{this.printLayout&&this.getAllCellCtrls().forEach(e=>e.onLeftChanged())}}),this.setupRangeSelectionListeners(),this.refreshListenersToColumnsForCellComps(),this.addManagedEventListeners({gridColumnsChanged:this.refreshListenersToColumnsForCellComps.bind(this)}),this.addDestroyFunc(this.removeGridColumnListeners.bind(this))}removeGridColumnListeners(){this.destroyFuncsForColumnListeners.forEach(e=>e()),this.destroyFuncsForColumnListeners.length=0}refreshListenersToColumnsForCellComps(){this.removeGridColumnListeners(),this.colModel.getCols().forEach(t=>{const i=l=>{this.getAllCellCtrls().forEach(u=>{u.column===t&&l(u)})},n=()=>{i(l=>l.onLeftChanged())},s=()=>{i(l=>l.onWidthChanged())},r=()=>{i(l=>l.onFirstRightPinnedChanged())},o=()=>{i(l=>l.onLastLeftPinnedChanged())},a=()=>{i(l=>l.onColDefChanged())};t.__addEventListener("leftChanged",n),t.__addEventListener("widthChanged",s),t.__addEventListener("firstRightPinnedChanged",r),t.__addEventListener("lastLeftPinnedChanged",o),t.__addEventListener("colDefChanged",a),this.destroyFuncsForColumnListeners.push(()=>{t.__removeEventListener("leftChanged",n),t.__removeEventListener("widthChanged",s),t.__removeEventListener("firstRightPinnedChanged",r),t.__removeEventListener("lastLeftPinnedChanged",o),t.__removeEventListener("colDefChanged",a)})})}onDomLayoutChanged(){const e=Gs(this.gos,"print"),t=e||this.gos.get("embedFullWidthRows"),i=t!==this.embedFullWidthRows||this.printLayout!==e;this.printLayout=e,this.embedFullWidthRows=t,i&&this.redrawAfterModelUpdate({domLayoutChanged:!0})}datasourceChanged(){this.firstRenderedRow=0,this.lastRenderedRow=-1;const e=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(e)}onPageLoaded(e){const t={recycleRows:e.keepRenderedRows,animate:e.animate,newData:e.newData,newPage:e.newPage,onlyBody:!0};this.redrawAfterModelUpdate(t)}getAllCellsNotSpanningForColumn(e){const t=[];return this.getAllRowCtrls().forEach(i=>{var s;const n=(s=i.getCellCtrl(e,!0))==null?void 0:s.eGui;n&&t.push(n)}),t}refreshFloatingRowComps(){this.refreshFloatingRows(this.topRowCtrls,"top"),this.refreshFloatingRows(this.bottomRowCtrls,"bottom")}refreshFloatingRows(e,t){const{pinnedRowModel:i,beans:n,printLayout:s}=this,r=Object.fromEntries(e.map(a=>[a.rowNode.id,a]));i==null||i.forEachPinnedRow(t,(a,l)=>{const u=e[l];u&&i.getPinnedRowById(u.rowNode.id,t)===void 0&&(u.destroyFirstPass(),u.destroySecondPass()),a.id in r?(e[l]=r[a.id],delete r[a.id]):e[l]=new LS(a,n,!1,!1,s)});const o=(t==="top"?i==null?void 0:i.getPinnedTopRowCount():i==null?void 0:i.getPinnedBottomRowCount())??0;e.length=o}onPinnedRowDataChanged(){const e={recycleRows:!0};this.redrawAfterModelUpdate(e)}redrawRow(e,t=!1){var i,n;if(e.sticky)(i=this.stickyRowFeature)==null||i.refreshStickyNode(e);else if((n=this.cachedRowCtrls)!=null&&n.has(e)){this.cachedRowCtrls.removeRow(e);return}else{const s=r=>{const o=r[e.rowIndex];o&&o.rowNode===e&&(o.destroyFirstPass(),o.destroySecondPass(),r[e.rowIndex]=this.createRowCon(e,!1,!1))};switch(e.rowPinned){case"top":s(this.topRowCtrls);break;case"bottom":s(this.bottomRowCtrls);break;default:s(this.rowCtrlsByRowIndex),this.updateAllRowCtrls()}}t||this.dispatchDisplayedRowsChanged(!1)}redrawRows(e){if(e!=null){e==null||e.forEach(i=>this.redrawRow(i,!0)),this.dispatchDisplayedRowsChanged(!1);return}this.redrawAfterModelUpdate()}getCellToRestoreFocusToAfterRefresh(e){const t=e!=null&&e.suppressKeepFocus?null:this.focusSvc.getFocusCellToUseAfterRefresh();if(t==null)return null;const i=yn(this.beans),n=vS(this.gos,i,ES),s=vS(this.gos,i,Hv);return n||s?t:null}redrawAfterModelUpdate(e={}){this.getLockOnRefresh();const t=this.getCellToRestoreFocusToAfterRefresh(e);this.updateContainerHeights(),this.scrollToTopIfNewData(e);const i=!e.domLayoutChanged&&!!e.recycleRows,n=e.animate&&_f(this.gos),s=i?this.getRowsToRecycle():null;i||this.removeAllRowComps(),this.workOutFirstAndLastRowsToRender();const{stickyRowFeature:r}=this;if(r){r.checkStickyRows();const o=r.extraTopHeight+r.extraBottomHeight;o&&this.updateContainerHeights(o)}this.recycleRows(s,n),this.gridBodyCtrl.updateRowCount(),e.onlyBody||this.refreshFloatingRowComps(),this.dispatchDisplayedRowsChanged(),t!=null&&this.restoreFocusedCell(t),this.releaseLockOnRefresh()}scrollToTopIfNewData(e){var n;const t=e.newData||e.newPage,i=this.gos.get("suppressScrollOnNewData");t&&!i&&(this.gridBodyCtrl.scrollFeature.scrollToTop(),(n=this.stickyRowFeature)==null||n.resetOffsets())}updateContainerHeights(e=0){const{rowContainerHeight:t}=this;if(this.printLayout){t.setModelHeight(null);return}let i=this.pageBounds.getCurrentPageHeight();i===0&&(i=1),t.setModelHeight(i+e)}getLockOnRefresh(){var e,t;if(this.refreshInProgress)throw new Error(Zu(252));this.refreshInProgress=!0,(t=(e=this.beans.frameworkOverrides).getLockOnRefresh)==null||t.call(e)}releaseLockOnRefresh(){var e,t;this.refreshInProgress=!1,(t=(e=this.beans.frameworkOverrides).releaseLockOnRefresh)==null||t.call(e)}isRefreshInProgress(){return this.refreshInProgress}restoreFocusedCell(e){e&&this.focusSvc.restoreFocusedCell(e,()=>{this.onCellFocusChanged(ut(this.gos,{rowIndex:e.rowIndex,column:e.column,rowPinned:e.rowPinned,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0,type:"cellFocused"}))})}getAllCellCtrls(){const e=[],t=this.getAllRowCtrls(),i=t.length;for(let n=0;n<i;n++){const s=t[n].getAllCellCtrls(),r=s.length;for(let o=0;o<r;o++)e.push(s[o])}return e}getAllRowCtrls(){const{spannedRowRenderer:e}=this.beans,t=this.getStickyTopRowCtrls(),i=this.getStickyBottomRowCtrls();return[...this.topRowCtrls,...this.bottomRowCtrls,...t,...i,...(e==null?void 0:e.getCtrls("top"))??[],...(e==null?void 0:e.getCtrls("bottom"))??[],...(e==null?void 0:e.getCtrls("center"))??[],...Object.values(this.rowCtrlsByRowIndex)]}addRenderedRowListener(e,t,i){const n=this.rowCtrlsByRowIndex[t];n&&n.addEventListener(e,i)}refreshCells(e={}){const t={forceRefresh:e.force,newData:!1,suppressFlash:e.suppressFlash};for(const i of this.getCellCtrls(e.rowNodes,e.columns))i.refreshOrDestroyCell(t);this.refreshFullWidth(e.rowNodes)}refreshFullWidth(e){if(!e)return;let t=null;this.stickyRowFeature&&(t=this.getCellToRestoreFocusToAfterRefresh()||null);for(const i of this.getRowCtrls(e)){if(!i.isFullWidth())continue;i.refreshFullWidth()||this.redrawRow(i.rowNode,!0)}this.dispatchDisplayedRowsChanged(!1),t&&this.restoreFocusedCell(t)}getRowCtrls(e){const t=sA(e),i=this.getAllRowCtrls();return!e||!t?i:i.filter(n=>{const s=n.rowNode;return rA(s,t)})}getCellCtrls(e,t){let i;Ne(t)&&(i={},t.forEach(s=>{const r=this.colModel.getCol(s);Ne(r)&&(i[r.getId()]=!0)}));const n=[];return this.getRowCtrls(e).forEach(s=>{s.getAllCellCtrls().forEach(r=>{const o=r.column.getId();i&&!i[o]||n.push(r)})}),n}destroy(){this.removeAllRowComps(!0),super.destroy()}removeAllRowComps(e=!1){var i;const t=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(t,e),(i=this.stickyRowFeature)==null||i.destroyStickyCtrls()}getRowsToRecycle(){const e=[];for(const i of Object.keys(this.rowCtrlsByRowIndex))this.rowCtrlsByRowIndex[i].rowNode.id==null&&e.push(i);this.removeRowCtrls(e);const t={};for(const i of Object.values(this.rowCtrlsByRowIndex)){const n=i.rowNode;t[n.id]=i}return this.rowCtrlsByRowIndex={},t}removeRowCtrls(e,t=!1){e.forEach(i=>{const n=this.rowCtrlsByRowIndex[i];n&&(n.destroyFirstPass(t),n.destroySecondPass()),delete this.rowCtrlsByRowIndex[i]})}onBodyScroll(e){e.direction==="vertical"&&this.redraw({afterScroll:!0})}redraw(e={}){var l;const{afterScroll:t}=e;let i;const n=this.stickyRowFeature;n&&(i=this.getCellToRestoreFocusToAfterRefresh()||void 0);const s=this.firstRenderedRow,r=this.lastRenderedRow;this.workOutFirstAndLastRowsToRender();let o=!1;if(n){o=n.checkStickyRows();const u=n.extraTopHeight+n.extraBottomHeight;u&&this.updateContainerHeights(u)}const a=this.firstRenderedRow!==s||this.lastRenderedRow!==r;if(!(t&&!o&&!a)&&(this.getLockOnRefresh(),this.recycleRows(null,!1,t),this.releaseLockOnRefresh(),this.dispatchDisplayedRowsChanged(t&&!o),i!=null)){const u=this.getCellToRestoreFocusToAfterRefresh();i!=null&&u==null&&((l=this.beans.animationFrameSvc)==null||l.flushAllFrames(),this.restoreFocusedCell(i))}}removeRowCompsNotToDraw(e,t){const i={};e.forEach(r=>i[r]=!0);const s=Object.keys(this.rowCtrlsByRowIndex).filter(r=>!i[r]);this.removeRowCtrls(s,t)}calculateIndexesToDraw(e){const t=[];for(let s=this.firstRenderedRow;s<=this.lastRenderedRow;s++)t.push(s);const i=s=>{const r=s.rowNode.rowIndex;r!=null&&(r<this.firstRenderedRow||r>this.lastRenderedRow)&&this.doNotUnVirtualiseRow(s)&&t.push(r)};for(const s of Object.values(this.rowCtrlsByRowIndex))i(s);if(e)for(const s of Object.values(e))i(s);t.sort((s,r)=>s-r);const n=[];for(let s=0;s<t.length;s++){const r=t[s],o=this.rowModel.getRow(r);o&&!o.sticky&&n.push(r)}return n}recycleRows(e,t=!1,i=!1){const n=this.calculateIndexesToDraw(e);if((this.printLayout||i)&&(t=!1),this.removeRowCompsNotToDraw(n,!t),n.forEach(s=>{this.createOrUpdateRowCtrl(s,e,t,i)}),e){const{animationFrameSvc:s}=this.beans;s&&i&&!this.gos.get("suppressAnimationFrame")&&!this.printLayout?s.addDestroyTask(()=>{this.destroyRowCtrls(e,t),this.updateAllRowCtrls(),this.dispatchDisplayedRowsChanged()}):this.destroyRowCtrls(e,t)}this.updateAllRowCtrls()}dispatchDisplayedRowsChanged(e=!1){this.eventSvc.dispatchEvent({type:"displayedRowsChanged",afterScroll:e})}onDisplayedColumnsChanged(){const{visibleCols:e}=this.beans,t=e.isPinningLeft(),i=e.isPinningRight();(this.pinningLeft!==t||i!==this.pinningRight)&&(this.pinningLeft=t,this.pinningRight=i,this.embedFullWidthRows&&this.redrawFullWidthEmbeddedRows())}redrawFullWidthEmbeddedRows(){const e=[];this.getFullWidthRowCtrls().forEach(t=>{const i=t.rowNode.rowIndex;e.push(i.toString())}),this.refreshFloatingRowComps(),this.removeRowCtrls(e),this.redraw({afterScroll:!0})}getFullWidthRowCtrls(e){const t=sA(e);return this.getAllRowCtrls().filter(i=>{if(!i.isFullWidth())return!1;const n=i.rowNode;return!(t!=null&&!rA(n,t))})}createOrUpdateRowCtrl(e,t,i,n){let s,r=this.rowCtrlsByRowIndex[e];if(r||(s=this.rowModel.getRow(e),Ne(s)&&Ne(t)&&t[s.id]&&s.alreadyRendered&&(r=t[s.id],t[s.id]=null)),!r)if(s||(s=this.rowModel.getRow(e)),Ne(s))r=this.createRowCon(s,i,n);else return;return s&&(s.alreadyRendered=!0),this.rowCtrlsByRowIndex[e]=r,r}destroyRowCtrls(e,t){const i=[];if(e){for(const n of Object.values(e))if(n){if(this.cachedRowCtrls&&n.isCacheable()){this.cachedRowCtrls.addRow(n);continue}if(n.destroyFirstPass(!t),t){const s=n.instanceId;this.zombieRowCtrls[s]=n,i.push(()=>{n.destroySecondPass(),delete this.zombieRowCtrls[s]})}else n.destroySecondPass()}}t&&(i.push(()=>{this.updateAllRowCtrls(),this.dispatchDisplayedRowsChanged()}),window.setTimeout(()=>i.forEach(n=>n()),ipe))}getRowBuffer(){return this.gos.get("rowBuffer")}getRowBufferInPixels(){const e=this.getRowBuffer(),t=Bh(this.beans);return e*t}workOutFirstAndLastRowsToRender(){const{rowContainerHeight:e,pageBounds:t,rowModel:i}=this;e.updateOffset();let n,s;if(!i.isRowsToRender())n=0,s=-1;else if(this.printLayout)this.beans.environment.refreshRowHeightVariable(),n=t.getFirstRow(),s=t.getLastRow();else{const d=this.getRowBufferInPixels(),p=this.ctrlsSvc.getScrollFeature(),f=this.gos.get("suppressRowVirtualisation");let m=!1,y,C;do{const D=t.getPixelOffset(),{pageFirstPixel:R,pageLastPixel:A}=t.getCurrentPagePixelRange(),k=e.divStretchOffset,F=p.getVScrollPosition(),P=F.top,L=F.bottom;f?(y=R+k,C=A+k):(y=Math.max(P+D-d,R)+k,C=Math.min(L+D+d,A)+k),this.firstVisibleVPixel=Math.max(P+D,R)+k,this.lastVisibleVPixel=Math.min(L+D,A)+k,m=this.ensureAllRowsInRangeHaveHeightsCalculated(y,C)}while(m);let w=i.getRowIndexAtPixel(y),b=i.getRowIndexAtPixel(C);const S=t.getFirstRow(),M=t.getLastRow();w<S&&(w=S),b>M&&(b=M),n=w,s=b}const r=Gs(this.gos,"normal"),o=this.gos.get("suppressMaxRenderedRowRestriction"),a=Math.max(this.getRowBuffer(),500);r&&!o&&s-n>a&&(s=n+a);const l=n!==this.firstRenderedRow,u=s!==this.lastRenderedRow;(l||u)&&(this.firstRenderedRow=n,this.lastRenderedRow=s,this.eventSvc.dispatchEvent({type:"viewportChanged",firstRow:n,lastRow:s}))}dispatchFirstDataRenderedEvent(){this.dataFirstRenderedFired||(this.dataFirstRenderedFired=!0,Gc(this.beans,()=>{this.beans.eventSvc.dispatchEvent({type:"firstDataRendered",firstRow:this.firstRenderedRow,lastRow:this.lastRenderedRow})}))}ensureAllRowsInRangeHaveHeightsCalculated(e,t){var a,l;const i=(a=this.pinnedRowModel)==null?void 0:a.ensureRowHeightsValid(),n=(l=this.stickyRowFeature)==null?void 0:l.ensureRowHeightsValid(),{pageBounds:s,rowModel:r}=this,o=r.ensureRowHeightsValid(e,t,s.getFirstRow(),s.getLastRow());return(o||n)&&this.eventSvc.dispatchEvent({type:"recalculateRowBounds"}),n||o||i?(this.updateContainerHeights(),!0):!1}doNotUnVirtualiseRow(e){const n=e.rowNode,s=this.focusSvc.isRowNodeFocused(n),r=e.editing,o=n.detail;return s||r||o?!!this.isRowPresent(n):!1}isRowPresent(e){var t;return this.rowModel.isRowPresent(e)?((t=this.beans.pagination)==null?void 0:t.isRowPresent(e))??!0:!1}createRowCon(e,t,i){var a;const n=((a=this.cachedRowCtrls)==null?void 0:a.getRow(e))??null;if(n)return n;const s=this.gos.get("suppressAnimationFrame"),r=i&&!s&&!this.printLayout&&!!this.beans.animationFrameSvc;return new LS(e,this.beans,t,r,this.printLayout)}getRenderedNodes(){const e=Object.values(this.rowCtrlsByRowIndex).map(n=>n.rowNode),t=this.getStickyTopRowCtrls().map(n=>n.rowNode),i=this.getStickyBottomRowCtrls().map(n=>n.rowNode);return[...t,...e,...i]}getRowByPosition(e){let t;const{rowIndex:i}=e;switch(e.rowPinned){case"top":t=this.topRowCtrls[i];break;case"bottom":t=this.bottomRowCtrls[i];break;default:t=this.rowCtrlsByRowIndex[i],t||(t=this.getStickyTopRowCtrls().find(n=>n.rowNode.rowIndex===i)||null,t||(t=this.getStickyBottomRowCtrls().find(n=>n.rowNode.rowIndex===i)||null));break}return t}isRangeInRenderedViewport(e,t){if(e==null||t==null)return!1;const n=e>this.lastRenderedRow;return!(t<this.firstRenderedRow)&&!n}},spe=class{constructor(e){this.entriesMap={},this.entriesList=[],this.maxCount=e}addRow(e){if(this.entriesMap[e.rowNode.id]=e,this.entriesList.push(e),e.setCached(!0),this.entriesList.length>this.maxCount){const t=this.entriesList[0];t.destroyFirstPass(),t.destroySecondPass(),this.removeFromCache(t)}}getRow(e){if(e==null||e.id==null)return null;const t=this.entriesMap[e.id];return t?(this.removeFromCache(t),t.setCached(!1),t.rowNode!=e?null:t):null}has(e){return this.entriesMap[e.id]!=null}removeRow(e){const t=e.id,i=this.entriesMap[t];delete this.entriesMap[t],ka(this.entriesList,i)}removeFromCache(e){const t=e.rowNode.id;delete this.entriesMap[t],ka(this.entriesList,e)}getEntries(){return this.entriesList}};function sA(e){if(!e)return;const t={top:{},bottom:{},normal:{}};return e.forEach(i=>{const n=i.id;switch(i.rowPinned){case"top":t.top[n]=i;break;case"bottom":t.bottom[n]=i;break;default:t.normal[n]=i;break}}),t}function rA(e,t){const i=e.id;switch(e.rowPinned){case"top":return t.top[i]!=null;case"bottom":return t.bottom[i]!=null;default:return t.normal[i]!=null}}var rpe=class extends ye{constructor(){super(...arguments),this.beanName="rowNodeSorter"}postConstruct(){const{gos:e}=this;this.isAccentedSort=e.get("accentedSort"),this.primaryColumnsSortGroups=fl(e),this.addManagedPropertyListener("accentedSort",t=>this.isAccentedSort=t.currentValue),this.addManagedPropertyListener("autoGroupColumnDef",()=>this.primaryColumnsSortGroups=fl(e))}doFullSort(e,t){const i=e.map((n,s)=>({currentPos:s,rowNode:n}));return i.sort(this.compareRowNodes.bind(this,t)),i.map(n=>n.rowNode)}compareRowNodes(e,t,i){const n=t.rowNode,s=i.rowNode;for(let r=0,o=e.length;r<o;r++){const a=e[r],l=a.sort==="desc",u=this.getValue(n,a.column),d=this.getValue(s,a.column);let p;const f=this.getComparator(a,n);if(f?p=f(u,d,n,s,l):p=Qse(u,d,this.isAccentedSort),!isNaN(p)&&p!==0)return a.sort==="asc"?p:p*-1}return t.currentPos-i.currentPos}getComparator(e,t){const i=e.column,n=i.getColDef().comparator;if(n!=null)return n;if(!i.getColDef().showRowGroup)return;const s=!t.group&&i.getColDef().field;if(!s)return;const r=this.beans.colModel.getColDefCol(s);if(r)return r.getColDef().comparator}getValue(e,t){var a,l;const{valueSvc:i,colModel:n,showRowGroupCols:s,gos:r}=this.beans;if(!this.primaryColumnsSortGroups)return i.getValue(t,e,!1);if(e.rowGroupColumn===t){if(vL(r,n.isPivotActive())){const p=(a=e.allLeafChildren)==null?void 0:a[0];return p?i.getValue(t,p,!1):void 0}const d=s==null?void 0:s.getShowRowGroupCol(t.getId());return d?(l=e.groupData)==null?void 0:l[d.getId()]:void 0}if(!(e.group&&t.getColDef().showRowGroup))return i.getValue(t,e,!1)}};function ope(e){var t;(t=e.sortSvc)==null||t.onSortChanged("api")}function xy(e,t){return`<span data-ref="eSort${e}" class="ag-sort-indicator-icon ag-sort-${t} ag-hidden" aria-hidden="true"></span>`}var ape=`<span class="ag-sort-indicator-container">
        ${xy("Order","order")}
        ${xy("Asc","ascending-icon")}
        ${xy("Desc","descending-icon")}
        ${xy("Mixed","mixed-icon")}
        ${xy("None","none-icon")}
    </span>`,BL=class extends Xi{constructor(e){super(),this.eSortOrder=nt,this.eSortAsc=nt,this.eSortDesc=nt,this.eSortMixed=nt,this.eSortNone=nt,e||this.setTemplate(ape)}attachCustomElements(e,t,i,n,s){this.eSortOrder=e,this.eSortAsc=t,this.eSortDesc=i,this.eSortMixed=n,this.eSortNone=s}setupSort(e,t=!1){if(this.column=e,this.suppressOrder=t,this.setupMultiSortIndicator(),!e.isSortable()&&!e.getColDef().showRowGroup)return;this.addInIcon("sortAscending",this.eSortAsc,e),this.addInIcon("sortDescending",this.eSortDesc,e),this.addInIcon("sortUnSort",this.eSortNone,e);const i=this.updateIcons.bind(this),n=this.onSortChanged.bind(this);this.addManagedPropertyListener("unSortIcon",i),this.addManagedEventListeners({newColumnsLoaded:i,sortChanged:n,columnRowGroupChanged:n}),this.onSortChanged()}addInIcon(e,t,i){if(t==null)return;const n=_o(e,this.beans,i);n&&t.appendChild(n)}onSortChanged(){this.updateIcons(),this.suppressOrder||this.updateSortOrder()}updateIcons(){const{eSortAsc:e,eSortDesc:t,eSortNone:i,column:n,gos:s,beans:r}=this,o=r.sortSvc.getDisplaySortForColumn(n);if(e&&hn(e,o==="asc",{skipAriaHidden:!0}),t&&hn(t,o==="desc",{skipAriaHidden:!0}),i){const a=!n.getColDef().unSortIcon&&!s.get("unSortIcon"),l=o==null;hn(i,!a&&l,{skipAriaHidden:!0})}}setupMultiSortIndicator(){const{eSortMixed:e,column:t,gos:i}=this;this.addInIcon("sortUnSort",e,t);const n=t.getColDef().showRowGroup;fl(i)&&n&&(this.addManagedEventListeners({sortChanged:this.updateMultiSortIndicator.bind(this),columnRowGroupChanged:this.updateMultiSortIndicator.bind(this)}),this.updateMultiSortIndicator())}updateMultiSortIndicator(){const{eSortMixed:e,beans:t,column:i}=this;if(e){const n=t.sortSvc.getDisplaySortForColumn(i)==="mixed";hn(e,n,{skipAriaHidden:!0})}}updateSortOrder(){const{eSortOrder:e,column:t,beans:{sortSvc:i}}=this;if(!e)return;const n=i.getColumnsWithSortingOrdered(),s=i.getDisplaySortIndexForColumn(t)??-1,r=n.some(a=>i.getDisplaySortIndexForColumn(a)??!1),o=s>=0&&r;hn(e,o,{skipAriaHidden:!0}),s>=0?e.textContent=(s+1).toString():no(e)}},lpe={selector:"AG-SORT-INDICATOR",component:BL},_v=["asc","desc",null],cpe=class extends ye{constructor(){super(...arguments),this.beanName="sortSvc"}progressSort(e,t,i){const n=this.getNextSortDirection(e);this.setSortForColumn(e,n,t,i)}progressSortFromEvent(e,t){const n=this.gos.get("multiSortKey")==="ctrl"?t.ctrlKey||t.metaKey:t.shiftKey;this.progressSort(e,n,"uiColumnSorted")}setSortForColumn(e,t,i,n){var d;t!=="asc"&&t!=="desc"&&(t=null);const{gos:s,showRowGroupCols:r}=this.beans,o=fl(s);let a=[e];if(o&&e.getColDef().showRowGroup){const p=(d=r==null?void 0:r.getSourceColumnsForGroupColumn)==null?void 0:d.call(r,e),f=p==null?void 0:p.filter(m=>m.isSortable());f&&(a=[e,...f])}a.forEach(p=>this.setColSort(p,t,n));const l=(i||s.get("alwaysMultiSort"))&&!s.get("suppressMultiSort"),u=[];if(!l){const p=this.clearSortBarTheseColumns(a,n);u.push(...p)}this.updateSortIndex(e),u.push(...a),this.dispatchSortChangedEvents(n,u)}updateSortIndex(e){const{gos:t,colModel:i,showRowGroupCols:n}=this.beans,s=fl(t),r=n==null?void 0:n.getShowRowGroupCol(e.getId()),o=s&&r||e,a=this.getColumnsWithSortingOrdered();i.getAllCols().forEach(d=>this.setColSortIndex(d,null));const l=a.filter(d=>s&&d.getColDef().showRowGroup?!1:d!==o);(o.getSort()?[...l,o]:l).forEach((d,p)=>this.setColSortIndex(d,p))}onSortChanged(e,t){this.dispatchSortChangedEvents(e,t)}isSortActive(){const t=this.beans.colModel.getAllCols().filter(i=>!!i.getSort());return t&&t.length>0}dispatchSortChangedEvents(e,t){const i={type:"sortChanged",source:e};t&&(i.columns=t),this.eventSvc.dispatchEvent(i)}clearSortBarTheseColumns(e,t){const i=[];return this.beans.colModel.getAllCols().forEach(n=>{e.includes(n)||(n.getSort()&&i.push(n),this.setColSort(n,void 0,t))}),i}getNextSortDirection(e){const t=e.getColDef().sortingOrder??this.gos.get("sortingOrder")??_v,i=t.indexOf(e.getSort()),n=i<0,s=i==t.length-1;return n||s?t[0]:t[i+1]}getIndexedSortMap(){const{gos:e,colModel:t,showRowGroupCols:i,rowGroupColsSvc:n}=this.beans;let s=t.getAllCols().filter(u=>!!u.getSort());if(t.isPivotMode()){const u=fl(e);s=s.filter(d=>{const p=!!d.getAggFunc(),f=!d.isPrimary(),m=u?i==null?void 0:i.getShowRowGroupCol(d.getId()):d.getColDef().showRowGroup;return p||f||m})}const r=(n==null?void 0:n.columns.filter(u=>!!u.getSort()))??[],o={};s.forEach((u,d)=>o[u.getId()]=d),s.sort((u,d)=>{const p=u.getSortIndex(),f=d.getSortIndex();if(p!=null&&f!=null)return p-f;if(p==null&&f==null){const m=o[u.getId()],y=o[d.getId()];return m>y?1:-1}else return f==null?-1:1});const a=fl(e)&&!!r.length;a&&(s=[...new Set(s.map(u=>(i==null?void 0:i.getShowRowGroupCol(u.getId()))??u))]);const l=new Map;return s.forEach((u,d)=>l.set(u,d)),a&&r.forEach(u=>{const d=i.getShowRowGroupCol(u.getId());l.set(u,l.get(d))}),l}getColumnsWithSortingOrdered(){return[...this.getIndexedSortMap().entries()].sort(([e,t],[i,n])=>t-n).map(([e])=>e)}getSortModel(){return this.getColumnsWithSortingOrdered().filter(e=>e.getSort()).map(e=>({sort:e.getSort(),colId:e.getId()}))}getSortOptions(){return this.getColumnsWithSortingOrdered().filter(e=>e.getSort()).map(e=>({sort:e.getSort(),column:e}))}canColumnDisplayMixedSort(e){const t=fl(this.gos),i=!!e.getColDef().showRowGroup;return t&&i}getDisplaySortForColumn(e){var o;const t=(o=this.beans.showRowGroupCols)==null?void 0:o.getSourceColumnsForGroupColumn(e);if(!this.canColumnDisplayMixedSort(e)||!(t!=null&&t.length))return e.getSort();const n=e.getColDef().field!=null||!!e.getColDef().valueGetter?[e,...t]:t,s=n[0].getSort();return n.every(a=>a.getSort()==s)?s:"mixed"}getDisplaySortIndexForColumn(e){return this.getIndexedSortMap().get(e)}setupHeader(e,t,i){let n=0;e.addManagedListeners(t,{movingChanged:()=>{n=new Date().getTime()}}),i&&e.addManagedElementListeners(i,{click:r=>{const o=t.isMoving(),l=new Date().getTime()-n<50;o||l||this.progressSortFromEvent(t,r)}});const s=()=>{var o;const r=t.getSort();if(e.addOrRemoveCssClass("ag-header-cell-sorted-asc",r==="asc"),e.addOrRemoveCssClass("ag-header-cell-sorted-desc",r==="desc"),e.addOrRemoveCssClass("ag-header-cell-sorted-none",!r),t.getColDef().showRowGroup){const a=(o=this.beans.showRowGroupCols)==null?void 0:o.getSourceColumnsForGroupColumn(t),u=!(a==null?void 0:a.every(d=>t.getSort()==d.getSort()));e.addOrRemoveCssClass("ag-header-cell-sorted-mixed",u)}};e.addManagedEventListeners({sortChanged:s,columnRowGroupChanged:s})}initCol(e){const{sort:t,initialSort:i,sortIndex:n,initialSortIndex:s}=e.colDef;t!==void 0?(t==="asc"||t==="desc")&&(e.sort=t):(i==="asc"||i==="desc")&&(e.sort=i),n!==void 0?n!==null&&(e.sortIndex=n):s!==null&&(e.sortIndex=s)}updateColSort(e,t,i){t!==void 0&&(t==="desc"||t==="asc"?this.setColSort(e,t,i):this.setColSort(e,void 0,i))}setColSort(e,t,i){e.sort!==t&&(e.sort=t,e.dispatchColEvent("sortChanged",i)),e.dispatchStateUpdatedEvent("sort")}setColSortIndex(e,t){e.sortIndex=t,e.dispatchStateUpdatedEvent("sortIndex")}createSortIndicator(e){return new BL(e)}getSortIndicatorSelector(){return lpe}},FV={moduleName:"Sort",version:Ge,beans:[cpe,rpe],apiFunctions:{onSortChanged:ope},userComponents:{agSortIndicator:BL},icons:{sortAscending:"asc",sortDescending:"desc",sortUnSort:"none"}},upe=class extends ye{constructor(){super(...arguments),this.beanName="syncSvc",this.waitingForColumns=!1}postConstruct(){this.addManagedPropertyListener("columnDefs",e=>this.setColumnDefs(e))}start(){this.beans.ctrlsSvc.whenReady(this,()=>{const e=this.gos.get("columnDefs");e?this.setColumnsAndData(e):this.waitingForColumns=!0,this.gridReady()})}setColumnsAndData(e){const{colModel:t,rowModel:i}=this.beans;t.setColumnDefs(e??[],"gridInitializing"),i.start()}gridReady(){const{eventSvc:e,gos:t}=this;e.dispatchEvent({type:"gridReady"}),Jh(t,`initialised successfully, enterprise = ${t.isModuleRegistered("EnterpriseCore")}`)}setColumnDefs(e){const t=this.gos.get("columnDefs");if(t){if(this.waitingForColumns){this.waitingForColumns=!1,this.setColumnsAndData(t);return}this.beans.colModel.setColumnDefs(t,Vf(e.source))}}};function dpe(e){var t;(t=e.valueCache)==null||t.expire()}function hpe(e,t){const{colKey:i,rowNode:n,useFormatter:s}=t,r=e.colModel.getColDefCol(i)??e.colModel.getCol(i);if(qi(r))return null;const o=e.valueSvc.getValueForDisplay(r,n);return s?e.valueSvc.formatValue(r,n,o)??xc(o,!0):o}var PS=class{constructor(e,t){this.active=!0,this.nodeIdsToColumns={},this.mapToItems={},this.keepingColumns=e,this.pathRoot={rowNode:t,children:null},this.mapToItems[t.id]=this.pathRoot}depthFirstSearchChangedPath(e,t){const{rowNode:i,children:n}=e;if(n)for(let s=0;s<n.length;++s)this.depthFirstSearchChangedPath(n[s],t);t(i)}depthFirstSearchEverything(e,t,i){const n=e.childrenAfterGroup;if(n)for(let s=0,r=n.length;s<r;++s){const o=n[s];o.childrenAfterGroup?this.depthFirstSearchEverything(o,t,i):i&&t(o)}t(e)}forEachChangedNodeDepthFirst(e,t=!1,i=!1){this.active&&!i?this.depthFirstSearchChangedPath(this.pathRoot,e):this.depthFirstSearchEverything(this.pathRoot.rowNode,e,t)}executeFromRootNode(e){e(this.pathRoot.rowNode)}createPathItems(e){let t=e,i=0;for(;!this.mapToItems[t.id];){const n={rowNode:t,children:null};this.mapToItems[t.id]=n,i++,t=t.parent}return i}populateColumnsMap(e,t){if(!this.keepingColumns||!t)return;let i=e;for(;i;)this.nodeIdsToColumns[i.id]||(this.nodeIdsToColumns[i.id]={}),t.forEach(n=>this.nodeIdsToColumns[i.id][n.getId()]=!0),i=i.parent}linkPathItems(e,t){let i=e;for(let n=0;n<t;n++){const s=this.mapToItems[i.id],r=this.mapToItems[i.parent.id];r.children||(r.children=[]),r.children.push(s),i=i.parent}}addParentNode(e,t){if(!e||e.isRowPinned())return;const i=this.createPathItems(e);this.linkPathItems(e,i),this.populateColumnsMap(e,t)}canSkip(e){return this.active&&!this.mapToItems[e.id]}getValueColumnsForNode(e,t){if(!this.keepingColumns)return t;const i=this.nodeIdsToColumns[e.id];return t.filter(s=>i[s.getId()])}getNotValueColumnsForNode(e,t){if(!this.keepingColumns)return null;const i=this.nodeIdsToColumns[e.id];return t.filter(s=>!i[s.getId()])}},ppe="paste",fpe=class extends ye{constructor(){super(...arguments),this.beanName="changeDetectionSvc",this.clientSideRowModel=null}postConstruct(){const{gos:e,rowModel:t}=this.beans;$s(e)&&(this.clientSideRowModel=t),this.addManagedEventListeners({cellValueChanged:this.onCellValueChanged.bind(this)})}onCellValueChanged(e){const{gos:t,rowRenderer:i}=this.beans;if(e.source===ppe||t.get("suppressChangeDetection"))return;const n=e.node,s=[n],r=this.clientSideRowModel,o=r==null?void 0:r.rootNode;if(o&&!n.isRowPinned()){const a=t.get("aggregateOnlyChangedColumns"),l=new PS(a,o);l.addParentNode(n.parent,[e.column]),r.doAggregate(l),l.forEachChangedNodeDepthFirst(u=>{s.push(u)})}i.refreshCells({rowNodes:s})}},gpe=class extends ye{constructor(){super(...arguments),this.beanName="expressionSvc",this.cache={}}evaluate(e,t){if(typeof e=="string")return this.evaluateExpression(e,t);wi(15,{expression:e})}evaluateExpression(e,t){try{return this.createExpressionFunction(e)(t.value,t.context,t.oldValue,t.newValue,t.value,t.node,t.data,t.colDef,t.rowIndex,t.api,t.getValue,t.column,t.columnGroup)}catch(i){return wi(16,{expression:e,params:t,e:i}),null}}createExpressionFunction(e){const t=this.cache;if(t[e])return t[e];const i=this.createFunctionBody(e),n=new Function("x, ctx, oldValue, newValue, value, node, data, colDef, rowIndex, api, getValue, column, columnGroup",i);return t[e]=n,n}createFunctionBody(e){return e.indexOf("return")>=0?e:"return "+e+";"}},mpe=class extends ye{constructor(){super(...arguments),this.beanName="valueCache",this.cacheVersion=0}postConstruct(){const e=this.gos;this.active=e.get("valueCache"),this.neverExpires=e.get("valueCacheNeverExpires")}onDataChanged(){this.neverExpires||this.expire()}expire(){this.cacheVersion++}setValue(e,t,i){if(this.active){const n=this.cacheVersion;e.__cacheVersion!==n&&(e.__cacheVersion=n,e.__cacheData={}),e.__cacheData[t]=i}}getValue(e,t){if(!(!this.active||e.__cacheVersion!==this.cacheVersion))return e.__cacheData[t]}},ype={moduleName:"ValueCache",version:Ge,beans:[mpe],apiFunctions:{expireValueCache:dpe}},vpe={moduleName:"Expression",version:Ge,beans:[gpe]},Cpe={moduleName:"ChangeDetection",version:Ge,beans:[fpe]},bpe={moduleName:"CellApi",version:Ge,apiFunctions:{getCellValue:hpe}},wpe=class extends ye{constructor(){super(...arguments),this.beanName="valueSvc",this.initialised=!1,this.isSsrm=!1}wireBeans(e){this.expressionSvc=e.expressionSvc,this.colModel=e.colModel,this.valueCache=e.valueCache,this.dataTypeSvc=e.dataTypeSvc}postConstruct(){this.initialised||this.init()}init(){this.executeValueGetter=this.valueCache?this.executeValueGetterWithValueCache.bind(this):this.executeValueGetterWithoutValueCache.bind(this),this.isSsrm=yp(this.gos),this.cellExpressions=this.gos.get("enableCellExpressions"),this.isTreeData=this.gos.get("treeData"),this.initialised=!0;const e=t=>this.callColumnCellValueChangedHandler(t);this.eventSvc.addEventListener("cellValueChanged",e,!0),this.addDestroyFunc(()=>this.eventSvc.removeEventListener("cellValueChanged",e,!0)),this.addManagedPropertyListener("treeData",t=>this.isTreeData=t.currentValue)}getValueForDisplay(e,t){const i=t.leafGroup&&this.colModel.isPivotMode(),n=t.group&&t.expanded&&!t.footer&&!i,s=this.gos.get("groupSuppressBlankHeader");if(!n||s)return this.getValue(e,t);let r=!1;const o=this.gos.get("groupTotalRow");typeof o!="function"?r=!!o:r=!!this.gos.getCallback("groupTotalRow")({node:this});const a=n&&r;return this.getValue(e,t,a)}getValue(e,t,i=!1){if(this.initialised||this.init(),!t)return;const n=e.getColDef(),s=n.field,r=e.getColId(),o=t.data;let a;const l=t.groupData&&t.groupData[r]!==void 0,u=!i&&t.aggData&&t.aggData[r]!==void 0,d=this.isSsrm&&i&&!!e.getColDef().aggFunc,p=this.isSsrm&&t.footer&&t.field&&(e.getColDef().showRowGroup===!0||e.getColDef().showRowGroup===t.field);if(this.isTreeData&&u?a=t.aggData[r]:this.isTreeData&&n.valueGetter?a=this.executeValueGetter(n.valueGetter,o,e,t):this.isTreeData&&s&&o?a=iv(o,s,e.isFieldContainsDots()):l?a=t.groupData[r]:u?a=t.aggData[r]:n.valueGetter?a=this.executeValueGetter(n.valueGetter,o,e,t):p?a=iv(o,t.field,e.isFieldContainsDots()):s&&o&&!d&&(a=iv(o,s,e.isFieldContainsDots())),this.cellExpressions&&typeof a=="string"&&a.indexOf("=")===0){const f=a.substring(1);a=this.executeValueGetter(f,o,e,t)}if(a==null){const f=this.getOpenedGroup(t,e);if(f!=null)return f}return a}parseValue(e,t,i,n){var o;const s=e.getColDef(),r=s.valueParser;if(Ne(r)){const a=ut(this.gos,{node:t,data:t==null?void 0:t.data,oldValue:n,newValue:i,colDef:s,column:e});return typeof r=="function"?r(a):(o=this.expressionSvc)==null?void 0:o.evaluate(r,a)}return i}getDeleteValue(e,t){return Ne(e.getColDef().valueParser)?this.parseValue(e,t,"",this.getValueForDisplay(e,t))??null:null}formatValue(e,t,i,n,s=!0){let r=null,o;const a=e.getColDef();if(n?o=n:s&&(o=a.valueFormatter),o){const l=ut(this.gos,{value:i,node:t,data:t?t.data:null,colDef:a,column:e});typeof o=="function"?r=o(l):r=this.expressionSvc?this.expressionSvc.evaluate(o,l):null}else if(a.refData)return a.refData[i]||"";return r==null&&Array.isArray(i)&&(r=i.join(", ")),r}getOpenedGroup(e,t){if(!this.gos.get("showOpenedGroup")||!t.getColDef().showRowGroup)return;const n=t.getColDef().showRowGroup;let s=e.parent;for(;s!=null;){if(s.rowGroupColumn&&(n===!0||n===s.rowGroupColumn.getColId()))return s.key;s=s.parent}}setValue(e,t,i,n){var d,p;const s=this.colModel.getColDefCol(t);if(!e||!s)return!1;qi(e.data)&&(e.data={});const{field:r,valueSetter:o}=s.getColDef();if(qi(r)&&qi(o))return Ae(17),!1;if(this.dataTypeSvc&&!this.dataTypeSvc.checkType(s,i))return Ae(135),!1;const a=ut(this.gos,{node:e,data:e.data,oldValue:this.getValue(s,e),newValue:i,colDef:s.getColDef(),column:s});a.newValue=i;let l;if(Ne(o)?typeof o=="function"?l=o(a):l=(d=this.expressionSvc)==null?void 0:d.evaluate(o,a):l=this.setValueUsingField(e.data,r,i,s.isFieldContainsDots()),l===void 0&&(l=!0),!l)return!1;e.resetQuickFilterAggregateText(),(p=this.valueCache)==null||p.onDataChanged();const u=this.getValue(s,e);return this.eventSvc.dispatchEvent({type:"cellValueChanged",event:null,rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:a.column,colDef:a.colDef,data:e.data,node:e,oldValue:a.oldValue,newValue:u,value:u,source:n}),!0}callColumnCellValueChangedHandler(e){const t=e.colDef.onCellValueChanged;typeof t=="function"&&this.beans.frameworkOverrides.wrapOutgoing(()=>{t({node:e.node,data:e.data,oldValue:e.oldValue,newValue:e.newValue,colDef:e.colDef,column:e.column,api:e.api,context:e.context})})}setValueUsingField(e,t,i,n){if(!t)return!1;let s=!1;if(!n)s=e[t]===i,s||(e[t]=i);else{const r=t.split(".");let o=e;for(;r.length>0&&o;){const a=r.shift();r.length===0?(s=o[a]===i,s||(o[a]=i)):o=o[a]}}return!s}executeValueGetterWithValueCache(e,t,i,n){const s=i.getColId(),r=this.valueCache.getValue(n,s);if(r!==void 0)return r;const o=this.executeValueGetterWithoutValueCache(e,t,i,n);return this.valueCache.setValue(n,s,o),o}executeValueGetterWithoutValueCache(e,t,i,n){var o;const s=ut(this.gos,{data:t,node:n,column:i,colDef:i.getColDef(),getValue:this.getValueCallback.bind(this,n)});let r;return typeof e=="function"?r=e(s):r=(o=this.expressionSvc)==null?void 0:o.evaluate(e,s),r}getValueCallback(e,t){const i=this.colModel.getColDefCol(t);return i?this.getValue(i,e):null}getKeyForNode(e,t){const i=this.getValue(e,t),n=e.getColDef().keyCreator;let s=i;if(n){const r=ut(this.gos,{value:i,colDef:e.getColDef(),column:e,node:t,data:t.data});s=n(r)}return typeof s=="string"||s==null||(s=String(s),s==="[object Object]"&&Ae(121)),s}},Spe={moduleName:"CommunityCore",version:Ge,beans:[vhe,uce,ede,soe,tpe,gue,hhe,She,toe,_he,Hhe,npe,wpe,mhe,dhe,yhe,ide,upe,que,Zue],icons:{selectOpen:"small-down",smallDown:"small-down",colorPicker:"color-picker",smallUp:"small-up",checkboxChecked:"small-up",checkboxIndeterminate:"checkbox-indeterminate",checkboxUnchecked:"checkbox-unchecked",radioButtonOn:"radio-button-on",radioButtonOff:"radio-button-off",smallLeft:"small-left",smallRight:"small-right"},apiFunctions:{getGridId:dce,destroy:hce,isDestroyed:pce,getGridOption:fce,setGridOption:gce,updateGridOptions:sV},dependsOn:[Uue,Yce,eue,FV,Rhe,yue,Ehe,epe,Cpe,The,Ghe,Uhe,Yhe,Ihe,Jue,$ue,vpe]},zL=class uh{static applyGlobalGridOptions(t){if(!uh.gridOptions)return{...t};let i={};return Fr(i,uh.gridOptions,!0,!0),uh.mergeStrategy==="deep"?Fr(i,t,!0,!0):i={...i,...t},uh.gridOptions.context&&(i.context=uh.gridOptions.context),t.context&&(uh.mergeStrategy==="deep"&&i.context&&Fr(t.context,i.context,!0,!0),i.context=t.context),i}};zL.gridOptions=void 0;zL.mergeStrategy="shallow";var OV=zL;function xpe(e){var t;return(t=OV.gridOptions)==null?void 0:t[e]}var Mpe=1,Dpe=class{create(e,t,i,n,s,r){const o=OV.applyGlobalGridOptions(t),a=o.gridId??String(Mpe++),l=o.rowModelType??"clientSide",u=this.getRegisteredModules(s,a,l),d=this.createBeansList(l,u,a),p=this.createProvidedBeans(e,o,s);if(!d)return;const f={providedBeanInstances:p,beanClasses:d,gridId:a,beanInitComparator:oce,beanDestroyComparator:ace,derivedBeans:[sce],destroyCallback:r},m=new Xoe(f);return this.registerModuleFeatures(m,u),i(m),m.getBean("syncSvc").start(),n&&n(m),m.getBean("gridApi")}getRegisteredModules(e,t,i){var n;return Gv(Spe,void 0),(n=e==null?void 0:e.modules)==null||n.forEach(s=>Gv(s,t)),Uoe(t,i)}registerModuleFeatures(e,t){const i=e.getBean("registry"),n=e.getBean("apiFunctionSvc");t.forEach(s=>{i.registerModule(s);const r=s.apiFunctions;r&&Object.keys(r).forEach(a=>{n==null||n.addFunction(a,r[a])})})}createProvidedBeans(e,t,i){let n=i?i.frameworkOverrides:null;qi(n)&&(n=new iV);const s={gridOptions:t,eGridDiv:e,globalListener:i?i.globalListener:null,globalSyncListener:i?i.globalSyncListener:null,frameworkOverrides:n};return i&&i.providedBeanInstances&&Object.assign(s,i.providedBeanInstances),s}createBeansList(e,t,i){const s={clientSide:"ClientSideRowModel",infinite:"InfiniteRowModel",serverSide:"ServerSideRowModel",viewport:"ViewportRowModel"}[e];if(!s){jT(201,{rowModelType:e},`Unknown rowModelType ${e}.`);return}if(!Tj(s,i,e)){jT(200,{reasonOrId:`rowModelType = '${e}'`,moduleName:s,gridScoped:SL(),gridId:i,rowModelType:e},`Missing module ${s}Module for rowModelType ${e}. 
If upgrading from before v33, see ${Oh}/upgrading-to-ag-grid-33/#changes-to-modules/`);return}const r=new Set;return t.forEach(o=>{var a;return(a=o.beans)==null?void 0:a.forEach(l=>r.add(l))}),Array.from(r)}};function Ol(e){const t=e.rowModel;return t.getType()==="clientSide"?t:void 0}function Jx(e){const t=e.rowModel;return t.getType()==="infinite"?t:void 0}function NV(e){const t=e.rowModel;return t.getType()==="serverSide"?t:void 0}var Rpe=["columnEverythingChanged","newColumnsLoaded","columnPivotModeChanged","pivotMaxColumnsExceeded","columnRowGroupChanged","expandOrCollapseAll","columnPivotChanged","gridColumnsChanged","columnValueChanged","columnMoved","columnVisible","columnPinned","columnGroupOpened","columnResized","displayedColumnsChanged","virtualColumnsChanged","columnHeaderMouseOver","columnHeaderMouseLeave","columnHeaderClicked","columnHeaderContextMenu","asyncTransactionsFlushed","rowGroupOpened","rowDataUpdated","pinnedRowDataChanged","rangeSelectionChanged","cellSelectionChanged","chartCreated","chartRangeSelectionChanged","chartOptionsChanged","chartDestroyed","toolPanelVisibleChanged","toolPanelSizeChanged","modelUpdated","cutStart","cutEnd","pasteStart","pasteEnd","fillStart","fillEnd","cellSelectionDeleteStart","cellSelectionDeleteEnd","rangeDeleteStart","rangeDeleteEnd","undoStarted","undoEnded","redoStarted","redoEnded","cellClicked","cellDoubleClicked","cellMouseDown","cellContextMenu","cellValueChanged","cellEditRequest","rowValueChanged","headerFocused","cellFocused","rowSelected","selectionChanged","tooltipShow","tooltipHide","cellKeyDown","cellMouseOver","cellMouseOut","filterChanged","filterModified","filterOpened","advancedFilterBuilderVisibleChanged","sortChanged","virtualRowRemoved","rowClicked","rowDoubleClicked","gridReady","gridPreDestroyed","gridSizeChanged","viewportChanged","firstDataRendered","dragStarted","dragStopped","dragCancelled","rowEditingStarted","rowEditingStopped","cellEditingStarted","cellEditingStopped","bodyScroll","bodyScrollEnd","paginationChanged","componentStateChanged","storeRefreshed","stateUpdated","columnMenuVisibleChanged","contextMenuVisibleChanged","rowDragEnter","rowDragMove","rowDragLeave","rowDragEnd","rowDragCancel"],Epe=["scrollbarWidthChanged","keyShortcutChangedCellStart","keyShortcutChangedCellEnd","pinnedHeightChanged","cellFocusCleared","fullWidthRowFocused","checkboxChanged","heightScaleChanged","suppressMovableColumns","suppressMenuHide","suppressFieldDotNotation","columnPanelItemDragStart","columnPanelItemDragEnd","bodyHeightChanged","columnContainerWidthChanged","displayedColumnsWidthChanged","scrollVisibilityChanged","scrollGapChanged","columnHoverChanged","flashCells","paginationPixelOffsetChanged","displayedRowsChanged","leftPinnedWidthChanged","rightPinnedWidthChanged","rowContainerHeightChanged","headerHeightChanged","columnGroupHeaderHeightChanged","columnHeaderHeightChanged","gridStylesChanged","storeUpdated","filterDestroyed","rowDataUpdateStarted","rowCountReady","advancedFilterEnabledChanged","dataTypesInferred","fieldValueChanged","fieldPickerValueSelected","richSelectListRowSelected","sideBarUpdated","alignedGridScroll","alignedGridColumn","gridOptionsChanged","chartTitleEdit","recalculateRowBounds","stickyTopOffsetChanged","overlayExclusiveChanged","beforeRefreshModel"],Tpe=[...Rpe,...Epe],Ape=class extends ye{constructor(){super(...arguments),this.beanName="localeSvc"}getLocaleTextFunc(){const e=this.gos,t=e.getCallback("getLocaleText");if(t)return(n,s,r)=>t({key:n,defaultValue:s,variableValues:r});const i=e.get("localeText");return(n,s,r)=>{let o=i&&i[n];if(o&&r&&r.length){let a=0;for(;!(a>=r.length||o.indexOf("${variable}")===-1);)o=o.replace("${variable}",r[a++])}return o??s}}},Ipe=["overlayLoadingTemplate","overlayNoRowsTemplate","gridId","quickFilterText","rowModelType","editType","domLayout","clipboardDelimiter","rowGroupPanelShow","multiSortKey","pivotColumnGroupTotals","pivotRowTotals","pivotPanelShow","fillHandleDirection","groupDisplayType","treeDataDisplayType","treeDataChildrenField","colResizeDefault","tooltipTrigger","serverSidePivotResultFieldSeparator","columnMenu","tooltipShowMode","grandTotalRow","themeCssLayer"],Lpe=["components","rowStyle","context","autoGroupColumnDef","localeText","icons","datasource","dragAndDropImageComponentParams","serverSideDatasource","viewportDatasource","groupRowRendererParams","aggFuncs","fullWidthCellRendererParams","defaultColGroupDef","defaultColDef","defaultCsvExportParams","defaultExcelExportParams","columnTypes","rowClassRules","detailCellRendererParams","loadingCellRendererParams","loadingOverlayComponentParams","noRowsOverlayComponentParams","popupParent","themeStyleContainer","statusBar","chartThemeOverrides","customChartThemes","chartToolPanelsDef","dataTypeDefinitions","advancedFilterParent","advancedFilterBuilderParams","initialState","autoSizeStrategy","selectionColumnDef"],kpe=["sortingOrder","alignedGrids","rowData","columnDefs","excelStyles","pinnedTopRowData","pinnedBottomRowData","chartThemes","rowClass","paginationPageSizeSelector"],BV=["rowHeight","detailRowHeight","rowBuffer","headerHeight","groupHeaderHeight","groupLockGroupColumns","floatingFiltersHeight","pivotHeaderHeight","pivotGroupHeaderHeight","groupDefaultExpanded","pivotDefaultExpanded","viewportRowModelPageSize","viewportRowModelBufferSize","autoSizePadding","maxBlocksInCache","maxConcurrentDatasourceRequests","tooltipShowDelay","tooltipHideDelay","cacheOverflowSize","paginationPageSize","cacheBlockSize","infiniteInitialRowCount","serverSideInitialRowCount","scrollbarWidth","asyncTransactionWaitMillis","blockLoadDebounceMillis","keepDetailRowsCount","undoRedoCellEditingLimit","cellFlashDuration","cellFadeDuration","tabIndex","pivotMaxGeneratedColumns"],Ppe=["theme","rowSelection"],Fpe=["cellSelection","sideBar","rowNumbers","suppressGroupChangesColumnVisibility","groupAggFiltering","suppressStickyTotalRow","groupHideParentOfSingleChild"],zV=["loadThemeGoogleFonts","suppressMakeColumnVisibleAfterUnGroup","suppressRowClickSelection","suppressCellFocus","suppressHeaderFocus","suppressHorizontalScroll","groupSelectsChildren","alwaysShowHorizontalScroll","alwaysShowVerticalScroll","debug","enableBrowserTooltips","enableCellExpressions","groupSuppressBlankHeader","suppressMenuHide","suppressRowDeselection","unSortIcon","suppressMultiSort","alwaysMultiSort","singleClickEdit","suppressLoadingOverlay","suppressNoRowsOverlay","suppressAutoSize","skipHeaderOnAutoSize","suppressColumnMoveAnimation","suppressMoveWhenColumnDragging","suppressMovableColumns","suppressFieldDotNotation","enableRangeSelection","enableRangeHandle","enableFillHandle","suppressClearOnFillReduction","deltaSort","suppressTouch","allowContextMenuWithControlKey","suppressContextMenu","suppressDragLeaveHidesColumns","suppressRowGroupHidesColumns","suppressMiddleClickScrolls","suppressPreventDefaultOnMouseWheel","suppressCopyRowsToClipboard","copyHeadersToClipboard","copyGroupHeadersToClipboard","pivotMode","suppressAggFuncInHeader","suppressColumnVirtualisation","alwaysAggregateAtRootLevel","suppressFocusAfterRefresh","functionsReadOnly","animateRows","groupSelectsFiltered","groupRemoveSingleChildren","groupRemoveLowestSingleChildren","enableRtl","enableCellSpan","suppressClickEdit","rowDragEntireRow","rowDragManaged","suppressRowDrag","suppressMoveWhenRowDragging","rowDragMultiRow","enableGroupEdit","embedFullWidthRows","suppressPaginationPanel","groupHideOpenParents","groupAllowUnbalanced","pagination","paginationAutoPageSize","suppressScrollOnNewData","suppressScrollWhenPopupsAreOpen","purgeClosedRowNodes","cacheQuickFilter","includeHiddenColumnsInQuickFilter","ensureDomOrder","accentedSort","suppressChangeDetection","valueCache","valueCacheNeverExpires","aggregateOnlyChangedColumns","suppressAnimationFrame","suppressExcelExport","suppressCsvExport","includeHiddenColumnsInAdvancedFilter","suppressMultiRangeSelection","enterNavigatesVerticallyAfterEdit","enterNavigatesVertically","suppressPropertyNamesCheck","rowMultiSelectWithClick","suppressRowHoverHighlight","suppressRowTransform","suppressClipboardPaste","suppressLastEmptyLineOnPaste","enableCharts","suppressMaintainUnsortedOrder","enableCellTextSelection","suppressBrowserResizeObserver","suppressMaxRenderedRowRestriction","excludeChildrenWhenTreeDataFiltering","tooltipMouseTrack","tooltipInteraction","keepDetailRows","paginateChildRows","preventDefaultOnContextMenu","undoRedoCellEditing","allowDragFromColumnsToolPanel","pivotSuppressAutoColumn","suppressExpandablePivotGroups","debounceVerticalScrollbar","detailRowAutoHeight","serverSideSortAllLevels","serverSideEnableClientSideSort","serverSideOnlyRefreshFilteredGroups","suppressAggFilteredOnly","showOpenedGroup","suppressClipboardApi","suppressModelUpdateAfterUpdateTransaction","stopEditingWhenCellsLoseFocus","groupMaintainOrder","columnHoverHighlight","readOnlyEdit","suppressRowVirtualisation","enableCellEditingOnBackspace","resetRowDataOnUpdate","removePivotHeaderRowWhenSingleValueColumn","suppressCopySingleCellRanges","suppressGroupRowsSticky","suppressCutToClipboard","rowGroupPanelSuppressSort","allowShowChangeAfterFilter","enableAdvancedFilter","masterDetail","treeData","reactiveCustomComponents","applyQuickFilterBeforePivotOrAgg","suppressServerSideFullWidthLoadingRow","suppressAdvancedFilterEval","loading","maintainColumnOrder","enableStrictPivotColumnOrder","suppressSetFilterByDefault"],Ope=["doesExternalFilterPass","processPivotResultColDef","processPivotResultColGroupDef","getBusinessKeyForNode","isRowSelectable","rowDragText","groupRowRenderer","dragAndDropImageComponent","fullWidthCellRenderer","loadingCellRenderer","loadingOverlayComponent","noRowsOverlayComponent","detailCellRenderer","quickFilterParser","quickFilterMatcher","getLocaleText","isExternalFilterPresent","getRowHeight","getRowClass","getRowStyle","getContextMenuItems","getMainMenuItems","processRowPostCreate","processCellForClipboard","getGroupRowAgg","isFullWidthRow","sendToClipboard","focusGridInnerElement","navigateToNextHeader","tabToNextHeader","navigateToNextCell","tabToNextCell","processCellFromClipboard","getDocument","postProcessPopup","getChildCount","getDataPath","isRowMaster","postSortRows","processHeaderForClipboard","processUnpinnedColumns","processGroupHeaderForClipboard","paginationNumberFormatter","processDataFromClipboard","getServerSideGroupKey","isServerSideGroup","createChartContainer","getChartToolbarItems","fillOperation","isApplyServerSideTransaction","getServerSideGroupLevelParams","isServerSideGroupOpenByDefault","isGroupOpenByDefault","initialGroupOrderComparator","loadingCellRendererSelector","getRowId","chartMenuItems","groupTotalRow","alwaysPassFilter"],Npe=[...kpe,...Lpe,...Ipe,...BV,...Ope,...zV,...Fpe,...Ppe],Bpe=class{wrap(e,t,i,n){const s=this.createWrapper(e,n);return t==null||t.forEach(r=>{this.createMethod(s,r,!0)}),i==null||i.forEach(r=>{this.createMethod(s,r,!1)}),s}createMethod(e,t,i){e.addMethod(t,this.createMethodProxy(e,t,i))}createMethodProxy(e,t,i){return function(){return e.hasMethod(t)?e.callMethod(t,arguments):(i&&Ae(49,{methodName:t}),null)}}},zpe=class extends jg{constructor(){super('<div class="ag-tooltip"></div>')}init(e){const{value:t}=e;this.getGui().textContent=xc(t,!0)}};function GV(e){const{inputValue:t,allSuggestions:i,hideIrrelevant:n,filterByPercentageOfBestMatch:s,addSequentialWeight:r}=e;let o=i.map((u,d)=>({value:u,relevance:Hpe(t.toLowerCase(),u.toLocaleLowerCase(),r),idx:d}));if(o.sort((u,d)=>d.relevance-u.relevance),n&&(o=o.filter(u=>u.relevance!==0)),o.length>0&&s&&s>0){const d=o[0].relevance*s;o=o.filter(p=>d-p.relevance<0)}const a=[],l=[];for(const u of o)a.push(u.value),l.push(u.idx);return{values:a,indices:l}}function Gpe(e){const t=[],i=e.length;for(let n=1;n<=i;n++)for(let s=0;s<=i-n;s++){const r=s+n-1;t.push(e.slice(s,r+1))}return t}function Hpe(e,t,i=!1){const n=e.replace(/\s/g,""),s=t.replace(/\s/g,""),r=n.length,o=s.length,a=new Array(r+1).fill(null).map(()=>new Array(o+1).fill(0));for(let p=0;p<=r;p+=1)a[p][0]=p;for(let p=0;p<=o;p+=1)a[0][p]=p;for(let p=1;p<=r;p++)for(let f=1;f<=o;f++)n[p-1]===s[f-1]?a[p][f]=a[p-1][f-1]:a[p][f]=1+Math.min(a[p][f-1],Math.min(a[p-1][f],a[p-1][f-1]));const l=a[r][o];let d=Math.max(r,o)-l;if(i){const p=Gpe(n);for(let f=0;f<p.length;f++){const m=p[f];s.indexOf(m)!==-1&&(d+=1,d*=m.length)}}return d}function _pe(e,t){if(typeof e!="number")return"";const i=t(),n=i("thousandSeparator",","),s=i("decimalSeparator",".");return e.toString().replace(".",s).replace(/(\d)(?=(\d{3})+(?!\d))/g,`$1${n}`)}var jpe=class extends ye{getFileName(e){const t=this.getDefaultFileExtension();return(e==null||!e.length)&&(e=this.getDefaultFileName()),e.indexOf(".")===-1?`${e}.${t}`:e}getData(e){const t=this.createSerializingSession(e);return this.beans.gridSerializer.serialize(t,e)}getDefaultFileName(){return`export.${this.getDefaultFileExtension()}`}},Vpe=class{constructor(e){this.groupColumns=[];const{colModel:t,rowGroupColsSvc:i,colNames:n,valueSvc:s,gos:r,processCellCallback:o,processHeaderCallback:a,processGroupHeaderCallback:l,processRowGroupCallback:u}=e;this.colModel=t,this.rowGroupColsSvc=i,this.colNames=n,this.valueSvc=s,this.gos=r,this.processCellCallback=o,this.processHeaderCallback=a,this.processGroupHeaderCallback=l,this.processRowGroupCallback=u}prepare(e){this.groupColumns=e.filter(t=>!!t.getColDef().showRowGroup)}extractHeaderValue(e){return this.getHeaderName(this.processHeaderCallback,e)??""}extractRowCellValue(e,t,i,n,s){const o=(!this.gos.get("groupHideOpenParents")||s.footer)&&this.shouldRenderGroupSummaryCell(s,e,t)?this.createValueForGroupNode(e,s):this.valueSvc.getValue(e,s);return this.processCell({accumulatedRowIndex:i,rowNode:s,column:e,value:o,processCellCallback:this.processCellCallback,type:n})}shouldRenderGroupSummaryCell(e,t,i){var o,a;if(!(e.group&&!this.gos.get("treeData")))return!1;if(this.groupColumns.indexOf(t)!==-1){if(((o=e.groupData)==null?void 0:o[t.getId()])!==void 0||yp(this.gos)&&e.group)return!0;if(e.footer&&e.level===-1){const l=t.getColDef();return l==null||l.showRowGroup===!0||l.showRowGroup===((a=this.rowGroupColsSvc)==null?void 0:a.columns[0].getId())}}const r=vL(this.gos,this.colModel.isPivotMode());return i===0&&r}getHeaderName(e,t){return e?e(ut(this.gos,{column:t})):this.colNames.getDisplayNameForColumn(t,"csv",!0)}createValueForGroupNode(e,t){if(this.processRowGroupCallback)return this.processRowGroupCallback(ut(this.gos,{column:e,node:t}));const i=this.gos.get("treeData"),n=a=>{var u;if(i)return a.key;const l=(u=a.groupData)==null?void 0:u[e.getId()];return!l||!a.rowGroupColumn||a.rowGroupColumn.getColDef().useValueFormatterForExport===!1?l:this.valueSvc.formatValue(a.rowGroupColumn,a,l)??l},s=t.footer,r=[n(t)];if(!hre(this.gos))for(;t.parent;)t=t.parent,r.push(n(t));const o=r.reverse().join(" -> ");return s?`Total ${o}`:o}processCell(e){const{accumulatedRowIndex:t,rowNode:i,column:n,value:s,processCellCallback:r,type:o}=e;return r?{value:r(ut(this.gos,{accumulatedRowIndex:t,column:n,node:i,value:s,type:o,parseValue:a=>this.valueSvc.parseValue(n,i,a,this.valueSvc.getValue(n,i)),formatValue:a=>this.valueSvc.formatValue(n,i,a)??a}))??""}:n.getColDef().useValueFormatterForExport!==!1?{value:s??"",valueFormatted:this.valueSvc.formatValue(n,i,s)}:{value:s??""}}};function Wpe(e,t){const i=document.defaultView||window;if(!i){Ae(52);return}const n=document.createElement("a"),s=i.URL.createObjectURL(t);n.setAttribute("href",s),n.setAttribute("download",e),n.style.display="none",document.body.appendChild(n),n.dispatchEvent(new MouseEvent("click",{bubbles:!1,cancelable:!0,view:i})),document.body.removeChild(n),i.setTimeout(()=>{i.URL.revokeObjectURL(s)},0)}var Upe={enableBrowserTooltips:!0,tooltipTrigger:!0,tooltipMouseTrack:!0,tooltipShowMode:!0,tooltipInteraction:!0,defaultColGroupDef:!0,suppressAutoSize:!0,skipHeaderOnAutoSize:!0,autoSizeStrategy:!0,components:!0,stopEditingWhenCellsLoseFocus:!0,undoRedoCellEditing:!0,undoRedoCellEditingLimit:!0,excelStyles:!0,cacheQuickFilter:!0,customChartThemes:!0,chartThemeOverrides:!0,chartToolPanelsDef:!0,loadingCellRendererSelector:!0,localeText:!0,keepDetailRows:!0,keepDetailRowsCount:!0,detailRowHeight:!0,detailRowAutoHeight:!0,tabIndex:!0,valueCache:!0,valueCacheNeverExpires:!0,enableCellExpressions:!0,suppressTouch:!0,suppressBrowserResizeObserver:!0,suppressPropertyNamesCheck:!0,debug:!0,dragAndDropImageComponent:!0,loadingOverlayComponent:!0,suppressLoadingOverlay:!0,noRowsOverlayComponent:!0,paginationPageSizeSelector:!0,paginateChildRows:!0,pivotPanelShow:!0,pivotSuppressAutoColumn:!0,suppressExpandablePivotGroups:!0,aggFuncs:!0,allowShowChangeAfterFilter:!0,ensureDomOrder:!0,enableRtl:!0,suppressColumnVirtualisation:!0,suppressMaxRenderedRowRestriction:!0,suppressRowVirtualisation:!0,rowDragText:!0,groupLockGroupColumns:!0,suppressGroupRowsSticky:!0,rowModelType:!0,cacheOverflowSize:!0,infiniteInitialRowCount:!0,serverSideInitialRowCount:!0,maxBlocksInCache:!0,maxConcurrentDatasourceRequests:!0,blockLoadDebounceMillis:!0,serverSideOnlyRefreshFilteredGroups:!0,serverSidePivotResultFieldSeparator:!0,viewportRowModelPageSize:!0,viewportRowModelBufferSize:!0,debounceVerticalScrollbar:!0,suppressAnimationFrame:!0,suppressPreventDefaultOnMouseWheel:!0,scrollbarWidth:!0,icons:!0,suppressRowTransform:!0,gridId:!0,enableGroupEdit:!0,initialState:!0,processUnpinnedColumns:!0,createChartContainer:!0,getLocaleText:!0,getRowId:!0,reactiveCustomComponents:!0,columnMenu:!0,suppressSetFilterByDefault:!0,getDataPath:!0,enableCellSpan:!0},Sr="clientSide",sr="serverSide",yf="infinite",$pe={onGroupExpandedOrCollapsed:[Sr],refreshClientSideRowModel:[Sr],isRowDataEmpty:[Sr],forEachLeafNode:[Sr],forEachNodeAfterFilter:[Sr],forEachNodeAfterFilterAndSort:[Sr],resetRowHeights:[Sr],applyTransaction:[Sr],applyTransactionAsync:[Sr],flushAsyncTransactions:[Sr],getBestCostNodeSelection:[Sr],getServerSideSelectionState:[sr],setServerSideSelectionState:[sr],applyServerSideTransaction:[sr],applyServerSideTransactionAsync:[sr],applyServerSideRowData:[sr],retryServerSideLoads:[sr],flushServerSideAsyncTransactions:[sr],refreshServerSide:[sr],getServerSideGroupLevelState:[sr],refreshInfiniteCache:[yf],purgeInfiniteCache:[yf],getInfiniteRowCount:[yf],isLastRowIndexKnown:[yf,sr],expandAll:[Sr,sr],collapseAll:[Sr,sr],onRowHeightChanged:[Sr,sr],setRowCount:[yf,sr],getCacheBlockState:[yf,sr]},Ype={showLoadingOverlay:{version:"v32",message:'`showLoadingOverlay` is deprecated. Use the grid option "loading"=true instead or setGridOption("loading", true).'},clearRangeSelection:{version:"v32.2",message:"Use `clearCellSelection` instead."},getInfiniteRowCount:{version:"v32.2",old:"getInfiniteRowCount()",new:"getDisplayedRowCount()"},selectAllFiltered:{version:"v33",old:"selectAllFiltered()",new:'selectAll("filtered")'},deselectAllFiltered:{version:"v33",old:"deselectAllFiltered()",new:'deselectAll("filtered")'},selectAllOnCurrentPage:{version:"v33",old:"selectAllOnCurrentPage()",new:'selectAll("currentPage")'},deselectAllOnCurrentPage:{version:"v33",old:"deselectAllOnCurrentPage()",new:'deselectAll("currentPage")'}};function Kpe(e,t,i){const n=Ype[e];if(n){const{version:r,new:o,old:a,message:l}=n,u=a??e;return(...d)=>{const p=o?`Please use ${o} instead. `:"";return tv(`Since ${r} api.${u} is deprecated. ${p}${l??""}`),t.apply(t,d)}}const s=$pe[e];return s?(...r)=>{const o=i.rowModel.getType();if(!s.includes(o)){Hf(`api.${e} can only be called when gridOptions.rowModelType is ${s.join(" or ")}`);return}return t.apply(t,r)}:t}var HV={AdvancedFilter:1,AllEnterprise:1,CellSelection:1,Clipboard:1,ColumnMenu:1,ColumnsToolPanel:1,ContextMenu:1,ExcelExport:1,FiltersToolPanel:1,GridCharts:1,IntegratedCharts:1,GroupFilter:1,MasterDetail:1,Menu:1,MultiFilter:1,Pivot:1,RangeSelection:1,RichSelect:1,RowNumbers:1,RowGrouping:1,RowGroupingPanel:1,ServerSideRowModelApi:1,ServerSideRowModel:1,SetFilter:1,SideBar:1,Sparklines:1,StatusBar:1,TreeData:1,ViewportRowModel:1},d1=["TextFilter","NumberFilter","DateFilter","SetFilter","MultiFilter","GroupFilter","CustomFilter"],qpe={EditCore:["TextEditor","NumberEditor","DateEditor","CheckboxEditor","LargeTextEditor","SelectEditor","RichSelect","CustomEditor"],CheckboxCellRenderer:["AllCommunity"],ClientSideRowModelHierarchy:["RowGrouping","Pivot","TreeData"],ColumnFilter:d1,ColumnGroupHeaderComp:["AllCommunity"],ColumnGroup:["AllCommunity"],ColumnHeaderComp:["AllCommunity"],ColumnMove:["AllCommunity"],ColumnResize:["AllCommunity"],CommunityCore:["AllCommunity"],CsrmSsrmSharedApi:["ClientSideRowModelApi","ServerSideRowModelApi"],EnterpriseCore:["AllEnterprise"],FilterCore:[...d1,"QuickFilter","ExternalFilter","AdvancedFilter"],GroupCellRenderer:["RowGrouping","Pivot","TreeData","MasterDetail","ServerSideRowModel"],KeyboardNavigation:["AllCommunity"],LoadingCellRenderer:["ServerSideRowModel"],MenuCore:["ColumnMenu","ContextMenu"],MenuItem:["ColumnMenu","ContextMenu","MultiFilter","IntegratedCharts","ColumnsToolPanel"],Overlay:["AllCommunity"],PinnedColumn:["AllCommunity"],SharedAggregation:["RowGrouping","Pivot","TreeData","ServerSideRowModel"],SharedDragAndDrop:["AllCommunity"],SharedMasterDetail:["MasterDetail","ServerSideRowModel"],SharedMenu:[...d1,"ColumnMenu","ContextMenu"],SharedPivot:["Pivot","ServerSideRowModel"],SharedRowGrouping:["RowGrouping","ServerSideRowModel"],SharedRowSelection:["RowSelection","ServerSideRowModel"],SkeletonCellRenderer:["ServerSideRowModel"],Sort:["AllCommunity"],SsrmInfiniteSharedApi:["InfiniteRowModel","ServerSideRowModelApi"],SharedTreeData:["TreeData","ServerSideRowModel"]},Zpe={InfiniteRowModel:"infinite",ClientSideRowModelApi:"clientSide",ClientSideRowModel:"clientSide",ServerSideRowModelApi:"serverSide",ServerSideRowModel:"serverSide",ViewportRowModel:"viewport"};function Xpe(e,t){const i=[];return(Array.isArray(e)?e:[e]).forEach(n=>{const s=qpe[n];s?s.forEach(r=>{const o=Zpe[r];(!o||o===t)&&i.push(r)}):i.push(n)}),i}var $f={agSetColumnFilter:"SetFilter",agSetColumnFloatingFilter:"SetFilter",agMultiColumnFilter:"MultiFilter",agMultiColumnFloatingFilter:"MultiFilter",agGroupColumnFilter:"GroupFilter",agGroupColumnFloatingFilter:"GroupFilter",agGroupCellRenderer:"GroupCellRenderer",agGroupRowRenderer:"GroupCellRenderer",agRichSelect:"RichSelect",agRichSelectCellEditor:"RichSelect",agDetailCellRenderer:"SharedMasterDetail",agSparklineCellRenderer:"Sparklines",agDragAndDropImage:"SharedDragAndDrop",agColumnHeader:"ColumnHeaderComp",agColumnGroupHeader:"ColumnGroupHeaderComp",agSortIndicator:"Sort",agAnimateShowChangeCellRenderer:"HighlightChanges",agAnimateSlideCellRenderer:"HighlightChanges",agLoadingCellRenderer:"LoadingCellRenderer",agSkeletonCellRenderer:"SkeletonCellRenderer",agCheckboxCellRenderer:"CheckboxCellRenderer",agLoadingOverlay:"Overlay",agNoRowsOverlay:"Overlay",agTooltipComponent:"Tooltip",agReadOnlyFloatingFilter:"CustomFilter",agTextColumnFilter:"TextFilter",agNumberColumnFilter:"NumberFilter",agDateColumnFilter:"DateFilter",agDateInput:"DateFilter",agTextColumnFloatingFilter:"TextFilter",agNumberColumnFloatingFilter:"NumberFilter",agDateColumnFloatingFilter:"DateFilter",agCellEditor:"TextEditor",agSelectCellEditor:"SelectEditor",agTextCellEditor:"TextEditor",agNumberCellEditor:"NumberEditor",agDateCellEditor:"DateEditor",agDateStringCellEditor:"DateEditor",agCheckboxCellEditor:"CheckboxEditor",agLargeTextCellEditor:"LargeTextEditor",agMenuItem:"MenuItem",agColumnsToolPanel:"ColumnsToolPanel",agFiltersToolPanel:"FiltersToolPanel",agAggregationComponent:"StatusBar",agSelectedRowCountComponent:"StatusBar",agTotalRowCountComponent:"StatusBar",agFilteredRowCountComponent:"StatusBar",agTotalAndFilteredRowCountComponent:"StatusBar"},Qpe=e=>{const t=e.map(n=>`import { ${ov(n)} } from '${HV[n]?"ag-grid-enterprise":"ag-grid-community"}';`);return e.some(n=>n==="IntegratedCharts"||n==="Sparklines")&&t.push("import { AgChartsEnterpriseModule } from 'ag-charts-enterprise';"),`import { ModuleRegistry } from 'ag-grid-community'; 
${t.join(` 
`)} 

ModuleRegistry.registerModules([ ${e.map(n=>ov(n,!0)).join(", ")} ]); 

For more info see: ${Oh}/modules/`};function ov(e,t=!1){return t&&(e==="IntegratedCharts"||e==="Sparklines")?`${e}Module.with(AgChartsEnterpriseModule)`:`${e}Module`}function Jpe(e,t){const i=t.filter(r=>r==="IntegratedCharts"||r==="Sparklines");let n="";return!(globalThis==null?void 0:globalThis.agCharts)&&i.length>0?n=`Unable to use ${e} as either the ag-charts-community or ag-charts-enterprise script needs to be included alongside ag-grid-enterprise.
`:t.some(r=>HV[r])&&(n=n+`Unable to use ${e} as that requires the ag-grid-enterprise script to be included.
`),n}var sz=({reasonOrId:e,moduleName:t,gridScoped:i,gridId:n,rowModelType:s,additionalText:r,isUmd:o})=>{const a=Xpe(t,s),l=typeof e=="string"?e:nfe[e];if(o)return Jpe(l,a);const u=a.filter(f=>f==="IntegratedCharts"||f==="Sparklines"),d=u.length>0?`${u.map(f=>ov(f)).join()} must be initialised with an AG Charts module. One of 'AgChartsCommunityModule' / 'AgChartsEnterpriseModule'.`:"";return`${`Unable to use ${l} as ${a.length>1?"one of "+a.map(f=>ov(f)).join(", "):ov(a[0])} is not registered${i?" for gridId: "+n:""}. ${d} Check if you have registered the module:
`}
${Qpe(a)}`+(r?` 

${r}`:"")},rz=e=>`${e} must be initialised with an AG Charts module. One of 'AgChartsCommunityModule' / 'AgChartsEnterpriseModule'.

import { AgChartsEnterpriseModule } from 'ag-charts-enterprise';
import { ModuleRegistry } from 'ag-grid-community';
import { ${e} } from 'ag-grid-enterprise';
    
ModuleRegistry.registerModules([${e}.with(AgChartsEnterpriseModule)]);
    `,efe=e=>`AG Grid: Unable to use the Clipboard API (navigator.clipboard.${e}()). The reason why it could not be used has been logged in the previous line. For this reason the grid has defaulted to using a workaround which doesn't perform as well. Either fix why Clipboard API is blocked, OR stop this message from appearing by setting grid property suppressClipboardApi=true (which will default the grid to using the workaround rather than the API.`,tfe={1:()=>"`rowData` must be an array",2:({nodeId:e})=>`Duplicate node id '${e}' detected from getRowId callback, this could cause issues in your grid.`,3:()=>"Calling gridApi.resetRowHeights() makes no sense when using Auto Row Height.",4:({id:e})=>`Could not find row id=${e}, data item was not found for this id`,5:({data:e})=>["Could not find data item as object was not found.",e," Consider using getRowId to help the Grid find matching row data"],6:()=>"'groupHideOpenParents' only works when specifying specific columns for 'colDef.showRowGroup'",7:()=>"Pivoting is not supported with aligned grids as it may produce different columns in each grid.",8:({key:e})=>`Unknown key for navigation ${e}`,9:({variable:e})=>`No value for ${e==null?void 0:e.cssName}. This usually means that the grid has been initialised before styles have been loaded. The default value of ${e==null?void 0:e.defaultValue} will be used and updated when styles load.`,10:({eventType:e})=>`As of v33, the '${e}' event is deprecated. Use the global 'modelUpdated' event to determine when row children have changed.`,11:()=>"No gridOptions provided to createGrid",12:({colKey:e})=>["column ",e," not found"],13:()=>"Could not find rowIndex, this means tasks are being executed on a rowNode that has been removed from the grid.",14:({groupPrefix:e})=>`Row IDs cannot start with ${e}, this is a reserved prefix for AG Grid's row grouping feature.`,15:({expression:e})=>["value should be either a string or a function",e],16:({expression:e,params:t,e:i})=>["Processing of the expression failed","Expression = ",e,"Params = ",t,"Exception = ",i],17:()=>"you need either field or valueSetter set on colDef for editing to work",18:()=>"alignedGrids contains an undefined option.",19:()=>"alignedGrids - No api found on the linked grid.",20:()=>`You may want to configure via a callback to avoid setup race conditions:
                     "alignedGrids: () => [linkedGrid]"`,21:()=>"pivoting is not supported with aligned grids. You can only use one of these features at a time in a grid.",22:({key:e})=>`${e} is an initial property and cannot be updated.`,23:()=>"The return of `getRowHeight` cannot be zero. If the intention is to hide rows, use a filter instead.",24:()=>"row height must be a number if not using standard row model",25:({id:e})=>["The getRowId callback must return a string. The ID ",e," is being cast to a string."],26:({fnName:e,preDestroyLink:t})=>`Grid API function ${e}() cannot be called as the grid has been destroyed.
 Either clear local references to the grid api, when it is destroyed, or check gridApi.isDestroyed() to avoid calling methods against a destroyed grid.
 To run logic when the grid is about to be destroyed use the gridPreDestroy event. See: ${t}`,27:({fnName:e,module:t})=>`API function '${e}' not registered to module '${t}'`,28:()=>"setRowCount cannot be used while using row grouping.",29:()=>"tried to call sizeColumnsToFit() but the grid is coming back with zero width, maybe the grid is not visible yet on the screen?",30:({toIndex:e})=>["tried to insert columns in invalid location, toIndex = ",e,"remember that you should not count the moving columns when calculating the new index"],31:()=>"infinite loop in resizeColumnSets",32:()=>"applyColumnState() - the state attribute should be an array, however an array was not found. Please provide an array of items (one for each col you want to change) for state.",33:()=>"stateItem.aggFunc must be a string. if using your own aggregation functions, register the functions first before using them in get/set state. This is because it is intended for the column state to be stored and retrieved as simple JSON.",34:({key:e})=>`the column type '${e}' is a default column type and cannot be overridden.`,35:()=>"Column type definitions 'columnTypes' with a 'type' attribute are not supported because a column type cannot refer to another column type. Only column definitions 'columnDefs' can use the 'type' attribute to refer to a column type.",36:({t:e})=>"colDef.type '"+e+"' does not correspond to defined gridOptions.columnTypes",37:()=>"Changing the column pinning status is not allowed with domLayout='print'",38:({iconName:e})=>`provided icon '${e}' needs to be a string or a function`,39:()=>"Applying column order broke a group where columns should be married together. Applying new order has been discarded.",40:({e,method:t})=>`${e}
${efe(t)}`,41:()=>"Browser did not allow document.execCommand('copy'). Ensure 'api.copySelectedRowsToClipboard() is invoked via a user event, i.e. button click, otherwise the browser will prevent it for security reasons.",42:()=>"Browser does not support document.execCommand('copy') for clipboard operations",43:({iconName:e})=>`As of v33, icon '${e}' is deprecated. Use the icon CSS name instead.`,44:()=>'Data type definition hierarchies (via the "extendsDataType" property) cannot contain circular references.',45:({parentCellDataType:e})=>`The data type definition ${e} does not exist.`,46:()=>'The "baseDataType" property of a data type definition must match that of its parent.',47:({cellDataType:e})=>`Missing data type definition - "${e}"`,48:({property:e})=>`Cell data type is "object" but no Value ${e} has been provided. Please either provide an object data type definition with a Value ${e}, or set "colDef.value${e}"`,49:({methodName:e})=>`Framework component is missing the method ${e}()`,50:({compName:e})=>`Could not find component ${e}, did you forget to configure this component?`,51:()=>"Export cancelled. Export is not allowed as per your configuration.",52:()=>"There is no `window` associated with the current `document`",53:()=>"unknown value type during csv conversion",54:()=>"Could not find document body, it is needed for drag and drop and context menu.",55:()=>"addRowDropZone - A container target needs to be provided",56:()=>"addRowDropZone - target already exists in the list of DropZones. Use `removeRowDropZone` before adding it again.",57:()=>"unable to show popup filter, filter instantiation failed",58:()=>"no values found for select cellEditor",59:()=>"cannot select pinned rows",60:()=>"cannot select node until it has finished loading",61:()=>"since version v32.2.0, rowNode.isFullWidthCell() has been deprecated. Instead check `rowNode.detail` followed by the user provided `isFullWidthRow` grid option.",62:({colId:e})=>`setFilterModel() - no column found for colId: ${e}`,63:({colId:e})=>`setFilterModel() - unable to fully apply model, filtering disabled for colId: ${e}`,64:({colId:e})=>`setFilterModel() - unable to fully apply model, unable to create filter for colId: ${e}`,65:()=>"filter missing setModel method, which is needed for setFilterModel",66:()=>"filter API missing getModel method, which is needed for getFilterModel",67:()=>"Filter is missing isFilterActive() method",68:()=>"Column Filter API methods have been disabled as Advanced Filters are enabled.",69:({guiFromFilter:e})=>`getGui method from filter returned ${e}; it should be a DOM element.`,70:({newFilter:e})=>`Grid option quickFilterText only supports string inputs, received: ${typeof e}`,71:()=>"debounceMs is ignored when apply button is present",72:({keys:e})=>["ignoring FilterOptionDef as it doesn't contain one of ",e],73:()=>"invalid FilterOptionDef supplied as it doesn't contain a 'displayKey'",74:()=>"no filter options for filter",75:()=>"Unknown button type specified",76:({filterModelType:e})=>['Unexpected type of filter "',e,'", it looks like the filter was configured with incorrect Filter Options'],77:()=>"Filter model is missing 'conditions'",78:()=>'Filter Model contains more conditions than "filterParams.maxNumConditions". Additional conditions have been ignored.',79:()=>'"filterParams.maxNumConditions" must be greater than or equal to zero.',80:()=>'"filterParams.numAlwaysVisibleConditions" must be greater than or equal to zero.',81:()=>'"filterParams.numAlwaysVisibleConditions" cannot be greater than "filterParams.maxNumConditions".',82:({param:e})=>`DateFilter ${e} is not a number`,83:()=>"DateFilter minValidYear should be <= maxValidYear",84:()=>"DateFilter minValidDate should be <= maxValidDate",85:()=>"DateFilter should not have both minValidDate and minValidYear parameters set at the same time! minValidYear will be ignored.",86:()=>"DateFilter should not have both maxValidDate and maxValidYear parameters set at the same time! maxValidYear will be ignored.",87:()=>"DateFilter parameter minValidDate should always be lower than or equal to parameter maxValidDate.",88:({index:e})=>`Invalid row index for ensureIndexVisible: ${e}`,89:()=>"A template was provided for Header Group Comp - templates are only supported for Header Comps (not groups)",90:()=>"datasource is missing getRows method",91:()=>"Filter is missing method doesFilterPass",92:({methodName:e})=>`AnimationFrameService.${e} called but animation frames are off`,93:()=>"cannot add multiple ranges when `cellSelection.suppressMultiRanges = true`",94:({paginationPageSizeOption:e,pageSizeSet:t,pageSizesSet:i,pageSizeOptions:n})=>`'paginationPageSize=${e}'${t?"":" (default value)"}, but ${e} is not included in${i?"":" the default"} paginationPageSizeSelector=[${n==null?void 0:n.join(", ")}].`,95:({paginationPageSizeOption:e,paginationPageSizeSelector:t})=>`Either set '${t}' to an array that includes ${e} or to 'false' to disable the page size selector.`,96:({id:e,data:t})=>["Duplicate ID",e,"found for pinned row with data",t,"When `getRowId` is defined, it must return unique IDs for all pinned rows. Use the `rowPinned` parameter."],97:({colId:e})=>`cellEditor for column ${e} is missing getGui() method`,98:()=>"popup cellEditor does not work with fullRowEdit - you cannot use them both - either turn off fullRowEdit, or stop using popup editors.",99:()=>"Since v32, `api.hideOverlay()` does not hide the loading overlay when `loading=true`. Set `loading=false` instead.",100:({rowModelType:e})=>`selectAll only available when rowModelType='clientSide', ie not ${e}`,101:({propertyName:e,componentName:t,agGridDefaults:i,jsComps:n})=>{const s=[],r=[...Object.keys(i??[]).filter(a=>!["agCellEditor","agGroupRowRenderer","agSortIndicator"].includes(a)),...Object.keys(n??[])],o=GV({inputValue:t,allSuggestions:r,hideIrrelevant:!0,filterByPercentageOfBestMatch:.8}).values;return s.push(`Could not find '${t}' component. It was configured as "${e}: '${t}'" but it wasn't found in the list of registered components.
`),o.length>0&&s.push(`         Did you mean: [${o.slice(0,3)}]?
`),s.push("If using a custom component check it has been registered correctly."),s},102:()=>"selectAll: 'filtered' only works when gridOptions.rowModelType='clientSide'",103:()=>"Invalid selection state. When using client-side row model, the state must conform to `string[]`.",104:({value:e,param:t})=>`Numeric value ${e} passed to ${t} param will be interpreted as ${e} seconds. If this is intentional use "${e}s" to silence this warning.`,105:({e})=>["chart rendering failed",e],106:()=>`Theming API and Legacy Themes are both used in the same page. A Theming API theme has been provided to the 'theme' grid option, but the file (ag-grid.css) is also included and will cause styling issues. Remove ag-grid.css from the page. See the migration guide: ${Oh}/theming-migration/`,107:({key:e,value:t})=>`Invalid value for theme param ${e} - ${t}`,108:({e})=>["chart update failed",e],109:({aggFuncOrString:e})=>`unrecognised aggregation function ${e}`,110:()=>"groupHideOpenParents only works when specifying specific columns for colDef.showRowGroup",111:()=>"Invalid selection state. When `groupSelects` is enabled, the state must conform to `IServerSideGroupSelectionState`.",113:()=>"Set Filter cannot initialise because you are using a row model that does not contain all rows in the browser. Either use a different filter type, or configure Set Filter such that you provide it with values",114:({component:e})=>`Could not find component with name of ${e}. Is it in Vue.components?`,116:()=>"Invalid selection state. The state must conform to `IServerSideSelectionState`.",117:()=>"selectAll must be of boolean type.",118:()=>"Infinite scrolling must be enabled in order to set the row count.",119:()=>"Unable to instantiate filter",120:()=>"MultiFloatingFilterComp expects MultiFilter as its parent",121:()=>"a column you are grouping or pivoting by has objects as values. If you want to group by complex objects then either a) use a colDef.keyCreator (see AG Grid docs) or b) to toString() on the object to return a key",122:()=>"could not find the document, document is empty",123:()=>"Advanced Filter is only supported with the Client-Side Row Model or Server-Side Row Model.",124:()=>"No active charts to update.",125:({chartId:e})=>`Unable to update chart. No active chart found with ID: ${e}.`,126:()=>"unable to restore chart as no chart model is provided",127:({allRange:e})=>`unable to create chart as ${e?"there are no columns in the grid":"no range is selected"}.`,128:({feature:e})=>`${e} is only available if using 'multiRow' selection mode.`,129:({feature:e,rowModel:t})=>`${e} is only available if using 'clientSide' or 'serverSide' rowModelType, you are using ${t}.`,130:()=>'cannot multi select unless selection mode is "multiRow"',132:()=>"Row selection features are not available unless `rowSelection` is enabled.",133:({iconName:e})=>`icon '${e}' function should return back a string or a dom object`,134:({iconName:e})=>`Did not find icon '${e}'`,135:()=>"Data type of the new value does not match the cell data type of the column",136:()=>"Unable to update chart as the 'type' is missing. It must be either 'rangeChartUpdate', 'pivotChartUpdate', or 'crossFilterChartUpdate'.",137:({type:e,currentChartType:t})=>`Unable to update chart as a '${e}' update type is not permitted on a ${t}.`,138:({chartType:e})=>`invalid chart type supplied: ${e}`,139:({customThemeName:e})=>`a custom chart theme with the name ${e} has been supplied but not added to the 'chartThemes' list`,140:({name:e})=>`no stock theme exists with the name '${e}' and no custom chart theme with that name was supplied to 'customChartThemes'`,141:()=>"cross filtering with row grouping is not supported.",142:()=>"cross filtering is only supported in the client side row model.",143:({panel:e})=>`'${e}' is not a valid Chart Tool Panel name`,144:({type:e})=>`Invalid charts data panel group name supplied: '${e}'`,145:({group:e})=>`As of v32, only one charts customize panel group can be expanded at a time. '${e}' will not be expanded.`,146:({comp:e})=>`Unable to instantiate component '${e}' as its module hasn't been loaded. Add 'ValidationModule' to see which module is required.`,147:({group:e})=>`Invalid charts customize panel group name supplied: '${e}'`,148:({group:e})=>`invalid chartGroupsDef config '${e}'`,149:({group:e,chartType:t})=>`invalid chartGroupsDef config '${e}.${t}'`,150:()=>"'seriesChartTypes' are required when the 'customCombo' chart type is specified.",151:({chartType:e})=>`invalid chartType '${e}' supplied in 'seriesChartTypes', converting to 'line' instead.`,152:({colId:e})=>`no 'seriesChartType' found for colId = '${e}', defaulting to 'line'.`,153:({chartDataType:e})=>`unexpected chartDataType value '${e}' supplied, instead use 'category', 'series' or 'excluded'`,154:({colId:e})=>`cross filtering requires a 'agSetColumnFilter' or 'agMultiColumnFilter' to be defined on the column with id: ${e}`,155:({option:e})=>`'${e}' is not a valid Chart Toolbar Option`,156:({panel:e})=>`Invalid panel in chartToolPanelsDef.panels: '${e}'`,157:({unrecognisedGroupIds:e})=>["unable to find group(s) for supplied groupIds:",e],158:()=>"can not expand a column item that does not represent a column group header",159:()=>"Invalid params supplied to createExcelFileForExcel() - `ExcelExportParams.data` is empty.",160:()=>"Export cancelled. Export is not allowed as per your configuration.",161:()=>"The Excel Exporter is currently on Multi Sheet mode. End that operation by calling 'api.getMultipleSheetAsExcel()' or 'api.exportMultipleSheetsAsExcel()'",162:({id:e,dataType:t})=>`Unrecognized data type for excel export [${e}.dataType=${t}]`,163:({featureName:e})=>`Excel table export does not work with ${e}. The exported Excel file will not contain any Excel tables.
 Please turn off ${e} to enable Excel table exports.`,164:()=>"Unable to add data table to Excel sheet: A table already exists.",165:()=>"Unable to add data table to Excel sheet: Missing required parameters.",166:({unrecognisedGroupIds:e})=>["unable to find groups for these supplied groupIds:",e],167:({unrecognisedColIds:e})=>["unable to find columns for these supplied colIds:",e],168:()=>"detailCellRendererParams.template should be function or string",169:()=>'Reference to eDetailGrid was missing from the details template. Please add data-ref="eDetailGrid" to the template.',170:({providedStrategy:e})=>`invalid cellRendererParams.refreshStrategy = ${e} supplied, defaulting to refreshStrategy = 'rows'.`,171:()=>"could not find detail grid options for master detail, please set gridOptions.detailCellRendererParams.detailGridOptions",172:()=>"could not find getDetailRowData for master / detail, please set gridOptions.detailCellRendererParams.getDetailRowData",173:({group:e})=>`invalid chartGroupsDef config '${e}'`,174:({group:e,chartType:t})=>`invalid chartGroupsDef config '${e}.${t}'`,175:({menuTabName:e,itemsToConsider:t})=>[`Trying to render an invalid menu item '${e}'. Check that your 'menuTabs' contains one of `,t],176:({key:e})=>`unknown menu item type ${e}`,177:()=>"valid values for cellSelection.handle.direction are 'x', 'y' and 'xy'. Default to 'xy'.",178:({colId:e})=>`column ${e} is not visible`,179:()=>"totalValueGetter should be either a function or a string (expression)",180:()=>"agRichSelectCellEditor requires cellEditorParams.values to be set",181:()=>"agRichSelectCellEditor cannot have `multiSelect` and `allowTyping` set to `true`. AllowTyping has been turned off.",182:()=>'you cannot mix groupDisplayType = "multipleColumns" with treeData, only one column can be used to display groups when doing tree data',183:()=>"Group Column Filter only works on group columns. Please use a different filter.",184:({parentGroupData:e,childNodeData:t})=>["duplicate group keys for row data, keys should be unique",[e,t]],185:({data:e})=>["getDataPath() should not return an empty path",[e]],186:({rowId:e,rowData:t,duplicateRowsData:i})=>["duplicate group keys for row data, keys should be unique",e,t,...i??[]],187:({rowId:e,firstData:t,secondData:i})=>[`Duplicate node id ${e}. Row IDs are provided via the getRowId() callback. Please modify the getRowId() callback code to provide unique row id values.`,"first instance",t,"second instance",i],188:()=>"getRowId callback must be provided for Server Side Row Model selection to work correctly.",189:({startRow:e})=>`invalid value ${e} for startRow, the value should be >= 0`,190:({rowGroupId:e,data:t})=>["null and undefined values are not allowed for server side row model keys",e?`column = ${e}`:"","data is ",t],194:({method:e})=>`calling gridApi.${e}() is only possible when using rowModelType=\`clientSide\`.`,195:({justCurrentPage:e})=>`selecting just ${e?"current page":"filtered"} only works when gridOptions.rowModelType='clientSide'`,196:({key:e})=>`Provided ids must be of string type. Invalid id provided: ${e}`,197:()=>"`toggledNodes` must be an array of string ids.",199:()=>"getSelectedNodes and getSelectedRows functions cannot be used with select all functionality with the server-side row model. Use `api.getServerSideSelectionState()` instead.",200:sz,201:({rowModelType:e})=>`Could not find row model for rowModelType = ${e}`,202:()=>"`getSelectedNodes` and `getSelectedRows` functions cannot be used with `groupSelectsChildren` and the server-side row model. Use `api.getServerSideSelectionState()` instead.",203:()=>"Server Side Row Model does not support Dynamic Row Height and Cache Purging. Either a) remove getRowHeight() callback or b) remove maxBlocksInCache property. Purging has been disabled.",204:()=>"Server Side Row Model does not support Auto Row Height and Cache Purging. Either a) remove colDef.autoHeight or b) remove maxBlocksInCache property. Purging has been disabled.",205:({duplicateIdText:e})=>`Unable to display rows as duplicate row ids (${e}) were returned by the getRowId callback. Please modify the getRowId callback to provide unique ids.`,206:()=>"getRowId callback must be implemented for transactions to work. Transaction was ignored.",207:()=>'The Set Filter Parameter "defaultToNothingSelected" value was ignored because it does not work when "excelMode" is used.',208:()=>"Set Filter Value Formatter must return string values. Please ensure the Set Filter Value Formatter returns string values for complex objects.",209:()=>`Set Filter Key Creator is returning null for provided values and provided values are primitives. Please provide complex objects. See ${Oh}/filter-set-filter-list/#filter-value-types`,210:()=>"Set Filter has a Key Creator, but provided values are primitives. Did you mean to provide complex objects?",211:()=>"property treeList=true for Set Filter params, but you did not provide a treeListPathGetter or values of type Date.",212:()=>"please review all your toolPanel components, it seems like at least one of them doesn't have an id",213:()=>"Advanced Filter does not work with Filters Tool Panel. Filters Tool Panel has been disabled.",214:({key:e})=>`unable to lookup Tool Panel as invalid key supplied: ${e}`,215:({key:e,defaultByKey:t})=>`the key ${e} is not a valid key for specifying a tool panel, valid keys are: ${Object.keys(t??{}).join(",")}`,216:({name:e})=>`Missing component for '${e}'`,217:({invalidColIds:e})=>["unable to find grid columns for the supplied colDef(s):",e],218:({property:e,defaultOffset:t})=>`${e} must be a number, the value you provided is not a valid number. Using the default of ${t}px.`,219:({property:e})=>`Property ${e} does not exist on the target object.`,220:({lineDash:e})=>`'${e}' is not a valid 'lineDash' option.`,221:()=>"agAggregationComponent should only be used with the client and server side row model.",222:()=>"agFilteredRowCountComponent should only be used with the client side row model.",223:()=>"agSelectedRowCountComponent should only be used with the client and server side row model.",224:()=>"agTotalAndFilteredRowCountComponent should only be used with the client side row model.",225:()=>"agTotalRowCountComponent should only be used with the client side row model.",226:()=>"viewport is missing init method.",227:()=>"menu item icon must be DOM node or string",228:({menuItemOrString:e})=>`unrecognised menu item ${e}`,229:({index:e})=>["invalid row index for ensureIndexVisible: ",e],230:()=>"detailCellRendererParams.template is not supported by AG Grid React. To change the template, provide a Custom Detail Cell Renderer. See https://www.ag-grid.com/react-data-grid/master-detail-custom-detail/",231:()=>"As of v32, using custom components with `reactiveCustomComponents = false` is deprecated.",232:()=>"Using both rowData and v-model. rowData will be ignored.",233:({methodName:e})=>`Framework component is missing the method ${e}()`,234:()=>'Group Column Filter does not work with the colDef property "field". This property will be ignored.',235:()=>'Group Column Filter does not work with the colDef property "filterValueGetter". This property will be ignored.',236:()=>'Group Column Filter does not work with the colDef property "filterParams". This property will be ignored.',237:()=>"Group Column Filter does not work with Tree Data enabled. Please disable Tree Data, or use a different filter.",238:()=>"setRowCount can only accept a positive row count.",239:()=>'Theming API and CSS File Themes are both used in the same page. In v33 we released the Theming API as the new default method of styling the grid. See the migration docs https://www.ag-grid.com/react-data-grid/theming-migration/. Because no value was provided to the `theme` grid option it defaulted to themeQuartz. But the file (ag-grid.css) is also included and will cause styling issues. Either pass the string "legacy" to the theme grid option to use v32 style themes, or remove ag-grid.css from the page to use Theming API.',240:({theme:e})=>`theme grid option must be a Theming API theme object or the string "legacy", received: ${e}`,243:()=>"Failed to deserialize state - each provided state object must be an object.",244:()=>"Failed to deserialize state - `selectAllChildren` must be a boolean value or undefined.",245:()=>"Failed to deserialize state - `toggledNodes` must be an array.",246:()=>"Failed to deserialize state - Every `toggledNode` requires an associated string id.",247:()=>`Row selection state could not be parsed due to invalid data. Ensure all child state has toggledNodes or does not conform with the parent rule. 
Please rebuild the selection state and reapply it.`,248:()=>"SetFloatingFilter expects SetFilter as its parent",249:()=>"Must supply a Value Formatter in Set Filter params when using a Key Creator",250:()=>"Must supply a Key Creator in Set Filter params when `treeList = true` on a group column, and Tree Data or Row Grouping is enabled.",251:({chartType:e})=>`AG Grid: Unable to create chart as an invalid chartType = '${e}' was supplied.`,252:()=>`cannot get grid to draw rows when it is in the middle of drawing rows. 
Your code probably called a grid API method while the grid was in the render stage. 
To overcome this, put the API call into a timeout, e.g. instead of api.redrawRows(), call setTimeout(function() { api.redrawRows(); }, 0). 
To see what part of your code that caused the refresh check this stacktrace.`,253:({version:e})=>["Illegal version string: ",e],254:()=>"Cannot create chart: no chart themes available.",255:({point:e})=>`Lone surrogate U+${e==null?void 0:e.toString(16).toUpperCase()} is not a scalar value`,256:()=>"Unable to initialise. See validation error, or load ValidationModule if missing.",257:()=>rz("IntegratedChartsModule"),258:()=>rz("SparklinesModule"),259:({part:e})=>`the argument to theme.withPart must be a Theming API part object, received: ${e}`,260:({propName:e,compName:t,gridScoped:i,gridId:n,rowModelType:s})=>sz({reasonOrId:`AG Grid '${e}' component: ${t}`,moduleName:$f[t],gridId:n,gridScoped:i,rowModelType:s}),261:()=>"As of v33, `column.isHovered()` is deprecated. Use `api.isColumnHovered(column)` instead.",262:()=>'As of v33, icon key "smallDown" is deprecated. Use "advancedFilterBuilderSelect" for Advanced Filter Builder dropdown, "selectOpen" for Select cell editor and dropdowns (e.g. Integrated Charts menu), "richSelectOpen" for Rich Select cell editor.',263:()=>'As of v33, icon key "smallLeft" is deprecated. Use "panelDelimiterRtl" for Row Group Panel / Pivot Panel, "subMenuOpenRtl" for sub-menus.',264:()=>'As of v33, icon key "smallRight" is deprecated. Use "panelDelimiter" for Row Group Panel / Pivot Panel, "subMenuOpen" for sub-menus.',265:({colId:e})=>`Unable to infer chart data type for column '${e}' if first data entry is null. Please specify "chartDataType", or a "cellDataType" in the column definition. For more information, see ${Oh}/integrated-charts-range-chart#coldefchartdatatype .`,266:()=>'As of v33.1, using "keyCreator" with the Rich Select Editor has been deprecated. It now requires the "formatValue" callback to convert complex data to strings.',267:()=>"Detail grids can not use a different theme to the master grid, the `theme` detail grid option will be ignored.",268:()=>"Transactions aren't supported with tree data when using treeDataChildrenField",269:()=>"When `masterSelects: 'detail'`, detail grids must be configured with multi-row selection"};function ife(e,t){const i=tfe[e];if(!i)return[`Missing error text for error id ${e}!`];const n=i(t),r=`
See ${Q_(e,t)}`;return Array.isArray(n)?n.concat(r):[n,r]}var nfe={1:"Charting Aggregation",2:"pivotResultFields",3:"setTooltip"},sfe=()=>({checkboxSelection:{version:"32.2",message:"Use `rowSelection.checkboxes` in `GridOptions` instead."},headerCheckboxSelection:{version:"32.2",message:"Use `rowSelection.headerCheckbox = true` in `GridOptions` instead."},headerCheckboxSelectionFilteredOnly:{version:"32.2",message:'Use `rowSelection.selectAll = "filtered"` in `GridOptions` instead.'},headerCheckboxSelectionCurrentPageOnly:{version:"32.2",message:'Use `rowSelection.selectAll = "currentPage"` in `GridOptions` instead.'},showDisabledCheckboxes:{version:"32.2",message:"Use `rowSelection.hideDisabledCheckboxes = true` in `GridOptions` instead."}}),rfe=()=>({aggFunc:{module:"SharedAggregation"},autoHeight:{supportedRowModels:["clientSide","serverSide"],module:"RowAutoHeight"},cellClass:{module:"CellStyle"},cellClassRules:{module:"CellStyle"},cellEditor:({cellEditor:e,editable:t})=>{if(!t)return null;if(typeof e=="string"){const i=$f[e];if(i)return{module:i}}return{module:"CustomEditor"}},cellRenderer:({cellRenderer:e})=>{if(typeof e!="string")return null;const t=$f[e];return t?{module:t}:null},cellRendererParams:{validate:e=>(e.rowGroup!=null||e.rowGroupIndex!=null||e.cellRenderer==="agGroupCellRenderer")&&"checkbox"in e.cellRendererParams?'Since v33.0, `cellRendererParams.checkbox` has been deprecated. Use `rowSelection.checkboxLocation = "autoGroupColumn"` instead.':null},cellStyle:{module:"CellStyle"},children:()=>_V(),columnChooserParams:{module:"ColumnMenu"},contextMenuItems:{module:"ContextMenu"},dndSource:{module:"DragAndDrop"},dndSourceOnRowDrag:{module:"DragAndDrop"},editable:({editable:e,cellEditor:t})=>e&&!t?{module:"TextEditor"}:null,enableCellChangeFlash:{module:"HighlightChanges"},enablePivot:{module:"SharedPivot"},enableRowGroup:{module:"SharedRowGrouping"},enableValue:{module:"SharedAggregation"},filter:({filter:e})=>{if(e&&typeof e!="string"&&typeof e!="boolean")return{module:"CustomFilter"};if(typeof e=="string"){const t=$f[e];if(t)return{module:t}}return{module:"ColumnFilter"}},floatingFilter:{module:"ColumnFilter"},headerCheckboxSelection:{supportedRowModels:["clientSide","serverSide"],validate:(e,{rowSelection:t})=>t==="multiple"?null:"headerCheckboxSelection is only supported with rowSelection=multiple"},headerCheckboxSelectionCurrentPageOnly:{supportedRowModels:["clientSide"],validate:(e,{rowSelection:t})=>t==="multiple"?null:"headerCheckboxSelectionCurrentPageOnly is only supported with rowSelection=multiple"},headerCheckboxSelectionFilteredOnly:{supportedRowModels:["clientSide"],validate:(e,{rowSelection:t})=>t==="multiple"?null:"headerCheckboxSelectionFilteredOnly is only supported with rowSelection=multiple"},headerTooltip:{module:"Tooltip"},headerValueGetter:{validate:e=>{const t=e.headerValueGetter;return typeof t=="function"||typeof t=="string"?null:"headerValueGetter must be a function or a valid string expression"}},icons:{validate:({icons:e})=>{if(e){if(e.smallDown)return Zu(262);if(e.smallLeft)return Zu(263);if(e.smallRight)return Zu(264)}return null}},mainMenuItems:{module:"ColumnMenu"},menuTabs:e=>{var i;const t=["columnsMenuTab","generalMenuTab"];return(i=e.menuTabs)!=null&&i.some(n=>t.includes(n))?{module:"ColumnMenu"}:null},pivot:{module:"SharedPivot"},pivotIndex:{module:"SharedPivot"},rowDrag:{module:"RowDrag"},rowGroup:{module:"SharedRowGrouping"},rowGroupIndex:{module:"SharedRowGrouping"},sortingOrder:{validate:e=>{const t=e.sortingOrder;if(Array.isArray(t)&&t.length>0){const i=t.filter(n=>!_v.includes(n));if(i.length>0)return`sortingOrder must be an array with elements from [${_v.map(yS).join()}], currently it includes [${i.map(yS).join()}]`}else if(!Array.isArray(t)||t.length<=0)return`sortingOrder must be an array with at least one element, currently it's ${t}`;return null}},tooltipField:{module:"Tooltip"},tooltipValueGetter:{module:"Tooltip"},type:{validate:e=>{const t=e.type;return t instanceof Array?t.some(n=>typeof n!="string")?"if colDef.type is supplied an array it should be of type 'string[]'":null:typeof t=="string"?null:"colDef.type should be of type 'string' | 'string[]'"}},rowSpan:{validate:(e,{suppressRowTransform:t})=>t?null:"colDef.rowSpan requires suppressRowTransform to be enabled."},spanRows:{module:"CellSpan",dependencies:{editable:{required:[!1,void 0]},rowDrag:{required:[!1,void 0]},colSpan:{required:[!1,void 0]},rowSpan:{required:[!1,void 0]}},validate:(e,{rowSelection:t,cellSelection:i,suppressRowTransform:n,enableCellSpan:s,pagination:r,rowDragEntireRow:o,enableCellTextSelection:a})=>typeof t=="object"&&(t==null?void 0:t.mode)==="singleRow"&&t!=null&&t.enableClickSelection?"colDef.spanRows is not supported with rowSelection.clickSelection":i?"colDef.spanRows is not supported with cellSelection.":n?"colDef.spanRows is not supported with suppressRowTransform.":s?r?"colDef.spanRows is not supported with pagination.":o?"colDef.spanRows is not supported with rowDragEntireRow.":a?"colDef.spanRows is not supported with enableCellTextSelection.":null:"colDef.spanRows requires enableCellSpan to be enabled."}}),ofe={headerName:void 0,columnGroupShow:void 0,headerStyle:void 0,headerClass:void 0,toolPanelClass:void 0,headerValueGetter:void 0,pivotKeys:void 0,groupId:void 0,colId:void 0,sort:void 0,initialSort:void 0,field:void 0,type:void 0,cellDataType:void 0,tooltipComponent:void 0,tooltipField:void 0,headerTooltip:void 0,cellClass:void 0,showRowGroup:void 0,filter:void 0,initialAggFunc:void 0,defaultAggFunc:void 0,aggFunc:void 0,pinned:void 0,initialPinned:void 0,chartDataType:void 0,cellAriaRole:void 0,cellEditorPopupPosition:void 0,headerGroupComponent:void 0,headerGroupComponentParams:void 0,cellStyle:void 0,cellRenderer:void 0,cellRendererParams:void 0,cellEditor:void 0,cellEditorParams:void 0,filterParams:void 0,pivotValueColumn:void 0,headerComponent:void 0,headerComponentParams:void 0,floatingFilterComponent:void 0,floatingFilterComponentParams:void 0,tooltipComponentParams:void 0,refData:void 0,columnChooserParams:void 0,children:void 0,sortingOrder:void 0,allowedAggFuncs:void 0,menuTabs:void 0,pivotTotalColumnIds:void 0,cellClassRules:void 0,icons:void 0,sortIndex:void 0,initialSortIndex:void 0,flex:void 0,initialFlex:void 0,width:void 0,initialWidth:void 0,minWidth:void 0,maxWidth:void 0,rowGroupIndex:void 0,initialRowGroupIndex:void 0,pivotIndex:void 0,initialPivotIndex:void 0,suppressColumnsToolPanel:void 0,suppressFiltersToolPanel:void 0,openByDefault:void 0,marryChildren:void 0,suppressStickyLabel:void 0,hide:void 0,initialHide:void 0,rowGroup:void 0,initialRowGroup:void 0,pivot:void 0,initialPivot:void 0,checkboxSelection:void 0,showDisabledCheckboxes:void 0,headerCheckboxSelection:void 0,headerCheckboxSelectionFilteredOnly:void 0,headerCheckboxSelectionCurrentPageOnly:void 0,suppressHeaderMenuButton:void 0,suppressMovable:void 0,lockPosition:void 0,lockVisible:void 0,lockPinned:void 0,unSortIcon:void 0,suppressSizeToFit:void 0,suppressAutoSize:void 0,enableRowGroup:void 0,enablePivot:void 0,enableValue:void 0,editable:void 0,suppressPaste:void 0,suppressNavigable:void 0,enableCellChangeFlash:void 0,rowDrag:void 0,dndSource:void 0,autoHeight:void 0,wrapText:void 0,sortable:void 0,resizable:void 0,singleClickEdit:void 0,floatingFilter:void 0,cellEditorPopup:void 0,suppressFillHandle:void 0,wrapHeaderText:void 0,autoHeaderHeight:void 0,dndSourceOnRowDrag:void 0,valueGetter:void 0,valueSetter:void 0,filterValueGetter:void 0,keyCreator:void 0,valueFormatter:void 0,valueParser:void 0,comparator:void 0,equals:void 0,pivotComparator:void 0,suppressKeyboardEvent:void 0,suppressHeaderKeyboardEvent:void 0,colSpan:void 0,rowSpan:void 0,spanRows:void 0,getQuickFilterText:void 0,onCellValueChanged:void 0,onCellClicked:void 0,onCellDoubleClicked:void 0,onCellContextMenu:void 0,rowDragText:void 0,tooltipValueGetter:void 0,cellRendererSelector:void 0,cellEditorSelector:void 0,suppressSpanHeaderHeight:void 0,useValueFormatterForExport:void 0,useValueParserForImport:void 0,mainMenuItems:void 0,contextMenuItems:void 0,suppressFloatingFilterButton:void 0,suppressHeaderFilterButton:void 0,suppressHeaderContextMenu:void 0,loadingCellRenderer:void 0,loadingCellRendererParams:void 0,loadingCellRendererSelector:void 0,context:void 0},afe=()=>Object.keys(ofe),_V=()=>({objectName:"colDef",allProperties:afe(),docsUrl:"column-properties/",deprecations:sfe(),validations:rfe()}),lfe=()=>({suppressLoadingOverlay:{version:"32",message:"Use `loading`=false instead."},enableFillHandle:{version:"32.2",message:"Use `cellSelection.handle` instead."},enableRangeHandle:{version:"32.2",message:"Use `cellSelection.handle` instead."},enableRangeSelection:{version:"32.2",message:"Use `cellSelection = true` instead."},suppressMultiRangeSelection:{version:"32.2",message:"Use `cellSelection.suppressMultiRanges` instead."},suppressClearOnFillReduction:{version:"32.2",message:"Use `cellSelection.handle.suppressClearOnFillReduction` instead."},fillHandleDirection:{version:"32.2",message:"Use `cellSelection.handle.direction` instead."},fillOperation:{version:"32.2",message:"Use `cellSelection.handle.setFillValue` instead."},suppressRowClickSelection:{version:"32.2",message:"Use `rowSelection.enableClickSelection` instead."},suppressRowDeselection:{version:"32.2",message:"Use `rowSelection.enableClickSelection` instead."},rowMultiSelectWithClick:{version:"32.2",message:"Use `rowSelection.enableSelectionWithoutKeys` instead."},groupSelectsChildren:{version:"32.2",message:'Use `rowSelection.groupSelects = "descendants"` instead.'},groupSelectsFiltered:{version:"32.2",message:'Use `rowSelection.groupSelects = "filteredDescendants"` instead.'},isRowSelectable:{version:"32.2",message:"Use `selectionOptions.isRowSelectable` instead."},suppressCopySingleCellRanges:{version:"32.2",message:"Use `rowSelection.copySelectedRows` instead."},suppressCopyRowsToClipboard:{version:"32.2",message:"Use `rowSelection.copySelectedRows` instead."},onRangeSelectionChanged:{version:"32.2",message:"Use `onCellSelectionChanged` instead."},onRangeDeleteStart:{version:"32.2",message:"Use `onCellSelectionDeleteStart` instead."},onRangeDeleteEnd:{version:"32.2",message:"Use `onCellSelectionDeleteEnd` instead."},suppressBrowserResizeObserver:{version:"32.2",message:"The grid always uses the browser's ResizeObserver, this grid option has no effect."},onColumnEverythingChanged:{version:"32.2",message:"Either use `onDisplayedColumnsChanged` which is fired at the same time, or use one of the more specific column events."},groupRemoveSingleChildren:{version:"33",message:"Use `groupHideParentOfSingleChild` instead."},groupRemoveLowestSingleChildren:{version:"33",message:'Use `groupHideParentOfSingleChild: "leafGroupsOnly"` instead.'},suppressRowGroupHidesColumns:{version:"33",message:'Use `suppressGroupChangesColumnVisibility: "suppressHideOnGroup"` instead.'},suppressMakeColumnVisibleAfterUnGroup:{version:"33",message:'Use `suppressGroupChangesColumnVisibility: "suppressShowOnUngroup"` instead.'},unSortIcon:{version:"33",message:"Use `defaultColDef.unSortIcon` instead."},sortingOrder:{version:"33",message:"Use `defaultColDef.sortingOrder` instead."},suppressPropertyNamesCheck:{version:"33",message:"`gridOptions` and `columnDefs` both have a `context` property that should be used for arbitrary user data. This means that column definitions and gridOptions should only contain valid properties making this property redundant."}});function el(e,t,i,n=Number.MAX_VALUE){return typeof t=="number"||t==null?t==null||t>=i&&t<=n?null:n===Number.MAX_VALUE?`${e}: value should be greater than or equal to ${i}`:`${e}: value should be between ${i} and ${n}`:`${e}: value should be a number`}var cfe=()=>{const e={alignedGrids:{module:"AlignedGrids"},allowContextMenuWithControlKey:{module:"ContextMenu"},autoSizePadding:{validate({autoSizePadding:i}){return el("autoSizePadding",i,0)}},autoSizeStrategy:{module:"ColumnAutoSize"},cacheBlockSize:{supportedRowModels:["serverSide","infinite"],validate({cacheBlockSize:i}){return el("cacheBlockSize",i,1)}},cacheOverflowSize:{validate({cacheOverflowSize:i}){return el("cacheOverflowSize",i,1)}},cellSelection:{module:"CellSelection"},columnHoverHighlight:{module:"ColumnHover"},datasource:{supportedRowModels:["infinite"],module:"InfiniteRowModel"},doesExternalFilterPass:{module:"ExternalFilter"},domLayout:{validate:i=>{const n=i.domLayout,s=["autoHeight","normal","print"];return n&&!s.includes(n)?`domLayout must be one of [${s.join()}], currently it's ${n}`:null}},editType:{module:"EditCore"},enableAdvancedFilter:{module:"AdvancedFilter"},enableCharts:{module:"IntegratedCharts"},enableFillHandle:{dependencies:{enableRangeSelection:{required:[!0]}}},enableRangeHandle:{dependencies:{enableRangeSelection:{required:[!0]}}},enableRangeSelection:{module:"CellSelection",dependencies:{rowDragEntireRow:{required:[!1,void 0]}}},rowNumbers:{module:"RowNumbers"},getContextMenuItems:{module:"ContextMenu"},getLocaleText:{module:"Locale"},getMainMenuItems:{module:"ColumnMenu"},getRowClass:{module:"RowStyle"},getRowStyle:{module:"RowStyle"},grandTotalRow:{module:"SharedRowGrouping"},groupDefaultExpanded:{supportedRowModels:["clientSide"]},groupHideOpenParents:{supportedRowModels:["clientSide","serverSide"],dependencies:{groupTotalRow:{required:[void 0,"bottom"]},treeData:{required:[void 0,!1],reason:"Tree Data has values at the group level so it doesn't make sense to hide them."}}},groupHideParentOfSingleChild:{dependencies:{groupHideOpenParents:{required:[void 0,!1]}}},groupRemoveLowestSingleChildren:{dependencies:{groupHideOpenParents:{required:[void 0,!1]},groupRemoveSingleChildren:{required:[void 0,!1]}}},groupRemoveSingleChildren:{dependencies:{groupHideOpenParents:{required:[void 0,!1]},groupRemoveLowestSingleChildren:{required:[void 0,!1]}}},groupSelectsChildren:{dependencies:{rowSelection:{required:["multiple"]}}},icons:{validate:({icons:i})=>{if(i){if(i.smallDown)return Zu(262);if(i.smallLeft)return Zu(263);if(i.smallRight)return Zu(264)}return null}},infiniteInitialRowCount:{validate({infiniteInitialRowCount:i}){return el("infiniteInitialRowCount",i,1)}},initialGroupOrderComparator:{supportedRowModels:["clientSide"]},initialState:{module:"GridState"},isExternalFilterPresent:{module:"ExternalFilter"},keepDetailRowsCount:{validate({keepDetailRowsCount:i}){return el("keepDetailRowsCount",i,1)}},localeText:{module:"Locale"},masterDetail:{module:"SharedMasterDetail"},pagination:{module:"Pagination"},paginationPageSize:{validate({paginationPageSize:i}){return el("paginationPageSize",i,1)}},paginationPageSizeSelector:{validate:i=>{const n=i.paginationPageSizeSelector;return typeof n=="boolean"||n==null||n.length?null:`'paginationPageSizeSelector' cannot be an empty array.
                    If you want to hide the page size selector, set paginationPageSizeSelector to false.`}},pinnedTopRowData:{module:"PinnedRow"},pinnedBottomRowData:{module:"PinnedRow"},pivotMode:{dependencies:{treeData:{required:[!1,void 0],reason:"Pivot Mode is not supported with Tree Data."}},module:"SharedPivot"},pivotPanelShow:{module:"RowGroupingPanel"},quickFilterText:{supportedRowModels:["clientSide"],module:"QuickFilter"},rowBuffer:{validate({rowBuffer:i}){return el("rowBuffer",i,0)}},rowClass:{validate:i=>typeof i.rowClass=="function"?"rowClass should not be a function, please use getRowClass instead":null,module:"RowStyle"},rowClassRules:{module:"RowStyle"},rowData:{supportedRowModels:["clientSide"],module:"ClientSideRowModel"},rowDragManaged:{supportedRowModels:["clientSide"],dependencies:{treeData:{required:[!1,void 0]},pagination:{required:[!1,void 0]}},module:"RowDrag"},rowGroupPanelShow:{module:"RowGroupingPanel"},rowSelection:{validate({rowSelection:i}){return i&&typeof i=="string"?'As of version 32.2.1, using `rowSelection` with the values "single" or "multiple" has been deprecated. Use the object value instead.':i&&typeof i!="object"?"Expected `RowSelectionOptions` object for the `rowSelection` property.":i&&i.mode!=="multiRow"&&i.mode!=="singleRow"?`Selection mode "${i.mode}" is invalid. Use one of 'singleRow' or 'multiRow'.`:null},module:"SharedRowSelection"},rowStyle:{validate:i=>{const n=i.rowStyle;return n&&typeof n=="function"?"rowStyle should be an object of key/value styles, not be a function, use getRowStyle() instead":null},module:"RowStyle"},serverSideDatasource:{supportedRowModels:["serverSide"],module:"ServerSideRowModel"},serverSideInitialRowCount:{supportedRowModels:["serverSide"],validate({serverSideInitialRowCount:i}){return el("serverSideInitialRowCount",i,1)}},serverSideOnlyRefreshFilteredGroups:{supportedRowModels:["serverSide"]},serverSideSortAllLevels:{supportedRowModels:["serverSide"]},sideBar:{module:"SideBar"},sortingOrder:{validate:i=>{const n=i.sortingOrder;if(Array.isArray(n)&&n.length>0){const s=n.filter(r=>!_v.includes(r));if(s.length>0)return`sortingOrder must be an array with elements from [${_v.map(yS).join()}], currently it includes [${s.map(yS).join()}]`}else if(!Array.isArray(n)||n.length<=0)return`sortingOrder must be an array with at least one element, currently it's ${n}`;return null}},statusBar:{module:"StatusBar"},tooltipHideDelay:{validate:i=>i.tooltipHideDelay&&i.tooltipHideDelay<0?"tooltipHideDelay should not be lower than 0":null},tooltipShowDelay:{validate:i=>i.tooltipShowDelay&&i.tooltipShowDelay<0?"tooltipShowDelay should not be lower than 0":null},treeData:{supportedRowModels:["clientSide","serverSide"],module:"SharedTreeData",validate:i=>{const n=i.rowModelType??"clientSide";switch(n){case"clientSide":{const{treeDataChildrenField:s,getDataPath:r}=i;return!s&&!r?"treeData requires either 'treeDataChildrenField' or 'getDataPath' in the clientSide row model.":s&&r?"Cannot use both 'treeDataChildrenField' and 'getDataPath' at the same time.":null}case"serverSide":{const s=`treeData requires 'isServerSideGroup' and 'getServerSideGroupKey' in the ${n} row model.`;return i.isServerSideGroup&&i.getServerSideGroupKey?null:s}}return null}},treeDataChildrenField:{module:"SharedTreeData"},undoRedoCellEditing:{module:"UndoRedoEdit"},valueCache:{module:"ValueCache"},viewportDatasource:{supportedRowModels:["viewport"],module:"ViewportRowModel"},viewportRowModelBufferSize:{validate({viewportRowModelBufferSize:i}){return el("viewportRowModelBufferSize",i,0)}},viewportRowModelPageSize:{validate({viewportRowModelPageSize:i}){return el("viewportRowModelPageSize",i,1)}},rowDragEntireRow:{dependencies:{cellSelection:{required:[void 0]}}},enableCellSpan:{module:"CellSpan"}},t={};return zV.forEach(i=>{t[i]={expectedType:"boolean"}}),BV.forEach(i=>{t[i]={expectedType:"number"}}),Fr(t,e),t},ufe=()=>({objectName:"gridOptions",allProperties:[...Npe,...Tpe.map(e=>oj(e))],propertyExceptions:["api"],docsUrl:"grid-options/",deprecations:lfe(),validations:cfe()}),dfe={expanded:1,contracted:1,"tree-closed":1,"tree-open":1,"tree-indeterminate":1,pin:1,"eye-slash":1,arrows:1,left:1,right:1,group:1,aggregation:1,pivot:1,"not-allowed":1,chart:1,cross:1,cancel:1,tick:1,first:1,previous:1,next:1,last:1,linked:1,unlinked:1,"color-picker":1,loading:1,menu:1,"menu-alt":1,filter:1,columns:1,maximize:1,minimize:1,copy:1,cut:1,paste:1,grip:1,save:1,csv:1,excel:1,"small-down":1,"small-left":1,"small-right":1,"small-up":1,asc:1,desc:1,none:1,up:1,down:1,plus:1,minus:1,settings:1,"checkbox-checked":1,"checkbox-indeterminate":1,"checkbox-unchecked":1,"radio-button-on":1,"radio-button-off":1,eye:1},hfe={chart:"MenuCore",cancel:"EnterpriseCore",first:"Pagination",previous:"Pagination",next:"Pagination",last:"Pagination",linked:"IntegratedCharts",loadingMenuItems:"MenuCore",unlinked:"IntegratedCharts",menu:"ColumnHeaderComp",legacyMenu:"ColumnMenu",filter:"ColumnFilter",filterActive:"ColumnFilter",filterTab:"ColumnMenu",filtersToolPanel:"FiltersToolPanel",columns:["MenuCore"],columnsToolPanel:["ColumnsToolPanel"],maximize:"EnterpriseCore",minimize:"EnterpriseCore",save:"MenuCore",columnGroupOpened:"ColumnGroupHeaderComp",columnGroupClosed:"ColumnGroupHeaderComp",accordionOpen:"EnterpriseCore",accordionClosed:"EnterpriseCore",accordionIndeterminate:"EnterpriseCore",columnSelectClosed:["ColumnsToolPanel","ColumnMenu"],columnSelectOpen:["ColumnsToolPanel","ColumnMenu"],columnSelectIndeterminate:["ColumnsToolPanel","ColumnMenu"],columnMovePin:"SharedDragAndDrop",columnMoveHide:"SharedDragAndDrop",columnMoveMove:"SharedDragAndDrop",columnMoveLeft:"SharedDragAndDrop",columnMoveRight:"SharedDragAndDrop",columnMoveGroup:"SharedDragAndDrop",columnMoveValue:"SharedDragAndDrop",columnMovePivot:"SharedDragAndDrop",dropNotAllowed:"SharedDragAndDrop",groupContracted:"GroupCellRenderer",groupExpanded:"GroupCellRenderer",setFilterGroupClosed:"SetFilter",setFilterGroupOpen:"SetFilter",setFilterGroupIndeterminate:"SetFilter",setFilterLoading:"SetFilter",close:"EnterpriseCore",check:"MenuItem",colorPicker:"CommunityCore",groupLoading:"LoadingCellRenderer",menuAlt:"ColumnHeaderComp",menuPin:"MenuCore",menuValue:"MenuCore",menuAddRowGroup:["MenuCore","ColumnsToolPanel"],menuRemoveRowGroup:["MenuCore","ColumnsToolPanel"],clipboardCopy:"MenuCore",clipboardCut:"MenuCore",clipboardPaste:"MenuCore",pivotPanel:["ColumnsToolPanel","RowGroupingPanel"],rowGroupPanel:["ColumnsToolPanel","RowGroupingPanel"],valuePanel:"ColumnsToolPanel",columnDrag:"EnterpriseCore",rowDrag:["RowDrag","DragAndDrop"],csvExport:"MenuCore",excelExport:"MenuCore",smallDown:"CommunityCore",selectOpen:"CommunityCore",richSelectOpen:"RichSelect",richSelectRemove:"RichSelect",smallLeft:"CommunityCore",smallRight:"CommunityCore",subMenuOpen:"MenuItem",subMenuOpenRtl:"MenuItem",panelDelimiter:"RowGroupingPanel",panelDelimiterRtl:"RowGroupingPanel",smallUp:"CommunityCore",sortAscending:["MenuCore","Sort"],sortDescending:["MenuCore","Sort"],sortUnSort:["MenuCore","Sort"],advancedFilterBuilder:"AdvancedFilter",advancedFilterBuilderDrag:"AdvancedFilter",advancedFilterBuilderInvalid:"AdvancedFilter",advancedFilterBuilderMoveUp:"AdvancedFilter",advancedFilterBuilderMoveDown:"AdvancedFilter",advancedFilterBuilderAdd:"AdvancedFilter",advancedFilterBuilderRemove:"AdvancedFilter",advancedFilterBuilderSelectOpen:"AdvancedFilter",chartsMenu:"IntegratedCharts",chartsMenuEdit:"IntegratedCharts",chartsMenuAdvancedSettings:"IntegratedCharts",chartsMenuAdd:"IntegratedCharts",chartsColorPicker:"IntegratedCharts",chartsThemePrevious:"IntegratedCharts",chartsThemeNext:"IntegratedCharts",chartsDownload:"IntegratedCharts",checkboxChecked:"CommunityCore",checkboxIndeterminate:"CommunityCore",checkboxUnchecked:"CommunityCore",radioButtonOn:"CommunityCore",radioButtonOff:"CommunityCore"},pfe=new Set(["colorPicker","smallUp","checkboxChecked","checkboxIndeterminate","checkboxUnchecked","radioButtonOn","radioButtonOff","smallDown","smallLeft","smallRight"]),ffe={pinSubMenu:"PinnedColumn",pinLeft:"PinnedColumn",pinRight:"PinnedColumn",clearPinned:"PinnedColumn",valueAggSubMenu:"SharedAggregation",autoSizeThis:"ColumnAutoSize",autoSizeAll:"ColumnAutoSize",rowGroup:"SharedRowGrouping",rowUnGroup:"SharedRowGrouping",resetColumns:"CommunityCore",expandAll:["ClientSideRowModelHierarchy","ServerSideRowModel"],contractAll:["ClientSideRowModelHierarchy","ServerSideRowModel"],copy:"Clipboard",copyWithHeaders:"Clipboard",copyWithGroupHeaders:"Clipboard",cut:"Clipboard",paste:"Clipboard",export:["CsvExport","ExcelExport"],csvExport:"CsvExport",excelExport:"ExcelExport",separator:"CommunityCore",pivotChart:"IntegratedCharts",chartRange:"IntegratedCharts",columnFilter:"ColumnFilter",columnChooser:"ColumnMenu",sortAscending:"Sort",sortDescending:"Sort",sortUnSort:"Sort"},gfe=class extends ye{constructor(){super(...arguments),this.beanName="validation"}wireBeans(e){this.gridOptions=e.gridOptions,ere(this)}postConstruct(){this.processGridOptions(this.gridOptions)}warnOnInitialPropertyUpdate(e,t){e==="api"&&Upe[t]&&Ae(22,{key:t})}processGridOptions(e){this.processOptions(e,ufe())}validateApiFunction(e,t){return Kpe(e,t,this.beans)}missingUserComponent(e,t,i,n){const s=$f[t];s?this.gos.assertModuleRegistered(s,`AG Grid '${e}' component: ${t}`):Ae(101,{propertyName:e,componentName:t,agGridDefaults:i,jsComps:n})}checkRowEvents(e){yfe.has(e)&&Ae(10,{eventType:e})}validateIcon(e){if(pfe.has(e)&&Ae(43,{iconName:e}),dfe[e])return;const t=hfe[e];if(t){wi(200,{reasonOrId:`icon '${e}'`,moduleName:t,gridScoped:SL(),gridId:this.beans.context.getGridId(),rowModelType:this.gos.get("rowModelType"),additionalText:"Alternatively, use the CSS icon name directly."});return}Ae(134,{iconName:e})}validateMenuItem(e){const t=ffe[e];t&&this.gos.assertModuleRegistered(t,`menu item '${e}'`)}isProvidedUserComp(e){return!!$f[e]}validateColDef(e,t,i){var n;(i||!((n=this.beans.dataTypeSvc)!=null&&n.isColPendingInference(t)))&&this.processOptions(e,_V())}processOptions(e,t){const{validations:i,deprecations:n,allProperties:s,propertyExceptions:r,objectName:o,docsUrl:a}=t;s&&this.gridOptions.suppressPropertyNamesCheck!==!0&&this.checkProperties(e,[...r??[],...Object.keys(n)],s,o,a);const l=new Set,u=p=>{const f=i[p];if(f)if(typeof f=="function"){const m=f(e,this.gridOptions,this.beans);if(!m)return;if("objectName"in m){const y=e[p];if(Array.isArray(y)){y.forEach(C=>{this.processOptions(C,m)});return}this.processOptions(e[p],m);return}return m}else return f;else return};Object.keys(e).forEach(p=>{const f=n[p];if(f){const{message:D,version:R}=f;l.add(`As of v${R}, ${String(p)} is deprecated. ${D??""}`)}const m=e[p];if(m==null||m===!1)return;const y=u(p);if(!y)return;const{module:C,dependencies:w,validate:b,supportedRowModels:S,expectedType:M}=y;if(M){const D=typeof m;if(D!==M){l.add(`${String(p)} should be of type '${M}' but received '${D}' (${m}).`);return}}if(S){const D=this.gridOptions.rowModelType??"clientSide";if(!S.includes(D)){l.add(`${String(p)} is not supported with the '${D}' row model. It is only valid with: ${S.join(", ")}.`);return}}if(C){const D=Array.isArray(C)?C:[C];let R=!0;if(D.forEach(A=>{this.gos.assertModuleRegistered(A,String(p))||(R=!1)}),!R)return}if(w){const D=this.checkForRequiredDependencies(p,w,e);if(D){l.add(D);return}}if(b){const D=b(e,this.gridOptions,this.beans);if(D){l.add(D);return}}}),l.size>0&&l.forEach(p=>{tv(p)})}checkForRequiredDependencies(e,t,i){const s=Object.entries(t).filter(([r,o])=>{const a=i[r];return!o.required.includes(a)});return s.length===0?null:s.map(([r,o])=>`'${String(e)}' requires '${r}' to be one of [${o.required.map(a=>a===null?"null":a===void 0?"undefined":a).join(", ")}]. ${o.reason??""}`).join(`
           `)}checkProperties(e,t,i,n,s){const r=["__ob__","__v_skip","__metadata__"],o=mfe(Object.getOwnPropertyNames(e),[...r,...t,...i],i),a=Object.keys(o);for(const l of a){const u=o[l];let d=`invalid ${n} property '${l}' did you mean any of these: ${u.slice(0,8).join(", ")}.`;i.includes("context")&&(d+=`
If you are trying to annotate ${n} with application data, use the '${n}.context' property instead.`),tv(d)}if(a.length>0&&s){const l=this.beans.frameworkOverrides.getDocLink(s);tv(`to see all the valid ${n} properties please check: ${l}`)}}getConsoleMessage(e,t){return ife(e,t)}};function mfe(e,t,i){const n={},s=e.filter(r=>!t.some(o=>o===r));return s.length>0&&s.forEach(r=>n[r]=GV({inputValue:r,allSuggestions:i}).values),n}var yfe=new Set(["firstChildChanged","lastChildChanged","childIndexChanged"]),vfe={moduleName:"Validation",version:Ge,beans:[gfe]};function jV(e){e.sibling&&(e.sibling.childrenAfterFilter=e.childrenAfterFilter)}var Cfe=class extends ye{constructor(){super(...arguments),this.beanName="filterStage",this.refreshProps=new Set(["excludeChildrenWhenTreeDataFiltering"]),this.step="filter"}wireBeans(e){this.filterManager=e.filterManager}execute(e){const{changedPath:t}=e;this.filter(t)}filter(e){var i;const t=!!((i=this.filterManager)!=null&&i.isChildFilterPresent());this.filterNodes(t,e)}filterNodes(e,t){const i=(n,s)=>{n.hasChildren()&&e&&!s?n.childrenAfterFilter=n.childrenAfterGroup.filter(r=>{const o=r.childrenAfterFilter&&r.childrenAfterFilter.length>0,a=r.data&&this.filterManager.doesRowPassFilter({rowNode:r});return o||a}):n.childrenAfterFilter=n.childrenAfterGroup,jV(n)};if(this.doingTreeDataFiltering()){const n=(r,o)=>{if(r.childrenAfterGroup)for(let a=0;a<r.childrenAfterGroup.length;a++){const l=r.childrenAfterGroup[a],u=o||this.filterManager.doesRowPassFilter({rowNode:l});l.childrenAfterGroup?n(r.childrenAfterGroup[a],u):i(l,u)}i(r,o)},s=r=>n(r,!1);t.executeFromRootNode(s)}else{const n=s=>i(s,!1);t.forEachChangedNodeDepthFirst(n,!0)}}doingTreeDataFiltering(){return this.gos.get("treeData")&&!this.gos.get("excludeChildrenWhenTreeDataFiltering")}},bfe=class extends IL{constructor(){super(...arguments),this.iconCreated=!1}setComp(e,t,i,n,s){this.comp=e;const r=FC(this,this.beans.context,s);this.eButtonShowMainFilter=i,this.eFloatingFilterBody=n,this.setGui(t,r),this.setupActive(),this.refreshHeaderStyles(),this.setupWidth(r),this.setupLeft(r),this.setupHover(r),this.setupFocus(r),this.setupAria(),this.setupFilterButton(),this.setupUserComp(),this.setupSyncWithFilter(r),this.setupUi(),r.addManagedElementListeners(this.eButtonShowMainFilter,{click:this.showParentFilter.bind(this)}),this.setupFilterChangedListener(r),r.addManagedListeners(this.column,{colDefChanged:()=>this.onColDefChanged(r)}),r.addDestroyFunc(()=>{this.eButtonShowMainFilter=null,this.eFloatingFilterBody=null,this.userCompDetails=null,this.clearComponent()})}resizeHeader(){}moveHeader(){}getHeaderClassParams(){const{column:e,beans:t}=this,i=e.colDef;return ut(t.gos,{colDef:i,column:e,floatingFilter:!0})}setupActive(){const e=this.column.getColDef(),t=!!e.filter,i=!!e.floatingFilter;this.active=t&&i}setupUi(){if(this.comp.setButtonWrapperDisplayed(!this.suppressFilterButton&&this.active),this.comp.addOrRemoveBodyCssClass("ag-floating-filter-full-body",this.suppressFilterButton),this.comp.addOrRemoveBodyCssClass("ag-floating-filter-body",!this.suppressFilterButton),!this.active||this.iconCreated)return;const e=_o("filter",this.beans,this.column);e&&(this.iconCreated=!0,this.eButtonShowMainFilter.appendChild(e))}setupFocus(e){e.createManagedBean(new _g(this.eGui,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)}))}setupAria(){const e=this.getLocaleTextFunc();Kx(this.eButtonShowMainFilter,e("ariaFilterMenuOpen","Open Filter Menu"))}onTabKeyDown(e){var o;const{beans:t}=this;if(yn(t)===this.eGui)return;const s=Cp(t,this.eGui,null,e.shiftKey);if(s){(o=t.headerNavigation)==null||o.scrollToColumn(this.column),e.preventDefault(),s.focus();return}const r=this.findNextColumnWithFloatingFilter(e.shiftKey);r&&t.focusSvc.focusHeaderPosition({headerPosition:{headerRowIndex:this.rowCtrl.rowIndex,column:r},event:e})&&e.preventDefault()}findNextColumnWithFloatingFilter(e){const t=this.beans.visibleCols;let i=this.column;do if(i=e?t.getColBefore(i):t.getColAfter(i),!i)break;while(!i.getColDef().filter||!i.getColDef().floatingFilter);return i}handleKeyDown(e){super.handleKeyDown(e);const t=this.getWrapperHasFocus();switch(e.key){case ge.UP:case ge.DOWN:t||e.preventDefault();case ge.LEFT:case ge.RIGHT:if(t)return;e.stopPropagation();case ge.ENTER:t&&tp(this.eGui)&&e.preventDefault();break;case ge.ESCAPE:t||this.eGui.focus()}}onFocusIn(e){if(this.eGui.contains(e.relatedTarget))return;const i=!!e.relatedTarget&&!e.relatedTarget.classList.contains("ag-floating-filter"),n=!!e.relatedTarget&&Fh(e.relatedTarget,"ag-floating-filter");if(i&&n&&e.target===this.eGui){const s=this.lastFocusEvent,r=!!(s&&s.key===ge.TAB);if(s&&r){const o=s.shiftKey;tp(this.eGui,o)}}this.focusThis()}setupHover(e){var t;(t=this.beans.colHover)==null||t.addHeaderFilterColumnHoverListener(e,this.comp,this.column,this.eGui)}setupLeft(e){const t=new AL(this.column,this.eGui,this.beans);e.createManagedBean(t)}setupFilterButton(){var e;this.suppressFilterButton=!((e=this.beans.menuSvc)!=null&&e.isFloatingFilterButtonEnabled(this.column)),this.highlightFilterButtonWhenActive=!Kr(this.gos)}setupUserComp(){var t;if(!this.active)return;const e=(t=this.beans.filterManager)==null?void 0:t.getFloatingFilterCompDetails(this.column,()=>this.showParentFilter());e&&this.setCompDetails(e)}setCompDetails(e){this.userCompDetails=e,this.comp.setCompDetails(e)}showParentFilter(){var t;const e=this.suppressFilterButton?this.eFloatingFilterBody:this.eButtonShowMainFilter;(t=this.beans.menuSvc)==null||t.showFilterMenu({column:this.column,buttonElement:e,containerType:"floatingFilter",positionBy:"button"})}setupSyncWithFilter(e){if(!this.active)return;const{filterManager:t}=this.beans,i=n=>{if((n==null?void 0:n.source)==="filterDestroyed"&&!this.isAlive())return;const s=this.comp.getFloatingFilterComp();s&&s.then(r=>{if(r){const o=t==null?void 0:t.getCurrentFloatingFilterParentModel(this.column),a=n?{...n,columns:n.columns??[],source:n.source==="api"?"api":"columnFilter"}:null;r.onParentModelChanged(o,a)}})};[this.destroySyncListener]=e.addManagedListeners(this.column,{filterChanged:i}),t!=null&&t.isFilterActive(this.column)&&i(null)}setupWidth(e){const t=()=>{const i=`${this.column.getActualWidth()}px`;this.comp.setWidth(i)};e.addManagedListeners(this.column,{widthChanged:t}),t()}setupFilterChangedListener(e){this.active&&([this.destroyFilterChangedListener]=e.addManagedListeners(this.column,{filterChanged:this.updateFilterButton.bind(this)}),this.updateFilterButton())}updateFilterButton(){var e;if(!this.suppressFilterButton&&this.comp){const t=!!((e=this.beans.filterManager)!=null&&e.isFilterAllowed(this.column));this.comp.setButtonWrapperDisplayed(t),this.highlightFilterButtonWhenActive&&t&&this.eButtonShowMainFilter.classList.toggle("ag-filter-active",this.column.isFilterActive())}}onColDefChanged(e){var r;const t=this.active;this.setupActive();const i=!t&&this.active;t&&!this.active&&(this.destroySyncListener(),this.destroyFilterChangedListener());const n=this.active?(r=this.beans.filterManager)==null?void 0:r.getFloatingFilterCompDetails(this.column,()=>this.showParentFilter()):null,s=this.comp.getFloatingFilterComp();!s||!n?this.updateCompDetails(e,n,i):s.then(o=>{var a;!o||(a=this.beans.filterManager)!=null&&a.areFilterCompsDifferent(this.userCompDetails??null,n)?this.updateCompDetails(e,n,i):this.updateFloatingFilterParams(n)})}updateCompDetails(e,t,i){this.isAlive()&&(this.setCompDetails(t),this.setupFilterButton(),this.setupUi(),i&&(this.setupSyncWithFilter(e),this.setupFilterChangedListener(e)))}updateFloatingFilterParams(e){var i;if(!e)return;const t=e.params;(i=this.comp.getFloatingFilterComp())==null||i.then(n=>{n!=null&&n.refresh&&typeof n.refresh=="function"&&n.refresh(t)})}addResizeAndMoveKeyboardListeners(){}destroy(){super.destroy(),this.destroySyncListener=null,this.destroyFilterChangedListener=null}};function wfe(e,t){var n;const i=e.colModel.getCol(t);if(!i){wi(12,{colKey:t});return}(n=e.menuSvc)==null||n.showColumnMenu({column:i,positionBy:"auto"})}function Sfe(e){var t;(t=e.menuSvc)==null||t.hidePopupMenu()}var xfe={moduleName:"SharedMenu",version:Ge,beans:[Rle],apiFunctions:{showColumnMenu:wfe,hidePopupMenu:Sfe}},Mfe=0,Dfe=200,Rfe=class extends ye{constructor(){super(...arguments),this.beanName="popupSvc",this.popupList=[]}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>{this.gridCtrl=e.gridCtrl}),this.addManagedEventListeners({gridStylesChanged:this.handleThemeChange.bind(this)})}getPopupParent(){const e=this.gos.get("popupParent");return e||this.gridCtrl.getGui()}positionPopupForMenu(e){const{eventSource:t,ePopup:i,column:n,node:s,event:r}=e,o=t.getBoundingClientRect(),a=this.getParentRect();this.setAlignedTo(t,i);let l=!1;const u=()=>{const d=this.keepXYWithinBounds(i,o.top-a.top,0),p=i.clientWidth>0?i.clientWidth:200;l||(i.style.minWidth=`${p}px`,l=!0);const m=a.right-a.left-p;let y;return this.gos.get("enableRtl")?(y=w(),y<0&&(y=C(),this.setAlignedStyles(i,"left")),y>m&&(y=0,this.setAlignedStyles(i,"right"))):(y=C(),y>m&&(y=w(),this.setAlignedStyles(i,"right")),y<0&&(y=0,this.setAlignedStyles(i,"left"))),{x:y,y:d};function C(){return o.right-a.left-2}function w(){return o.left-a.left-p}};this.positionPopup({ePopup:i,keepWithinBounds:!0,updatePosition:u,postProcessCallback:()=>this.callPostProcessPopup("subMenu",i,t,r instanceof MouseEvent?r:void 0,n,s)})}positionPopupUnderMouseEvent(e){const{ePopup:t,nudgeX:i,nudgeY:n,skipObserver:s}=e;this.positionPopup({ePopup:t,nudgeX:i,nudgeY:n,keepWithinBounds:!0,skipObserver:s,updatePosition:()=>this.calculatePointerAlign(e.mouseEvent),postProcessCallback:()=>this.callPostProcessPopup(e.type,e.ePopup,null,e.mouseEvent,e.column,e.rowNode)})}calculatePointerAlign(e){const t=this.getParentRect();return{x:e.clientX-t.left,y:e.clientY-t.top}}positionPopupByComponent(e){const{ePopup:t,nudgeX:i,nudgeY:n,keepWithinBounds:s,eventSource:r,alignSide:o="left",position:a="over",column:l,rowNode:u,type:d}=e,p=r.getBoundingClientRect(),f=this.getParentRect();this.setAlignedTo(r,t);const m=()=>{let y=p.left-f.left;o==="right"&&(y-=t.offsetWidth-p.width);let C;return a==="over"?(C=p.top-f.top,this.setAlignedStyles(t,"over")):(this.setAlignedStyles(t,"under"),this.shouldRenderUnderOrAbove(t,p,f,e.nudgeY||0)==="under"?C=p.top-f.top+p.height:C=p.top-t.offsetHeight-(n||0)*2-f.top),{x:y,y:C}};this.positionPopup({ePopup:t,nudgeX:i,nudgeY:n,keepWithinBounds:s,updatePosition:m,postProcessCallback:()=>this.callPostProcessPopup(d,t,r,null,l,u)})}shouldRenderUnderOrAbove(e,t,i,n){const s=i.bottom-t.bottom,r=t.top-i.top,o=e.offsetHeight+n;return s>o?"under":r>o||r>s?"above":"under"}setAlignedStyles(e,t){const i=this.getPopupIndex(e);if(i===-1)return;const n=this.popupList[i],{alignedToElement:s}=n;!s||(["right","left","over","above","under"].forEach(o=>{s.classList.remove(`ag-has-popup-positioned-${o}`),e.classList.remove(`ag-popup-positioned-${o}`)}),!t)||(s.classList.add(`ag-has-popup-positioned-${t}`),e.classList.add(`ag-popup-positioned-${t}`))}setAlignedTo(e,t){const i=this.getPopupIndex(t);if(i!==-1){const n=this.popupList[i];n.alignedToElement=e}}callPostProcessPopup(e,t,i,n,s,r){const o=this.gos.getCallback("postProcessPopup");o&&o({column:s,rowNode:r,ePopup:t,type:e,eventSource:i,mouseEvent:n})}positionPopup(e){const{ePopup:t,keepWithinBounds:i,nudgeX:n,nudgeY:s,skipObserver:r,updatePosition:o}=e,a={width:0,height:0},l=(u=!1)=>{let{x:d,y:p}=o();u&&t.clientWidth===a.width&&t.clientHeight===a.height||(a.width=t.clientWidth,a.height=t.clientHeight,n&&(d+=n),s&&(p+=s),i&&(d=this.keepXYWithinBounds(t,d,1),p=this.keepXYWithinBounds(t,p,0)),t.style.left=`${d}px`,t.style.top=`${p}px`,e.postProcessCallback&&e.postProcessCallback())};if(l(),!r){const u=zc(this.beans,t,()=>l(!0));setTimeout(()=>u(),Dfe)}}getActivePopups(){return this.popupList.map(e=>e.element)}getParentRect(){const e=An(this.beans);let t=this.getPopupParent();return t===e.body?t=e.documentElement:getComputedStyle(t).position==="static"&&(t=t.offsetParent),U_(t)}keepXYWithinBounds(e,t,i){const n=i===0,s=n?"clientHeight":"clientWidth",r=n?"top":"left",o=n?"height":"width",a=n?"scrollTop":"scrollLeft",l=An(this.beans),u=l.documentElement,d=this.getPopupParent(),p=e.getBoundingClientRect(),f=d.getBoundingClientRect(),m=l.documentElement.getBoundingClientRect(),y=d===l.body,C=Math.ceil(p[o]);let b=y?(n?W_:hS)(u)+u[a]:d[s];y&&(b-=Math.abs(m[r]-f[r]));const S=b-C;return Math.min(Math.max(t,0),Math.abs(S))}addPopup(e){const t=An(this.beans),{eChild:i,ariaLabel:n,alwaysOnTop:s,positionCallback:r,anchorToElement:o}=e;if(!t)return Ae(122),{hideFunc:()=>{}};const a=this.getPopupIndex(i);if(a!==-1)return{hideFunc:this.popupList[a].hideFunc};this.initialisePopupPosition(i);const l=this.createPopupWrapper(i,n,!!s),u=this.addEventListenersToPopup({...e,wrapperEl:l});return r&&r(),this.addPopupToPopupList(i,l,u,o),{hideFunc:u}}initialisePopupPosition(e){const i=this.getPopupParent().getBoundingClientRect();Ne(e.style.top)||(e.style.top=`${i.top*-1}px`),Ne(e.style.left)||(e.style.left=`${i.left*-1}px`)}createPopupWrapper(e,t,i){const n=this.getPopupParent(),s=document.createElement("div"),{environment:r,gos:o}=this.beans;return r.applyThemeClasses(s),s.classList.add("ag-popup"),e.classList.add(o.get("enableRtl")?"ag-rtl":"ag-ltr","ag-popup-child"),e.hasAttribute("role")||La(e,"dialog"),Kx(e,t),s.appendChild(e),n.appendChild(s),i?this.setAlwaysOnTop(e,!0):this.bringPopupToFront(e),s}handleThemeChange(e){if(e.themeChanged){const t=this.beans.environment;for(const i of this.popupList)t.applyThemeClasses(i.wrapper)}}addEventListenersToPopup(e){const t=this.beans,i=An(t),n=this.getPopupParent(),{wrapperEl:s,eChild:r,closedCallback:o,afterGuiAttached:a,closeOnEsc:l,modal:u}=e;let d=!1;const p=C=>{if(!s.contains(yn(t)))return;C.key===ge.ESCAPE&&!Sc(C)&&y({keyboardEvent:C})},f=C=>y({mouseEvent:C}),m=C=>y({touchEvent:C}),y=(C={})=>{const{mouseEvent:w,touchEvent:b,keyboardEvent:S,forceHide:M}=C;!M&&(this.isEventFromCurrentPopup({mouseEvent:w,touchEvent:b},r)||d)||(d=!0,n.removeChild(s),i.removeEventListener("keydown",p),i.removeEventListener("mousedown",f),i.removeEventListener("touchstart",m),i.removeEventListener("contextmenu",f),this.eventSvc.removeEventListener("dragStarted",f),o&&o(w||b||S),this.removePopupFromPopupList(r))};return a&&a({hidePopup:y}),window.setTimeout(()=>{l&&i.addEventListener("keydown",p),u&&(i.addEventListener("mousedown",f),this.eventSvc.addEventListener("dragStarted",f),i.addEventListener("touchstart",m),i.addEventListener("contextmenu",f))},0),y}addPopupToPopupList(e,t,i,n){this.popupList.push({element:e,wrapper:t,hideFunc:i,instanceId:Mfe++,isAnchored:!!n}),n&&this.setPopupPositionRelatedToElement(e,n)}getPopupIndex(e){return this.popupList.findIndex(t=>t.element===e)}setPopupPositionRelatedToElement(e,t){const i=this.getPopupIndex(e);if(i===-1)return;const n=this.popupList[i];if(n.stopAnchoringPromise&&n.stopAnchoringPromise.then(r=>r&&r()),n.stopAnchoringPromise=void 0,n.isAnchored=!1,!t)return;const s=this.keepPopupPositionedRelativeTo({element:t,ePopup:e,hidePopup:n.hideFunc});return n.stopAnchoringPromise=s,n.isAnchored=!0,s}removePopupFromPopupList(e){this.setAlignedStyles(e,null),this.setPopupPositionRelatedToElement(e,null),this.popupList=this.popupList.filter(t=>t.element!==e)}keepPopupPositionedRelativeTo(e){const t=this.getPopupParent(),i=t.getBoundingClientRect(),{element:n,ePopup:s}=e,r=n.getBoundingClientRect(),o=p=>parseInt(p.substring(0,p.length-1),10),a=(p,f)=>{const m=i[p]-r[p],y=o(s.style[p]);return{initialDiff:m,lastDiff:m,initial:y,last:y,direction:f}},l=a("top",0),u=a("left",1),d=this.beans.frameworkOverrides;return new $i(p=>{d.wrapIncoming(()=>{d.setInterval(()=>{const f=t.getBoundingClientRect(),m=n.getBoundingClientRect();if(m.top==0&&m.left==0&&m.height==0&&m.width==0){e.hidePopup();return}const C=(w,b)=>{const S=o(s.style[b]);w.last!==S&&(w.initial=S,w.last=S);const M=f[b]-m[b];if(M!=w.lastDiff){const D=this.keepXYWithinBounds(s,w.initial+w.initialDiff-M,w.direction);s.style[b]=`${D}px`,w.last=D}w.lastDiff=M};C(l,"top"),C(u,"left")},200).then(f=>{p(()=>{f!=null&&window.clearInterval(f)})})},"popupPositioning")})}hasAnchoredPopup(){return this.popupList.some(e=>e.isAnchored)}isEventFromCurrentPopup(e,t){const{mouseEvent:i,touchEvent:n}=e,s=i||n;if(!s)return!1;const r=this.getPopupIndex(t);if(r===-1)return!1;for(let o=r;o<this.popupList.length;o++){const a=this.popupList[o];if(Mre(a.element,s))return!0}return this.isElementWithinCustomPopup(s.target)}isElementWithinCustomPopup(e){const t=An(this.beans);for(;e&&e!==t.body;){if(e.classList.contains("ag-custom-component-popup")||e.parentElement===null)return!0;e=e.parentElement}return!1}getWrapper(e){for(;!e.classList.contains("ag-popup")&&e.parentElement;)e=e.parentElement;return e.classList.contains("ag-popup")?e:null}setAlwaysOnTop(e,t){const i=this.getWrapper(e);i&&(i.classList.toggle("ag-always-on-top",!!t),t&&this.bringPopupToFront(i))}bringPopupToFront(e){const t=this.getPopupParent(),i=Array.prototype.slice.call(t.querySelectorAll(".ag-popup")),n=i.length,s=this.getWrapper(e);if(!s||n<=1||!t.contains(e))return;const r=[],o=[];for(const f of i)f!==s&&(f.classList.contains("ag-always-on-top")?o.push(f):r.push(f));const a=[],l=o.length,p=s.classList.contains("ag-always-on-top")||!l?[...r,...o,s]:[...r,s,...o];for(let f=0;f<=n;f++){const m=p[f];if(i[f]===p[f]||m===s)continue;m.querySelectorAll("div").forEach(C=>{C.scrollTop!==0&&a.push([C,C.scrollTop])}),f===0?t.insertAdjacentElement("afterbegin",m):p[f-1].insertAdjacentElement("afterend",m)}for(;a.length;){const f=a.pop();f[0].scrollTop=f[1]}}},eM={moduleName:"Popup",version:Ge,beans:[Rfe]},Efe=".ag-set-filter{--ag-indentation-level:0}.ag-set-filter-item{align-items:center;display:flex;height:100%}:where(.ag-ltr) .ag-set-filter-item{padding-left:calc(var(--ag-widget-container-horizontal-padding) + var(--ag-indentation-level)*var(--ag-set-filter-indent-size))}:where(.ag-rtl) .ag-set-filter-item{padding-right:calc(var(--ag-widget-container-horizontal-padding) + var(--ag-indentation-level)*var(--ag-set-filter-indent-size))}.ag-set-filter-item-checkbox{display:flex;height:100%;width:100%}.ag-set-filter-group-icons{display:block;>*{cursor:pointer}}:where(.ag-ltr) .ag-set-filter-group-icons{margin-right:var(--ag-widget-container-horizontal-padding)}:where(.ag-rtl) .ag-set-filter-group-icons{margin-left:var(--ag-widget-container-horizontal-padding)}.ag-filter-body-wrapper{display:flex;flex-direction:column}:where(.ag-menu:not(.ag-tabs) .ag-filter) .ag-filter-body-wrapper,:where(.ag-menu:not(.ag-tabs) .ag-filter)>:not(.ag-filter-wrapper){min-width:180px}.ag-filter-filter{flex:1 1 0px}.ag-filter-condition{display:flex;justify-content:center}.ag-floating-filter-body{display:flex;flex:1 1 auto;height:100%;position:relative}.ag-floating-filter-full-body{align-items:center;display:flex;flex:1 1 auto;height:100%;overflow:hidden;width:100%}:where(.ag-floating-filter-full-body)>div{flex:1 1 auto}.ag-floating-filter-input{align-items:center;display:flex;width:100%;>*{flex:1 1 auto}:where(.ag-input-field-input[type=date]){width:1px}}.ag-floating-filter-button{display:flex;flex:none}.ag-set-floating-filter-input [disabled]{pointer-events:none}.ag-floating-filter-button-button{-webkit-appearance:none;-moz-appearance:none;appearance:none;border:none;height:var(--ag-icon-size);width:var(--ag-icon-size)}.ag-filter-loading{align-items:unset;background-color:var(--ag-chrome-background-color);height:100%;padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding);position:absolute;width:100%;z-index:1;:where(.ag-menu) &{background-color:var(--ag-menu-background-color)}}.ag-filter-separator{border-top:1px solid var(--menu-separator-color)}:where(.ag-filter-select) .ag-picker-field-wrapper{width:0}.ag-filter-condition-operator{height:17px}:where(.ag-ltr) .ag-filter-condition-operator-or{margin-left:calc(var(--ag-spacing)*2)}:where(.ag-rtl) .ag-filter-condition-operator-or{margin-right:calc(var(--ag-spacing)*2)}.ag-set-filter-select-all{padding-top:var(--ag-widget-container-vertical-padding)}.ag-filter-no-matches,.ag-set-filter-list{height:calc(var(--ag-list-item-height)*6)}.ag-filter-no-matches{padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding)}.ag-set-filter-tree-list{height:calc(var(--ag-list-item-height)*10)}.ag-set-filter-filter{margin-left:var(--ag-widget-container-horizontal-padding);margin-right:var(--ag-widget-container-horizontal-padding);margin-top:var(--ag-widget-container-vertical-padding)}.ag-filter-to{margin-top:var(--ag-widget-vertical-spacing)}.ag-mini-filter{margin:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding)}:where(.ag-ltr) .ag-set-filter-add-group-indent{margin-left:calc(var(--ag-icon-size) + var(--ag-widget-container-horizontal-padding))}:where(.ag-rtl) .ag-set-filter-add-group-indent{margin-right:calc(var(--ag-icon-size) + var(--ag-widget-container-horizontal-padding))}:where(.ag-filter-menu) .ag-set-filter-list{min-width:200px}.ag-filter-virtual-list-item:focus-visible{box-shadow:inset var(--ag-focus-shadow)}.ag-filter-apply-panel{display:flex;justify-content:flex-end;overflow:hidden;padding:var(--ag-widget-vertical-spacing) var(--ag-widget-container-horizontal-padding) var(--ag-widget-container-vertical-padding)}.ag-filter-apply-panel-button{line-height:1.5}:where(.ag-ltr) .ag-filter-apply-panel-button{margin-left:calc(var(--ag-spacing)*2)}:where(.ag-rtl) .ag-filter-apply-panel-button{margin-right:calc(var(--ag-spacing)*2)}.ag-simple-filter-body-wrapper{display:flex;flex-direction:column;min-height:calc(var(--ag-list-item-height) + var(--ag-widget-container-vertical-padding) + var(--ag-widget-vertical-spacing));overflow-y:auto;padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding);padding-bottom:calc(var(--ag-widget-container-vertical-padding) - var(--ag-widget-vertical-spacing));&>*{margin-bottom:var(--ag-widget-vertical-spacing)}:where(.ag-resizer-wrapper){margin:0}}.ag-multi-filter-menu-item{margin:var(--ag-spacing) 0}.ag-multi-filter-group-title-bar{background-color:transparent;color:var(--ag-header-text-color);font-weight:500;padding:calc(var(--ag-spacing)*1.5) var(--ag-spacing)}.ag-group-filter-field-select-wrapper{display:flex;flex-direction:column;gap:var(--ag-widget-vertical-spacing);padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding)}";function Tfe(e){const t=e.filterManager;return!!(t!=null&&t.isColumnFilterPresent())||!!(t!=null&&t.isAggregateFilterPresent())}function Afe(e,t){var i;return((i=e.filterManager)==null?void 0:i.getColumnFilterInstance(t))??Promise.resolve(void 0)}function Ife(e,t){var n;const i=e.colModel.getColDefCol(t);if(i)return(n=e.filterManager)==null?void 0:n.destroyFilter(i,"api")}function Lfe(e,t){e.frameworkOverrides.wrapIncoming(()=>{var i;return(i=e.filterManager)==null?void 0:i.setFilterModel(t)})}function kfe(e){var t;return((t=e.filterManager)==null?void 0:t.getFilterModel())??{}}function Pfe(e,t){var i;return((i=e.filterManager)==null?void 0:i.getColumnFilterModel(t))??null}function Ffe(e,t,i){var n;return((n=e.filterManager)==null?void 0:n.setColumnFilterModel(t,i))??Promise.resolve()}function Ofe(e,t){var n;const i=e.colModel.getCol(t);if(!i){wi(12,{colKey:t});return}(n=e.menuSvc)==null||n.showFilterMenu({column:i,containerType:"columnFilter",positionBy:"auto"})}var oz={january:"January",february:"February",march:"March",april:"April",may:"May",june:"June",july:"July",august:"August",september:"September",october:"October",november:"November",december:"December"},az=["january","february","march","april","may","june","july","august","september","october","november","december"];function Nfe(e,t){return e==null?-1:t==null?1:parseFloat(e)-parseFloat(t)}var Bfe=class extends ye{constructor(){super(...arguments),this.beanName="colFilter",this.allColumnFilters=new Map,this.allColumnListeners=new Map,this.activeAggregateFilters=[],this.activeColumnFilters=[],this.processingFilterChange=!1,this.filterModelUpdateQueue=[],this.columnFilterModelUpdateQueue=[]}postConstruct(){var e,t;this.addManagedEventListeners({gridColumnsChanged:this.onColumnsChanged.bind(this),beforeRefreshModel:({params:i})=>{var n;(i.rowDataUpdated||(n=i.changedProps)!=null&&n.has("treeData"))&&this.onNewRowsLoaded("rowDataUpdated")},dataTypesInferred:this.processFilterModelUpdateQueue.bind(this)}),this.initialFilterModel={...((t=(e=this.gos.get("initialState"))==null?void 0:e.filter)==null?void 0:t.filterModel)??{}}}setFilterModel(e,t="api"){const{colModel:i,dataTypeSvc:n,filterManager:s}=this.beans;if(n!=null&&n.isPendingInference){this.filterModelUpdateQueue.push({model:e,source:t});return}const r=[],o=this.getFilterModel(!0);if(e){const a=new Set(Object.keys(e));this.allColumnFilters.forEach((l,u)=>{const d=e[u];r.push(ew(l.filterPromise,d)),a.delete(u)}),a.forEach(l=>{const u=i.getColDefCol(l)||i.getCol(l);if(!u){Ae(62,{colId:l});return}if(!u.isFilterAllowed()){Ae(63,{colId:l});return}const d=this.getOrCreateFilterWrapper(u);if(!d){Ae(64,{colId:l});return}r.push(ew(d.filterPromise,e[l]))})}else this.allColumnFilters.forEach(a=>{r.push(ew(a.filterPromise,null))});$i.all(r).then(()=>{const a=this.getFilterModel(!0),l=[];this.allColumnFilters.forEach((u,d)=>{const p=o?o[d]:null,f=a?a[d]:null;Fv(p,f)||l.push(u.column)}),l.length>0&&(s==null||s.onFilterChanged({columns:l,source:t}))})}getFilterModel(e){var r;const t={},{allColumnFilters:i,initialFilterModel:n,beans:{colModel:s}}=this;if(i.forEach((o,a)=>{const l=this.getModelFromFilterWrapper(o);Ne(l)&&(t[a]=l)}),!e)for(const o of Object.keys(n)){const a=n[o];Ne(a)&&!i.has(o)&&((r=s.getCol(o))!=null&&r.isFilterAllowed())&&(t[o]=a)}return t}getModelFromFilterWrapper(e){const{filter:t}=e;return t?typeof t.getModel!="function"?(Ae(66),null):t.getModel():this.getModelFromInitialState(e.column)}getModelFromInitialState(e){return this.initialFilterModel[e.getColId()]??null}isColumnFilterPresent(){return this.activeColumnFilters.length>0}isAggregateFilterPresent(){return!!this.activeAggregateFilters.length}disableColumnFilters(){const{allColumnFilters:e}=this;return e.size?(e.forEach(t=>this.disposeFilterWrapper(t,"advancedFilterEnabled")),!0):!1}doAggregateFiltersPass(e,t){return this.doColumnFiltersPass(e,t,!0)}updateActiveFilters(){const e=a=>a?a.isFilterActive?a.isFilterActive():(Ae(67),!1):!1,{colModel:t,gos:i}=this.beans,n=!!WT(i),s=a=>{if(!a.isPrimary())return!0;const u=!t.isPivotActive();return!a.isValueActive()||!u?!1:t.isPivotMode()?!0:n},r=[],o=[];return this.forEachColumnFilter((a,l)=>{e(a)&&(s(l.column)?r.push(a):o.push(a))}).then(()=>{this.activeAggregateFilters=r,this.activeColumnFilters=o})}updateFilterFlagInColumns(e,t){return this.forEachColumnFilter((i,n)=>this.setColFilterActive(n.column,i.isFilterActive(),e,t))}forEachColumnFilter(e){const t=[];return this.allColumnFilters.forEach(i=>{const n=i.filterPromise;n&&t.push(n.then(s=>e(s,i)))}),$i.all(t)}doColumnFiltersPass(e,t,i){const{data:n,aggData:s}=e,r=i?this.activeAggregateFilters:this.activeColumnFilters,o=i?s:n;for(let a=0;a<r.length;a++){const l=r[a];if(!(l==null||l===t)){if(typeof l.doesFilterPass!="function"){wi(91);continue}if(!l.doesFilterPass({node:e,data:o}))return!1}}return!0}callOnFilterChangedOutsideRenderCycle(e){const{rowRenderer:t,filterManager:i}=this.beans,n=()=>{this.isAlive()&&(i==null||i.onFilterChanged(e))};t.isRefreshInProgress()?setTimeout(n,0):n()}updateBeforeFilterChanged(e={}){const{filterInstance:t,additionalEventAttributes:i}=e;return this.updateDependentFilters(),this.updateActiveFilters().then(()=>this.updateFilterFlagInColumns("filterChanged",i).then(()=>{this.allColumnFilters.forEach(n=>{n.filterPromise&&n.filterPromise.then(s=>{s&&s!==t&&s.onAnyFilterChanged&&s.onAnyFilterChanged()})}),this.processingFilterChange=!0}))}updateAfterFilterChanged(){this.processingFilterChange=!1}isSuppressFlashingCellsBecauseFiltering(){return!(this.gos.get("allowShowChangeAfterFilter")??!1)&&this.processingFilterChange}onNewRowsLoaded(e){this.forEachColumnFilter(t=>{var i;(i=t.onNewRowsLoaded)==null||i.call(t)}).then(()=>this.updateFilterFlagInColumns(e,{afterDataChange:!0})).then(()=>this.updateActiveFilters())}createGetValue(e){const{filterValueSvc:t,colModel:i}=this.beans;return(n,s)=>{const r=s?i.getCol(s):e;return r?t.getValue(r,n):void 0}}isFilterActive(e){const{filter:t}=this.cachedFilter(e)??{};return t?t.isFilterActive():this.getModelFromInitialState(e)!=null}getOrCreateFilterWrapper(e){if(!e.isFilterAllowed())return null;let t=this.cachedFilter(e);return t||(t=this.createFilterWrapper(e),this.setColumnFilterWrapper(e,t)),t}cachedFilter(e){return this.allColumnFilters.get(e.getColId())}getDefaultFilter(e){let t;const{gos:i,dataTypeSvc:n}=this.beans;if(KE(i))t="agSetColumnFilter";else{const s=n==null?void 0:n.getBaseDataType(e);s==="number"?t="agNumberColumnFilter":s==="date"||s==="dateString"?t="agDateColumnFilter":t="agTextColumnFilter"}return t}getDefaultFloatingFilter(e){let t;const{gos:i,dataTypeSvc:n}=this.beans;if(KE(i))t="agSetColumnFloatingFilter";else{const s=n==null?void 0:n.getBaseDataType(e);s==="number"?t="agNumberColumnFloatingFilter":s==="date"||s==="dateString"?t="agDateColumnFloatingFilter":t="agTextColumnFloatingFilter"}return t}createFilterInstance(e,t){const i=this.getDefaultFilter(e),n=e.getColDef();let s;const r={...this.createFilterParams(e,n),filterModifiedCallback:()=>this.filterModifiedCallbackFactory(s,e)(),filterChangedCallback:a=>this.filterChangedCallbackFactory(s,e)(a),doesRowPassOtherFilter:a=>{var l;return((l=this.beans.filterManager)==null?void 0:l.doesRowPassOtherFilters(s,a))??!0}},o=Poe(this.beans.userCompFactory,n,r,i);return o?{filterPromise:()=>{const a=o.newAgStackInstance();return a.then(l=>{s=l,t&&(t.filter=l??void 0)}),a},compDetails:o}:{filterPromise:null,compDetails:null}}createFilterParams(e,t){return ut(this.gos,{column:e,colDef:t,rowModel:this.beans.rowModel,filterChangedCallback:()=>{},filterModifiedCallback:()=>{},getValue:this.createGetValue(e),doesRowPassOtherFilter:()=>!0})}createFilterWrapper(e){const t={column:e,filterPromise:null,compDetails:null},{filterPromise:i,compDetails:n}=this.createFilterInstance(e,t);return t.filterPromise=(i==null?void 0:i())??null,t.compDetails=n,t}onColumnsChanged(){const e=[],{colModel:t,filterManager:i}=this.beans;this.allColumnFilters.forEach((s,r)=>{let o;s.column.isPrimary()?o=t.getColDefCol(r):o=t.getCol(r),!(o&&o===s.column)&&(e.push(s.column),this.disposeFilterWrapper(s,"columnChanged"),this.disposeColumnListener(r))});const n=e.every(lz);e.length>0&&!n?i==null||i.onFilterChanged({columns:e,source:"api"}):this.updateDependentFilters()}updateDependentFilters(){var e,t;(t=(e=this.beans.autoColSvc)==null?void 0:e.getColumns())==null||t.forEach(i=>{lz(i)&&this.getOrCreateFilterWrapper(i)})}isFilterAllowed(e){if(!e.isFilterAllowed())return!1;const{filter:i}=this.allColumnFilters.get(e.getColId())??{};return i&&typeof(i==null?void 0:i.isFilterAllowed)=="function"?i.isFilterAllowed():!0}getFloatingFilterCompDetails(e,t){const i=d=>{var f;const p=(f=this.getOrCreateFilterWrapper(e))==null?void 0:f.filterPromise;p!=null&&p.then(m=>{d(zv(m))})},n=e.getColDef(),s={...this.createFilterParams(e,n),filterChangedCallback:()=>i(d=>this.filterChangedCallbackFactory(d,e)())},{userCompFactory:r,frameworkOverrides:o}=this.beans,a=Hoe(r,n,s);let l=Gae(o,n,()=>this.getDefaultFloatingFilter(e));l==null&&(l="agReadOnlyFloatingFilter");const u=ut(this.gos,{column:e,filterParams:a,currentParentModel:()=>this.getCurrentFloatingFilterParentModel(e),parentFilterInstance:i,showParentFilter:t});return zoe(r,n,u,l)}getCurrentFloatingFilterParentModel(e){return this.getModelFromFilterWrapper(this.cachedFilter(e)??{column:e})}destroyFilter(e,t="api"){const i=e.getColId(),n=this.allColumnFilters.get(i);this.disposeColumnListener(i),delete this.initialFilterModel[i],n&&this.disposeFilterWrapper(n,t).then(s=>{var r;s&&this.isAlive()&&((r=this.beans.filterManager)==null||r.onFilterChanged({columns:[e],source:"api"}))})}disposeColumnListener(e){const t=this.allColumnListeners.get(e);t&&(this.allColumnListeners.delete(e),t())}disposeFilterWrapper(e,t){var i;return((i=e.filterPromise)==null?void 0:i.then(n=>{const s=!!(n!=null&&n.isFilterActive());return this.destroyBean(n),this.setColFilterActive(e.column,!1,"filterDestroyed"),this.allColumnFilters.delete(e.column.getColId()),this.eventSvc.dispatchEvent({type:"filterDestroyed",source:t,column:e.column}),s}))??$i.resolve(!1)}filterModifiedCallbackFactory(e,t){return()=>{this.eventSvc.dispatchEvent({type:"filterModified",column:t,filterInstance:e})}}filterChangedCallbackFactory(e,t){return i=>{const n=(i==null?void 0:i.source)??"columnFilter",s={filter:e,additionalEventAttributes:i,columns:[t],source:n};this.callOnFilterChangedOutsideRenderCycle(s)}}checkDestroyFilter(e){const t=this.allColumnFilters.get(e);if(!t)return;const i=t.column,{compDetails:n}=i.isFilterAllowed()?this.createFilterInstance(i):{compDetails:null};if(this.areFilterCompsDifferent(t.compDetails,n)){this.destroyFilter(i,"paramsUpdated");return}const s=i.getColDef().filterParams;if(!t.filterPromise){this.destroyFilter(i,"paramsUpdated");return}t.filterPromise.then(r=>{(r!=null&&r.refresh?r.refresh({...this.createFilterParams(i,i.getColDef()),filterModifiedCallback:this.filterModifiedCallbackFactory(r,i),filterChangedCallback:this.filterChangedCallbackFactory(r,i),doesRowPassOtherFilter:a=>{var l;return((l=this.beans.filterManager)==null?void 0:l.doesRowPassOtherFilters(r,a))??!0},...s}):!0)===!1&&this.destroyFilter(i,"paramsUpdated")})}setColumnFilterWrapper(e,t){const i=e.getColId();this.allColumnFilters.set(i,t),this.allColumnListeners.set(i,this.addManagedListeners(e,{colDefChanged:()=>this.checkDestroyFilter(i)})[0])}areFilterCompsDifferent(e,t){if(!t||!e)return!0;const{componentClass:i}=e,{componentClass:n}=t;return!(i===n||(i==null?void 0:i.render)&&(n==null?void 0:n.render)&&i.render===n.render)}hasFloatingFilters(){return this.beans.colModel.getCols().some(t=>t.getColDef().floatingFilter)}getColumnFilterInstance(e){return new Promise(t=>{this.getFilterInstanceImpl(e).then(i=>{t(zv(i))})})}getFilterInstanceImpl(e){var n;const t=this.beans.colModel.getColDefCol(e);return t?((n=this.getOrCreateFilterWrapper(t))==null?void 0:n.filterPromise)??$i.resolve(null):$i.resolve(void 0)}processFilterModelUpdateQueue(){this.filterModelUpdateQueue.forEach(({model:e,source:t})=>this.setFilterModel(e,t)),this.filterModelUpdateQueue=[],this.columnFilterModelUpdateQueue.forEach(({key:e,model:t,resolve:i})=>{this.setColumnFilterModel(e,t).then(()=>i())}),this.columnFilterModelUpdateQueue=[]}getColumnFilterModel(e){const t=this.getFilterWrapper(e);return t?this.getModelFromFilterWrapper(t):null}setColumnFilterModel(e,t){const{colModel:i,dataTypeSvc:n}=this.beans;if(n!=null&&n.isPendingInference){let a=()=>{};const l=new Promise(u=>{a=u});return this.columnFilterModelUpdateQueue.push({key:e,model:t,resolve:a}),l}const s=i.getColDefCol(e),r=s?this.getOrCreateFilterWrapper(s):null;return r?(a=>new Promise(l=>{a.then(u=>l(u))}))(ew(r.filterPromise,t)):Promise.resolve()}getFilterWrapper(e){const t=this.beans.colModel.getColDefCol(e);return t?this.cachedFilter(t)??null:null}setColDefPropertiesForDataType(e,t,i){const n=KE(this.gos),s=this.getLocaleTextFunc(),r=o=>{const{filterParams:a}=e;e.filterParams=typeof a=="object"?{...a,...o}:o};switch(t.baseDataType){case"number":{n&&r({comparator:Nfe});break}case"boolean":{r(n?{valueFormatter:o=>Ne(o.value)?s(String(o.value),o.value?"True":"False"):s("blanks","(Blanks)")}:{maxNumConditions:1,debounceMs:0,filterOptions:["empty",{displayKey:"true",displayName:"True",predicate:(o,a)=>a,numberOfInputs:0},{displayKey:"false",displayName:"False",predicate:(o,a)=>a===!1,numberOfInputs:0}]});break}case"date":{r(n?{valueFormatter:o=>{const a=i(o);return Ne(a)?a:s("blanks","(Blanks)")},treeList:!0,treeListFormatter:(o,a)=>{if(o==="NaN")return s("invalidDate","Invalid Date");if(a===1&&o!=null){const l=az[Number(o)-1];return s(l,oz[l])}return o??s("blanks","(Blanks)")}}:{isValidDate:cz});break}case"dateString":{const o=t.dateParser;r(n?{valueFormatter:a=>{const l=i(a);return Ne(l)?l:s("blanks","(Blanks)")},treeList:!0,treeListPathGetter:a=>{const l=o(a??void 0);return l?[String(l.getFullYear()),String(l.getMonth()+1),String(l.getDate())]:null},treeListFormatter:(a,l)=>{if(l===1&&a!=null){const u=az[Number(a)-1];return s(u,oz[u])}return a??s("blanks","(Blanks)")}}:{comparator:(a,l)=>{const u=o(l);return l==null||u<a?-1:u>a?1:0},isValidDate:a=>typeof a=="string"&&cz(o(a))});break}case"object":{n?r({valueFormatter:o=>{const a=i(o);return Ne(a)?a:s("blanks","(Blanks)")}}):e.filterValueGetter=o=>i({column:o.column,node:o.node,value:this.beans.valueSvc.getValue(o.column,o.node)});break}}}setColFilterActive(e,t,i,n){e.filterActive!==t&&(e.filterActive=t,e.dispatchColEvent("filterActiveChanged",i)),e.dispatchColEvent("filterChanged",i,n)}destroy(){super.destroy(),this.allColumnFilters.forEach(e=>this.disposeFilterWrapper(e,"gridDestroyed")),this.allColumnListeners.clear()}};function ew(e,t){return e?new $i(i=>{e.then(n=>{typeof n.setModel!="function"&&(Ae(65),i()),(n.setModel(t)||$i.resolve()).then(()=>i())})}):$i.resolve()}function lz(e){return e.getColDef().filter==="agGroupColumnFilter"}function cz(e){return e instanceof Date&&!isNaN(e.getTime())}function zfe(e){var t;return!!((t=e.filterManager)!=null&&t.isAnyFilterPresent())}function Gfe(e,t="api"){var i;(i=e.filterManager)==null||i.onFilterChanged({source:t})}var Hfe=class extends ye{constructor(){super(...arguments),this.beanName="filterManager",this.advFilterModelUpdateQueue=[]}wireBeans(e){this.quickFilter=e.quickFilter,this.advancedFilter=e.advancedFilter,this.colFilter=e.colFilter}postConstruct(){const e=this.refreshFiltersForAggregations.bind(this),t=this.updateAdvFilterColumns.bind(this);this.addManagedEventListeners({columnValueChanged:e,columnPivotChanged:e,columnPivotModeChanged:e,newColumnsLoaded:t,columnVisible:t,advancedFilterEnabledChanged:({enabled:n})=>this.onAdvFilterEnabledChanged(n),dataTypesInferred:this.processFilterModelUpdateQueue.bind(this)}),this.externalFilterPresent=this.isExternalFilterPresentCallback(),this.addManagedPropertyListeners(["isExternalFilterPresent","doesExternalFilterPass"],()=>{this.onFilterChanged({source:"api"})}),this.updateAggFiltering(),this.addManagedPropertyListener("groupAggFiltering",()=>{this.updateAggFiltering(),this.onFilterChanged()}),this.quickFilter&&this.addManagedListeners(this.quickFilter,{quickFilterChanged:()=>this.onFilterChanged({source:"quickFilter"})});const{gos:i}=this;this.alwaysPassFilter=i.get("alwaysPassFilter"),this.addManagedPropertyListener("alwaysPassFilter",()=>{this.alwaysPassFilter=i.get("alwaysPassFilter"),this.onFilterChanged({source:"api"})})}isExternalFilterPresentCallback(){const e=this.gos.getCallback("isExternalFilterPresent");return typeof e=="function"&&e({})}doesExternalFilterPass(e){const t=this.gos.get("doesExternalFilterPass");return typeof t=="function"&&t(e)}setFilterModel(e,t="api"){var i;if(this.isAdvFilterEnabled()){this.warnAdvFilters();return}(i=this.colFilter)==null||i.setFilterModel(e,t)}getFilterModel(){var e;return((e=this.colFilter)==null?void 0:e.getFilterModel())??{}}isColumnFilterPresent(){var e;return!!((e=this.colFilter)!=null&&e.isColumnFilterPresent())}isAggregateFilterPresent(){var e;return!!((e=this.colFilter)!=null&&e.isAggregateFilterPresent())}isChildFilterPresent(){return this.isColumnFilterPresent()||this.isQuickFilterPresent()||this.externalFilterPresent||this.isAdvFilterPresent()}isAnyFilterPresent(){return this.isChildFilterPresent()||this.isAggregateFilterPresent()}isAdvFilterPresent(){return this.isAdvFilterEnabled()&&this.advancedFilter.isFilterPresent()}onAdvFilterEnabledChanged(e){var t,i;e?(t=this.colFilter)!=null&&t.disableColumnFilters()&&this.onFilterChanged({source:"advancedFilter"}):(i=this.advancedFilter)!=null&&i.isFilterPresent()&&(this.advancedFilter.setModel(null),this.onFilterChanged({source:"advancedFilter"}))}isAdvFilterEnabled(){var e;return!!((e=this.advancedFilter)!=null&&e.isEnabled())}isAdvFilterHeaderActive(){return this.isAdvFilterEnabled()&&this.advancedFilter.isHeaderActive()}refreshFiltersForAggregations(){WT(this.gos)&&this.onFilterChanged()}onFilterChanged(e={}){const{source:t,additionalEventAttributes:i,columns:n=[]}=e;this.externalFilterPresent=this.isExternalFilterPresentCallback(),(this.colFilter?this.colFilter.updateBeforeFilterChanged(e):$i.resolve()).then(()=>{var r;const s={source:t,type:"filterChanged",columns:n};i&&Fr(s,i),this.eventSvc.dispatchEvent(s),(r=this.colFilter)==null||r.updateAfterFilterChanged()})}isSuppressFlashingCellsBecauseFiltering(){var e;return!!((e=this.colFilter)!=null&&e.isSuppressFlashingCellsBecauseFiltering())}isQuickFilterPresent(){var e;return!!((e=this.quickFilter)!=null&&e.isFilterPresent())}updateAggFiltering(){this.aggFiltering=!!WT(this.gos)}isAggregateQuickFilterPresent(){return this.isQuickFilterPresent()&&this.shouldApplyQuickFilterAfterAgg()}isNonAggregateQuickFilterPresent(){return this.isQuickFilterPresent()&&!this.shouldApplyQuickFilterAfterAgg()}shouldApplyQuickFilterAfterAgg(){return(this.aggFiltering||this.beans.colModel.isPivotMode())&&!this.gos.get("applyQuickFilterBeforePivotOrAgg")}doesRowPassOtherFilters(e,t){return this.doesRowPassFilter({rowNode:t,filterInstanceToSkip:e})}doesRowPassAggregateFilters(e){var i;const{rowNode:t}=e;return(i=this.alwaysPassFilter)!=null&&i.call(this,t)?!0:!(this.isAggregateQuickFilterPresent()&&!this.quickFilter.doesRowPass(t)||this.isAggregateFilterPresent()&&!this.colFilter.doAggregateFiltersPass(t,e.filterInstanceToSkip))}doesRowPassFilter(e){var i;const{rowNode:t}=e;return(i=this.alwaysPassFilter)!=null&&i.call(this,t)?!0:!(this.isNonAggregateQuickFilterPresent()&&!this.quickFilter.doesRowPass(t)||this.externalFilterPresent&&!this.doesExternalFilterPass(t)||this.isColumnFilterPresent()&&!this.colFilter.doColumnFiltersPass(t,e.filterInstanceToSkip)||this.isAdvFilterPresent()&&!this.advancedFilter.doesFilterPass(t))}isFilterActive(e){var t;return!!((t=this.colFilter)!=null&&t.isFilterActive(e))}getOrCreateFilterWrapper(e){var t;return((t=this.colFilter)==null?void 0:t.getOrCreateFilterWrapper(e))??null}getDefaultFloatingFilter(e){return this.colFilter.getDefaultFloatingFilter(e)}createFilterParams(e,t){return this.colFilter.createFilterParams(e,t)}isFilterAllowed(e){var t;return this.isAdvFilterEnabled()?!1:!!((t=this.colFilter)!=null&&t.isFilterAllowed(e))}getFloatingFilterCompDetails(e,t){var i;return(i=this.colFilter)==null?void 0:i.getFloatingFilterCompDetails(e,t)}getCurrentFloatingFilterParentModel(e){var t;return(t=this.colFilter)==null?void 0:t.getCurrentFloatingFilterParentModel(e)}destroyFilter(e,t="api"){var i;(i=this.colFilter)==null||i.destroyFilter(e,t)}areFilterCompsDifferent(e,t){var i;return!!((i=this.colFilter)!=null&&i.areFilterCompsDifferent(e,t))}getAdvFilterModel(){return this.isAdvFilterEnabled()?this.advancedFilter.getModel():null}setAdvFilterModel(e,t="api"){var i;if(this.isAdvFilterEnabled()){if((i=this.beans.dataTypeSvc)!=null&&i.isPendingInference){this.advFilterModelUpdateQueue.push(e);return}this.advancedFilter.setModel(e??null),this.onFilterChanged({source:t})}}toggleAdvFilterBuilder(e,t){this.isAdvFilterEnabled()&&this.advancedFilter.getCtrl().toggleFilterBuilder({source:t,force:e})}updateAdvFilterColumns(){this.isAdvFilterEnabled()&&this.advancedFilter.updateValidity()&&this.onFilterChanged({source:"advancedFilter"})}hasFloatingFilters(){var e;return this.isAdvFilterEnabled()?!1:!!((e=this.colFilter)!=null&&e.hasFloatingFilters())}getColumnFilterInstance(e){var t;return this.isAdvFilterEnabled()?(this.warnAdvFilters(),Promise.resolve(void 0)):((t=this.colFilter)==null?void 0:t.getColumnFilterInstance(e))??Promise.resolve(void 0)}warnAdvFilters(){Ae(68)}setupAdvFilterHeaderComp(e){var t;(t=this.advancedFilter)==null||t.getCtrl().setupHeaderComp(e)}getHeaderRowCount(){return this.isAdvFilterHeaderActive()?1:0}getHeaderHeight(){return this.isAdvFilterHeaderActive()?this.advancedFilter.getCtrl().getHeaderHeight():0}processFilterModelUpdateQueue(){this.advFilterModelUpdateQueue.forEach(e=>this.setAdvFilterModel(e)),this.advFilterModelUpdateQueue=[]}getColumnFilterModel(e){var t;return(t=this.colFilter)==null?void 0:t.getColumnFilterModel(e)}setColumnFilterModel(e,t){var i;return this.isAdvFilterEnabled()?(this.warnAdvFilters(),Promise.resolve()):((i=this.colFilter)==null?void 0:i.setColumnFilterModel(e,t))??Promise.resolve()}setColDefPropertiesForDataType(e,t,i){var n;(n=this.colFilter)==null||n.setColDefPropertiesForDataType(e,t,i)}},_fe=class extends ye{constructor(){super(...arguments),this.beanName="filterMenuFactory"}wireBeans(e){this.popupSvc=e.popupSvc}hideActiveMenu(){var e;(e=this.hidePopup)==null||e.call(this)}showMenuAfterMouseEvent(e,t,i,n){this.showPopup(e,s=>{var r;(r=this.popupSvc)==null||r.positionPopupUnderMouseEvent({column:e,type:i,mouseEvent:t,ePopup:s})},i,t.target,Kr(this.gos),n)}showMenuAfterButtonClick(e,t,i,n){let s=-1,r="left";const o=Kr(this.gos);!o&&this.gos.get("enableRtl")&&(s=1,r="right");const a=o?void 0:4*s,l=o?void 0:4;this.showPopup(e,u=>{var d;(d=this.popupSvc)==null||d.positionPopupByComponent({type:i,eventSource:t,ePopup:u,nudgeX:a,nudgeY:l,alignSide:r,keepWithinBounds:!0,position:"under",column:e})},i,t,o,n)}showPopup(e,t,i,n,s,r){var C;const o=e?this.createBean(new Fae(e,"COLUMN_MENU")):void 0;if(this.activeMenu=o,!(o!=null&&o.hasFilter())||!e){wi(57);return}const a=document.createElement("div");La(a,"presentation"),a.classList.add("ag-menu"),s||a.classList.add("ag-filter-menu"),[this.tabListener]=this.addManagedElementListeners(a,{keydown:w=>this.trapFocusWithin(w,a)}),a.appendChild(o==null?void 0:o.getGui());let l;const u=()=>o==null?void 0:o.afterGuiDetached(),d=Cre(this.gos)?n??this.beans.ctrlsSvc.getGridBodyCtrl().eGridBody:void 0,p=w=>{VB(e,!1,"contextMenu");const b=w instanceof KeyboardEvent;if(this.tabListener&&(this.tabListener=this.tabListener()),b&&n&&Dl(n)){const S=Lj(n);S==null||S.focus({preventScroll:!0})}u(),this.destroyBean(this.activeMenu),this.dispatchVisibleChangedEvent(!1,i,e),r==null||r()},f=this.getLocaleTextFunc(),m=s&&i!=="columnFilter"?f("ariaLabelColumnMenu","Column Menu"):f("ariaLabelColumnFilter","Column Filter"),y=(C=this.popupSvc)==null?void 0:C.addPopup({modal:!0,eChild:a,closeOnEsc:!0,closedCallback:p,positionCallback:()=>t(a),anchorToElement:d,ariaLabel:m});y&&(this.hidePopup=l=y.hideFunc),o.afterInit().then(()=>{t(a),o.afterGuiAttached({container:i,hidePopup:l})}),VB(e,!0,"contextMenu"),this.dispatchVisibleChangedEvent(!0,i,e)}trapFocusWithin(e,t){e.key!==ge.TAB||e.defaultPrevented||Cp(this.beans,t,!1,e.shiftKey)||(e.preventDefault(),tp(t,e.shiftKey))}dispatchVisibleChangedEvent(e,t,i){this.eventSvc.dispatchEvent({type:"columnMenuVisibleChanged",visible:e,switchingTab:!1,key:t,column:i??null,columnGroup:null})}isMenuEnabled(e){return e.isFilterAllowed()&&(e.getColDef().menuTabs??["filterMenuTab"]).includes("filterMenuTab")}showMenuAfterContextMenuEvent(){}destroy(){this.destroyBean(this.activeMenu),super.destroy()}},jfe=class extends ye{constructor(){super(...arguments),this.beanName="filterValueSvc"}getValue(e,t){if(!t)return;const i=e.getColDef(),{filterValueGetter:n}=i;return n?this.executeFilterValueGetter(n,t.data,e,t,i):this.beans.valueSvc.getValue(e,t)}executeFilterValueGetter(e,t,i,n,s){const{expressionSvc:r,valueSvc:o}=this.beans,a=ut(this.gos,{data:t,node:n,column:i,colDef:s,getValue:o.getValueCallback.bind(o,n)});return typeof e=="function"?e(a):r==null?void 0:r.evaluate(e,a)}},Vfe=class extends Xi{constructor(){super(`
            <div class="ag-floating-filter-input" role="presentation">
                <ag-input-text-field data-ref="eFloatingFilterText"></ag-input-text-field>
            </div>`,[Xx]),this.eFloatingFilterText=nt}init(e){this.params=e;const t=this.beans.colNames.getDisplayNameForColumn(e.column,"header",!0);this.eFloatingFilterText.setDisabled(!0).setInputAriaLabel(`${t} ${this.getLocaleTextFunc()("ariaFilterInput","Filter Input")}`)}onParentModelChanged(e){if(e==null){this.eFloatingFilterText.setValue("");return}this.params.parentFilterInstance(t=>{if(t.getModelAsString){const i=t.getModelAsString(e);this.eFloatingFilterText.setValue(i)}})}refresh(e){this.init(e)}},VV=class{constructor(){this.customFilterOptions={}}init(e,t){this.filterOptions=e.filterOptions||t,this.mapCustomOptions(),this.selectDefaultItem(e)}mapCustomOptions(){const{filterOptions:e}=this;e&&e.forEach(t=>{if(typeof t=="string")return;const i=[["displayKey"],["displayName"],["predicate","test"]],n=s=>s.some(r=>t[r]!=null)?!0:(Ae(72,{keys:s}),!1);if(!i.every(n)){this.filterOptions=e.filter(s=>s===t)||[];return}this.customFilterOptions[t.displayKey]=t})}selectDefaultItem(e){const{filterOptions:t}=this;if(e.defaultOption)this.defaultOption=e.defaultOption;else if(t.length>=1){const i=t[0];typeof i=="string"?this.defaultOption=i:i.displayKey?this.defaultOption=i.displayKey:Ae(73)}else Ae(74)}getCustomOption(e){return this.customFilterOptions[e]}};function av(e,t,i){return i==null?e.splice(t):e.splice(t,i)}function FS(e){return e==null||typeof e=="string"&&e.trim().length===0}function Wfe(e){return e==="AND"||e==="OR"?e:"AND"}function Ufe(e,t,i){if(e==null)return;const{predicate:n}=e;if(n!=null&&!t.some(s=>s==null))return n(t,i)}function $fe(e,t){let i=e.length;return i>t&&(e.splice(t),Ae(78),i=t),i}var WV=class extends zae{constructor(){super(...arguments),this.eTypes=[],this.eJoinOperatorPanels=[],this.eJoinOperatorsAnd=[],this.eJoinOperatorsOr=[],this.eConditionBodies=[],this.listener=()=>this.onUiChanged(),this.lastUiCompletePosition=null,this.joinOperatorId=0}getNumberOfInputs(e){const t=this.optionsFactory.getCustomOption(e);if(t){const{numberOfInputs:n}=t;return n??1}return e&&["empty","notBlank","blank"].indexOf(e)>=0?0:e==="inRange"?2:1}onFloatingFilterChanged(e,t){this.setTypeFromFloatingFilter(e),this.setValueFromFloatingFilter(t),this.onUiChanged(!0)}setTypeFromFloatingFilter(e){this.eTypes.forEach((t,i)=>{const n=i===0?e:this.optionsFactory.defaultOption;t.setValue(n,!0)})}getModelFromUi(){const e=this.getUiCompleteConditions();return e.length===0?null:this.maxNumConditions>1&&e.length>1?{filterType:this.filterType,operator:this.getJoinOperator(),conditions:e}:e[0]}getConditionTypes(){return this.eTypes.map(e=>e.getValue())}getConditionType(e){return this.eTypes[e].getValue()}getJoinOperator(){const{eJoinOperatorsOr:e,defaultJoinOperator:t}=this;return e.length===0?t:e[0].getValue()===!0?"OR":"AND"}areModelsEqual(e,t){if(!e&&!t)return!0;if(!e&&t||e&&!t)return!1;const i=!e.operator,n=!t.operator;if(!i&&n||i&&!n)return!1;let r;if(i){const o=e,a=t;r=this.areSimpleModelsEqual(o,a)}else{const o=e,a=t;r=o.operator===a.operator&&vp(o.conditions,a.conditions,(l,u)=>this.areSimpleModelsEqual(l,u))}return r}shouldRefresh(e){var r;const t=this.getModel(),i=t?t.conditions??[t]:null,n=((r=e.filterOptions)==null?void 0:r.map(o=>typeof o=="string"?o:o.displayKey))??this.getDefaultFilterOptions();return!(!(!i||i.every(o=>n.find(a=>a===o.type)!==void 0))||typeof e.maxNumConditions=="number"&&i&&i.length>e.maxNumConditions)}refresh(e){return!this.shouldRefresh(e)||!super.refresh(e)?!1:(this.setParams(e),this.removeConditionsAndOperators(0),this.createOption(),this.setModel(this.getModel()),!0)}setModelIntoUi(e){if(e.operator){const i=e;let n=i.conditions;n==null&&(n=[],Ae(77));const s=$fe(n,this.maxNumConditions),r=this.getNumConditions();if(s<r)this.removeConditionsAndOperators(s);else if(s>r)for(let a=r;a<s;a++)this.createJoinOperatorPanel(),this.createOption();const o=i.operator==="OR";this.eJoinOperatorsAnd.forEach(a=>a.setValue(!o,!0)),this.eJoinOperatorsOr.forEach(a=>a.setValue(o,!0)),n.forEach((a,l)=>{this.eTypes[l].setValue(a.type,!0),this.setConditionIntoUi(a,l)})}else{const i=e;this.getNumConditions()>1&&this.removeConditionsAndOperators(1),this.eTypes[0].setValue(i.type,!0),this.setConditionIntoUi(i,0)}return this.lastUiCompletePosition=this.getNumConditions()-1,this.createMissingConditionsAndOperators(),this.onUiChanged(),$i.resolve()}doesFilterPass(e){const t=this.getModel();if(t==null)return!0;const{operator:i}=t,n=[];if(i){const r=t;n.push(...r.conditions??[])}else n.push(t);return n[i&&i==="OR"?"some":"every"](r=>this.individualConditionPasses(e,r))}setParams(e){super.setParams(e),this.setNumConditions(e),this.defaultJoinOperator=Wfe(e.defaultJoinOperator),this.filterPlaceholder=e.filterPlaceholder,this.optionsFactory=new VV,this.optionsFactory.init(e,this.getDefaultFilterOptions()),this.createFilterListOptions(),this.createOption(),this.createMissingConditionsAndOperators(),this.isReadOnly()&&this.eFilterBody.setAttribute("tabindex","-1")}setNumConditions(e){let t=e.maxNumConditions??2;t<1&&(Ae(79),t=1),this.maxNumConditions=t;let i=e.numAlwaysVisibleConditions??1;i<1&&(Ae(80),i=1),i>t&&(Ae(81),i=t),this.numAlwaysVisibleConditions=i}createOption(){const e=this.createManagedBean(new FL);this.eTypes.push(e),e.addCssClass("ag-filter-select"),this.eFilterBody.appendChild(e.getGui());const t=this.createValueElement();this.eConditionBodies.push(t),this.eFilterBody.appendChild(t),this.putOptionsIntoDropdown(e),this.resetType(e);const i=this.getNumConditions()-1;this.forEachPositionInput(i,n=>this.resetInput(n)),this.addChangedListeners(e,i)}createJoinOperatorPanel(){const e=document.createElement("div");this.eJoinOperatorPanels.push(e),e.classList.add("ag-filter-condition");const t=this.createJoinOperator(this.eJoinOperatorsAnd,e,"and"),i=this.createJoinOperator(this.eJoinOperatorsOr,e,"or");this.eFilterBody.appendChild(e);const n=this.eJoinOperatorPanels.length-1,s=this.joinOperatorId++;this.resetJoinOperatorAnd(t,n,s),this.resetJoinOperatorOr(i,n,s),this.isReadOnly()||(t.onValueChange(this.listener),i.onValueChange(this.listener))}createJoinOperator(e,t,i){const n=this.createManagedBean(new jle);e.push(n);const s="ag-filter-condition-operator";return n.addCssClass(s),n.addCssClass(`${s}-${i}`),t.appendChild(n.getGui()),n}createFilterListOptions(){this.filterListOptions=this.optionsFactory.filterOptions.map(e=>typeof e=="string"?this.createBoilerplateListOption(e):this.createCustomListOption(e))}putOptionsIntoDropdown(e){const{filterListOptions:t}=this;t.forEach(i=>{e.addOption(i)}),e.setDisabled(t.length<=1)}createBoilerplateListOption(e){return{value:e,text:this.translate(e)}}createCustomListOption(e){const{displayKey:t}=e,i=this.optionsFactory.getCustomOption(e.displayKey);return{value:t,text:i?this.getLocaleTextFunc()(i.displayKey,i.displayName):this.translate(t)}}createBodyTemplate(){return""}getAgComponents(){return[]}getCssIdentifier(){return"simple-filter"}updateUiVisibility(){const e=this.getJoinOperator();this.updateNumConditions(),this.updateConditionStatusesAndValues(this.lastUiCompletePosition,e)}updateNumConditions(){let e=-1,t=!0;for(let i=0;i<this.getNumConditions();i++)this.isConditionUiComplete(i)?e=i:t=!1;if(this.shouldAddNewConditionAtEnd(t))this.createJoinOperatorPanel(),this.createOption();else{const i=this.lastUiCompletePosition??this.getNumConditions()-2;if(e<i){this.removeConditionsAndOperators(i+1);const n=e+1,s=i-n;s>0&&this.removeConditionsAndOperators(n,s),this.createMissingConditionsAndOperators()}}this.lastUiCompletePosition=e}updateConditionStatusesAndValues(e,t){this.eTypes.forEach((n,s)=>{const r=this.isConditionDisabled(s,e);n.setDisabled(r||this.filterListOptions.length<=1),s===1&&(Lv(this.eJoinOperatorPanels[0],r),this.eJoinOperatorsAnd[0].setDisabled(r),this.eJoinOperatorsOr[0].setDisabled(r))}),this.eConditionBodies.forEach((n,s)=>{hn(n,this.isConditionBodyVisible(s))});const i=(t??this.getJoinOperator())==="OR";this.eJoinOperatorsAnd.forEach(n=>{n.setValue(!i,!0)}),this.eJoinOperatorsOr.forEach(n=>{n.setValue(i,!0)}),this.forEachInput((n,s,r,o)=>{this.setElementDisplayed(n,s<o),this.setElementDisabled(n,this.isConditionDisabled(r,e))}),this.resetPlaceholder()}shouldAddNewConditionAtEnd(e){return e&&this.getNumConditions()<this.maxNumConditions&&!this.isReadOnly()}removeConditionsAndOperators(e,t){if(e>=this.getNumConditions())return;const{eTypes:i,eConditionBodies:n,eJoinOperatorPanels:s,eJoinOperatorsAnd:r,eJoinOperatorsOr:o}=this;this.removeComponents(i,e,t),this.removeElements(n,e,t),this.removeValueElements(e,t);const a=Math.max(e-1,0);this.removeElements(s,a,t),this.removeComponents(r,a,t),this.removeComponents(o,a,t)}removeElements(e,t,i){av(e,t,i).forEach(s=>Qh(s))}removeComponents(e,t,i){av(e,t,i).forEach(s=>{Qh(s.getGui()),this.destroyBean(s)})}afterGuiAttached(e){var t;if(super.afterGuiAttached(e),this.resetPlaceholder(),!(e!=null&&e.suppressFocus)){const{eFilterBody:i,eTypes:n}=this;let s;if(!this.isReadOnly()){const r=this.getInputs(0)[0];r instanceof Ch&&this.isConditionBodyVisible(0)?s=r.getInputElement():s=(t=n[0])==null?void 0:t.getFocusableElement()}(s??i).focus({preventScroll:!0})}}afterGuiDetached(){super.afterGuiDetached();const e=this.getModel();this.resetUiToActiveModel(e);let t=-1,i=-1,n=!1;const s=this.getJoinOperator();for(let o=this.getNumConditions()-1;o>=0;o--)if(this.isConditionUiComplete(o))t===-1&&(t=o,i=o);else{const a=o>=this.numAlwaysVisibleConditions&&!this.isConditionUiComplete(o-1),l=o<t;(a||l)&&(this.removeConditionsAndOperators(o,1),n=!0,l&&i--)}let r=!1;this.getNumConditions()<this.numAlwaysVisibleConditions&&(this.createMissingConditionsAndOperators(),r=!0),this.shouldAddNewConditionAtEnd(i===this.getNumConditions()-1)&&(this.createJoinOperatorPanel(),this.createOption(),r=!0),r&&this.updateConditionStatusesAndValues(i,s),n&&this.updateJoinOperatorsDisabled(),this.lastUiCompletePosition=i}getPlaceholderText(e,t){let i=this.translate(e);if(typeof this.filterPlaceholder=="function"){const n=this.eTypes[t].getValue(),s=this.translate(n);i=this.filterPlaceholder({filterOptionKey:n,filterOption:s,placeholder:i})}else typeof this.filterPlaceholder=="string"&&(i=this.filterPlaceholder);return i}resetPlaceholder(){const e=this.getLocaleTextFunc();this.forEachInput((t,i,n,s)=>{if(!(t instanceof Ch))return;const r=i===0&&s>1?"inRangeStart":i===0?"filterOoo":"inRangeEnd",o=i===0&&s>1?e("ariaFilterFromValue","Filter from value"):i===0?e("ariaFilterValue","Filter Value"):e("ariaFilterToValue","Filter to Value");t.setInputPlaceholder(this.getPlaceholderText(r,n)),t.setInputAriaLabel(o)})}setElementValue(e,t,i){e instanceof Ch&&e.setValue(t!=null?String(t):null,!0)}setElementDisplayed(e,t){e instanceof Xi&&hn(e.getGui(),t)}setElementDisabled(e,t){e instanceof Xi&&Lv(e.getGui(),t)}attachElementOnChange(e,t){e instanceof Ch&&e.onValueChange(t)}forEachInput(e){this.getConditionTypes().forEach((t,i)=>{this.forEachPositionTypeInput(i,t,e)})}forEachPositionInput(e,t){const i=this.getConditionType(e);this.forEachPositionTypeInput(e,i,t)}forEachPositionTypeInput(e,t,i){const n=this.getNumberOfInputs(t),s=this.getInputs(e);for(let r=0;r<s.length;r++){const o=s[r];o!=null&&i(o,r,e,n)}}isConditionDisabled(e,t){return this.isReadOnly()?!0:e===0?!1:e>t+1}isConditionBodyVisible(e){const t=this.getConditionType(e);return this.getNumberOfInputs(t)>0}isConditionUiComplete(e){return!(e>=this.getNumConditions()||this.getConditionType(e)==="empty"||this.getValues(e).some(i=>i==null))}getNumConditions(){return this.eTypes.length}getUiCompleteConditions(){const e=[];for(let t=0;t<this.getNumConditions();t++)this.isConditionUiComplete(t)&&e.push(this.createCondition(t));return e}createMissingConditionsAndOperators(){if(!this.isReadOnly())for(let e=this.getNumConditions();e<this.numAlwaysVisibleConditions;e++)this.createJoinOperatorPanel(),this.createOption()}resetUiToDefaults(e){return this.removeConditionsAndOperators(this.isReadOnly()?1:this.numAlwaysVisibleConditions),this.eTypes.forEach(t=>this.resetType(t)),this.eJoinOperatorsAnd.forEach((t,i)=>this.resetJoinOperatorAnd(t,i,this.joinOperatorId+i)),this.eJoinOperatorsOr.forEach((t,i)=>this.resetJoinOperatorOr(t,i,this.joinOperatorId+i)),this.joinOperatorId++,this.forEachInput(t=>this.resetInput(t)),this.resetPlaceholder(),this.createMissingConditionsAndOperators(),this.lastUiCompletePosition=null,e||this.onUiChanged(),$i.resolve()}resetType(e){const i=this.getLocaleTextFunc()("ariaFilteringOperator","Filtering operator");e.setValue(this.optionsFactory.defaultOption,!0).setAriaLabel(i).setDisabled(this.isReadOnly()||this.filterListOptions.length<=1)}resetJoinOperatorAnd(e,t,i){this.resetJoinOperator(e,t,this.defaultJoinOperator==="AND",this.translate("andCondition"),i)}resetJoinOperatorOr(e,t,i){this.resetJoinOperator(e,t,this.defaultJoinOperator==="OR",this.translate("orCondition"),i)}resetJoinOperator(e,t,i,n,s){this.updateJoinOperatorDisabled(e.setValue(i,!0).setName(`ag-simple-filter-and-or-${this.getCompId()}-${s}`).setLabel(n),t)}updateJoinOperatorsDisabled(){const e=(t,i)=>this.updateJoinOperatorDisabled(t,i);this.eJoinOperatorsAnd.forEach(e),this.eJoinOperatorsOr.forEach(e)}updateJoinOperatorDisabled(e,t){e.setDisabled(this.isReadOnly()||t>0)}resetInput(e){this.setElementValue(e,null),this.setElementDisabled(e,this.isReadOnly())}setConditionIntoUi(e,t){const i=this.mapValuesFromModel(e);this.forEachInput((n,s,r)=>{r===t&&this.setElementValue(n,i[s]!=null?i[s]:null)})}setValueFromFloatingFilter(e){this.forEachInput((t,i,n)=>{this.setElementValue(t,i===0&&n===0?e:null,!0)})}addChangedListeners(e,t){this.isReadOnly()||(e.onValueChange(this.listener),this.forEachPositionInput(t,i=>{this.attachElementOnChange(i,this.listener)}))}individualConditionPasses(e,t){const i=this.getCellValue(e.node),n=this.mapValuesFromModel(t),s=this.optionsFactory.getCustomOption(t.type),r=Ufe(s,n,i);return r??(i==null?this.evaluateNullValue(t.type):this.evaluateNonNullValue(n,i,t,e))}hasInvalidInputs(){return!1}},UV=class extends WV{setParams(e){super.setParams(e),this.scalarFilterParams=e}evaluateNullValue(e){const{includeBlanksInEquals:t,includeBlanksInNotEqual:i,includeBlanksInGreaterThan:n,includeBlanksInLessThan:s,includeBlanksInRange:r}=this.scalarFilterParams;switch(e){case"equals":if(t)return!0;break;case"notEqual":if(i)return!0;break;case"greaterThan":case"greaterThanOrEqual":if(n)return!0;break;case"lessThan":case"lessThanOrEqual":if(s)return!0;break;case"inRange":if(r)return!0;break;case"blank":return!0;case"notBlank":return!1}return!1}evaluateNonNullValue(e,t,i){const n=i.type;if(!this.isValid(t))return n==="notEqual"||n==="notBlank";const s=this.comparator(),r=e[0]!=null?s(e[0],t):0;switch(n){case"equals":return r===0;case"notEqual":return r!==0;case"greaterThan":return r>0;case"greaterThanOrEqual":return r>=0;case"lessThan":return r<0;case"lessThanOrEqual":return r<=0;case"inRange":{const o=s(e[1],t);return this.scalarFilterParams.inRangeInclusive?r>=0&&o<=0:r>0&&o<0}case"blank":return FS(t);case"notBlank":return!FS(t);default:return Ae(76,{filterModelType:n}),!0}}},$V=class{constructor(e,t,i,n,s){this.alive=!0,this.context=e,this.eParent=n;const r=Foe(t,i);r&&r.newAgStackInstance().then(o=>{var u,d;if(!this.alive){e.destroyBean(o);return}if(this.dateComp=o,!o)return;n.appendChild(o.getGui()),(u=o==null?void 0:o.afterGuiAttached)==null||u.call(o);const{tempValue:a,disabled:l}=this;a&&o.setDate(a),l!=null&&((d=o.setDisabled)==null||d.call(o,l)),s==null||s(this)})}destroy(){this.alive=!1,this.dateComp=this.context.destroyBean(this.dateComp)}getDate(){return this.dateComp?this.dateComp.getDate():this.tempValue}setDate(e){const t=this.dateComp;t?t.setDate(e):this.tempValue=e}setDisabled(e){var i;const t=this.dateComp;t?(i=t.setDisabled)==null||i.call(t,e):this.disabled=e}setDisplayed(e){hn(this.eParent,e)}setInputPlaceholder(e){var t,i;(i=(t=this.dateComp)==null?void 0:t.setInputPlaceholder)==null||i.call(t,e)}setInputAriaLabel(e){var t,i;(i=(t=this.dateComp)==null?void 0:t.setInputAriaLabel)==null||i.call(t,e)}afterGuiAttached(e){var t,i;(i=(t=this.dateComp)==null?void 0:t.afterGuiAttached)==null||i.call(t,e)}updateParams(e){var t,i;(i=(t=this.dateComp)==null?void 0:t.refresh)==null||i.call(t,e)}},YV=["equals","notEqual","lessThan","greaterThan","inRange","blank","notBlank"],GL=class{constructor(e,t,i){this.getLocaleTextFunc=e,this.optionsFactory=t,this.valueFormatter=i}getModelAsString(e){if(!e)return null;const t=e.operator!=null,i=this.getLocaleTextFunc();if(t){const n=e,r=(n.conditions??[]).map(a=>this.getModelAsString(a)),o=n.operator==="AND"?"andCondition":"orCondition";return r.join(` ${i(o,jj[o])} `)}else{if(e.type==="blank"||e.type==="notBlank")return i(e.type,e.type);{const n=e,s=this.optionsFactory.getCustomOption(n.type),{displayKey:r,displayName:o,numberOfInputs:a}=s||{};return r&&o&&a===0?(i(r,o),o):this.conditionToString(n,s)}}}updateParams(e){this.optionsFactory=e.optionsFactory}formatValue(e){const t=this.valueFormatter;return t?t(e??null)??"":String(e)}},KV=class extends GL{constructor(e,t,i){super(t,i),this.dateFilterParams=e}conditionToString(e,t){const{type:i}=e,{numberOfInputs:n}=t||{},s=i=="inRange"||n===2,r=Ir(e.dateFrom),o=Ir(e.dateTo),a=this.dateFilterParams.inRangeFloatingFilterDateFormat;if(s){const l=r!==null?rv(r,a):"null",u=o!==null?rv(o,a):"null";return`${l}-${u}`}return r!=null?rv(r,a):`${i}`}updateParams(e){super.updateParams(e),this.dateFilterParams=e.dateFilterParams}},uz=1e3,dz=1/0,Yfe=class extends UV{constructor(){super("dateFilter"),this.eConditionPanelsFrom=[],this.eConditionPanelsTo=[],this.dateConditionFromComps=[],this.dateConditionToComps=[],this.minValidYear=uz,this.maxValidYear=dz,this.minValidDate=null,this.maxValidDate=null,this.filterType="date"}afterGuiAttached(e){super.afterGuiAttached(e),this.dateConditionFromComps[0].afterGuiAttached(e)}mapValuesFromModel(e){const{dateFrom:t,dateTo:i,type:n}=e||{};return[t&&Ir(t)||null,i&&Ir(i)||null].slice(0,this.getNumberOfInputs(n))}comparator(){return this.dateFilterParams.comparator??Kfe}isValid(e){const t=this.dateFilterParams.isValidDate;return!t||t(e)}setParams(e){this.dateFilterParams=e,super.setParams(e);const t=(i,n)=>{if(e[i]!=null)if(isNaN(e[i]))Ae(82,{param:i});else return e[i]==null?n:Number(e[i]);return n};this.minValidYear=t("minValidYear",uz),this.maxValidYear=t("maxValidYear",dz),this.minValidYear>this.maxValidYear&&Ae(83),this.minValidDate=e.minValidDate?e.minValidDate instanceof Date?e.minValidDate:Ir(e.minValidDate):null,this.maxValidDate=e.maxValidDate?e.maxValidDate instanceof Date?e.maxValidDate:Ir(e.maxValidDate):null,this.minValidDate&&this.maxValidDate&&this.minValidDate>this.maxValidDate&&Ae(84),this.filterModelFormatter=new KV(this.dateFilterParams,this.getLocaleTextFunc.bind(this),this.optionsFactory)}createDateCompWrapper(e){const{userCompFactory:t,context:i,gos:n}=this.beans,s=new $V(i,t,ut(n,{onDateChanged:()=>this.onUiChanged(),filterParams:this.dateFilterParams,location:"filter"}),e);return this.addDestroyFunc(()=>s.destroy()),s}setElementValue(e,t){e.setDate(t)}setElementDisplayed(e,t){e.setDisplayed(t)}setElementDisabled(e,t){e.setDisabled(t)}getDefaultFilterOptions(){return YV}createValueElement(){const t=An(this.beans).createElement("div");return t.classList.add("ag-filter-body"),this.createFromToElement(t,this.eConditionPanelsFrom,this.dateConditionFromComps,"from"),this.createFromToElement(t,this.eConditionPanelsTo,this.dateConditionToComps,"to"),t}createFromToElement(e,t,i,n){const r=An(this.beans).createElement("div");r.classList.add(`ag-filter-${n}`),r.classList.add(`ag-filter-date-${n}`),t.push(r),e.appendChild(r),i.push(this.createDateCompWrapper(r))}removeValueElements(e,t){this.removeDateComps(this.dateConditionFromComps,e,t),this.removeDateComps(this.dateConditionToComps,e,t),av(this.eConditionPanelsFrom,e,t),av(this.eConditionPanelsTo,e,t)}removeDateComps(e,t,i){av(e,t,i).forEach(s=>s.destroy())}isValidDateValue(e){if(e===null)return!1;const{minValidDate:t,maxValidDate:i,minValidYear:n,maxValidYear:s}=this;if(t){if(e<t)return!1}else if(e.getUTCFullYear()<n)return!1;if(i){if(e>i)return!1}else if(e.getUTCFullYear()>s)return!1;return!0}isConditionUiComplete(e){if(!super.isConditionUiComplete(e))return!1;let t=!0;return this.forEachInput((i,n,s,r)=>{s!==e||!t||n>=r||(t=t&&this.isValidDateValue(i.getDate()))}),t}areSimpleModelsEqual(e,t){return e.dateFrom===t.dateFrom&&e.dateTo===t.dateTo&&e.type===t.type}createCondition(e){const t=this.getConditionType(e),i={},n=this.getValues(e);return n.length>0&&(i.dateFrom=qo(n[0])),n.length>1&&(i.dateTo=qo(n[1])),{dateFrom:null,dateTo:null,filterType:this.filterType,type:t,...i}}resetPlaceholder(){const e=this.getLocaleTextFunc(),t=this.translate("dateFormatOoo"),i=e("ariaFilterValue","Filter Value");this.forEachInput(n=>{n.setInputPlaceholder(t),n.setInputAriaLabel(i)})}getInputs(e){const{dateConditionFromComps:t,dateConditionToComps:i}=this;return e>=t.length?[null,null]:[t[e],i[e]]}getValues(e){const t=[];return this.forEachPositionInput(e,(i,n,s,r)=>{n<r&&t.push(i.getDate())}),t}translate(e){return e==="lessThan"?super.translate("before"):e==="greaterThan"?super.translate("after"):super.translate(e)}getModelAsString(e){return this.filterModelFormatter.getModelAsString(e)??""}};function Kfe(e,t){const i=t;return i<e?-1:i>e?1:0}var qV=class extends Xi{constructor(){super(...arguments),this.defaultDebounceMs=0}setLastTypeFromModel(e){if(!e){this.lastType=this.optionsFactory.defaultOption;return}const t=e.operator;let i;t?i=e.conditions[0]:i=e,this.lastType=i.type}canWeEditAfterModelFromParentFilter(e){if(!e)return this.isTypeEditable(this.lastType);if(e.operator)return!1;const i=e;return this.isTypeEditable(i.type)}init(e){this.setSimpleParams(e,!1)}setSimpleParams(e,t=!0){const i=new VV;this.optionsFactory=i,i.init(e.filterParams,this.getDefaultOptions());const n=i.defaultOption;t||(this.lastType=n),this.readOnly=!!e.filterParams.readOnly;const s=this.isTypeEditable(n);this.setEditable(s)}refresh(e){this.setSimpleParams(e)}hasSingleInput(e){var i;const t=(i=this.optionsFactory.getCustomOption(e))==null?void 0:i.numberOfInputs;return t==null||t==1}isTypeEditable(e){const t=["inRange","empty","blank","notBlank"];return!!e&&!this.readOnly&&this.hasSingleInput(e)&&t.indexOf(e)<0}getAriaLabel(e){return`${this.beans.colNames.getDisplayNameForColumn(e.column,"header",!0)} ${this.getLocaleTextFunc()("ariaFilterInput","Filter Input")}`}},qfe=class extends qV{constructor(){super(`
            <div class="ag-floating-filter-input" role="presentation">
                <ag-input-text-field data-ref="eReadOnlyText"></ag-input-text-field>
                <div data-ref="eDateWrapper" style="display: flex;"></div>
            </div>`,[Xx]),this.eReadOnlyText=nt,this.eDateWrapper=nt}getDefaultOptions(){return YV}init(e){super.init(e),this.params=e,this.filterParams=e.filterParams,this.createDateComponent(),this.filterModelFormatter=new KV(this.filterParams,this.getLocaleTextFunc.bind(this),this.optionsFactory);const t=this.getLocaleTextFunc();this.eReadOnlyText.setDisabled(!0).setInputAriaLabel(t("ariaDateFilterInput","Date Filter Input"))}refresh(e){super.refresh(e),this.params=e,this.filterParams=e.filterParams,this.dateComp.updateParams(this.getDateComponentParams()),this.filterModelFormatter.updateParams({optionsFactory:this.optionsFactory,dateFilterParams:this.filterParams}),this.updateCompOnModelChange(e.currentParentModel())}updateCompOnModelChange(e){const t=!this.readOnly&&this.canWeEditAfterModelFromParentFilter(e);if(this.setEditable(t),t){const i=e?Ir(e.dateFrom):null;this.dateComp.setDate(i),this.eReadOnlyText.setValue("")}else this.eReadOnlyText.setValue(this.filterModelFormatter.getModelAsString(e)),this.dateComp.setDate(null)}setEditable(e){hn(this.eDateWrapper,e),hn(this.eReadOnlyText.getGui(),!e)}onParentModelChanged(e,t){t!=null&&t.afterFloatingFilter||t!=null&&t.afterDataChange||(super.setLastTypeFromModel(e),this.updateCompOnModelChange(e))}onDateChanged(){const e=this.dateComp.getDate(),t=qo(e);this.params.parentFilterInstance(i=>{if(i){const n=Ir(t);i.onFloatingFilterChanged(this.lastType||null,n)}})}getDateComponentParams(){const{filterParams:e,column:t}=this.params,i=xL(e,this.defaultDebounceMs);return ut(this.gos,{onDateChanged:Os(this,this.onDateChanged.bind(this),i),filterParams:t.getColDef().filterParams,location:"floatingFilter"})}createDateComponent(){const{beans:{context:e,userCompFactory:t},eDateWrapper:i}=this;this.dateComp=new $V(e,t,this.getDateComponentParams(),i,n=>{n.setInputAriaLabel(this.getAriaLabel(this.params))}),this.addDestroyFunc(()=>this.dateComp.destroy())}},Zfe=class extends Xi{constructor(){super(`
            <div class="ag-filter-filter">
                <ag-input-text-field class="ag-date-filter" data-ref="eDateInput"></ag-input-text-field>
            </div>`,[Xx]),this.eDateInput=nt,this.isApply=!1,this.applyOnFocusOut=!1}init(e){this.params=e,this.setParams(e);const t=this.eDateInput.getInputElement();this.addManagedListeners(t,{mouseDown:()=>{this.eDateInput.isDisabled()||this.usingSafariDatePicker||t.focus({preventScroll:!0})},input:this.handleInput.bind(this,!1),change:this.handleInput.bind(this,!0),focusout:this.handleFocusOut.bind(this)})}handleInput(e,t){if(t.target===yn(this.beans)&&!this.eDateInput.isDisabled()){if(this.isApply){this.applyOnFocusOut=!e,e&&this.params.onDateChanged();return}e||this.params.onDateChanged()}}handleFocusOut(){this.applyOnFocusOut&&(this.applyOnFocusOut=!1,this.params.onDateChanged())}setParams(e){const t=this.eDateInput.getInputElement(),i=this.shouldUseBrowserDatePicker(e);this.usingSafariDatePicker=i&&hd(),t.type=i?"date":"text";const{minValidYear:n,maxValidYear:s,minValidDate:r,maxValidDate:o,buttons:a}=e.filterParams||{};if(r&&n&&Ae(85),o&&s&&Ae(86),r&&o){const[l,u]=[r,o].map(d=>d instanceof Date?d:Ir(d));l&&u&&l.getTime()>u.getTime()&&Ae(87)}r?r instanceof Date?t.min=rv(r):t.min=r:n&&(t.min=`${n}-01-01`),o?o instanceof Date?t.max=rv(o):t.max=o:s&&(t.max=`${s}-12-31`),this.isApply=e.location==="floatingFilter"&&!!(a!=null&&a.includes("apply"))}refresh(e){this.params=e,this.setParams(e)}getDate(){return Ir(this.eDateInput.getValue())}setDate(e){this.eDateInput.setValue(qo(e,!1))}setInputPlaceholder(e){this.eDateInput.setInputPlaceholder(e)}setInputAriaLabel(e){this.eDateInput.setAriaLabel(e)}setDisabled(e){this.eDateInput.setDisabled(e)}afterGuiAttached(e){(!e||!e.suppressFocus)&&this.eDateInput.getInputElement().focus({preventScroll:!0})}shouldUseBrowserDatePicker(e){var t;return((t=e==null?void 0:e.filterParams)==null?void 0:t.browserDatePicker)??!0}},ZV=["equals","notEqual","greaterThan","greaterThanOrEqual","lessThan","lessThanOrEqual","inRange","blank","notBlank"],XV=class extends GL{conditionToString(e,t){const{numberOfInputs:i}=t||{},{filter:n,filterTo:s,type:r}=e,o=r=="inRange"||i===2,a=this.formatValue.bind(this);return o?`${a(n)}-${a(s)}`:n!=null?a(n):`${r}`}};function oA(e){const{allowedCharPattern:t}=e??{};return t??null}var Xfe=class extends UV{constructor(){super("numberFilter"),this.eValuesFrom=[],this.eValuesTo=[],this.filterType="number",this.defaultDebounceMs=500}refresh(e){return this.numberFilterParams.allowedCharPattern!==e.allowedCharPattern?!1:super.refresh(e)}mapValuesFromModel(e){const{filter:t,filterTo:i,type:n}=e||{};return[this.processValue(t),this.processValue(i)].slice(0,this.getNumberOfInputs(n))}comparator(){return(e,t)=>e===t?0:e<t?1:-1}isValid(e){return!isNaN(e)}setParams(e){this.numberFilterParams=e,super.setParams(e),this.filterModelFormatter=new XV(this.getLocaleTextFunc.bind(this),this.optionsFactory,this.numberFilterParams.numberFormatter)}getDefaultFilterOptions(){return ZV}setElementValue(e,t,i){const{numberFormatter:n}=this.numberFilterParams,s=!i&&n?n(t??null):t;super.setElementValue(e,s)}createValueElement(){const e=oA(this.numberFilterParams),t=document.createElement("div");return t.classList.add("ag-filter-body"),La(t,"presentation"),this.createFromToElement(t,this.eValuesFrom,"from",e),this.createFromToElement(t,this.eValuesTo,"to",e),t}createFromToElement(e,t,i,n){const s=this.createManagedBean(n?new bp({allowedCharPattern:n}):new PL);s.addCssClass(`ag-filter-${i}`),s.addCssClass("ag-filter-filter"),t.push(s),e.appendChild(s.getGui())}removeValueElements(e,t){const i=n=>this.removeComponents(n,e,t);i(this.eValuesFrom),i(this.eValuesTo)}getValues(e){const t=[];return this.forEachPositionInput(e,(i,n,s,r)=>{n<r&&t.push(this.processValue(this.stringToFloat(i.getValue())))}),t}areSimpleModelsEqual(e,t){return e.filter===t.filter&&e.filterTo===t.filterTo&&e.type===t.type}processValue(e){return e==null||isNaN(e)?null:e}stringToFloat(e){if(typeof e=="number")return e;let t=wc(e);t!=null&&t.trim()===""&&(t=null);const i=this.numberFilterParams.numberParser;return i?i(t):t==null||t.trim()==="-"?null:parseFloat(t)}createCondition(e){const t=this.getConditionType(e),i={filterType:this.filterType,type:t},n=this.getValues(e);return n.length>0&&(i.filter=n[0]),n.length>1&&(i.filterTo=n[1]),i}getInputs(e){const{eValuesFrom:t,eValuesTo:i}=this;return e>=t.length?[null,null]:[t[e],i[e]]}getModelAsString(e){return this.filterModelFormatter.getModelAsString(e)??""}hasInvalidInputs(){let e=!1;return this.forEachInput(t=>{if(!t.getInputElement().validity.valid){e=!0;return}}),e}},QV=class extends ye{constructor(e){super(),this.params=e,this.eInput=nt,this.onValueChanged=()=>{}}setupGui(e){var n;this.eInput=this.createManagedBean(new bp((n=this.params)==null?void 0:n.config));const t=this.eInput.getGui();e.appendChild(t);const i=s=>this.onValueChanged(s);this.addManagedListeners(t,{input:i,keydown:i})}setEditable(e){this.eInput.setDisabled(!e)}getValue(){return this.eInput.getValue()}setValue(e,t){this.eInput.setValue(e,t)}setValueChangedListener(e){this.onValueChanged=e}setParams({ariaLabel:e,autoComplete:t}){const{eInput:i}=this;i.setInputAriaLabel(e),t!==void 0&&i.setAutoComplete(t)}};function JV(e){const t=e==null?void 0:e.trim();return t===""?e:t}var e5=class extends qV{constructor(){super(...arguments),this.eFloatingFilterInputContainer=nt,this.defaultDebounceMs=500}postConstruct(){this.setTemplate(`
            <div class="ag-floating-filter-input" role="presentation" data-ref="eFloatingFilterInputContainer"></div>
        `)}onParentModelChanged(e,t){t!=null&&t.afterFloatingFilter||t!=null&&t.afterDataChange||(this.setLastTypeFromModel(e),this.setEditable(this.canWeEditAfterModelFromParentFilter(e)),this.inputSvc.setValue(this.filterModelFormatter.getModelAsString(e)))}init(e){this.setupFloatingFilterInputService(e),super.init(e),this.setTextInputParams(e)}setupFloatingFilterInputService(e){this.inputSvc=this.createFloatingFilterInputService(e),this.inputSvc.setupGui(this.eFloatingFilterInputContainer)}setTextInputParams(e){this.params=e;const t=e.browserAutoComplete??!1,{inputSvc:i,defaultDebounceMs:n,readOnly:s}=this;if(i.setParams({ariaLabel:this.getAriaLabel(e),autoComplete:t}),this.applyActive=IS(e.filterParams),!s){const r=xL(e.filterParams,n),o=Os(this,this.syncUpWithParentFilter.bind(this),r);i.setValueChangedListener(o)}}refresh(e){super.refresh(e),this.setTextInputParams(e)}recreateFloatingFilterInputService(e){const{inputSvc:t}=this,i=t.getValue();no(this.eFloatingFilterInputContainer),this.destroyBean(t),this.setupFloatingFilterInputService(e),t.setValue(i,!0)}syncUpWithParentFilter(e){const t=e.key===ge.ENTER;if(this.applyActive&&!t)return;const{inputSvc:i,params:n}=this;let s=i.getValue();n.filterParams.trimInput&&(s=JV(s),i.setValue(s,!0)),n.parentFilterInstance(r=>{r==null||r.onFloatingFilterChanged(this.lastType||null,s||null)})}setEditable(e){this.inputSvc.setEditable(e)}},Qfe=class extends ye{constructor(){super(...arguments),this.onValueChanged=()=>{},this.numberInputActive=!0}setupGui(e){this.eNumberInput=this.createManagedBean(new PL),this.eTextInput=this.createManagedBean(new bp),this.eTextInput.setDisabled(!0);const t=this.eNumberInput.getGui(),i=this.eTextInput.getGui();e.appendChild(t),e.appendChild(i),this.setupListeners(t,n=>this.onValueChanged(n)),this.setupListeners(i,n=>this.onValueChanged(n))}setEditable(e){this.numberInputActive=e,this.eNumberInput.setDisplayed(this.numberInputActive),this.eTextInput.setDisplayed(!this.numberInputActive)}setAutoComplete(e){this.eNumberInput.setAutoComplete(e),this.eTextInput.setAutoComplete(e)}getValue(){return this.getActiveInputElement().getValue()}setValue(e,t){this.getActiveInputElement().setValue(e,t)}getActiveInputElement(){return this.numberInputActive?this.eNumberInput:this.eTextInput}setValueChangedListener(e){this.onValueChanged=e}setupListeners(e,t){this.addManagedListeners(e,{input:t,keydown:t})}setParams(e){this.setAriaLabel(e.ariaLabel),e.autoComplete!==void 0&&this.setAutoComplete(e.autoComplete)}setAriaLabel(e){this.eNumberInput.setInputAriaLabel(e),this.eTextInput.setInputAriaLabel(e)}},Jfe=class extends e5{init(e){var t;super.init(e),this.filterModelFormatter=new XV(this.getLocaleTextFunc.bind(this),this.optionsFactory,(t=e.filterParams)==null?void 0:t.numberFormatter)}refresh(e){oA(e.filterParams)!==this.allowedCharPattern&&this.recreateFloatingFilterInputService(e),super.refresh(e),this.filterModelFormatter.updateParams({optionsFactory:this.optionsFactory})}getDefaultOptions(){return ZV}createFloatingFilterInputService(e){return this.allowedCharPattern=oA(e.filterParams),this.allowedCharPattern?this.createManagedBean(new QV({config:{allowedCharPattern:this.allowedCharPattern}})):this.createManagedBean(new Qfe)}},t5=["contains","notContains","equals","notEqual","startsWith","endsWith","blank","notBlank"],i5=class extends GL{conditionToString(e,t){const{numberOfInputs:i}=t||{},{filter:n,filterTo:s,type:r}=e;return r=="inRange"||i===2?`${n}-${s}`:n!=null?`${n}`:`${r}`}},ege=class extends WV{constructor(){super("textFilter"),this.filterType="text",this.defaultFormatter=e=>e,this.defaultLowercaseFormatter=e=>e==null?null:e.toString().toLowerCase(),this.defaultMatcher=({filterOption:e,value:t,filterText:i})=>{if(i==null)return!1;switch(e){case"contains":return t.indexOf(i)>=0;case"notContains":return t.indexOf(i)<0;case"equals":return t===i;case"notEqual":return t!=i;case"startsWith":return t.indexOf(i)===0;case"endsWith":{const n=t.lastIndexOf(i);return n>=0&&n===t.length-i.length}default:return!1}},this.eValuesFrom=[],this.eValuesTo=[],this.defaultDebounceMs=500}setParams(e){this.textFilterParams=e,super.setParams(e),this.matcher=e.textMatcher||this.defaultMatcher,this.formatter=e.textFormatter||(e.caseSensitive?this.defaultFormatter:this.defaultLowercaseFormatter),this.filterModelFormatter=new i5(this.getLocaleTextFunc.bind(this),this.optionsFactory)}createCondition(e){const t=this.getConditionType(e),i={filterType:this.filterType,type:t},n=this.getValuesWithSideEffects(e,!0);return n.length>0&&(i.filter=n[0]),n.length>1&&(i.filterTo=n[1]),i}areSimpleModelsEqual(e,t){return e.filter===t.filter&&e.filterTo===t.filterTo&&e.type===t.type}getInputs(e){const{eValuesFrom:t,eValuesTo:i}=this;return e>=t.length?[null,null]:[t[e],i[e]]}getValues(e){return this.getValuesWithSideEffects(e,!1)}getValuesWithSideEffects(e,t){const i=[];return this.forEachPositionInput(e,(n,s,r,o)=>{if(s<o){let a=wc(n.getValue());t&&this.textFilterParams.trimInput&&(a=JV(a)??null,n.setValue(a,!0)),i.push(a)}}),i}getDefaultFilterOptions(){return t5}createValueElement(){const e=document.createElement("div");return e.classList.add("ag-filter-body"),La(e,"presentation"),this.createFromToElement(e,this.eValuesFrom,"from"),this.createFromToElement(e,this.eValuesTo,"to"),e}createFromToElement(e,t,i){const n=this.createManagedBean(new bp);n.addCssClass(`ag-filter-${i}`),n.addCssClass("ag-filter-filter"),t.push(n),e.appendChild(n.getGui())}removeValueElements(e,t){const i=n=>this.removeComponents(n,e,t);i(this.eValuesFrom),i(this.eValuesTo)}mapValuesFromModel(e){const{filter:t,filterTo:i,type:n}=e||{};return[t||null,i||null].slice(0,this.getNumberOfInputs(n))}evaluateNullValue(e){return e?["notEqual","notContains","blank"].indexOf(e)>=0:!1}evaluateNonNullValue(e,t,i,n){const s=e.map(f=>this.formatter(f))||[],r=this.formatter(t),{api:o,colDef:a,column:l,context:u,textFormatter:d}=this.textFilterParams;if(i.type==="blank")return FS(t);if(i.type==="notBlank")return!FS(t);const p={api:o,colDef:a,column:l,context:u,node:n.node,data:n.data,filterOption:i.type,value:r,textFormatter:d};return s.some(f=>this.matcher({...p,filterText:f}))}getModelAsString(e){return this.filterModelFormatter.getModelAsString(e)??""}},tge=class extends e5{init(e){super.init(e),this.filterModelFormatter=new i5(this.getLocaleTextFunc.bind(this),this.optionsFactory)}refresh(e){super.refresh(e),this.filterModelFormatter.updateParams({optionsFactory:this.optionsFactory})}getDefaultOptions(){return t5}createFloatingFilterInputService(){return this.createManagedBean(new QV)}};function ige(e){var t;return!!((t=e.quickFilter)!=null&&t.isFilterPresent())}function nge(e){var t;return(t=e.quickFilter)==null?void 0:t.getText()}function sge(e){var t;(t=e.quickFilter)==null||t.resetCache()}var rge=class extends ye{constructor(){super(...arguments),this.beanName="quickFilter",this.quickFilter=null,this.quickFilterParts=null}postConstruct(){const e=this.resetCache.bind(this),t=this.gos;this.addManagedEventListeners({columnPivotModeChanged:e,newColumnsLoaded:e,columnRowGroupChanged:e,columnVisible:()=>{t.get("includeHiddenColumnsInQuickFilter")||this.resetCache()}}),this.addManagedPropertyListener("quickFilterText",i=>this.setFilter(i.currentValue)),this.addManagedPropertyListeners(["includeHiddenColumnsInQuickFilter","applyQuickFilterBeforePivotOrAgg"],()=>this.onColumnConfigChanged()),this.quickFilter=this.parseFilter(t.get("quickFilterText")),this.parser=t.get("quickFilterParser"),this.matcher=t.get("quickFilterMatcher"),this.setFilterParts(),this.addManagedPropertyListeners(["quickFilterMatcher","quickFilterParser"],()=>this.setParserAndMatcher())}refreshCols(){var l;const{autoColSvc:e,colModel:t,gos:i,pivotResultCols:n}=this.beans,s=t.isPivotMode(),r=e==null?void 0:e.getColumns(),o=t.getColDefCols();let a=(s&&!i.get("applyQuickFilterBeforePivotOrAgg")?(l=n==null?void 0:n.getPivotResultCols())==null?void 0:l.list:o)??[];r&&(a=a.concat(r)),this.colsToUse=i.get("includeHiddenColumnsInQuickFilter")?a:a.filter(u=>u.isVisible()||u.isRowGroupActive())}isFilterPresent(){return this.quickFilter!==null}doesRowPass(e){const t=this.gos.get("cacheQuickFilter");return this.matcher?this.doesRowPassMatcher(t,e):this.quickFilterParts.every(i=>t?this.doesRowPassCache(e,i):this.doesRowPassNoCache(e,i))}resetCache(){this.beans.rowModel.forEachNode(e=>e.quickFilterAggregateText=null)}getText(){return this.gos.get("quickFilterText")}setFilterParts(){const{quickFilter:e,parser:t}=this;e?this.quickFilterParts=t?t(e):e.split(" "):this.quickFilterParts=null}parseFilter(e){return Ne(e)?e.toUpperCase():null}setFilter(e){if(e!=null&&typeof e!="string"){Ae(70,{newFilter:e});return}const t=this.parseFilter(e);this.quickFilter!==t&&(this.quickFilter=t,this.setFilterParts(),this.dispatchLocalEvent({type:"quickFilterChanged"}))}setParserAndMatcher(){const e=this.gos.get("quickFilterParser"),t=this.gos.get("quickFilterMatcher"),i=e!==this.parser||t!==this.matcher;this.parser=e,this.matcher=t,i&&(this.setFilterParts(),this.dispatchLocalEvent({type:"quickFilterChanged"}))}onColumnConfigChanged(){this.refreshCols(),this.resetCache(),this.isFilterPresent()&&this.dispatchLocalEvent({type:"quickFilterChanged"})}doesRowPassNoCache(e,t){return this.colsToUse.some(i=>{const n=this.getTextForColumn(i,e);return Ne(n)&&n.indexOf(t)>=0})}doesRowPassCache(e,t){return this.checkGenerateAggText(e),e.quickFilterAggregateText.indexOf(t)>=0}doesRowPassMatcher(e,t){let i;e?(this.checkGenerateAggText(t),i=t.quickFilterAggregateText):i=this.getAggText(t);const{quickFilterParts:n,matcher:s}=this;return s(n,i)}checkGenerateAggText(e){e.quickFilterAggregateText||(e.quickFilterAggregateText=this.getAggText(e))}getTextForColumn(e,t){let i=this.beans.filterValueSvc.getValue(e,t);const n=e.getColDef();if(n.getQuickFilterText){const s=ut(this.gos,{value:i,node:t,data:t.data,column:e,colDef:n});i=n.getQuickFilterText(s)}return Ne(i)?i.toString().toUpperCase():null}getAggText(e){const t=[];return this.colsToUse.forEach(i=>{const n=this.getTextForColumn(i,e);Ne(n)&&t.push(n)}),t.join(`
`)}},oge={moduleName:"ClientSideRowModelFilter",version:Ge,rowModels:["clientSide"],beans:[Cfe]},HL={moduleName:"FilterCore",version:Ge,beans:[Hfe],apiFunctions:{isAnyFilterPresent:zfe,onFilterChanged:Gfe},css:[Efe],dependsOn:[oge]},n5={moduleName:"FilterValue",version:Ge,beans:[jfe]},tM={moduleName:"ColumnFilter",version:Ge,beans:[Bfe,_fe],dynamicBeans:{headerFilterCellCtrl:bfe},icons:{filter:"filter",filterActive:"filter"},apiFunctions:{isColumnFilterPresent:Tfe,getColumnFilterInstance:Afe,destroyFilter:Ife,setFilterModel:Lfe,getFilterModel:kfe,getColumnFilterModel:Pfe,setColumnFilterModel:Ffe,showColumnFilter:Ofe},dependsOn:[HL,eM,n5,xfe]},age={moduleName:"CustomFilter",version:Ge,userComponents:{agReadOnlyFloatingFilter:Vfe},dependsOn:[tM]},lge={moduleName:"TextFilter",version:Ge,dependsOn:[tM],userComponents:{agTextColumnFilter:ege,agTextColumnFloatingFilter:tge}},cge={moduleName:"NumberFilter",version:Ge,dependsOn:[tM],userComponents:{agNumberColumnFilter:Xfe,agNumberColumnFloatingFilter:Jfe}},uge={moduleName:"DateFilter",version:Ge,dependsOn:[tM],userComponents:{agDateColumnFilter:Yfe,agDateInput:Zfe,agDateColumnFloatingFilter:qfe}},dge={moduleName:"QuickFilterCore",version:Ge,rowModels:["clientSide"],beans:[rge],dependsOn:[HL,n5]},hge={moduleName:"QuickFilter",version:Ge,apiFunctions:{isQuickFilterPresent:ige,getQuickFilter:nge,resetQuickFilter:sge},dependsOn:[dge]},pge={moduleName:"ExternalFilter",version:Ge,dependsOn:[HL]},_y=class{constructor(e){this.cellValueChanges=e}},h1=class extends _y{constructor(e,t,i,n){super(e),this.initialRange=t,this.finalRange=i,this.ranges=n}},fge=10,hz=class{constructor(e){this.actionStack=[],this.maxStackSize=e||fge,this.actionStack=new Array(this.maxStackSize)}pop(){return this.actionStack.pop()}push(e){e.cellValueChanges&&e.cellValueChanges.length>0&&(this.actionStack.length===this.maxStackSize&&this.actionStack.shift(),this.actionStack.push(e))}clear(){this.actionStack=[]}getCurrentStackSize(){return this.actionStack.length}},gge=class extends ye{constructor(){super(...arguments),this.beanName="undoRedo",this.cellValueChanges=[],this.activeCellEdit=null,this.activeRowEdit=null,this.isPasting=!1,this.isRangeInAction=!1,this.onCellValueChanged=e=>{const t={column:e.column,rowIndex:e.rowIndex,rowPinned:e.rowPinned},i=this.activeCellEdit!==null&&qT(this.activeCellEdit,t),n=this.activeRowEdit!==null&&Eae(this.activeRowEdit,t);if(!(i||n||this.isPasting||this.isRangeInAction))return;const{rowPinned:r,rowIndex:o,column:a,oldValue:l,value:u}=e,d={rowPinned:r,rowIndex:o,columnId:a.getColId(),newValue:u,oldValue:l};this.cellValueChanges.push(d)},this.clearStacks=()=>{this.undoStack.clear(),this.redoStack.clear()}}postConstruct(){const{gos:e,ctrlsSvc:t}=this.beans;if(!e.get("undoRedoCellEditing"))return;const i=e.get("undoRedoCellEditingLimit");if(i<=0)return;this.undoStack=new hz(i),this.redoStack=new hz(i),this.addListeners();const n=this.clearStacks.bind(this);this.addManagedEventListeners({cellValueChanged:this.onCellValueChanged.bind(this),modelUpdated:s=>{s.keepUndoRedoStack||this.clearStacks()},columnPivotModeChanged:n,newColumnsLoaded:n,columnGroupOpened:n,columnRowGroupChanged:n,columnMoved:n,columnPinned:n,columnVisible:n,rowDragEnd:n}),t.whenReady(this,s=>{this.gridBodyCtrl=s.gridBodyCtrl})}getCurrentUndoStackSize(){var e;return((e=this.undoStack)==null?void 0:e.getCurrentStackSize())??0}getCurrentRedoStackSize(){var e;return((e=this.redoStack)==null?void 0:e.getCurrentStackSize())??0}undo(e){const{eventSvc:t,undoStack:i,redoStack:n}=this;t.dispatchEvent({type:"undoStarted",source:e});const s=this.undoRedo(i,n,"initialRange","oldValue","undo");t.dispatchEvent({type:"undoEnded",source:e,operationPerformed:s})}redo(e){const{eventSvc:t,undoStack:i,redoStack:n}=this;t.dispatchEvent({type:"redoStarted",source:e});const s=this.undoRedo(n,i,"finalRange","newValue","redo");t.dispatchEvent({type:"redoEnded",source:e,operationPerformed:s})}undoRedo(e,t,i,n,s){if(!e)return!1;const r=e.pop();return!r||!r.cellValueChanges?!1:(this.processAction(r,o=>o[n],s),r instanceof h1?this.processRange(r.ranges||[r[i]]):this.processCell(r.cellValueChanges),t.push(r),!0)}processAction(e,t,i){e.cellValueChanges.forEach(n=>{const{rowIndex:s,rowPinned:r,columnId:o}=n,a={rowIndex:s,rowPinned:r},l=AS(this.beans,a);l.displayed&&l.setDataValue(o,t(n),i)})}processRange(e){let t;const i=this.beans.rangeSvc;i.removeAllCellRanges(!0),e.forEach((n,s)=>{if(!n)return;const r=n.startRow,o=n.endRow;s===e.length-1&&(t={rowPinned:r.rowPinned,rowIndex:r.rowIndex,columnId:n.startColumn.getColId()},this.setLastFocusedCell(t));const a={rowStartIndex:r.rowIndex,rowStartPinned:r.rowPinned,rowEndIndex:o.rowIndex,rowEndPinned:o.rowPinned,columnStart:n.startColumn,columns:n.columns};i.addCellRange(a)})}processCell(e){const t=e[0],{rowIndex:i,rowPinned:n}=t,s={rowIndex:i,rowPinned:n},r=AS(this.beans,s),o={rowPinned:t.rowPinned,rowIndex:r.rowIndex,columnId:t.columnId};this.setLastFocusedCell(o)}setLastFocusedCell(e){const{rowIndex:t,columnId:i,rowPinned:n}=e,{colModel:s,focusSvc:r,rangeSvc:o}=this.beans,a=s.getCol(i);if(!a)return;const{scrollFeature:l}=this.gridBodyCtrl;l.ensureIndexVisible(t),l.ensureColumnVisible(a);const u={rowIndex:t,column:a,rowPinned:n};r.setFocusedCell({...u,forceBrowserFocus:!0}),o==null||o.setRangeToCell(u)}addListeners(){this.addManagedEventListeners({rowEditingStarted:e=>{this.activeRowEdit={rowIndex:e.rowIndex,rowPinned:e.rowPinned}},rowEditingStopped:()=>{const e=new _y(this.cellValueChanges);this.pushActionsToUndoStack(e),this.activeRowEdit=null},cellEditingStarted:e=>{this.activeCellEdit={column:e.column,rowIndex:e.rowIndex,rowPinned:e.rowPinned}},cellEditingStopped:e=>{if(this.activeCellEdit=null,e.valueChanged&&!this.activeRowEdit&&!this.isPasting&&!this.isRangeInAction){const i=new _y(this.cellValueChanges);this.pushActionsToUndoStack(i)}},pasteStart:()=>{this.isPasting=!0},pasteEnd:()=>{const e=new _y(this.cellValueChanges);this.pushActionsToUndoStack(e),this.isPasting=!1},fillStart:()=>{this.isRangeInAction=!0},fillEnd:e=>{const t=new h1(this.cellValueChanges,e.initialRange,e.finalRange);this.pushActionsToUndoStack(t),this.isRangeInAction=!1},keyShortcutChangedCellStart:()=>{this.isRangeInAction=!0},keyShortcutChangedCellEnd:()=>{let e;const{rangeSvc:t,gos:i}=this.beans;t&&nd(i)?e=new h1(this.cellValueChanges,void 0,void 0,[...t.getCellRanges()]):e=new _y(this.cellValueChanges),this.pushActionsToUndoStack(e),this.isRangeInAction=!1}})}pushActionsToUndoStack(e){this.undoStack.push(e),this.cellValueChanges=[],this.redoStack.clear()}},mge=".ag-cell-inline-editing{border:var(--ag-cell-editing-border)!important;border-radius:var(--ag-border-radius);box-shadow:var(--ag-cell-editing-shadow);padding:0;z-index:1;.ag-cell-edit-wrapper,.ag-cell-editor,.ag-cell-wrapper,:where(.ag-cell-editor) .ag-input-field-input,:where(.ag-cell-editor) .ag-wrapper{height:100%;line-height:normal;width:100%}}:where(.ag-popup-editor) .ag-large-text{background-color:var(--ag-background-color);border-radius:var(--ag-border-radius);box-shadow:var(--ag-dropdown-shadow);padding:0}.ag-large-text-input{height:auto;padding:var(--ag-cell-horizontal-padding)}:where(.ag-rtl .ag-large-text-input) textarea{resize:none}:where(.ag-ltr) .ag-checkbox-edit{padding-left:var(--ag-cell-horizontal-padding)}:where(.ag-rtl) .ag-checkbox-edit{padding-right:var(--ag-cell-horizontal-padding)}",yge=class extends jg{constructor(){super(`
            <div class="ag-cell-wrapper ag-cell-edit-wrapper ag-checkbox-edit">
                <ag-checkbox role="presentation" data-ref="eCheckbox"></ag-checkbox>
            </div>`,[kL]),this.eCheckbox=nt}init(e){this.params=e;const t=e.value??void 0,i=this.eCheckbox;i.setValue(t),i.getInputElement().setAttribute("tabindex","-1"),this.setAriaLabel(t),this.addManagedListeners(i,{fieldValueChanged:s=>this.setAriaLabel(s.selected)})}getValue(){return this.eCheckbox.getValue()}focusIn(){this.eCheckbox.getFocusableElement().focus()}afterGuiAttached(){this.params.cellStartedEdit&&this.focusIn()}isPopup(){return!1}setAriaLabel(e){const t=this.getLocaleTextFunc(),i=dL(t,e),n=t("ariaToggleCellValue","Press SPACE to toggle cell value");this.eCheckbox.setInputAriaLabel(`${n} (${i})`)}},iM=class extends jg{constructor(e){super(`
            <div class="ag-cell-edit-wrapper">
                ${e.getTemplate()}
            </div>`,e.getAgComponents()),this.cellEditorInput=e,this.eInput=nt}init(e){this.params=e;const{cellStartedEdit:t,eventKey:i,suppressPreventDefault:n}=e,s=this.eInput;this.cellEditorInput.init(s,e);let r,o=!0;t?(this.focusAfterAttached=!0,i===ge.BACKSPACE||i===ge.DELETE?r="":i&&i.length===1?n?o=!1:r=i:(r=this.cellEditorInput.getStartValue(),i!==ge.F2&&(this.highlightAllOnFocus=!0))):(this.focusAfterAttached=!1,r=this.cellEditorInput.getStartValue()),o&&r!=null&&s.setStartValue(r),this.addManagedElementListeners(s.getGui(),{keydown:a=>{const{key:l}=a;(l===ge.PAGE_UP||l===ge.PAGE_DOWN)&&a.preventDefault()}})}afterGuiAttached(){var n,s;const e=this.getLocaleTextFunc(),t=this.eInput;if(t.setInputAriaLabel(e("ariaInputEditor","Input Editor")),!this.focusAfterAttached)return;hd()||t.getFocusableElement().focus();const i=t.getInputElement();this.highlightAllOnFocus?i.select():(s=(n=this.cellEditorInput).setCaret)==null||s.call(n)}focusIn(){const e=this.eInput,t=e.getFocusableElement(),i=e.getInputElement();t.focus(),i.select()}getValue(){return this.cellEditorInput.getValue()}isPopup(){return!1}},vge=class{getTemplate(){return'<ag-input-date-field class="ag-cell-editor" data-ref="eInput"></ag-input-date-field>'}getAgComponents(){return[eV]}init(e,t){this.eInput=e,this.params=t;const{min:i,max:n,step:s}=t;i!=null&&e.setMin(i),n!=null&&e.setMax(n),s!=null&&e.setStep(s)}getValue(){const{eInput:e,params:t}=this,i=e.getDate();return!Ne(i)&&!Ne(t.value)?t.value:i??null}getStartValue(){const{value:e}=this.params;if(e instanceof Date)return qo(e,!1)}},Cge=class extends iM{constructor(){super(new vge)}},bge=class{constructor(e){this.getDataTypeService=e}getTemplate(){return'<ag-input-date-field class="ag-cell-editor" data-ref="eInput"></ag-input-date-field>'}getAgComponents(){return[eV]}init(e,t){this.eInput=e,this.params=t;const{min:i,max:n,step:s}=t;i!=null&&e.setMin(i),n!=null&&e.setMax(n),s!=null&&e.setStep(s)}getValue(){const{params:e,eInput:t}=this,i=this.formatDate(t.getDate());return!Ne(i)&&!Ne(e.value)?e.value:e.parseValue(i??"")}getStartValue(){return qo(this.parseDate(this.params.value??void 0)??null,!1)}parseDate(e){const t=this.getDataTypeService();return t?t.getDateParserFunction(this.params.column)(e):Ir(e)??void 0}formatDate(e){const t=this.getDataTypeService();return t?t.getDateFormatterFunction(this.params.column)(e):qo(e??null,!1)??void 0}},wge=class extends iM{constructor(){super(new bge(()=>this.beans.dataTypeSvc))}},Sge=class extends jg{constructor(){super(`<div class="ag-large-text">
        <ag-input-text-area data-ref="eTextArea" class="ag-large-text-input"></ag-input-text-area>
        </div>`,[Wle]),this.eTextArea=nt}init(e){this.params=e,this.focusAfterAttached=e.cellStartedEdit,this.eTextArea.setMaxLength(e.maxLength||200).setCols(e.cols||60).setRows(e.rows||10),e.value!=null&&this.eTextArea.setValue(e.value.toString(),!0),this.addGuiEventListener("keydown",this.onKeyDown.bind(this)),this.activateTabIndex()}onKeyDown(e){const t=e.key;(t===ge.LEFT||t===ge.UP||t===ge.RIGHT||t===ge.DOWN||e.shiftKey&&t===ge.ENTER)&&e.stopPropagation()}afterGuiAttached(){const e=this.getLocaleTextFunc();this.eTextArea.setInputAriaLabel(e("ariaInputEditor","Input Editor")),this.focusAfterAttached&&this.eTextArea.getFocusableElement().focus()}getValue(){const e=this.eTextArea.getValue(),t=this.params;return!Ne(e)&&!Ne(t.value)?t.value:t.parseValue(e)}},xge=class{getTemplate(){return'<ag-input-number-field class="ag-cell-editor" data-ref="eInput"></ag-input-number-field>'}getAgComponents(){return[Ule]}init(e,t){this.eInput=e,this.params=t;const{max:i,min:n,precision:s,step:r}=t;i!=null&&e.setMax(i),n!=null&&e.setMin(n),s!=null&&e.setPrecision(s),r!=null&&e.setStep(r);const o=e.getInputElement();t.preventStepping?e.addManagedElementListeners(o,{keydown:this.preventStepping}):t.showStepperButtons&&o.classList.add("ag-number-field-input-stepper")}preventStepping(e){(e.key===ge.UP||e.key===ge.DOWN)&&e.preventDefault()}getValue(){const{eInput:e,params:t}=this,i=e.getValue();if(!Ne(i)&&!Ne(t.value))return t.value;let n=t.parseValue(i);if(n==null)return n;if(typeof n=="string"){if(n==="")return null;n=Number(n)}return isNaN(n)?null:n}getStartValue(){return this.params.value}setCaret(){hd()&&this.eInput.getInputElement().focus({preventScroll:!0})}},Mge=class extends iM{constructor(){super(new xge)}},Dge=class extends jg{constructor(){super(`<div class="ag-cell-edit-wrapper">
                <ag-select class="ag-cell-editor" data-ref="eSelect"></ag-select>
            </div>`,[tce]),this.eSelect=nt,this.startedByEnter=!1}wireBeans(e){this.valueSvc=e.valueSvc}init(e){this.focusAfterAttached=e.cellStartedEdit;const{eSelect:t,valueSvc:i,gos:n}=this,{values:s,value:r,eventKey:o}=e;if(qi(s)){Ae(58);return}this.startedByEnter=o!=null?o===ge.ENTER:!1;let a=!1;s.forEach(p=>{const f={value:p},m=i.formatValue(e.column,null,p),y=m!=null;f.text=y?m:p,t.addOption(f),a=a||r===p}),a?t.setValue(e.value,!0):e.values.length&&t.setValue(e.values[0],!0);const{valueListGap:l,valueListMaxWidth:u,valueListMaxHeight:d}=e;l!=null&&t.setPickerGap(l),d!=null&&t.setPickerMaxHeight(d),u!=null&&t.setPickerMaxWidth(u),n.get("editType")!=="fullRow"&&this.addManagedListeners(this.eSelect,{selectedItem:()=>e.stopEditing()})}afterGuiAttached(){this.focusAfterAttached&&this.eSelect.getFocusableElement().focus(),this.startedByEnter&&setTimeout(()=>{this.isAlive()&&this.eSelect.showPicker()})}focusIn(){this.eSelect.getFocusableElement().focus()}getValue(){return this.eSelect.getValue()}isPopup(){return!1}},Rge=class{getTemplate(){return'<ag-input-text-field class="ag-cell-editor" data-ref="eInput"></ag-input-text-field>'}getAgComponents(){return[Xx]}init(e,t){this.eInput=e,this.params=t;const i=t.maxLength;i!=null&&e.setMaxLength(i)}getValue(){const{eInput:e,params:t}=this,i=e.getValue();return!Ne(i)&&!Ne(t.value)?t.value:t.parseValue(i)}getStartValue(){const e=this.params;return e.useFormatter||e.column.getColDef().refData?e.formatValue(e.value):e.value}setCaret(){const e=this.eInput,t=e.getValue(),i=Ne(t)&&t.length||0;i&&e.getInputElement().setSelectionRange(i,i)}},pz=class extends iM{constructor(){super(new Rge)}};function Ege(e){return e.ctrlsSvc.getScrollFeature().getVScrollPosition()}function Tge(e){return e.ctrlsSvc.getScrollFeature().getHScrollPosition()}function s5(e,t,i="auto"){e.frameworkOverrides.wrapIncoming(()=>e.ctrlsSvc.getScrollFeature().ensureColumnVisible(t,i),"ensureVisible")}function r5(e,t,i){e.frameworkOverrides.wrapIncoming(()=>e.ctrlsSvc.getScrollFeature().ensureIndexVisible(t,i),"ensureVisible")}function Age(e,t,i=null){e.frameworkOverrides.wrapIncoming(()=>e.ctrlsSvc.getScrollFeature().ensureNodeVisible(t,i),"ensureVisible")}function Ige(e){var t;(t=e.undoRedo)==null||t.undo("api")}function Lge(e){var t;(t=e.undoRedo)==null||t.redo("api")}function kge(e,t={}){const i=[];return e.rowRenderer.getCellCtrls(t.rowNodes,t.columns).forEach(n=>{var r;const s=(r=n.comp)==null?void 0:r.getCellEditor();s&&i.push(zv(s))}),i}function Pge(e){const t=[];return e.rowRenderer.getAllCellCtrls().forEach(i=>{if(i.editing){const{cellPosition:n}=i;t.push(n)}}),t}function Fge(e,t=!1){var i;(i=e.editSvc)==null||i.stopAllEditing(t)}function Oge(e,t){const i=e.colModel.getCol(t.colKey);if(!i){Ae(12,{colKey:t.colKey});return}const n={rowIndex:t.rowIndex,rowPinned:t.rowPinned||null,column:i};t.rowPinned==null&&r5(e,t.rowIndex),s5(e,t.colKey);const r=Af(e,n);if(!r)return;const{focusSvc:o,gos:a,editSvc:l}=e,u=()=>{const p=yn(e),f=r.eGui;return p!==f&&!!(f!=null&&f.contains(p))},d=a.get("stopEditingWhenCellsLoseFocus")&&u();(d||!o.isCellFocused(n))&&o.setFocusedCell({...n,forceBrowserFocus:d,preventScrollOnBrowserFocus:!0}),l==null||l.startRowOrCellEdit(r,t.key)}function Nge(e){var t;return((t=e.undoRedo)==null?void 0:t.getCurrentUndoStackSize())??0}function Bge(e){var t;return((t=e.undoRedo)==null?void 0:t.getCurrentRedoStackSize())??0}var zge=class extends jg{constructor(e){super('<div class="ag-popup-editor" tabindex="-1"/>'),this.params=e}postConstruct(){ep(this.gos,this.getGui(),"popupEditorWrapper",!0),this.addKeyDownListener()}addKeyDownListener(){const e=this.getGui(),t=this.params,i=n=>{XT(this.gos,n,t.node,t.column,!0)||t.onKeyDown(n)};this.addManagedElementListeners(e,{keydown:i})}},Gge=class extends ye{constructor(){super(...arguments),this.beanName="editSvc"}startEditing(e,t=null,i=!1,n=null){var u;if(!e.isCellEditable()||e.editing)return!0;if(!e.comp)return e.onCompAttachedFuncs.push(()=>{this.startEditing(e,t,i,n)}),!0;const s=this.createCellEditorParams(e,t,i),r=e.column.getColDef(),o=BB(this.beans.userCompFactory,r,s),a=(o==null?void 0:o.popupFromSelector)!=null?o.popupFromSelector:!!r.cellEditorPopup,l=(o==null?void 0:o.popupPositionFromSelector)!=null?o.popupPositionFromSelector:r.cellEditorPopupPosition;return fz(e,!0,o),e.comp.setEditDetails(o,a,l,this.gos.get("reactiveCustomComponents")),this.eventSvc.dispatchEvent(e.createEvent(n,"cellEditingStarted")),!((u=o==null?void 0:o.params)!=null&&u.suppressPreventDefault)}stopEditing(e,t=!1){if(e.onEditorAttachedFuncs=[],!e.editing)return!1;const{comp:i,column:n,rowNode:s}=e,{newValue:r,newValueExists:o}=Hge(t,i),a=this.beans.valueSvc.getValueForDisplay(n,s);let l=!1;return o&&(l=_ge(e,a,r,s,n)),fz(e,!1,void 0),i.setEditDetails(),e.updateAndFormatValue(!1),e.refreshCell({forceRefresh:!0,suppressFlash:!0}),this.eventSvc.dispatchEvent({...e.createEvent(null,"cellEditingStopped"),oldValue:a,newValue:r,valueChanged:l}),l}handleColDefChanged(e){var i;const t=(i=e.comp)==null?void 0:i.getCellEditor();if(t!=null&&t.refresh){const{eventKey:n,cellStartedEdit:s}=e.editCompDetails.params,r=this.createCellEditorParams(e,n,s),o=e.column.getColDef(),a=BB(this.beans.userCompFactory,o,r);t.refresh(a.params)}}setFocusOutOnEditor(e){if(!e.editing)return;const t=e.comp.getCellEditor();t&&t.focusOut&&t.focusOut()}setFocusInOnEditor(e){if(!e.editing)return;const t=e.comp,i=t.getCellEditor();i!=null&&i.focusIn?i.focusIn():(e.focusCell(!0),e.onEditorAttachedFuncs.push(()=>{var n,s;return(s=(n=t.getCellEditor())==null?void 0:n.focusIn)==null?void 0:s.call(n)}))}stopEditingAndFocus(e,t=!1,i=!1){this.stopRowOrCellEdit(e),e.focusCell(!0),t||this.navigateAfterEdit(i,e.cellPosition)}createPopupEditorWrapper(e){return new zge(e)}stopAllEditing(e=!1){this.beans.rowRenderer.getAllRowCtrls().forEach(t=>this.stopRowEditing(t,e))}stopRowEditing(e,t=!1){var r;if(e.stoppingRowEdit)return;const i=e.getAllCellCtrls(),n=e.editing;e.stoppingRowEdit=!0;let s=!1;for(const o of i){const a=o.stopEditing(t);n&&!t&&!s&&a&&(s=!0)}s&&this.eventSvc.dispatchEvent(e.createRowEvent("rowValueChanged")),n&&((r=this.beans.rowEditSvc)==null||r.setEditing(e,!1)),e.stoppingRowEdit=!1}addStopEditingWhenGridLosesFocus(e){if(!this.gos.get("stopEditingWhenCellsLoseFocus"))return;const t=i=>{const n=i.relatedTarget;if(GT(n)===null){this.stopAllEditing();return}let s=e.some(r=>r.contains(n))&&Oj(this.gos,n);if(!s){const r=this.beans.popupSvc;s=!!r&&(r.getActivePopups().some(o=>o.contains(n))||r.isElementWithinCustomPopup(n))}s||this.stopAllEditing()};e.forEach(i=>this.addManagedElementListeners(i,{focusout:t}))}setInlineEditingCss(e){const t=e.editing||e.getAllCellCtrls().some(i=>i.editing);e.forEachGui(void 0,i=>{i.rowComp.addOrRemoveCssClass("ag-row-inline-editing",t),i.rowComp.addOrRemoveCssClass("ag-row-not-inline-editing",!t)})}isCellEditable(e,t){if(t.group){if(this.gos.get("treeData")){if(!t.data&&!this.gos.get("enableGroupEdit"))return!1}else if(!this.gos.get("enableGroupEdit"))return!1}return e.isColumnFunc(t,e.colDef.editable)}startRowOrCellEdit(e,t,i=null){var n;return e.comp?this.gos.get("editType")==="fullRow"?((n=this.beans.rowEditSvc)==null?void 0:n.startEditing(e.rowCtrl,t,e))??!0:this.startEditing(e,t,!0,i):(e.onCompAttachedFuncs.push(()=>{this.startRowOrCellEdit(e,t,i)}),!0)}stopRowOrCellEdit(e,t=!1){this.gos.get("editType")==="fullRow"?this.stopRowEditing(e.rowCtrl,t):this.stopEditing(e,t)}createCellEditorParams(e,t,i){const{column:n,rowNode:s,cellPosition:{rowIndex:r}}=e,{valueSvc:o,gos:a}=this.beans;return ut(a,{value:o.getValueForDisplay(n,s),eventKey:t,column:n,colDef:n.getColDef(),rowIndex:r,node:s,data:s.data,cellStartedEdit:i,onKeyDown:e.onKeyDown.bind(e),stopEditing:e.stopEditingAndFocus.bind(e),eGridCell:e.eGui,parseValue:l=>o.parseValue(n,s,l,e.value),formatValue:e.formatValue.bind(e)})}navigateAfterEdit(e,t){var n;if(this.gos.get("enterNavigatesVerticallyAfterEdit")){const s=e?ge.UP:ge.DOWN;(n=this.beans.navigation)==null||n.navigateToNextCell(null,s,t,!1)}}};function fz(e,t,i){e.editCompDetails=i,e.editing!==t&&(e.editing=t)}function Hge(e,t){const i={newValueExists:!1};if(e)return i;const n=t.getCellEditor();return!n||n.isCancelAfterEnd&&n.isCancelAfterEnd()?i:{newValue:n.getValue(),newValueExists:!0}}function _ge(e,t,i,n,s){if(i===t)return!1;e.suppressRefreshCell=!0;const r=n.setDataValue(s,i,"edit");return e.suppressRefreshCell=!1,r}var jge=class extends ye{constructor(){super(...arguments),this.beanName="rowEditSvc"}startEditing(e,t=null,i=null,n=null){if(e.editing)return!0;let s=!0,r=!1;const{editSvc:o}=this.beans;return e.getAllCellCtrls().forEach(a=>{const l=a===i;l?s=(o==null?void 0:o.startEditing(a,t,l,n))??!0:o==null||o.startEditing(a,null,l,n),r||(r=a.editing)}),r&&this.setEditing(e,!0),s}setEditing(e,t){e.editing=t,e.forEachGui(void 0,n=>n.rowComp.addOrRemoveCssClass("ag-row-editing",t));const i=t?e.createRowEvent("rowEditingStarted"):e.createRowEvent("rowEditingStopped");this.eventSvc.dispatchEvent(i)}},pd={moduleName:"EditCore",version:Ge,beans:[Gge,jge],apiFunctions:{getCellEditorInstances:kge,getEditingCells:Pge,stopEditing:Fge,startEditingCell:Oge},dependsOn:[eM],css:[mge]},Vge={moduleName:"UndoRedoEdit",version:Ge,beans:[gge],apiFunctions:{undoCellEditing:Ige,redoCellEditing:Lge,getCurrentUndoSize:Nge,getCurrentRedoSize:Bge},dependsOn:[pd]},Wge={moduleName:"TextEditor",version:Ge,userComponents:{agCellEditor:pz,agTextCellEditor:pz},dependsOn:[pd]},Uge={moduleName:"NumberEditor",version:Ge,userComponents:{agNumberCellEditor:{classImp:Mge,params:{suppressPreventDefault:!0}}},dependsOn:[pd]},$ge={moduleName:"DateEditor",version:Ge,userComponents:{agDateCellEditor:Cge,agDateStringCellEditor:wge},dependsOn:[pd]},Yge={moduleName:"CheckboxEditor",version:Ge,userComponents:{agCheckboxCellEditor:yge},dependsOn:[pd]},Kge={moduleName:"SelectEditor",version:Ge,userComponents:{agSelectCellEditor:Dge},dependsOn:[pd]},qge={moduleName:"LargeTextEditor",version:Ge,userComponents:{agLargeTextCellEditor:Sge},dependsOn:[pd]},Zge={moduleName:"CustomEditor",version:Ge,dependsOn:[pd]},Xge=class extends ye{constructor(){super(...arguments),this.beanName="selectionColSvc"}postConstruct(){this.addManagedPropertyListener("rowSelection",e=>{this.onSelectionOptionsChanged(e.currentValue,e.previousValue,Vf(e.source))}),this.addManagedPropertyListener("selectionColumnDef",this.updateColumns.bind(this))}addColumns(e){const t=this.columns;t!=null&&(e.list=t.list.concat(e.list),e.tree=t.tree.concat(e.tree),Gre(e))}createColumns(e,t){var f,m;const i=()=>{var y;SS(this.beans,(y=this.columns)==null?void 0:y.tree),this.columns=null},n=e.treeDepth,r=(((f=this.columns)==null?void 0:f.treeDepth)??-1)==n,o=this.generateSelectionCols();if(zre(o,((m=this.columns)==null?void 0:m.list)??[])&&r)return;i();const{colGroupSvc:l}=this.beans,u=(l==null?void 0:l.findDepth(e.tree))??0,d=(l==null?void 0:l.balanceTreeForAutoCols(o,u))??[];this.columns={list:o,tree:d,treeDepth:u,map:{}},t(y=>{if(!y)return null;const C=y.filter(w=>!kc(w));return[...o,...C]})}updateColumns(e){var n;const t=Vf(e.source),i=e.currentValue;(n=this.columns)==null||n.list.forEach(s=>{const r=this.createSelectionColDef(i);s.setColDef(r,null,t),Ko(this.beans,{state:[{colId:s.getColId(),...r}]},t)})}getColumn(e){var t;return((t=this.columns)==null?void 0:t.list.find(i=>gj(i,e)))??null}getColumns(){var e;return((e=this.columns)==null?void 0:e.list)??null}isSelectionColumnEnabled(){var o,a;const{gos:e,beans:t}=this,i=e.get("rowSelection");if(typeof i!="object"||!Nh(e))return!1;const n=(((a=(o=t.autoColSvc)==null?void 0:o.getColumns())==null?void 0:a.length)??0)>0;if(i.checkboxLocation==="autoGroupColumn"&&n)return!1;const s=!!jf(i),r=Iw(i);return s||r}createSelectionColDef(e){const{gos:t}=this.beans,i=e??t.get("selectionColumnDef"),n=t.get("enableRtl"),{rowSpan:s,spanRows:r,...o}=i??{};return{width:50,resizable:!1,suppressHeaderMenuButton:!0,sortable:!1,suppressMovable:!0,lockPosition:n?"right":"left",comparator(a,l,u,d){const p=u.isSelected(),f=d.isSelected();return p===f?0:p?1:-1},editable:!1,suppressFillHandle:!0,pinned:null,...o,colId:pj}}generateSelectionCols(){var n;if(!this.isSelectionColumnEnabled())return[];const e=this.createSelectionColDef(),t=e.colId;(n=this.beans.validation)==null||n.validateColDef(e,t,!0);const i=new CL(e,null,t,!1);return this.createBean(i),[i]}onSelectionOptionsChanged(e,t,i){const n=t&&typeof t!="string"?jf(t):void 0,s=e&&typeof e!="string"?jf(e):void 0,r=n!==s,o=t&&typeof t!="string"?Iw(t):void 0,a=e&&typeof e!="string"?Iw(e):void 0,l=o!==a,u=UT(e),d=UT(t);(r||l||u!==d)&&this.beans.colModel.refreshAll(i)}destroy(){var e;SS(this.beans,(e=this.columns)==null?void 0:e.tree),super.destroy()}refreshVisibility(e){if(!this.isSelectionColumnEnabled())return;const t=this.beans,i=t.visibleCols.getAllTrees()??[];if(i.length!==0){if(!i.some(o5)){const n=Bv(t).find(s=>kc(s.colId));n&&Ko(t,{state:[{colId:n.colId,hide:!n.hide}]},e)}if(i.length===1){const n=i[0],s=a5(n);if(!s)return;Ko(t,{state:[{colId:s.getColId(),hide:!0}]},e)}}}},o5=e=>{var t;return e.isColumn?kc(e):((t=e.getChildren())==null?void 0:t.some(o5))??!1};function a5(e){if(e.isColumn)return kc(e)?e:null;const t=e.getChildren()??[];for(const i of t){const n=a5(i);if(n)return n}return null}function Qge(e,t){var o;if(!t.nodes.every(a=>a.rowPinned?(Ae(59),!1):a.id===void 0?(Ae(60),!1):!0))return;const{nodes:n,source:s,newValue:r}=t;(o=e.selectionSvc)==null||o.setNodesSelected({nodes:n,source:s??"api",newValue:r})}function Jge(e,t,i="apiSelectAll"){var n;(n=e.selectionSvc)==null||n.selectAllRowNodes({source:i,selectAll:t})}function eme(e,t,i="apiSelectAll"){var n;(n=e.selectionSvc)==null||n.deselectAllRowNodes({source:i,selectAll:t})}function tme(e,t="apiSelectAllFiltered"){var i;(i=e.selectionSvc)==null||i.selectAllRowNodes({source:t,selectAll:"filtered"})}function ime(e,t="apiSelectAllFiltered"){var i;(i=e.selectionSvc)==null||i.deselectAllRowNodes({source:t,selectAll:"filtered"})}function nme(e,t="apiSelectAllCurrentPage"){var i;(i=e.selectionSvc)==null||i.selectAllRowNodes({source:t,selectAll:"currentPage"})}function sme(e,t="apiSelectAllCurrentPage"){var i;(i=e.selectionSvc)==null||i.deselectAllRowNodes({source:t,selectAll:"currentPage"})}function rme(e){var t;return((t=e.selectionSvc)==null?void 0:t.getSelectedNodes())??[]}function ome(e){var t;return((t=e.selectionSvc)==null?void 0:t.getSelectedRows())??[]}var ame=class extends _le{constructor(){super(...arguments),this.beanName="selectionSvc",this.selectedNodes=new Map,this.detailSelection=new Map,this.masterSelectsDetail=!1}postConstruct(){super.postConstruct();const{gos:e}=this;this.mode=CS(e),this.groupSelectsDescendants=Nv(e),this.groupSelectsFiltered=wS(e)==="filteredDescendants",this.masterSelectsDetail=kB(e)==="detail",this.addManagedPropertyListeners(["groupSelectsChildren","groupSelectsFiltered","rowSelection"],()=>{const t=Nv(e),i=CS(e),n=wS(e)==="filteredDescendants";this.masterSelectsDetail=kB(e)==="detail",(t!==this.groupSelectsDescendants||n!==this.groupSelectsFiltered||i!==this.mode)&&(this.deselectAllRowNodes({source:"api"}),this.groupSelectsDescendants=t,this.groupSelectsFiltered=n,this.mode=i)}),this.addManagedEventListeners({rowSelected:this.onRowSelected.bind(this)})}destroy(){super.destroy(),this.resetNodes()}handleSelectionEvent(e,t,i){if(this.isRowSelectionBlocked(t))return 0;const n=this.inferNodeSelections(t,e.shiftKey,e.metaKey||e.ctrlKey,i);return n==null?0:(this.selectionCtx.selectAll=!1,"select"in n?(n.reset?this.resetNodes():this.selectRange(n.deselect,!1,i),this.selectRange(n.select,!0,i)):this.setNodesSelected({nodes:[n.node],newValue:n.newValue,clearSelection:n.clearSelection,event:e,source:i}))}setNodesSelected({newValue:e,clearSelection:t,suppressFinishActions:i,nodes:n,event:s,source:r}){var a;if(!Nh(this.gos)&&e)return Ae(132),0;if(n.length===0)return 0;if(n.length>1&&!this.isMultiSelect())return Ae(130),0;let o=0;for(let l=0;l<n.length;l++){const u=n[l],d=tw(u),p=this.groupSelectsFiltered&&d.group;if(d.rowPinned){Ae(59);continue}if(d.id===void 0){Ae(60);continue}p||this.selectRowNode(d,e,s,r)&&(this.detailSelection.delete(d.id),o++),this.groupSelectsDescendants&&((a=d.childrenAfterGroup)!=null&&a.length)&&(o+=this.selectChildren(d,e,r))}return i||(e&&(t||!this.isMultiSelect())&&(o+=this.clearOtherNodes(tw(n[0]),r)),o>0&&(this.updateGroupsFromChildrenSelections(r),this.dispatchSelectionChanged(r))),o}selectRange(e,t,i){let n=0;return e.forEach(s=>{if(s.group&&this.groupSelectsDescendants)return;this.selectRowNode(s,t,void 0,i)&&n++}),n>0&&(this.updateGroupsFromChildrenSelections(i),this.dispatchSelectionChanged(i)),n}selectChildren(e,t,i){const n=this.groupSelectsFiltered?e.childrenAfterAggFilter:e.childrenAfterGroup;return n?this.setNodesSelected({newValue:t,clearSelection:!1,suppressFinishActions:!0,source:i,nodes:n}):0}getSelectedNodes(){return Array.from(this.selectedNodes.values())}getSelectedRows(){const e=[];return this.selectedNodes.forEach(t=>e.push(t.data)),e}getSelectionCount(){return this.selectedNodes.size}filterFromSelection(e){const t=new Map;this.selectedNodes.forEach((i,n)=>{e(i)&&t.set(n,i)}),this.selectedNodes=t}updateGroupsFromChildrenSelections(e,t){if(!this.groupSelectsDescendants)return!1;const{gos:i,rowModel:n}=this.beans;if(!$s(i))return!1;const s=n.rootNode;if(!s)return!1;t||(t=new PS(!0,s),t.active=!1);let r=!1;return t.forEachChangedNodeDepthFirst(o=>{if(o!==s){const a=this.calculateSelectedFromChildren(o);r=this.selectRowNode(o,a===null?!1:a,void 0,e)||r}}),r}clearOtherNodes(e,t){const i=new Map;let n=0;return this.selectedNodes.forEach(s=>{if(s&&s.id!==e.id){const r=this.selectedNodes.get(s.id);n+=this.setNodesSelected({nodes:[r],newValue:!1,clearSelection:!1,suppressFinishActions:!0,source:t}),this.groupSelectsDescendants&&s.parent&&i.set(s.parent.id,s.parent)}}),i.forEach(s=>{const r=this.calculateSelectedFromChildren(s);this.selectRowNode(s,r===null?!1:r,void 0,t)}),n}onRowSelected(e){const t=e.node;this.groupSelectsDescendants&&t.group||(t.isSelected()?this.selectedNodes.set(t.id,t):this.selectedNodes.delete(t.id))}syncInRowNode(e,t){this.syncInOldRowNode(e,t),this.syncInNewRowNode(e)}createDaemonNode(e){if(!e.id)return;const t=new Dg(this.beans);return t.id=e.id,t.data=e.data,t.__daemon=!0,t.__selected=e.__selected,t.level=e.level,t}syncInOldRowNode(e,t){t&&e.id!==t.id&&this.selectedNodes.get(t.id)==e&&this.selectedNodes.set(t.id,t)}syncInNewRowNode(e){this.selectedNodes.has(e.id)?(e.__selected=!0,this.selectedNodes.set(e.id,e)):e.__selected=!1}reset(e){const t=this.getSelectionCount();this.resetNodes(),t&&this.dispatchSelectionChanged(e)}resetNodes(){this.selectedNodes.forEach(e=>{this.selectRowNode(e,!1)}),this.selectedNodes.clear()}getBestCostNodeSelection(){const{gos:e,rowModel:t}=this.beans;if(!$s(e))return;const i=t.getTopLevelNodes();if(i===null)return;const n=[];function s(r){for(let o=0,a=r.length;o<a;o++){const l=r[o];l.isSelected()?n.push(l):l.group&&l.childrenAfterGroup&&s(l.childrenAfterGroup)}}return s(i),n}isEmpty(){return this.getSelectionCount()===0}deselectAllRowNodes({source:e,selectAll:t}){const i=$s(this.gos);let n=!1;const s=r=>{const o=this.selectRowNode(tw(r),!1,void 0,e);n||(n=o)};if(t==="currentPage"||t==="filtered"){if(!i){wi(102);return}this.getNodesToSelect(t).forEach(s)}else this.selectedNodes.forEach(s),this.reset(e);if(this.selectionCtx.selectAll=!1,i&&this.groupSelectsDescendants){const r=this.updateGroupsFromChildrenSelections(e);n||(n=r)}n&&this.dispatchSelectionChanged(e)}getSelectedCounts(e){let t=0,i=0;return this.getNodesToSelect(e).forEach(n=>{this.groupSelectsDescendants&&n.group||(n.isSelected()?t++:n.selectable&&i++)}),{selectedCount:t,notSelectedCount:i}}getSelectAllState(e){const{selectedCount:t,notSelectedCount:i}=this.getSelectedCounts(e);return l5(t,i)??null}hasNodesToSelect(e){return this.getNodesToSelect(e).filter(t=>t.selectable).length>0}getNodesToSelect(e){if(!this.canSelectAll())return[];const t=[];if(e==="currentPage")return this.forEachNodeOnPage(n=>{if(!n.group){t.push(n);return}if(!n.expanded&&!n.footer){const s=r=>{var o;t.push(r),(o=r.childrenAfterFilter)!=null&&o.length&&r.childrenAfterFilter.forEach(s)};s(n);return}this.groupSelectsDescendants||t.push(n)}),t;const i=this.beans.rowModel;return e==="filtered"?(i.forEachNodeAfterFilter(n=>{t.push(n)}),t):(i.forEachNode(n=>{t.push(n)}),t)}forEachNodeOnPage(e){const{pageBounds:t,rowModel:i}=this.beans,n=t.getFirstRow(),s=t.getLastRow();for(let r=n;r<=s;r++){const o=i.getRow(r);o&&e(o)}}selectAllRowNodes(e){const{gos:t,selectionCtx:i}=this;if(!Nh(t)){Ae(132);return}if(gre(t)&&!bS(t)){Ae(130);return}if(!this.canSelectAll())return;const{source:n,selectAll:s}=e;let r=!1;if(this.getNodesToSelect(s).forEach(o=>{const a=this.selectRowNode(tw(o),!0,void 0,n);r||(r=a)}),i.selectAll=!0,$s(t)&&this.groupSelectsDescendants){const o=this.updateGroupsFromChildrenSelections(n);r||(r=o)}r&&this.dispatchSelectionChanged(n)}getSelectionState(){const e=[];return this.selectedNodes.forEach(t=>{t!=null&&t.id&&e.push(t.id)}),e.length?e:null}setSelectionState(e,t){if(!Array.isArray(e)){wi(103);return}const i=new Set(e),n=[];this.beans.rowModel.forEachNode(s=>{i.has(s.id)&&n.push(s)}),this.setNodesSelected({newValue:!0,nodes:n,source:t})}canSelectAll(){const{gos:e,rowModel:t}=this.beans;return $s(e)?!0:(wi(100,{rowModelType:t.getType()}),!1)}updateSelectable(e){var l;const{gos:t,rowModel:i}=this.beans;if(!Nh(t))return;const n="selectableChanged",s=e!==void 0,r=$s(t)&&this.groupSelectsDescendants,o=[],a=u=>{var p;if(s&&!u.group)return;if(r&&u.group){const f=((p=u.childrenAfterGroup)==null?void 0:p.some(m=>m.selectable))??!1;this.setRowSelectable(u,f,!0);return}!this.updateRowSelectable(u,!0)&&u.isSelected()&&o.push(u)};if(r){if(e===void 0){const u=i.rootNode;e=u?new PS(!1,u):void 0}e==null||e.forEachChangedNodeDepthFirst(a,!s,!s)}else i.forEachNode(a);o.length&&this.setNodesSelected({nodes:o,newValue:!1,source:n}),!s&&r&&((l=this.updateGroupsFromChildrenSelections)==null||l.call(this,n))}updateSelectableAfterGrouping(e){var t;this.updateSelectable(e),this.groupSelectsDescendants&&((t=this.updateGroupsFromChildrenSelections)!=null&&t.call(this,"rowGroupChanged",e))&&this.dispatchSelectionChanged("rowGroupChanged")}refreshMasterNodeState(e,t){var r,o;if(!this.masterSelectsDetail)return;const i=(o=(r=e.detailNode)==null?void 0:r.detailGridInfo)==null?void 0:o.api;if(!i)return;const n=lme(i);if(e.isSelected()!==n&&this.selectRowNode(e,n,t,"masterDetail")&&this.dispatchSelectionChanged("masterDetail"),!n){const a=this.detailSelection.get(e.id)??new Set;for(const l of i.getSelectedNodes())a.add(l.id);this.detailSelection.set(e.id,a)}}setDetailSelectionState(e,t,i){if(this.masterSelectsDetail){if(!bS(t)){Ae(269);return}switch(e.isSelected()){case!0:{i.selectAll();break}case!1:{i.deselectAll();break}case void 0:{const n=this.detailSelection.get(e.id);if(n){const s=[];for(const r of n){const o=i.getRowNode(r);o&&s.push(o)}i.setNodesSelected({nodes:s,newValue:!0,source:"masterDetail"})}break}}}}};function tw(e){return e.footer?e.sibling:e}function lme(e){let t=0,i=0;return e.forEachNode(n=>{n.isSelected()?t++:n.selectable&&i++}),l5(t,i)}function l5(e,t){if(e===0&&t===0)return!1;if(!(e>0&&t>0))return e>0}var cme={moduleName:"SharedRowSelection",version:Ge,beans:[Xge],apiFunctions:{setNodesSelected:Qge,selectAll:Jge,deselectAll:eme,selectAllFiltered:tme,deselectAllFiltered:ime,selectAllOnCurrentPage:nme,deselectAllOnCurrentPage:sme,getSelectedNodes:rme,getSelectedRows:ome}},ume={moduleName:"RowSelection",version:Ge,rowModels:["clientSide","infinite","viewport"],beans:[ame],dependsOn:[cme]};function dme(e){var t;(t=e.expansionSvc)==null||t.expandAll(!0)}function hme(e){var t;(t=e.expansionSvc)==null||t.expandAll(!1)}function pme(e){const t=Ol(e),i=NV(e);t?t.onRowHeightChanged():i&&i.onRowHeightChanged()}function fme(e,t,i){var r;const n=NV(e);if(n){if(((r=e.rowGroupColsSvc)==null?void 0:r.columns.length)===0){if(t<0){wi(238);return}n.setRowCount(t,i);return}wi(28);return}const s=Jx(e);if(s){s.setRowCount(t,i);return}}function gme(e){var t;return yp(e.gos)?e.rowModel.getBlockStates():((t=e.rowNodeBlockLoader)==null?void 0:t.getBlockState())??{}}function mme(e){return e.rowModel.isLastRowIndexKnown()}var yme={moduleName:"CsrmSsrmSharedApi",version:Ge,apiFunctions:{expandAll:dme,collapseAll:hme,onRowHeightChanged:pme}},vme={moduleName:"SsrmInfiniteSharedApi",version:Ge,apiFunctions:{setRowCount:fme,getCacheBlockState:gme,isLastRowIndexKnown:mme}},Cme=class extends ye{constructor(){super(...arguments),this.beanName="alignedGridsSvc",this.consuming=!1}getAlignedGridApis(){let e=this.gos.get("alignedGrids")??[];const t=typeof e=="function";return typeof e=="function"&&(e=e()),e.map(n=>{var r;if(!n){wi(18),t||wi(20);return}if(this.isGridApi(n))return n;const s=n;return"current"in s?(r=s.current)==null?void 0:r.api:(s.api||wi(19),s.api)}).filter(n=>!!n&&!n.isDestroyed())}isGridApi(e){return!!e&&!!e.dispatchEvent}postConstruct(){const e=this.fireColumnEvent.bind(this);this.addManagedEventListeners({columnMoved:e,columnVisible:e,columnPinned:e,columnGroupOpened:e,columnResized:e,bodyScroll:this.fireScrollEvent.bind(this),alignedGridColumn:({event:t})=>this.onColumnEvent(t),alignedGridScroll:({event:t})=>this.onScrollEvent(t)})}fireEvent(e){this.consuming||this.getAlignedGridApis().forEach(t=>{t.isDestroyed()||t.dispatchEvent(e)})}onEvent(e){this.consuming=!0,e(),this.consuming=!1}fireColumnEvent(e){this.fireEvent({type:"alignedGridColumn",event:e})}fireScrollEvent(e){e.direction==="horizontal"&&this.fireEvent({type:"alignedGridScroll",event:e})}onScrollEvent(e){this.onEvent(()=>{this.beans.ctrlsSvc.getScrollFeature().setHorizontalScrollPosition(e.left,!0)})}extractDataFromEvent(e,t){const i=[];return e.columns?e.columns.forEach(n=>{i.push(t(n))}):e.column&&i.push(t(e.column)),i}getMasterColumns(e){return this.extractDataFromEvent(e,t=>t)}getColumnIds(e){return this.extractDataFromEvent(e,t=>t.getColId())}onColumnEvent(e){this.onEvent(()=>{switch(e.type){case"columnMoved":case"columnVisible":case"columnPinned":case"columnResized":{this.processColumnEvent(e);break}case"columnGroupOpened":{this.processGroupOpenedEvent(e);break}case"columnPivotChanged":Ae(21);break}})}processGroupOpenedEvent(e){const{colGroupSvc:t}=this.beans;t&&e.columnGroups.forEach(i=>{let n=null;i&&(n=t.getProvidedColGroup(i.getGroupId())),!(i&&!n)&&t.setColumnGroupOpened(n,i.isExpanded(),"alignedGridChanged")})}processColumnEvent(e){var d;const t=e.column;let i=null;const n=this.beans,{colResize:s,ctrlsSvc:r,colModel:o}=n;if(t&&(i=o.getColDefCol(t.getColId())),t&&!i)return;const a=this.getMasterColumns(e);switch(e.type){case"columnMoved":{const f=e.api.getColumnState().map(m=>({colId:m.colId}));Ko(n,{state:f,applyOrder:!0},"alignedGridChanged")}break;case"columnVisible":{const f=e.api.getColumnState().map(m=>({colId:m.colId,hide:m.hide}));Ko(n,{state:f},"alignedGridChanged")}break;case"columnPinned":{const f=e.api.getColumnState().map(m=>({colId:m.colId,pinned:m.pinned}));Ko(n,{state:f},"alignedGridChanged")}break;case"columnResized":{const p=e,f={};a.forEach(m=>{f[m.getId()]={key:m.getColId(),newWidth:m.getActualWidth()}}),(d=p.flexColumns)==null||d.forEach(m=>{f[m.getId()]&&delete f[m.getId()]}),s==null||s.setColumnWidths(Object.values(f),!1,p.finished,"alignedGridChanged");break}}const u=r.getGridBodyCtrl().isVerticalScrollShowing();this.getAlignedGridApis().forEach(p=>{p.setGridOption("alwaysShowVerticalScroll",u)})}},bme={moduleName:"AlignedGrids",version:Ge,beans:[Cme]},wme=class extends Ble{constructor(){super(...arguments),this.beanName="csrmNodeSvc"}},p1=class{constructor(){this.removals=new Set,this.updates=new Set,this.adds=new Set}remove(e){this.adds.delete(e)||(this.updates.delete(e),this.removals.add(e))}update(e){this.adds.has(e)||this.updates.add(e)}add(e){this.adds.add(e)}};function Sme(e){if(qi(e.childrenAfterSort))return;const t=e.childrenAfterSort;for(let i=0;i<t.length;i++){const n=t[i],s=i===0,r=i===e.childrenAfterSort.length-1;n.setFirstChild(s),n.lastChild!==r&&(n.lastChild=r,n.dispatchRowEvent("lastChildChanged")),n.childIndex!==i&&(n.childIndex=i,n.dispatchRowEvent("childIndexChanged"))}}function c5(e){e.sibling&&(e.sibling.childrenAfterSort=e.childrenAfterSort),Sme(e)}var xme=class extends ye{constructor(){super(...arguments),this.beanName="sortStage",this.refreshProps=new Set(["postSortRows","groupDisplayType","accentedSort"]),this.step="sort"}execute(e){const t=this.beans,i=t.sortSvc.getSortOptions(),n=Ne(i)&&i.length>0,s=n&&!!e.changedRowNodes&&this.gos.get("deltaSort"),r=i.some(({column:o})=>fl(t.gos)?o.isPrimary()&&o.isRowGroupActive():!!o.getColDef().showRowGroup);this.sort(t,i,n,s,e.changedRowNodes,e.changedPath,r)}sort(e,t,i,n,s,r,o){const{gos:a,colModel:l,rowGroupColsSvc:u,groupHideOpenParentsSvc:d,rowNodeSorter:p}=e,f=a.get("groupMaintainOrder"),m=l.getCols().some(b=>b.isRowGroupActive()),y=l.isPivotMode(),C=a.getCallback("postSortRows"),w=b=>{var R;d==null||d.pullDownGroupDataForHideOpenParents(b.childrenAfterAggFilter,!0);const S=y&&b.leafGroup,M=f&&m&&!b.leafGroup&&!o;let D;if(M){const A=(R=u==null?void 0:u.columns)==null?void 0:R[b.level+1],k=(A==null?void 0:A.getSort())===null,F=b.childrenAfterAggFilter.slice(0);if(b.childrenAfterSort&&!k){const P={};b.childrenAfterSort.forEach((L,z)=>{P[L.id]=z}),F.sort((L,z)=>(P[L.id]??0)-(P[z.id]??0))}D=F}else!i||S?D=b.childrenAfterAggFilter.slice(0):n&&s?D=Mme(p,b,s,r,t):D=p.doFullSort(b.childrenAfterAggFilter,t);if(b.childrenAfterSort=D,c5(b),C){const A={nodes:b.childrenAfterSort};C(A)}};r==null||r.forEachChangedNodeDepthFirst(w)}};function Mme(e,t,i,n,s){const r=t.childrenAfterAggFilter,o=t.childrenAfterSort;if(!o)return e.doFullSort(r,s);const a=new Set,l=[],{updates:u,adds:d}=i;for(let f=0,m=r.length;f<m;++f){const y=r[f];u.has(y)||d.has(y)||n&&!n.canSkip(y)?l.push({currentPos:l.length,rowNode:y}):a.add(y.id)}const p=o.filter(f=>a.has(f.id)).map((f,m)=>({currentPos:m,rowNode:f}));return l.sort((f,m)=>e.compareRowNodes(s,f,m)),Dme(e,s,l,p)}function Dme(e,t,i,n){const s=[];let r=0,o=0;const a=i.length,l=n.length;for(;r<a&&o<l;){const u=i[r],d=n[o],p=e.compareRowNodes(t,u,d);let f;p<0?(f=u,++r):(f=d,++o),s.push(f.rowNode)}for(;r<a;)s.push(i[r++].rowNode);for(;o<l;)s.push(n[o++].rowNode);return s}var Rme=class extends ye{constructor(){super(...arguments),this.beanName="rowModel",this.rootNode=null,this.rowsToDisplay=[],this.started=!1,this.isRefreshingModel=!1,this.rowNodesCountReady=!1,this.rowCountReady=!1,this.onRowHeightChanged_debounced=Os(this,this.onRowHeightChanged.bind(this),100)}wireBeans(e){this.colModel=e.colModel,this.valueCache=e.valueCache,this.filterStage=e.filterStage,this.sortStage=e.sortStage,this.flattenStage=e.flattenStage,this.groupStage=e.groupStage,this.aggStage=e.aggStage,this.pivotStage=e.pivotStage,this.filterAggStage=e.filterAggStage}postConstruct(){this.orderedStages=[this.groupStage,this.filterStage,this.pivotStage,this.aggStage,this.sortStage,this.filterAggStage,this.flattenStage].filter(n=>!!n);const e=this.refreshModel.bind(this,{step:"group"}),t=this.refreshModel.bind(this,{step:"group",afterColumnsChanged:!0,keepRenderedRows:!0,animate:!this.gos.get("suppressAnimationFrame")});this.addManagedEventListeners({newColumnsLoaded:t,columnRowGroupChanged:e,columnValueChanged:this.onValueChanged.bind(this),columnPivotChanged:this.refreshModel.bind(this,{step:"pivot"}),filterChanged:this.onFilterChanged.bind(this),sortChanged:this.onSortChanged.bind(this),columnPivotModeChanged:e,gridStylesChanged:this.onGridStylesChanges.bind(this),gridReady:this.onGridReady.bind(this)}),this.addPropertyListeners(),this.rootNode=new Dg(this.beans);const i=this.getNewNodeManager();this.nodeManager=i,i.activate(this.rootNode)}getNewNodeManager(){const{gos:e,beans:t}=this;let i;return e.get("treeData")&&(e.get("treeDataChildrenField")?i=t.csrmChildrenTreeNodeSvc:i=t.csrmPathTreeNodeSvc),i??t.csrmNodeSvc}addPropertyListeners(){const e=["treeData","treeDataChildrenField",...this.orderedStages.flatMap(({refreshProps:t})=>[...t])];this.addManagedPropertyListeners(e,t=>{var n;const i=(n=t.changeSet)==null?void 0:n.properties;i&&this.onPropChange(i)}),this.addManagedPropertyListener("rowData",()=>this.onPropChange(["rowData"])),this.addManagedPropertyListener("rowHeight",()=>this.resetRowHeights())}start(){this.started=!0,this.rowNodesCountReady?this.refreshModel({step:"group",rowDataUpdated:!0,newData:!0}):this.setInitialData()}setInitialData(){this.gos.get("rowData")&&this.onPropChange(["rowData"])}ensureRowHeightsValid(e,t,i,n){let s,r=!1;do{s=!1;const o=this.getRowIndexAtPixel(e),a=this.getRowIndexAtPixel(t),l=Math.max(o,i),u=Math.min(a,n);for(let d=l;d<=u;d++){const p=this.getRow(d);if(p.rowHeightEstimated){const f=bg(this.beans,p);p.setRowHeight(f.height),s=!0,r=!0}}s&&this.setRowTopAndRowIndex()}while(s);return r}onPropChange(e){var d;if(!this.rootNode)return;const t=this.gos,i=new Set(e),n={step:"nothing",changedProps:i},s=i.has("rowData"),r=i.has("treeData"),o=this.nodeManager,a=this.getNewNodeManager(),l=o!==a||i.has("treeDataChildrenField")&&t.get("treeData");let u;if(r&&(n.step="group"),(l||s)&&(u=t.get("rowData"),u!=null&&!Array.isArray(u)&&(u=null,Ae(1))),l&&(s||(u=(o==null?void 0:o.extractRowData())??u),o!==a&&(o==null||o.deactivate(),this.nodeManager=a),a.activate(this.rootNode)),u&&(!l&&!this.isEmpty()&&u.length>0&&t.exists("getRowId")&&!t.get("resetRowDataOnUpdate")?(n.keepRenderedRows=!0,n.animate=!this.gos.get("suppressAnimationFrame"),n.changedRowNodes=new p1,a.setImmutableRowData(n,u)):(n.rowDataUpdated=!0,n.newData=!0,(d=this.beans.selectionSvc)==null||d.reset("rowDataChanged"),this.rowNodesCountReady=!0,a.setNewRowData(u))),n.rowDataUpdated)n.step="group";else if(n.step==="nothing"){for(const{refreshProps:p,step:f}of this.orderedStages)if(e.some(m=>p.has(m))){n.step=f;break}}n.step!=="nothing"&&this.refreshModel(n)}setRowTopAndRowIndex(){const{beans:e}=this,t=e.environment.getDefaultRowHeight();let i=0;const n=new Set,s=Gs(this.gos,"normal"),r=this.rowsToDisplay;for(let o=0,a=r.length;o<a;++o){const l=r[o];if(l.id!=null&&n.add(l.id),l.rowHeight==null){const u=bg(e,l,s,t);l.setRowHeight(u.height,u.estimated)}l.setRowTop(i),l.setRowIndex(o),i+=l.rowHeight}return n}clearRowTopAndRowIndex(e,t){const i=e.active,n=r=>{r&&r.id!=null&&!t.has(r.id)&&r.clearRowTopAndRowIndex()},s=r=>{if(r!==null&&(n(r),n(r.detailNode),n(r.sibling),r.hasChildren()&&r.childrenAfterGroup)){const o=r.level==-1;i&&!o&&!r.expanded||r.childrenAfterGroup.forEach(s)}};s(this.rootNode)}ensureRowsAtPixel(e,t,i=0){var a;const n=this.getRowIndexAtPixel(t),s=this.getRow(n),r=!this.gos.get("suppressAnimationFrame");if(s===e[0])return!1;const o=(a=this.rootNode)==null?void 0:a.allLeafChildren;return o?(e.forEach(l=>{ka(o,l)}),e.forEach((l,u)=>{o.splice(Math.max(n+i,0)+u,0,l)}),e.forEach((l,u)=>{l.sourceRowIndex=u}),this.refreshModel({step:"group",keepRenderedRows:!0,animate:r,rowNodesOrderChanged:!0}),!0):!1}highlightRowAtPixel(e,t){const i=t!=null?this.getRowIndexAtPixel(t):null,n=i!=null?this.getRow(i):null;if(!n||!e||t==null){this.clearHighlightedRow();return}const s=this.getHighlightPosition(t,n),r=this.isHighlightingCurrentPosition(e,n,s),o=this.lastHighlightedRow!=null&&this.lastHighlightedRow!==n;(r||o)&&(this.clearHighlightedRow(),r)||(this.setRowNodeHighlighted(n,s),this.lastHighlightedRow=n)}setRowNodeHighlighted(e,t){e.highlighted!==t&&(e.highlighted=t,e.dispatchRowEvent("rowHighlightChanged"))}getHighlightPosition(e,t){if(!t){const s=this.getRowIndexAtPixel(e);if(t=this.getRow(s||0),!t)return"Below"}const{rowTop:i,rowHeight:n}=t;return e-i<n/2?"Above":"Below"}getLastHighlightedRowNode(){return this.lastHighlightedRow}isHighlightingCurrentPosition(e,t,i){if(e===t)return!0;const n=i==="Above"?-1:1;return this.getRow(t.rowIndex+n)===e}clearHighlightedRow(){this.lastHighlightedRow&&(this.setRowNodeHighlighted(this.lastHighlightedRow,null),this.lastHighlightedRow=null)}isLastRowIndexKnown(){return!0}getRowCount(){return this.rowsToDisplay?this.rowsToDisplay.length:0}getTopLevelRowCount(){const e=this.rootNode;if(!e||this.rowsToDisplay.length===0)return 0;if(this.rowsToDisplay&&this.rowsToDisplay[0]===e)return 1;const i=e.childrenAfterAggFilter,n=e.sibling?1:0;return(i?i.length:0)+n}getTopLevelRowDisplayedIndex(e){const{rootNode:t,rowsToDisplay:i}=this;if(!t||!i.length||i[0]===t)return e;const{childrenAfterSort:s}=t,r=a=>{let l=s[a];if(this.gos.get("groupHideOpenParents"))for(;l.expanded&&l.childrenAfterSort&&l.childrenAfterSort.length>0;)l=l.childrenAfterSort[0];return l.rowIndex},{footerSvc:o}=this.beans;return o?o.getTopDisplayIndex(i,e,s,r):r(e)}getRowBounds(e){const t=this.rowsToDisplay[e];return t?{rowTop:t.rowTop,rowHeight:t.rowHeight}:null}onRowGroupOpened(){const e=_f(this.gos);this.refreshModel({step:"map",keepRenderedRows:!0,animate:e})}onFilterChanged(e){if(e.afterDataChange)return;const t=_f(this.gos),n=e.columns.length===0||e.columns.some(s=>s.isPrimary())?"filter":"filter_aggregates";this.refreshModel({step:n,keepRenderedRows:!0,animate:t})}onSortChanged(){const e=_f(this.gos);this.refreshModel({step:"sort",keepRenderedRows:!0,animate:e})}getType(){return"clientSide"}onValueChanged(){this.refreshModel({step:this.colModel.isPivotActive()?"pivot":"aggregate"})}createChangePath(e){const t=new PS(!1,this.rootNode);return e||(t.active=!1),t}isSuppressModelUpdateAfterUpdateTransaction(e){if(!this.gos.get("suppressModelUpdateAfterUpdateTransaction"))return!1;const{changedRowNodes:t,newData:i,rowDataUpdated:n}=e;return!(!t||i||!n||t.removals.size||t.adds.size)}refreshModel(e){var n,s;if(!this.rootNode)return;const t=e.changedPath??(e.changedPath=this.createChangePath(!e.newData&&!!e.rowDataUpdated));if((s=(n=this.nodeManager).refreshModel)==null||s.call(n,e,this.started),this.eventSvc.dispatchEvent({type:"beforeRefreshModel",params:e}),!this.started||(e.rowDataUpdated&&this.eventSvc.dispatchEvent({type:"rowDataUpdated"}),this.isRefreshingModel||this.colModel.changeEventsDispatching||this.isSuppressModelUpdateAfterUpdateTransaction(e)))return;switch(this.isRefreshingModel=!0,e.step){case"group":this.doRowGrouping(e.changedRowNodes,t,!!e.rowNodesOrderChanged,!!e.afterColumnsChanged);case"filter":this.doFilter(t);case"pivot":this.doPivot(t);case"aggregate":this.doAggregate(t);case"filter_aggregates":this.doFilterAggregates(t);case"sort":this.doSort(e.changedRowNodes,t);case"map":this.doRowsToDisplay()}const i=this.setRowTopAndRowIndex();this.clearRowTopAndRowIndex(t,i),this.isRefreshingModel=!1,this.eventSvc.dispatchEvent({type:"modelUpdated",animate:e.animate,keepRenderedRows:e.keepRenderedRows,newData:e.newData,newPage:!1,keepUndoRedoStack:e.keepUndoRedoStack})}isEmpty(){var e,t,i;return!((t=(e=this.rootNode)==null?void 0:e.allLeafChildren)!=null&&t.length)||!((i=this.colModel)!=null&&i.ready)}isRowsToRender(){return this.rowsToDisplay.length>0}getNodesInRangeForSelection(e,t){let i=!1,n=!1;const s=[],r=Nv(this.gos);return this.forEachNodeAfterFilterAndSort(o=>{if(n)return;if(i&&(o===t||o===e)&&(n=!0,o.group&&r)){s.push(...o.allLeafChildren);return}if(!i){if(o!==t&&o!==e)return;i=!0}if(!o.group||!r){s.push(o);return}}),s}getTopLevelNodes(){var e;return((e=this.rootNode)==null?void 0:e.childrenAfterGroup)??null}getRow(e){return this.rowsToDisplay[e]}isRowPresent(e){return this.rowsToDisplay.indexOf(e)>=0}getRowIndexAtPixel(e){const t=this.rowsToDisplay;if(this.isEmpty()||t.length===0)return-1;let i=0,n=t.length-1;if(e<=0)return 0;if(bi(t).rowTop<=e)return t.length-1;let r=-1,o=-1;for(;;){const a=Math.floor((i+n)/2),l=t[a];if(this.isRowInPixel(l,e)||(l.rowTop<e?i=a+1:l.rowTop>e&&(n=a-1),r===i&&o===n))return a;r=i,o=n}}isRowInPixel(e,t){const i=e.rowTop,n=e.rowTop+e.rowHeight;return i<=t&&n>t}forEachLeafNode(e){var t,i;(i=(t=this.rootNode)==null?void 0:t.allLeafChildren)==null||i.forEach((n,s)=>e(n,s))}forEachNode(e,t=!1){this.depthFirstSearchRowNodes(e,t)}forEachDisplayedNode(e){this.rowsToDisplay.forEach(e)}forEachNodeAfterFilter(e,t=!1){this.depthFirstSearchRowNodes(e,t,i=>i.childrenAfterAggFilter)}forEachNodeAfterFilterAndSort(e,t=!1){this.depthFirstSearchRowNodes(e,t,i=>i.childrenAfterSort)}forEachPivotNode(e,t=!1,i=!1){const n=i?"childrenAfterSort":"childrenAfterGroup";this.depthFirstSearchRowNodes(e,t,s=>s.leafGroup?null:s[n])}depthFirstSearchRowNodes(e,t=!1,i=r=>r.childrenAfterGroup,n=this.rootNode,s=0){let r=s;if(!n)return r;const o=n===this.rootNode;o||e(n,r++);const{footerSvc:a}=this.beans;if(n.hasChildren()&&!n.footer){const l=i(n);if(l){r=(a==null?void 0:a.addTotalRows(r,n,e,t,o,"top"))??r;for(const u of l)r=this.depthFirstSearchRowNodes(e,t,i,u,r);return(a==null?void 0:a.addTotalRows(r,n,e,t,o,"bottom"))??r}}return r}doAggregate(e){var i;const t=this.rootNode;t&&((i=this.aggStage)==null||i.execute({rowNode:t,changedPath:e}))}doFilterAggregates(e){const t=this.rootNode;this.filterAggStage?this.filterAggStage.execute({rowNode:t,changedPath:e}):t.childrenAfterAggFilter=t.childrenAfterFilter}doSort(e,t){const{groupHideOpenParentsSvc:i}=this.beans;this.sortStage?this.sortStage.execute({rowNode:this.rootNode,changedRowNodes:e,changedPath:t}):t.forEachChangedNodeDepthFirst(n=>{i==null||i.pullDownGroupDataForHideOpenParents(n.childrenAfterAggFilter,!0),n.childrenAfterSort=n.childrenAfterAggFilter.slice(0),c5(n)}),i==null||i.updateGroupDataForHideOpenParents(t)}doRowGrouping(e,t,i,n){const s=this.nodeManager.treeData,r=this.rootNode;if(!s){const o=this.groupStage;if(o)o.execute({rowNode:r,changedPath:t,changedRowNodes:e,rowNodesOrderChanged:i,afterColumnsChanged:n});else{const a=r.sibling;r.childrenAfterGroup=r.allLeafChildren,a&&(a.childrenAfterGroup=r.childrenAfterGroup),r.updateHasChildren()}}this.rowNodesCountReady&&(this.rowCountReady=!0,this.eventSvc.dispatchEventOnce({type:"rowCountReady"}))}doFilter(e){this.filterStage?this.filterStage.execute({rowNode:this.rootNode,changedPath:e}):e.forEachChangedNodeDepthFirst(t=>{t.childrenAfterFilter=t.childrenAfterGroup,jV(t)},!0)}doPivot(e){var t;(t=this.pivotStage)==null||t.execute({rowNode:this.rootNode,changedPath:e})}getRowNode(e){if(typeof e=="string"&&e.indexOf(ZT)==0){let i;return this.forEachNode(n=>{n.id===e&&(i=n)}),i}return this.nodeManager.getRowNode(e)}batchUpdateRowData(e,t){if(this.applyAsyncTransactionsTimeout==null){this.rowDataTransactionBatch=[];const i=this.gos.get("asyncTransactionWaitMillis");this.applyAsyncTransactionsTimeout=window.setTimeout(()=>{this.isAlive()&&this.executeBatchUpdateRowData()},i)}this.rowDataTransactionBatch.push({rowDataTransaction:e,callback:t})}flushAsyncTransactions(){this.applyAsyncTransactionsTimeout!=null&&(clearTimeout(this.applyAsyncTransactionsTimeout),this.executeBatchUpdateRowData())}executeBatchUpdateRowData(){var s,r;(s=this.valueCache)==null||s.onDataChanged();const e=[],t=[],i=new p1;let n=!1;(r=this.rowDataTransactionBatch)==null||r.forEach(o=>{this.rowNodesCountReady=!0;const{rowNodeTransaction:a,rowsInserted:l}=this.nodeManager.updateRowData(o.rowDataTransaction,i);l&&(n=!0),t.push(a),o.callback&&e.push(o.callback.bind(null,a))}),this.commitTransactions(n,i),e.length>0&&window.setTimeout(()=>{e.forEach(o=>o())},0),t.length>0&&this.eventSvc.dispatchEvent({type:"asyncTransactionsFlushed",results:t}),this.rowDataTransactionBatch=null,this.applyAsyncTransactionsTimeout=void 0}updateRowData(e){var s;(s=this.valueCache)==null||s.onDataChanged(),this.rowNodesCountReady=!0;const t=new p1,{rowNodeTransaction:i,rowsInserted:n}=this.nodeManager.updateRowData(e,t);return this.commitTransactions(n,t),i}commitTransactions(e,t){this.refreshModel({step:"group",rowDataUpdated:!0,rowNodesOrderChanged:e,keepRenderedRows:!0,animate:!this.gos.get("suppressAnimationFrame"),changedRowNodes:t,changedPath:this.createChangePath(!0)})}doRowsToDisplay(){const{flattenStage:e,rootNode:t}=this;let i;if(e)i=e.execute({rowNode:t});else{i=(t==null?void 0:t.childrenAfterSort)??[];for(const n of i)n.setUiLevel(0)}this.rowsToDisplay=i}onRowHeightChanged(){this.refreshModel({step:"map",keepRenderedRows:!0,keepUndoRedoStack:!0})}resetRowHeights(){const e=this.rootNode;if(!e)return;const t=this.resetRowHeightsForAllRowNodes();e.setRowHeight(e.rowHeight,!0),e.sibling&&e.sibling.setRowHeight(e.sibling.rowHeight,!0),t&&this.onRowHeightChanged()}resetRowHeightsForAllRowNodes(){let e=!1;return this.forEachNode(t=>{t.setRowHeight(t.rowHeight,!0);const i=t.detailNode;i&&i.setRowHeight(i.rowHeight,!0),t.sibling&&t.sibling.setRowHeight(t.sibling.rowHeight,!0),e=!0}),e}onGridStylesChanges(e){var t;if(e.rowHeightChanged){if((t=this.beans.rowAutoHeight)!=null&&t.active)return;this.resetRowHeights()}}onGridReady(){this.started||this.setInitialData()}isRowDataLoaded(){return this.rowCountReady}destroy(){super.destroy(),this.clearHighlightedRow(),this.started=!1,this.rootNode=null,this.nodeManager=null,this.rowDataTransactionBatch=null,this.lastHighlightedRow=null,this.orderedStages=FB,this.rowsToDisplay=FB}onRowHeightChangedDebounced(){this.onRowHeightChanged_debounced()}};function Eme(e){var t;(t=e.expansionSvc)==null||t.onGroupExpandedOrCollapsed()}function Tme(e,t){const i=Ol(e);i&&((!t||t==="everything")&&(t="group"),i.refreshModel({step:t,keepRenderedRows:!0,animate:!e.gos.get("suppressAnimationFrame")}))}function Ame(e){var t;return((t=Ol(e))==null?void 0:t.isEmpty())??!0}function Ime(e,t){var i;(i=Ol(e))==null||i.forEachLeafNode(t)}function Lme(e,t){var i;(i=Ol(e))==null||i.forEachNodeAfterFilter(t)}function kme(e,t){var i;(i=Ol(e))==null||i.forEachNodeAfterFilterAndSort(t)}function Pme(e){var t,i;if((t=e.rowAutoHeight)!=null&&t.active){Ae(3);return}(i=Ol(e))==null||i.resetRowHeights()}function Fme(e,t){return e.frameworkOverrides.wrapIncoming(()=>{var i;return(i=Ol(e))==null?void 0:i.updateRowData(t)})}function Ome(e,t,i){e.frameworkOverrides.wrapIncoming(()=>{var n;return(n=Ol(e))==null?void 0:n.batchUpdateRowData(t,i)})}function Nme(e){e.frameworkOverrides.wrapIncoming(()=>{var t;return(t=Ol(e))==null?void 0:t.flushAsyncTransactions()})}function Bme(e){var t;return(t=e.selectionSvc)==null?void 0:t.getBestCostNodeSelection()}var zme={moduleName:"ClientSideRowModel",version:Ge,rowModels:["clientSide"],beans:[wme,Rme,xme],dependsOn:[FV]},Gme={moduleName:"ClientSideRowModelApi",version:Ge,apiFunctions:{onGroupExpandedOrCollapsed:Eme,refreshClientSideRowModel:Tme,isRowDataEmpty:Ame,forEachLeafNode:Ime,forEachNodeAfterFilter:Lme,forEachNodeAfterFilterAndSort:kme,resetRowHeights:Pme,applyTransaction:Fme,applyTransactionAsync:Ome,flushAsyncTransactions:Nme,getBestCostNodeSelection:Bme},dependsOn:[yme]},Hme=class extends ye{constructor(){super(...arguments),this.beanName="gridSerializer"}wireBeans(e){this.visibleCols=e.visibleCols,this.colModel=e.colModel,this.rowModel=e.rowModel,this.pinnedRowModel=e.pinnedRowModel}serialize(e,t={}){const{allColumns:i,columnKeys:n,skipRowGroups:s,exportRowNumbers:r}=t,o=this.getColumnsToExport({allColumns:i,skipRowGroups:s,columnKeys:n,exportRowNumbers:r});return[this.prepareSession(o),this.prependContent(t),this.exportColumnGroups(t,o),this.exportHeaders(t,o),this.processPinnedTopRows(t,o),this.processRows(t,o),this.processPinnedBottomRows(t,o),this.appendContent(t)].reduce((a,l)=>l(a),e).parse()}processRow(e,t,i,n){var y;const s=t.shouldRowBeSkipped||(()=>!1),o=t.rowPositions!=null||!!t.onlySelected,a=this.gos.get("groupHideOpenParents")&&!o,l=this.colModel.isPivotMode()?n.leafGroup:!n.group,u=!!n.footer,d=n.allChildrenCount===1&&((y=n.childrenAfterGroup)==null?void 0:y.length)===1&&pre(this.gos,n);if(!l&&!u&&(t.skipRowGroups||d||a)||t.onlySelected&&!n.isSelected()||t.skipPinnedTop&&n.rowPinned==="top"||t.skipPinnedBottom&&n.rowPinned==="bottom"||n.level===-1&&!l&&!u||s(ut(this.gos,{node:n})))return;const m=e.onNewBodyRow(n);if(i.forEach((C,w)=>{m.onColumn(C,w,n)}),t.getCustomContentBelowRow){const C=t.getCustomContentBelowRow(ut(this.gos,{node:n}));C&&e.addCustomContent(C)}}appendContent(e){return t=>{const i=e.appendContent;return i&&t.addCustomContent(i),t}}prependContent(e){return t=>{const i=e.prependContent;return i&&t.addCustomContent(i),t}}prepareSession(e){return t=>(t.prepare(e),t)}exportColumnGroups(e,t){return i=>{if(!e.skipColumnGroupHeaders){const n=new Mj,{colGroupSvc:s}=this.beans,r=s?s.createColumnGroups({columns:t,idCreator:n,pinned:null,isStandaloneStructure:!0}):t;this.recursivelyAddHeaderGroups(r,i,e.processGroupHeaderCallback)}return i}}exportHeaders(e,t){return i=>{if(!e.skipColumnHeaders){const n=i.onNewHeaderRow();t.forEach((s,r)=>{n.onColumn(s,r,void 0)})}return i}}processPinnedTopRows(e,t){return i=>{var s;const n=this.processRow.bind(this,i,e,t);return e.rowPositions?e.rowPositions.filter(r=>r.rowPinned==="top").sort((r,o)=>r.rowIndex-o.rowIndex).map(r=>{var o;return(o=this.pinnedRowModel)==null?void 0:o.getPinnedTopRow(r.rowIndex)}).forEach(n):(s=this.pinnedRowModel)==null||s.forEachPinnedRow("top",n),i}}processRows(e,t){return i=>{var u;const n=this.rowModel,s=$s(this.gos),r=yp(this.gos),o=!s&&e.onlySelected,a=this.processRow.bind(this,i,e,t),{exportedRows:l="filteredAndSorted"}=e;if(e.rowPositions)return e.rowPositions.filter(d=>d.rowPinned==null).sort((d,p)=>d.rowIndex-p.rowIndex).map(d=>n.getRow(d.rowIndex)).forEach(a),i;if(this.colModel.isPivotMode())return s?n.forEachPivotNode(a,!0,l==="filteredAndSorted"):r?n.forEachNodeAfterFilterAndSort(a,!0):n.forEachNode(a),i;if(e.onlySelectedAllPages||o){const d=((u=this.beans.selectionSvc)==null?void 0:u.getSelectedNodes())??[];this.replicateSortedOrder(d),d.forEach(a)}else l==="all"?n.forEachNode(a):s||r?n.forEachNodeAfterFilterAndSort(a,!0):n.forEachNode(a);return i}}replicateSortedOrder(e){const{sortSvc:t,rowNodeSorter:i}=this.beans;if(!t||!i)return;const n=t.getSortOptions(),s=(r,o)=>{var a,l;return r.rowIndex!=null&&o.rowIndex!=null?r.rowIndex-o.rowIndex:r.level===o.level?((a=r.parent)==null?void 0:a.id)===((l=o.parent)==null?void 0:l.id)?i.compareRowNodes(n,{rowNode:r,currentPos:r.rowIndex??-1},{rowNode:o,currentPos:o.rowIndex??-1}):s(r.parent,o.parent):r.level>o.level?s(r.parent,o):s(r,o.parent)};e.sort(s)}processPinnedBottomRows(e,t){return i=>{var s;const n=this.processRow.bind(this,i,e,t);return e.rowPositions?e.rowPositions.filter(r=>r.rowPinned==="bottom").sort((r,o)=>r.rowIndex-o.rowIndex).map(r=>{var o;return(o=this.pinnedRowModel)==null?void 0:o.getPinnedBottomRow(r.rowIndex)}).forEach(n):(s=this.pinnedRowModel)==null||s.forEachPinnedRow("bottom",n),i}}getColumnsToExport(e){const{allColumns:t=!1,skipRowGroups:i=!1,exportRowNumbers:n=!1,columnKeys:s}=e,{colModel:r,gos:o,visibleCols:a}=this,l=r.isPivotMode(),u=f=>kc(f)?!1:!PC(f)||n;if(s&&s.length)return r.getColsForKeys(s).filter(u);const d=o.get("treeData");let p=[];return t&&!l?p=r.getCols():p=a.allCols,p=p.filter(f=>u(f)&&(i&&!d?!bL(f):!0)),p}recursivelyAddHeaderGroups(e,t,i){const n=[];e.forEach(s=>{const r=s;r.getChildren&&r.getChildren().forEach(o=>n.push(o))}),e.length>0&&dn(e[0])&&this.doAddHeaderHeader(t,e,i),n&&n.length>0&&this.recursivelyAddHeaderGroups(n,t,i)}doAddHeaderHeader(e,t,i){const n=e.onNewHeaderGroupingRow();let s=0;t.forEach(r=>{const o=r;let a;i?a=i(ut(this.gos,{columnGroup:o})):a=this.beans.colNames.getDisplayNameForColumnGroup(o,"header");const l=o.getLeafColumns().reduce((u,d,p,f)=>{let m=bi(u);return d.getColumnGroupShow()==="open"?(!m||m[1]!=null)&&(m=[p],u.push(m)):m&&m[1]==null&&(m[1]=p-1),p===f.length-1&&m&&m[1]==null&&(m[1]=p),u},[]);n.onColumn(o,a||"",s++,o.getLeafColumns().length-1,l)})}},_me={moduleName:"SharedExport",version:Ge,beans:[Hme]},gz=`\r
`,jme=class extends Vpe{constructor(e){super(e),this.isFirstLine=!0,this.result="";const{suppressQuotes:t,columnSeparator:i}=e;this.suppressQuotes=t,this.columnSeparator=i}addCustomContent(e){e&&(typeof e=="string"?(/^\s*\n/.test(e)||this.beginNewLine(),e=e.replace(/\r?\n/g,gz),this.result+=e):e.forEach(t=>{this.beginNewLine(),t.forEach((i,n)=>{n!==0&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(i.data.value||""),i.mergeAcross&&this.appendEmptyCells(i.mergeAcross)})}))}onNewHeaderGroupingRow(){return this.beginNewLine(),{onColumn:this.onNewHeaderGroupingRowColumn.bind(this)}}onNewHeaderGroupingRowColumn(e,t,i,n){i!=0&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(t),this.appendEmptyCells(n)}appendEmptyCells(e){for(let t=1;t<=e;t++)this.result+=this.columnSeparator+this.putInQuotes("")}onNewHeaderRow(){return this.beginNewLine(),{onColumn:this.onNewHeaderRowColumn.bind(this)}}onNewHeaderRowColumn(e,t){t!=0&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(this.extractHeaderValue(e))}onNewBodyRow(){return this.beginNewLine(),{onColumn:this.onNewBodyRowColumn.bind(this)}}onNewBodyRowColumn(e,t,i){t!=0&&(this.result+=this.columnSeparator);const n=this.extractRowCellValue(e,t,t,"csv",i);this.result+=this.putInQuotes(n.valueFormatted??n.value)}putInQuotes(e){if(this.suppressQuotes)return e;if(e==null)return'""';let t;return typeof e=="string"?t=e:typeof e.toString=="function"?t=e.toString():(Ae(53),t=""),'"'+t.replace(/"/g,'""')+'"'}parse(){return this.result}beginNewLine(){this.isFirstLine||(this.result+=gz),this.isFirstLine=!1}},Vme=class extends jpe{constructor(){super(...arguments),this.beanName="csvCreator"}wireBeans(e){this.colModel=e.colModel,this.colNames=e.colNames,this.rowGroupColsSvc=e.rowGroupColsSvc,this.valueSvc=e.valueSvc}getMergedParams(e){const t=this.gos.get("defaultCsvExportParams");return Object.assign({},t,e)}export(e){if(this.isExportSuppressed()){Ae(51);return}const t=this.getMergedParams(e),i=this.getData(t),n=new Blob(["\uFEFF",i],{type:"text/plain"}),s=typeof t.fileName=="function"?t.fileName(ut(this.gos,{})):t.fileName;Wpe(this.getFileName(s),n)}exportDataAsCsv(e){this.export(e)}getDataAsCsv(e,t=!1){const i=t?Object.assign({},e):this.getMergedParams(e);return this.getData(i)}getDefaultFileExtension(){return"csv"}createSerializingSession(e){const{colModel:t,colNames:i,rowGroupColsSvc:n,valueSvc:s,gos:r}=this,{processCellCallback:o,processHeaderCallback:a,processGroupHeaderCallback:l,processRowGroupCallback:u,suppressQuotes:d,columnSeparator:p}=e;return new jme({colModel:t,colNames:i,valueSvc:s,gos:r,processCellCallback:o||void 0,processHeaderCallback:a||void 0,processGroupHeaderCallback:l||void 0,processRowGroupCallback:u||void 0,suppressQuotes:d||!1,columnSeparator:p||",",rowGroupColsSvc:n})}isExportSuppressed(){return this.gos.get("suppressCsvExport")}};function Wme(e,t){var i;return(i=e.csvCreator)==null?void 0:i.getDataAsCsv(t)}function Ume(e,t){var i;(i=e.csvCreator)==null||i.exportDataAsCsv(t)}var $me={moduleName:"CsvExport",version:Ge,beans:[Vme],apiFunctions:{getDataAsCsv:Wme,exportDataAsCsv:Ume},dependsOn:[_me]},Yme=class extends ye{constructor(e,t,i){super(),this.id=e,this.parentCache=t,this.params=i,this.state="needsLoading",this.version=0,this.startRow=e*i.blockSize,this.endRow=this.startRow+i.blockSize}load(){this.state="loading",this.loadFromDatasource()}setStateWaitingToLoad(){this.version++,this.state="needsLoading"}pageLoadFailed(e){this.isRequestMostRecentAndLive(e)&&(this.state="failed"),this.dispatchLocalEvent({type:"loadComplete"})}pageLoaded(e,t,i){this.successCommon(e,{rowData:t,rowCount:i})}isRequestMostRecentAndLive(e){const t=e===this.version,i=this.isAlive();return t&&i}successCommon(e,t){this.dispatchLocalEvent({type:"loadComplete"}),this.isRequestMostRecentAndLive(e)&&(this.state="loaded",this.processServerResult(t))}postConstruct(){this.rowNodes=[];const{params:{blockSize:e,rowHeight:t},startRow:i,beans:n,rowNodes:s}=this;for(let r=0;r<e;r++){const o=i+r,a=new Dg(n);a.setRowHeight(t),a.uiLevel=0,a.setRowIndex(o),a.setRowTop(t*o),s.push(a)}}getBlockStateJson(){const{id:e,startRow:t,endRow:i,state:n}=this;return{id:""+e,state:{blockNumber:e,startRow:t,endRow:i,pageStatus:n}}}setDataAndId(e,t,i){Ne(t)?e.setDataAndId(t,i.toString()):e.setDataAndId(void 0,void 0)}loadFromDatasource(){const e=this.createLoadParams();if(qi(this.params.datasource.getRows)){Ae(90);return}window.setTimeout(()=>{this.params.datasource.getRows(e)},0)}createLoadParams(){const{startRow:e,endRow:t,version:i,params:{sortModel:n,filterModel:s},gos:r}=this;return{startRow:e,endRow:t,successCallback:this.pageLoaded.bind(this,i),failCallback:this.pageLoadFailed.bind(this,i),sortModel:n,filterModel:s,context:ut(r,{}).context}}forEachNode(e,t,i){this.rowNodes.forEach((n,s)=>{this.startRow+s<i&&e(n,t.value++)})}getRow(e,t=!1){t||(this.lastAccessed=this.params.lastAccessedSequence.value++);const i=e-this.startRow;return this.rowNodes[i]}processServerResult(e){const{rowNodes:t,beans:i}=this;t.forEach((s,r)=>{const o=e.rowData?e.rowData[r]:void 0;!s.id&&s.alreadyRendered&&o&&(t[r]=new Dg(i),t[r].setRowIndex(s.rowIndex),t[r].setRowTop(s.rowTop),t[r].setRowHeight(s.rowHeight),s.clearRowTopAndRowIndex()),this.setDataAndId(t[r],o,this.startRow+r)});const n=e.rowCount!=null&&e.rowCount>=0?e.rowCount:void 0;this.parentCache.pageLoaded(this,n)}destroy(){this.rowNodes.forEach(e=>{e.clearRowTopAndRowIndex()}),super.destroy()}},Kme=2,qme=class extends ye{constructor(e){super(),this.params=e,this.lastRowIndexKnown=!1,this.blocks={},this.blockCount=0,this.rowCount=e.initialRowCount}getRow(e,t=!1){const i=Math.floor(e/this.params.blockSize);let n=this.blocks[i];if(!n){if(t)return;n=this.createBlock(i)}return n.getRow(e)}createBlock(e){const t=this.params,i=this.createBean(new Yme(e,this,t));return this.blocks[i.id]=i,this.blockCount++,this.purgeBlocksIfNeeded(i),t.rowNodeBlockLoader.addBlock(i),i}refreshCache(){if(this.blockCount==0){this.purgeCache();return}this.getBlocksInOrder().forEach(t=>t.setStateWaitingToLoad()),this.params.rowNodeBlockLoader.checkBlockToLoad()}destroy(){this.getBlocksInOrder().forEach(e=>this.destroyBlock(e)),super.destroy()}getRowCount(){return this.rowCount}isLastRowIndexKnown(){return this.lastRowIndexKnown}pageLoaded(e,t){this.isAlive()&&(Jh(this.gos,`InfiniteCache - onPageLoaded: page = ${e.id}, lastRow = ${t}`),this.checkRowCount(e,t),this.onCacheUpdated())}purgeBlocksIfNeeded(e){const t=this.getBlocksInOrder().filter(o=>o!=e),i=(o,a)=>a.lastAccessed-o.lastAccessed;t.sort(i);const n=this.params.maxBlocksInCache>0,s=n?this.params.maxBlocksInCache-1:null,r=Kme-1;t.forEach((o,a)=>{const l=o.state==="needsLoading"&&a>=r,u=n?a>=s:!1;if(l||u){if(this.isBlockCurrentlyDisplayed(o)||this.isBlockFocused(o))return;this.removeBlockFromCache(o)}})}isBlockFocused(e){const t=this.beans.focusSvc.getFocusCellToUseAfterRefresh();if(!t||t.rowPinned!=null)return!1;const{startRow:i,endRow:n}=e;return t.rowIndex>=i&&t.rowIndex<n}isBlockCurrentlyDisplayed(e){const{startRow:t,endRow:i}=e;return this.beans.rowRenderer.isRangeInRenderedViewport(t,i-1)}removeBlockFromCache(e){e&&this.destroyBlock(e)}checkRowCount(e,t){if(typeof t=="number"&&t>=0)this.rowCount=t,this.lastRowIndexKnown=!0;else if(!this.lastRowIndexKnown){const{blockSize:i,overflowSize:n}=this.params,r=(e.id+1)*i+n;this.rowCount<r&&(this.rowCount=r)}}setRowCount(e,t){this.rowCount=e,Ne(t)&&(this.lastRowIndexKnown=t),this.lastRowIndexKnown||this.rowCount%this.params.blockSize===0&&this.rowCount++,this.onCacheUpdated()}forEachNodeDeep(e){const t={value:0};this.getBlocksInOrder().forEach(i=>i.forEachNode(e,t,this.rowCount))}getBlocksInOrder(){const e=(i,n)=>i.id-n.id;return Object.values(this.blocks).sort(e)}destroyBlock(e){delete this.blocks[e.id],this.destroyBean(e),this.blockCount--,this.params.rowNodeBlockLoader.removeBlock(e)}onCacheUpdated(){this.isAlive()&&(this.destroyAllBlocksPastVirtualRowCount(),this.eventSvc.dispatchEvent({type:"storeUpdated"}))}destroyAllBlocksPastVirtualRowCount(){const e=[];this.getBlocksInOrder().forEach(t=>{t.id*this.params.blockSize>=this.rowCount&&e.push(t)}),e.length>0&&e.forEach(t=>this.destroyBlock(t))}purgeCache(){this.getBlocksInOrder().forEach(e=>this.removeBlockFromCache(e)),this.lastRowIndexKnown=!1,this.rowCount===0&&(this.rowCount=this.params.initialRowCount),this.onCacheUpdated()}getRowNodesInRange(e,t){const i=[];let n=-1,s=!1;const r={value:0};let o=!1;return this.getBlocksInOrder().forEach(l=>{if(!o){if(s&&n+1!==l.id){o=!0;return}n=l.id,l.forEachNode(u=>{const d=u===e||u===t;(s||d)&&i.push(u),d&&(s=!s)},r,this.rowCount)}}),o||s?[]:i}},Zme=class extends ye{constructor(){super(...arguments),this.beanName="rowModel"}getRowBounds(e){return{rowHeight:this.rowHeight,rowTop:this.rowHeight*e}}ensureRowHeightsValid(){return!1}postConstruct(){this.gos.get("rowModelType")==="infinite"&&(this.rowHeight=Bh(this.beans),this.addEventListeners(),this.addDestroyFunc(()=>this.destroyCache()))}start(){this.setDatasource(this.gos.get("datasource"))}destroy(){this.destroyDatasource(),super.destroy()}destroyDatasource(){this.datasource&&(this.destroyBean(this.datasource),this.beans.rowRenderer.datasourceChanged(),this.datasource=null)}addEventListeners(){this.addManagedEventListeners({filterChanged:this.reset.bind(this),sortChanged:this.reset.bind(this),newColumnsLoaded:this.onColumnEverything.bind(this),storeUpdated:this.dispatchModelUpdatedEvent.bind(this)}),this.addManagedPropertyListener("datasource",()=>this.setDatasource(this.gos.get("datasource"))),this.addManagedPropertyListener("cacheBlockSize",()=>this.resetCache()),this.addManagedPropertyListener("rowHeight",()=>{this.rowHeight=Bh(this.beans),this.cacheParams.rowHeight=this.rowHeight,this.updateRowHeights()})}onColumnEverything(){var t;let e;this.cacheParams?e=!Fv(this.cacheParams.sortModel,((t=this.beans.sortSvc)==null?void 0:t.getSortModel())??[]):e=!0,e&&this.reset()}getType(){return"infinite"}setDatasource(e){this.destroyDatasource(),this.datasource=e,e&&this.reset()}isEmpty(){return!this.infiniteCache}isRowsToRender(){return!!this.infiniteCache}getNodesInRangeForSelection(e,t){var i;return((i=this.infiniteCache)==null?void 0:i.getRowNodesInRange(e,t))??[]}reset(){var i;if(!this.datasource)return;wg(this.gos)!=null||(i=this.beans.selectionSvc)==null||i.reset("rowDataChanged"),this.resetCache()}dispatchModelUpdatedEvent(){this.eventSvc.dispatchEvent({type:"modelUpdated",newPage:!1,newPageSize:!1,newData:!1,keepRenderedRows:!0,animate:!1})}resetCache(){this.destroyCache();const e=this.beans,{filterManager:t,sortSvc:i,rowNodeBlockLoader:n,eventSvc:s,gos:r}=e;this.cacheParams={datasource:this.datasource,filterModel:(t==null?void 0:t.getFilterModel())??{},sortModel:(i==null?void 0:i.getSortModel())??[],rowNodeBlockLoader:n,initialRowCount:r.get("infiniteInitialRowCount"),maxBlocksInCache:r.get("maxBlocksInCache"),rowHeight:Bh(e),overflowSize:r.get("cacheOverflowSize"),blockSize:r.get("cacheBlockSize"),lastAccessedSequence:{value:0}},this.infiniteCache=this.createBean(new qme(this.cacheParams)),s.dispatchEventOnce({type:"rowCountReady"}),this.dispatchModelUpdatedEvent()}updateRowHeights(){this.forEachNode(e=>{e.setRowHeight(this.rowHeight),e.setRowTop(this.rowHeight*e.rowIndex)}),this.dispatchModelUpdatedEvent()}destroyCache(){this.infiniteCache=this.destroyBean(this.infiniteCache)}getRow(e){const t=this.infiniteCache;if(t&&!(e>=t.getRowCount()))return t.getRow(e)}getRowNode(e){let t;return this.forEachNode(i=>{i.id===e&&(t=i)}),t}forEachNode(e){var t;(t=this.infiniteCache)==null||t.forEachNodeDeep(e)}getTopLevelRowCount(){return this.getRowCount()}getTopLevelRowDisplayedIndex(e){return e}getRowIndexAtPixel(e){if(this.rowHeight!==0){const t=Math.floor(e/this.rowHeight),i=this.getRowCount()-1;return t>i?i:t}return 0}getRowCount(){return this.infiniteCache?this.infiniteCache.getRowCount():0}isRowPresent(e){return!!this.getRowNode(e.id)}refreshCache(){var e;(e=this.infiniteCache)==null||e.refreshCache()}purgeCache(){var e;(e=this.infiniteCache)==null||e.purgeCache()}isLastRowIndexKnown(){var e;return((e=this.infiniteCache)==null?void 0:e.isLastRowIndexKnown())??!1}setRowCount(e,t){var i;(i=this.infiniteCache)==null||i.setRowCount(e,t)}};function Xme(e){var t;(t=Jx(e))==null||t.refreshCache()}function Qme(e){var t;(t=Jx(e))==null||t.purgeCache()}function Jme(e){var t;return(t=Jx(e))==null?void 0:t.getRowCount()}var eye=class extends ye{constructor(){super(...arguments),this.beanName="rowNodeBlockLoader",this.activeBlockLoadsCount=0,this.blocks=[],this.active=!0}postConstruct(){this.maxConcurrentRequests=fre(this.gos);const e=this.gos.get("blockLoadDebounceMillis");e&&e>0&&(this.checkBlockToLoadDebounce=Os(this,this.performCheckBlocksToLoad.bind(this),e))}addBlock(e){this.blocks.push(e),e.addEventListener("loadComplete",this.loadComplete.bind(this)),this.checkBlockToLoad()}removeBlock(e){ka(this.blocks,e)}destroy(){super.destroy(),this.active=!1}loadComplete(){this.activeBlockLoadsCount--,this.checkBlockToLoad()}checkBlockToLoad(){this.checkBlockToLoadDebounce?this.checkBlockToLoadDebounce():this.performCheckBlocksToLoad()}performCheckBlocksToLoad(){if(!this.active)return;if(this.printCacheStatus(),this.maxConcurrentRequests!=null&&this.activeBlockLoadsCount>=this.maxConcurrentRequests){Jh(this.gos,"RowNodeBlockLoader - checkBlockToLoad: max loads exceeded");return}const e=this.maxConcurrentRequests!=null?this.maxConcurrentRequests-this.activeBlockLoadsCount:1,t=this.blocks.filter(i=>i.state==="needsLoading").slice(0,e);this.activeBlockLoadsCount+=t.length,t.forEach(i=>i.load()),this.printCacheStatus()}getBlockState(){const e={};return this.blocks.forEach(t=>{const{id:i,state:n}=t.getBlockStateJson();e[i]=n}),e}printCacheStatus(){Jh(this.gos,`RowNodeBlockLoader - printCacheStatus: activePageLoadsCount = ${this.activeBlockLoadsCount}, blocks = ${JSON.stringify(this.getBlockState())}`)}},tye={moduleName:"InfiniteRowModelCore",version:Ge,rowModels:["infinite"],beans:[Zme,eye]},iye={moduleName:"InfiniteRowModel",version:Ge,apiFunctions:{refreshInfiniteCache:Xme,purgeInfiniteCache:Qme,getInfiniteRowCount:Jme},dependsOn:[tye,vme]},nye="↑",sye="↓",rye=class extends Xi{constructor(){super(),this.refreshCount=0;const e=document.createElement("span"),t=document.createElement("span");t.setAttribute("class","ag-value-change-delta");const i=document.createElement("span");i.setAttribute("class","ag-value-change-value"),e.appendChild(t),e.appendChild(i),this.setTemplateFromElement(e)}init(e){this.eValue=this.queryForHtmlElement(".ag-value-change-value"),this.eDelta=this.queryForHtmlElement(".ag-value-change-delta"),this.refresh(e,!0)}showDelta(e,t){const i=Math.abs(t),n=e.formatValue(i),s=Ne(n)?n:i,r=t>=0,o=this.eDelta;r?o.textContent=nye+s:o.textContent=sye+s,o.classList.toggle("ag-value-change-delta-up",r),o.classList.toggle("ag-value-change-delta-down",!r)}setTimerToRemoveDelta(){this.refreshCount++;const e=this.refreshCount;this.beans.frameworkOverrides.wrapIncoming(()=>{window.setTimeout(()=>{e===this.refreshCount&&this.hideDeltaValue()},2e3)})}hideDeltaValue(){this.eValue.classList.remove("ag-value-change-value-highlight"),no(this.eDelta)}refresh(e,t=!1){var a;const{value:i,valueFormatted:n}=e,{eValue:s,lastValue:r,beans:o}=this;if(i===r||(Ne(n)?s.textContent=n:Ne(i)?s.textContent=i:no(s),(a=o.filterManager)!=null&&a.isSuppressFlashingCellsBecauseFiltering()))return!1;if(typeof i=="number"&&typeof r=="number"){const l=i-r;this.showDelta(e,l)}return r&&s.classList.add("ag-value-change-value-highlight"),t||this.setTimerToRemoveDelta(),this.lastValue=i,!0}},oye=".ag-value-slide-out{opacity:1}:where(.ag-ltr) .ag-value-slide-out{margin-right:5px;transition:opacity 3s,margin-right 3s}:where(.ag-rtl) .ag-value-slide-out{margin-left:5px;transition:opacity 3s,margin-left 3s}:where(.ag-ltr,.ag-rtl) .ag-value-slide-out{transition-timing-function:linear}.ag-value-slide-out-end{opacity:0}:where(.ag-ltr) .ag-value-slide-out-end{margin-right:10px}:where(.ag-rtl) .ag-value-slide-out-end{margin-left:10px}",aye=class extends Xi{constructor(){super(),this.refreshCount=0;const e=document.createElement("span"),t=document.createElement("span");t.setAttribute("class","ag-value-slide-current"),e.appendChild(t),this.setTemplateFromElement(e),this.eCurrent=this.queryForHtmlElement(".ag-value-slide-current"),this.registerCSS(oye)}init(e){this.refresh(e,!0)}addSlideAnimation(){this.refreshCount++;const e=this.refreshCount;this.ePrevious&&this.getGui().removeChild(this.ePrevious);const{beans:t,eCurrent:i}=this,n=An(t).createElement("span");n.setAttribute("class","ag-value-slide-previous ag-value-slide-out"),this.ePrevious=n,n.textContent=i.textContent,this.getGui().insertBefore(n,i),t.frameworkOverrides.wrapIncoming(()=>{window.setTimeout(()=>{e===this.refreshCount&&this.ePrevious.classList.add("ag-value-slide-out-end")},50),window.setTimeout(()=>{e===this.refreshCount&&(this.getGui().removeChild(this.ePrevious),this.ePrevious=null)},3e3)})}refresh(e,t=!1){var s;let i=e.value;if(qi(i)&&(i=""),i===this.lastValue||(s=this.beans.filterManager)!=null&&s.isSuppressFlashingCellsBecauseFiltering())return!1;t||this.addSlideAnimation(),this.lastValue=i;const n=this.eCurrent;return Ne(e.valueFormatted)?n.textContent=e.valueFormatted:Ne(e.value)?n.textContent=i:no(n),!0}},lye=class extends ye{constructor(){super(...arguments),this.beanName="cellFlashSvc"}onFlashCells(e,t){if(!e.comp)return;const i=Dae(e.cellPosition);t.cells[i]&&this.animateCell(e,"highlight")}flashCell(e,t){this.animateCell(e,"data-changed",t==null?void 0:t.flashDuration,t==null?void 0:t.fadeDuration)}animateCell(e,t,i,n){const s=e.comp;if(!s)return;const{gos:r}=this;if(i||(i=r.get("cellFlashDuration")),i===0)return;Ne(n)||(n=r.get("cellFadeDuration"));const o=`ag-cell-${t}`,a=`ag-cell-${t}-animation`;s.addOrRemoveCssClass(o,!0),s.addOrRemoveCssClass(a,!1);const l=e.eGui;this.beans.frameworkOverrides.wrapIncoming(()=>{window.setTimeout(()=>{e.isAlive()&&(s.addOrRemoveCssClass(o,!1),s.addOrRemoveCssClass(a,!0),l.style.transition=`background-color ${n}ms`,window.setTimeout(()=>{e.isAlive()&&(s.addOrRemoveCssClass(a,!1),l.style.transition="")},n))},i)})}};function cye(e,t={}){const{cellFlashSvc:i}=e;i&&e.frameworkOverrides.wrapIncoming(()=>{e.rowRenderer.getCellCtrls(t.rowNodes,t.columns).forEach(n=>i.flashCell(n,t))})}var uye={moduleName:"HighlightChanges",version:Ge,beans:[lye],userComponents:{agAnimateShowChangeCellRenderer:rye,agAnimateSlideCellRenderer:aye},apiFunctions:{flashCells:cye}};function dye(e){var t;return((t=e.stateSvc)==null?void 0:t.getState())??{}}function hye(e){switch(e={...e},e.version||(e.version="32.1.0"),e.version){case"32.1.0":e=pye(e)}return e}function pye(e){return e.cellSelection=fye(e,"rangeSelection"),e}function fye(e,t){if(e&&typeof e=="object")return e[t]}var gye=class extends ye{constructor(){super(...arguments),this.beanName="stateSvc",this.updateRowGroupExpansionStateTimer=0,this.suppressEvents=!0,this.queuedUpdateSources=new Set,this.dispatchStateUpdateEventDebounced=Os(this,()=>this.dispatchQueuedStateUpdateEvents(),0),this.onRowGroupOpenedDebounced=Os(this,()=>{this.updateCachedState("rowGroupExpansion",this.getRowGroupExpansionState())},0),this.onRowSelectedDebounced=Os(this,()=>{this.staleStateKeys.delete("rowSelection"),this.updateCachedState("rowSelection",this.getRowSelectionState())},0),this.staleStateKeys=new Set}postConstruct(){this.isClientSideRowModel=$s(this.gos),this.cachedState=this.getInitialState(),this.setCachedStateValue("version",Ge);const e=this.suppressEventsAndDispatchInitEvent.bind(this);this.beans.ctrlsSvc.whenReady(this,()=>e(()=>this.setupStateOnGridReady()));const[t,i,n]=this.addManagedEventListeners({newColumnsLoaded:({source:s})=>{s==="gridInitializing"&&(t(),e(()=>this.setupStateOnColumnsInitialised()))},rowCountReady:()=>{i==null||i(),e(()=>this.setupStateOnRowCountReady())},firstDataRendered:()=>{n==null||n(),e(()=>this.setupStateOnFirstDataRendered())}})}destroy(){super.destroy(),clearTimeout(this.updateRowGroupExpansionStateTimer),this.queuedUpdateSources.clear()}getInitialState(){return hye(this.gos.get("initialState")??{})}getState(){return this.staleStateKeys.size&&this.refreshStaleState(),this.cachedState}setupStateOnGridReady(){const e=()=>this.updateCachedState("sideBar",this.getSideBarState());e(),this.addManagedEventListeners({toolPanelVisibleChanged:e,sideBarUpdated:e})}setupStateOnColumnsInitialised(){const e=this.getInitialState();this.setColumnState(e),this.setColumnGroupState(e),this.updateColumnState(["aggregation","columnOrder","columnPinning","columnSizing","columnVisibility","pivot","pivot","rowGroup","sort"]),this.updateCachedState("columnGroup",this.getColumnGroupState());const t=i=>()=>this.updateColumnState([i]);this.addManagedEventListeners({columnValueChanged:t("aggregation"),columnMoved:t("columnOrder"),columnPinned:t("columnPinning"),columnResized:t("columnSizing"),columnVisible:t("columnVisibility"),columnPivotChanged:t("pivot"),columnPivotModeChanged:t("pivot"),columnRowGroupChanged:t("rowGroup"),sortChanged:t("sort"),newColumnsLoaded:()=>this.updateColumnState(["aggregation","columnOrder","columnPinning","columnSizing","columnVisibility","pivot","rowGroup","sort"]),columnGroupOpened:()=>this.updateCachedState("columnGroup",this.getColumnGroupState())})}setupStateOnRowCountReady(){const{filter:e,rowGroupExpansion:t,rowSelection:i,pagination:n}=this.getInitialState();e&&this.setFilterState(e),t&&this.setRowGroupExpansionState(t),i&&this.setRowSelectionState(i),n&&this.setPaginationState(n);const s=this.updateCachedState.bind(this);s("filter",this.getFilterState()),s("rowGroupExpansion",this.getRowGroupExpansionState()),s("rowSelection",this.getRowSelectionState()),s("pagination",this.getPaginationState());const r=()=>{this.updateRowGroupExpansionStateTimer=0,s("rowGroupExpansion",this.getRowGroupExpansionState())};this.addManagedEventListeners({filterChanged:()=>s("filter",this.getFilterState()),rowGroupOpened:()=>this.onRowGroupOpenedDebounced(),expandOrCollapseAll:r,columnRowGroupChanged:r,rowDataUpdated:()=>{this.gos.get("groupDefaultExpanded")!==0&&(this.updateRowGroupExpansionStateTimer||(this.updateRowGroupExpansionStateTimer=setTimeout(r)))},selectionChanged:()=>{this.staleStateKeys.add("rowSelection"),this.onRowSelectedDebounced()},paginationChanged:o=>{(o.newPage||o.newPageSize)&&s("pagination",this.getPaginationState())}})}setupStateOnFirstDataRendered(){const{scroll:e,cellSelection:t,focusedCell:i,columnOrder:n}=this.getInitialState();i&&this.setFocusedCellState(i),t&&this.setCellSelectionState(t),e&&this.setScrollState(e),this.setColumnPivotState(!!(n!=null&&n.orderedColIds));const s=this.updateCachedState.bind(this);s("sideBar",this.getSideBarState()),s("focusedCell",this.getFocusedCellState());const r=this.getRangeSelectionState();s("rangeSelection",r),s("cellSelection",r),s("scroll",this.getScrollState()),this.addManagedEventListeners({cellFocused:()=>s("focusedCell",this.getFocusedCellState()),cellSelectionChanged:o=>{if(o.finished){const a=this.getRangeSelectionState();s("rangeSelection",a),s("cellSelection",a)}},bodyScrollEnd:()=>s("scroll",this.getScrollState())})}getColumnState(){const e=this.beans,t=e.colModel.isPivotMode(),i=[],n=[],s=[],r=[],o=[],a=[],l=[],u=[],d=[];let p=0;const f=Bv(e);for(let m=0;m<f.length;m++){const{colId:y,sort:C,sortIndex:w,rowGroup:b,rowGroupIndex:S,aggFunc:M,pivot:D,pivotIndex:R,pinned:A,hide:k,width:F,flex:P}=f[m];d.push(y),C&&(i[w??p++]={colId:y,sort:C}),b&&(n[S??0]=y),typeof M=="string"&&s.push({colId:y,aggFunc:M}),D&&(r[R??0]=y),A&&(A==="right"?a:o).push(y),k&&l.push(y),(P!=null||F)&&u.push({colId:y,flex:P??void 0,width:F})}return{sort:i.length?{sortModel:i}:void 0,rowGroup:n.length?{groupColIds:n}:void 0,aggregation:s.length?{aggregationModel:s}:void 0,pivot:r.length||t?{pivotMode:t,pivotColIds:r}:void 0,columnPinning:o.length||a.length?{leftColIds:o,rightColIds:a}:void 0,columnVisibility:l.length?{hiddenColIds:l}:void 0,columnSizing:u.length?{columnSizingModel:u}:void 0,columnOrder:d.length?{orderedColIds:d}:void 0}}setColumnState(e){const{sort:t,rowGroup:i,aggregation:n,pivot:s,columnPinning:r,columnVisibility:o,columnSizing:a,columnOrder:l,partialColumnState:u}=e,d={},p=w=>{let b=d[w];return b||(b={colId:w},d[w]=b,b)},f=u?{}:{sort:null,sortIndex:null,rowGroup:null,rowGroupIndex:null,aggFunc:null,pivot:null,pivotIndex:null,pinned:null,hide:null,flex:null};t&&(t.sortModel.forEach(({colId:w,sort:b},S)=>{const M=p(w);M.sort=b,M.sortIndex=S}),f.sort=null,f.sortIndex=null),i&&(i.groupColIds.forEach((w,b)=>{const S=p(w);S.rowGroup=!0,S.rowGroupIndex=b}),f.rowGroup=null,f.rowGroupIndex=null),n&&(n.aggregationModel.forEach(({colId:w,aggFunc:b})=>{p(w).aggFunc=b}),f.aggFunc=null),s&&(s.pivotColIds.forEach((w,b)=>{const S=p(w);S.pivot=!0,S.pivotIndex=b}),this.gos.updateGridOptions({options:{pivotMode:s.pivotMode},source:"gridInitializing"}),f.pivot=null,f.pivotIndex=null),r&&(r.leftColIds.forEach(w=>{p(w).pinned="left"}),r.rightColIds.forEach(w=>{p(w).pinned="right"}),f.pinned=null),o&&(o.hiddenColIds.forEach(w=>{p(w).hide=!0}),f.hide=null),a&&(a.columnSizingModel.forEach(({colId:w,flex:b,width:S})=>{const M=p(w);M.flex=b??null,M.width=S}),f.flex=null);const m=l==null?void 0:l.orderedColIds,y=!!(m!=null&&m.length),C=y?m.map(w=>p(w)):Object.values(d);C.length&&(this.columnStates=C,Ko(this.beans,{state:C,applyOrder:y,defaultState:f},"gridInitializing"))}setColumnPivotState(e){const t=this.columnStates;this.columnStates=void 0;const i=this.columnGroupStates;this.columnGroupStates=void 0;const n=this.beans,{pivotResultCols:s,colGroupSvc:r}=n;if(s!=null&&s.isPivotResultColsPresent()){if(t){const o=[];for(const a of t)s.getPivotResultCol(a.colId)&&o.push(a);Ko(n,{state:o,applyOrder:e},"gridInitializing")}i&&(r==null||r.setColumnGroupState(i,"gridInitializing"))}}getColumnGroupState(){const e=this.beans.colGroupSvc;if(!e)return;const t=e.getColumnGroupState(),i=[];return t.forEach(({groupId:n,open:s})=>{s&&i.push(n)}),i.length?{openColumnGroupIds:i}:void 0}setColumnGroupState(e){var r;const t=this.beans.colGroupSvc;if(!Object.prototype.hasOwnProperty.call(e,"columnGroup")||!t)return;const i=new Set((r=e.columnGroup)==null?void 0:r.openColumnGroupIds),s=t.getColumnGroupState().map(({groupId:o})=>{const a=i.has(o);return a&&i.delete(o),{groupId:o,open:a}});i.forEach(o=>{s.push({groupId:o,open:!0})}),s.length&&(this.columnGroupStates=s),t.setColumnGroupState(s,"gridInitializing")}getFilterState(){const e=this.beans.filterManager;let t=e==null?void 0:e.getFilterModel();t&&Object.keys(t).length===0&&(t=void 0);const i=(e==null?void 0:e.getAdvFilterModel())??void 0;return t||i?{filterModel:t,advancedFilterModel:i}:void 0}setFilterState(e){const t=this.beans.filterManager,{filterModel:i,advancedFilterModel:n}=e??{};i&&(t==null||t.setFilterModel(i,"columnFilter")),n&&(t==null||t.setAdvFilterModel(n,"advancedFilter"))}getRangeSelectionState(){var t;const e=(t=this.beans.rangeSvc)==null?void 0:t.getCellRanges().map(i=>{const{id:n,type:s,startRow:r,endRow:o,columns:a,startColumn:l}=i;return{id:n,type:s,startRow:r,endRow:o,colIds:a.map(u=>u.getColId()),startColId:l.getColId()}});return e!=null&&e.length?{cellRanges:e}:void 0}setCellSelectionState(e){const{gos:t,rangeSvc:i,colModel:n,visibleCols:s}=this.beans;if(!nd(t)||!i)return;const r=[];e.cellRanges.forEach(o=>{const a=[];if(o.colIds.forEach(u=>{const d=n.getCol(u);d&&a.push(d)}),!a.length)return;let l=n.getCol(o.startColId);if(!l){const u=s.allCols,d=new Set(a);l=u.find(p=>d.has(p))}r.push({...o,columns:a,startColumn:l})}),i.setCellRanges(r)}getScrollState(){if(!this.isClientSideRowModel)return;const e=this.beans.ctrlsSvc.getScrollFeature(),{left:t}=(e==null?void 0:e.getHScrollPosition())??{left:0},{top:i}=(e==null?void 0:e.getVScrollPosition())??{top:0};return i||t?{top:i,left:t}:void 0}setScrollState(e){if(!this.isClientSideRowModel)return;const{top:t,left:i}=e,{frameworkOverrides:n,rowRenderer:s,animationFrameSvc:r,ctrlsSvc:o}=this.beans;n.wrapIncoming(()=>{var a;o.get("center").setCenterViewportScrollLeft(i),(a=o.getScrollFeature())==null||a.setVerticalScrollPosition(t),s.redraw({afterScroll:!0}),r==null||r.flushAllFrames()})}getSideBarState(){var e,t;return(t=(e=this.beans.sideBar)==null?void 0:e.comp)==null?void 0:t.getState()}getFocusedCellState(){if(!this.isClientSideRowModel)return;const e=this.beans.focusSvc.getFocusedCell();if(e){const{column:t,rowIndex:i,rowPinned:n}=e;return{colId:t.getColId(),rowIndex:i,rowPinned:n}}}setFocusedCellState(e){if(!this.isClientSideRowModel)return;const{colId:t,rowIndex:i,rowPinned:n}=e,{focusSvc:s,colModel:r}=this.beans;s.setFocusedCell({column:r.getCol(t),rowIndex:i,rowPinned:n,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0})}getPaginationState(){const{pagination:e,gos:t}=this.beans;if(!e)return;const i=e.getCurrentPage(),n=t.get("paginationAutoPageSize")?void 0:e.getPageSize();if(!(!i&&!n))return{page:i,pageSize:n}}setPaginationState(e){const{pagination:t,gos:i}=this.beans;t&&(e.pageSize&&!i.get("paginationAutoPageSize")&&t.setPageSize(e.pageSize,"initialState"),typeof e.page=="number"&&t.setPage(e.page))}getRowSelectionState(){var n;const e=this.beans.selectionSvc;if(!e)return;const t=e.getSelectionState();return!t||!Array.isArray(t)&&(t.selectAll===!1||t.selectAllChildren===!1)&&!((n=t==null?void 0:t.toggledNodes)!=null&&n.length)?void 0:t}setRowSelectionState(e){var t;(t=this.beans.selectionSvc)==null||t.setSelectionState(e,"gridInitializing")}getRowGroupExpansionState(){const{expansionSvc:e,rowModel:t}=this.beans;if(!e)return;const i=[];return t.forEachNode(({expanded:n,id:s})=>{n&&s&&i.push(s)}),i.length?{expandedRowGroupIds:i}:void 0}setRowGroupExpansionState(e){var t;(t=this.beans.expansionSvc)==null||t.expandRows(e.expandedRowGroupIds)}updateColumnState(e){const t=this.getColumnState();let i=!1;const n=this.cachedState;for(const s of Object.keys(t)){const r=t[s];Fv(r,n[s])||(i=!0)}this.cachedState={...n,...t},i&&this.dispatchStateUpdateEvent(e)}updateCachedState(e,t){const i=this.cachedState[e];this.setCachedStateValue(e,t),Fv(t,i)||this.dispatchStateUpdateEvent([e])}setCachedStateValue(e,t){this.cachedState={...this.cachedState,[e]:t}}refreshStaleState(){const e=this.staleStateKeys;e.forEach(t=>{switch(t){case"rowSelection":this.setCachedStateValue(t,this.getRowSelectionState());break}}),e.clear()}dispatchStateUpdateEvent(e){this.suppressEvents||(e.forEach(t=>this.queuedUpdateSources.add(t)),this.dispatchStateUpdateEventDebounced())}dispatchQueuedStateUpdateEvents(){const e=this.queuedUpdateSources,t=Array.from(e);e.clear(),this.eventSvc.dispatchEvent({type:"stateUpdated",sources:t,state:this.cachedState})}suppressEventsAndDispatchInitEvent(e){this.suppressEvents=!0;const t=this.beans.colAnimation;t==null||t.setSuppressAnimation(!0),e(),setTimeout(()=>{this.suppressEvents=!1,this.queuedUpdateSources.clear(),this.isAlive()&&(t==null||t.setSuppressAnimation(!1),this.dispatchStateUpdateEvent(["gridInitializing"]))})}},mye={moduleName:"GridState",version:Ge,beans:[gye],apiFunctions:{getState:dye}};function yye(e){return e.rowModel.isLastRowIndexKnown()}function vye(e){var t;return((t=e.pagination)==null?void 0:t.getPageSize())??100}function Cye(e){var t;return((t=e.pagination)==null?void 0:t.getCurrentPage())??0}function bye(e){var t;return((t=e.pagination)==null?void 0:t.getTotalPages())??1}function wye(e){return e.pagination?e.pagination.getMasterRowCount():e.rowModel.getRowCount()}function Sye(e){var t;(t=e.pagination)==null||t.goToNextPage()}function xye(e){var t;(t=e.pagination)==null||t.goToPreviousPage()}function Mye(e){var t;(t=e.pagination)==null||t.goToFirstPage()}function Dye(e){var t;(t=e.pagination)==null||t.goToLastPage()}function Rye(e,t){var i;(i=e.pagination)==null||i.goToPage(t)}var Eye=class extends ye{constructor(){super(...arguments),this.beanName="paginationAutoPageSizeSvc"}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>{this.centerRowsCtrl=e.center;const t=this.checkPageSize.bind(this);this.addManagedEventListeners({bodyHeightChanged:t,scrollVisibilityChanged:t}),this.addManagedPropertyListener("paginationAutoPageSize",this.onPaginationAutoSizeChanged.bind(this)),this.checkPageSize()})}notActive(){return!this.gos.get("paginationAutoPageSize")||this.centerRowsCtrl==null}onPaginationAutoSizeChanged(){this.notActive()?this.beans.pagination.unsetAutoCalculatedPageSize():this.checkPageSize()}checkPageSize(){if(this.notActive())return;const e=this.centerRowsCtrl.viewportSizeFeature.getBodyHeight();if(e>0){const t=this.beans,i=()=>{const n=Math.max(Bh(t),1),s=Math.floor(e/n);t.pagination.setPageSize(s,"autoCalculated")};this.isBodyRendered?Os(this,i,50)():(i(),this.isBodyRendered=!0)}else this.isBodyRendered=!1}},My="paginationPageSizeSelector",Tye=class extends Xi{constructor(){super('<span class="ag-paging-page-size"></span>'),this.hasEmptyOption=!1,this.handlePageSizeItemSelected=()=>{if(!this.selectPageSizeComp)return;const e=this.selectPageSizeComp.getValue();if(!e)return;const t=Number(e);isNaN(t)||t<1||t===this.pagination.getPageSize()||(this.pagination.setPageSize(t,"pageSizeSelector"),this.hasEmptyOption&&this.toggleSelectDisplay(!0),this.selectPageSizeComp.getFocusableElement().focus())}}wireBeans(e){this.pagination=e.pagination}postConstruct(){this.addManagedPropertyListener(My,()=>{this.onPageSizeSelectorValuesChange()}),this.addManagedEventListeners({paginationChanged:e=>this.handlePaginationChanged(e)})}handlePaginationChanged(e){if(!this.selectPageSizeComp||!(e!=null&&e.newPageSize))return;const t=this.pagination.getPageSize();this.getPageSizeSelectorValues().includes(t)?this.selectPageSizeComp.setValue(t.toString()):this.hasEmptyOption?this.selectPageSizeComp.setValue(""):this.toggleSelectDisplay(!0)}toggleSelectDisplay(e){this.selectPageSizeComp&&!e&&this.reset(),e&&(this.reloadPageSizesSelector(),this.selectPageSizeComp)}reset(){no(this.getGui()),this.selectPageSizeComp&&(this.selectPageSizeComp=this.destroyBean(this.selectPageSizeComp))}onPageSizeSelectorValuesChange(){this.selectPageSizeComp&&this.shouldShowPageSizeSelector()&&this.reloadPageSizesSelector()}shouldShowPageSizeSelector(){return this.gos.get("pagination")&&!this.gos.get("suppressPaginationPanel")&&!this.gos.get("paginationAutoPageSize")&&this.gos.get(My)!==!1}reloadPageSizesSelector(){const e=this.getPageSizeSelectorValues(),t=this.pagination.getPageSize(),i=!t||!e.includes(t);if(i){const s=this.gos.exists("paginationPageSize"),r=this.gos.get(My)!==!0;Ae(94,{pageSizeSet:s,pageSizesSet:r,pageSizeOptions:e,paginationPageSizeOption:t}),r||Ae(95,{paginationPageSizeOption:t,paginationPageSizeSelector:My}),e.unshift("")}const n=String(i?"":t);this.selectPageSizeComp?(vp(this.pageSizeOptions,e)||(this.selectPageSizeComp.clearOptions().addOptions(this.createPageSizeSelectOptions(e)),this.pageSizeOptions=e),this.selectPageSizeComp.setValue(n,!0)):this.createPageSizeSelectorComp(e,n),this.hasEmptyOption=i}createPageSizeSelectOptions(e){return e.map(t=>({value:String(t)}))}createPageSizeSelectorComp(e,t){const i=this.getLocaleTextFunc(),n=i("pageSizeSelectorLabel","Page Size:"),s=i("ariaPageSizeSelectorLabel","Page Size");this.selectPageSizeComp=this.createManagedBean(new FL).addOptions(this.createPageSizeSelectOptions(e)).setValue(t).setAriaLabel(s).setLabel(n).onValueChange(()=>this.handlePageSizeItemSelected()),this.appendChild(this.selectPageSizeComp)}getPageSizeSelectorValues(){const e=[20,50,100],t=this.gos.get(My);return!Array.isArray(t)||!(t!=null&&t.length)?e:[...t].sort((i,n)=>i-n)}destroy(){this.toggleSelectDisplay(!1),super.destroy()}},Aye={selector:"AG-PAGE-SIZE-SELECTOR",component:Tye},Iye=".ag-paging-panel{align-items:center;border-top:var(--ag-footer-row-border);display:flex;gap:calc(var(--ag-spacing)*4);height:max(var(--ag-row-height),22px);justify-content:flex-end;padding:0 var(--ag-cell-horizontal-padding)}:where(.ag-paging-page-size) .ag-wrapper{min-width:50px}.ag-paging-page-summary-panel{align-items:center;display:flex;gap:var(--ag-cell-widget-spacing);.ag-disabled &{pointer-events:none}}.ag-paging-button{cursor:pointer;position:relative;&.ag-disabled{cursor:default;opacity:.5}}.ag-paging-number,.ag-paging-row-summary-panel-number{font-weight:500}",Lye=class extends nce{constructor(){super(),this.btFirst=nt,this.btPrevious=nt,this.btNext=nt,this.btLast=nt,this.lbRecordCount=nt,this.lbFirstRowOnPage=nt,this.lbLastRowOnPage=nt,this.lbCurrent=nt,this.lbTotal=nt,this.pageSizeComp=nt,this.previousAndFirstButtonsDisabled=!1,this.nextButtonDisabled=!1,this.lastButtonDisabled=!1,this.areListenersSetup=!1,this.allowFocusInnerElement=!1,this.registerCSS(Iye)}wireBeans(e){this.rowModel=e.rowModel,this.pagination=e.pagination,this.ariaAnnounce=e.ariaAnnounce}postConstruct(){const e=this.gos.get("enableRtl");this.setTemplate(this.getTemplate(),[Aye]);const{btFirst:t,btPrevious:i,btNext:n,btLast:s}=this;this.activateTabIndex([t,i,n,s]),t.insertAdjacentElement("afterbegin",_o(e?"last":"first",this.beans)),i.insertAdjacentElement("afterbegin",_o(e?"next":"previous",this.beans)),n.insertAdjacentElement("afterbegin",_o(e?"previous":"next",this.beans)),s.insertAdjacentElement("afterbegin",_o(e?"first":"last",this.beans)),this.addManagedPropertyListener("pagination",this.onPaginationChanged.bind(this)),this.addManagedPropertyListener("suppressPaginationPanel",this.onPaginationChanged.bind(this)),this.addManagedPropertyListeners(["paginationPageSizeSelector","paginationAutoPageSize","suppressPaginationPanel"],()=>this.onPageSizeRelatedOptionsChange()),this.pageSizeComp.toggleSelectDisplay(this.pageSizeComp.shouldShowPageSizeSelector()),this.initialiseTabGuard({onTabKeyDown:()=>{},focusInnerElement:r=>this.allowFocusInnerElement?this.tabGuardFeature.getTabGuardCtrl().focusInnerElement(r):lae(this.beans,r),forceFocusOutWhenTabGuardsAreEmpty:!0}),this.onPaginationChanged()}setAllowFocus(e){this.allowFocusInnerElement=e}onPaginationChanged(){const t=this.gos.get("pagination")&&!this.gos.get("suppressPaginationPanel");this.setDisplayed(t),t&&(this.setupListeners(),this.enableOrDisableButtons(),this.updateLabels(),this.onPageSizeRelatedOptionsChange())}onPageSizeRelatedOptionsChange(){this.pageSizeComp.toggleSelectDisplay(this.pageSizeComp.shouldShowPageSizeSelector())}setupListeners(){this.areListenersSetup||(this.addManagedEventListeners({paginationChanged:this.onPaginationChanged.bind(this)}),[{el:this.btFirst,fn:this.onBtFirst.bind(this)},{el:this.btPrevious,fn:this.onBtPrevious.bind(this)},{el:this.btNext,fn:this.onBtNext.bind(this)},{el:this.btLast,fn:this.onBtLast.bind(this)}].forEach(e=>{const{el:t,fn:i}=e;this.addManagedListeners(t,{click:i,keydown:n=>{(n.key===ge.ENTER||n.key===ge.SPACE)&&(n.preventDefault(),i())}})}),aae(this.beans,this,this.getGui()),this.areListenersSetup=!0)}onBtFirst(){this.previousAndFirstButtonsDisabled||this.pagination.goToFirstPage()}formatNumber(e){const t=this.gos.getCallback("paginationNumberFormatter");return t?t({value:e}):_pe(e,this.getLocaleTextFunc.bind(this))}getTemplate(){const e=this.getLocaleTextFunc(),t=e("page","Page"),i=e("to","to"),n=e("of","of"),s=e("firstPage","First Page"),r=e("previousPage","Previous Page"),o=e("nextPage","Next Page"),a=e("lastPage","Last Page"),l=this.getCompId();return`<div class="ag-paging-panel ag-unselectable" id="ag-${l}">
                <ag-page-size-selector data-ref="pageSizeComp"></ag-page-size-selector>
                <span class="ag-paging-row-summary-panel">
                    <span id="ag-${l}-first-row" data-ref="lbFirstRowOnPage" class="ag-paging-row-summary-panel-number"></span>
                    <span id="ag-${l}-to">${i}</span>
                    <span id="ag-${l}-last-row" data-ref="lbLastRowOnPage" class="ag-paging-row-summary-panel-number"></span>
                    <span id="ag-${l}-of">${n}</span>
                    <span id="ag-${l}-row-count" data-ref="lbRecordCount" class="ag-paging-row-summary-panel-number"></span>
                </span>
                <span class="ag-paging-page-summary-panel" role="presentation">
                    <div data-ref="btFirst" class="ag-button ag-paging-button" role="button" aria-label="${s}"></div>
                    <div data-ref="btPrevious" class="ag-button ag-paging-button" role="button" aria-label="${r}"></div>
                    <span class="ag-paging-description">
                        <span id="ag-${l}-start-page">${t}</span>
                        <span id="ag-${l}-start-page-number" data-ref="lbCurrent" class="ag-paging-number"></span>
                        <span id="ag-${l}-of-page">${n}</span>
                        <span id="ag-${l}-of-page-number" data-ref="lbTotal" class="ag-paging-number"></span>
                    </span>
                    <div data-ref="btNext" class="ag-button ag-paging-button" role="button" aria-label="${o}"></div>
                    <div data-ref="btLast" class="ag-button ag-paging-button" role="button" aria-label="${a}"></div>
                </span>
            </div>`}onBtNext(){this.nextButtonDisabled||this.pagination.goToNextPage()}onBtPrevious(){this.previousAndFirstButtonsDisabled||this.pagination.goToPreviousPage()}onBtLast(){this.lastButtonDisabled||this.pagination.goToLastPage()}enableOrDisableButtons(){const e=this.pagination.getCurrentPage(),t=this.rowModel.isLastRowIndexKnown(),i=this.pagination.getTotalPages();this.previousAndFirstButtonsDisabled=e===0,this.toggleButtonDisabled(this.btFirst,this.previousAndFirstButtonsDisabled),this.toggleButtonDisabled(this.btPrevious,this.previousAndFirstButtonsDisabled);const n=this.isZeroPagesToDisplay(),s=e===i-1;this.nextButtonDisabled=s||n,this.lastButtonDisabled=!t||n||e===i-1,this.toggleButtonDisabled(this.btNext,this.nextButtonDisabled),this.toggleButtonDisabled(this.btLast,this.lastButtonDisabled)}toggleButtonDisabled(e,t){Fse(e,t),e.classList.toggle("ag-disabled",t)}isZeroPagesToDisplay(){const e=this.rowModel.isLastRowIndexKnown(),t=this.pagination.getTotalPages();return e&&t===0}updateLabels(){const e=this.rowModel.isLastRowIndexKnown(),t=this.pagination.getTotalPages(),i=this.pagination.getMasterRowCount(),n=e?i:null;if(n===1){const S=this.rowModel.getRow(0);if(S&&S.group&&!(S.groupData||S.aggData)){this.setTotalLabelsToZero();return}}const s=this.pagination.getCurrentPage(),r=this.pagination.getPageSize();let o,a;this.isZeroPagesToDisplay()?o=a=0:(o=r*s+1,a=o+r-1,e&&a>n&&(a=n));const l=o+r-1,u=!e&&i<l,d=this.formatNumber(o);this.lbFirstRowOnPage.textContent=d;let p;const f=this.getLocaleTextFunc();u?p=f("pageLastRowUnknown","?"):p=this.formatNumber(a),this.lbLastRowOnPage.textContent=p;const y=t>0?s+1:0,C=this.formatNumber(y);this.lbCurrent.textContent=C;let w,b;if(e)w=this.formatNumber(t),b=this.formatNumber(n);else{const S=f("more","more");w=S,b=S}this.lbTotal.textContent=w,this.lbRecordCount.textContent=b,this.announceAriaStatus(d,p,b,C,w)}announceAriaStatus(e,t,i,n,s){var p,f;const r=this.getLocaleTextFunc(),o=r("page","Page"),a=r("to","to"),l=r("of","of"),u=`${e} ${a} ${t} ${l} ${i}`,d=`${o} ${n} ${l} ${s}`;u!==this.ariaRowStatus&&(this.ariaRowStatus=u,(p=this.ariaAnnounce)==null||p.announceValue(u,"paginationRow")),d!==this.ariaPageStatus&&(this.ariaPageStatus=d,(f=this.ariaAnnounce)==null||f.announceValue(d,"paginationPage"))}setTotalLabelsToZero(){const e=this.formatNumber(0);this.lbFirstRowOnPage.textContent=e,this.lbCurrent.textContent=e,this.lbLastRowOnPage.textContent=e,this.lbTotal.textContent=e,this.lbRecordCount.textContent=e,this.announceAriaStatus(e,e,e,e,e)}},kye={selector:"AG-PAGINATION",component:Lye},Pye=class extends ye{constructor(){super(...arguments),this.beanName="pagination",this.currentPage=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=0,this.masterRowCount=0}postConstruct(){const e=this.gos;this.active=e.get("pagination"),this.pageSizeFromGridOptions=e.get("paginationPageSize"),this.paginateChildRows=this.isPaginateChildRows(),this.addManagedPropertyListener("pagination",this.onPaginationGridOptionChanged.bind(this)),this.addManagedPropertyListener("paginationPageSize",this.onPageSizeGridOptionChanged.bind(this))}getPaginationSelector(){return kye}isPaginateChildRows(){const e=this.gos;return e.get("groupHideParentOfSingleChild")||e.get("groupRemoveSingleChildren")||e.get("groupRemoveLowestSingleChildren")?!0:e.get("paginateChildRows")}onPaginationGridOptionChanged(){this.active=this.gos.get("pagination"),this.calculatePages(),this.dispatchPaginationChangedEvent({keepRenderedRows:!0})}onPageSizeGridOptionChanged(){this.setPageSize(this.gos.get("paginationPageSize"),"gridOptions")}goToPage(e){const t=this.currentPage;!this.active||t===e||typeof t!="number"||(this.currentPage=e,this.calculatePages(),this.dispatchPaginationChangedEvent({newPage:!0}))}isRowPresent(e){return e.rowIndex>=this.topDisplayedRowIndex&&e.rowIndex<=this.bottomDisplayedRowIndex}getPageForIndex(e){return Math.floor(e/this.pageSize)}goToPageWithIndex(e){if(!this.active)return;const t=this.getPageForIndex(e);this.goToPage(t)}isRowInPage(e){return this.active?this.getPageForIndex(e.rowIndex)===this.currentPage:!0}getCurrentPage(){return this.currentPage}goToNextPage(){this.goToPage(this.currentPage+1)}goToPreviousPage(){this.goToPage(this.currentPage-1)}goToFirstPage(){this.goToPage(0)}goToLastPage(){const e=this.beans.rowModel.getRowCount(),t=Math.floor(e/this.pageSize);this.goToPage(t)}getPageSize(){return this.pageSize}getTotalPages(){return this.totalPages}setPage(e){this.currentPage=e}get pageSize(){return Ne(this.pageSizeAutoCalculated)&&this.gos.get("paginationAutoPageSize")?this.pageSizeAutoCalculated:Ne(this.pageSizeFromPageSizeSelector)?this.pageSizeFromPageSizeSelector:Ne(this.pageSizeFromInitialState)?this.pageSizeFromInitialState:Ne(this.pageSizeFromGridOptions)?this.pageSizeFromGridOptions:this.defaultPageSize}calculatePages(){this.active?this.paginateChildRows?this.calculatePagesAllRows():this.calculatePagesMasterRowsOnly():this.calculatedPagesNotActive(),this.beans.pageBounds.calculateBounds(this.topDisplayedRowIndex,this.bottomDisplayedRowIndex)}unsetAutoCalculatedPageSize(){if(this.pageSizeAutoCalculated===void 0)return;const e=this.pageSizeAutoCalculated;this.pageSizeAutoCalculated=void 0,this.pageSize!==e&&(this.calculatePages(),this.dispatchPaginationChangedEvent({newPageSize:!0}))}setPageSize(e,t){const i=this.pageSize;switch(t){case"autoCalculated":this.pageSizeAutoCalculated=e;break;case"pageSizeSelector":this.pageSizeFromPageSizeSelector=e,this.currentPage!==0&&this.goToFirstPage();break;case"initialState":this.pageSizeFromInitialState=e;break;case"gridOptions":this.pageSizeFromGridOptions=e,this.pageSizeFromInitialState=void 0,this.pageSizeFromPageSizeSelector=void 0,this.currentPage!==0&&this.goToFirstPage();break}i!==this.pageSize&&(this.calculatePages(),this.dispatchPaginationChangedEvent({newPageSize:!0,keepRenderedRows:!0}))}setZeroRows(){this.masterRowCount=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=-1,this.currentPage=0,this.totalPages=0}adjustCurrentPageIfInvalid(){const e=this.totalPages;this.currentPage>=e&&(this.currentPage=e-1);const t=this.currentPage;(!isFinite(t)||isNaN(t)||t<0)&&(this.currentPage=0)}calculatePagesMasterRowsOnly(){const e=this.beans.rowModel,t=e.getTopLevelRowCount();if(this.masterRowCount=t,t<=0){this.setZeroRows();return}const i=this.pageSize,n=t-1;this.totalPages=Math.floor(n/i)+1,this.adjustCurrentPageIfInvalid();const s=this.currentPage,r=i*s;let o=i*(s+1)-1;if(o>n&&(o=n),this.topDisplayedRowIndex=e.getTopLevelRowDisplayedIndex(r),o===n)this.bottomDisplayedRowIndex=e.getRowCount()-1;else{const a=e.getTopLevelRowDisplayedIndex(o+1);this.bottomDisplayedRowIndex=a-1}}getMasterRowCount(){return this.masterRowCount}calculatePagesAllRows(){const e=this.beans.rowModel.getRowCount();if(this.masterRowCount=e,e===0){this.setZeroRows();return}const{pageSize:t,currentPage:i}=this,n=e-1;this.totalPages=Math.floor(n/t)+1,this.adjustCurrentPageIfInvalid(),this.topDisplayedRowIndex=t*i,this.bottomDisplayedRowIndex=t*(i+1)-1,this.bottomDisplayedRowIndex>n&&(this.bottomDisplayedRowIndex=n)}calculatedPagesNotActive(){this.setPageSize(void 0,"autoCalculated"),this.totalPages=1,this.currentPage=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=this.beans.rowModel.getRowCount()-1}dispatchPaginationChangedEvent(e){const{keepRenderedRows:t=!1,newPage:i=!1,newPageSize:n=!1}=e;this.eventSvc.dispatchEvent({type:"paginationChanged",animate:!1,newData:!1,newPage:i,newPageSize:n,keepRenderedRows:t})}},Fye={moduleName:"Pagination",version:Ge,beans:[Pye,Eye],icons:{first:"first",previous:"previous",next:"next",last:"last"},apiFunctions:{paginationIsLastPageFound:yye,paginationGetPageSize:vye,paginationGetCurrentPage:Cye,paginationGetTotalPages:bye,paginationGetRowCount:wye,paginationGoToNextPage:Sye,paginationGoToPreviousPage:xye,paginationGoToFirstPage:Mye,paginationGoToLastPage:Dye,paginationGoToPage:Rye},dependsOn:[eM]};function Oye(e,t={}){const i=t?t.rowNodes:void 0;e.frameworkOverrides.wrapIncoming(()=>e.rowRenderer.redrawRows(i))}function u5(e,t,i,n,s){t&&(n&&t.parent&&t.parent.level!==-1&&u5(e,t.parent,i,n,s),t.setExpanded(i,void 0,s))}function Nye(e,t){return e.rowModel.getRowNode(t)}function Bye(e,t,i,n){e.rowRenderer.addRenderedRowListener(t,i,n)}function zye(e){return e.rowRenderer.getRenderedNodes()}function Gye(e,t,i){e.rowModel.forEachNode(t,i)}function Hye(e){return e.rowRenderer.firstRenderedRow}function _ye(e){return e.rowRenderer.lastRenderedRow}function jye(e,t){return e.rowModel.getRow(t)}function Vye(e){return e.rowModel.getRowCount()}var Wye={moduleName:"RowApi",version:Ge,apiFunctions:{redrawRows:Oye,setRowNodeExpanded:u5,getRowNode:Nye,addRenderedRowListener:Bye,getRenderedNodes:zye,forEachNode:Gye,getFirstDisplayedRowIndex:Hye,getLastDisplayedRowIndex:_ye,getDisplayedRowAtIndex:jye,getDisplayedRowCount:Vye}},Uye={moduleName:"ScrollApi",version:Ge,apiFunctions:{getVerticalPixelRange:Ege,getHorizontalPixelRange:Tge,ensureColumnVisible:s5,ensureIndexVisible:r5,ensureNodeVisible:Age}};function $ye(e,t,i){if(!t)return;const n=e.ctrlsSvc.getGridBodyCtrl().eGridBody,s=`aria-${t}`;i===null?n.removeAttribute(s):n.setAttribute(s,i)}function Yye(e,t={}){e.frameworkOverrides.wrapIncoming(()=>e.rowRenderer.refreshCells(t))}function Kye(e){e.frameworkOverrides.wrapIncoming(()=>e.ctrlsSvc.getHeaderRowContainerCtrls().forEach(t=>t.refresh()))}function qye(e){var t;return((t=e.animationFrameSvc)==null?void 0:t.isQueueEmpty())??!0}function Zye(e){var t;(t=e.animationFrameSvc)==null||t.flushAllFrames()}function Xye(e){return{rowHeight:Bh(e),headerHeight:BC(e)}}function Qye(e,t={}){var r;const i=[];if(e.rowRenderer.getCellCtrls(t.rowNodes,t.columns).forEach(o=>{const a=o.getCellRenderer();a!=null&&i.push(zv(a))}),(r=t.columns)!=null&&r.length)return i;const n=[],s=sA(t.rowNodes);return e.rowRenderer.getAllRowCtrls().forEach(o=>{if(s&&!rA(o.rowNode,s)||!o.isFullWidth())return;const a=o.getFullWidthCellRenderers();for(let l=0;l<a.length;l++){const u=a[l];u!=null&&n.push(zv(u))}}),[...n,...i]}var Jye={moduleName:"RenderApi",version:Ge,apiFunctions:{setGridAriaProperty:$ye,refreshCells:Yye,refreshHeader:Kye,isAnimationFrameQueueEmpty:qye,flushAllAnimationFrames:Zye,getSizesForCurrentTheme:Xye,getCellRendererInstances:Qye}};function eve(e,t){var i,n;typeof t=="number"?(i=e.colAutosize)==null||i.sizeColumnsToFit(t,"api"):(n=e.colAutosize)==null||n.sizeColumnsToFitGridBody(t)}function tve(e,t,i){var n;(n=e.colAutosize)==null||n.autoSizeCols({colKeys:t,skipHeader:i,source:"api"})}function ive(e,t){var i;(i=e.colAutosize)==null||i.autoSizeAllColumns("api",t)}var nve=class extends ye{constructor(){super(...arguments),this.beanName="colAutosize",this.timesDelayed=0,this.shouldQueueResizeOperations=!1,this.resizeOperationQueue=[]}postConstruct(){this.addManagedEventListeners({firstDataRendered:()=>this.onFirstDataRendered()})}autoSizeCols(e){if(this.shouldQueueResizeOperations){this.pushResizeOperation(()=>this.autoSizeCols(e));return}const{colKeys:t,skipHeader:i,skipHeaderGroups:n,stopAtGroup:s,source:r="api"}=e,{animationFrameSvc:o,renderStatus:a,colModel:l,autoWidthCalc:u,visibleCols:d}=this.beans;if(o==null||o.flushAllFrames(),this.timesDelayed<5&&a&&!a.areHeaderCellsRendered()){this.timesDelayed++,setTimeout(()=>{this.isAlive()&&this.autoSizeCols(e)});return}this.timesDelayed=0;const p=[];let f=-1;const m=i??this.gos.get("skipHeaderOnAutoSize"),y=n??m;for(;f!==0;){f=0;const C=[];t.forEach(w=>{if(!w)return;const b=l.getCol(w);if(!b||PC(b)||p.indexOf(b)>=0)return;const S=u.getPreferredWidthForColumn(b,m);if(S>0){const M=sve(b,S);b.setActualWidth(M,r),p.push(b),f++}C.push(b)}),C.length&&d.refresh(r)}y||this.autoSizeColumnGroupsByColumns(t,r,s),xg(this.eventSvc,p,!0,"autosizeColumns")}autoSizeColumn(e,t,i){e&&this.autoSizeCols({colKeys:[e],skipHeader:i,skipHeaderGroups:!0,source:t})}autoSizeColumnGroupsByColumns(e,t,i){const{colModel:n,ctrlsSvc:s}=this.beans,r=new Set;n.getColsForKeys(e).forEach(u=>{let d=u.getParent();for(;d&&d!=i;)d.isPadding()||r.add(d),d=d.getParent()});let a;const l=[];for(const u of r){for(const d of s.getHeaderRowContainerCtrls())if(a=d.getHeaderCtrlForColumn(u),a)break;a&&a.resizeLeafColumnsToFit(t)}return l}autoSizeAllColumns(e,t){if(this.shouldQueueResizeOperations){this.pushResizeOperation(()=>this.autoSizeAllColumns(e,t));return}const i=this.beans.visibleCols.allCols;this.autoSizeCols({colKeys:i,skipHeader:t,source:e})}addColumnAutosize(e,t){const i=this.gos.get("skipHeaderOnAutoSize"),n=()=>{this.autoSizeColumn(t,"uiColumnResized",i)};e.addEventListener("dblclick",n);const s=new xf(e);return s.addEventListener("doubleTap",n),()=>{e.removeEventListener("dblclick",n),s.removeEventListener("doubleTap",n),s.destroy()}}addColumnGroupResize(e,t,i){const n=this.gos.get("skipHeaderOnAutoSize"),s=()=>{const r=[];t.getDisplayedLeafColumns().forEach(a=>{a.getColDef().suppressAutoSize||r.push(a.getColId())}),r.length>0&&this.autoSizeCols({colKeys:r,skipHeader:n,stopAtGroup:t,source:"uiColumnResized"}),i()};return e.addEventListener("dblclick",s),()=>e.removeEventListener("dblclick",s)}sizeColumnsToFitGridBody(e,t){if(!this.isAlive())return;const{ctrlsSvc:i,scrollVisibleSvc:n}=this.beans,s=i.getGridBodyCtrl(),o=s.isVerticalScrollShowing()?n.getScrollbarWidth():0,l=kv(s.eGridBody)-o;if(l>0){this.sizeColumnsToFit(l,"sizeColumnsToFit",!1,e);return}t===void 0?window.setTimeout(()=>{this.sizeColumnsToFitGridBody(e,100)},0):t===100?window.setTimeout(()=>{this.sizeColumnsToFitGridBody(e,500)},100):t===500?window.setTimeout(()=>{this.sizeColumnsToFitGridBody(e,-1)},500):Ae(29)}sizeColumnsToFit(e,t="sizeColumnsToFit",i,n){var m;if(this.shouldQueueResizeOperations){this.pushResizeOperation(()=>this.sizeColumnsToFit(e,t,i,n));return}const s={};n&&((m=n==null?void 0:n.columnLimits)==null||m.forEach(({key:y,...C})=>{s[typeof y=="string"?y:y.getColId()]=C}));const r=this.beans.visibleCols.allCols,o=e===pc(r);if(e<=0||!r.length||o)return;const a=[],l=[];r.forEach(y=>{y.getColDef().suppressSizeToFit===!0?l.push(y):a.push(y)});const u=a.slice(0);let d=!1;const p=y=>{ka(a,y),l.push(y)};for(a.forEach(y=>{y.resetActualWidth(t);const C=s==null?void 0:s[y.getId()],w=(C==null?void 0:C.minWidth)??(n==null?void 0:n.defaultMinWidth),b=(C==null?void 0:C.maxWidth)??(n==null?void 0:n.defaultMaxWidth),S=y.getActualWidth();typeof w=="number"&&S<w?y.setActualWidth(w,t,!0):typeof b=="number"&&S>b&&y.setActualWidth(b,t,!0)});!d;){d=!0;const y=e-pc(l);if(y<=0)a.forEach(C=>{var b;const w=((b=s==null?void 0:s[C.getId()])==null?void 0:b.minWidth)??(n==null?void 0:n.defaultMinWidth);if(typeof w=="number"){C.setActualWidth(w,t,!0);return}C.setActualWidth(C.minWidth,t)});else{const C=y/pc(a);let w=y;for(let b=a.length-1;b>=0;b--){const S=a[b],M=s==null?void 0:s[S.getId()],D=(M==null?void 0:M.minWidth)??(n==null?void 0:n.defaultMinWidth),R=(M==null?void 0:M.maxWidth)??(n==null?void 0:n.defaultMaxWidth),A=S.getMinWidth(),k=S.getMaxWidth(),F=typeof D=="number"&&D>A?D:A,P=typeof R=="number"&&R<k?R:k;let L=Math.round(S.getActualWidth()*C);L<F?(L=F,p(S),d=!1):L>P?(L=P,p(S),d=!1):b===0&&(L=w),S.setActualWidth(L,t,!0),w-=L}}}u.forEach(y=>{y.fireColumnWidthChangedEvent(t)});const f=this.beans.visibleCols;f.setLeftValues(t),f.updateBodyWidths(),!i&&xg(this.eventSvc,u,!0,t)}applyAutosizeStrategy(){const e=this.gos.get("autoSizeStrategy");if(!e)return;const{type:t}=e;setTimeout(()=>{if(t==="fitGridWidth"){const{columnLimits:i,defaultMinWidth:n,defaultMaxWidth:s}=e,r=i==null?void 0:i.map(({colId:o,minWidth:a,maxWidth:l})=>({key:o,minWidth:a,maxWidth:l}));this.sizeColumnsToFitGridBody({defaultMinWidth:n,defaultMaxWidth:s,columnLimits:r})}else t==="fitProvidedWidth"&&this.sizeColumnsToFit(e.width,"sizeColumnsToFit")})}onFirstDataRendered(){const e=this.gos.get("autoSizeStrategy");if((e==null?void 0:e.type)!=="fitCellContents")return;const{colIds:t,skipHeader:i}=e;setTimeout(()=>{t?this.autoSizeCols({colKeys:t,skipHeader:i,source:"autosizeColumns"}):this.autoSizeAllColumns("autosizeColumns",i)})}processResizeOperations(){this.shouldQueueResizeOperations=!1,this.resizeOperationQueue.forEach(e=>e()),this.resizeOperationQueue=[]}pushResizeOperation(e){this.resizeOperationQueue.push(e)}destroy(){this.resizeOperationQueue.length=0,super.destroy()}};function sve(e,t){const i=e.getMinWidth();t<i&&(t=i);const n=e.getMaxWidth();return e.isGreaterThanMax(t)&&(t=n),t}var rve={moduleName:"ColumnAutoSize",version:Ge,beans:[nve],apiFunctions:{sizeColumnsToFit:eve,autoSizeColumns:tve,autoSizeAllColumns:ive},dependsOn:[uV]};function ove(e){var t;return((t=e.pinnedRowModel)==null?void 0:t.getPinnedTopRowCount())??0}function ave(e){var t;return((t=e.pinnedRowModel)==null?void 0:t.getPinnedBottomRowCount())??0}function lve(e,t){var i;return(i=e.pinnedRowModel)==null?void 0:i.getPinnedTopRow(t)}function cve(e,t){var i;return(i=e.pinnedRowModel)==null?void 0:i.getPinnedBottomRow(t)}var uve=class extends ye{constructor(){super(...arguments),this.beanName="pinnedRowModel",this.nextId=0,this.pinnedTopRows={cache:{},order:[]},this.pinnedBottomRows={cache:{},order:[]}}postConstruct(){const e=this.gos;this.setPinnedRowData(e.get("pinnedTopRowData"),"top"),this.setPinnedRowData(e.get("pinnedBottomRowData"),"bottom"),this.addManagedPropertyListener("pinnedTopRowData",t=>this.setPinnedRowData(t.currentValue,"top")),this.addManagedPropertyListener("pinnedBottomRowData",t=>this.setPinnedRowData(t.currentValue,"bottom")),this.addManagedEventListeners({gridStylesChanged:this.onGridStylesChanges.bind(this)})}isEmpty(e){return this.getCache(e).order.length===0}isRowsToRender(e){return!this.isEmpty(e)}onGridStylesChanges(e){if(e.rowHeightChanged){const t=i=>{i.setRowHeight(i.rowHeight,!0)};Dy(this.pinnedBottomRows,t),Dy(this.pinnedTopRows,t)}}ensureRowHeightsValid(){let e=!1,t=0;const i=n=>{if(n.rowHeightEstimated){const s=bg(this.beans,n);n.setRowTop(t),n.setRowHeight(s.height),t+=s.height,e=!0}};return Dy(this.pinnedBottomRows,i),t=0,Dy(this.pinnedTopRows,i),this.eventSvc.dispatchEvent({type:"pinnedHeightChanged"}),e}setPinnedRowData(e,t){this.updateNodesFromRowData(e,t),this.eventSvc.dispatchEvent({type:"pinnedRowDataChanged"})}updateNodesFromRowData(e,t){const i=this.getCache(t);if(e===void 0){i.order.length=0,i.cache={};return}const n=wg(this.gos),s=t==="top"?Gj:Hj,r=new Set(i.order),o=[],a=new Set;let l=0,u=-1;for(const d of e){const p=(n==null?void 0:n({data:d,level:0,rowPinned:t}))??s+this.nextId++;if(a.has(p)){Ae(96,{id:p,data:d});continue}u++,a.add(p),o.push(p);const f=lv(i,p);if(f!==void 0)f.data!==d&&f.setData(d),l+=this.setRowTopAndRowIndex(f,l,u),r.delete(p);else{const m=new Dg(this.beans);m.id=p,m.data=d,m.rowPinned=t,l+=this.setRowTopAndRowIndex(m,l,u),i.cache[p]=m,i.order.push(p)}}r.forEach(d=>{var p;(p=lv(i,d))==null||p.clearRowTopAndRowIndex(),delete i.cache[d]}),i.order=o}setRowTopAndRowIndex(e,t,i){return e.setRowTop(t),e.setRowHeight(bg(this.beans,e).height),e.setRowIndex(i),e.rowHeight}getPinnedTopTotalHeight(){return mz(this.pinnedTopRows)}getPinnedBottomTotalHeight(){return mz(this.pinnedBottomRows)}getPinnedTopRowCount(){return lA(this.pinnedTopRows)}getPinnedBottomRowCount(){return lA(this.pinnedBottomRows)}getPinnedTopRow(e){return aA(this.pinnedTopRows,e)}getPinnedBottomRow(e){return aA(this.pinnedBottomRows,e)}getPinnedRowById(e,t){return lv(this.getCache(t),e)}forEachPinnedRow(e,t){return Dy(this.getCache(e),t)}getCache(e){return e==="top"?this.pinnedTopRows:this.pinnedBottomRows}};function mz(e){const t=lA(e);if(t===0)return 0;const i=aA(e,t-1);return i===void 0?0:i.rowTop+i.rowHeight}function lv(e,t){return e.cache[t]}function aA(e,t){return lv(e,e.order[t])}function Dy(e,t){e.order.forEach((i,n)=>{const s=lv(e,i);s&&t(s,n)})}function lA(e){return e.order.length}var dve={moduleName:"PinnedRow",version:Ge,beans:[uve],apiFunctions:{getPinnedTopRowCount:ove,getPinnedBottomRowCount:ave,getPinnedTopRow:lve,getPinnedBottomRow:cve}},hve=class extends nv{constructor(e,t,i){super(e.col,e.firstNode,i,t),this.cellSpan=e,this.SPANNED_CELL_CSS_CLASS="ag-spanned-cell"}setComp(e,t,i,n,s,r,o){this.eWrapper=i,super.setComp(e,t,i,n,s,r,o),this.setAriaRowSpan(),this.refreshAriaRowIndex()}isCellSpanning(){return!0}getCellSpan(){return this.cellSpan}refreshAriaRowIndex(){this.rowNode.rowIndex!=null&&N_(this.eGui,this.rowNode.rowIndex)}setAriaRowSpan(){zse(this.eGui,this.cellSpan.spannedNodes.size)}shouldRestoreFocus(){return this.beans.focusSvc.shouldRestoreFocus(this.cellSpan)}onFocusOut(){this.focusedCellPosition=void 0,super.onFocusOut()}setFocusedCellPosition(e){this.focusedCellPosition=e}getFocusedCellPosition(){return this.focusedCellPosition??this.cellPosition}isCellFocused(){const e=this.beans.focusSvc.getFocusedCell();return!!e&&this.cellSpan.doesSpanContain(e)}applyStaticCssClasses(){super.applyStaticCssClasses(),this.comp.addOrRemoveCssClass(this.SPANNED_CELL_CSS_CLASS,!0)}onCellFocused(e){const{beans:t}=this;if(Zx(t)){this.focusedCellPosition=void 0;return}const i=this.isCellFocused();i||(this.focusedCellPosition=void 0),e&&i&&(this.focusedCellPosition={rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:e.column}),super.onCellFocused(e)}getRootElement(){return this.eWrapper}},pve=class extends LS{onRowIndexChanged(){super.onRowIndexChanged(),this.getAllCellCtrls().forEach(e=>e.refreshAriaRowIndex())}getInitialRowClasses(e){return["ag-spanned-row"]}getNewCellCtrl(e){var n;const t=(n=this.beans.rowSpanSvc)==null?void 0:n.getCellSpan(e,this.rowNode);if(!(!t||t.firstNode!==this.rowNode))return new hve(t,this,this.beans)}shouldRecreateCellCtrl(e){var n;const t=(n=this.beans.rowSpanSvc)==null?void 0:n.getCellSpan(e.column,this.rowNode);return!t||t.firstNode!==this.rowNode?!0:e.getCellSpan()!==t}onRowHeightChanged(){}refreshFirstAndLastRowStyles(){}addHoverFunctionality(){}resetHoveredStatus(){}},fve=class extends ye{constructor(){super(...arguments),this.beanName="spannedRowRenderer",this.topCtrls=new Map,this.bottomCtrls=new Map,this.centerCtrls=new Map}postConstruct(){this.addManagedEventListeners({displayedRowsChanged:this.createAllCtrls.bind(this)})}createAllCtrls(){this.createCtrls("top"),this.createCtrls("bottom"),this.createCtrls("center")}createCtrls(e){const{rowSpanSvc:t}=this.beans,i=`${e}Ctrls`,n=this[i],s=n.size,r=this.getAllRelevantRowControls(e),o=new Map;let a=!1;for(const u of r)u.isAlive()&&(t==null||t.forEachSpannedColumn(u.rowNode,(d,p)=>{if(o.has(p.firstNode))return;const f=n.get(p.firstNode);if(f){o.set(p.firstNode,f),n.delete(p.firstNode);return}a=!0;const m=new pve(p.firstNode,this.beans,!1,!1,!1);o.set(p.firstNode,m)}));this[i]=o;const l=o.size===s;if(!(!a&&l)){for(const u of n.values())u.destroyFirstPass(!0),u.destroySecondPass();this.dispatchLocalEvent({type:"spannedRowsUpdated",ctrlsKey:e})}}getAllRelevantRowControls(e){const{rowRenderer:t}=this.beans;switch(e){case"top":return t.topRowCtrls;case"bottom":return t.bottomRowCtrls;case"center":return t.allRowCtrls}}getCellByPosition(e){const{rowSpanSvc:t}=this.beans,i=t==null?void 0:t.getCellSpanByPosition(e);if(!i)return;const n=`${d5(e.rowPinned)}Ctrls`,s=this[n].get(i.firstNode);if(s)return s.getAllCellCtrls().find(r=>r.column===e.column)}getCtrls(e){const t=`${e}Ctrls`;return[...this[t].values()]}destroyRowCtrls(e){const t=`${e}Ctrls`;for(const i of this[t].values())i.destroyFirstPass(!0),i.destroySecondPass();this[t]=new Map}destroy(){super.destroy(),this.destroyRowCtrls("top"),this.destroyRowCtrls("bottom"),this.destroyRowCtrls("center")}},d5=e=>e??"center",gve=class{constructor(e,t){this.col=e,this.firstNode=t,this.cellSpan=!0,this.spannedNodes=new Set,this.addSpannedNode(t)}addSpannedNode(e){this.spannedNodes.add(e),this.lastNode=e}getLastNode(){return this.lastNode}getCellHeight(){return this.lastNode.rowTop+this.lastNode.rowHeight-this.firstNode.rowTop-1}doesSpanContain(e){return e.column!==this.col||e.rowPinned!=this.firstNode.rowPinned?!1:this.firstNode.rowIndex<=e.rowIndex&&e.rowIndex<=this.lastNode.rowIndex}getLastNodeAutoHeight(){var i;const e=(i=this.firstNode.__autoHeights)==null?void 0:i[this.col.getColId()];if(e==null)return;let t=0;return this.spannedNodes.forEach(n=>{n!==this.lastNode&&(t+=n.rowHeight)}),e-t}},mve=class extends ye{constructor(e){super(),this.column=e}buildCache(e){var b;const{column:t,beans:{gos:i,pinnedRowModel:n,rowModel:s,valueSvc:r}}=this,{colDef:o}=t,a=new Map,l=i.getCallback("isFullWidthRow"),u=o.equals,d=o.spanRows,p=typeof d=="function";let f=null,m=null,y;const C=(S,M)=>{f=S,m=null,y=M},w=S=>{const M=!S.isExpandable()&&!S.group&&!S.detail&&(l?!l({rowNode:S}):!0);if(S.rowIndex==null||!M){C(null,null);return}if(f==null||S.level!==f.level||S.footer||m&&S.rowIndex-1!==(m==null?void 0:m.getLastNode().rowIndex)){C(S,r.getValue(t,S));return}const D=r.getValue(t,S);if(p){const R=ut(i,{valueA:y,nodeA:f,valueB:D,nodeB:S,column:t,colDef:o});if(!d(R)){C(S,D);return}}else if(u?!u(y,D):y!==D){C(S,D);return}m||(m=new gve(t,f),a.set(f,m)),m.addSpannedNode(S),a.set(S,m)};switch(e){case"center":(b=s.forEachDisplayedNode)==null||b.call(s,w);break;case"top":n==null||n.forEachPinnedRow("top",w);break;case"bottom":n==null||n.forEachPinnedRow("bottom",w);break}this[`${e}ValueNodeMap`]=a}isCellSpanning(e){return!!this.getCellSpan(e)}getCellSpan(e){return this[`${d5(e.rowPinned)}ValueNodeMap`].get(e)}},yve=class extends ye{constructor(){super(...arguments),this.beanName="rowSpanSvc",this.spanningColumns=new Map,this.debouncePinnedEvent=Os(this,this.dispatchCellsUpdatedEvent.bind(this,!0),0),this.debounceModelEvent=Os(this,this.dispatchCellsUpdatedEvent.bind(this,!1),0),this.pinnedTimeout=null,this.modelTimeout=null}postConstruct(){this.addManagedEventListeners({modelUpdated:this.buildModelCaches.bind(this),pinnedRowDataChanged:this.buildPinnedCaches.bind(this)})}register(e){const{gos:t}=this.beans;if(!t.get("enableCellSpan")||this.spanningColumns.has(e))return;const i=this.createManagedBean(new mve(e));this.spanningColumns.set(e,i),i.buildCache("top"),i.buildCache("bottom"),i.buildCache("center"),this.debouncePinnedEvent(),this.debounceModelEvent()}dispatchCellsUpdatedEvent(e){this.dispatchLocalEvent({type:"spannedCellsUpdated",pinned:e})}deregister(e){this.spanningColumns.delete(e)}onRowDataUpdated(e){const{spannedRowRenderer:t}=this.beans;if(e.rowPinned){if(this.pinnedTimeout!=null)return;this.pinnedTimeout=window.setTimeout(()=>{this.pinnedTimeout=null,this.buildPinnedCaches(),t==null||t.createCtrls("top"),t==null||t.createCtrls("bottom")},0);return}this.modelTimeout==null&&(this.modelTimeout=window.setTimeout(()=>{this.modelTimeout=null,this.buildModelCaches(),t==null||t.createCtrls("center")},0))}buildModelCaches(){this.modelTimeout!=null&&clearTimeout(this.modelTimeout),this.spanningColumns.forEach(e=>e.buildCache("center")),this.debounceModelEvent()}buildPinnedCaches(){this.pinnedTimeout!=null&&clearTimeout(this.pinnedTimeout),this.spanningColumns.forEach(e=>{e.buildCache("top"),e.buildCache("bottom")}),this.debouncePinnedEvent()}isCellSpanning(e,t){const i=this.spanningColumns.get(e);return i?i.isCellSpanning(t):!1}getCellSpanByPosition(e){const{pinnedRowModel:t,rowModel:i}=this.beans,n=e.column,s=e.rowIndex,r=this.spanningColumns.get(n);if(!r)return;let o;switch(e.rowPinned){case"top":o=t==null?void 0:t.getPinnedTopRow(s);break;case"bottom":o=t==null?void 0:t.getPinnedBottomRow(s);break;default:o=i.getRow(s)}if(o)return r.getCellSpan(o)}getCellStart(e){const t=this.getCellSpanByPosition(e);return t?{...e,rowIndex:t.firstNode.rowIndex}:e}getCellEnd(e){const t=this.getCellSpanByPosition(e);return t?{...e,rowIndex:t.getLastNode().rowIndex}:e}getCellSpan(e,t){const i=this.spanningColumns.get(e);if(i)return i.getCellSpan(t)}forEachSpannedColumn(e,t){for(const[i,n]of this.spanningColumns)if(n.isCellSpanning(e)){const s=n.getCellSpan(e);t(i,s)}}destroy(){super.destroy(),this.spanningColumns.clear()}},vve={moduleName:"CellSpan",version:Ge,beans:[yve,fve]},Cve=class extends ye{constructor(e,t){super(),this.cellCtrl=e,this.staticClasses=[],this.beans=t,this.column=e.column}setComp(e){this.cellComp=e,this.applyUserStyles(),this.applyCellClassRules(),this.applyClassesFromColDef()}applyCellClassRules(){const{column:e,cellComp:t}=this,i=e.colDef,n=i.cellClassRules,s=this.getCellClassParams(e,i);RL(this.beans.expressionSvc,n===this.cellClassRules?void 0:this.cellClassRules,n,s,r=>t.addOrRemoveCssClass(r,!0),r=>t.addOrRemoveCssClass(r,!1)),this.cellClassRules=n}applyUserStyles(){const e=this.column,t=e.colDef,i=t.cellStyle;if(!i)return;let n;if(typeof i=="function"){const s=this.getCellClassParams(e,t);n=i(s)}else n=i;n&&this.cellComp.setUserStyles(n)}applyClassesFromColDef(){const{column:e,cellComp:t}=this,i=e.colDef,n=this.getCellClassParams(e,i);this.staticClasses.forEach(r=>t.addOrRemoveCssClass(r,!1));const s=this.beans.cellStyles.getStaticCellClasses(i,n);this.staticClasses=s,s.forEach(r=>t.addOrRemoveCssClass(r,!0))}getCellClassParams(e,t){const{value:i,rowNode:n}=this.cellCtrl;return ut(this.beans.gos,{value:i,data:n.data,node:n,colDef:t,column:e,rowIndex:n.rowIndex})}},bve=class extends ye{constructor(){super(...arguments),this.beanName="cellStyles"}processAllCellClasses(e,t,i,n){RL(this.beans.expressionSvc,void 0,e.cellClassRules,t,i,n),this.processStaticCellClasses(e,t,i)}getStaticCellClasses(e,t){const{cellClass:i}=e;if(!i)return[];let n;return typeof i=="function"?n=i(t):n=i,typeof n=="string"&&(n=[n]),n||[]}createCellCustomStyleFeature(e,t){return new Cve(e,t)}processStaticCellClasses(e,t,i){this.getStaticCellClasses(e,t).forEach(s=>{i(s)})}},wve={moduleName:"CellStyle",version:Ge,beans:[bve]},Sve={moduleName:"RowStyle",version:Ge,beans:[jae]};function xve(e,t){var i;return!!((i=e.colHover)!=null&&i.isHovered(t))}var Mve=class extends ye{constructor(e,t){super(),this.columns=e,this.element=t}postConstruct(){if(this.gos.get("columnHoverHighlight")){const e=this.beans.colHover;this.addManagedListeners(this.element,{mouseout:e.clearMouseOver.bind(e),mouseover:e.setMouseOver.bind(e,this.columns)})}}},Dve="ag-column-hover",Rve=class extends ye{constructor(){super(...arguments),this.beanName="colHover"}setMouseOver(e){this.updateState(e)}clearMouseOver(){this.updateState(null)}isHovered(e){const t=this.selectedColumns;return!!t&&t.indexOf(e)>=0}addHeaderColumnHoverListener(e,t,i){const n=()=>{if(!this.gos.get("columnHoverHighlight"))return;const s=this.isHovered(i);t.addOrRemoveCssClass("ag-column-hover",s)};e.addManagedEventListeners({columnHoverChanged:n}),n()}onCellColumnHover(e,t){if(!t||!this.gos.get("columnHoverHighlight"))return;const i=this.isHovered(e);t.addOrRemoveCssClass(Dve,i)}addHeaderFilterColumnHoverListener(e,t,i,n){this.createHoverFeature(e,[i],n);const s=()=>{if(!this.gos.get("columnHoverHighlight"))return;const r=this.isHovered(i);t.addOrRemoveCssClass("ag-column-hover",r)};e.addManagedEventListeners({columnHoverChanged:s}),s()}createHoverFeature(e,t,i){e.createManagedBean(new Mve(t,i))}updateState(e){this.selectedColumns=e,this.eventSvc.dispatchEvent({type:"columnHoverChanged"})}},Eve={moduleName:"ColumnHover",version:Ge,beans:[Rve],apiFunctions:{isColumnHovered:xve}},Tve=class extends ye{constructor(){super(...arguments),this.beanName="apiEventSvc",this.syncListeners=new Map,this.asyncListeners=new Map,this.syncGlobalListeners=new Set,this.globalListenerPairs=new Map}postConstruct(){var e,t;this.wrapSvc=(t=(e=this.beans.frameworkOverrides).createGlobalEventListenerWrapper)==null?void 0:t.call(e)}addEventListener(e,t){var r;const i=((r=this.wrapSvc)==null?void 0:r.wrap(t))??t,n=!Nw.has(e),s=n?this.asyncListeners:this.syncListeners;s.has(e)||s.set(e,new Set),s.get(e).add(i),this.eventSvc.addEventListener(e,i,n)}removeEventListener(e,t){var r,o;const i=((r=this.wrapSvc)==null?void 0:r.unwrap(t))??t,n=this.asyncListeners.get(e),s=!!(n!=null&&n.delete(i));s||(o=this.syncListeners.get(e))==null||o.delete(i),this.eventSvc.removeEventListener(e,i,s)}addGlobalListener(e){var r;const t=((r=this.wrapSvc)==null?void 0:r.wrapGlobal(e))??e,i=(o,a)=>{Nw.has(o)&&t(o,a)},n=(o,a)=>{Nw.has(o)||t(o,a)};this.globalListenerPairs.set(e,{syncListener:i,asyncListener:n});const s=this.eventSvc;s.addGlobalListener(i,!1),s.addGlobalListener(n,!0)}removeGlobalListener(e){const{eventSvc:t,wrapSvc:i,globalListenerPairs:n}=this,s=(i==null?void 0:i.unwrapGlobal(e))??e;if(n.has(s)){const{syncListener:o,asyncListener:a}=n.get(s);t.removeGlobalListener(o,!1),t.removeGlobalListener(a,!0),n.delete(e)}else this.syncGlobalListeners.delete(s),t.removeGlobalListener(s,!1)}destroyEventListeners(e,t){e.forEach((i,n)=>{i.forEach(s=>this.eventSvc.removeEventListener(n,s,t)),i.clear()}),e.clear()}destroyGlobalListeners(e,t){e.forEach(i=>this.eventSvc.removeGlobalListener(i,t)),e.clear()}destroy(){super.destroy(),this.destroyEventListeners(this.syncListeners,!1),this.destroyEventListeners(this.asyncListeners,!0),this.destroyGlobalListeners(this.syncGlobalListeners,!1);const{globalListenerPairs:e,eventSvc:t}=this;e.forEach(({syncListener:i,asyncListener:n})=>{t.removeGlobalListener(i,!1),t.removeGlobalListener(n,!0)}),e.clear()}};function Ave(e,t,i){var n;(n=e.apiEventSvc)==null||n.addEventListener(t,i)}function Ive(e,t,i){var n;(n=e.apiEventSvc)==null||n.removeEventListener(t,i)}function Lve(e,t){var i;(i=e.apiEventSvc)==null||i.addGlobalListener(t)}function kve(e,t){var i;(i=e.apiEventSvc)==null||i.removeGlobalListener(t)}var Pve={moduleName:"EventApi",version:Ge,apiFunctions:{addEventListener:Ave,addGlobalListener:Lve,removeEventListener:Ive,removeGlobalListener:kve},beans:[Tve]},Fve=".ag-tooltip{background-color:var(--ag-tooltip-background-color);border:var(--ag-tooltip-border);border-radius:var(--ag-border-radius);color:var(--ag-tooltip-text-color);padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding);white-space:normal}.ag-tooltip,.ag-tooltip-custom{position:absolute;z-index:99999}.ag-tooltip-custom:where(:not(.ag-tooltip-interactive)),.ag-tooltip:where(:not(.ag-tooltip-interactive)){pointer-events:none}.ag-tooltip-animate{transition:opacity 1s;&:where(.ag-tooltip-hiding){opacity:0}}",Ove=class extends ye{constructor(){super(...arguments),this.beanName="tooltipSvc"}setupHeaderTooltip(e,t,i,n){e&&t.destroyBean(e);const s=n1(this.gos),{column:r,eGui:o}=t,a=r.getColDef();!n&&s&&!a.headerComponent&&(n=Ow(()=>o.querySelector(".ag-header-cell-text")));const l={getColumn:()=>r,getColDef:()=>r.getColDef(),getGui:()=>o,getLocation:()=>"header",getTooltipValue:()=>i??r.getColDef().headerTooltip,shouldDisplayTooltip:n};let u=this.createTooltipFeature(l);return u&&(u=t.createBean(u),t.setRefreshFunction("tooltip",()=>u.refreshTooltip())),u}setupHeaderGroupTooltip(e,t,i,n){e&&t.destroyBean(e);const s=n1(this.gos),{column:r,eGui:o}=t,a=r.getColGroupDef();!n&&s&&!(a!=null&&a.headerGroupComponent)&&(n=Ow(()=>o.querySelector(".ag-header-group-text")));const l={getColumn:()=>r,getGui:()=>o,getLocation:()=>"headerGroup",getTooltipValue:()=>i??(a&&a.headerTooltip),shouldDisplayTooltip:n};a&&(l.getColDef=()=>a);const u=this.createTooltipFeature(l);return u&&t.createBean(u)}enableCellTooltipFeature(e,t,i){const{column:n,rowNode:s}=e,r=()=>{const l=n.getColDef(),u=s.data;if(l.tooltipField&&Ne(u))return iv(u,l.tooltipField,n.isTooltipFieldContainsDots());const d=l.tooltipValueGetter;return d?d(ut(this.gos,{location:"cell",colDef:n.getColDef(),column:n,rowIndex:e.cellPosition.rowIndex,node:s,data:s.data,value:e.value,valueFormatted:e.valueFormatted})):null},o=n1(this.gos);!i&&o&&!e.isCellRenderer()&&(i=Ow(()=>{const l=e.eGui;return l.children.length===0?l:l.querySelector(".ag-cell-value")}));const a={getColumn:()=>n,getColDef:()=>n.getColDef(),getRowIndex:()=>e.cellPosition.rowIndex,getRowNode:()=>s,getGui:()=>e.eGui,getLocation:()=>"cell",getTooltipValue:t!=null?()=>t:r,getValueFormatted:()=>e.valueFormatted,shouldDisplayTooltip:i};return this.createTooltipFeature(a,this.beans)}refreshRowTooltip(e,t,i,n){const s={getGui:()=>t.getFullWidthElement(),getTooltipValue:()=>i,getLocation:()=>"fullWidthRow",shouldDisplayTooltip:n},r=this.beans,o=r.context;e&&t.destroyBean(e,o);const a=this.createTooltipFeature(s,r);return t.createBean(a,o)}initCol(e){const{colDef:t}=e;e.tooltipEnabled=Ne(t.tooltipField)||Ne(t.tooltipValueGetter)||Ne(t.tooltipComponent)}createTooltipFeature(e,t){return this.beans.registry.createDynamicBean("tooltipFeature",!1,e,t)}},Nve={moduleName:"Tooltip",version:Ge,beans:[Ove],dynamicBeans:{tooltipFeature:Zle},userComponents:{agTooltipComponent:zpe},dependsOn:[eM],css:[Fve]},Bve={moduleName:"Locale",version:Ge,beans:[Ape]},zve=class extends ye{constructor(){super(...arguments),this.beanName="rowAutoHeight",this.wasEverActive=!1,this._debouncedCalculateRowHeights=Os(this,this.calculateRowHeights.bind(this),1)}requestCheckAutoHeight(){this.wasEverActive&&this._debouncedCalculateRowHeights()}calculateRowHeights(){var r,o;const{visibleCols:e,rowModel:t,rowSpanSvc:i}=this.beans,n=e.autoHeightCols;let s=!1;(r=t.forEachDisplayedNode)==null||r.call(t,a=>{var d;const l=a.__autoHeights;let u=bg(this.beans,a).height;for(const p of n){if(this.colSpanSkipRow(p,a))return;let f=l==null?void 0:l[p.getColId()];const m=i==null?void 0:i.getCellSpan(p,a);if(m){if(m.getLastNode()!==a)continue;if(f=(d=i==null?void 0:i.getCellSpan(p,a))==null?void 0:d.getLastNodeAutoHeight(),!f)return}if(f==null)return;u=Math.max(f,u)}u!==a.rowHeight&&(a.setRowHeight(u),s=!0)}),s&&((o=t.onRowHeightChanged)==null||o.call(t))}setRowAutoHeight(e,t,i){if(e.__autoHeights||(e.__autoHeights={}),t==null){delete e.__autoHeights[i.getId()];return}const n=e.__autoHeights[i.getId()];e.__autoHeights[i.getId()]=t,n!==t&&this.requestCheckAutoHeight()}colSpanSkipRow(e,t){const{colModel:i,colViewport:n,visibleCols:s}=this.beans;if(!i.colSpanActive)return!1;let r=[];switch(e.getPinned()){case"left":r=s.getLeftColsForRow(t);break;case"right":r=s.getRightColsForRow(t);break;case null:r=n.getColsWithinViewport(t);break}return r.includes(e)}setupCellAutoHeight(e,t,i){if(!e.column.isAutoHeight()||!t)return!1;this.wasEverActive=!0;const n=t.parentElement,{rowNode:s,column:r}=e,o=this.beans,a=d=>{if(e.editing||!e.isAlive()||!i.isAlive())return;const{paddingTop:p,paddingBottom:f,borderBottomWidth:m,borderTopWidth:y}=mp(n),C=p+f+m+y,b=t.offsetHeight+C;if(d<5){const S=An(o),M=!S||!S.contains(t),D=b==0;if(M||D){window.setTimeout(()=>a(d+1),0);return}}this.setRowAutoHeight(s,b,r)},l=()=>a(0);l();const u=zc(o,t,l);return i.addDestroyFunc(()=>{u(),this.setRowAutoHeight(s,void 0,r)}),!0}setAutoHeightActive(e){this.active=e.list.some(t=>t.isVisible()&&t.isAutoHeight())}},Gve={moduleName:"RowAutoHeight",version:Ge,beans:[zve]},Hve={moduleName:"AllCommunity",version:Ge,dependsOn:[zme,$me,iye,vfe,Wge,Uge,$ge,Yge,Kge,qge,Zge,Vge,lge,cge,uge,age,hge,pge,mye,bme,Fye,Yue,Wye,Uye,Jye,rve,Rce,dve,ume,ype,wve,Eve,Sve,Pve,bpe,uye,Nve,Bve,Gve,Dce,Gme,vve]};const h5=gr([B.jsx("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2M12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8"},"0"),B.jsx("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"},"1")],"AccessTime"),_ve=gr(B.jsx("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"}),"Add"),jve=gr([B.jsx("path",{d:"M17 11c.34 0 .67.04 1 .09V6.27L10.5 3 3 6.27v4.91c0 4.54 3.2 8.79 7.5 9.82.55-.13 1.08-.32 1.6-.55-.69-.98-1.1-2.17-1.1-3.45 0-3.31 2.69-6 6-6"},"0"),B.jsx("path",{d:"M17 13c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4m0 1.38c.62 0 1.12.51 1.12 1.12s-.51 1.12-1.12 1.12-1.12-.51-1.12-1.12.5-1.12 1.12-1.12m0 5.37c-.93 0-1.74-.46-2.24-1.17.05-.72 1.51-1.08 2.24-1.08s2.19.36 2.24 1.08c-.5.71-1.31 1.17-2.24 1.17"},"1")],"AdminPanelSettings"),Vve=gr(B.jsx("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20z"}),"ArrowBack"),Wve=gr(B.jsx("path",{d:"m12 4-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z"}),"ArrowForward"),cA=gr(B.jsx("path",{d:"M20.01 15.38c-1.23 0-2.42-.2-3.53-.56-.35-.12-.74-.03-1.01.24l-1.57 1.97c-2.83-1.35-5.48-3.9-6.89-6.83l1.95-1.66c.27-.28.35-.67.24-1.02-.37-1.11-.56-2.3-.56-3.53 0-.54-.45-.99-.99-.99H4.19C3.65 3 3 3.24 3 3.99 3 13.28 10.73 21 20.01 21c.71 0 .99-.63.99-1.18v-3.45c0-.54-.45-.99-.99-.99"}),"Call"),Uve=gr(B.jsx("path",{d:"M3 13h8V3H3zm0 8h8v-6H3zm10 0h8V11h-8zm0-18v6h8V3z"}),"Dashboard"),p5=gr(B.jsx("path",{d:"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2m0 4-8 5-8-5V6l8 5 8-5z"}),"Email"),f5=gr(B.jsx("circle",{cx:"12",cy:"12",r:"8"}),"FiberManualRecord"),$ve=gr(B.jsx("path",{d:"M10 18h4v-2h-4zM3 6v2h18V6zm3 7h12v-2H6z"}),"FilterList"),Yve=gr(B.jsx("path",{d:"M13 3c-4.97 0-9 4.03-9 9H1l3.89 3.89.07.14L9 12H6c0-3.87 3.13-7 7-7s7 3.13 7 7-3.13 7-7 7c-1.93 0-3.68-.79-4.94-2.06l-1.42 1.42C8.27 19.99 10.51 21 13 21c4.97 0 9-4.03 9-9s-4.03-9-9-9m-1 5v5l4.28 2.54.72-1.21-3.5-2.08V8z"}),"History"),g5=gr(B.jsx("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"}),"Search"),Kve=({isOpen:e,onClose:t,user:i})=>{const n=Nc(),s=y_(n.breakpoints.down("md")),r=B.jsx(Yt,{component:"nav",sx:{padding:2},children:B.jsxs(Wx,{sx:{display:"flex",flexDirection:"column",gap:1,width:"100%"},children:[B.jsx(Gf,{sx:{"&:hover":{bgcolor:"rgba(0, 0, 0, 0.04)"},padding:"8px",borderRadius:"8px",transition:"background-color 0.3s"},children:B.jsxs(bw,{to:"/",className:({isActive:o})=>o?"active":void 0,style:{display:"flex",alignItems:"center",textDecoration:"none",color:"inherit"},children:[B.jsx(Uve,{sx:{mr:2}}),B.jsx(Tw,{primary:"Дашборд"})]})}),B.jsx(Gf,{sx:{"&:hover":{bgcolor:"rgba(0, 0, 0, 0.04)"},padding:"8px",borderRadius:"8px",transition:"background-color 0.3s"},children:B.jsxs(bw,{to:"/history",className:({isActive:o})=>o?"active":void 0,style:{display:"flex",alignItems:"center",textDecoration:"none",color:"inherit"},children:[B.jsx(Yve,{sx:{mr:2}}),B.jsx(Tw,{primary:"История взаимодействий"})]})}),B.jsx(Gf,{sx:{"&:hover":{bgcolor:"rgba(0, 0, 0, 0.04)"},padding:"8px",borderRadius:"8px",transition:"background-color 0.3s"},children:(i==null?void 0:i.role)==="admin"&&B.jsxs(bw,{to:"/settings",style:{display:"flex",alignItems:"center",textDecoration:"none",color:"inherit"},children:[B.jsx(jve,{sx:{mr:2}}),B.jsx(Tw,{primary:"Админ-панель"})]})})]})});return s?B.jsx(lie,{anchor:"left",open:e,onClose:t,sx:{"& .MuiDrawer-paper":{width:"300px"}},children:r}):B.jsx(Yt,{component:"aside",sx:{borderRight:"1px solid rgba(0, 0, 0, 0.12)",display:{xs:"none",md:"block"}},children:r})};function m5(e,t){return function(){return e.apply(t,arguments)}}const{toString:qve}=Object.prototype,{getPrototypeOf:_L}=Object,nM=(e=>t=>{const i=qve.call(t);return e[i]||(e[i]=i.slice(8,-1).toLowerCase())})(Object.create(null)),Ga=e=>(e=e.toLowerCase(),t=>nM(t)===e),sM=e=>t=>typeof t===e,{isArray:Vg}=Array,jv=sM("undefined");function Zve(e){return e!==null&&!jv(e)&&e.constructor!==null&&!jv(e.constructor)&&Qr(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const y5=Ga("ArrayBuffer");function Xve(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&y5(e.buffer),t}const Qve=sM("string"),Qr=sM("function"),v5=sM("number"),rM=e=>e!==null&&typeof e=="object",Jve=e=>e===!0||e===!1,Bw=e=>{if(nM(e)!=="object")return!1;const t=_L(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},eCe=Ga("Date"),tCe=Ga("File"),iCe=Ga("Blob"),nCe=Ga("FileList"),sCe=e=>rM(e)&&Qr(e.pipe),rCe=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Qr(e.append)&&((t=nM(e))==="formdata"||t==="object"&&Qr(e.toString)&&e.toString()==="[object FormData]"))},oCe=Ga("URLSearchParams"),[aCe,lCe,cCe,uCe]=["ReadableStream","Request","Response","Headers"].map(Ga),dCe=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function zC(e,t,{allOwnKeys:i=!1}={}){if(e===null||typeof e>"u")return;let n,s;if(typeof e!="object"&&(e=[e]),Vg(e))for(n=0,s=e.length;n<s;n++)t.call(null,e[n],n,e);else{const r=i?Object.getOwnPropertyNames(e):Object.keys(e),o=r.length;let a;for(n=0;n<o;n++)a=r[n],t.call(null,e[a],a,e)}}function C5(e,t){t=t.toLowerCase();const i=Object.keys(e);let n=i.length,s;for(;n-- >0;)if(s=i[n],t===s.toLowerCase())return s;return null}const wh=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,b5=e=>!jv(e)&&e!==wh;function uA(){const{caseless:e}=b5(this)&&this||{},t={},i=(n,s)=>{const r=e&&C5(t,s)||s;Bw(t[r])&&Bw(n)?t[r]=uA(t[r],n):Bw(n)?t[r]=uA({},n):Vg(n)?t[r]=n.slice():t[r]=n};for(let n=0,s=arguments.length;n<s;n++)arguments[n]&&zC(arguments[n],i);return t}const hCe=(e,t,i,{allOwnKeys:n}={})=>(zC(t,(s,r)=>{i&&Qr(s)?e[r]=m5(s,i):e[r]=s},{allOwnKeys:n}),e),pCe=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),fCe=(e,t,i,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),i&&Object.assign(e.prototype,i)},gCe=(e,t,i,n)=>{let s,r,o;const a={};if(t=t||{},e==null)return t;do{for(s=Object.getOwnPropertyNames(e),r=s.length;r-- >0;)o=s[r],(!n||n(o,e,t))&&!a[o]&&(t[o]=e[o],a[o]=!0);e=i!==!1&&_L(e)}while(e&&(!i||i(e,t))&&e!==Object.prototype);return t},mCe=(e,t,i)=>{e=String(e),(i===void 0||i>e.length)&&(i=e.length),i-=t.length;const n=e.indexOf(t,i);return n!==-1&&n===i},yCe=e=>{if(!e)return null;if(Vg(e))return e;let t=e.length;if(!v5(t))return null;const i=new Array(t);for(;t-- >0;)i[t]=e[t];return i},vCe=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&_L(Uint8Array)),CCe=(e,t)=>{const n=(e&&e[Symbol.iterator]).call(e);let s;for(;(s=n.next())&&!s.done;){const r=s.value;t.call(e,r[0],r[1])}},bCe=(e,t)=>{let i;const n=[];for(;(i=e.exec(t))!==null;)n.push(i);return n},wCe=Ga("HTMLFormElement"),SCe=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(i,n,s){return n.toUpperCase()+s}),yz=(({hasOwnProperty:e})=>(t,i)=>e.call(t,i))(Object.prototype),xCe=Ga("RegExp"),w5=(e,t)=>{const i=Object.getOwnPropertyDescriptors(e),n={};zC(i,(s,r)=>{let o;(o=t(s,r,e))!==!1&&(n[r]=o||s)}),Object.defineProperties(e,n)},MCe=e=>{w5(e,(t,i)=>{if(Qr(e)&&["arguments","caller","callee"].indexOf(i)!==-1)return!1;const n=e[i];if(Qr(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+i+"'")})}})},DCe=(e,t)=>{const i={},n=s=>{s.forEach(r=>{i[r]=!0})};return Vg(e)?n(e):n(String(e).split(t)),i},RCe=()=>{},ECe=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function TCe(e){return!!(e&&Qr(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator])}const ACe=e=>{const t=new Array(10),i=(n,s)=>{if(rM(n)){if(t.indexOf(n)>=0)return;if(!("toJSON"in n)){t[s]=n;const r=Vg(n)?[]:{};return zC(n,(o,a)=>{const l=i(o,s+1);!jv(l)&&(r[a]=l)}),t[s]=void 0,r}}return n};return i(e,0)},ICe=Ga("AsyncFunction"),LCe=e=>e&&(rM(e)||Qr(e))&&Qr(e.then)&&Qr(e.catch),S5=((e,t)=>e?setImmediate:t?((i,n)=>(wh.addEventListener("message",({source:s,data:r})=>{s===wh&&r===i&&n.length&&n.shift()()},!1),s=>{n.push(s),wh.postMessage(i,"*")}))(`axios@${Math.random()}`,[]):i=>setTimeout(i))(typeof setImmediate=="function",Qr(wh.postMessage)),kCe=typeof queueMicrotask<"u"?queueMicrotask.bind(wh):typeof process<"u"&&process.nextTick||S5,me={isArray:Vg,isArrayBuffer:y5,isBuffer:Zve,isFormData:rCe,isArrayBufferView:Xve,isString:Qve,isNumber:v5,isBoolean:Jve,isObject:rM,isPlainObject:Bw,isReadableStream:aCe,isRequest:lCe,isResponse:cCe,isHeaders:uCe,isUndefined:jv,isDate:eCe,isFile:tCe,isBlob:iCe,isRegExp:xCe,isFunction:Qr,isStream:sCe,isURLSearchParams:oCe,isTypedArray:vCe,isFileList:nCe,forEach:zC,merge:uA,extend:hCe,trim:dCe,stripBOM:pCe,inherits:fCe,toFlatObject:gCe,kindOf:nM,kindOfTest:Ga,endsWith:mCe,toArray:yCe,forEachEntry:CCe,matchAll:bCe,isHTMLForm:wCe,hasOwnProperty:yz,hasOwnProp:yz,reduceDescriptors:w5,freezeMethods:MCe,toObjectSet:DCe,toCamelCase:SCe,noop:RCe,toFiniteNumber:ECe,findKey:C5,global:wh,isContextDefined:b5,isSpecCompliantForm:TCe,toJSONObject:ACe,isAsyncFn:ICe,isThenable:LCe,setImmediate:S5,asap:kCe};function Lt(e,t,i,n,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),i&&(this.config=i),n&&(this.request=n),s&&(this.response=s,this.status=s.status?s.status:null)}me.inherits(Lt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:me.toJSONObject(this.config),code:this.code,status:this.status}}});const x5=Lt.prototype,M5={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{M5[e]={value:e}});Object.defineProperties(Lt,M5);Object.defineProperty(x5,"isAxiosError",{value:!0});Lt.from=(e,t,i,n,s,r)=>{const o=Object.create(x5);return me.toFlatObject(e,o,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),Lt.call(o,e.message,t,i,n,s),o.cause=e,o.name=e.name,r&&Object.assign(o,r),o};const PCe=null;function dA(e){return me.isPlainObject(e)||me.isArray(e)}function D5(e){return me.endsWith(e,"[]")?e.slice(0,-2):e}function vz(e,t,i){return e?e.concat(t).map(function(s,r){return s=D5(s),!i&&r?"["+s+"]":s}).join(i?".":""):t}function FCe(e){return me.isArray(e)&&!e.some(dA)}const OCe=me.toFlatObject(me,{},null,function(t){return/^is[A-Z]/.test(t)});function oM(e,t,i){if(!me.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,i=me.toFlatObject(i,{metaTokens:!0,dots:!1,indexes:!1},!1,function(C,w){return!me.isUndefined(w[C])});const n=i.metaTokens,s=i.visitor||d,r=i.dots,o=i.indexes,l=(i.Blob||typeof Blob<"u"&&Blob)&&me.isSpecCompliantForm(t);if(!me.isFunction(s))throw new TypeError("visitor must be a function");function u(y){if(y===null)return"";if(me.isDate(y))return y.toISOString();if(!l&&me.isBlob(y))throw new Lt("Blob is not supported. Use a Buffer instead.");return me.isArrayBuffer(y)||me.isTypedArray(y)?l&&typeof Blob=="function"?new Blob([y]):Buffer.from(y):y}function d(y,C,w){let b=y;if(y&&!w&&typeof y=="object"){if(me.endsWith(C,"{}"))C=n?C:C.slice(0,-2),y=JSON.stringify(y);else if(me.isArray(y)&&FCe(y)||(me.isFileList(y)||me.endsWith(C,"[]"))&&(b=me.toArray(y)))return C=D5(C),b.forEach(function(M,D){!(me.isUndefined(M)||M===null)&&t.append(o===!0?vz([C],D,r):o===null?C:C+"[]",u(M))}),!1}return dA(y)?!0:(t.append(vz(w,C,r),u(y)),!1)}const p=[],f=Object.assign(OCe,{defaultVisitor:d,convertValue:u,isVisitable:dA});function m(y,C){if(!me.isUndefined(y)){if(p.indexOf(y)!==-1)throw Error("Circular reference detected in "+C.join("."));p.push(y),me.forEach(y,function(b,S){(!(me.isUndefined(b)||b===null)&&s.call(t,b,me.isString(S)?S.trim():S,C,f))===!0&&m(b,C?C.concat(S):[S])}),p.pop()}}if(!me.isObject(e))throw new TypeError("data must be an object");return m(e),t}function Cz(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function jL(e,t){this._pairs=[],e&&oM(e,this,t)}const R5=jL.prototype;R5.append=function(t,i){this._pairs.push([t,i])};R5.toString=function(t){const i=t?function(n){return t.call(this,n,Cz)}:Cz;return this._pairs.map(function(s){return i(s[0])+"="+i(s[1])},"").join("&")};function NCe(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function E5(e,t,i){if(!t)return e;const n=i&&i.encode||NCe;me.isFunction(i)&&(i={serialize:i});const s=i&&i.serialize;let r;if(s?r=s(t,i):r=me.isURLSearchParams(t)?t.toString():new jL(t,i).toString(n),r){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+r}return e}class bz{constructor(){this.handlers=[]}use(t,i,n){return this.handlers.push({fulfilled:t,rejected:i,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){me.forEach(this.handlers,function(n){n!==null&&t(n)})}}const T5={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},BCe=typeof URLSearchParams<"u"?URLSearchParams:jL,zCe=typeof FormData<"u"?FormData:null,GCe=typeof Blob<"u"?Blob:null,HCe={isBrowser:!0,classes:{URLSearchParams:BCe,FormData:zCe,Blob:GCe},protocols:["http","https","file","blob","url","data"]},VL=typeof window<"u"&&typeof document<"u",hA=typeof navigator=="object"&&navigator||void 0,_Ce=VL&&(!hA||["ReactNative","NativeScript","NS"].indexOf(hA.product)<0),jCe=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",VCe=VL&&window.location.href||"http://localhost",WCe=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:VL,hasStandardBrowserEnv:_Ce,hasStandardBrowserWebWorkerEnv:jCe,navigator:hA,origin:VCe},Symbol.toStringTag,{value:"Module"})),Ks={...WCe,...HCe};function UCe(e,t){return oM(e,new Ks.classes.URLSearchParams,Object.assign({visitor:function(i,n,s,r){return Ks.isNode&&me.isBuffer(i)?(this.append(n,i.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},t))}function $Ce(e){return me.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function YCe(e){const t={},i=Object.keys(e);let n;const s=i.length;let r;for(n=0;n<s;n++)r=i[n],t[r]=e[r];return t}function A5(e){function t(i,n,s,r){let o=i[r++];if(o==="__proto__")return!0;const a=Number.isFinite(+o),l=r>=i.length;return o=!o&&me.isArray(s)?s.length:o,l?(me.hasOwnProp(s,o)?s[o]=[s[o],n]:s[o]=n,!a):((!s[o]||!me.isObject(s[o]))&&(s[o]=[]),t(i,n,s[o],r)&&me.isArray(s[o])&&(s[o]=YCe(s[o])),!a)}if(me.isFormData(e)&&me.isFunction(e.entries)){const i={};return me.forEachEntry(e,(n,s)=>{t($Ce(n),s,i,0)}),i}return null}function KCe(e,t,i){if(me.isString(e))try{return(t||JSON.parse)(e),me.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(i||JSON.stringify)(e)}const GC={transitional:T5,adapter:["xhr","http","fetch"],transformRequest:[function(t,i){const n=i.getContentType()||"",s=n.indexOf("application/json")>-1,r=me.isObject(t);if(r&&me.isHTMLForm(t)&&(t=new FormData(t)),me.isFormData(t))return s?JSON.stringify(A5(t)):t;if(me.isArrayBuffer(t)||me.isBuffer(t)||me.isStream(t)||me.isFile(t)||me.isBlob(t)||me.isReadableStream(t))return t;if(me.isArrayBufferView(t))return t.buffer;if(me.isURLSearchParams(t))return i.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let a;if(r){if(n.indexOf("application/x-www-form-urlencoded")>-1)return UCe(t,this.formSerializer).toString();if((a=me.isFileList(t))||n.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return oM(a?{"files[]":t}:t,l&&new l,this.formSerializer)}}return r||s?(i.setContentType("application/json",!1),KCe(t)):t}],transformResponse:[function(t){const i=this.transitional||GC.transitional,n=i&&i.forcedJSONParsing,s=this.responseType==="json";if(me.isResponse(t)||me.isReadableStream(t))return t;if(t&&me.isString(t)&&(n&&!this.responseType||s)){const o=!(i&&i.silentJSONParsing)&&s;try{return JSON.parse(t)}catch(a){if(o)throw a.name==="SyntaxError"?Lt.from(a,Lt.ERR_BAD_RESPONSE,this,null,this.response):a}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ks.classes.FormData,Blob:Ks.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};me.forEach(["delete","get","head","post","put","patch"],e=>{GC.headers[e]={}});const qCe=me.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),ZCe=e=>{const t={};let i,n,s;return e&&e.split(`
`).forEach(function(o){s=o.indexOf(":"),i=o.substring(0,s).trim().toLowerCase(),n=o.substring(s+1).trim(),!(!i||t[i]&&qCe[i])&&(i==="set-cookie"?t[i]?t[i].push(n):t[i]=[n]:t[i]=t[i]?t[i]+", "+n:n)}),t},wz=Symbol("internals");function Ry(e){return e&&String(e).trim().toLowerCase()}function zw(e){return e===!1||e==null?e:me.isArray(e)?e.map(zw):String(e)}function XCe(e){const t=Object.create(null),i=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=i.exec(e);)t[n[1]]=n[2];return t}const QCe=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function f1(e,t,i,n,s){if(me.isFunction(n))return n.call(this,t,i);if(s&&(t=i),!!me.isString(t)){if(me.isString(n))return t.indexOf(n)!==-1;if(me.isRegExp(n))return n.test(t)}}function JCe(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,i,n)=>i.toUpperCase()+n)}function ebe(e,t){const i=me.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+i,{value:function(s,r,o){return this[n].call(this,t,s,r,o)},configurable:!0})})}let Or=class{constructor(t){t&&this.set(t)}set(t,i,n){const s=this;function r(a,l,u){const d=Ry(l);if(!d)throw new Error("header name must be a non-empty string");const p=me.findKey(s,d);(!p||s[p]===void 0||u===!0||u===void 0&&s[p]!==!1)&&(s[p||l]=zw(a))}const o=(a,l)=>me.forEach(a,(u,d)=>r(u,d,l));if(me.isPlainObject(t)||t instanceof this.constructor)o(t,i);else if(me.isString(t)&&(t=t.trim())&&!QCe(t))o(ZCe(t),i);else if(me.isHeaders(t))for(const[a,l]of t.entries())r(l,a,n);else t!=null&&r(i,t,n);return this}get(t,i){if(t=Ry(t),t){const n=me.findKey(this,t);if(n){const s=this[n];if(!i)return s;if(i===!0)return XCe(s);if(me.isFunction(i))return i.call(this,s,n);if(me.isRegExp(i))return i.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,i){if(t=Ry(t),t){const n=me.findKey(this,t);return!!(n&&this[n]!==void 0&&(!i||f1(this,this[n],n,i)))}return!1}delete(t,i){const n=this;let s=!1;function r(o){if(o=Ry(o),o){const a=me.findKey(n,o);a&&(!i||f1(n,n[a],a,i))&&(delete n[a],s=!0)}}return me.isArray(t)?t.forEach(r):r(t),s}clear(t){const i=Object.keys(this);let n=i.length,s=!1;for(;n--;){const r=i[n];(!t||f1(this,this[r],r,t,!0))&&(delete this[r],s=!0)}return s}normalize(t){const i=this,n={};return me.forEach(this,(s,r)=>{const o=me.findKey(n,r);if(o){i[o]=zw(s),delete i[r];return}const a=t?JCe(r):String(r).trim();a!==r&&delete i[r],i[a]=zw(s),n[a]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const i=Object.create(null);return me.forEach(this,(n,s)=>{n!=null&&n!==!1&&(i[s]=t&&me.isArray(n)?n.join(", "):n)}),i}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,i])=>t+": "+i).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...i){const n=new this(t);return i.forEach(s=>n.set(s)),n}static accessor(t){const n=(this[wz]=this[wz]={accessors:{}}).accessors,s=this.prototype;function r(o){const a=Ry(o);n[a]||(ebe(s,o),n[a]=!0)}return me.isArray(t)?t.forEach(r):r(t),this}};Or.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);me.reduceDescriptors(Or.prototype,({value:e},t)=>{let i=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(n){this[i]=n}}});me.freezeMethods(Or);function g1(e,t){const i=this||GC,n=t||i,s=Or.from(n.headers);let r=n.data;return me.forEach(e,function(a){r=a.call(i,r,s.normalize(),t?t.status:void 0)}),s.normalize(),r}function I5(e){return!!(e&&e.__CANCEL__)}function Wg(e,t,i){Lt.call(this,e??"canceled",Lt.ERR_CANCELED,t,i),this.name="CanceledError"}me.inherits(Wg,Lt,{__CANCEL__:!0});function L5(e,t,i){const n=i.config.validateStatus;!i.status||!n||n(i.status)?e(i):t(new Lt("Request failed with status code "+i.status,[Lt.ERR_BAD_REQUEST,Lt.ERR_BAD_RESPONSE][Math.floor(i.status/100)-4],i.config,i.request,i))}function tbe(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function ibe(e,t){e=e||10;const i=new Array(e),n=new Array(e);let s=0,r=0,o;return t=t!==void 0?t:1e3,function(l){const u=Date.now(),d=n[r];o||(o=u),i[s]=l,n[s]=u;let p=r,f=0;for(;p!==s;)f+=i[p++],p=p%e;if(s=(s+1)%e,s===r&&(r=(r+1)%e),u-o<t)return;const m=d&&u-d;return m?Math.round(f*1e3/m):void 0}}function nbe(e,t){let i=0,n=1e3/t,s,r;const o=(u,d=Date.now())=>{i=d,s=null,r&&(clearTimeout(r),r=null),e.apply(null,u)};return[(...u)=>{const d=Date.now(),p=d-i;p>=n?o(u,d):(s=u,r||(r=setTimeout(()=>{r=null,o(s)},n-p)))},()=>s&&o(s)]}const OS=(e,t,i=3)=>{let n=0;const s=ibe(50,250);return nbe(r=>{const o=r.loaded,a=r.lengthComputable?r.total:void 0,l=o-n,u=s(l),d=o<=a;n=o;const p={loaded:o,total:a,progress:a?o/a:void 0,bytes:l,rate:u||void 0,estimated:u&&a&&d?(a-o)/u:void 0,event:r,lengthComputable:a!=null,[t?"download":"upload"]:!0};e(p)},i)},Sz=(e,t)=>{const i=e!=null;return[n=>t[0]({lengthComputable:i,total:e,loaded:n}),t[1]]},xz=e=>(...t)=>me.asap(()=>e(...t)),sbe=Ks.hasStandardBrowserEnv?((e,t)=>i=>(i=new URL(i,Ks.origin),e.protocol===i.protocol&&e.host===i.host&&(t||e.port===i.port)))(new URL(Ks.origin),Ks.navigator&&/(msie|trident)/i.test(Ks.navigator.userAgent)):()=>!0,rbe=Ks.hasStandardBrowserEnv?{write(e,t,i,n,s,r){const o=[e+"="+encodeURIComponent(t)];me.isNumber(i)&&o.push("expires="+new Date(i).toGMTString()),me.isString(n)&&o.push("path="+n),me.isString(s)&&o.push("domain="+s),r===!0&&o.push("secure"),document.cookie=o.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function obe(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function abe(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function k5(e,t,i){let n=!obe(t);return e&&n||i==!1?abe(e,t):t}const Mz=e=>e instanceof Or?{...e}:e;function ip(e,t){t=t||{};const i={};function n(u,d,p,f){return me.isPlainObject(u)&&me.isPlainObject(d)?me.merge.call({caseless:f},u,d):me.isPlainObject(d)?me.merge({},d):me.isArray(d)?d.slice():d}function s(u,d,p,f){if(me.isUndefined(d)){if(!me.isUndefined(u))return n(void 0,u,p,f)}else return n(u,d,p,f)}function r(u,d){if(!me.isUndefined(d))return n(void 0,d)}function o(u,d){if(me.isUndefined(d)){if(!me.isUndefined(u))return n(void 0,u)}else return n(void 0,d)}function a(u,d,p){if(p in t)return n(u,d);if(p in e)return n(void 0,u)}const l={url:r,method:r,data:r,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(u,d,p)=>s(Mz(u),Mz(d),p,!0)};return me.forEach(Object.keys(Object.assign({},e,t)),function(d){const p=l[d]||s,f=p(e[d],t[d],d);me.isUndefined(f)&&p!==a||(i[d]=f)}),i}const P5=e=>{const t=ip({},e);let{data:i,withXSRFToken:n,xsrfHeaderName:s,xsrfCookieName:r,headers:o,auth:a}=t;t.headers=o=Or.from(o),t.url=E5(k5(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),a&&o.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):"")));let l;if(me.isFormData(i)){if(Ks.hasStandardBrowserEnv||Ks.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((l=o.getContentType())!==!1){const[u,...d]=l?l.split(";").map(p=>p.trim()).filter(Boolean):[];o.setContentType([u||"multipart/form-data",...d].join("; "))}}if(Ks.hasStandardBrowserEnv&&(n&&me.isFunction(n)&&(n=n(t)),n||n!==!1&&sbe(t.url))){const u=s&&r&&rbe.read(r);u&&o.set(s,u)}return t},lbe=typeof XMLHttpRequest<"u",cbe=lbe&&function(e){return new Promise(function(i,n){const s=P5(e);let r=s.data;const o=Or.from(s.headers).normalize();let{responseType:a,onUploadProgress:l,onDownloadProgress:u}=s,d,p,f,m,y;function C(){m&&m(),y&&y(),s.cancelToken&&s.cancelToken.unsubscribe(d),s.signal&&s.signal.removeEventListener("abort",d)}let w=new XMLHttpRequest;w.open(s.method.toUpperCase(),s.url,!0),w.timeout=s.timeout;function b(){if(!w)return;const M=Or.from("getAllResponseHeaders"in w&&w.getAllResponseHeaders()),R={data:!a||a==="text"||a==="json"?w.responseText:w.response,status:w.status,statusText:w.statusText,headers:M,config:e,request:w};L5(function(k){i(k),C()},function(k){n(k),C()},R),w=null}"onloadend"in w?w.onloadend=b:w.onreadystatechange=function(){!w||w.readyState!==4||w.status===0&&!(w.responseURL&&w.responseURL.indexOf("file:")===0)||setTimeout(b)},w.onabort=function(){w&&(n(new Lt("Request aborted",Lt.ECONNABORTED,e,w)),w=null)},w.onerror=function(){n(new Lt("Network Error",Lt.ERR_NETWORK,e,w)),w=null},w.ontimeout=function(){let D=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const R=s.transitional||T5;s.timeoutErrorMessage&&(D=s.timeoutErrorMessage),n(new Lt(D,R.clarifyTimeoutError?Lt.ETIMEDOUT:Lt.ECONNABORTED,e,w)),w=null},r===void 0&&o.setContentType(null),"setRequestHeader"in w&&me.forEach(o.toJSON(),function(D,R){w.setRequestHeader(R,D)}),me.isUndefined(s.withCredentials)||(w.withCredentials=!!s.withCredentials),a&&a!=="json"&&(w.responseType=s.responseType),u&&([f,y]=OS(u,!0),w.addEventListener("progress",f)),l&&w.upload&&([p,m]=OS(l),w.upload.addEventListener("progress",p),w.upload.addEventListener("loadend",m)),(s.cancelToken||s.signal)&&(d=M=>{w&&(n(!M||M.type?new Wg(null,e,w):M),w.abort(),w=null)},s.cancelToken&&s.cancelToken.subscribe(d),s.signal&&(s.signal.aborted?d():s.signal.addEventListener("abort",d)));const S=tbe(s.url);if(S&&Ks.protocols.indexOf(S)===-1){n(new Lt("Unsupported protocol "+S+":",Lt.ERR_BAD_REQUEST,e));return}w.send(r||null)})},ube=(e,t)=>{const{length:i}=e=e?e.filter(Boolean):[];if(t||i){let n=new AbortController,s;const r=function(u){if(!s){s=!0,a();const d=u instanceof Error?u:this.reason;n.abort(d instanceof Lt?d:new Wg(d instanceof Error?d.message:d))}};let o=t&&setTimeout(()=>{o=null,r(new Lt(`timeout ${t} of ms exceeded`,Lt.ETIMEDOUT))},t);const a=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(u=>{u.unsubscribe?u.unsubscribe(r):u.removeEventListener("abort",r)}),e=null)};e.forEach(u=>u.addEventListener("abort",r));const{signal:l}=n;return l.unsubscribe=()=>me.asap(a),l}},dbe=function*(e,t){let i=e.byteLength;if(i<t){yield e;return}let n=0,s;for(;n<i;)s=n+t,yield e.slice(n,s),n=s},hbe=async function*(e,t){for await(const i of pbe(e))yield*dbe(i,t)},pbe=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:i,value:n}=await t.read();if(i)break;yield n}}finally{await t.cancel()}},Dz=(e,t,i,n)=>{const s=hbe(e,t);let r=0,o,a=l=>{o||(o=!0,n&&n(l))};return new ReadableStream({async pull(l){try{const{done:u,value:d}=await s.next();if(u){a(),l.close();return}let p=d.byteLength;if(i){let f=r+=p;i(f)}l.enqueue(new Uint8Array(d))}catch(u){throw a(u),u}},cancel(l){return a(l),s.return()}},{highWaterMark:2})},aM=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",F5=aM&&typeof ReadableStream=="function",fbe=aM&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),O5=(e,...t)=>{try{return!!e(...t)}catch{return!1}},gbe=F5&&O5(()=>{let e=!1;const t=new Request(Ks.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),Rz=64*1024,pA=F5&&O5(()=>me.isReadableStream(new Response("").body)),NS={stream:pA&&(e=>e.body)};aM&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!NS[t]&&(NS[t]=me.isFunction(e[t])?i=>i[t]():(i,n)=>{throw new Lt(`Response type '${t}' is not supported`,Lt.ERR_NOT_SUPPORT,n)})})})(new Response);const mbe=async e=>{if(e==null)return 0;if(me.isBlob(e))return e.size;if(me.isSpecCompliantForm(e))return(await new Request(Ks.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(me.isArrayBufferView(e)||me.isArrayBuffer(e))return e.byteLength;if(me.isURLSearchParams(e)&&(e=e+""),me.isString(e))return(await fbe(e)).byteLength},ybe=async(e,t)=>{const i=me.toFiniteNumber(e.getContentLength());return i??mbe(t)},vbe=aM&&(async e=>{let{url:t,method:i,data:n,signal:s,cancelToken:r,timeout:o,onDownloadProgress:a,onUploadProgress:l,responseType:u,headers:d,withCredentials:p="same-origin",fetchOptions:f}=P5(e);u=u?(u+"").toLowerCase():"text";let m=ube([s,r&&r.toAbortSignal()],o),y;const C=m&&m.unsubscribe&&(()=>{m.unsubscribe()});let w;try{if(l&&gbe&&i!=="get"&&i!=="head"&&(w=await ybe(d,n))!==0){let R=new Request(t,{method:"POST",body:n,duplex:"half"}),A;if(me.isFormData(n)&&(A=R.headers.get("content-type"))&&d.setContentType(A),R.body){const[k,F]=Sz(w,OS(xz(l)));n=Dz(R.body,Rz,k,F)}}me.isString(p)||(p=p?"include":"omit");const b="credentials"in Request.prototype;y=new Request(t,{...f,signal:m,method:i.toUpperCase(),headers:d.normalize().toJSON(),body:n,duplex:"half",credentials:b?p:void 0});let S=await fetch(y);const M=pA&&(u==="stream"||u==="response");if(pA&&(a||M&&C)){const R={};["status","statusText","headers"].forEach(P=>{R[P]=S[P]});const A=me.toFiniteNumber(S.headers.get("content-length")),[k,F]=a&&Sz(A,OS(xz(a),!0))||[];S=new Response(Dz(S.body,Rz,k,()=>{F&&F(),C&&C()}),R)}u=u||"text";let D=await NS[me.findKey(NS,u)||"text"](S,e);return!M&&C&&C(),await new Promise((R,A)=>{L5(R,A,{data:D,headers:Or.from(S.headers),status:S.status,statusText:S.statusText,config:e,request:y})})}catch(b){throw C&&C(),b&&b.name==="TypeError"&&/fetch/i.test(b.message)?Object.assign(new Lt("Network Error",Lt.ERR_NETWORK,e,y),{cause:b.cause||b}):Lt.from(b,b&&b.code,e,y)}}),fA={http:PCe,xhr:cbe,fetch:vbe};me.forEach(fA,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const Ez=e=>`- ${e}`,Cbe=e=>me.isFunction(e)||e===null||e===!1,N5={getAdapter:e=>{e=me.isArray(e)?e:[e];const{length:t}=e;let i,n;const s={};for(let r=0;r<t;r++){i=e[r];let o;if(n=i,!Cbe(i)&&(n=fA[(o=String(i)).toLowerCase()],n===void 0))throw new Lt(`Unknown adapter '${o}'`);if(n)break;s[o||"#"+r]=n}if(!n){const r=Object.entries(s).map(([a,l])=>`adapter ${a} `+(l===!1?"is not supported by the environment":"is not available in the build"));let o=t?r.length>1?`since :
`+r.map(Ez).join(`
`):" "+Ez(r[0]):"as no adapter specified";throw new Lt("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return n},adapters:fA};function m1(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Wg(null,e)}function Tz(e){return m1(e),e.headers=Or.from(e.headers),e.data=g1.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),N5.getAdapter(e.adapter||GC.adapter)(e).then(function(n){return m1(e),n.data=g1.call(e,e.transformResponse,n),n.headers=Or.from(n.headers),n},function(n){return I5(n)||(m1(e),n&&n.response&&(n.response.data=g1.call(e,e.transformResponse,n.response),n.response.headers=Or.from(n.response.headers))),Promise.reject(n)})}const B5="1.8.3",lM={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{lM[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const Az={};lM.transitional=function(t,i,n){function s(r,o){return"[Axios v"+B5+"] Transitional option '"+r+"'"+o+(n?". "+n:"")}return(r,o,a)=>{if(t===!1)throw new Lt(s(o," has been removed"+(i?" in "+i:"")),Lt.ERR_DEPRECATED);return i&&!Az[o]&&(Az[o]=!0,console.warn(s(o," has been deprecated since v"+i+" and will be removed in the near future"))),t?t(r,o,a):!0}};lM.spelling=function(t){return(i,n)=>(console.warn(`${n} is likely a misspelling of ${t}`),!0)};function bbe(e,t,i){if(typeof e!="object")throw new Lt("options must be an object",Lt.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let s=n.length;for(;s-- >0;){const r=n[s],o=t[r];if(o){const a=e[r],l=a===void 0||o(a,r,e);if(l!==!0)throw new Lt("option "+r+" must be "+l,Lt.ERR_BAD_OPTION_VALUE);continue}if(i!==!0)throw new Lt("Unknown option "+r,Lt.ERR_BAD_OPTION)}}const Gw={assertOptions:bbe,validators:lM},tl=Gw.validators;let _h=class{constructor(t){this.defaults=t,this.interceptors={request:new bz,response:new bz}}async request(t,i){try{return await this._request(t,i)}catch(n){if(n instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const r=s.stack?s.stack.replace(/^.+\n/,""):"";try{n.stack?r&&!String(n.stack).endsWith(r.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+r):n.stack=r}catch{}}throw n}}_request(t,i){typeof t=="string"?(i=i||{},i.url=t):i=t||{},i=ip(this.defaults,i);const{transitional:n,paramsSerializer:s,headers:r}=i;n!==void 0&&Gw.assertOptions(n,{silentJSONParsing:tl.transitional(tl.boolean),forcedJSONParsing:tl.transitional(tl.boolean),clarifyTimeoutError:tl.transitional(tl.boolean)},!1),s!=null&&(me.isFunction(s)?i.paramsSerializer={serialize:s}:Gw.assertOptions(s,{encode:tl.function,serialize:tl.function},!0)),i.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?i.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:i.allowAbsoluteUrls=!0),Gw.assertOptions(i,{baseUrl:tl.spelling("baseURL"),withXsrfToken:tl.spelling("withXSRFToken")},!0),i.method=(i.method||this.defaults.method||"get").toLowerCase();let o=r&&me.merge(r.common,r[i.method]);r&&me.forEach(["delete","get","head","post","put","patch","common"],y=>{delete r[y]}),i.headers=Or.concat(o,r);const a=[];let l=!0;this.interceptors.request.forEach(function(C){typeof C.runWhen=="function"&&C.runWhen(i)===!1||(l=l&&C.synchronous,a.unshift(C.fulfilled,C.rejected))});const u=[];this.interceptors.response.forEach(function(C){u.push(C.fulfilled,C.rejected)});let d,p=0,f;if(!l){const y=[Tz.bind(this),void 0];for(y.unshift.apply(y,a),y.push.apply(y,u),f=y.length,d=Promise.resolve(i);p<f;)d=d.then(y[p++],y[p++]);return d}f=a.length;let m=i;for(p=0;p<f;){const y=a[p++],C=a[p++];try{m=y(m)}catch(w){C.call(this,w);break}}try{d=Tz.call(this,m)}catch(y){return Promise.reject(y)}for(p=0,f=u.length;p<f;)d=d.then(u[p++],u[p++]);return d}getUri(t){t=ip(this.defaults,t);const i=k5(t.baseURL,t.url,t.allowAbsoluteUrls);return E5(i,t.params,t.paramsSerializer)}};me.forEach(["delete","get","head","options"],function(t){_h.prototype[t]=function(i,n){return this.request(ip(n||{},{method:t,url:i,data:(n||{}).data}))}});me.forEach(["post","put","patch"],function(t){function i(n){return function(r,o,a){return this.request(ip(a||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:r,data:o}))}}_h.prototype[t]=i(),_h.prototype[t+"Form"]=i(!0)});let wbe=class z5{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let i;this.promise=new Promise(function(r){i=r});const n=this;this.promise.then(s=>{if(!n._listeners)return;let r=n._listeners.length;for(;r-- >0;)n._listeners[r](s);n._listeners=null}),this.promise.then=s=>{let r;const o=new Promise(a=>{n.subscribe(a),r=a}).then(s);return o.cancel=function(){n.unsubscribe(r)},o},t(function(r,o,a){n.reason||(n.reason=new Wg(r,o,a),i(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const i=this._listeners.indexOf(t);i!==-1&&this._listeners.splice(i,1)}toAbortSignal(){const t=new AbortController,i=n=>{t.abort(n)};return this.subscribe(i),t.signal.unsubscribe=()=>this.unsubscribe(i),t.signal}static source(){let t;return{token:new z5(function(s){t=s}),cancel:t}}};function Sbe(e){return function(i){return e.apply(null,i)}}function xbe(e){return me.isObject(e)&&e.isAxiosError===!0}const gA={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(gA).forEach(([e,t])=>{gA[t]=e});function G5(e){const t=new _h(e),i=m5(_h.prototype.request,t);return me.extend(i,_h.prototype,t,{allOwnKeys:!0}),me.extend(i,t,null,{allOwnKeys:!0}),i.create=function(s){return G5(ip(e,s))},i}const ki=G5(GC);ki.Axios=_h;ki.CanceledError=Wg;ki.CancelToken=wbe;ki.isCancel=I5;ki.VERSION=B5;ki.toFormData=oM;ki.AxiosError=Lt;ki.Cancel=ki.CanceledError;ki.all=function(t){return Promise.all(t)};ki.spread=Sbe;ki.isAxiosError=xbe;ki.mergeConfig=ip;ki.AxiosHeaders=Or;ki.formToJSON=e=>A5(me.isHTMLForm(e)?new FormData(e):e);ki.getAdapter=N5.getAdapter;ki.HttpStatusCode=gA;ki.default=ki;const{Axios:_Le,AxiosError:jLe,CanceledError:VLe,isCancel:WLe,CancelToken:ULe,VERSION:$Le,all:YLe,Cancel:KLe,isAxiosError:qLe,spread:ZLe,toFormData:XLe,AxiosHeaders:QLe,HttpStatusCode:JLe,formToJSON:eke,getAdapter:tke,mergeConfig:ike}=ki;var Ug=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},np=typeof window>"u"||"Deno"in globalThis;function Fo(){}function Mbe(e,t){return typeof e=="function"?e(t):e}function mA(e){return typeof e=="number"&&e>=0&&e!==1/0}function H5(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Yf(e,t){return typeof e=="function"?e(t):e}function va(e,t){return typeof e=="function"?e(t):e}function Iz(e,t){const{type:i="all",exact:n,fetchStatus:s,predicate:r,queryKey:o,stale:a}=e;if(o){if(n){if(t.queryHash!==WL(o,t.options))return!1}else if(!Vv(t.queryKey,o))return!1}if(i!=="all"){const l=t.isActive();if(i==="active"&&!l||i==="inactive"&&l)return!1}return!(typeof a=="boolean"&&t.isStale()!==a||s&&s!==t.state.fetchStatus||r&&!r(t))}function Lz(e,t){const{exact:i,status:n,predicate:s,mutationKey:r}=e;if(r){if(!t.options.mutationKey)return!1;if(i){if(sp(t.options.mutationKey)!==sp(r))return!1}else if(!Vv(t.options.mutationKey,r))return!1}return!(n&&t.state.status!==n||s&&!s(t))}function WL(e,t){return((t==null?void 0:t.queryKeyHashFn)||sp)(e)}function sp(e){return JSON.stringify(e,(t,i)=>yA(i)?Object.keys(i).sort().reduce((n,s)=>(n[s]=i[s],n),{}):i)}function Vv(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(i=>!Vv(e[i],t[i])):!1}function _5(e,t){if(e===t)return e;const i=kz(e)&&kz(t);if(i||yA(e)&&yA(t)){const n=i?e:Object.keys(e),s=n.length,r=i?t:Object.keys(t),o=r.length,a=i?[]:{};let l=0;for(let u=0;u<o;u++){const d=i?u:r[u];(!i&&n.includes(d)||i)&&e[d]===void 0&&t[d]===void 0?(a[d]=void 0,l++):(a[d]=_5(e[d],t[d]),a[d]===e[d]&&e[d]!==void 0&&l++)}return s===o&&l===s?e:a}return t}function BS(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const i in e)if(e[i]!==t[i])return!1;return!0}function kz(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function yA(e){if(!Pz(e))return!1;const t=e.constructor;if(t===void 0)return!0;const i=t.prototype;return!(!Pz(i)||!i.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function Pz(e){return Object.prototype.toString.call(e)==="[object Object]"}function Dbe(e){return new Promise(t=>{setTimeout(t,e)})}function vA(e,t,i){return typeof i.structuralSharing=="function"?i.structuralSharing(e,t):i.structuralSharing!==!1?_5(e,t):t}function Rbe(e,t,i=0){const n=[...e,t];return i&&n.length>i?n.slice(1):n}function Ebe(e,t,i=0){const n=[t,...e];return i&&n.length>i?n.slice(0,-1):n}var UL=Symbol();function j5(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===UL?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var Mh,Fu,Jf,A4,Tbe=(A4=class extends Ug{constructor(){super();lt(this,Mh);lt(this,Fu);lt(this,Jf);We(this,Jf,t=>{if(!np&&window.addEventListener){const i=()=>t();return window.addEventListener("visibilitychange",i,!1),()=>{window.removeEventListener("visibilitychange",i)}}})}onSubscribe(){J(this,Fu)||this.setEventListener(J(this,Jf))}onUnsubscribe(){var t;this.hasListeners()||((t=J(this,Fu))==null||t.call(this),We(this,Fu,void 0))}setEventListener(t){var i;We(this,Jf,t),(i=J(this,Fu))==null||i.call(this),We(this,Fu,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){J(this,Mh)!==t&&(We(this,Mh,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(i=>{i(t)})}isFocused(){var t;return typeof J(this,Mh)=="boolean"?J(this,Mh):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Mh=new WeakMap,Fu=new WeakMap,Jf=new WeakMap,A4),$L=new Tbe,eg,Ou,tg,I4,Abe=(I4=class extends Ug{constructor(){super();lt(this,eg,!0);lt(this,Ou);lt(this,tg);We(this,tg,t=>{if(!np&&window.addEventListener){const i=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",i,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",i),window.removeEventListener("offline",n)}}})}onSubscribe(){J(this,Ou)||this.setEventListener(J(this,tg))}onUnsubscribe(){var t;this.hasListeners()||((t=J(this,Ou))==null||t.call(this),We(this,Ou,void 0))}setEventListener(t){var i;We(this,tg,t),(i=J(this,Ou))==null||i.call(this),We(this,Ou,t(this.setOnline.bind(this)))}setOnline(t){J(this,eg)!==t&&(We(this,eg,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return J(this,eg)}},eg=new WeakMap,Ou=new WeakMap,tg=new WeakMap,I4),zS=new Abe;function CA(){let e,t;const i=new Promise((s,r)=>{e=s,t=r});i.status="pending",i.catch(()=>{});function n(s){Object.assign(i,s),delete i.resolve,delete i.reject}return i.resolve=s=>{n({status:"fulfilled",value:s}),e(s)},i.reject=s=>{n({status:"rejected",reason:s}),t(s)},i}function Ibe(e){return Math.min(1e3*2**e,3e4)}function V5(e){return(e??"online")==="online"?zS.isOnline():!0}var W5=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function y1(e){return e instanceof W5}function U5(e){let t=!1,i=0,n=!1,s;const r=CA(),o=C=>{var w;n||(f(new W5(C)),(w=e.abort)==null||w.call(e))},a=()=>{t=!0},l=()=>{t=!1},u=()=>$L.isFocused()&&(e.networkMode==="always"||zS.isOnline())&&e.canRun(),d=()=>V5(e.networkMode)&&e.canRun(),p=C=>{var w;n||(n=!0,(w=e.onSuccess)==null||w.call(e,C),s==null||s(),r.resolve(C))},f=C=>{var w;n||(n=!0,(w=e.onError)==null||w.call(e,C),s==null||s(),r.reject(C))},m=()=>new Promise(C=>{var w;s=b=>{(n||u())&&C(b)},(w=e.onPause)==null||w.call(e)}).then(()=>{var C;s=void 0,n||(C=e.onContinue)==null||C.call(e)}),y=()=>{if(n)return;let C;const w=i===0?e.initialPromise:void 0;try{C=w??e.fn()}catch(b){C=Promise.reject(b)}Promise.resolve(C).then(p).catch(b=>{var A;if(n)return;const S=e.retry??(np?0:3),M=e.retryDelay??Ibe,D=typeof M=="function"?M(i,b):M,R=S===!0||typeof S=="number"&&i<S||typeof S=="function"&&S(i,b);if(t||!R){f(b);return}i++,(A=e.onFail)==null||A.call(e,i,b),Dbe(D).then(()=>u()?void 0:m()).then(()=>{t?f(b):y()})})};return{promise:r,cancel:o,continue:()=>(s==null||s(),r),cancelRetry:a,continueRetry:l,canStart:d,start:()=>(d()?y():m().then(y),r)}}function Lbe(){let e=[],t=0,i=a=>{a()},n=a=>{a()},s=a=>setTimeout(a,0);const r=a=>{t?e.push(a):s(()=>{i(a)})},o=()=>{const a=e;e=[],a.length&&s(()=>{n(()=>{a.forEach(l=>{i(l)})})})};return{batch:a=>{let l;t++;try{l=a()}finally{t--,t||o()}return l},batchCalls:a=>(...l)=>{r(()=>{a(...l)})},schedule:r,setNotifyFunction:a=>{i=a},setBatchNotifyFunction:a=>{n=a},setScheduler:a=>{s=a}}}var ts=Lbe(),Dh,L4,$5=(L4=class{constructor(){lt(this,Dh)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),mA(this.gcTime)&&We(this,Dh,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(np?1/0:5*60*1e3))}clearGcTimeout(){J(this,Dh)&&(clearTimeout(J(this,Dh)),We(this,Dh,void 0))}},Dh=new WeakMap,L4),ig,ng,ko,Rh,Us,fC,Eh,ga,uc,k4,kbe=(k4=class extends $5{constructor(t){super();lt(this,ga);lt(this,ig);lt(this,ng);lt(this,ko);lt(this,Rh);lt(this,Us);lt(this,fC);lt(this,Eh);We(this,Eh,!1),We(this,fC,t.defaultOptions),this.setOptions(t.options),this.observers=[],We(this,Rh,t.client),We(this,ko,J(this,Rh).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,We(this,ig,Pbe(this.options)),this.state=t.state??J(this,ig),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=J(this,Us))==null?void 0:t.promise}setOptions(t){this.options={...J(this,fC),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&J(this,ko).remove(this)}setData(t,i){const n=vA(this.state.data,t,this.options);return Bt(this,ga,uc).call(this,{data:n,type:"success",dataUpdatedAt:i==null?void 0:i.updatedAt,manual:i==null?void 0:i.manual}),n}setState(t,i){Bt(this,ga,uc).call(this,{type:"setState",state:t,setStateOptions:i})}cancel(t){var n,s;const i=(n=J(this,Us))==null?void 0:n.promise;return(s=J(this,Us))==null||s.cancel(t),i?i.then(Fo).catch(Fo):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(J(this,ig))}isActive(){return this.observers.some(t=>va(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===UL||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!H5(this.state.dataUpdatedAt,t)}onFocus(){var i;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(i=J(this,Us))==null||i.continue()}onOnline(){var i;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(i=J(this,Us))==null||i.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),J(this,ko).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(i=>i!==t),this.observers.length||(J(this,Us)&&(J(this,Eh)?J(this,Us).cancel({revert:!0}):J(this,Us).cancelRetry()),this.scheduleGc()),J(this,ko).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Bt(this,ga,uc).call(this,{type:"invalidate"})}fetch(t,i){var l,u,d;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(i!=null&&i.cancelRefetch))this.cancel({silent:!0});else if(J(this,Us))return J(this,Us).continueRetry(),J(this,Us).promise}if(t&&this.setOptions(t),!this.options.queryFn){const p=this.observers.find(f=>f.options.queryFn);p&&this.setOptions(p.options)}const n=new AbortController,s=p=>{Object.defineProperty(p,"signal",{enumerable:!0,get:()=>(We(this,Eh,!0),n.signal)})},r=()=>{const p=j5(this.options,i),f={client:J(this,Rh),queryKey:this.queryKey,meta:this.meta};return s(f),We(this,Eh,!1),this.options.persister?this.options.persister(p,f,this):p(f)},o={fetchOptions:i,options:this.options,queryKey:this.queryKey,client:J(this,Rh),state:this.state,fetchFn:r};s(o),(l=this.options.behavior)==null||l.onFetch(o,this),We(this,ng,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=o.fetchOptions)==null?void 0:u.meta))&&Bt(this,ga,uc).call(this,{type:"fetch",meta:(d=o.fetchOptions)==null?void 0:d.meta});const a=p=>{var f,m,y,C;y1(p)&&p.silent||Bt(this,ga,uc).call(this,{type:"error",error:p}),y1(p)||((m=(f=J(this,ko).config).onError)==null||m.call(f,p,this),(C=(y=J(this,ko).config).onSettled)==null||C.call(y,this.state.data,p,this)),this.scheduleGc()};return We(this,Us,U5({initialPromise:i==null?void 0:i.initialPromise,fn:o.fetchFn,abort:n.abort.bind(n),onSuccess:p=>{var f,m,y,C;if(p===void 0){a(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(p)}catch(w){a(w);return}(m=(f=J(this,ko).config).onSuccess)==null||m.call(f,p,this),(C=(y=J(this,ko).config).onSettled)==null||C.call(y,p,this.state.error,this),this.scheduleGc()},onError:a,onFail:(p,f)=>{Bt(this,ga,uc).call(this,{type:"failed",failureCount:p,error:f})},onPause:()=>{Bt(this,ga,uc).call(this,{type:"pause"})},onContinue:()=>{Bt(this,ga,uc).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0})),J(this,Us).start()}},ig=new WeakMap,ng=new WeakMap,ko=new WeakMap,Rh=new WeakMap,Us=new WeakMap,fC=new WeakMap,Eh=new WeakMap,ga=new WeakSet,uc=function(t){const i=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...Y5(n.data,this.options),fetchMeta:t.meta??null};case"success":return{...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=t.error;return y1(s)&&s.revert&&J(this,ng)?{...J(this,ng),fetchStatus:"idle"}:{...n,error:s,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=i(this.state),ts.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),J(this,ko).notify({query:this,type:"updated",action:t})})},k4);function Y5(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:V5(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function Pbe(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,i=t!==void 0,n=i?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:i?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:i?"success":"pending",fetchStatus:"idle"}}var ol,P4,Fbe=(P4=class extends Ug{constructor(t={}){super();lt(this,ol);this.config=t,We(this,ol,new Map)}build(t,i,n){const s=i.queryKey,r=i.queryHash??WL(s,i);let o=this.get(r);return o||(o=new kbe({client:t,queryKey:s,queryHash:r,options:t.defaultQueryOptions(i),state:n,defaultOptions:t.getQueryDefaults(s)}),this.add(o)),o}add(t){J(this,ol).has(t.queryHash)||(J(this,ol).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const i=J(this,ol).get(t.queryHash);i&&(t.destroy(),i===t&&J(this,ol).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){ts.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return J(this,ol).get(t)}getAll(){return[...J(this,ol).values()]}find(t){const i={exact:!0,...t};return this.getAll().find(n=>Iz(i,n))}findAll(t={}){const i=this.getAll();return Object.keys(t).length>0?i.filter(n=>Iz(t,n)):i}notify(t){ts.batch(()=>{this.listeners.forEach(i=>{i(t)})})}onFocus(){ts.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){ts.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},ol=new WeakMap,P4),al,rr,Th,ll,Eu,F4,Obe=(F4=class extends $5{constructor(t){super();lt(this,ll);lt(this,al);lt(this,rr);lt(this,Th);this.mutationId=t.mutationId,We(this,rr,t.mutationCache),We(this,al,[]),this.state=t.state||K5(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){J(this,al).includes(t)||(J(this,al).push(t),this.clearGcTimeout(),J(this,rr).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){We(this,al,J(this,al).filter(i=>i!==t)),this.scheduleGc(),J(this,rr).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){J(this,al).length||(this.state.status==="pending"?this.scheduleGc():J(this,rr).remove(this))}continue(){var t;return((t=J(this,Th))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var s,r,o,a,l,u,d,p,f,m,y,C,w,b,S,M,D,R,A,k;We(this,Th,U5({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(F,P)=>{Bt(this,ll,Eu).call(this,{type:"failed",failureCount:F,error:P})},onPause:()=>{Bt(this,ll,Eu).call(this,{type:"pause"})},onContinue:()=>{Bt(this,ll,Eu).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>J(this,rr).canRun(this)}));const i=this.state.status==="pending",n=!J(this,Th).canStart();try{if(!i){Bt(this,ll,Eu).call(this,{type:"pending",variables:t,isPaused:n}),await((r=(s=J(this,rr).config).onMutate)==null?void 0:r.call(s,t,this));const P=await((a=(o=this.options).onMutate)==null?void 0:a.call(o,t));P!==this.state.context&&Bt(this,ll,Eu).call(this,{type:"pending",context:P,variables:t,isPaused:n})}const F=await J(this,Th).start();return await((u=(l=J(this,rr).config).onSuccess)==null?void 0:u.call(l,F,t,this.state.context,this)),await((p=(d=this.options).onSuccess)==null?void 0:p.call(d,F,t,this.state.context)),await((m=(f=J(this,rr).config).onSettled)==null?void 0:m.call(f,F,null,this.state.variables,this.state.context,this)),await((C=(y=this.options).onSettled)==null?void 0:C.call(y,F,null,t,this.state.context)),Bt(this,ll,Eu).call(this,{type:"success",data:F}),F}catch(F){try{throw await((b=(w=J(this,rr).config).onError)==null?void 0:b.call(w,F,t,this.state.context,this)),await((M=(S=this.options).onError)==null?void 0:M.call(S,F,t,this.state.context)),await((R=(D=J(this,rr).config).onSettled)==null?void 0:R.call(D,void 0,F,this.state.variables,this.state.context,this)),await((k=(A=this.options).onSettled)==null?void 0:k.call(A,void 0,F,t,this.state.context)),F}finally{Bt(this,ll,Eu).call(this,{type:"error",error:F})}}finally{J(this,rr).runNext(this)}}},al=new WeakMap,rr=new WeakMap,Th=new WeakMap,ll=new WeakSet,Eu=function(t){const i=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=i(this.state),ts.batch(()=>{J(this,al).forEach(n=>{n.onMutationUpdate(t)}),J(this,rr).notify({mutation:this,type:"updated",action:t})})},F4);function K5(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var fc,ma,gC,O4,Nbe=(O4=class extends Ug{constructor(t={}){super();lt(this,fc);lt(this,ma);lt(this,gC);this.config=t,We(this,fc,new Set),We(this,ma,new Map),We(this,gC,0)}build(t,i,n){const s=new Obe({mutationCache:this,mutationId:++P0(this,gC)._,options:t.defaultMutationOptions(i),state:n});return this.add(s),s}add(t){J(this,fc).add(t);const i=iw(t);if(typeof i=="string"){const n=J(this,ma).get(i);n?n.push(t):J(this,ma).set(i,[t])}this.notify({type:"added",mutation:t})}remove(t){if(J(this,fc).delete(t)){const i=iw(t);if(typeof i=="string"){const n=J(this,ma).get(i);if(n)if(n.length>1){const s=n.indexOf(t);s!==-1&&n.splice(s,1)}else n[0]===t&&J(this,ma).delete(i)}}this.notify({type:"removed",mutation:t})}canRun(t){const i=iw(t);if(typeof i=="string"){const n=J(this,ma).get(i),s=n==null?void 0:n.find(r=>r.state.status==="pending");return!s||s===t}else return!0}runNext(t){var n;const i=iw(t);if(typeof i=="string"){const s=(n=J(this,ma).get(i))==null?void 0:n.find(r=>r!==t&&r.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){ts.batch(()=>{J(this,fc).forEach(t=>{this.notify({type:"removed",mutation:t})}),J(this,fc).clear(),J(this,ma).clear()})}getAll(){return Array.from(J(this,fc))}find(t){const i={exact:!0,...t};return this.getAll().find(n=>Lz(i,n))}findAll(t={}){return this.getAll().filter(i=>Lz(t,i))}notify(t){ts.batch(()=>{this.listeners.forEach(i=>{i(t)})})}resumePausedMutations(){const t=this.getAll().filter(i=>i.state.isPaused);return ts.batch(()=>Promise.all(t.map(i=>i.continue().catch(Fo))))}},fc=new WeakMap,ma=new WeakMap,gC=new WeakMap,O4);function iw(e){var t;return(t=e.options.scope)==null?void 0:t.id}function Fz(e){return{onFetch:(t,i)=>{var d,p,f,m,y;const n=t.options,s=(f=(p=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:p.fetchMore)==null?void 0:f.direction,r=((m=t.state.data)==null?void 0:m.pages)||[],o=((y=t.state.data)==null?void 0:y.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const u=async()=>{let C=!1;const w=M=>{Object.defineProperty(M,"signal",{enumerable:!0,get:()=>(t.signal.aborted?C=!0:t.signal.addEventListener("abort",()=>{C=!0}),t.signal)})},b=j5(t.options,t.fetchOptions),S=async(M,D,R)=>{if(C)return Promise.reject();if(D==null&&M.pages.length)return Promise.resolve(M);const A={client:t.client,queryKey:t.queryKey,pageParam:D,direction:R?"backward":"forward",meta:t.options.meta};w(A);const k=await b(A),{maxPages:F}=t.options,P=R?Ebe:Rbe;return{pages:P(M.pages,k,F),pageParams:P(M.pageParams,D,F)}};if(s&&r.length){const M=s==="backward",D=M?Bbe:Oz,R={pages:r,pageParams:o},A=D(n,R);a=await S(R,A,M)}else{const M=e??r.length;do{const D=l===0?o[0]??n.initialPageParam:Oz(n,a);if(l>0&&D==null)break;a=await S(a,D),l++}while(l<M)}return a};t.options.persister?t.fetchFn=()=>{var C,w;return(w=(C=t.options).persister)==null?void 0:w.call(C,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},i)}:t.fetchFn=u}}}function Oz(e,{pages:t,pageParams:i}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,i[n],i):void 0}function Bbe(e,{pages:t,pageParams:i}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,i[0],i):void 0}var En,Nu,Bu,sg,rg,zu,og,ag,N4,zbe=(N4=class{constructor(e={}){lt(this,En);lt(this,Nu);lt(this,Bu);lt(this,sg);lt(this,rg);lt(this,zu);lt(this,og);lt(this,ag);We(this,En,e.queryCache||new Fbe),We(this,Nu,e.mutationCache||new Nbe),We(this,Bu,e.defaultOptions||{}),We(this,sg,new Map),We(this,rg,new Map),We(this,zu,0)}mount(){P0(this,zu)._++,J(this,zu)===1&&(We(this,og,$L.subscribe(async e=>{e&&(await this.resumePausedMutations(),J(this,En).onFocus())})),We(this,ag,zS.subscribe(async e=>{e&&(await this.resumePausedMutations(),J(this,En).onOnline())})))}unmount(){var e,t;P0(this,zu)._--,J(this,zu)===0&&((e=J(this,og))==null||e.call(this),We(this,og,void 0),(t=J(this,ag))==null||t.call(this),We(this,ag,void 0))}isFetching(e){return J(this,En).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return J(this,Nu).findAll({...e,status:"pending"}).length}getQueryData(e){var i;const t=this.defaultQueryOptions({queryKey:e});return(i=J(this,En).get(t.queryHash))==null?void 0:i.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),i=J(this,En).build(this,t),n=i.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&i.isStaleByTime(Yf(t.staleTime,i))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return J(this,En).findAll(e).map(({queryKey:t,state:i})=>{const n=i.data;return[t,n]})}setQueryData(e,t,i){const n=this.defaultQueryOptions({queryKey:e}),s=J(this,En).get(n.queryHash),r=s==null?void 0:s.state.data,o=Mbe(t,r);if(o!==void 0)return J(this,En).build(this,n).setData(o,{...i,manual:!0})}setQueriesData(e,t,i){return ts.batch(()=>J(this,En).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,i)]))}getQueryState(e){var i;const t=this.defaultQueryOptions({queryKey:e});return(i=J(this,En).get(t.queryHash))==null?void 0:i.state}removeQueries(e){const t=J(this,En);ts.batch(()=>{t.findAll(e).forEach(i=>{t.remove(i)})})}resetQueries(e,t){const i=J(this,En);return ts.batch(()=>(i.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const i={revert:!0,...t},n=ts.batch(()=>J(this,En).findAll(e).map(s=>s.cancel(i)));return Promise.all(n).then(Fo).catch(Fo)}invalidateQueries(e,t={}){return ts.batch(()=>(J(this,En).findAll(e).forEach(i=>{i.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const i={...t,cancelRefetch:t.cancelRefetch??!0},n=ts.batch(()=>J(this,En).findAll(e).filter(s=>!s.isDisabled()).map(s=>{let r=s.fetch(void 0,i);return i.throwOnError||(r=r.catch(Fo)),s.state.fetchStatus==="paused"?Promise.resolve():r}));return Promise.all(n).then(Fo)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const i=J(this,En).build(this,t);return i.isStaleByTime(Yf(t.staleTime,i))?i.fetch(t):Promise.resolve(i.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Fo).catch(Fo)}fetchInfiniteQuery(e){return e.behavior=Fz(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Fo).catch(Fo)}ensureInfiniteQueryData(e){return e.behavior=Fz(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return zS.isOnline()?J(this,Nu).resumePausedMutations():Promise.resolve()}getQueryCache(){return J(this,En)}getMutationCache(){return J(this,Nu)}getDefaultOptions(){return J(this,Bu)}setDefaultOptions(e){We(this,Bu,e)}setQueryDefaults(e,t){J(this,sg).set(sp(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...J(this,sg).values()],i={};return t.forEach(n=>{Vv(e,n.queryKey)&&Object.assign(i,n.defaultOptions)}),i}setMutationDefaults(e,t){J(this,rg).set(sp(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...J(this,rg).values()],i={};return t.forEach(n=>{Vv(e,n.mutationKey)&&Object.assign(i,n.defaultOptions)}),i}defaultQueryOptions(e){if(e._defaulted)return e;const t={...J(this,Bu).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=WL(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===UL&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...J(this,Bu).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){J(this,En).clear(),J(this,Nu).clear()}},En=new WeakMap,Nu=new WeakMap,Bu=new WeakMap,sg=new WeakMap,rg=new WeakMap,zu=new WeakMap,og=new WeakMap,ag=new WeakMap,N4),Rr,Zt,mC,or,Ah,lg,Gu,cl,yC,cg,ug,Ih,Lh,Hu,dg,Si,jy,bA,wA,SA,xA,MA,DA,RA,q5,B4,Gbe=(B4=class extends Ug{constructor(t,i){super();lt(this,Si);lt(this,Rr);lt(this,Zt);lt(this,mC);lt(this,or);lt(this,Ah);lt(this,lg);lt(this,Gu);lt(this,cl);lt(this,yC);lt(this,cg);lt(this,ug);lt(this,Ih);lt(this,Lh);lt(this,Hu);lt(this,dg,new Set);this.options=i,We(this,Rr,t),We(this,cl,null),We(this,Gu,CA()),this.options.experimental_prefetchInRender||J(this,Gu).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(i)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(J(this,Zt).addObserver(this),Nz(J(this,Zt),this.options)?Bt(this,Si,jy).call(this):this.updateResult(),Bt(this,Si,xA).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return EA(J(this,Zt),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return EA(J(this,Zt),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Bt(this,Si,MA).call(this),Bt(this,Si,DA).call(this),J(this,Zt).removeObserver(this)}setOptions(t,i){const n=this.options,s=J(this,Zt);if(this.options=J(this,Rr).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof va(this.options.enabled,J(this,Zt))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Bt(this,Si,RA).call(this),J(this,Zt).setOptions(this.options),n._defaulted&&!BS(this.options,n)&&J(this,Rr).getQueryCache().notify({type:"observerOptionsUpdated",query:J(this,Zt),observer:this});const r=this.hasListeners();r&&Bz(J(this,Zt),s,this.options,n)&&Bt(this,Si,jy).call(this),this.updateResult(i),r&&(J(this,Zt)!==s||va(this.options.enabled,J(this,Zt))!==va(n.enabled,J(this,Zt))||Yf(this.options.staleTime,J(this,Zt))!==Yf(n.staleTime,J(this,Zt)))&&Bt(this,Si,bA).call(this);const o=Bt(this,Si,wA).call(this);r&&(J(this,Zt)!==s||va(this.options.enabled,J(this,Zt))!==va(n.enabled,J(this,Zt))||o!==J(this,Hu))&&Bt(this,Si,SA).call(this,o)}getOptimisticResult(t){const i=J(this,Rr).getQueryCache().build(J(this,Rr),t),n=this.createResult(i,t);return _be(this,n)&&(We(this,or,n),We(this,lg,this.options),We(this,Ah,J(this,Zt).state)),n}getCurrentResult(){return J(this,or)}trackResult(t,i){const n={};return Object.keys(t).forEach(s=>{Object.defineProperty(n,s,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(s),i==null||i(s),t[s])})}),n}trackProp(t){J(this,dg).add(t)}getCurrentQuery(){return J(this,Zt)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const i=J(this,Rr).defaultQueryOptions(t),n=J(this,Rr).getQueryCache().build(J(this,Rr),i);return n.fetch().then(()=>this.createResult(n,i))}fetch(t){return Bt(this,Si,jy).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),J(this,or)))}createResult(t,i){var F;const n=J(this,Zt),s=this.options,r=J(this,or),o=J(this,Ah),a=J(this,lg),u=t!==n?t.state:J(this,mC),{state:d}=t;let p={...d},f=!1,m;if(i._optimisticResults){const P=this.hasListeners(),L=!P&&Nz(t,i),z=P&&Bz(t,n,i,s);(L||z)&&(p={...p,...Y5(d.data,t.options)}),i._optimisticResults==="isRestoring"&&(p.fetchStatus="idle")}let{error:y,errorUpdatedAt:C,status:w}=p;if(i.select&&p.data!==void 0)if(r&&p.data===(o==null?void 0:o.data)&&i.select===J(this,yC))m=J(this,cg);else try{We(this,yC,i.select),m=i.select(p.data),m=vA(r==null?void 0:r.data,m,i),We(this,cg,m),We(this,cl,null)}catch(P){We(this,cl,P)}else m=p.data;if(i.placeholderData!==void 0&&m===void 0&&w==="pending"){let P;if(r!=null&&r.isPlaceholderData&&i.placeholderData===(a==null?void 0:a.placeholderData))P=r.data;else if(P=typeof i.placeholderData=="function"?i.placeholderData((F=J(this,ug))==null?void 0:F.state.data,J(this,ug)):i.placeholderData,i.select&&P!==void 0)try{P=i.select(P),We(this,cl,null)}catch(L){We(this,cl,L)}P!==void 0&&(w="success",m=vA(r==null?void 0:r.data,P,i),f=!0)}J(this,cl)&&(y=J(this,cl),m=J(this,cg),C=Date.now(),w="error");const b=p.fetchStatus==="fetching",S=w==="pending",M=w==="error",D=S&&b,R=m!==void 0,k={status:w,fetchStatus:p.fetchStatus,isPending:S,isSuccess:w==="success",isError:M,isInitialLoading:D,isLoading:D,data:m,dataUpdatedAt:p.dataUpdatedAt,error:y,errorUpdatedAt:C,failureCount:p.fetchFailureCount,failureReason:p.fetchFailureReason,errorUpdateCount:p.errorUpdateCount,isFetched:p.dataUpdateCount>0||p.errorUpdateCount>0,isFetchedAfterMount:p.dataUpdateCount>u.dataUpdateCount||p.errorUpdateCount>u.errorUpdateCount,isFetching:b,isRefetching:b&&!S,isLoadingError:M&&!R,isPaused:p.fetchStatus==="paused",isPlaceholderData:f,isRefetchError:M&&R,isStale:YL(t,i),refetch:this.refetch,promise:J(this,Gu)};if(this.options.experimental_prefetchInRender){const P=H=>{k.status==="error"?H.reject(k.error):k.data!==void 0&&H.resolve(k.data)},L=()=>{const H=We(this,Gu,k.promise=CA());P(H)},z=J(this,Gu);switch(z.status){case"pending":t.queryHash===n.queryHash&&P(z);break;case"fulfilled":(k.status==="error"||k.data!==z.value)&&L();break;case"rejected":(k.status!=="error"||k.error!==z.reason)&&L();break}}return k}updateResult(t){const i=J(this,or),n=this.createResult(J(this,Zt),this.options);if(We(this,Ah,J(this,Zt).state),We(this,lg,this.options),J(this,Ah).data!==void 0&&We(this,ug,J(this,Zt)),BS(n,i))return;We(this,or,n);const s={},r=()=>{if(!i)return!0;const{notifyOnChangeProps:o}=this.options,a=typeof o=="function"?o():o;if(a==="all"||!a&&!J(this,dg).size)return!0;const l=new Set(a??J(this,dg));return this.options.throwOnError&&l.add("error"),Object.keys(J(this,or)).some(u=>{const d=u;return J(this,or)[d]!==i[d]&&l.has(d)})};(t==null?void 0:t.listeners)!==!1&&r()&&(s.listeners=!0),Bt(this,Si,q5).call(this,{...s,...t})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Bt(this,Si,xA).call(this)}},Rr=new WeakMap,Zt=new WeakMap,mC=new WeakMap,or=new WeakMap,Ah=new WeakMap,lg=new WeakMap,Gu=new WeakMap,cl=new WeakMap,yC=new WeakMap,cg=new WeakMap,ug=new WeakMap,Ih=new WeakMap,Lh=new WeakMap,Hu=new WeakMap,dg=new WeakMap,Si=new WeakSet,jy=function(t){Bt(this,Si,RA).call(this);let i=J(this,Zt).fetch(this.options,t);return t!=null&&t.throwOnError||(i=i.catch(Fo)),i},bA=function(){Bt(this,Si,MA).call(this);const t=Yf(this.options.staleTime,J(this,Zt));if(np||J(this,or).isStale||!mA(t))return;const n=H5(J(this,or).dataUpdatedAt,t)+1;We(this,Ih,setTimeout(()=>{J(this,or).isStale||this.updateResult()},n))},wA=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(J(this,Zt)):this.options.refetchInterval)??!1},SA=function(t){Bt(this,Si,DA).call(this),We(this,Hu,t),!(np||va(this.options.enabled,J(this,Zt))===!1||!mA(J(this,Hu))||J(this,Hu)===0)&&We(this,Lh,setInterval(()=>{(this.options.refetchIntervalInBackground||$L.isFocused())&&Bt(this,Si,jy).call(this)},J(this,Hu)))},xA=function(){Bt(this,Si,bA).call(this),Bt(this,Si,SA).call(this,Bt(this,Si,wA).call(this))},MA=function(){J(this,Ih)&&(clearTimeout(J(this,Ih)),We(this,Ih,void 0))},DA=function(){J(this,Lh)&&(clearInterval(J(this,Lh)),We(this,Lh,void 0))},RA=function(){const t=J(this,Rr).getQueryCache().build(J(this,Rr),this.options);if(t===J(this,Zt))return;const i=J(this,Zt);We(this,Zt,t),We(this,mC,t.state),this.hasListeners()&&(i==null||i.removeObserver(this),t.addObserver(this))},q5=function(t){ts.batch(()=>{t.listeners&&this.listeners.forEach(i=>{i(J(this,or))}),J(this,Rr).getQueryCache().notify({query:J(this,Zt),type:"observerResultsUpdated"})})},B4);function Hbe(e,t){return va(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function Nz(e,t){return Hbe(e,t)||e.state.data!==void 0&&EA(e,t,t.refetchOnMount)}function EA(e,t,i){if(va(t.enabled,e)!==!1){const n=typeof i=="function"?i(e):i;return n==="always"||n!==!1&&YL(e,t)}return!1}function Bz(e,t,i,n){return(e!==t||va(n.enabled,e)===!1)&&(!i.suspense||e.state.status!=="error")&&YL(e,i)}function YL(e,t){return va(t.enabled,e)!==!1&&e.isStaleByTime(Yf(t.staleTime,e))}function _be(e,t){return!BS(e.getCurrentResult(),t)}var _u,ju,Er,gc,Tc,Hw,TA,z4,jbe=(z4=class extends Ug{constructor(i,n){super();lt(this,Tc);lt(this,_u);lt(this,ju);lt(this,Er);lt(this,gc);We(this,_u,i),this.setOptions(n),this.bindMethods(),Bt(this,Tc,Hw).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(i){var s;const n=this.options;this.options=J(this,_u).defaultMutationOptions(i),BS(this.options,n)||J(this,_u).getMutationCache().notify({type:"observerOptionsUpdated",mutation:J(this,Er),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&sp(n.mutationKey)!==sp(this.options.mutationKey)?this.reset():((s=J(this,Er))==null?void 0:s.state.status)==="pending"&&J(this,Er).setOptions(this.options)}onUnsubscribe(){var i;this.hasListeners()||(i=J(this,Er))==null||i.removeObserver(this)}onMutationUpdate(i){Bt(this,Tc,Hw).call(this),Bt(this,Tc,TA).call(this,i)}getCurrentResult(){return J(this,ju)}reset(){var i;(i=J(this,Er))==null||i.removeObserver(this),We(this,Er,void 0),Bt(this,Tc,Hw).call(this),Bt(this,Tc,TA).call(this)}mutate(i,n){var s;return We(this,gc,n),(s=J(this,Er))==null||s.removeObserver(this),We(this,Er,J(this,_u).getMutationCache().build(J(this,_u),this.options)),J(this,Er).addObserver(this),J(this,Er).execute(i)}},_u=new WeakMap,ju=new WeakMap,Er=new WeakMap,gc=new WeakMap,Tc=new WeakSet,Hw=function(){var n;const i=((n=J(this,Er))==null?void 0:n.state)??K5();We(this,ju,{...i,isPending:i.status==="pending",isSuccess:i.status==="success",isError:i.status==="error",isIdle:i.status==="idle",mutate:this.mutate,reset:this.reset})},TA=function(i){ts.batch(()=>{var n,s,r,o,a,l,u,d;if(J(this,gc)&&this.hasListeners()){const p=J(this,ju).variables,f=J(this,ju).context;(i==null?void 0:i.type)==="success"?((s=(n=J(this,gc)).onSuccess)==null||s.call(n,i.data,p,f),(o=(r=J(this,gc)).onSettled)==null||o.call(r,i.data,null,p,f)):(i==null?void 0:i.type)==="error"&&((l=(a=J(this,gc)).onError)==null||l.call(a,i.error,p,f),(d=(u=J(this,gc)).onSettled)==null||d.call(u,void 0,i.error,p,f))}this.listeners.forEach(p=>{p(J(this,ju))})})},z4),Z5=E.createContext(void 0),KL=e=>{const t=E.useContext(Z5);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},Vbe=({client:e,children:t})=>(E.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),B.jsx(Z5.Provider,{value:e,children:t})),X5=E.createContext(!1),Wbe=()=>E.useContext(X5);X5.Provider;function Ube(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var $be=E.createContext(Ube()),Ybe=()=>E.useContext($be);function Q5(e,t){return typeof e=="function"?e(...t):!!e}function AA(){}var Kbe=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},qbe=e=>{E.useEffect(()=>{e.clearReset()},[e])},Zbe=({result:e,errorResetBoundary:t,throwOnError:i,query:n,suspense:s})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&(s&&e.data===void 0||Q5(i,[e.error,n])),Xbe=e=>{const t=e.staleTime;e.suspense&&(e.staleTime=typeof t=="function"?(...i)=>Math.max(t(...i),1e3):Math.max(t??1e3,1e3),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3)))},Qbe=(e,t)=>e.isLoading&&e.isFetching&&!t,Jbe=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,zz=(e,t,i)=>t.fetchOptimistic(e).catch(()=>{i.clearReset()});function e0e(e,t,i){var p,f,m,y,C;const n=KL(),s=Wbe(),r=Ybe(),o=n.defaultQueryOptions(e);(f=(p=n.getDefaultOptions().queries)==null?void 0:p._experimental_beforeQuery)==null||f.call(p,o),o._optimisticResults=s?"isRestoring":"optimistic",Xbe(o),Kbe(o,r),qbe(r);const a=!n.getQueryCache().get(o.queryHash),[l]=E.useState(()=>new t(n,o)),u=l.getOptimisticResult(o),d=!s&&e.subscribed!==!1;if(E.useSyncExternalStore(E.useCallback(w=>{const b=d?l.subscribe(ts.batchCalls(w)):AA;return l.updateResult(),b},[l,d]),()=>l.getCurrentResult(),()=>l.getCurrentResult()),E.useEffect(()=>{l.setOptions(o,{listeners:!1})},[o,l]),Jbe(o,u))throw zz(o,l,r);if(Zbe({result:u,errorResetBoundary:r,throwOnError:o.throwOnError,query:n.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw u.error;if((y=(m=n.getDefaultOptions().queries)==null?void 0:m._experimental_afterQuery)==null||y.call(m,o,u),o.experimental_prefetchInRender&&!np&&Qbe(u,s)){const w=a?zz(o,l,r):(C=n.getQueryCache().get(o.queryHash))==null?void 0:C.promise;w==null||w.catch(AA).finally(()=>{l.updateResult()})}return o.notifyOnChangeProps?u:l.trackResult(u)}function HC(e,t){return e0e(e,Gbe)}function cv(e,t){const i=KL(),[n]=E.useState(()=>new jbe(i,e));E.useEffect(()=>{n.setOptions(e)},[n,e]);const s=E.useSyncExternalStore(E.useCallback(o=>n.subscribe(ts.batchCalls(o)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),r=E.useCallback((o,a)=>{n.mutate(o,a).catch(AA)},[n]);if(s.error&&Q5(n.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:r,mutateAsync:s.mutate}}const fd="https://masagutovalmaz.space/api",t0e=ki.create({baseURL:fd}),i0e=async()=>{const{data:e}=await t0e.get("/auth/me",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});return e},n0e=()=>HC({queryKey:["me"],queryFn:i0e});qoe.registerModules([Hve]);function s0e(){const e=Nc(),t=y_(e.breakpoints.down("md")),[i,n]=E.useState(!1),s=pp(),[r,o]=E.useState(null),{data:a,isLoading:l,isError:u}=n0e();return E.useEffect(()=>{!localStorage.getItem("token")&&!window.location.pathname.includes("/login")&&s("/login")},[]),E.useEffect(()=>{a&&o(a)},[a]),l?B.jsx(Yt,{sx:{padding:"10px 20px"},children:B.jsx(pt,{variant:"h6",children:"Загрузка..."})}):u||!a?B.jsx(Yt,{sx:{padding:"10px 20px"},children:B.jsx(pt,{variant:"h6",color:"error",children:"Ошибка загрузки данных пользователя"})}):B.jsxs(B.Fragment,{children:[B.jsx(Tse,{user:r}),t&&B.jsx(Yt,{sx:{position:"fixed",left:0,backgroundColor:"background.paper",borderTopRightRadius:8,borderBottomRightRadius:8,boxShadow:2,zIndex:1100},children:B.jsx(nJ,{onClick:()=>n(!0),size:"small",children:B.jsx(Wve,{})})}),B.jsxs(Yt,{sx:{mt:{xs:0,md:4},display:"grid",gridTemplateColumns:{xs:"1fr",md:"250px 1fr"},gap:3},children:[B.jsx(Kve,{isOpen:i,onClose:()=>n(!1),user:r}),B.jsx(aK,{})]})]})}var Xs=fe.createContext({}),_C=(e,t,i,n)=>{if(!e||e.componentFromFramework||t.isDestroyed())return;const r=e.newAgStackInstance();let o,a,l=!1;return r.then(u=>{if(l){t.destroyBean(u);return}o=u,a=o.getGui(),i.appendChild(a),Gz(n,o)}),()=>{var u;l=!0,o&&((u=a==null?void 0:a.parentElement)==null||u.removeChild(a),t.destroyBean(o),n&&Gz(n,void 0))}},Gz=(e,t)=>{if(e)if(e instanceof Function)e(t);else{const i=e;i.current=t}},Bo=(...e)=>e.filter(i=>i!=null&&i!=="").join(" "),jo=class J5{constructor(...t){this.classesMap={},t.forEach(i=>{this.classesMap[i]=!0})}setClass(t,i){if(!!this.classesMap[t]==i)return this;const s=new J5;return s.classesMap={...this.classesMap},s.classesMap[t]=i,s}toString(){return Object.keys(this.classesMap).filter(i=>this.classesMap[i]).join(" ")}},$g=e=>{const t=()=>typeof Symbol=="function"&&Symbol.for,i=()=>t()?Symbol.for("react.memo"):60115;return typeof e=="function"&&!(e.prototype&&e.prototype.isReactComponent)||typeof e=="object"&&e.$$typeof===i()},G4,IA=(G4=fe.version)==null?void 0:G4.split(".")[0],r0e=IA==="16"||IA==="17";function o0e(){return IA==="19"}var _w=!1;function a0e(e){return _w||setTimeout(()=>_w=!1,0),_w=!0,e()}var GS=(e,t)=>{!r0e&&e&&!_w?Ny.flushSync(t):t()};function HS(e,t,i){if(t==null||e==null)return t;if(e===t||t.length===0&&e.length===0)return e;if(i||e.length===0&&t.length>0||e.length>0&&t.length===0)return t;const n=[],s=[],r=new Map,o=new Map;for(let a=0;a<t.length;a++){const l=t[a];o.set(l.instanceId,l)}for(let a=0;a<e.length;a++){const l=e[a];r.set(l.instanceId,l),o.has(l.instanceId)&&n.push(l)}for(let a=0;a<t.length;a++){const l=t[a],u=l.instanceId;r.has(u)||s.push(l)}return n.length===e.length&&s.length===0?e:n.length===0&&s.length===t.length?t:n.length===0?s:s.length===0?n:[...n,...s]}var eW=E.forwardRef((e,t)=>{var Z;const{registry:i,context:n}=E.useContext(Xs),s=E.useRef(null),r=E.useRef(null),o=E.useRef(null),a=E.useRef(null),l=E.useRef(null),u=E.useRef(),[d,p]=E.useState(),[f,m]=E.useState(),[y,C]=E.useState(),[w,b]=E.useState(()=>new jo),[S,M]=E.useState(()=>new jo("ag-hidden")),[D,R]=E.useState(()=>new jo("ag-hidden")),[A,k]=E.useState(()=>new jo("ag-invisible"));E.useImperativeHandle(t,()=>({refresh(){return!1}})),E.useLayoutEffect(()=>_C(d,n,r.current),[d]);const F=E.useCallback(W=>{if(s.current=W,!W){u.current=n.destroyBean(u.current);return}const Y={setInnerRenderer:(U,te)=>{p(U),C(te)},setChildCount:U=>m(U),addOrRemoveCssClass:(U,te)=>b(ee=>ee.setClass(U,te)),setContractedDisplayed:U=>R(te=>te.setClass("ag-hidden",!U)),setExpandedDisplayed:U=>M(te=>te.setClass("ag-hidden",!U)),setCheckboxVisible:U=>k(te=>te.setClass("ag-invisible",!U))},G=i.createDynamicBean("groupCellRendererCtrl",!0);G&&(u.current=n.createBean(G),u.current.init(Y,W,o.current,a.current,l.current,eW,e))},[]),P=E.useMemo(()=>`ag-cell-wrapper ${w.toString()}`,[w]),L=E.useMemo(()=>`ag-group-expanded ${S.toString()}`,[S]),z=E.useMemo(()=>`ag-group-contracted ${D.toString()}`,[D]),H=E.useMemo(()=>`ag-group-checkbox ${A.toString()}`,[A]),V=d&&d.componentFromFramework,q=V?d.componentClass:void 0,K=d==null&&y!=null,j=xc(y,!0);return fe.createElement("span",{className:P,ref:F,...e.colDef?{}:{role:(Z=u.current)==null?void 0:Z.getCellAriaRole()}},fe.createElement("span",{className:L,ref:a}),fe.createElement("span",{className:z,ref:l}),fe.createElement("span",{className:H,ref:o}),fe.createElement("span",{className:"ag-group-value",ref:r},K&&fe.createElement(fe.Fragment,null,j),V&&fe.createElement(q,{...d.params})),fe.createElement("span",{className:"ag-group-child-count"},f))}),Hz=eW,qL=E.createContext({setMethods:()=>{}}),l0e=e=>{const{initialProps:t,addUpdateCallback:i,CustomComponentClass:n,setMethods:s}=e,[{key:r,...o},a]=E.useState(t);return E.useEffect(()=>{i(l=>a(l))},[]),fe.createElement(qL.Provider,{value:{setMethods:s}},fe.createElement(n,{key:r,...o}))},c0e=E.memo(l0e),u0e=0;function _z(){return`agPortalKey_${++u0e}`}var tW=class{constructor(e,t,i,n){this.portal=null,this.oldPortal=null,this.reactComponent=e,this.portalManager=t,this.componentType=i,this.suppressFallbackMethods=!!n,this.statelessComponent=this.isStateless(this.reactComponent),this.key=_z(),this.portalKey=_z(),this.instanceCreated=this.isStatelessComponent()?$i.resolve(!1):new $i(s=>{this.resolveInstanceCreated=s})}getGui(){return this.eParentElement}getRootElement(){return this.eParentElement.firstChild}destroy(){this.componentInstance&&typeof this.componentInstance.destroy=="function"&&this.componentInstance.destroy();const e=this.portal;e&&this.portalManager.destroyPortal(e)}createParentElement(e){const t=this.portalManager.getComponentWrappingElement(),i=document.createElement(t||"div");return i.classList.add("ag-react-container"),e.reactContainer=i,i}statelessComponentRendered(){return this.eParentElement.childElementCount>0||this.eParentElement.childNodes.length>0}getFrameworkComponentInstance(){return this.componentInstance}isStatelessComponent(){return this.statelessComponent}getReactComponentName(){return this.reactComponent.name}getMemoType(){return this.hasSymbol()?Symbol.for("react.memo"):60115}hasSymbol(){return typeof Symbol=="function"&&Symbol.for}isStateless(e){return typeof e=="function"&&!(e.prototype&&e.prototype.isReactComponent)||typeof e=="object"&&e.$$typeof===this.getMemoType()}hasMethod(e){const t=this.getFrameworkComponentInstance();return!!t&&t[e]!=null||this.fallbackMethodAvailable(e)}callMethod(e,t){const i=this.getFrameworkComponentInstance();if(this.isStatelessComponent())return this.fallbackMethod(e,t&&t[0]?t[0]:{});if(!i){setTimeout(()=>this.callMethod(e,t));return}const n=i[e];if(n)return n.apply(i,t);if(this.fallbackMethodAvailable(e))return this.fallbackMethod(e,t&&t[0]?t[0]:{})}addMethod(e,t){this[e]=t}init(e){return this.eParentElement=this.createParentElement(e),this.createOrUpdatePortal(e),new $i(t=>this.createReactComponent(t))}createOrUpdatePortal(e){this.isStatelessComponent()||(this.ref=t=>{var i;this.componentInstance=t,(i=this.resolveInstanceCreated)==null||i.call(this,!0),this.resolveInstanceCreated=void 0},e.ref=this.ref),this.reactElement=this.createElement(this.reactComponent,{...e,key:this.key}),this.portal=wC.createPortal(this.reactElement,this.eParentElement,this.portalKey)}createElement(e,t){return E.createElement(e,t)}createReactComponent(e){this.portalManager.mountReactPortal(this.portal,this,e)}rendered(){return this.isStatelessComponent()&&this.statelessComponentRendered()||!!(!this.isStatelessComponent()&&this.getFrameworkComponentInstance())}refreshComponent(e){this.oldPortal=this.portal,this.createOrUpdatePortal(e),this.portalManager.updateReactPortal(this.oldPortal,this.portal)}fallbackMethod(e,t){const i=this[`${e}Component`];if(!this.suppressFallbackMethods&&i)return i.bind(this)(t)}fallbackMethodAvailable(e){return this.suppressFallbackMethods?!1:!!this[`${e}Component`]}};function ZL(e,t,i){e.forEach(n=>{const s=t[n];s&&(i[n]=s)})}var Ha=class extends tW{constructor(){super(...arguments),this.awaitUpdateCallback=new $i(e=>{this.resolveUpdateCallback=e}),this.wrapperComponent=c0e}init(e){return this.sourceParams=e,super.init(this.getProps())}addMethod(){}getInstance(){return this.instanceCreated.then(()=>this.componentInstance)}getFrameworkComponentInstance(){return this}createElement(e,t){return super.createElement(this.wrapperComponent,{initialProps:t,CustomComponentClass:e,setMethods:i=>this.setMethods(i),addUpdateCallback:i=>{this.updateCallback=()=>(i(this.getProps()),new $i(n=>{setTimeout(()=>{n()})})),this.resolveUpdateCallback()}})}setMethods(e){this.providedMethods=e,ZL(this.getOptionalMethods(),this.providedMethods,this)}getOptionalMethods(){return[]}getProps(){return{...this.sourceParams,key:this.key,ref:this.ref}}refreshProps(){return this.updateCallback?this.updateCallback():new $i(e=>this.awaitUpdateCallback.then(()=>{this.updateCallback().then(()=>e())}))}},d0e=class extends Ha{refresh(e){return this.sourceParams=e,this.refreshProps(),!0}},h0e=class extends Ha{constructor(){super(...arguments),this.date=null,this.onDateChange=e=>this.updateDate(e)}getDate(){return this.date}setDate(e){this.date=e,this.refreshProps()}refresh(e){this.sourceParams=e,this.refreshProps()}getOptionalMethods(){return["afterGuiAttached","setInputPlaceholder","setInputAriaLabel","setDisabled"]}updateDate(e){this.setDate(e),this.sourceParams.onDateChanged()}getProps(){const e=super.getProps();return e.date=this.date,e.onDateChange=this.onDateChange,delete e.onDateChanged,e}},p0e=class extends Ha{constructor(){super(...arguments),this.label="",this.icon=null,this.shake=!1}setIcon(e,t){this.icon=e,this.shake=t,this.refreshProps()}setLabel(e){this.label=e,this.refreshProps()}getProps(){const e=super.getProps(),{label:t,icon:i,shake:n}=this;return e.label=t,e.icon=i,e.shake=n,e}},f0e=class extends Ha{constructor(){super(...arguments),this.model=null,this.onModelChange=e=>this.updateModel(e),this.onUiChange=()=>this.sourceParams.filterModifiedCallback(),this.expectingNewMethods=!0,this.hasBeenActive=!1,this.awaitSetMethodsCallback=new $i(e=>{this.resolveSetMethodsCallback=e})}isFilterActive(){return this.model!=null}doesFilterPass(e){return this.providedMethods.doesFilterPass(e)}getModel(){return this.model}setModel(e){return this.expectingNewMethods=!0,this.model=e,this.hasBeenActive||(this.hasBeenActive=this.isFilterActive()),this.refreshProps()}refresh(e){return this.sourceParams=e,this.refreshProps(),!0}afterGuiAttached(e){var i;const t=this.providedMethods;t?(i=t.afterGuiAttached)==null||i.call(t,e):this.awaitSetMethodsCallback.then(()=>{var n,s;return(s=(n=this.providedMethods)==null?void 0:n.afterGuiAttached)==null?void 0:s.call(n,e)})}getOptionalMethods(){return["afterGuiAttached","afterGuiDetached","onNewRowsLoaded","getModelAsString","onAnyFilterChanged"]}setMethods(e){var t;this.expectingNewMethods===!1&&this.hasBeenActive&&((t=this.providedMethods)==null?void 0:t.doesFilterPass)!==(e==null?void 0:e.doesFilterPass)&&setTimeout(()=>{this.sourceParams.filterChangedCallback()}),this.expectingNewMethods=!1,super.setMethods(e),this.resolveSetMethodsCallback()}updateModel(e){this.setModel(e).then(()=>this.sourceParams.filterChangedCallback())}getProps(){const e=super.getProps();return e.model=this.model,e.onModelChange=this.onModelChange,e.onUiChange=this.onUiChange,delete e.filterChangedCallback,delete e.filterModifiedCallback,e}};function iW(e,t){e.parentFilterInstance(i=>{(i.setModel(t)||$i.resolve()).then(()=>{e.filterParams.filterChangedCallback()})})}var g0e=class{constructor(e,t){this.floatingFilterParams=e,this.refreshProps=t,this.model=null,this.onModelChange=i=>this.updateModel(i)}getProps(){return{...this.floatingFilterParams,model:this.model,onModelChange:this.onModelChange}}onParentModelChanged(e){this.model=e,this.refreshProps()}refresh(e){this.floatingFilterParams=e,this.refreshProps()}setMethods(e){ZL(this.getOptionalMethods(),e,this)}getOptionalMethods(){return["afterGuiAttached"]}updateModel(e){this.model=e,this.refreshProps(),iW(this.floatingFilterParams,e)}},m0e=class extends Ha{constructor(){super(...arguments),this.model=null,this.onModelChange=e=>this.updateModel(e)}onParentModelChanged(e){this.model=e,this.refreshProps()}refresh(e){this.sourceParams=e,this.refreshProps()}getOptionalMethods(){return["afterGuiAttached"]}updateModel(e){this.model=e,this.refreshProps(),iW(this.sourceParams,e)}getProps(){const e=super.getProps();return e.model=this.model,e.onModelChange=this.onModelChange,e}},y0e=class extends Ha{refresh(e){return this.sourceParams=e,this.refreshProps(),!0}},v0e=class extends Ha{refresh(e){this.sourceParams=e,this.refreshProps()}},C0e=class extends Ha{constructor(){super(...arguments),this.active=!1,this.expanded=!1,this.onActiveChange=e=>this.updateActive(e)}setActive(e){this.awaitSetActive(e)}setExpanded(e){this.expanded=e,this.refreshProps()}getOptionalMethods(){return["select","configureDefaults"]}awaitSetActive(e){return this.active=e,this.refreshProps()}updateActive(e){const t=this.awaitSetActive(e);e&&t.then(()=>this.sourceParams.onItemActivated())}getProps(){const e=super.getProps();return e.active=this.active,e.expanded=this.expanded,e.onActiveChange=this.onActiveChange,delete e.onItemActivated,e}},b0e=class extends Ha{refresh(e){this.sourceParams=e,this.refreshProps()}},w0e=class extends Ha{refresh(e){return this.sourceParams=e,this.refreshProps(),!0}},S0e=class extends Ha{constructor(){super(...arguments),this.onStateChange=e=>this.updateState(e)}refresh(e){return this.sourceParams=e,this.refreshProps(),!0}getState(){return this.state}updateState(e){this.state=e,this.refreshProps(),this.sourceParams.onStateUpdated()}getProps(){const e=super.getProps();return e.state=this.state,e.onStateChange=this.onStateChange,e}};function XL(){Ae(231)}var x0e=1e3,M0e=class{constructor(e,t,i){this.destroyed=!1,this.portals=[],this.hasPendingPortalUpdate=!1,this.wrappingElement=t||"div",this.refresher=e,this.maxComponentCreationTimeMs=i||x0e}getPortals(){return this.portals}destroy(){this.destroyed=!0}destroyPortal(e){this.portals=this.portals.filter(t=>t!==e),this.batchUpdate()}getComponentWrappingElement(){return this.wrappingElement}mountReactPortal(e,t,i){this.portals=[...this.portals,e],this.waitForInstance(t,i),this.batchUpdate()}updateReactPortal(e,t){this.portals[this.portals.indexOf(e)]=t,this.batchUpdate()}batchUpdate(){this.hasPendingPortalUpdate||(setTimeout(()=>{this.destroyed||(this.refresher(),this.hasPendingPortalUpdate=!1)}),this.hasPendingPortalUpdate=!0)}waitForInstance(e,t,i=Date.now()){if(this.destroyed){t(null);return}if(e.rendered())t(e);else{if(Date.now()-i>=this.maxComponentCreationTimeMs&&!this.hasPendingPortalUpdate)return;window.setTimeout(()=>{this.waitForInstance(e,t,i)})}}},D0e=({ctrl:e})=>{const t=e.isAlive(),{context:i}=E.useContext(Xs),n=t?e.column.getColId():void 0,[s,r]=E.useState(),[o,a]=E.useState(),l=E.useRef(),u=E.useRef(null),d=E.useRef(null),p=E.useRef(null),f=E.useRef(),m=E.useRef();t&&!m.current&&(m.current=new OC(()=>u.current));const y=E.useCallback(S=>{var R;if(u.current=S,l.current=S?i.createBean(new Hg):i.destroyBean(l.current),!S||!t)return;const M={setWidth:A=>{u.current&&(u.current.style.width=A)},addOrRemoveCssClass:(A,k)=>m.current.addOrRemoveCssClass(A,k),setUserStyles:A=>a(A),setAriaSort:A=>{u.current&&(A?_se(u.current,A):jse(u.current))},setUserCompDetails:A=>r(A),getUserCompInstance:()=>f.current||void 0};e.setComp(M,S,d.current,p.current,l.current);const D=e.getSelectAllGui();D&&((R=d.current)==null||R.insertAdjacentElement("afterend",D),l.current.addDestroyFunc(()=>D.remove()))},[]);E.useLayoutEffect(()=>_C(s,i,p.current,f),[s]),E.useEffect(()=>{e.setDragSource(u.current)},[s]);const C=E.useMemo(()=>!!((s==null?void 0:s.componentFromFramework)&&$g(s.componentClass)),[s]),w=s&&s.componentFromFramework,b=s&&s.componentClass;return fe.createElement("div",{ref:y,style:o,className:"ag-header-cell","col-id":n,role:"columnheader"},fe.createElement("div",{ref:d,className:"ag-header-cell-resize",role:"presentation"}),fe.createElement("div",{ref:p,className:"ag-header-cell-comp-wrapper",role:"presentation"},w&&C&&fe.createElement(b,{...s.params}),w&&!C&&fe.createElement(b,{...s.params,ref:f})))},R0e=E.memo(D0e),E0e=({ctrl:e})=>{const{context:t,gos:i}=E.useContext(Xs),[n,s]=E.useState(),[r,o]=E.useState(()=>new jo("ag-header-cell","ag-floating-filter")),[a,l]=E.useState(()=>new jo),[u,d]=E.useState(()=>new jo("ag-floating-filter-button","ag-hidden")),[p,f]=E.useState("false"),[m,y]=E.useState(),[,C]=E.useState(1),w=E.useRef(),b=E.useRef(null),S=E.useRef(null),M=E.useRef(null),D=E.useRef(null),R=E.useRef(),A=E.useRef(),k=W=>{W!=null&&R.current&&R.current(W)},F=E.useCallback(W=>{if(b.current=W,w.current=W?t.createBean(new Hg):t.destroyBean(w.current),!W)return;A.current=new $i(G=>{R.current=G});const Y={addOrRemoveCssClass:(G,U)=>o(te=>te.setClass(G,U)),setUserStyles:G=>s(G),addOrRemoveBodyCssClass:(G,U)=>l(te=>te.setClass(G,U)),setButtonWrapperDisplayed:G=>{d(U=>U.setClass("ag-hidden",!G)),f(G?"false":"true")},setWidth:G=>{b.current&&(b.current.style.width=G)},setCompDetails:G=>y(G),getFloatingFilterComp:()=>A.current?A.current:null,setMenuIcon:G=>{var U;return(U=D.current)==null?void 0:U.appendChild(G)}};e.setComp(Y,W,D.current,S.current,w.current)},[]);E.useLayoutEffect(()=>_C(m,t,S.current,k),[m]);const P=E.useMemo(()=>r.toString(),[r]),L=E.useMemo(()=>a.toString(),[a]),z=E.useMemo(()=>u.toString(),[u]),H=E.useMemo(()=>!!(m&&m.componentFromFramework&&$g(m.componentClass)),[m]),V=E.useMemo(()=>i.get("reactiveCustomComponents"),[]),q=E.useMemo(()=>{if(m)if(V){const W=new g0e(m.params,()=>C(Y=>Y+1));return k(W),W}else m.componentFromFramework&&XL()},[m]),K=q==null?void 0:q.getProps(),j=m&&m.componentFromFramework,Z=m&&m.componentClass;return fe.createElement("div",{ref:F,style:n,className:P,role:"gridcell"},fe.createElement("div",{ref:S,className:L,role:"presentation"},j&&!V&&fe.createElement(Z,{...m.params,ref:H?()=>{}:k}),j&&V&&fe.createElement(qL.Provider,{value:{setMethods:W=>q.setMethods(W)}},fe.createElement(Z,{...K}))),fe.createElement("div",{ref:M,"aria-hidden":p,className:z,role:"presentation"},fe.createElement("button",{ref:D,type:"button",className:"ag-button ag-floating-filter-button-button",tabIndex:-1})))},T0e=E.memo(E0e),A0e=({ctrl:e})=>{const{context:t}=E.useContext(Xs),[i,n]=E.useState(),[s,r]=E.useState(()=>new jo),[o,a]=E.useState(()=>new jo),[l,u]=E.useState("false"),[d,p]=E.useState(),[f,m]=E.useState(),y=E.useMemo(()=>e.column.getUniqueId(),[]),C=E.useRef(),w=E.useRef(null),b=E.useRef(null),S=E.useRef(null),M=E.useRef(),D=E.useCallback(L=>{if(w.current=L,C.current=L?t.createBean(new Hg):t.destroyBean(C.current),!L)return;const z={setWidth:H=>{w.current&&(w.current.style.width=H)},addOrRemoveCssClass:(H,V)=>r(q=>q.setClass(H,V)),setUserStyles:H=>n(H),setHeaderWrapperHidden:H=>{const V=S.current;V&&(H?V.style.setProperty("display","none"):V.style.removeProperty("display"))},setHeaderWrapperMaxHeight:H=>{const V=S.current;V&&(H!=null?V.style.setProperty("max-height",`${H}px`):V.style.removeProperty("max-height"),V.classList.toggle("ag-header-cell-comp-wrapper-limited-height",H!=null))},setUserCompDetails:H=>m(H),setResizableDisplayed:H=>{a(V=>V.setClass("ag-hidden",!H)),u(H?"false":"true")},setAriaExpanded:H=>p(H),getUserCompInstance:()=>M.current||void 0};e.setComp(z,L,b.current,S.current,C.current)},[]);E.useLayoutEffect(()=>_C(f,t,S.current),[f]),E.useEffect(()=>{w.current&&e.setDragSource(w.current)},[f]);const R=E.useMemo(()=>!!((f==null?void 0:f.componentFromFramework)&&$g(f.componentClass)),[f]),A=E.useMemo(()=>"ag-header-group-cell "+s.toString(),[s]),k=E.useMemo(()=>"ag-header-cell-resize "+o.toString(),[o]),F=f&&f.componentFromFramework,P=f&&f.componentClass;return fe.createElement("div",{ref:D,style:i,className:A,"col-id":y,role:"columnheader","aria-expanded":d},fe.createElement("div",{ref:S,className:"ag-header-cell-comp-wrapper",role:"presentation"},F&&R&&fe.createElement(P,{...f.params}),F&&!R&&fe.createElement(P,{...f.params,ref:M})),fe.createElement("div",{ref:b,"aria-hidden":l,className:k}))},I0e=E.memo(A0e),L0e=({ctrl:e})=>{const{context:t}=E.useContext(Xs),{topOffset:i,rowHeight:n}=E.useMemo(()=>e.getTopAndHeight(),[]),s=e.getAriaRowIndex(),r=e.headerRowClass,[o,a]=E.useState(()=>n+"px"),[l,u]=E.useState(()=>i+"px"),d=E.useRef(null),p=E.useRef(null),[f,m]=E.useState(()=>e.getHeaderCtrls()),y=E.useRef(),C=E.useRef(null),w=E.useCallback(M=>{if(C.current=M,y.current=M?t.createBean(new Hg):t.destroyBean(y.current),!M)return;const D={setHeight:R=>a(R),setTop:R=>u(R),setHeaderCtrls:(R,A,k)=>{p.current=d.current,d.current=R;const F=HS(p.current,R,A);F!==p.current&&GS(k,()=>m(F))},setWidth:R=>{C.current&&(C.current.style.width=R)}};e.setComp(D,y.current,!1)},[]),b=E.useMemo(()=>({height:o,top:l}),[o,l]),S=E.useCallback(M=>{switch(e.type){case"group":return fe.createElement(I0e,{ctrl:M,key:M.instanceId});case"filter":return fe.createElement(T0e,{ctrl:M,key:M.instanceId});default:return fe.createElement(R0e,{ctrl:M,key:M.instanceId})}},[]);return fe.createElement("div",{ref:w,className:r,role:"row",style:b,"aria-rowindex":s},f.map(S))},k0e=E.memo(L0e),P0e=({pinned:e})=>{const[t,i]=E.useState(!0),[n,s]=E.useState([]),{context:r}=E.useContext(Xs),o=E.useRef(null),a=E.useRef(null),l=E.useRef(),u=e==="left",d=e==="right",p=!u&&!d,f=E.useCallback(C=>{if(o.current=C,l.current=C?r.createBean(new Dle(e)):r.destroyBean(l.current),!C)return;const w={setDisplayed:i,setCtrls:b=>s(b),setCenterWidth:b=>{a.current&&(a.current.style.width=b)},setViewportScrollLeft:b=>{o.current&&(o.current.scrollLeft=b)},setPinnedContainerWidth:b=>{o.current&&(o.current.style.width=b,o.current.style.minWidth=b,o.current.style.maxWidth=b)}};l.current.setComp(w,o.current)},[]),m=t?"":"ag-hidden",y=()=>n.map(C=>fe.createElement(k0e,{ctrl:C,key:C.instanceId}));return fe.createElement(fe.Fragment,null,u&&fe.createElement("div",{ref:f,className:"ag-pinned-left-header "+m,"aria-hidden":!t,role:"rowgroup"},y()),d&&fe.createElement("div",{ref:f,className:"ag-pinned-right-header "+m,"aria-hidden":!t,role:"rowgroup"},y()),p&&fe.createElement("div",{ref:f,className:"ag-header-viewport "+m,role:"presentation"},fe.createElement("div",{ref:a,className:"ag-header-container",role:"rowgroup"},y())))},v1=E.memo(P0e),F0e=()=>{const[e,t]=E.useState(()=>new jo),[i,n]=E.useState(),{context:s}=E.useContext(Xs),r=E.useRef(null),o=E.useRef(),a=E.useCallback(d=>{if(r.current=d,o.current=d?s.createBean(new wle):s.destroyBean(o.current),!d)return;const p={addOrRemoveCssClass:(f,m)=>t(y=>y.setClass(f,m)),setHeightAndMinHeight:f=>n(f)};o.current.setComp(p,d,d)},[]),l=E.useMemo(()=>"ag-header "+e.toString(),[e]),u=E.useMemo(()=>({height:i,minHeight:i}),[i]);return fe.createElement("div",{ref:a,className:l,style:u,role:"presentation"},fe.createElement(v1,{pinned:"left"}),fe.createElement(v1,{pinned:null}),fe.createElement(v1,{pinned:"right"}))},O0e=E.memo(F0e),N0e=(e,t)=>{E.useEffect(()=>{const i=t.current;if(i){const n=i.parentElement;if(n){const s=document.createComment(e);return n.insertBefore(s,i),()=>{n.removeChild(s)}}}},[e])},gh=N0e,B0e=class{constructor(e,t){this.cellEditorParams=e,this.refreshProps=t,this.instanceCreated=new $i(i=>{this.resolveInstanceCreated=i}),this.onValueChange=i=>this.updateValue(i),this.value=e.value}getProps(){return{...this.cellEditorParams,initialValue:this.cellEditorParams.value,value:this.value,onValueChange:this.onValueChange}}getValue(){return this.value}refresh(e){this.cellEditorParams=e,this.refreshProps()}setMethods(e){ZL(this.getOptionalMethods(),e,this)}getInstance(){return this.instanceCreated.then(()=>this.componentInstance)}setRef(e){var t;this.componentInstance=e,(t=this.resolveInstanceCreated)==null||t.call(this),this.resolveInstanceCreated=void 0}getOptionalMethods(){return["isCancelBeforeStart","isCancelAfterEnd","focusIn","focusOut","afterGuiAttached"]}updateValue(e){this.value=e,this.refreshProps()}},z0e=e=>{const t=E.useRef(e),i=E.useRef(),n=E.useRef(!1),s=E.useRef(!1),[,r]=E.useState(0);n.current&&(s.current=!0),E.useEffect(()=>(n.current||(i.current=t.current(),n.current=!0),r(o=>o+1),()=>{var o;s.current&&((o=i.current)==null||o.call(i))}),[])},G0e=e=>{const[t,i]=E.useState(),{context:n,popupSvc:s,localeSvc:r,gos:o,editSvc:a}=E.useContext(Xs);return z0e(()=>{var A,k;const{editDetails:l,cellCtrl:u,eParentCell:d}=e,{compDetails:p}=l,f=o.get("stopEditingWhenCellsLoseFocus"),m=n.createBean(a.createPopupEditorWrapper(p.params)),y=m.getGui();if(e.jsChildComp){const F=e.jsChildComp.getGui();F&&y.appendChild(F)}const{column:C,rowNode:w}=u,b={column:C,rowNode:w,type:"popupCellEditor",eventSource:d,ePopup:y,position:l.popupPosition,keepWithinBounds:!0},S=s==null?void 0:s.positionPopupByComponent.bind(s,b),M=L_(r),D=s==null?void 0:s.addPopup({modal:f,eChild:y,closeOnEsc:!0,closedCallback:()=>{u.onPopupEditorClosed()},anchorToElement:d,positionCallback:S,ariaLabel:M("ariaLabelCellEditor","Cell Editor")}),R=D?D.hideFunc:void 0;return i(m),(k=(A=e.jsChildComp)==null?void 0:A.afterGuiAttached)==null||k.call(A),()=>{R==null||R(),n.destroyBean(m)}}),fe.createElement(fe.Fragment,null,t&&e.wrappedContent&&wC.createPortal(e.wrappedContent,t.getGui()))},jz=E.memo(G0e),H0e=(e,t,i,n,s,r)=>{const{context:o}=E.useContext(Xs),a=E.useCallback(()=>{const l=s.current;if(!l)return;const u=l.getGui();u&&u.parentElement&&u.parentElement.removeChild(u),o.destroyBean(l),s.current=void 0},[]);E.useEffect(()=>{const l=e!=null,u=(e==null?void 0:e.compDetails)&&!e.compDetails.componentFromFramework,d=t&&i==null;if(!(l&&u&&!d)){a();return}const f=e.compDetails;if(s.current){const y=s.current,w=y.refresh!=null&&e.force==!1?y.refresh(f.params):!1;if(w===!0||w===void 0)return;a()}f.newAgStackInstance().then(y=>{if(!y)return;const C=y.getGui();if(!C)return;(t?i:r.current).appendChild(C),s.current=y})},[e,t,n]),E.useEffect(()=>a,[])},_0e=H0e,j0e=(e,t,i)=>{const{compProxy:n}=e;i(n);const s=n.getProps(),r=$g(t);return fe.createElement(qL.Provider,{value:{setMethods:o=>n.setMethods(o)}},r?fe.createElement(t,{...s}):fe.createElement(t,{...s,ref:o=>n.setRef(o)}))},Vz=(e,t,i)=>{const n=e.compProxy;return fe.createElement(fe.Fragment,null,n?j0e(e,t,i):fe.createElement(t,{...e.compDetails.params,ref:i}))},V0e=(e,t,i,n,s)=>{const r=e.compDetails,o=r.componentClass,a=r.componentFromFramework&&!e.popup,l=r.componentFromFramework&&e.popup,u=!r.componentFromFramework&&e.popup;return fe.createElement(fe.Fragment,null,a&&Vz(e,o,t),l&&fe.createElement(jz,{editDetails:e,cellCtrl:n,eParentCell:i,wrappedContent:Vz(e,o,t)}),u&&s&&fe.createElement(jz,{editDetails:e,cellCtrl:n,eParentCell:i,jsChildComp:s}))},W0e=(e,t,i,n,s,r,o)=>{const{compDetails:a,value:l}=e,u=!a,d=a&&a.componentFromFramework,p=a&&a.componentClass,f=l!=null&&l.toString?l.toString():l,m=()=>fe.createElement(fe.Fragment,null,u&&fe.createElement(fe.Fragment,null,f),d&&!r&&fe.createElement(p,{...a.params,key:t,ref:n}),d&&r&&fe.createElement(p,{...a.params,key:t}));return fe.createElement(fe.Fragment,null,s?fe.createElement("span",{role:"presentation",id:`cell-${i}`,className:"ag-cell-value",ref:o},m()):m())},U0e=({cellCtrl:e,printLayout:t,editingRow:i})=>{const{context:n}=E.useContext(Xs),{colIdSanitised:s,instanceId:r}=e,o=E.useRef(),[a,l]=E.useState(()=>e.isCellRenderer()?void 0:{compDetails:void 0,value:e.getValueToDisplay(),force:!1}),[u,d]=E.useState(),[p,f]=E.useState(1),[m,y]=E.useState(),[C,w]=E.useState(!1),[b,S]=E.useState(!1),[M,D]=E.useState(!1),[R,A]=E.useState(),k=E.useMemo(()=>e.isForceWrapper(),[e]),F=E.useMemo(()=>e.getCellAriaRole(),[e]),P=E.useRef(null),L=E.useRef(null),z=E.useRef(null),H=E.useRef(),V=E.useRef(),q=E.useRef(),K=E.useRef([]),j=E.useRef(),[Z,W]=E.useState(0),Y=E.useCallback(Fe=>{j.current=Fe,W(Me=>Me+1)},[]),G=a!=null&&(C||M||b),U=k||G,te=E.useCallback(Fe=>{if(V.current=Fe,Fe){const Me=Fe.isCancelBeforeStart&&Fe.isCancelBeforeStart();setTimeout(()=>{Me?(e.stopEditing(!0),e.focusCell(!0)):e.cellEditorAttached()})}},[e]),ee=E.useRef();ee.current||(ee.current=new OC(()=>P.current)),_0e(a,U,j.current,Z,H,P);const Q=E.useRef();E.useLayoutEffect(()=>{var Ke;const Fe=Q.current,Me=a;if(Q.current=a,Fe==null||Fe.compDetails==null||Me==null||Me.compDetails==null)return;const _e=Fe.compDetails,tt=Me.compDetails;if(_e.componentClass!=tt.componentClass||((Ke=z.current)==null?void 0:Ke.refresh)==null)return;z.current.refresh(tt.params)!=!0&&f(yt=>yt+1)},[a]),E.useLayoutEffect(()=>{if(!(u&&!u.compDetails.componentFromFramework))return;const Me=u.compDetails,_e=u.popup===!0,tt=Me.newAgStackInstance();return tt.then(He=>{if(!He)return;const Ke=He.getGui();if(te(He),!_e){const yt=(k?q:P).current;yt==null||yt.appendChild(Ke),He.afterGuiAttached&&He.afterGuiAttached()}A(He)}),()=>{tt.then(He=>{var yt;const Ke=He.getGui();n.destroyBean(He),te(void 0),A(void 0),(yt=Ke==null?void 0:Ke.parentElement)==null||yt.removeChild(Ke)})}},[u]);const ue=E.useCallback(Fe=>{if(q.current=Fe,!Fe){K.current.forEach(_e=>_e()),K.current=[];return}const Me=_e=>{if(_e){const tt=_e.getGui();Fe.insertAdjacentElement("afterbegin",tt),K.current.push(()=>{n.destroyBean(_e),Qh(tt)})}return _e};if(C){const _e=e.createSelectionCheckbox();Me(_e)}M&&Me(e.createDndSource()),b&&Me(e.createRowDragComp())},[e,n,M,b,C]),de=E.useCallback(()=>{const Fe=!e.isCellSpanning()||L.current,Me=P.current;if(o.current=Me?n.createBean(new Hg):n.destroyBean(o.current),!Me||!Fe||!e)return;const _e={addOrRemoveCssClass:(He,Ke)=>ee.current.addOrRemoveCssClass(He,Ke),setUserStyles:He=>y(He),getFocusableElement:()=>P.current,setIncludeSelection:He=>w(He),setIncludeRowDrag:He=>S(He),setIncludeDndSource:He=>D(He),getCellEditor:()=>V.current||null,getCellRenderer:()=>z.current??H.current,getParentOfValue:()=>j.current??q.current??P.current,setRenderDetails:(He,Ke,yt)=>{l(qe=>(qe==null?void 0:qe.compDetails)!==He||(qe==null?void 0:qe.value)!==Ke||(qe==null?void 0:qe.force)!==yt?{value:Ke,compDetails:He,force:yt}:qe)},setEditDetails:(He,Ke,yt,qe)=>{if(He){let Ve;qe?Ve=new B0e(He.params,()=>f(Pe=>Pe+1)):He.componentFromFramework&&XL(),d({compDetails:He,popup:Ke,popupPosition:yt,compProxy:Ve}),Ke||l(void 0)}else d(Ve=>{Ve!=null&&Ve.compProxy&&(V.current=void 0)})}},tt=q.current||void 0;e.setComp(_e,Me,L.current??void 0,tt,t,i,o.current)},[]),we=E.useCallback(Fe=>{P.current=Fe,de()},[]),ce=E.useCallback(Fe=>{L.current=Fe,de()},[]),pe=E.useMemo(()=>{var Me;return!!(((Me=a==null?void 0:a.compDetails)==null?void 0:Me.componentFromFramework)&&$g(a.compDetails.componentClass))},[a]);E.useLayoutEffect(()=>{P.current&&(ee.current.addOrRemoveCssClass("ag-cell-value",!U),ee.current.addOrRemoveCssClass("ag-cell-inline-editing",!!u&&!u.popup),ee.current.addOrRemoveCssClass("ag-cell-popup-editing",!!u&&!!u.popup),ee.current.addOrRemoveCssClass("ag-cell-not-inline-editing",!u||!!u.popup),e.setInlineEditingCss(),e.shouldRestoreFocus()&&!e.editing&&P.current.focus({preventScroll:!0}))});const ae=()=>fe.createElement(fe.Fragment,null,a!=null&&W0e(a,p,r,z,U,pe,Y),u!=null&&V0e(u,te,P.current,e,R)),xe=E.useCallback(()=>e.onFocusOut(),[]),Ie=()=>fe.createElement("div",{ref:we,style:m,role:F,"col-id":s,onBlur:xe},U?fe.createElement("div",{className:"ag-cell-wrapper",role:"presentation",ref:ue},ae()):ae());return e.isCellSpanning()?fe.createElement("div",{ref:ce,className:"ag-spanned-cell-wrapper",role:"presentation"},Ie()):Ie()},$0e=E.memo(U0e),Y0e=({rowCtrl:e,containerType:t})=>{const{context:i,gos:n}=E.useContext(Xs),s=E.useRef(),r=E.useRef(e.getDomOrder()),o=e.isFullWidth(),a=e.rowNode.displayed,[l,u]=E.useState(()=>a?e.rowNode.getRowIndexString():null),[d,p]=E.useState(()=>e.rowId),[f,m]=E.useState(()=>e.businessKey),[y,C]=E.useState(()=>e.rowStyles),w=E.useRef(null),b=E.useRef(null),[S,M]=E.useState(()=>null),[D,R]=E.useState(),[A,k]=E.useState(()=>a?e.getInitialRowTop(t):void 0),[F,P]=E.useState(()=>a?e.getInitialTransform(t):void 0),L=E.useRef(null),z=E.useRef(),H=E.useRef(!1),[V,q]=E.useState(0);E.useEffect(()=>{var ue;if(H.current||!D||V>10)return;const Q=(ue=L.current)==null?void 0:ue.firstChild;Q?(e.setupDetailRowAutoHeight(Q),H.current=!0):q(de=>de+1)},[D,V]);const K=E.useRef();K.current||(K.current=new OC(()=>L.current));const j=E.useCallback(Q=>{if(L.current=Q,s.current=Q?i.createBean(new Hg):i.destroyBean(s.current),!Q){e.unsetComp(t);return}if(!e.isAlive())return;const ue={setTop:k,setTransform:P,addOrRemoveCssClass:(de,we)=>K.current.addOrRemoveCssClass(de,we),setDomOrder:de=>r.current=de,setRowIndex:u,setRowId:p,setRowBusinessKey:m,setUserStyles:C,setCellCtrls:(de,we)=>{b.current=w.current,w.current=de;const ce=HS(b.current,de,r.current);ce!==b.current&&GS(we,()=>M(ce))},showFullWidth:de=>R(de),getFullWidthCellRenderer:()=>z.current,refreshFullWidth:de=>U.current?(R(we=>({...we,params:de()})),!0):!z.current||!z.current.refresh?!1:z.current.refresh(de())};e.setComp(ue,Q,t,s.current)},[]);E.useLayoutEffect(()=>_C(D,i,L.current,z),[D]);const Z=E.useMemo(()=>{const Q={top:A,transform:F};return Object.assign(Q,y),Q},[A,F,y]),W=o&&(D==null?void 0:D.componentFromFramework),Y=!o&&S!=null,G=E.useMemo(()=>!!((D==null?void 0:D.componentFromFramework)&&$g(D.componentClass)),[D]),U=E.useRef(!1);E.useEffect(()=>{U.current=G&&!!D&&!!n.get("reactiveCustomComponents")},[G,D]);const te=()=>S==null?void 0:S.map(Q=>fe.createElement($0e,{cellCtrl:Q,editingRow:e.editing,printLayout:e.printLayout,key:Q.instanceId})),ee=()=>{const Q=D.componentClass;return fe.createElement(fe.Fragment,null,G?fe.createElement(Q,{...D.params}):fe.createElement(Q,{...D.params,ref:z}))};return fe.createElement("div",{ref:j,role:"row",style:Z,"row-index":l,"row-id":d,"row-business-key":f},Y&&te(),W&&ee())},Wz=E.memo(Y0e),K0e=({name:e})=>{const{context:t,gos:i}=E.useContext(Xs),n=E.useMemo(()=>NC(e),[e]),s=E.useRef(null),r=E.useRef(null),o=E.useRef(null),a=E.useRef([]),l=E.useRef([]),[u,d]=E.useState(()=>[]),p=!!i.get("enableCellSpan")&&!!n.getSpannedRowCtrls,f=E.useRef([]),m=E.useRef([]),[y,C]=E.useState(()=>[]),w=E.useRef(!1),b=E.useRef(),S=E.useMemo(()=>Bo("ag-viewport",Uj(e)),[e]),M=E.useMemo(()=>Bo(Fw(e)),[e]),D=E.useMemo(()=>Bo("ag-spanning-container",ele(e)),[e]),R=n.type==="center"||p,A=R?s:r;gh(" AG Row Container "+e+" ",A);const k=E.useCallback(()=>{const K=!R||s.current!=null,j=r.current!=null,Z=!p||o.current!=null;return K&&j&&Z},[]),F=E.useCallback(()=>s.current==null&&r.current==null&&o.current==null,[]),P=E.useCallback(()=>{if(F()&&(b.current=t.destroyBean(b.current)),k()){const K=W=>{const Y=HS(l.current,a.current,w.current);Y!==l.current&&(l.current=Y,GS(W,()=>d(Y)))},j=W=>{const Y=HS(m.current,f.current,w.current);Y!==m.current&&(m.current=Y,GS(W,()=>C(Y)))},Z={setHorizontalScroll:W=>{s.current&&(s.current.scrollLeft=W)},setViewportHeight:W=>{s.current&&(s.current.style.height=W)},setRowCtrls:({rowCtrls:W,useFlushSync:Y})=>{const G=!!Y&&a.current.length>0&&W.length>0;a.current=W,K(G)},setSpannedRowCtrls:(W,Y)=>{const G=!!Y&&f.current.length>0&&W.length>0;f.current=W,j(G)},setDomOrder:W=>{w.current!=W&&(w.current=W,K(!1))},setContainerWidth:W=>{r.current&&(r.current.style.width=W)},setOffsetTop:W=>{r.current&&(r.current.style.transform=`translateY(${W})`)}};b.current=t.createBean(new ule(e)),b.current.setComp(Z,r.current,o.current??void 0,s.current)}},[k,F]),L=E.useCallback(K=>{r.current=K,P()},[P]),z=E.useCallback(K=>{o.current=K,P()},[P]),H=E.useCallback(K=>{s.current=K,P()},[P]),V=()=>fe.createElement("div",{className:M,ref:L,role:"rowgroup"},u.map(K=>fe.createElement(Wz,{rowCtrl:K,containerType:n.type,key:K.instanceId})));if(!R)return V();const q=()=>p&&fe.createElement("div",{className:D,ref:z,role:"rowgroup"},y.map(K=>fe.createElement(Wz,{rowCtrl:K,containerType:n.type,key:K.instanceId})));return fe.createElement("div",{className:S,ref:H,role:"presentation"},V(),q())},q0e=E.memo(K0e),Z0e=()=>{const e=E.useContext(Xs),{context:t,overlays:i}=e,[n,s]=E.useState(""),[r,o]=E.useState(0),[a,l]=E.useState(0),[u,d]=E.useState("0px"),[p,f]=E.useState("0px"),[m,y]=E.useState("100%"),[C,w]=E.useState("0px"),[b,S]=E.useState("0px"),[M,D]=E.useState("100%"),[R,A]=E.useState(""),[k,F]=E.useState(""),[P,L]=E.useState(null),[z,H]=E.useState(""),[V,q]=E.useState(null),[K,j]=E.useState("ag-layout-normal"),Z=E.useRef();Z.current||(Z.current=new OC(()=>W.current));const W=E.useRef(null),Y=E.useRef(null),G=E.useRef(null),U=E.useRef(null),te=E.useRef(null),ee=E.useRef(null),Q=E.useRef(null),ue=E.useRef([]),de=E.useRef([]);gh(" AG Grid Body ",W),gh(" AG Pinned Top ",Y),gh(" AG Sticky Top ",G),gh(" AG Middle ",ee),gh(" AG Pinned Bottom ",Q);const we=E.useCallback(Ve=>{if(W.current=Ve,!Ve){ue.current=t.destroyBeans(ue.current),de.current.forEach(Et=>Et()),de.current=[];return}if(!t)return;const Pe=(Et,ri)=>{Et.appendChild(ri),de.current.push(()=>Et.removeChild(ri))},Nt=Et=>{const ri=t.createBean(new Et);return ue.current.push(ri),ri},Ct=(Et,ri,as)=>{Pe(Et,document.createComment(as)),Pe(Et,Nt(ri).getGui())};Ct(Ve,gle," AG Fake Horizontal Scroll ");const Vi=i==null?void 0:i.getOverlayWrapperCompClass();Vi&&Ct(Ve,Vi," AG Overlay Wrapper "),te.current&&Ct(te.current,mle," AG Fake Vertical Scroll ");const Pi={setRowAnimationCssOnBodyViewport:s,setColumnCount:Et=>{W.current&&Gse(W.current,Et)},setRowCount:Et=>{W.current&&Bse(W.current,Et)},setTopHeight:o,setBottomHeight:l,setStickyTopHeight:d,setStickyTopTop:f,setStickyTopWidth:y,setTopDisplay:A,setBottomDisplay:F,setColumnMovingCss:(Et,ri)=>Z.current.addOrRemoveCssClass(Et,ri),updateLayoutClasses:j,setAlwaysVerticalScrollClass:L,setPinnedTopBottomOverflowY:H,setCellSelectableCss:(Et,ri)=>q(ri?Et:null),setBodyViewportWidth:Et=>{ee.current&&(ee.current.style.width=Et)},registerBodyViewportResizeListener:Et=>{if(ee.current){const ri=zc(e,ee.current,Et);de.current.push(()=>ri())}},setStickyBottomHeight:w,setStickyBottomBottom:S,setStickyBottomWidth:D,setGridRootRole:Et=>Ve.setAttribute("role",Et)},Ei=t.createBean(new fle);ue.current.push(Ei),Ei.setComp(Pi,Ve,ee.current,Y.current,Q.current,G.current,U.current)},[]),ce=E.useMemo(()=>Bo("ag-root","ag-unselectable",K),[K]),pe=E.useMemo(()=>Bo("ag-body-viewport",n,K,P,V),[n,K,P,V]),ae=E.useMemo(()=>Bo("ag-body",K),[K]),xe=E.useMemo(()=>Bo("ag-floating-top",V),[V]),Ie=E.useMemo(()=>Bo("ag-sticky-top",V),[V]),Fe=E.useMemo(()=>Bo("ag-sticky-bottom",C==="0px"?"ag-hidden":null,V),[V,C]),Me=E.useMemo(()=>Bo("ag-floating-bottom",V),[V]),_e=E.useMemo(()=>({height:r,minHeight:r,display:R,overflowY:z}),[r,R,z]),tt=E.useMemo(()=>({height:u,top:p,width:m}),[u,p,m]),He=E.useMemo(()=>({height:C,bottom:b,width:M}),[C,b,M]),Ke=E.useMemo(()=>({height:a,minHeight:a,display:k,overflowY:z}),[a,k,z]),yt=Ve=>fe.createElement(q0e,{name:Ve,key:`${Ve}-container`}),qe=({section:Ve,children:Pe,className:Nt,style:Ct})=>fe.createElement("div",{ref:Ve,className:Nt,role:"presentation",style:Ct},Pe.map(yt));return fe.createElement("div",{ref:we,className:ce},fe.createElement(O0e,null),qe({section:Y,className:xe,style:_e,children:["topLeft","topCenter","topRight","topFullWidth"]}),fe.createElement("div",{className:ae,ref:te,role:"presentation"},qe({section:ee,className:pe,children:["left","center","right","fullWidth"]})),qe({section:G,className:Ie,style:tt,children:["stickyTopLeft","stickyTopCenter","stickyTopRight","stickyTopFullWidth"]}),qe({section:U,className:Fe,style:He,children:["stickyBottomLeft","stickyBottomCenter","stickyBottomRight","stickyBottomFullWidth"]}),qe({section:Q,className:Me,style:Ke,children:["bottomLeft","bottomCenter","bottomRight","bottomFullWidth"]}))},X0e=E.memo(Z0e),Q0e=(e,t)=>{const{children:i,eFocusableElement:n,onTabKeyDown:s,gridCtrl:r,forceFocusOutWhenTabGuardsAreEmpty:o,isEmpty:a}=e,{context:l}=E.useContext(Xs),u=E.useRef(null),d=E.useRef(null),p=E.useRef(),f=b=>{const S=b==null?void 0:parseInt(b,10).toString();[u,d].forEach(M=>{var D,R;S===void 0?(D=M.current)==null||D.removeAttribute("tabindex"):(R=M.current)==null||R.setAttribute("tabindex",S)})};E.useImperativeHandle(t,()=>({forceFocusOutOfContainer(b){var S;(S=p.current)==null||S.forceFocusOutOfContainer(b)}}));const m=E.useCallback(()=>{const b=u.current,S=d.current;if(!b&&!S){p.current=l.destroyBean(p.current);return}if(b&&S){const M={setTabIndex:f};p.current=l.createBean(new tV({comp:M,eTopGuard:b,eBottomGuard:S,eFocusableElement:n,onTabKeyDown:s,forceFocusOutWhenTabGuardsAreEmpty:o,focusInnerElement:D=>r.focusInnerElement(D),isEmpty:a}))}},[]),y=E.useCallback(b=>{u.current=b,m()},[m]),C=E.useCallback(b=>{d.current=b,m()},[m]),w=b=>{const S=b==="top"?Uf.TAB_GUARD_TOP:Uf.TAB_GUARD_BOTTOM;return fe.createElement("div",{className:`${Uf.TAB_GUARD} ${S}`,role:"presentation",ref:b==="top"?y:C})};return fe.createElement(fe.Fragment,null,w("top"),i,w("bottom"))},J0e=E.forwardRef(Q0e),ewe=E.memo(J0e),twe=({context:e})=>{const[t,i]=E.useState(""),[n,s]=E.useState(""),[r,o]=E.useState(null),[a,l]=E.useState(null),[u,d]=E.useState(!1),[p,f]=E.useState(),m=E.useRef(),y=E.useRef(null),C=E.useRef(),[w,b]=E.useState(null),S=E.useRef(()=>{}),M=E.useRef(),D=E.useRef([]),R=E.useCallback(()=>{},[]),A=E.useMemo(()=>e.isDestroyed()?null:e.getBeans(),[e]);gh(" AG Grid ",y);const k=E.useCallback(V=>{if(y.current=V,m.current=V?e.createBean(new lce):e.destroyBean(m.current),!V||e.isDestroyed())return;const q=m.current;S.current=q.focusInnerElement.bind(q);const K={destroyGridUi:()=>{},setRtlClass:i,forceFocusOutOfContainer:j=>{var Z,W;if(!j&&((Z=M.current)!=null&&Z.isDisplayed())){M.current.forceFocusOutOfContainer(j);return}(W=C.current)==null||W.forceFocusOutOfContainer(j)},updateLayoutClasses:s,getFocusableContainers:()=>{var W;const j=[],Z=(W=y.current)==null?void 0:W.querySelector(".ag-root");return Z&&j.push({getGui:()=>Z}),D.current.forEach(Y=>{Y.isDisplayed()&&j.push(Y)}),j},setCursor:o,setUserSelect:l};q.setComp(K,V,V),d(!0)},[]);E.useEffect(()=>{const V=m.current,q=y.current;if(!p||!A||!V||!w||!q)return;const K=[],{watermarkSelector:j,paginationSelector:Z,sideBarSelector:W,statusBarSelector:Y,gridHeaderDropZonesSelector:G}=V.getOptionalSelectors(),U=[];if(G){const ee=e.createBean(new G.component),Q=ee.getGui();q.insertAdjacentElement("afterbegin",Q),U.push(Q),K.push(ee)}if(W){const ee=e.createBean(new W.component),Q=ee.getGui(),ue=w.querySelector(".ag-tab-guard-bottom");ue&&(ue.insertAdjacentElement("beforebegin",Q),U.push(Q)),K.push(ee),D.current.push(ee)}const te=ee=>{const Q=e.createBean(new ee),ue=Q.getGui();return q.insertAdjacentElement("beforeend",ue),U.push(ue),K.push(Q),Q};if(Y&&te(Y.component),Z){const ee=te(Z.component);M.current=ee,D.current.push(ee)}return j&&te(j.component),()=>{e.destroyBeans(K),U.forEach(ee=>{var Q;(Q=ee.parentElement)==null||Q.removeChild(ee)})}},[p,w,A]);const F=E.useMemo(()=>Bo("ag-root-wrapper",t,n),[t,n]),P=E.useMemo(()=>Bo("ag-root-wrapper-body","ag-focus-managed",n),[n]),L=E.useMemo(()=>({userSelect:a??"",WebkitUserSelect:a??"",cursor:r??""}),[a,r]),z=E.useCallback(V=>{C.current=V,f(V!==null)},[]),H=E.useCallback(()=>{var V;return!((V=m.current)!=null&&V.isFocusable())},[]);return fe.createElement("div",{ref:k,className:F,style:L,role:"presentation"},fe.createElement("div",{className:P,ref:b,role:"presentation"},u&&w&&A&&fe.createElement(Xs.Provider,{value:A},fe.createElement(ewe,{ref:z,eFocusableElement:w,onTabKeyDown:R,gridCtrl:m.current,forceFocusOutWhenTabGuardsAreEmpty:!0,isEmpty:H},fe.createElement(X0e,null)))))},iwe=E.memo(twe),nwe=class extends ye{wireBeans(e){this.ctrlsSvc=e.ctrlsSvc}areHeaderCellsRendered(){return this.ctrlsSvc.getHeaderRowContainerCtrls().every(e=>e.getAllCtrls().every(t=>t.areCellsRendered()))}},swe={gridOptions:void 0,modules:void 0,containerStyle:void 0,className:void 0,setGridApi:void 0,componentWrappingElement:void 0,maxComponentCreationTimeMs:void 0,children:void 0},nW=new Set(Object.keys(swe)),sW=e=>{var w;const t=E.useRef(),i=E.useRef(null),n=E.useRef(null),s=E.useRef([]),r=E.useRef([]),o=E.useRef(e),a=E.useRef(),l=E.useRef(),u=E.useRef(!1),[d,p]=E.useState(void 0),[,f]=E.useState(0),m=E.useCallback(b=>{if(i.current=b,!b){s.current.forEach(z=>z()),s.current.length=0;return}const S=e.modules||[];n.current||(n.current=new M0e(()=>f(z=>z+1),e.componentWrappingElement,e.maxComponentCreationTimeMs),s.current.push(()=>{var z;(z=n.current)==null||z.destroy(),n.current=null}));const M=bre(e.gridOptions,e,Object.keys(e).filter(z=>!nW.has(z))),D=()=>{if(u.current){const z=()=>{var V;return(V=a.current)!=null&&V.shouldQueueUpdates()?void 0:r.current.shift()};let H=z();for(;H;)H(),H=z()}},R=new lwe(D);a.current=R;const A=new nwe,k={providedBeanInstances:{frameworkCompWrapper:new owe(n.current,M.reactiveCustomComponents??xpe("reactiveCustomComponents")??!0),renderStatus:A},modules:S,frameworkOverrides:R,setThemeOnGridDiv:!0},F=z=>{p(z),z.createBean(A),s.current.push(()=>{z.destroy()}),z.getBean("ctrlsSvc").whenReady({addDestroyFunc:H=>{s.current.push(H)}},()=>{var V;if(z.isDestroyed())return;const H=t.current;H&&((V=e.setGridApi)==null||V.call(e,H))})},P=z=>{z.getBean("ctrlsSvc").whenReady({addDestroyFunc:H=>{s.current.push(H)}},()=>{r.current.forEach(H=>H()),r.current.length=0,u.current=!0})},L=new Dpe;M.gridId??(M.gridId=l.current),t.current=L.create(b,M,F,P,k),s.current.push(()=>{t.current=void 0}),t.current&&(l.current=t.current.getGridId())},[]),y=E.useMemo(()=>({height:"100%",...e.containerStyle||{}}),[e.containerStyle]),C=E.useCallback(b=>{var S;u.current&&!((S=a.current)!=null&&S.shouldQueueUpdates())?b():r.current.push(b)},[]);return E.useEffect(()=>{const b=rwe(o.current,e);o.current=e,C(()=>{t.current&&wre(b,t.current)})},[e]),fe.createElement("div",{style:y,className:e.className,ref:m},d&&!d.isDestroyed()?fe.createElement(iwe,{context:d}):null,((w=n.current)==null?void 0:w.getPortals())??null)};function rwe(e,t){const i={};return Object.keys(t).forEach(n=>{if(nW.has(n))return;const s=t[n];e[n]!==s&&(i[n]=s)}),i}var owe=class extends Bpe{constructor(e,t){super(),this.parent=e,this.reactiveCustomComponents=t}createWrapper(e,t){if(this.reactiveCustomComponents){const s=(r=>{switch(r){case"filter":return f0e;case"floatingFilterComponent":return m0e;case"dateComponent":return h0e;case"dragAndDropImageComponent":return p0e;case"loadingOverlayComponent":return v0e;case"noRowsOverlayComponent":return b0e;case"statusPanel":return w0e;case"toolPanel":return S0e;case"menuItem":return C0e;case"cellRenderer":return d0e;case"innerHeaderComponent":return y0e}})(t.name);if(s)return new s(e,this.parent,t)}else switch(t.name){case"filter":case"floatingFilterComponent":case"dateComponent":case"dragAndDropImageComponent":case"loadingOverlayComponent":case"noRowsOverlayComponent":case"statusPanel":case"toolPanel":case"menuItem":case"cellRenderer":XL();break}const i=!t.cellRenderer&&t.name!=="toolPanel";return new tW(e,this.parent,t,i)}},awe=E.forwardRef((e,t)=>{const i=E.useContext(Xs),{registry:n,context:s,gos:r,rowModel:o}=i,[a,l]=E.useState(()=>new jo),[u,d]=E.useState(()=>new jo),[p,f]=E.useState(),[m,y]=E.useState(),C=E.useRef(),w=E.useRef(null),b=E.useRef(),S=E.useMemo(()=>Yoe(e.api.getGridId(),(p==null?void 0:p.rowModelType)??"clientSide"),[e]),M=E.useMemo(()=>a.toString()+" ag-details-row",[a]),D=E.useMemo(()=>u.toString()+" ag-details-grid",[u]);t&&E.useImperativeHandle(t,()=>({refresh(){var k;return((k=C.current)==null?void 0:k.refresh())??!1}})),e.template&&Ae(230);const R=E.useCallback(k=>{var L;if(w.current=k,!k){C.current=s.destroyBean(C.current),(L=b.current)==null||L.call(b);return}const F={addOrRemoveCssClass:(z,H)=>l(V=>V.setClass(z,H)),addOrRemoveDetailGridCssClass:(z,H)=>d(V=>V.setClass(z,H)),setDetailGrid:z=>f(z),setRowData:z=>y(z),getGui:()=>w.current},P=n.createDynamicBean("detailCellRendererCtrl",!0);if(P&&(s.createBean(P),P.init(F,e),C.current=P,r.get("detailRowAutoHeight"))){const z=()=>{if(w.current==null)return;const H=w.current.clientHeight;H!=null&&H>0&&setTimeout(()=>{e.node.setRowHeight(H),($s(r)||yp(r))&&o.onRowHeightChanged()},0)};b.current=zc(i,k,z),z()}},[]),A=E.useCallback(k=>{var F;(F=C.current)==null||F.registerDetailWithMaster(k)},[]);return fe.createElement("div",{className:M,ref:R},p&&fe.createElement(sW,{className:D,...p,modules:S,rowData:m,setGridApi:A}))}),lwe=class extends iV{constructor(e){super("react"),this.processQueuedUpdates=e,this.queueUpdates=!1,this.frameworkComponents={agGroupCellRenderer:Hz,agGroupRowRenderer:Hz,agDetailCellRenderer:awe},this.wrapIncoming=(t,i)=>i==="ensureVisible"?a0e(t):t(),this.renderingEngine="react"}frameworkComponent(e){return this.frameworkComponents[e]}isFrameworkComponent(e){if(!e)return!1;const t=e.prototype;return!(t&&"getGui"in t)}getLockOnRefresh(){this.queueUpdates=!0}releaseLockOnRefresh(){this.queueUpdates=!1,this.processQueuedUpdates()}shouldQueueUpdates(){return this.queueUpdates}runWhenReadyAsync(){return o0e()}},cwe=class extends E.Component{constructor(){super(...arguments),this.apiListeners=[],this.setGridApi=e=>{this.api=e,this.apiListeners.forEach(t=>t(e))}}registerApiListener(e){this.apiListeners.push(e)}componentWillUnmount(){this.apiListeners.length=0}render(){return fe.createElement(sW,{...this.props,setGridApi:this.setGridApi})}};const uwe=ki.create({baseURL:fd}),dwe=async()=>{const{data:e}=await uwe.get("/clients",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});return e},Wv=()=>HC({queryKey:["clients"],queryFn:dwe}),hwe=async e=>{const{data:t}=await ki.get(`${fd}/clients/${e}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});return t},pwe=e=>HC({queryKey:["client",e],queryFn:()=>hwe(e)}),fwe=async e=>{const{data:t}=await ki.post(`${fd}/clients`,e,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});return t},gwe=async e=>{await ki.delete(`${fd}/clients/${e}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})},mwe=async({id:e,...t})=>{const{data:i}=await ki.put(`${fd}/clients/${e}`,t,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});return i},ywe=()=>{const[e,t]=E.useState(!1),[i,n]=E.useState({companyName:"",contactName:"",phone:"",email:"",budget:"",projectType:"",status:""}),s=pp(),{data:r,isLoading:o,isError:a}=Wv(),[l,u]=E.useState([]);E.useEffect(()=>{r&&u(r)},[r]);const d=cv({mutationFn:fwe,onSuccess:b=>{Gt.success("Клиент успешно добавлен"),u(S=>[...S,b])},onError:b=>{Gt.error(`Ошибка: ${b.response.data.message}`)}}),p=E.useMemo(()=>[{field:"companyName",headerName:"Компания"},{field:"contactName",headerName:"Контактное лицо"},{field:"phone",headerName:"Номер телефона"},{field:"status",headerName:"Статус"},{field:"projectType",headerName:"Тип проекта"}],[]),f=b=>{s(`/client/${b.data.id}`,{state:b.data})};if(o)return B.jsx("p",{children:"Загрузка..."});if(a)return B.jsx("p",{children:"Ошибка загрузки данных"});const m=()=>t(!0),y=()=>t(!1),C=b=>{n({...i,[b.target.name]:b.target.value})},w=b=>{b.preventDefault(),d.mutate(i),n({companyName:"",contactName:"",phone:"",email:"",budget:"",projectType:"",status:""}),y(),Wv.refetch()};return B.jsxs(Zs,{elevation:3,sx:{borderRadius:2,width:{xs:"100%",md:"calc(65% - 16px)"}},children:[B.jsxs(Yt,{sx:{p:2,display:"flex",gap:2,flexWrap:"nowrap"},children:[B.jsx(Yn,{fullWidth:!0,variant:"outlined",placeholder:"Поиск клиентов...",size:"small",slotProps:{input:{startAdornment:B.jsx(TT,{position:"start",children:B.jsx(g5,{})})}}}),B.jsx(Hne,{title:"Добавить клиента",children:B.jsx(Ar,{onClick:m,variant:"contained",component:"label",htmlFor:"file-upload",children:B.jsx(_ve,{})})}),B.jsxs(ST,{open:e,onClose:y,children:[B.jsx(DT,{children:"Добавить клиента"}),B.jsxs("form",{onSubmit:w,children:[B.jsxs(MT,{sx:{display:"flex",flexDirection:"column",gap:2,minWidth:{xs:"250px",md:"400px"}},children:[B.jsx(Yn,{label:"Компания",name:"companyName",value:i.companyName,onChange:C,required:!0}),B.jsx(Yn,{label:"Контактное лицо",name:"contactName",value:i.contactName,onChange:C,required:!0}),B.jsx(Yn,{label:"Телефон",name:"phone",value:i.phone,onChange:C,required:!0}),B.jsx(Yn,{label:"Email",name:"email",value:i.email,onChange:C,required:!0}),B.jsx(Yn,{label:"Бюджет",name:"budget",type:"number",value:i.budget,onChange:C,required:!0}),B.jsx(Yn,{label:"Тип проекта",name:"projectType",value:i.projectType,onChange:C,required:!0}),B.jsx(Yn,{label:"Статус",name:"status",value:i.status,onChange:C,required:!0})]}),B.jsxs(xT,{children:[B.jsx(Ar,{onClick:y,children:"Отмена"}),B.jsx(Ar,{type:"submit",variant:"contained",children:"Создать"})]})]})]})]}),B.jsx("div",{style:{height:400},children:B.jsx(cwe,{theme:che,rowData:l,columnDefs:p,onRowClicked:f})})]})},vwe=()=>{const{data:e,isLoading:t,isError:i}=Wv();if(t)return B.jsx(pt,{children:"Загрузка метрик..."});if(i||!e)return B.jsx(pt,{color:"error",children:"Ошибка загрузки данных клиентов"});const n=e.map(u=>(u==null?void 0:u.budget)||0),s=e.length,r=n.length?Math.max(...n):0,o=n.length?Math.min(...n):0,a=n.length?Math.round(n.reduce((u,d)=>u+d,0)/s):0,l=[{title:"Всего клиентов",value:s},{title:"Макс. бюджет",value:r.toLocaleString("ru-RU")+" ₽"},{title:"Мин. бюджет",value:o.toLocaleString("ru-RU")+" ₽"},{title:"Средний бюджет",value:a.toLocaleString("ru-RU")+" ₽"}];return B.jsx(Yt,{sx:{mb:{xs:0,md:16},display:"flex",flexWrap:"wrap",columnGap:2,rowGap:2,width:{xs:"100%",md:"calc(35% - 16px)"}},children:l.map((u,d)=>B.jsx(Yt,{sx:{width:{xs:"100%",sm:"calc(50% - 8px)"}},children:B.jsx(p_,{children:B.jsxs(hte,{children:[B.jsx(pt,{variant:"h6",component:"div",children:u.title}),B.jsx(pt,{variant:"h4",color:"primary",children:u.value})]})})},d))})};var Cwe=Object.defineProperty,rW=(e,t)=>{for(var i in t)Cwe(e,i,{get:t[i],enumerable:!0})},De={};rW(De,{error:()=>aW,errorOnce:()=>xwe,log:()=>bwe,logGroup:()=>Dwe,reset:()=>Mwe,table:()=>wwe,warn:()=>oW,warnOnce:()=>Swe});var Uv=new Set;function bwe(...e){console.log(...e)}function oW(e,...t){console.warn(`AG Charts - ${e}`,...t)}function aW(e,...t){typeof e=="object"?console.error("AG Charts error",e,...t):console.error(`AG Charts - ${e}`,...t)}function wwe(...e){console.table(...e)}function Swe(e,...t){const i=`Logger.warn: ${e}`;Uv.has(i)||(oW(e,...t),Uv.add(i))}function xwe(e,...t){const i=`Logger.error: ${e}`;Uv.has(i)||(aW(e,...t),Uv.add(i))}function Mwe(){Uv.clear()}function Dwe(e,t){console.groupCollapsed(e);try{return t()}finally{console.groupEnd()}}var $r={};rW($r,{detectChartDefinition:()=>Iwe,getAxisModule:()=>kwe,getSeriesModule:()=>Lwe,hasModule:()=>Twe,listModulesByType:()=>Awe,register:()=>lW,registerMany:()=>Rwe,reset:()=>Ewe});var jw=(e=>(e.Axis="axis",e.Chart="chart",e.Preset="preset",e.Plugin="plugin",e.Series="series",e))(jw||{}),rd=new Map;function lW(e){const t=rd.get(e.name);if(t&&(t.enterprise||!e.enterprise))throw new Error(`AG Charts - Module '${e.name}' already registered`);rd.set(e.name,e)}function Rwe(e){for(const t of e)lW(t)}function Ewe(){rd.clear()}function Twe(e){return rd.has(e)}function*Awe(e){for(const t of rd.values())t.type===e&&(yield t)}function Iwe(e){for(const t of rd.values())if(Pwe(t)&&t.detect(e))return t;throw new Error("AG Charts - Unknown chart type; Check options are correctly structured and series types are specified")}function Lwe(e){const t=rd.get(e);if(Owe(t))return t}function kwe(e){const t=rd.get(e);if(Fwe(t))return t}function Pwe(e){return(e==null?void 0:e.type)==="chart"}function Fwe(e){return(e==null?void 0:e.type)==="axis"}function Owe(e){return(e==null?void 0:e.type)==="series"}var QL=class{constructor(){this.events=new Map}on(e,t){var i;return this.events.has(e)||this.events.set(e,new Set),(i=this.events.get(e))==null||i.add(t),()=>this.off(e,t)}off(e,t){const i=this.events.get(e);i&&(i.delete(t),i.size===0&&this.events.delete(e))}emit(e,t){var i;(i=this.events.get(e))==null||i.forEach(n=>n(t))}clear(e){e?this.events.delete(e):this.events.clear()}};function LA(e,t="and",i=String,n=1/0){if(e.length===1)return i(e[0]);e=e.map(i);const s=e.pop();if(e.length>=n){const r=e.length-(n-1);return`${e.slice(0,n-1).join(", ")}, and ${r} more ${t} ${s}`}return`${e.join(", ")} ${t} ${s}`}function cW(e,t=1/0){if(typeof e=="number"){if(isNaN(e))return"NaN";if(e===1/0)return"Infinity";if(e===-1/0)return"-Infinity"}const i=JSON.stringify(e)??typeof e;return i.length>t?`${i.slice(0,t)}... (+${i.length-t} characters)`:i}function Nwe(e){let t=1;for(let i=0;i<e.length;i++)e.charCodeAt(i)===10&&t++;return t}function Bwe(e,t){if(e===t)return 0;const[i,n]=e.length<t.length?[e,t]:[t,e],s=i.length,r=n.length;let o=new Array(s+1).fill(0).map((l,u)=>u),a=new Array(s+1);for(let l=1;l<=r;l++){a[0]=l;for(let u=1;u<=s;u++){const d=n[l-1]===i[u-1]?0:1;a[u]=Math.min(o[u]+1,a[u-1]+1,o[u-1]+d)}[o,a]=[a,o]}return o[s]}var El={};typeof window<"u"?El.window=window:typeof global<"u"&&(El.window=global.window);typeof document<"u"?El.document=document:typeof global<"u"&&(El.document=global.document);function Pc(e){var t;return e?(t=El.document)==null?void 0:t[e]:El.document}function Di(e){var t;return e?(t=El.window)==null?void 0:t[e]:El.window}function zwe(e){El.document=e}function Gwe(e){El.window=e}function Ot(e,t,i){const n=Pc().createElement(e);if(typeof t=="object"&&(i=t,t=void 0),t)for(const s of t.split(" "))n.classList.add(s);return i&&Object.assign(n.style,i),n}function gs(e){return Pc().createElementNS("http://www.w3.org/2000/svg",e)}function Hwe(e,t){const i=Pc("body"),n=Ot("a",{display:"none"});n.href=e,n.download=t,i.appendChild(n),n.click(),setTimeout(()=>i.removeChild(n))}function _we(e){const t=Di("Option"),{style:i}=new t;return i.color=e,i.color||null}function uv(e){return e!=null}function xt(e){return Array.isArray(e)}function uW(e){return typeof e=="boolean"}function Yg(e){return e instanceof Date}function jC(e){return Yg(e)&&!isNaN(Number(e))}function jwe(e){return e instanceof RegExp}function gd(e){return typeof e=="function"}function In(e){return typeof e=="object"&&e!==null&&!xt(e)}function Ln(e){var t;return typeof e=="object"&&e!==null&&((t=e.constructor)==null?void 0:t.name)==="Object"}function ms(e){return typeof e=="string"}function Vo(e){return typeof e=="number"}function Qt(e){return Number.isFinite(e)}function Vwe(e){return typeof window<"u"&&e instanceof HTMLElement}function C1(e,t){return Object.values(e).includes(t)}function Wwe(e){return typeof e=="symbol"}function dW(e){return ms(e)&&_we(e)!=null}var rp=Symbol("description"),hW=Symbol("required"),b1=class{constructor(e,t,i,n){this.message=e,this.path=t,this.required=i,this.unknown=n}toString(){return this.message}};function Ca(e,t,i=""){var l;if(!In(e)){const u=Uz(i,e,"an object",!0);return{valid:null,errors:[new b1(u,i,!0)]}}const n=[],s=new Set(Object.keys(e)),r=[],o={};function a(u){return xt(t)?`${i}[${u}]`:i?`${i}.${u}`:u}for(const u of Object.keys(t)){const d=t[u],p=e[u],f=d[hW];if(s.delete(u),typeof p>"u"&&(n.push(u),!f))continue;const m=a(u);if(gd(d)){const y={options:e,path:m};if(d(p,y))o[u]=((l=y.result)==null?void 0:l.valid)??p;else if(!y.result){const C=Uz(m,p,d,f);r.push(new b1(C,i,f))}y.result&&r.push(...y.result.errors)}else{const y=Ca(p,d,m);y.valid!=null&&(o[u]=y.valid),r.push(...y.errors)}}for(const u of s){if(typeof e[u]>"u")continue;const p=Uwe(u,a(u),n);r.push(new b1(p,i,void 0,!0))}return{valid:o,errors:r}}function Uz(e,t,i,n){const s=ms(i)?i:i[rp],r=s?`; expecting ${s}`:"",o=e?`Option \`${e}\``:"Value";return n&&t==null?`${o} is required and has not been provided${r}, ignoring.`:`${o} cannot be set to \`${cW(t,50)}\`${r}, ignoring.`}function Uwe(e,t,i){const n=$we(e,i),s=n?`; Did you mean \`${n}\`? Ignoring.`:", ignoring.";return`Unknown option \`${t}\`${s}`}function $we(e,t,i=2){let n=1/0;const s=e.toLowerCase();return t.reduce((r,o)=>{const a=Bwe(s,o.toLowerCase());return n>a&&a<=i?(n=a,o):r},null)}function ui(e,t){return Object.assign(gd(e)?(i,n)=>e(i,n):{...e},{[rp]:t})}function ct(e){return Object.assign(gd(e)?(t,i)=>e(t,i):VC(e),{[hW]:!0,[rp]:e[rp]})}var VC=(e,t="an object")=>ui((i,n)=>(n.result=Ca(i,e,n.path),!n.result.errors.some(s=>s.required&&s.path===n.path)),t),Ywe=(e,t="an object")=>ui((i,n)=>(n.result=Ca(i,e,n.path),n.result.errors=n.result.errors.filter(s=>!s.unknown),!n.result.errors.some(s=>s.required&&s.path===n.path)),t),Ns=(...e)=>ui((t,i)=>e.every(n=>{const s=n(t,i);return i.result&&!s&&delete i.result,s}),e.map(t=>t[rp]).filter(Boolean).join(" and ")),pn=(...e)=>ui((t,i)=>e.some(n=>{const s=n(t,i);return i.result&&!s&&delete i.result,s}),e.map(t=>t[rp]).filter(Boolean).join(" or ")),_S=e=>Qt(e)||jC(e),Kwe=e=>Yg(e)||(Qt(e)||ms(e))&&jC(new Date(e)),Tl=ui(xt,"an array"),Le=ui(uW,"a boolean"),gi=ui(gd,"a function"),It=ui(dW,"a color string"),Lf=ui(Kwe,"a date"),Zr=ui(uv,"a defined value"),rt=ui(Qt,"a number"),$v=ui(In,"an object"),Be=ui(ms,"a string"),cM=(e,t=1/0)=>{let i;return t===1/0?i=`an array of at least ${e} items`:e===t?i=`an array of exactly ${e} items`:i=`an array of at least ${e} and no more than ${t} items`,ui(n=>xt(n)&&n.length>=e&&n.length<=t,i)},pW=(e,t=!0)=>ui(i=>Qt(i)&&(i>e||t&&i===e),`a number greater than ${t?"or equal to ":""}${e}`),qwe=(e,t)=>ui(i=>Qt(i)&&i>=e&&i<=t,`a number between ${e} and ${t} inclusive`),Te=pW(0),Vw=pW(0,!1),Yi=qwe(0,1),Yv=e=>ui((t,{options:i})=>!_S(t)||!_S(i[e])||t<i[e],`the value to be less than \`${e}\``),kA=e=>ui((t,{options:i})=>!_S(t)||!_S(i[e])||t>i[e],`the value to be greater than \`${e}\``);function St(...e){In(e[0])&&(e=Object.values(e[0]));const t=LA(e,"or",i=>`'${i}'`);return ui(i=>e.includes(i),`a keyword such as ${t}`)}var Qs=e=>ui(t=>e===t,`the value ${JSON.stringify(e)}`),Zwe=(e,t)=>ui(i=>i instanceof e,`an instance of ${e.name}`),tn=(e,t)=>ui((i,n)=>xt(i)&&i.every(s=>{const r=e(s,n);return delete n.result,r}),`${e[rp]} array`),op=(e,t="an object array")=>ui((i,n)=>{if(!xt(i))return!1;const s=[],r=[];for(let o=0;o<i.length;o++){const a=`${n.path}[${o}]`,l=Ca(i[o],e,a);r.push(...l.errors),l.errors.some(u=>u.required&&u.path===a)||s.push(l.valid)}return n.result={valid:s,errors:r},!0},t),JL=(e,t="an object")=>{const i=Ywe({type:ct(St(...Object.keys(e)))});return ui((n,s)=>{if(i(n,s)){const r=n.type,o={type:ct(Qs(r)),...e[r]},a=VC(o)(n,s);if(s.result)for(const l of s.result.errors)l.message+=` (type="${r}")`;return a}return!1},t)},Xwe=VC({color:It,stop:Yi},""),Qwe=ui(e=>{let t=-1/0;for(const i of e)if((i==null?void 0:i.stop)!=null){if(i.stop<t)return!1;t=i.stop}return!0},"color stops to be defined in ascending order"),ek=Ns(cM(2),Ns(tn(Xwe),Qwe)),tk=St("axis","item","series"),w1=JL({gradient:{gradient:St("linear","radial","conic"),bounds:tk,colorStops:ct(ek),rotation:rt,reverse:Le}},"a gradient object with color stops"),pr={stroke:It,strokeWidth:Te,strokeOpacity:Yi},Jwe=VC({type:ct(Qs("gradient")),gradient:ct(St("linear","radial","conic")),bounds:ct(tk),colorStops:ct(pn(ek,Ns(cM(2),tn(It)))),rotation:ct(rt),reverse:ct(Le)}),eSe=VC({type:ct(Qs("pattern")),pattern:ct(St("vertical-lines","horizontal-lines","forward-slanted-lines","backward-slanted-lines","circles","squares","triangles","diamonds","stars","hearts","crosses")),width:ct(Te),height:ct(Te),fill:ct(It),fillOpacity:ct(Yi),backgroundFill:ct(It),backgroundFillOpacity:ct(Yi),padding:ct(Te),rotation:ct(rt),stroke:ct(It),strokeWidth:ct(Te),strokeOpacity:ct(Yi)}),tSe={gradient:St("linear","radial","conic"),bounds:tk,reverse:Le},iSe={rotation:rt,padding:Te},nSe=JL({gradient:{...tSe,colorStops:ek,rotation:rt},pattern:{...iSe,pattern:St("vertical-lines","horizontal-lines","forward-slanted-lines","backward-slanted-lines","circles","squares","triangles","diamonds","stars","hearts","crosses"),width:Te,height:Te,fill:It,fillOpacity:Yi,backgroundFill:It,backgroundFillOpacity:Yi,...pr}},"a color object"),ik=pn(It,nSe),Zo={fill:ik,fillOpacity:Yi};Zo.fillGradientDefaults=Jwe;Zo.fillPatternDefaults=eSe;var Al={lineDash:tn(Te),lineDashOffset:rt},Jr={color:It,fontFamily:Be,fontSize:Te,fontStyle:St("normal","italic","oblique"),fontWeight:pn(Te,St("normal","bold","bolder","lighter"))};function jS(e){return typeof e>"u"?[]:Array.isArray(e)?e:[e]}function sSe(e){return Array.from(new Set(e))}function nk(e,t){return e.reduce((i,n)=>{const s=t(n);return i[s]??(i[s]=[]),i[s].push(n),i},{})}function wl(e,t){if(e==null||t==null||e.length!==t.length)return!1;for(let i=0;i<e.length;i++)if(Array.isArray(e[i])&&Array.isArray(t[i])){if(!wl(e[i],t[i]))return!1}else if(e[i]!==t[i])return!1;return!0}function Ey(e,t,i=0){if(e.length===0)return[];const n=[];for(let s=0;s<t;s++)n.push(e.at((s+i)%e.length));return n}function rSe(e,t){const i=new Map;return t.forEach((n,s)=>{i.set(n,s)}),e.sort((n,s)=>{const r=i.get(n)??1/0,o=i.get(s)??1/0;return r-o})}function fW(e,t,i){if(e>t)return;let n;for(;t>=e;){const s=Math.floor((t+e)/2);i(s)?(n=s,e=s+1):t=s-1}return n}function gW(e,t,i){if(e>t)return;let n;for(;t>=e;){const s=Math.floor((t+e)/2);i(s)?(n=s,t=s-1):e=s+1}return n}function oSe(e,t,i){if(e>t)return;let n;for(;t>=e;){const s=Math.floor((t+e)/2),r=i(s);r==null?e=s+1:(n=r,t=s-1)}return n}function aSe(e,t){const i=Math.max(e.length,t.length),n=new Set,s=new Set;for(let r=0;r<i;r++){const o=e[r],a=t[r];o!==a&&(s.has(a)?s.delete(a):a&&n.add(a),n.has(o)?n.delete(o):o&&s.add(o))}return{changed:n.size>0||s.size>0,added:n,removed:s}}function $z(e,t,i){const{leading:n=!0,trailing:s=!0}=i??{};let r,o,a=!1;function l(){s&&o?(r=setTimeout(l,t),e(...o)):a=!1,o=null}function u(...d){a?o=d:(a=!0,r=setTimeout(l,t),n?e(...d):o=d)}return Object.assign(u,{cancel(){clearTimeout(r),a=!1,o=null}})}function*Sh(...e){for(const t of e)yield*t}function lSe(e){return e!=null&&typeof e=="object"&&Symbol.iterator in e?e:[e]}function Ty(e){for(const t of e)return t;throw new Error("AG Charts - no first() value found")}function*Sa(e){const t=[void 0,void 0];for(const i of Object.keys(e))t[0]=i,t[1]=e[i],yield t}function ft(e,t,i){return Math.min(i,Math.max(e,t))}function cSe(e,t,i=1e-10){return e>=t[0]-i&&e<=t[1]+i}function hl(e,t,i=1e-10){return e===t||Math.abs(e-t)<i}function sk(e){return Math.sign(e)===-1||Object.is(e,-0)}function uSe(e){return e%1===0}function Yz(e,t=2){const i=10**t;return Math.round(e*i)/i}function mW(e,t){return Math.floor(e%t+(e<0?Math.abs(t):0))}function rk(e){var s;if(Math.floor(e)===e)return 0;let t=String(e),i=0;if(e<1e-6||e>=1e21){let r;[t,r]=t.split("e"),r!=null&&(i=Number(r))}const n=((s=t.split(".")[1])==null?void 0:s.length)??0;return Math.max(n-i,0)}var yW=/^(?:(.)?([<>=^]))?([+\-( ])?([$€£¥₣₹#])?(0)?(\d+)?(,)?(?:\.(\d+))?(~)?([%a-z])?$/i,vW=/^((?:[^#]|#[^{])*)#{([^}]+)}(.*)$/;function dSe(e){if(!ms(e))return!1;const t=vW.exec(e);return yW.test(t?t[2]:e)}function CW(e){let t,i;const n=vW.exec(e);n&&([,t,e,i]=n);const s=yW.exec(e);if(!s)throw new Error(`The number formatter is invalid: ${e}`);const[,r,o,a,l,u,d,p,f,m,y]=s;return{fill:r,align:o,sign:a,symbol:l,zero:u,width:parseInt(d),comma:p,precision:parseInt(f),trim:!!m,type:y,prefix:t,suffix:i}}function bW(e){const t=typeof e=="string"?CW(e):e,{fill:i,align:n,sign:s="-",symbol:r,zero:o,width:a,comma:l,type:u,prefix:d="",suffix:p="",precision:f}=t;let{trim:m}=t;const y=f==null||isNaN(f);let C;if(!u)C=zo.g,m=!0;else if(u in zo&&u in kf)C=y?kf[u]:zo[u];else if(u in zo)C=zo[u];else if(u in kf)C=kf[u];else throw new Error(`The number formatter type is invalid: ${u}`);let w;return y?w=u?6:12:w=f,b=>{let S=C(b,w);return m&&(S=fSe(S)),l&&(S=gSe(S,l)),S=ySe(b,S,s),r&&r!=="#"&&(S=`${r}${S}`),r==="#"&&u==="x"&&(S=`0x${S}`),u==="s"&&(S=`${S}${mSe(b)}`),(u==="%"||u==="p")&&(S=`${S}%`),a!=null&&!isNaN(a)&&(S=vSe(S,a,i??o,n)),S=`${d}${S}${p}`,S}}var kf={b:e=>nw(e).toString(2),c:e=>String.fromCharCode(e),d:e=>Math.round(Math.abs(e)).toFixed(0),o:e=>nw(e).toString(8),x:e=>nw(e).toString(16),X:e=>kf.x(e).toUpperCase(),n:e=>kf.d(e),"%":e=>`${nw(e*100).toFixed(0)}`},zo={e:(e,t)=>Math.abs(e).toExponential(t),E:(e,t)=>zo.e(e,t).toUpperCase(),f:(e,t)=>Math.abs(e).toFixed(t),F:(e,t)=>zo.f(e,t).toUpperCase(),g:(e,t)=>{if(e===0)return"0";const i=Math.abs(e),n=Math.floor(Math.log10(i));return n>=-4&&n<t?i.toFixed(t-1-n):i.toExponential(t-1)},G:(e,t)=>zo.g(e,t).toUpperCase(),n:(e,t)=>zo.g(e,t),p:(e,t)=>zo.r(e*100,t),r:(e,t)=>{if(e===0)return"0";const i=Math.abs(e),s=Math.floor(Math.log10(i))-(t-1);if(s<=0)return i.toFixed(-s);const r=10**s;return(Math.round(i/r)*r).toFixed()},s:(e,t)=>{const i=xW(e);return zo.r(e/10**i,t)},"%":(e,t)=>zo.f(e*100,t)},wW=-24,SW=24,hSe={[wW]:"y",[-21]:"z",[-18]:"a",[-15]:"f",[-12]:"p",[-9]:"n",[-6]:"µ",[-3]:"m",0:"",3:"k",6:"M",9:"G",12:"T",15:"P",18:"E",21:"Z",[SW]:"Y"},pSe="−";function nw(e){return Math.floor(Math.abs(e))}function fSe(e){return e.replace(/\.0+$/,"").replace(/(\.[1-9])0+$/,"$1")}function gSe(e,t){let i=e.indexOf(".");i<0&&(i=e.length);const n=e.substring(0,i).split(""),s=e.substring(i);for(let r=n.length-3;r>0;r-=3)n.splice(r,0,t);return`${n.join("")}${s}`}function mSe(e){return hSe[xW(e)]}function xW(e){return ft(wW,e?Math.floor(Math.log10(Math.abs(e))/3)*3:0,SW)}function ySe(e,t,i=""){if(i==="(")return e>=0?t:`(${t})`;const n=i==="+"?"+":"";return`${e>=0?n:pSe}${t}`}function vSe(e,t,i=" ",n=">"){let s=e;if(n===">"||!n)s=s.padStart(t,i);else if(n==="<")s=s.padEnd(t,i);else if(n==="^"){const r=Math.max(0,t-s.length),o=Math.ceil(r/2),a=Math.floor(r/2);s=s.padStart(o+s.length,i),s=s.padEnd(a+s.length,i)}return s}var MW=Object.defineProperty,CSe=Object.getOwnPropertyDescriptor,_a=(e,t)=>{for(var i in t)MW(e,i,{get:t[i],enumerable:!0})},I=(e,t,i,n)=>{for(var s=n>1?void 0:n?CSe(t,i):t,r=e.length-1,o;r>=0;r--)(o=e[r])&&(s=(n?o(t,i,s):o(s))||s);return n&&s&&MW(t,i,s),s},uM=class{constructor(){this.destroyFns=[]}destroy(){for(const e of this.destroyFns)e()}},bSe=class{constructor(){this.modules=[],this.dependencies=new Map,this.modulesByOptionKey=new Map}register(...e){for(const t of e){this.registerDependencies(t);const i=this.modules.find(n=>t.type===n.type&&("optionsKey"in t&&"optionsKey"in n?t.optionsKey===n.optionsKey:!0)&&t.identifier===n.identifier);if(i){if(t.packageType==="enterprise"&&i.packageType==="community"){const n=this.modules.indexOf(i);this.modules.splice(n,1,t),"optionsKey"in t&&this.modulesByOptionKey.set(t.optionsKey,t)}}else this.modules.push(t),"optionsKey"in t&&this.modulesByOptionKey.set(t.optionsKey,t)}}hasEnterpriseModules(){return this.modules.some(e=>e.packageType==="enterprise")}*byType(...e){const t=new Set,i=this.modules.filter(r=>e.includes(r.type)),n=r=>{const o=this.dependencies.get(r);return(o==null?void 0:o.flatMap(n).concat(o))??[]},s=[];for(const r of i){const o="optionsKey"in r?r.optionsKey:r.contextKey;if(!t.has(o)){for(const a of n(o)){if(t.has(a))continue;const l=this.modulesByOptionKey.get(a);if(!l){s.push(a);continue}e.includes(l.type)&&(yield l,t.add(a))}yield r,t.add(o)}}if(s.length>0)throw new Error(`Could not resolve module dependencies: ${s}`)}registerDependencies(e){if(e.dependencies==null||e.dependencies.length===0)return;const t="optionsKey"in e?e.optionsKey:e.contextKey;this.dependencies.set(t,e.dependencies)}},Sl=new bSe,dM={containsPoint:wSe,isEmpty:SSe,normalize:xSe};function wSe(e,t,i){return t>=e.x&&t<=e.x+e.width&&i>=e.y&&i<=e.y+e.height}function SSe(e){return e==null||e.height===0||e.width===0||isNaN(e.height)||isNaN(e.width)}function xSe(e){let{x:t,y:i,width:n,height:s}=e;return(n==null||n>0)&&(s==null||s>0)?e:(t!=null&&n!=null&&n<0&&(n=-n,t=t-n),i!=null&&s!=null&&s<0&&(s=-s,i=i-s),{x:t,y:i,width:n,height:s})}var hM=Symbol("interpolate"),VS=e=>e[hM]!=null;function pM(e,t,i,n=1/0){const s={nearest:void 0,distanceSquared:n};for(const r of i){const o=r.distanceSquared(e,t);if(o===0)return{nearest:r,distanceSquared:0};o<s.distanceSquared&&(s.nearest=r,s.distanceSquared=o)}return s}function MSe(e,t,i,n=1/0){var a;const{x:s=e,y:r=t}=((a=i.transformPoint)==null?void 0:a.call(i,e,t))??{},o={nearest:void 0,distanceSquared:n};for(const l of i.children){const{nearest:u,distanceSquared:d}=l.nearestSquared(s,r,o.distanceSquared);if(d===0)return{nearest:u,distanceSquared:d};d<o.distanceSquared&&(o.nearest=u,o.distanceSquared=d)}return o}var Kv=class Mf{constructor(t,i,n,s){this.x=t,this.y=i,this.width=n,this.height=s}static fromDOMRect({x:t,y:i,width:n,height:s}){return new Mf(t,i,n,s)}static merge(t){let i=1/0,n=1/0,s=-1/0,r=-1/0;for(const o of t)o.x<i&&(i=o.x),o.y<n&&(n=o.y),o.x+o.width>s&&(s=o.x+o.width),o.y+o.height>r&&(r=o.y+o.height);return new Mf(i,n,s-i,r-n)}static nearestBox(t,i,n){return pM(t,i,n)}toDOMRect(){return{x:this.x,y:this.y,width:this.width,height:this.height,top:this.y,left:this.x,right:this.x+this.width,bottom:this.y+this.height,toJSON(){return{}}}}clone(){const{x:t,y:i,width:n,height:s}=this;return new Mf(t,i,n,s)}equals(t){return this.x===t.x&&this.y===t.y&&this.width===t.width&&this.height===t.height}containsPoint(t,i){return dM.containsPoint(this,t,i)}intersection(t){if(!this.collidesBBox(t))return;const i=ft(t.x,this.x,t.x+t.width),n=ft(t.y,this.y,t.y+t.height),s=ft(t.x,this.x+this.width,t.x+t.width),r=ft(t.y,this.y+this.height,t.y+t.height);return new Mf(i,n,s-i,r-n)}collidesBBox(t){return this.x<t.x+t.width&&this.x+this.width>t.x&&this.y<t.y+t.height&&this.y+this.height>t.y}computeCenter(){return{x:this.x+this.width/2,y:this.y+this.height/2}}isFinite(){return Number.isFinite(this.x)&&Number.isFinite(this.y)&&Number.isFinite(this.width)&&Number.isFinite(this.height)}distanceSquared(t,i){if(this.containsPoint(t,i))return 0;const n=t-ft(this.x,t,this.x+this.width),s=i-ft(this.y,i,this.y+this.height);return n*n+s*s}shrink(t,i){if(typeof t=="number")this.applyMargin(t,i);else for(const n of Object.keys(t)){const s=t[n];typeof s=="number"&&this.applyMargin(s,n)}return this.width<0&&(this.width=0),this.height<0&&(this.height=0),this}grow(t,i){if(typeof t=="number")this.applyMargin(-t,i);else for(const n of Object.keys(t)){const s=t[n];typeof s=="number"&&this.applyMargin(-s,n)}return this}applyMargin(t,i){switch(i){case"top":this.y+=t;case"bottom":this.height-=t;break;case"left":this.x+=t;case"right":this.width-=t;break;case"vertical":this.y+=t,this.height-=t*2;break;case"horizontal":this.x+=t,this.width-=t*2;break;case void 0:this.x+=t,this.y+=t,this.width-=t*2,this.height-=t*2;break}}translate(t,i){return this.x+=t,this.y+=i,this}[hM](t,i){return new Mf(this.x*(1-i)+t.x*i,this.y*(1-i)+t.y*i,this.width*(1-i)+t.width*i,this.height*(1-i)+t.height*i)}};Kv.zero=Object.freeze(new Kv(0,0,0,0));Kv.NaN=Object.freeze(new Kv(NaN,NaN,NaN,NaN));var Ue=Kv,DSe=2e3,Kz=Date.now(),RSe=()=>{const e=Date.now()-Kz;if(e>DSe){const t=(Math.floor(e/100)/10).toFixed(1);De.log(`**** ${t}s since last log message ****`)}Kz=Date.now()},ii={create(...e){return Object.assign((...i)=>{ii.check(...e)&&(typeof i[0]=="function"&&(i=jS(i[0]())),RSe(),De.log(...i))},{check:()=>ii.check(...e),group:(i,n)=>ii.check(...e)?De.logGroup(i,n):n()})},check(...e){return e.length===0&&e.push(!0),jS(Di("agChartsDebug")).some(i=>e.includes(i))},inDevelopmentMode(e){if(ii.check("dev"))return e()}};function DW({context:e,pixelRatio:t,width:i,height:n}){e.save(),e.resetTransform(),e.clearRect(0,0,Math.ceil(i*t),Math.ceil(n*t)),e.restore()}function RW(e){if(ii.check("canvas")){const t=e.save.bind(e),i=e.restore.bind(e);let n=0;Object.assign(e,{save(){t(),n++},restore(){if(n===0)throw new Error("AG Charts - Unable to restore() past depth 0");i(),n--},verifyDepthZero(){if(n!==0)throw new Error(`AG Charts - Save/restore depth is non-zero: ${n}`)}})}}function qz(e,t,i){return[Math.floor(e*i),Math.floor(t*i)]}var ok=class{constructor(e){const{width:t,height:i,pixelRatio:n,willReadFrequently:s=!1}=e;this.width=t,this.height=i,this.pixelRatio=n;const[r,o]=qz(t,i,n);this.canvas=new OffscreenCanvas(r,o),this.context=this.canvas.getContext("2d",{willReadFrequently:s}),this.context.setTransform(n,0,0,n,0,0),RW(this.context)}drawImage(e,t=0,i=0){return e.drawImage(this.canvas,t,i)}transferToImageBitmap(){return this.canvas.transferToImageBitmap()}resize(e,t,i){if(!(e>0&&t>0))return;const{canvas:n,context:s}=this;if(e!==this.width||t!==this.height||i!==this.pixelRatio){const[r,o]=qz(e,t,i);n.width=r,n.height=o}s.setTransform(i,0,0,i,0,0),this.width=e,this.height=t,this.pixelRatio=i}clear(){DW(this)}destroy(){this.canvas.width=0,this.canvas.height=0,this.context.clearRect(0,0,0,0),this.canvas=null,this.context=null,Object.freeze(this)}},PA=new Map;function ESe(){PA.clear()}function ro(e){const t=e.constructor,i=Object.hasOwn(t,"className")?t.className:t.name;if(!i)throw new Error(`The ${t} is missing the 'className' property.`);const n=(PA.get(i)??0)+1;return PA.set(i,n),`${i}-${n}`}function FA(){var e;return((e=crypto.randomUUID)==null?void 0:e.call(crypto))??TSe()}function TSe(){const e=new Uint8Array(16);crypto.getRandomValues(e),e[6]=e[6]&15|64,e[8]=e[8]&63|128;let t="";for(let i=0;i<e.length;i++)(i===4||i===6||i===8||i===10)&&(t+="-"),t+=e[i].toString(16).padStart(2,"0");return t}function $e(e){return function(t,i){const n=`__${i}`;t[i]||ASe(t,i,n,e)}}function ASe(e,t,i,n){const{type:s="normal",changeCb:r,convertor:o,checkDirtyOnAssignment:a=!1}=n??{},l={changeCb:r,checkDirtyOnAssignment:a,convertor:o};let u;switch(s){case"normal":u=PSe(i,l);break;case"transform":u=FSe(i);break;case"path":u=OSe(i);break}u=kSe(i,LSe(ISe(u,l),l),l),Object.defineProperty(e,t,{set:u,get:function(){return this[i]},enumerable:!0,configurable:!0})}function ISe(e,t){const{convertor:i}=t;return i?function(n){e.call(this,i(n))}:e}var fM=Symbol("no-change");function LSe(e,t){const{changeCb:i}=t;return i?function(n){const s=e.call(this,n);return s!==fM&&i.call(this,this),s}:e}function kSe(e,t,i){const{checkDirtyOnAssignment:n}=i;return n?function(s){const r=t.call(this,s);return(s==null?void 0:s._dirty)===!0&&this.markDirty(e),r}:t}function PSe(e,t){const{changeCb:i}=t;return function(n){const s=this[e];return n!==s?(this[e]=n,this.markDirty(e),i==null||i(this),n):fM}}function FSe(e){return function(t){const i=this[e];return t!==i?(this[e]=t,this.markDirtyTransform(),t):fM}}function OSe(e){return function(t){const i=this[e];return t!==i?(this[e]=t,this._dirtyPath||(this._dirtyPath=!0,this.markDirty(e)),t):fM}}var EW=(e=>(e[e.All=0]="All",e[e.None=1]="None",e))(EW||{}),WC=class OA{constructor(t){this.serialNumber=OA._nextSerialNumber++,this.childNodeCounts={groups:0,nonGroups:0,thisComplexity:0,complexity:0},this.id=ro(this),this.pointerEvents=0,this._dirty=!0,this.dirtyZIndex=!1,this.isContainerNode=!1,this.visible=!0,this.zIndex=0,this.name=t==null?void 0:t.name,this.tag=(t==null?void 0:t.tag)??NaN,this.zIndex=(t==null?void 0:t.zIndex)??0,((t==null?void 0:t.debugDirty)??OA._debugEnabled)&&(this._debugDirtyProperties=new Map([["__first__",[]]]))}static toSVG(t,i,n){var o,a;const s=t==null?void 0:t.toSVG();if(s==null||!s.elements.length&&!((o=s.defs)!=null&&o.length))return;const r=gs("svg");if(r.setAttribute("width",String(i)),r.setAttribute("height",String(n)),r.setAttribute("viewBox",`0 0 ${i} ${n}`),(a=s.defs)!=null&&a.length){const l=gs("defs");l.append(...s.defs),r.append(l)}return r.append(...s.elements),r.outerHTML}static*extractBBoxes(t,i){for(const n of t)if(!i||n.visible&&!n.transitionOut){const s=n.getBBox();s&&(yield s)}}get datum(){return this._datum}set datum(t){this._datum!==t&&(this._previousDatum=this._datum,this._datum=t)}get previousDatum(){return this._previousDatum}get layerManager(){return this._layerManager}get dirty(){return this._dirty}closestDatum(){for(const{datum:t}of this.traverseUp(!0))if(t!=null)return t}preRender(t,i=1){this.childNodeCounts.groups=0,this.childNodeCounts.nonGroups=1,this.childNodeCounts.complexity=i,this.childNodeCounts.thisComplexity=i;for(const n of this.children()){const s=n.preRender(t);this.childNodeCounts.groups+=s.groups,this.childNodeCounts.nonGroups+=s.nonGroups,this.childNodeCounts.complexity+=s.complexity}return this.childNodeCounts}render(t){const{stats:i}=t;if(this._dirty=!1,this.debugDirtyProperties(),t.debugNodeSearch){const n=this.name??this.id;t.debugNodeSearch.some(s=>typeof s=="string"?s===n:s.test(n))&&(t.debugNodes[this.name??this.id]=this)}i&&(i.nodesRendered++,i.opsPerformed+=this.childNodeCounts.thisComplexity)}_setLayerManager(t){this._layerManager=t,this._debug=t==null?void 0:t.debug;for(const i of this.children())i._setLayerManager(t)}sortChildren(t){if(this.dirtyZIndex=!1,!this.childNodes)return;const i=[...this.childNodes].sort(t);this.childNodes.clear();for(const n of i)this.childNodes.add(n)}*traverseUp(t){let i=this;for(t&&(yield i);i=i.parentNode;)yield i}*children(){if(this.childNodes)for(const t of this.childNodes)yield t}*descendants(){for(const t of this.children())yield t,yield*t.descendants()}isLeaf(){var t;return!((t=this.childNodes)!=null&&t.size)}isRoot(){return!this.parentNode}append(t){var i;this.childNodes??(this.childNodes=new Set);for(const n of lSe(t))(i=n.parentNode)==null||i.removeChild(n),this.childNodes.add(n),n.parentNode=this,n._setLayerManager(this.layerManager);this.invalidateCachedBBox(),this.dirtyZIndex=!0,this.markDirty()}appendChild(t){return this.append(t),t}removeChild(t){var i;if(!((i=this.childNodes)!=null&&i.delete(t)))throw new Error(`AG Charts - internal error, unknown child node ${t.name??t.id} in $${this.name??this.id}`);delete t.parentNode,t._setLayerManager(),this.invalidateCachedBBox(),this.dirtyZIndex=!0,this.markDirty()}remove(){var t;(t=this.parentNode)==null||t.removeChild(this)}clear(){var t;for(const i of this.children())delete i.parentNode,i._setLayerManager();(t=this.childNodes)==null||t.clear(),this.invalidateCachedBBox()}destroy(){var t;(t=this.parentNode)==null||t.removeChild(this)}setProperties(t,i){if(i)for(const n of i)this[n]=t[n];else Object.assign(this,t);return this}containsPoint(t,i){return!1}pickNode(t,i){if(!(!this.visible||this.pointerEvents===1||!this.containsPoint(t,i))){if(this.childNodes!=null&&this.childNodes.size!==0){const n=[...this.children()];for(let s=n.length-1;s>=0;s--){const r=n[s].pickNode(t,i);if(r)return r}}else if(!this.isContainerNode)return this}}pickNodes(t,i,n=[]){if(!this.visible||this.pointerEvents===1||!this.containsPoint(t,i))return n;this.isContainerNode||n.push(this);for(const s of this.children())s.pickNodes(t,i,n);return n}invalidateCachedBBox(){var t;this.cachedBBox!=null&&(this.cachedBBox=void 0,(t=this.parentNode)==null||t.invalidateCachedBBox())}getBBox(){return this.cachedBBox==null&&(this.cachedBBox=Object.freeze(this.computeBBox())),this.cachedBBox}computeBBox(){}markDirty(t){const{_dirty:i}=this;t!=null&&this._debugDirtyProperties&&this.markDebugProperties(t),!(this.cachedBBox==null&&i)&&(this.invalidateCachedBBox(),this._dirty=!0,this.parentNode&&this.parentNode.markDirty())}markClean(){if(this._dirty){this._dirty=!1,this.debugDirtyProperties();for(const t of this.children())t.markClean()}}markDebugProperties(t){var s,r,o;const i=((s=this._debugDirtyProperties)==null?void 0:s.get(t))??[],n=((r=new Error().stack)==null?void 0:r.split(`
`).filter(a=>a!=="Error"&&!a.includes(".markDebugProperties")&&!a.includes(".markDirty")&&!a.includes("Object.assign ")&&!a.includes(`${this.constructor.name}.`)))??"unknown";i.push(n[0].replace(" at ","").trim()),(o=this._debugDirtyProperties)==null||o.set(t,i)}debugDirtyProperties(){this._debugDirtyProperties!=null&&(this._debugDirtyProperties.has("__first__")||this._debugDirtyProperties.forEach((t,i)=>{t.length>1&&(console.groupCollapsed(`Property changed multiple times before render: ${this.constructor.name}.${i} (${t.length}x)`),t.forEach(n=>console.log(n)),console.groupEnd())}),this._debugDirtyProperties.clear())}onZIndexChange(){const{parentNode:t}=this;t&&(t.dirtyZIndex=!0)}toSVG(){}};WC._nextSerialNumber=0;WC._debugEnabled=!1;I([$e()],WC.prototype,"visible",2);I([$e({changeCb:e=>e.onZIndexChange()})],WC.prototype,"zIndex",2);var Fc=WC,WS=Symbol("BREAK"),Kf="__decorator_config";function NSe(e,t){ak(e,t).optional=!0}function ak(e,t){Object.getOwnPropertyDescriptor(e,Kf)==null&&Object.defineProperty(e,Kf,{value:{}});const i=e[Kf],n=t.toString();if(typeof i[n]<"u")return i[n];const s=new WeakMap;i[n]={setters:[],getters:[],observers:[],valuesMap:s};const r=Object.getOwnPropertyDescriptor(e,t),o=r==null?void 0:r.set,a=r==null?void 0:r.get;return Object.defineProperty(e,t,{set:function(d){const{setters:p,observers:f}=i[n];let m;p.some(y=>y.length>2)&&(m=a?a.call(this):s.get(this));for(const y of p)if(d=y(this,t,d,m),d===WS)return;o?o.call(this,d):s.set(this,d);for(const y of f)y(this,d,m)},get:function(){let d=a?a.call(this):s.get(this);for(const p of i[n].getters)if(d=p(this,t,d),d===WS)return;return d},enumerable:!0,configurable:!1}),i[n]}function od(e,t,i){return(n,s)=>{const r=ak(n,s);r.setters.push(e),t&&r.getters.unshift(t),i&&Object.assign(r,i)}}function TW(e){return(t,i)=>{ak(t,i).observers.push(e)}}function UC(e){return typeof e<"u"&&Kf in e}function Xu(e){const t=new Set;for(;UC(e);)t.add(e==null?void 0:e[Kf]),e=Object.getPrototypeOf(e);return Array.from(t).flatMap(i=>Object.keys(i))}function AW(e){return Xu(e).reduce((t,i)=>(t[i]=e[i]??null,t),{})}function BSe(e,t){const i=t.toString();for(;UC(e);){const n=e[Kf];if(Object.hasOwn(n,i))return n[i];e=Object.getPrototypeOf(e)}}function Il(e,t){return Array.isArray(e)?!Array.isArray(t)||e.length!==t.length?!1:e.every((i,n)=>Il(i,t[n])):Ln(e)?Ln(t)?lk(e,t,Il):!1:e===t}function lk(e,t,i){for(const n of Object.keys(t))if(!(n in e))return!1;for(const n of Object.keys(e))if(!(n in t)||!i(e[n],t[n]))return!1;return!0}function Vt(...e){const t={};for(const i of e){if(!In(i))continue;const n=UC(i)?Xu(i):Object.keys(i);for(const s of n)Ln(t[s])&&Ln(i[s])?t[s]=Vt(t[s],i[s]):t[s]??(t[s]=i[s])}return t}function qv(...e){const t={};for(const i of e){if(!In(i))continue;const n=UC(i)?Xu(i):Object.keys(i);for(const s of n)Ln(t[s])&&Ln(i[s])?t[s]=qv(t[s],i[s]):s in t||(t[s]??(t[s]=i[s]))}return t}function US(e,...t){return t&&xt(e)?e.map(i=>Vt(i,...t)):e}function IW(e,t){const i={};for(const[n,s]of Sa(e))i[n]=t(s,n,e);return i}function ad(e,t){const i={...e};for(const n of t)delete i[n];return i}function Eg(e,t){return(xt(t)?t:t.split(".")).reduce((n,s)=>n[s],e)}var ck=new Set(["__proto__","constructor","prototype"]);function uk(e,t,i){const n=xt(t)?t.slice():t.split("."),s=n.pop();if(n.some(o=>ck.has(o)))return;const r=n.reduce((o,a)=>o[a],e);return r[s]=i,r[s]}function NA(e,t,i){if(i===void 0)return t;for(const n of e){const s=i[n];s!==void 0&&(t[n]=s)}return t}function jh(e){return e==null||typeof e!="object"||!Ln(e)||(Object.freeze(e),Object.getOwnPropertyNames(e).forEach(t=>{const i=e[t];i!==null&&(typeof i=="object"||typeof i=="function")&&!Object.isFrozen(i)&&jh(i)})),e}var Wo=Math.PI*2,Ay=Math.PI/2;function Li(e){return e%=Wo,e+=Wo,e%=Wo,e}function zSe(e){return e%=Wo,e+=Wo,e!==Wo&&(e%=Wo),e}function Zv(e){return e%=Wo,e<-Math.PI?e+=Wo:e>=Math.PI&&(e-=Wo),e}function Vu(e,t,i){const n=Li(e),s=Li(t),r=Li(i);return s<r?s<=n&&n<=r:s>r?s<=n||n<=r:!0}function Ki(e){return e/180*Math.PI}function GSe(e){return e/Math.PI*180}function gM(e,t){return e=Li(e),t=Li(t),t-e+(e>t?Wo:0)}function LW(e){const t=Li(e);return t<=Ay?t/Ay:t<=Math.PI?(Math.PI-t)/Ay:t<=1.5*Math.PI?(t-Math.PI)/Ay:(Wo-t)/Ay}var Zd=(e,t,i)=>e*(1-i)+t*i,S1=e=>{const t=e<0?-1:1,i=Math.abs(e);return i<=.04045?e/12.92:t*((i+.055)/1.055)**2.4},x1=e=>{const t=e<0?-1:1,i=Math.abs(e);return i>.0031308?t*(1.055*i**(1/2.4)-.055):12.92*e},kW=class ni{constructor(t,i,n,s=1){this.r=ft(0,t||0,1),this.g=ft(0,i||0,1),this.b=ft(0,n||0,1),this.a=ft(0,s||0,1)}static validColorString(t){return t.indexOf("#")>=0?!!ni.parseHex(t):t.indexOf("rgb")>=0?!!ni.stringToRgba(t):ni.nameToHex.has(t.toLowerCase())}static fromString(t){if(t.indexOf("#")>=0)return ni.fromHexString(t);const i=ni.nameToHex.get(t.toLowerCase());if(i)return ni.fromHexString(i);if(t.indexOf("rgb")>=0)return ni.fromRgbaString(t);throw new Error(`Invalid color string: '${t}'`)}static parseHex(t){t=t.replace(/ /g,"").slice(1);let i;switch(t.length){case 6:case 8:i=[];for(let n=0;n<t.length;n+=2)i.push(parseInt(`${t[n]}${t[n+1]}`,16));break;case 3:case 4:i=t.split("").map(n=>parseInt(n,16)).map(n=>n+n*16);break}if((i==null?void 0:i.length)>=3&&i.every(n=>n>=0))return i.length===3&&i.push(255),i}static fromHexString(t){const i=ni.parseHex(t);if(i){const[n,s,r,o]=i;return new ni(n/255,s/255,r/255,o/255)}throw new Error(`Malformed hexadecimal color string: '${t}'`)}static stringToRgba(t){let i=-1,n=-1;for(let a=0;a<t.length;a++){const l=t[a];if(i===-1&&l==="(")i=a;else if(l===")"){n=a;break}}if(i===-1||n===-1)return;const r=t.substring(i+1,n).split(","),o=[];for(let a=0;a<r.length;a++){const l=r[a];let u=parseFloat(l);if(!Number.isFinite(u))return;l.indexOf("%")>=0?(u=ft(0,u,100),u/=100):a===3?u=ft(0,u,1):(u=ft(0,u,255),u/=255),o.push(u)}return o}static fromRgbaString(t){const i=ni.stringToRgba(t);if(i){if(i.length===3)return new ni(i[0],i[1],i[2]);if(i.length===4)return new ni(i[0],i[1],i[2],i[3])}throw new Error(`Malformed rgb/rgba color string: '${t}'`)}static fromArray(t){if(t.length===4)return new ni(t[0],t[1],t[2],t[3]);if(t.length===3)return new ni(t[0],t[1],t[2]);throw new Error("The given array should contain 3 or 4 color components (numbers).")}static fromHSB(t,i,n,s=1){const r=ni.HSBtoRGB(t,i,n);return new ni(r[0],r[1],r[2],s)}static fromHSL(t,i,n,s=1){const r=ni.HSLtoRGB(t,i,n);return new ni(r[0],r[1],r[2],s)}static fromOKLCH(t,i,n,s=1){const r=ni.OKLCHtoRGB(t,i,n);return new ni(r[0],r[1],r[2],s)}static padHex(t){return t.length===1?"0"+t:t}toHexString(){let t="#"+ni.padHex(Math.round(this.r*255).toString(16))+ni.padHex(Math.round(this.g*255).toString(16))+ni.padHex(Math.round(this.b*255).toString(16));return this.a<1&&(t+=ni.padHex(Math.round(this.a*255).toString(16))),t}toRgbaString(t=3){const i=[Math.round(this.r*255),Math.round(this.g*255),Math.round(this.b*255)],n=Math.pow(10,t);return this.a!==1?(i.push(Math.round(this.a*n)/n),`rgba(${i.join(", ")})`):`rgb(${i.join(", ")})`}toString(){return this.a===1?this.toHexString():this.toRgbaString()}toHSB(){return ni.RGBtoHSB(this.r,this.g,this.b)}static RGBtoOKLCH(t,i,n){const s=S1(t),r=S1(i),o=S1(n),a=Math.cbrt(.4122214708*s+.5363325363*r+.0514459929*o),l=Math.cbrt(.2119034982*s+.6806995451*r+.1073969566*o),u=Math.cbrt(.0883024619*s+.2817188376*r+.6299787005*o),d=.2104542553*a+.793617785*l-.0040720468*u,p=1.9779984951*a-2.428592205*l+.4505937099*u,f=.0259040371*a+.7827717662*l-.808675766*u,m=Math.atan2(f,p)*180/Math.PI,y=d,C=Math.hypot(p,f),w=m>=0?m:m+360;return[y,C,w]}static OKLCHtoRGB(t,i,n){const s=t,r=i*Math.cos(n*Math.PI/180),o=i*Math.sin(n*Math.PI/180),a=(s+.3963377774*r+.2158037573*o)**3,l=(s-.1055613458*r-.0638541728*o)**3,u=(s-.0894841775*r-1.291485548*o)**3,d=4.0767416621*a-3.3077115913*l+.2309699292*u,p=-1.2684380046*a+2.6097574011*l-.3413193965*u,f=-.0041960863*a-.7034186147*l+1.707614701*u,m=x1(d),y=x1(p),C=x1(f);return[m,y,C]}static RGBtoHSL(t,i,n){const s=Math.min(t,i,n),r=Math.max(t,i,n),o=(r+s)/2;let a,l;if(r===s)a=0,l=0;else{const u=r-s;l=o>.5?u/(2-r-s):u/(r+s),r===t?a=(i-n)/u+(i<n?6:0):r===i?a=(n-t)/u+2:a=(t-i)/u+4,a*=360/6}return[a,l,o]}static HSLtoRGB(t,i,n){if(t=(t%360+360)%360,i===0)return[n,n,n];const s=n<.5?n*(1+i):n+i-n*i,r=2*n-s;function o(d){return d<0&&(d+=1),d>1&&(d-=1),d<1/6?r+(s-r)*6*d:d<1/2?s:d<2/3?r+(s-r)*(2/3-d)*6:r}const a=o(t/360+1/3),l=o(t/360),u=o(t/360-1/3);return[a,l,u]}static RGBtoHSB(t,i,n){const s=Math.min(t,i,n),r=Math.max(t,i,n),o=r===0?0:(r-s)/r;let a=0;if(s!==r){const l=r-s,u=(r-t)/l,d=(r-i)/l,p=(r-n)/l;t===r?a=p-d:i===r?a=2+u-p:a=4+d-u,a/=6,a<0&&(a=a+1)}return[a*360,o,r]}static HSBtoRGB(t,i,n){t=(t%360+360)%360/360;let s=0,r=0,o=0;if(i===0)s=r=o=n;else{const a=(t-Math.floor(t))*6,l=a-Math.floor(a),u=n*(1-i),d=n*(1-i*l),p=n*(1-i*(1-l));switch(a>>0){case 0:s=n,r=p,o=u;break;case 1:s=d,r=n,o=u;break;case 2:s=u,r=n,o=p;break;case 3:s=u,r=d,o=n;break;case 4:s=p,r=u,o=n;break;case 5:s=n,r=u,o=d;break}}return[s,r,o]}static mix(t,i,n){return new ni(Zd(t.r,i.r,n),Zd(t.g,i.g,n),Zd(t.b,i.b,n),Zd(t.a,i.a,n))}static lighten(t,i){const n=ni.RGBtoOKLCH(t.r,t.g,t.b);return ni.fromOKLCH(ft(0,n[0]+i,1),n[1],n[2])}static darken(t,i){const n=ni.RGBtoOKLCH(t.r,t.g,t.b);return ni.fromOKLCH(ft(0,n[0]-i,1),n[1],n[2])}static interpolate(t,i){const n=1/(t.length-1),s=t.map(r=>ni.RGBtoOKLCH(r.r,r.g,r.b));return Array.from({length:i},(r,o)=>{const a=o/(i-1),l=t.length<=2?0:Math.min(Math.floor(a*(t.length-1)),t.length-2),u=(a-l*n)/n,d=s[l],p=s[l+1];return ni.fromOKLCH(Zd(d[0],p[0],u),Zd(d[1],p[1],u),Zd(d[2],p[2],u))})}};kW.nameToHex=new Map([["aliceblue","#F0F8FF"],["antiquewhite","#FAEBD7"],["aqua","#00FFFF"],["aquamarine","#7FFFD4"],["azure","#F0FFFF"],["beige","#F5F5DC"],["bisque","#FFE4C4"],["black","#000000"],["blanchedalmond","#FFEBCD"],["blue","#0000FF"],["blueviolet","#8A2BE2"],["brown","#A52A2A"],["burlywood","#DEB887"],["cadetblue","#5F9EA0"],["chartreuse","#7FFF00"],["chocolate","#D2691E"],["coral","#FF7F50"],["cornflowerblue","#6495ED"],["cornsilk","#FFF8DC"],["crimson","#DC143C"],["cyan","#00FFFF"],["darkblue","#00008B"],["darkcyan","#008B8B"],["darkgoldenrod","#B8860B"],["darkgray","#A9A9A9"],["darkgreen","#006400"],["darkgrey","#A9A9A9"],["darkkhaki","#BDB76B"],["darkmagenta","#8B008B"],["darkolivegreen","#556B2F"],["darkorange","#FF8C00"],["darkorchid","#9932CC"],["darkred","#8B0000"],["darksalmon","#E9967A"],["darkseagreen","#8FBC8F"],["darkslateblue","#483D8B"],["darkslategray","#2F4F4F"],["darkslategrey","#2F4F4F"],["darkturquoise","#00CED1"],["darkviolet","#9400D3"],["deeppink","#FF1493"],["deepskyblue","#00BFFF"],["dimgray","#696969"],["dimgrey","#696969"],["dodgerblue","#1E90FF"],["firebrick","#B22222"],["floralwhite","#FFFAF0"],["forestgreen","#228B22"],["fuchsia","#FF00FF"],["gainsboro","#DCDCDC"],["ghostwhite","#F8F8FF"],["gold","#FFD700"],["goldenrod","#DAA520"],["gray","#808080"],["green","#008000"],["greenyellow","#ADFF2F"],["grey","#808080"],["honeydew","#F0FFF0"],["hotpink","#FF69B4"],["indianred","#CD5C5C"],["indigo","#4B0082"],["ivory","#FFFFF0"],["khaki","#F0E68C"],["lavender","#E6E6FA"],["lavenderblush","#FFF0F5"],["lawngreen","#7CFC00"],["lemonchiffon","#FFFACD"],["lightblue","#ADD8E6"],["lightcoral","#F08080"],["lightcyan","#E0FFFF"],["lightgoldenrodyellow","#FAFAD2"],["lightgray","#D3D3D3"],["lightgreen","#90EE90"],["lightgrey","#D3D3D3"],["lightpink","#FFB6C1"],["lightsalmon","#FFA07A"],["lightseagreen","#20B2AA"],["lightskyblue","#87CEFA"],["lightslategray","#778899"],["lightslategrey","#778899"],["lightsteelblue","#B0C4DE"],["lightyellow","#FFFFE0"],["lime","#00FF00"],["limegreen","#32CD32"],["linen","#FAF0E6"],["magenta","#FF00FF"],["maroon","#800000"],["mediumaquamarine","#66CDAA"],["mediumblue","#0000CD"],["mediumorchid","#BA55D3"],["mediumpurple","#9370DB"],["mediumseagreen","#3CB371"],["mediumslateblue","#7B68EE"],["mediumspringgreen","#00FA9A"],["mediumturquoise","#48D1CC"],["mediumvioletred","#C71585"],["midnightblue","#191970"],["mintcream","#F5FFFA"],["mistyrose","#FFE4E1"],["moccasin","#FFE4B5"],["navajowhite","#FFDEAD"],["navy","#000080"],["oldlace","#FDF5E6"],["olive","#808000"],["olivedrab","#6B8E23"],["orange","#FFA500"],["orangered","#FF4500"],["orchid","#DA70D6"],["palegoldenrod","#EEE8AA"],["palegreen","#98FB98"],["paleturquoise","#AFEEEE"],["palevioletred","#DB7093"],["papayawhip","#FFEFD5"],["peachpuff","#FFDAB9"],["peru","#CD853F"],["pink","#FFC0CB"],["plum","#DDA0DD"],["powderblue","#B0E0E6"],["purple","#800080"],["rebeccapurple","#663399"],["red","#FF0000"],["rosybrown","#BC8F8F"],["royalblue","#4169E1"],["saddlebrown","#8B4513"],["salmon","#FA8072"],["sandybrown","#F4A460"],["seagreen","#2E8B57"],["seashell","#FFF5EE"],["sienna","#A0522D"],["silver","#C0C0C0"],["skyblue","#87CEEB"],["slateblue","#6A5ACD"],["slategray","#708090"],["slategrey","#708090"],["snow","#FFFAFA"],["springgreen","#00FF7F"],["steelblue","#4682B4"],["tan","#D2B48C"],["teal","#008080"],["thistle","#D8BFD8"],["tomato","#FF6347"],["transparent","#00000000"],["turquoise","#40E0D0"],["violet","#EE82EE"],["wheat","#F5DEB3"],["white","#FFFFFF"],["whitesmoke","#F5F5F5"],["yellow","#FFFF00"],["yellowgreen","#9ACD32"]]);var ci=kW,mM=class{ticks(e,t,i){}niceDomain(e,t=this.domain){return t}tickFormatter(e){}datumFormatter(e){}get bandwidth(){}get step(){}get inset(){}},Kg=(e,t)=>{const i=Symbol(String(t));e[i]=void 0,Object.defineProperty(e,t,{get(){return this[i]},set(n){this[i]!==n&&(this[i]=n,this.invalid=!0)},enumerable:!0,configurable:!1})},Zz=e=>{const t=ci.fromString(e),[i,n,s]=ci.RGBtoOKLCH(t.r,t.g,t.b);return{l:i,c:n,h:s,a:t.a}},M1=1e-6,Xz=e=>e.c<M1||e.l<M1||e.l>1-M1,HSe=(e,t,i)=>{i=ft(0,i,1);let n;if(Xz(e))n=t.h;else if(Xz(t))n=e.h;else{const a=e.h;let l=t.h;const u=t.h-e.h;u>180?l-=360:u<-180&&(l+=360),n=a*(1-i)+l*i}const s=e.c*(1-i)+t.c*i,r=e.l*(1-i)+t.l*i,o=e.a*(1-i)+t.a*i;return ci.fromOKLCH(r,s,n,o)},qg=class extends mM{constructor(){super(...arguments),this.type="color",this.invalid=!0,this.domain=[0,1],this.range=["red","blue"],this.parsedRange=this.range.map(Zz)}update(){const{domain:e,range:t}=this;e.length<2&&(De.warnOnce("`colorDomain` should have at least 2 values."),e.length===0?e.push(0,1):e.length===1&&e.push(e[0]+1));for(let i=1;i<e.length;i++){const n=e[i-1],s=e[i];if(n>=s){De.warnOnce("`colorDomain` values should be supplied in ascending order."),e.sort((r,o)=>r-o);break}}if(t.length<e.length)for(let i=t.length;i<e.length;i++)t.push(t.length>0?t[0]:"black");this.parsedRange=this.range.map(Zz)}normalizeDomains(...e){return{domain:e.flat(),animatable:!0}}toDomain(){}convert(e){this.refresh();const{domain:t,range:i,parsedRange:n}=this,s=t[0],r=t.at(-1),o=i[0],a=i[i.length-1];if(e<=s)return o;if(e>=r)return a;let l,u;if(t.length===2){const f=(e-s)/(r-s),m=1/(i.length-1);l=i.length<=2?0:Math.min(Math.floor(f*(i.length-1)),i.length-2),u=(f-l*m)/m}else{for(l=0;l<t.length-2&&!(e<t[l+1]);l++);const f=t[l],m=t[l+1];u=(e-f)/(m-f)}const d=n[l],p=n[l+1];return HSe(d,p,u).toRgbaString()}invert(){}refresh(){this.invalid&&(this.invalid=!1,this.update(),this.invalid&&De.warnOnce("Expected update to not invalidate scale"))}};I([Kg],qg.prototype,"domain",2);I([Kg],qg.prototype,"range",2);var yM=class{constructor(e,t=[],i){this.colorSpace=e,this.stops=t,this.bbox=i,this._cache=void 0}createGradient(e,t,i){const n=this.bbox??t;if(isNaN(n.x)||isNaN(n.y))return;if(this._cache!=null&&this._cache.ctx===e&&this._cache.bbox.equals(n))return this._cache.gradient;const{stops:s,colorSpace:r}=this;if(s.length===0)return;if(s.length===1)return s[0].color;let o=this.createCanvasGradient(e,n,i);if(o==null)return;const a=r==="oklch",l=.05;let u=s[0];o.addColorStop(u.stop,u.color);for(let d=1;d<s.length;d+=1){const p=s[d];if(a){const f=new qg;f.domain=[u.stop,p.stop],f.range=[u.color,p.color];for(let m=u.stop+l;m<p.stop;m+=l)o.addColorStop(m,f.convert(m))}o.addColorStop(p.stop,p.color),u=p}return"createPattern"in o&&(o=o.createPattern()),this._cache={ctx:e,bbox:n,gradient:o},o}toSvg(e){const t=this.bbox??e,i=this.createSvgGradient(t);return this.stops.forEach(({stop:n,color:s})=>{const r=gs("stop");r.setAttribute("offset",`${n}`),r.setAttribute("stop-color",`${s}`),i.appendChild(r)}),i}},PW=class extends yM{constructor(e,t,i=0,n){super(e,t,n),this.angle=i}createCanvasGradient(e,t,i){const{angle:s}=this,r=Li(Ki(s+-90)),o=(i==null?void 0:i.centerX)??t.x+t.width*.5,a=(i==null?void 0:i.centerY)??t.y+t.height*.5;return e.createConicGradient(r,o,a)}createSvgGradient(e){return gs("linearGradient")}},FW=class extends yM{constructor(e,t,i=0,n){super(e,t,n),this.angle=i}getGradientPoints(e){const{angle:i}=this,n=Li(Ki(i+90)),s=Math.cos(n),r=Math.sin(n),o=e.width,a=e.height,l=e.x+o*.5,u=e.y+a*.5,d=Math.sqrt(a*a+o*o)/2,p=Math.atan2(a,o);let f;n<Math.PI/2?f=n:n<Math.PI?f=Math.PI-n:n<1.5*Math.PI?f=n-Math.PI:f=2*Math.PI-n;const m=d*Math.abs(Math.cos(f-p));return{x0:l+s*m,y0:u+r*m,x1:l-s*m,y1:u-r*m}}createCanvasGradient(e,t){const{x0:i,y0:n,x1:s,y1:r}=this.getGradientPoints(t);return e.createLinearGradient(i,n,s,r)}createSvgGradient(e){const{x0:t,y0:i,x1:n,y1:s}=this.getGradientPoints(e),r=gs("linearGradient");return r.setAttribute("x1",String(t)),r.setAttribute("y1",String(i)),r.setAttribute("x2",String(n)),r.setAttribute("y2",String(s)),r.setAttribute("gradientUnits","userSpaceOnUse"),r}},_Se=class extends yM{constructor(e,t,i){super(e,t,i)}createCanvasGradient(e,t,i){const n=(i==null?void 0:i.centerX)??t.x+t.width*.5,s=(i==null?void 0:i.centerY)??t.y+t.height*.5,r=(i==null?void 0:i.innerRadius)??0,o=(i==null?void 0:i.outerRadius)??Math.hypot(t.width*.5,t.height*.5)/Math.SQRT2;return e.createRadialGradient(n,s,r,n,s,o)}createSvgGradient(e){const t=e.x+e.width*.5,i=e.y+e.height*.5,n=gs("radialGradient");return n.setAttribute("cx",String(t)),n.setAttribute("cy",String(i)),n.setAttribute("r",String(Math.hypot(e.width*.5,e.height*.5)/Math.SQRT2)),n.setAttribute("gradientUnits","userSpaceOnUse"),n}},gt=class{handleUnknownProperties(e,t){}set(e){const{className:t=this.constructor.name}=this.constructor;if(typeof e!="object")return De.warn(`unable to set ${t} - expecting a properties object`),this;const i=new Set(Object.keys(e));for(const n of Xu(this))if(i.has(n)){const s=e[n],r=this;if(Ll(r[n]))if(r[n]instanceof $C){const o=r[n].reset(s);o!=null?r[n]=o:De.warn(`unable to set [${n}] - expecting a properties array`)}else r[n].set(s);else Ln(s)?r[n]=qv(s,r[n]??{}):r[n]=s;i.delete(n)}this.handleUnknownProperties(i,e);for(const n of i)De.warn(`unable to set [${n}] in ${t} - property is unknown`);return this}isValid(e){return Xu(this).every(t=>{const i=BSe(this,t);if(i==null)return!0;const n=i.optional===!0||typeof this[t]<"u";return n||De.warnOnce(`${e??""}[${t}] is required.`),n})}toJson(){return Xu(this).reduce((e,t)=>{const i=this[t];return e[t]=Ll(i)?i.toJson():i,e},{})}},$C=class OW extends Array{constructor(t,...i){super(i.length);const s=(r=>{var o,a;return!!((a=(o=r==null?void 0:r.prototype)==null?void 0:o.constructor)!=null&&a.name)})(t)?r=>new t().set(r):t;Object.defineProperty(this,"itemFactory",{value:s,enumerable:!1,configurable:!1}),this.set(i)}set(t){if(xt(t)){this.length=t.length;for(let i=0;i<t.length;i++)this[i]=this.itemFactory(t[i])}return this}reset(t){if(Array.isArray(t))return new OW(this.itemFactory,...t)}toJson(){return this.map(t=>{var i;return((i=t==null?void 0:t.toJson)==null?void 0:i.call(t))??t})}};function Ll(e){return e instanceof gt||e instanceof $C}function jSe(e,t={}){const{optional:i=!1}=t;return od((n,s,r)=>{const o={...t,target:n,property:s};if(i&&typeof r>"u"||e(r,o))return Ll(n[s])&&!Ll(r)?(n[s].set(r),n[s]):r;const a=cW(r,50),l=String(s).replace(/^_*/,""),u=n.constructor.className??n.constructor.name.replace(/Properties$/,""),d=e.message?`; expecting ${YC(e,o)}`:"";return De.warn(`Property [${l}] of [${u}] cannot be set to [${a}]${d}, ignoring.`),WS},void 0,{optional:i})}var O=()=>NSe,md=(...e)=>{const t=[];return yi((i,n)=>(t.length=0,e.every(s=>{const r=s(i,n);return r||t.push(YC(s,n)),r})),()=>t.filter(Boolean).join(" AND "))},Hs=(...e)=>yi((t,i)=>e.some(n=>n(t,i)),t=>e.map(mxe(t)).filter(Boolean).join(" OR ")),NW=wM(yi((e,t)=>Ll(e)||In(e)&&Ll(t.target[t.property]),"a properties object")),VSe=wM(yi(e=>In(e),"an object")),BW=yi(uW,"a boolean"),WSe=yi(gd,"a function"),zW=yi(ms,"a string"),oo=vxe(yi(Qt,"a number")),USe=yi(e=>Vo(e)&&!isNaN(e),"a real number"),vM=yi(e=>Vo(e)&&isNaN(e),"NaN"),dk=oo.restrict({min:0}),$Se=oo.restrict({min:0,max:1}),hk=Hs(oo,vM),pk=yxe(yi(xt,"an array")),ss=(e,t)=>yi((i,n)=>xt(i)&&i.every(s=>e(s,n)),i=>{const n=YC(pk,i)??"";return typeof t=="function"?`${n} of ${t(i)}`:t?`${n} of ${t}`:n}),$S=e=>Qt(e)||jC(e),CM=e=>yi((t,i)=>!$S(t)||!$S(i.target[e])||t<i.target[e],`to be less than ${e}`),bM=e=>yi((t,i)=>!$S(t)||!$S(i.target[e])||t>i.target[e],`to be greater than ${e}`),fk=yi(jC,"Date object"),gk=Hs(fk,dk),GW="A color string can be in one of the following formats to be valid: #rgb, #rrggbb, rgb(r, g, b), rgba(r, g, b, a) or a CSS color name such as 'white', 'orange', 'cyan', etc",ao=yi(dW,`color string. ${GW}`),Nl=wM(yi(e=>In(e)&&e.type==="gradient","a color gradient object")),Bl=wM(yi(e=>In(e)&&e.type==="pattern","a color pattern object")),mk=yi(ss(ao),`color strings. ${GW}`),YSe=ss(BW,"boolean values"),KSe=ss(oo,"numbers"),qSe=ss(zW,"strings"),ZSe=yi(ss(fk),"Date objects"),XSe=yi(ss(NW),"objects"),QSe=vi(["butt","round","square"],"a line cap"),JSe=vi(["round","bevel","miter"],"a line join"),exe=vi(["solid","dashed","dotted"],"a line style"),txe=yi(ss(dk),"numbers specifying the length in pixels of alternating dashes and gaps, for example, [6, 3] means dashes with a length of 6 pixels with gaps between of 3 pixels."),ixe=vi(["top","right","bottom","left"],"a position"),nxe=vi(["normal","italic","oblique"],"a font style"),sxe=Hs(vi(["normal","bold","bolder","lighter"],"a font weight"),oo.restrict({min:1,max:1e3})),rxe=vi(["never","always","hyphenate","on-space"],"a text wrap strategy"),oxe=vi(["left","center","right"],"a text align"),axe=vi(["top","middle","bottom"],"a vertical align"),lxe=vi(["ellipsis","hide"],"an overflow strategy"),cxe=vi(["horizontal","vertical"],"a direction"),uxe=vi(["inside","outside"],"a placement"),dxe=Hs(vi(["exact","nearest"],"interaction range"),oo),hxe=vi(["top","bottom","left","right"]);function vi(e,t="a"){return yi((i,n)=>{const s=e.find(r=>{const o=typeof r=="string"?r:r.value;return i===o});if(s==null)return!1;if(typeof s!="string"&&(s.deprecated===!0||s.deprecatedTo!=null)){const r=[`Property [%s] with value '${s.value}' is deprecated.`];s.deprecatedTo&&r.push(`Use ${s.deprecatedTo} instead.`),De.warnOnce(r.join(" "),n.property)}return!0},`${t} keyword such as ${gxe(e)}`)}var pxe=Hs(md(oo.restrict({min:1}),CM("maxSpacing")),vM),fxe=Hs(md(oo.restrict({min:1}),bM("minSpacing")),vM);function yi(e,t){return e.message=t,e}function gxe(e){const t=e.filter(n=>typeof n=="string"||n.undocumented!==!0).map(n=>`'${typeof n=="string"?n:n.value}'`);if(t.length===1)return t[0];const i=t.pop();return`${t.join(", ")} or ${i}`}function YC(e,t){return gd(e.message)?e.message(t):e.message}function mxe(e){return t=>YC(t,e)}function yxe(e){return Object.assign(e,{restrict({length:t,minLength:i}={}){let n="an array";return Vo(i)&&i>0?n="a non-empty array":Vo(t)&&(n=`an array of length ${t}`),yi(s=>xt(s)&&(Vo(t)?s.length===t:!0)&&(Vo(i)?s.length>=i:!0),n)}})}function vxe(e){return Object.assign(e,{restrict({min:t,max:i}={}){const n=["a number"],s=Vo(t),r=Vo(i);return s&&r?n.push(`between ${t} and ${i} inclusive`):s?n.push(`greater than or equal to ${t}`):r&&n.push(`less than or equal to ${i}`),yi(o=>Qt(o)&&(s?o>=t:!0)&&(r?o<=i:!0),n.join(" "))}})}function wM(e){return Object.assign(e,{restrict(t){return yi(i=>i instanceof t,i=>YC(e,i)??`an instance of ${t.name}`)}})}var yk=class extends gt{constructor(){super(...arguments),this.color="black"}};I([O()],yk.prototype,"stop",2);I([O()],yk.prototype,"color",2);function Cxe(e){let t;for(const i of e)if((i==null?void 0:i.stop)!=null){if(t!=null&&i.stop<t)return!1;t=i.stop}return!0}function HW(e){return e.flatMap((t,i)=>{var r;const{stop:n}=t,s=(r=e.at(i+1))==null?void 0:r.color;return s!=null?[t,{stop:n,color:s}]:[t]})}function bxe(e,t){const i=t==="discrete"?1:0,n=e.map((s,r,{length:o})=>({stop:(r+i)/(o-1+i),color:s}));return t==="discrete"?HW(n):n}function _W(e,t,i,n="continuous"){var y,C,w,b;const s=e.map(S=>typeof S=="string"?{color:S}:S);if(s.length===0)return bxe(t,n);if(!Cxe(s))return De.warnOnce("[fills] must have the stops defined in ascending order"),[];const r=Math.min(...i),o=Math.max(...i),a=n==="discrete",l=new Float64Array(s.length);let u=0,d=-1;for(let S=0;S<s.length;S+=1){const M=s[S];if(S>=d){d=s.length-1;for(let R=S+1;R<s.length;R+=1)if(((y=s[R])==null?void 0:y.stop)!=null){d=R;break}}let D=M==null?void 0:M.stop;if(D==null){const R=(C=s[u])==null?void 0:C.stop,A=(w=s[d])==null?void 0:w.stop,k=R??r,F=A??o,P=a&&R==null?1:0;D=k+(F-k)*(S-u+P)/(d-u+P)}else u=S;l[S]=Math.max(0,Math.min(1,(D-r)/(o-r)))}let p=(b=s.find(S=>S.color!=null))==null?void 0:b.color,f;const m=s.map((S,M)=>{let D=S==null?void 0:S.color;const R=l[M];return D!=null?p=D:p!=null?D=p:(f==null&&(f=new qg,f.domain=[0,1],f.range=t),D=f.convert(R)),{stop:R,color:D}});return n==="discrete"?HW(m):m}function dv(e,t,i,n){const s=e-i,r=t-n;return s*s+r*r}function hv(e,t,i,n,s,r,o){if(i===s&&n===r)return Math.min(o,dv(e,t,i,n));const a=s-i,l=r-n,u=Math.max(0,Math.min(1,((e-i)*a+(t-n)*l)/(a*a+l*l))),d=i+u*a,p=n+u*l;return Math.min(o,dv(e,t,d,p))}function wxe(e,t,i,n,s,r,o,a,l){a&&([o,r]=[r,o]);const u=Math.atan2(t-n,e-i);if(!Vu(u,r,o)){const p=i+Math.cos(r)*s,f=n+Math.sin(r)*s,m=i+Math.cos(r)*s,y=n+Math.sin(r)*s;return Math.min(l,dv(e,t,p,f),dv(e,t,m,y))}const d=s-Math.sqrt(dv(e,t,i,n));return Math.min(l,d*d)}function Sxe(e,t){const i=-t/e;return e!==0&&i>=0&&i<=1?[i]:[]}function xxe(e,t,i){if(e===0)return Sxe(t,i);const n=t*t-4*e*i,s=[];if(n===0){const r=-t/(2*e);r>=0&&r<=1&&s.push(r)}else if(n>0){const r=Math.sqrt(n),o=(-t-r)/(2*e),a=(-t+r)/(2*e);o>=0&&o<=1&&s.push(o),a>=0&&a<=1&&s.push(a)}return s}function Mxe(e,t,i,n){if(e===0)return xxe(t,i,n);const s=t/e,r=i/e,o=n/e,a=(3*r-s*s)/9,l=(9*s*r-27*o-2*s*s*s)/54,u=a*a*a+l*l,d=1/3,p=[];if(u>=0){const f=Math.sqrt(u),m=Math.sign(l+f)*Math.pow(Math.abs(l+f),d),y=Math.sign(l-f)*Math.pow(Math.abs(l-f),d),C=Math.abs(Math.sqrt(3)*(m-y)/2),w=-.3333333333333333*s+(m+y);if(w>=0&&w<=1&&p.push(w),C===0){const b=-.3333333333333333*s-(m+y)/2;b>=0&&b<=1&&p.push(b)}}else{const f=Math.acos(l/Math.sqrt(-a*a*a)),m=d*s,y=2*Math.sqrt(-a),C=y*Math.cos(d*f)-m,w=y*Math.cos(d*(f+2*Math.PI))-m,b=y*Math.cos(d*(f+4*Math.PI))-m;C>=0&&C<=1&&p.push(C),w>=0&&w<=1&&p.push(w),b>=0&&b<=1&&p.push(b)}return p}function Pf(e,t,i,n,s,r,o,a){const l=(i-e)*(a-r)-(n-t)*(o-s);if(l===0)return 0;const u=((o-s)*(t-r)-(e-s)*(a-r))/l,d=((i-e)*(t-r)-(n-t)*(e-s))/l;return u>=0&&u<=1&&d>=0&&d<=1?1:0}function Dxe(e,t,i,n,s,r,o,a,l,u,d,p){let f=0;const m=u-p,y=d-l,C=l*(p-u)-u*(d-l),w=Qz(e,i,s,o),b=Qz(t,n,r,a),S=m*w[0]+y*b[0],M=m*w[1]+y*b[1],D=m*w[2]+y*b[2],R=m*w[3]+y*b[3]+C,A=Mxe(S,M,D,R);for(const k of A){const F=k*k,P=k*F,L=w[0]*P+w[1]*F+w[2]*k+w[3],z=b[0]*P+b[1]*F+b[2]*k+b[3];let H;l===d?H=(z-u)/(p-u):H=(L-l)/(d-l),H>=0&&H<=1&&f++}return f}function Qz(e,t,i,n){return[-e+3*t-3*i+n,3*e-6*t+3*i,-3*e+3*t,e]}function jW(e,t,i,n,s,r,o,a,l,u){if(isNaN(e)||isNaN(t))return 0;r&&([s,n]=[n,s]);const d=(u-a)/(l-o),p=a-d*o,f=Math.pow(d,2)+1,m=2*(d*(p-t)-e),y=Math.pow(e,2)+Math.pow(p-t,2)-Math.pow(i,2),C=Math.pow(m,2)-4*f*y;if(C<0)return 0;const w=(-m+Math.sqrt(C))/2/f,b=(-m-Math.sqrt(C))/2/f;let S=0;return[w,b].forEach(M=>{if(!(M>=Math.min(o,l)&&M<=Math.max(o,l)))return;const R=d*M+p,A=M-e,k=R-t,F=Math.atan2(k,A);Vu(F,n,s)&&S++}),S}function YS(e,t,i,n,s){return(1-s)**3*e+3*(1-s)**2*s*t+3*(1-s)*s**2*i+s**3*n}function KS(e,t,i,n,s){if(s<=Math.min(e,n))return e<n?0:1;if(s>=Math.max(e,n))return e<n?1:0;let r=0,o=1,a=NaN;for(let l=0;l<12;l+=1)a=(r+o)/2,YS(e,t,i,n,a)<s?r=a:o=a;return a}function qS(e,t,i,n,s,r,o,a,l){const u=(1-l)*e+l*i,d=(1-l)*t+l*n,p=(1-l)*i+l*s,f=(1-l)*n+l*r,m=(1-l)*s+l*o,y=(1-l)*r+l*a,C=(1-l)*u+l*p,w=(1-l)*d+l*f,b=(1-l)*p+l*m,S=(1-l)*f+l*y,M=(1-l)*C+l*b,D=(1-l)*w+l*S;return[[{x:e,y:t},{x:u,y:d},{x:C,y:w},{x:M,y:D}],[{x:M,y:D},{x:b,y:S},{x:m,y},{x:o,y:a}]]}function BA(e,t,i,n){const s=-e+3*t-3*i+n,r=3*e-6*t+3*i,o=-3*e+3*t;if(s===0){if(r!==0){const l=-o/r;if(l>0&&l<1)return[l]}return[]}const a=r*r-4*s*o;if(a>=0){const l=Math.sqrt(a),u=(-r+l)/(2*s),d=(-r-l)/(2*s);return[u,d].filter(p=>p>0&&p<1)}return[]}function VW(e,t,i,n,s,r,o,a){const l=BA(e,i,s,o),u=BA(t,n,r,a);return[...l,...u]}var Tg=class{constructor(){this.path2d=new Path2D,this.previousCommands=[],this.previousParams=[],this.previousClosedPath=!1,this.commands=[],this.params=[],this.openedPath=!1,this.closedPath=!1}isEmpty(){return this.commands.length===0}isDirty(){return this.closedPath!==this.previousClosedPath||this.previousCommands.length!==this.commands.length||this.previousParams.length!==this.params.length||this.previousCommands.toString()!==this.commands.toString()||this.previousParams.toString()!==this.params.toString()}getPath2D(){return this.path2d}moveTo(e,t){this.openedPath=!0,this.path2d.moveTo(e,t),this.commands.push(0),this.params.push(e,t)}lineTo(e,t){this.openedPath?(this.path2d.lineTo(e,t),this.commands.push(1),this.params.push(e,t)):this.moveTo(e,t)}rect(e,t,i,n){this.moveTo(e,t),this.lineTo(e+i,t),this.lineTo(e+i,t+n),this.lineTo(e,t+n),this.closePath()}roundRect(e,t,i,n,s){s=Math.min(s,i/2,n/2),this.moveTo(e,t+s),this.arc(e+s,t+s,s,Math.PI,1.5*Math.PI),this.lineTo(e+s,t),this.lineTo(e+i-s,t),this.arc(e+i-s,t+s,s,1.5*Math.PI,2*Math.PI),this.lineTo(e+i,t+s),this.lineTo(e+i,t+n-s),this.arc(e+i-s,t+n-s,s,0,Math.PI/2),this.lineTo(e+i-s,t+n),this.lineTo(e+s,t+n),this.arc(e+ +s,t+n-s,s,Math.PI/2,Math.PI),this.lineTo(e,t+n-s),this.closePath()}arc(e,t,i,n,s,r){this.openedPath=!0,this.path2d.arc(e,t,i,n,s,r),this.commands.push(2),this.params.push(e,t,i,n,s,r?1:0)}cubicCurveTo(e,t,i,n,s,r){this.openedPath||this.moveTo(e,t),this.path2d.bezierCurveTo(e,t,i,n,s,r),this.commands.push(3),this.params.push(e,t,i,n,s,r)}closePath(){this.openedPath&&(this.path2d.closePath(),this.commands.push(4),this.openedPath=!1,this.closedPath=!0)}clear(e){e&&(this.previousCommands=this.commands,this.previousParams=this.params,this.previousClosedPath=this.closedPath),this.path2d=new Path2D,this.openedPath=!1,this.closedPath=!1,this.commands=[],this.params=[]}isPointInPath(e,t){const i=this.commands,n=this.params,s=i.length,r=-1e4,o=-1e4;let a=NaN,l=NaN,u=0,d=0,p=0;for(let f=0,m=0;f<s;f++)switch(i[f]){case 0:p+=Pf(a,l,u,d,r,o,e,t),u=n[m++],a=u,d=n[m++],l=d;break;case 1:p+=Pf(u,d,n[m++],n[m++],r,o,e,t),u=n[m-2],d=n[m-1];break;case 3:p+=Dxe(u,d,n[m++],n[m++],n[m++],n[m++],n[m++],n[m++],r,o,e,t),u=n[m-2],d=n[m-1];break;case 2:{const y=n[m++],C=n[m++],w=n[m++],b=n[m++],S=n[m++],M=!!n[m++];if(p+=jW(y,C,w,b,S,M,r,o,e,t),!isNaN(a)){const D=y+Math.cos(b)*w,R=C+Math.sin(b)*w;p+=Pf(u,d,D,R,r,o,e,t)}u=y+Math.cos(S)*w,d=C+Math.sin(S)*w;break}case 4:p+=Pf(a,l,u,d,r,o,e,t);break}return p%2===1}distanceSquared(e,t){let i=1/0;const n=this.commands,s=this.params,r=n.length;let o=NaN,a=NaN,l=0,u=0;for(let d=0,p=0;d<r;d++)switch(n[d]){case 0:l=o=s[p++],u=a=s[p++];break;case 1:{const f=s[p++],m=s[p++];i=hv(e,t,l,u,f,m,i);break}case 3:De.error("Command.Curve distanceSquare not implemented");break;case 2:{const f=s[p++],m=s[p++],y=s[p++],C=s[p++],w=s[p++],b=f+Math.cos(C)*y,S=m+Math.sin(C)*y,M=!!s[p++];i=hv(e,t,l,u,b,S,i),i=wxe(e,t,f,m,y,C,w,M,i),l=f+Math.cos(w)*y,u=m+Math.sin(w)*y;break}case 4:i=hv(e,t,l,u,o,a,i);break}return i}toSVG(e=(t,i)=>({x:t,y:i})){const t=[],{commands:i,params:n}=this,s=(o,...a)=>{t.push(o);for(let l=0;l<a.length;l+=2){const{x:u,y:d}=e(a[l],a[l+1]);t.push(u,d)}};let r=0;for(const o of i)switch(o){case 0:s("M",n[r++],n[r++]);break;case 1:s("L",n[r++],n[r++]);break;case 3:s("C",n[r++],n[r++],n[r++],n[r++],n[r++],n[r++]);break;case 2:{const a=n[r++],l=n[r++],u=n[r++],d=n[r++],p=n[r++],f=n[r++];let m=f?d-p:p-d;m<0&&(m+=Math.ceil(-m/(2*Math.PI))*2*Math.PI),f&&(m=-m);const y=Math.max(Math.ceil(Math.abs(m)/(Math.PI/2)),1),C=m/y,w=4/3*Math.tan(C/4),b=t.length===0?"M":"L";s(b,a+Math.cos(d)*u,l+Math.sin(d)*u);for(let S=0;S<y;S+=1){const M=d+C*(S+0),D=d+C*(S+1),R=u*Math.sin(M),A=u*Math.cos(M),k=u*Math.sin(D),F=u*Math.cos(D);s("C",a+A-w*R,l+R+w*A,a+F+w*k,l+k-w*F,a+F,l+k)}break}case 4:t.push("Z");break}return t.join(" ")}computeBBox(){const{commands:e,params:t}=this;let[i,n,s,r]=[1/0,1/0,-1/0,-1/0],[o,a]=[NaN,NaN],[l,u]=[NaN,NaN];const d=(f,m,y)=>{i=Math.min(m,i),n=Math.min(f,n),s=Math.max(f,s),r=Math.max(m,r),y&&([o,a]=[f,m])};let p=0;for(const f of e)switch(f){case 0:d(t[p++],t[p++],!0),[l,u]=[o,a];break;case 1:d(t[p++],t[p++],!0);break;case 3:{const m=t[p++],y=t[p++],C=t[p++],w=t[p++],b=t[p++],S=t[p++];d(b,S,!0),VW(o,a,m,y,C,w,b,S).forEach(D=>{const R=YS(o,m,C,b,D),A=YS(a,y,w,S,D);d(R,A)});break}case 2:{const m=t[p++],y=t[p++],C=t[p++];let w=Li(t[p++]),b=Li(t[p++]);t[p++]&&([w,b]=[b,w]);const M=(R,A)=>{const k=m+C*Math.cos(R),F=y+C*Math.sin(R);d(k,F,A)};M(w),M(b,!0);const D=[0,Math.PI/2,Math.PI,3*Math.PI/2];for(const R of D)(w<b&&w<=R&&R<=b||w>b&&(w<=R||R<=b))&&M(R);break}case 4:[o,a]=[l,u];break}return new Ue(n,i,s-n,r-i)}};function es(e,t,i){const n=Math.round(t*e)/e;return i==null?n:i===0?0:i<1?Math.ceil(i*e)/e:Math.round((i+t)*e)/e-n}function Jz(e,t){return Math.floor(t*e)/e}function D1(e,t,i){const{width:n,height:s,padding:r,strokeWidth:o}=t,a=n/2,l=s/2,u=Math.max(1,n-r-o/2),d=Math.max(1,s-r-o/2);let p=!1;for(const[f,m]of i){const y=a+(f-.5)*u,C=l+(m-.5)*d;p?e.lineTo(y,C):e.moveTo(y,C),p=!0}e.closePath()}var Rxe={circles(e,{width:t,strokeWidth:i,padding:n}){const s=t/2,r=Math.max(1,s-n-i/2);e.arc(s,s,r,0,Math.PI*2)},squares(e,{width:t,height:i,pixelRatio:n,padding:s,strokeWidth:r}){const o=s+r/2;e.moveTo(es(n,o),es(n,o)),e.lineTo(es(n,t-o),es(n,o)),e.lineTo(es(n,t-o),es(n,i-o)),e.lineTo(es(n,o),es(n,i-o)),e.closePath()},triangles(e,t){D1(e,t,[[.5,0],[1,1],[0,1]])},diamonds(e,t){D1(e,t,[[.5,0],[1,.5],[.5,1],[0,.5]])},stars(e,{width:t,height:i,padding:n}){const r=Math.max(1,(t-n)/2),o=r/2,a=Math.PI/2;for(let l=0;l<5*2;l++){const u=l%2===0?r:o,d=l*Math.PI/5-a,p=t/2+Math.cos(d)*u,f=i/2+Math.sin(d)*u;e.lineTo(p,f)}e.closePath()},hearts(e,{width:t,height:i,padding:n}){const s=Math.max(1,t/4-n/2),r=t/2,o=i/2+s/2;e.arc(r-s,o-s,s,Ki(130),Ki(330)),e.arc(r+s,o-s,s,Ki(220),Ki(50)),e.lineTo(r,o+s),e.closePath()},crosses(e,t){D1(e,t,[[.25,0],[.5,.25],[.75,0],[1,.25],[.75,.5],[1,.75],[.75,1],[.5,.75],[.25,1],[0,.75],[.25,.5],[0,.25]])},"vertical-lines"(e,{width:t,height:i,pixelRatio:n,strokeWidth:s}){const r=es(n,t/2)-s%2/2;e.moveTo(r,0),e.lineTo(r,i)},"horizontal-lines"(e,{width:t,height:i,pixelRatio:n,strokeWidth:s}){const r=es(n,i/2)-s%2/2;e.moveTo(0,r),e.lineTo(t,r)},"forward-slanted-lines"(e,{width:t,height:i,strokeWidth:n}){const s=Math.atan2(i,t),r=n*Math.cos(s),o=n*Math.sin(s);e.moveTo(-r,o),e.lineTo(r,-o),e.moveTo(-r,i+o),e.lineTo(t+r,-o),e.moveTo(t-r,i+o),e.lineTo(t+r,i-o)},"backward-slanted-lines"(e,{width:t,height:i,strokeWidth:n}){const s=Math.atan2(i,t),r=n*Math.cos(s),o=n*Math.sin(s);e.moveTo(t-r,-o),e.lineTo(t+r,o),e.moveTo(-r,-o),e.lineTo(t+r,i+o),e.moveTo(-r,i-o),e.lineTo(r,i+o)}},Exe=class{constructor(e,t=1){this.pixelRatio=t,this._cache=void 0,this.width=Math.max((e==null?void 0:e.width)??10,1),this.height=Math.max((e==null?void 0:e.height)??10,1),this.fill=e.fill??"transparent",this.fillOpacity=e.fillOpacity??1,this.backgroundFill=e.backgroundFill??"transparent",this.backgroundFillOpacity=e.backgroundFillOpacity??1,this.stroke=e.stroke??"black",this.strokeOpacity=e.strokeOpacity??1,this.strokeWidth=e.strokeWidth??1,this.padding=e.padding??1,this.pattern=e.pattern??"forward-slanted-lines",this.rotation=e.rotation??0}getPath(){const{pattern:e,width:t,height:i,padding:n,strokeWidth:s,pixelRatio:r}=this,o=new Tg;return Rxe[e](o,{width:t,height:i,pixelRatio:r,strokeWidth:s,padding:n}),o}renderStroke(e,t){const{stroke:i,strokeWidth:n,strokeOpacity:s}=this;n&&(t.strokeStyle=i,t.lineWidth=n,t.globalAlpha=s,t.stroke(e))}renderFill(e,t){const{fill:i,fillOpacity:n}=this;t.fillStyle=i,t.globalAlpha=n,t.fill(e)}createCanvasPattern(e){const{width:t,height:i,backgroundFill:n,backgroundFillOpacity:s,pixelRatio:r,rotation:o}=this,a=new ok({width:t,height:i,pixelRatio:r}),l=a.context;l.fillStyle=n,l.globalAlpha=s,l.fillRect(0,0,t,i);const u=this.getPath().getPath2D();this.renderFill(u,l),this.renderStroke(u,l);const d=e.createPattern(a.canvas,"repeat"),p=Li(Ki(o)),f=1/r,m=Math.cos(p)*f,y=Math.sin(p)*f;return d==null||d.setTransform(new DOMMatrix([m,y,-y,m,0,0])),a.destroy(),d}createPattern(e){if(this._cache!=null&&this._cache.ctx===e)return this._cache.pattern;const t=this.createCanvasPattern(e);if(t!=null)return this._cache={ctx:e,pattern:t},t}toSvg(){const{width:e,height:t,fill:i,fillOpacity:n,backgroundFill:s,backgroundFillOpacity:r,stroke:o,strokeWidth:a,strokeOpacity:l,rotation:u}=this,d=gs("pattern");d.setAttribute("viewBox",`0 0 ${e} ${t}`),d.setAttribute("width",String(e)),d.setAttribute("height",String(t)),d.setAttribute("patternUnits","userSpaceOnUse");const p=gs("rect");p.setAttribute("x","0"),p.setAttribute("y","0"),p.setAttribute("width",String(e)),p.setAttribute("height",String(t)),p.setAttribute("fill",s),p.setAttribute("fill-opacity",String(r)),d.appendChild(p);const f=gs("path");return f.setAttribute("fill",i),f.setAttribute("fill-opacity",String(n)),f.setAttribute("stroke-opacity",String(l)),f.setAttribute("stroke",o),f.setAttribute("stroke-width",String(a)),f.setAttribute("transform",`rotate(${u})`),f.setAttribute("d",this.getPath().toSVG()),d.appendChild(f),d}};function Pa(e){return In(e)&&e.type=="gradient"}function WW(e){return xt(e)&&e.every(t=>typeof t=="string")}function ap(e){return e!==null&&In(e)&&e.type=="pattern"}function Txe(e){return Pa(e)||ap(e)}var Js=class nl extends Fc{constructor(){super(...arguments),this.fillOpacity=1,this.strokeOpacity=1,this.fill=nl.defaultStyles.fill,this.stroke=nl.defaultStyles.stroke,this.strokeWidth=nl.defaultStyles.strokeWidth,this.lineDash=nl.defaultStyles.lineDash,this.lineDashOffset=nl.defaultStyles.lineDashOffset,this.lineCap=nl.defaultStyles.lineCap,this.lineJoin=nl.defaultStyles.lineJoin,this.miterLimit=void 0,this.opacity=nl.defaultStyles.opacity,this.fillShadow=nl.defaultStyles.fillShadow}restoreOwnStyles(){const{defaultStyles:t}=this.constructor;Object.assign(this,t)}getGradient(t){if(Pa(t))return this.createGradient(t)}createGradient(t){const{colorSpace:i="rgb",gradient:n="linear",colorStops:s,rotation:r=0,reverse:o=!1}=t;if(s==null)return;let a=_W(s,["black"],[0,1]);switch(o&&(a=a.map(l=>({color:l.color,stop:1-l.stop})).reverse()),n){case"linear":return new FW(i,a,r);case"radial":return new _Se(i,a);case"conic":return new PW(i,a,r)}}getPattern(t){if(ap(t))return this.createPattern(t)}createPattern(t){var n,s;const i=((s=(n=this.layerManager)==null?void 0:n.canvas)==null?void 0:s.pixelRatio)??1;return new Exe(t,i)}onFillChange(){typeof this.fill=="object"&&Il(this._cachedFill??{},this.fill)||(this.fillGradient=this.getGradient(this.fill),this.fillPattern=this.getPattern(this.fill),this._cachedFill=this.fill)}onStrokeChange(){this.strokeGradient=this.getGradient(this.stroke)}align(t,i){var n,s;return es(((s=(n=this.layerManager)==null?void 0:n.canvas)==null?void 0:s.pixelRatio)??1,t,i)}preRender(t,i){return this.dirty&&(this.cachedDefaultGradientFillBBox=void 0),super.preRender(t,i)}fillStroke(t,i){this.renderFill(t,i),this.renderStroke(t,i)}renderFill(t,i){if(this.fill){const{globalAlpha:n}=t;this.applyFill(t),this.applyFillAlpha(t),this.applyShadow(t),this.executeFill(t,i),t.globalAlpha=n}t.shadowColor="rgba(0, 0, 0, 0)"}executeFill(t,i){i?t.fill(i):t.fill()}applyFill(t){var l;const{fill:i,fillGradient:n,fillBBox:s=this.getDefaultGradientFillBBox()??this.getBBox(),fillParams:r}=this,o=s?n==null?void 0:n.createGradient(t,s,r):void 0,a=(l=this.fillPattern)==null?void 0:l.createPattern(t);t.fillStyle=a??o??(typeof i=="string"?i:void 0)??"black"}applyStroke(t){var i;t.strokeStyle=((i=this.strokeGradient)==null?void 0:i.createGradient(t,this.getBBox()))??(typeof this.stroke=="string"?this.stroke:void 0)??"black"}applyFillAlpha(t){t.globalAlpha*=this.opacity*this.fillOpacity}applyShadow(t){var s;const i=((s=this.layerManager)==null?void 0:s.canvas.pixelRatio)??1,n=this.fillShadow;n!=null&&n.enabled&&(t.shadowColor=n.color,t.shadowOffsetX=n.xOffset*i,t.shadowOffsetY=n.yOffset*i,t.shadowBlur=n.blur*i)}renderStroke(t,i){if(this.stroke&&this.strokeWidth){const{globalAlpha:n}=t;this.applyStroke(t),t.globalAlpha*=this.opacity*this.strokeOpacity,t.lineWidth=this.strokeWidth,this.lineDash&&t.setLineDash(this.lineDash),this.lineDashOffset&&(t.lineDashOffset=this.lineDashOffset),this.lineCap&&(t.lineCap=this.lineCap),this.lineJoin&&(t.lineJoin=this.lineJoin),this.miterLimit!=null&&(t.miterLimit=this.miterLimit),this.executeStroke(t,i),t.globalAlpha=n}}executeStroke(t,i){i?t.stroke(i):t.stroke()}getDefaultGradientFillBBox(){return this.cachedDefaultGradientFillBBox==null&&(this.cachedDefaultGradientFillBBox=Object.freeze(this.computeDefaultGradientFillBBox())),this.cachedDefaultGradientFillBBox}computeDefaultGradientFillBBox(){}containsPoint(t,i){return this.isPointInPath(t,i)}applySvgFillAttributes(t,i){const{fill:n,fillOpacity:s}=this;if(typeof n=="string")t.setAttribute("fill",n);else if(Pa(n)&&this.fillGradient){i??(i=[]);const r=this.fillGradient.toSvg(this.fillBBox??this.getBBox()),o=FA();r.setAttribute("id",o),i.push(r),t.setAttribute("fill",`url(#${o})`)}else if(ap(n)&&this.fillPattern){i??(i=[]);const r=this.fillPattern.toSvg(),o=FA();r.setAttribute("id",o),i.push(r),t.setAttribute("fill",`url(#${o})`)}else t.setAttribute("fill","none");return t.setAttribute("fill-opacity",String(s)),i}applySvgStrokeAttributes(t){const{stroke:i,strokeOpacity:n,strokeWidth:s,lineDash:r,lineDashOffset:o}=this;if(i!=null&&(t.setAttribute("stroke",typeof i=="string"?i:"none"),t.setAttribute("stroke-opacity",String(n)),t.setAttribute("stroke-width",String(s))),(r==null?void 0:r.some(a=>a!==0))===!0){const a=r.length%2===1?[...r,...r]:r;t.setAttribute("stroke-dasharray",a.join(" ")),t.setAttribute("stroke-dashoffset",String(o))}}};Js.defaultStyles={fill:"black",stroke:void 0,strokeWidth:0,lineDash:void 0,lineDashOffset:0,lineCap:void 0,lineJoin:void 0,opacity:1,fillShadow:void 0};I([$e()],Js.prototype,"fillOpacity",2);I([$e()],Js.prototype,"strokeOpacity",2);I([$e({changeCb:e=>e.onFillChange()})],Js.prototype,"fill",2);I([$e({changeCb:e=>e.onStrokeChange()})],Js.prototype,"stroke",2);I([$e()],Js.prototype,"strokeWidth",2);I([$e()],Js.prototype,"lineDash",2);I([$e()],Js.prototype,"lineDashOffset",2);I([$e()],Js.prototype,"lineCap",2);I([$e()],Js.prototype,"lineJoin",2);I([$e()],Js.prototype,"miterLimit",2);I([$e({convertor:e=>ft(0,e,1)})],Js.prototype,"opacity",2);I([$e({checkDirtyOnAssignment:!0})],Js.prototype,"fillShadow",2);I([$e({changeCb:e=>e.onFillChange()})],Js.prototype,"fillBBox",2);I([$e({changeCb:e=>e.onFillChange()})],Js.prototype,"fillParams",2);var ea=Js,UW=[1,0,0,1,0,0],Fa=class Ww{get e(){return[...this.elements]}constructor(t=UW){this.elements=[...t]}setElements(t){const i=this.elements;return i[0]=t[0],i[1]=t[1],i[2]=t[2],i[3]=t[3],i[4]=t[4],i[5]=t[5],this}get identity(){const t=this.elements;return hl(t[0],1)&&hl(t[1],0)&&hl(t[2],0)&&hl(t[3],1)&&hl(t[4],0)&&hl(t[5],0)}AxB(t,i,n){const s=t[0]*i[0]+t[2]*i[1],r=t[1]*i[0]+t[3]*i[1],o=t[0]*i[2]+t[2]*i[3],a=t[1]*i[2]+t[3]*i[3],l=t[0]*i[4]+t[2]*i[5]+t[4],u=t[1]*i[4]+t[3]*i[5]+t[5];n=n??t,n[0]=s,n[1]=r,n[2]=o,n[3]=a,n[4]=l,n[5]=u}multiplySelf(t){return this.AxB(this.elements,t.elements),this}multiply(t){const i=new Array(6);return t instanceof Ww?this.AxB(this.elements,t.elements,i):this.AxB(this.elements,[t.a,t.b,t.c,t.d,t.e,t.f],i),new Ww(i)}preMultiplySelf(t){return this.AxB(t.elements,this.elements,this.elements),this}inverse(){const t=this.elements;let i=t[0],n=t[1],s=t[2],r=t[3];const o=t[4],a=t[5],l=1/(i*r-n*s);return i*=l,n*=l,s*=l,r*=l,new Ww([r,-n,-s,i,s*a-r*o,n*o-i*a])}invertSelf(){const t=this.elements;let i=t[0],n=t[1],s=t[2],r=t[3];const o=t[4],a=t[5],l=1/(i*r-n*s);return i*=l,n*=l,s*=l,r*=l,t[0]=r,t[1]=-n,t[2]=-s,t[3]=i,t[4]=s*a-r*o,t[5]=n*o-i*a,this}transformPoint(t,i){const n=this.elements;return{x:t*n[0]+i*n[2]+n[4],y:t*n[1]+i*n[3]+n[5]}}transformBBox(t,i){const n=this.elements,s=n[0],r=n[1],o=n[2],a=n[3],l=t.width*.5,u=t.height*.5,d=t.x+l,p=t.y+u,f=Math.abs(l*s)+Math.abs(u*o),m=Math.abs(l*r)+Math.abs(u*a);return i??(i=new Ue(0,0,0,0)),i.x=d*s+p*o+n[4]-f,i.y=d*r+p*a+n[5]-m,i.width=f+f,i.height=m+m,i}toContext(t){if(this.identity)return;const i=this.elements;t.transform(i[0],i[1],i[2],i[3],i[4],i[5])}static updateTransformMatrix(t,i,n,s,r,o,a){const l=i,u=n;let d,p;l===1&&u===1?(d=0,p=0):(d=(a==null?void 0:a.scalingCenterX)??0,p=(a==null?void 0:a.scalingCenterY)??0);const f=s,m=Math.cos(f),y=Math.sin(f);let C,w;f===0?(C=0,w=0):(C=(a==null?void 0:a.rotationCenterX)??0,w=(a==null?void 0:a.rotationCenterY)??0);const b=r,S=o,M=d*(1-l)-C,D=p*(1-u)-w;return t.setElements([m*l,y*l,-y*u,m*u,m*M-y*D+C+b,y*M+m*D+w+S]),t}};function Mu(e){return YW(e.constructor)}var $W=Symbol("isMatrixTransform");function YW(e){return e[$W]===!0}function vk(e){var t,i;const n=e;if(YW(e))return e;const s=Symbol("matrix_combined_transform");class r extends n{constructor(){super(...arguments),this[i]=new Fa,this._dirtyTransform=!0}markDirtyTransform(){this._dirtyTransform=!0,super.markDirty()}updateMatrix(a){}computeTransformMatrix(){this._dirtyTransform&&(this[s].setElements(UW),this.updateMatrix(this[s]),this._dirtyTransform=!1)}toParent(a){return this.computeTransformMatrix(),this[s].identity?a.clone():this[s].transformBBox(a)}toParentPoint(a,l){return this.computeTransformMatrix(),this[s].identity?{x:a,y:l}:this[s].transformPoint(a,l)}fromParent(a){return this.computeTransformMatrix(),this[s].identity?a.clone():this[s].inverse().transformBBox(a)}fromParentPoint(a,l){return this.computeTransformMatrix(),this[s].identity?{x:a,y:l}:this[s].inverse().transformPoint(a,l)}computeBBox(){const a=super.computeBBox();return a&&this.toParent(a)}computeBBoxWithoutTransforms(){return super.computeBBox()}pickNode(a,l){return{x:a,y:l}=this.fromParentPoint(a,l),super.pickNode(a,l)}pickNodes(a,l,u){return{x:a,y:l}=this.fromParentPoint(a,l),super.pickNodes(a,l,u)}render(a){this.computeTransformMatrix();const{ctx:l}=a,u=this[s];let d=!1;u.identity||(l.save(),d=!0,u.toContext(l)),super.render(a),d&&l.restore()}toSVG(){this.computeTransformMatrix();const a=super.toSVG(),l=this[s];if(l.identity||a==null)return a;const u=gs("g");u.append(...a.elements);const[d,p,f,m,y,C]=l.e;return u.setAttribute("transform",`matrix(${d} ${p} ${f} ${m} ${y} ${C})`),{elements:[u],defs:a.defs}}}return t=$W,i=s,r[t]=!0,r}function Zg(e){var t;const i=e,n=Symbol("matrix_rotation");class s extends vk(i){constructor(){super(...arguments),this[t]=new Fa,this.rotationCenterX=null,this.rotationCenterY=null,this.rotation=0}updateMatrix(o){super.updateMatrix(o);const{rotation:a,rotationCenterX:l,rotationCenterY:u}=this;a!==0&&(Fa.updateTransformMatrix(this[n],1,1,a,0,0,{rotationCenterX:l,rotationCenterY:u}),o.multiplySelf(this[n]))}}return t=n,I([$e({type:"transform"})],s.prototype,"rotationCenterX",2),I([$e({type:"transform"})],s.prototype,"rotationCenterY",2),I([$e({type:"transform"})],s.prototype,"rotation",2),s}function Ck(e){var t;const i=e,n=Symbol("matrix_scale");class s extends vk(i){constructor(){super(...arguments),this[t]=new Fa,this.scalingX=1,this.scalingY=1,this.scalingCenterX=null,this.scalingCenterY=null}updateMatrix(o){super.updateMatrix(o);const{scalingX:a,scalingY:l,scalingCenterX:u,scalingCenterY:d}=this;a===1&&l===1||(Fa.updateTransformMatrix(this[n],a,l,0,0,0,{scalingCenterX:u,scalingCenterY:d}),o.multiplySelf(this[n]))}}return t=n,I([$e({type:"transform"})],s.prototype,"scalingX",2),I([$e({type:"transform"})],s.prototype,"scalingY",2),I([$e({type:"transform"})],s.prototype,"scalingCenterX",2),I([$e({type:"transform"})],s.prototype,"scalingCenterY",2),s}function wp(e){var t;const i=e,n=Symbol("matrix_translation");class s extends vk(i){constructor(){super(...arguments),this[t]=new Fa,this.translationX=0,this.translationY=0}updateMatrix(o){super.updateMatrix(o);const{translationX:a,translationY:l}=this;a===0&&l===0||(Fa.updateTransformMatrix(this[n],1,1,0,a,l),o.multiplySelf(this[n]))}}return t=n,I([$e({type:"transform"})],s.prototype,"translationX",2),I([$e({type:"transform"})],s.prototype,"translationY",2),s}var mn=class{static fromCanvas(e,t){const i=[];for(const n of e.traverseUp())Mu(n)&&i.unshift(n);for(const n of i)t=n.fromParent(t);return Mu(e)&&(t=e.fromParent(t)),t}static toCanvas(e,t){t==null?t=e.getBBox():Mu(e)&&(t=e.toParent(t));for(const i of e.traverseUp())Mu(i)&&(t=i.toParent(t));return t}static fromCanvasPoint(e,t,i){const n=[];for(const s of e.traverseUp())Mu(s)&&n.unshift(s);for(const s of n)({x:t,y:i}=s.fromParentPoint(t,i));return Mu(e)&&({x:t,y:i}=e.fromParentPoint(t,i)),{x:t,y:i}}static toCanvasPoint(e,t,i){Mu(e)&&({x:t,y:i}=e.toParentPoint(t,i));for(const n of e.traverseUp())Mu(n)&&({x:t,y:i}=n.toParentPoint(t,i));return{x:t,y:i}}},R1=(e,t)=>Math.sign(e-t);function KW(e,t){if(typeof e=="number"&&typeof t=="number")return R1(e,t);const i=typeof e=="number"?[e]:e,n=typeof t=="number"?[t]:t,s=Math.min(i.length,n.length);for(let r=0;r<s;r+=1){const o=R1(i[r],n[r]);if(o!==0)return o}return R1(i.length,n.length)}var Iy,bk=class Vy extends Fc{constructor(t){super(t),this.opacity=1,this.renderToOffscreenCanvas=!1,this.optimizeForInfrequentRedraws=!1,this.layer=void 0,this.image=void 0,this._lastWidth=NaN,this._lastHeight=NaN,this._lastDevicePixelRatio=NaN,this.isContainerNode=!0,this.renderToOffscreenCanvas=(t==null?void 0:t.renderToOffscreenCanvas)===!0}static is(t){return t instanceof Vy}static computeChildrenBBox(t,i=!0){return Ue.merge(Fc.extractBBoxes(t,i))}static compareChildren(t,i){return KW(t.zIndex,i.zIndex)||t.serialNumber-i.serialNumber}containsPoint(t,i){return!0}computeBBox(){return Vy.computeChildrenBBox(this.children())}computeSafeClippingBBox(t){const i=this.computeBBox();if(!i.isFinite())return;let n=0;const s=4;for(const f of this.descendants())f instanceof ea&&(n=Math.max(n,f.strokeWidth));const r=Math.max(1,n/2*s),{x:o,y:a}=mn.toCanvasPoint(this,0,0),l=Jz(t,o+i.x-r)-o,u=Jz(t,a+i.y-r)-a,d=Math.ceil(i.x+i.width-l+r),p=Math.ceil(i.y+i.height-u+r);return new Ue(l,u,d,p)}prepareSharedCanvas(t,i,n){return Iy==null||Iy.pixelRatio!==n?Iy=new ok({width:t,height:i,pixelRatio:n}):Iy.resize(t,i,n),Iy}isDirty(t){const{width:i,height:n,devicePixelRatio:s}=t,{dirty:r,dirtyZIndex:o,layer:a}=this,l=a!=null&&(this._lastWidth!==i||this._lastHeight!==n),u=this._lastDevicePixelRatio!==s;if(this._lastWidth=i,this._lastHeight=n,this._lastDevicePixelRatio=s,r||o||l||u)return!0;for(const d of this.children())if(d.dirty)return!0;return!1}preRender(t){var n,s;const i=super.preRender(t,0);return i.groups+=1,i.nonGroups-=1,this.renderToOffscreenCanvas&&!this.optimizeForInfrequentRedraws&&i.nonGroups>0&&this.getVisibility()?this.layer??(this.layer=(n=this._layerManager)==null?void 0:n.addLayer({name:this.name})):this.layer!=null&&((s=this._layerManager)==null||s.removeLayer(this.layer),this.layer=void 0),i}render(t){const{layer:i,renderToOffscreenCanvas:n}=this,s={...t};if(!n){this.renderInContext(s),super.render(s);return}const{ctx:r,stats:o,devicePixelRatio:a}=t;let{image:l}=this;if(this.isDirty(t)){l==null||l.bitmap.close(),l=void 0;const d=i?void 0:this.computeSafeClippingBBox(a),p=(f,...m)=>{var C;const y=f.context;s.ctx=y,f.clear(),y.save(),y.setTransform(...m),y.globalAlpha=1,this.renderInContext(s),y.restore(),(C=y.verifyDepthZero)==null||C.call(y)};if(i)p(i,r.getTransform());else if(d){const{x:f,y:m,width:y,height:C}=d,w=this.prepareSharedCanvas(y,C,a);p(w,a,0,0,a,-f*a,-m*a),l={bitmap:w.transferToImageBitmap(),x:f,y:m,width:y,height:C}}else this.dirtyZIndex&&this.sortChildren(Vy.compareChildren);this.image=l,o&&o.layersRendered++}else this.skipRender(s),o&&o.layersSkipped++;const{globalAlpha:u}=r;if(r.globalAlpha=u*this.opacity,i)r.save(),r.resetTransform(),i.drawImage(r),r.restore();else if(l){const{bitmap:d,x:p,y:f,width:m,height:y}=l;r.drawImage(d,0,0,m*a,y*a,p,f,m,y)}r.globalAlpha=u,super.render(s)}skipRender(t){const{stats:i}=t;for(const n of this.children())n.markClean(),i&&(i.nodesSkipped+=this.childNodeCounts.groups+this.childNodeCounts.nonGroups,i.opsSkipped+=this.childNodeCounts.complexity)}applyClip(t,i){const{x:n,y:s,width:r,height:o}=i;t.beginPath(),t.rect(n,s,r,o),t.clip()}renderInContext(t){const{ctx:i,stats:n}=t;this.dirtyZIndex&&this.sortChildren(Vy.compareChildren),i.save(),i.globalAlpha*=this.opacity,this.clipRect!=null&&(this.applyClip(i,this.clipRect),t.clipBBox=mn.toCanvas(this,this.clipRect));for(const s of this.children()){if(!s.visible){s.markClean(),n&&(n.nodesSkipped+=s.childNodeCounts.nonGroups+s.childNodeCounts.groups,n.opsSkipped+=s.childNodeCounts.complexity);continue}i.save(),s.render(t),i.restore()}i.restore()}setClipRect(t){this.clipRect=t?mn.fromCanvas(this,t):void 0}setClipRectCanvasSpace(t){this.clipRect=t}_setLayerManager(t){var i;this.layer&&((i=this._layerManager)==null||i.removeLayer(this.layer),this.layer=void 0),super._setLayerManager(t)}getVisibility(){for(const t of this.traverseUp(!0))if(!t.visible)return!1;return!0}toSVG(){if(!this.visible)return;const t=[],i=[];for(const n of this.children()){const s=n.toSVG();s!=null&&(i.push(...s.elements),s.defs!=null&&t.push(...s.defs))}return{elements:i,defs:t}}};bk.className="Group";I([$e({convertor:e=>ft(0,e,1)})],bk.prototype,"opacity",2);var dt=bk,Axe=class extends Ck(dt){},Ixe=class extends Zg(dt){},ur=class extends wp(dt){},Ly=class extends Zg(wp(dt)){},eG=class{constructor(){this.queue=[]}await(e=50){return new Promise(t=>{const i=()=>{clearTimeout(s),t(!0)},s=setTimeout(()=>{const r=this.queue.indexOf(i);r<0||(this.queue.splice(r,1),t(!1))},e);this.queue.push(i)})}notify(){this.queue.splice(0).forEach(e=>e())}};function Lxe(){return new Promise(e=>{setTimeout(e,0)})}function ZS(e,t){e&&(t=dM.normalize(t),t.width==null?e.style.removeProperty("width"):e.style.width=`${t.width}px`,t.height==null?e.style.removeProperty("height"):e.style.height=`${t.height}px`,t.x==null?e.style.removeProperty("left"):e.style.left=`${t.x}px`,t.y==null?e.style.removeProperty("top"):e.style.top=`${t.y}px`)}function qW(e){const t=parseFloat(e.style.width)||e.offsetWidth,i=parseFloat(e.style.height)||e.offsetHeight,n=parseFloat(e.style.left)||e.offsetLeft,s=parseFloat(e.style.top)||e.offsetTop;return{x:n,y:s,width:t,height:i}}function kxe(e){var n;if(e.focus({preventScroll:!0}),((n=e.lastChild)==null?void 0:n.textContent)==null)return;const t=Pc().createRange();t.setStart(e.lastChild,e.lastChild.textContent.length),t.setEnd(e.lastChild,e.lastChild.textContent.length);const i=Di().getSelection();i==null||i.removeAllRanges(),i==null||i.addRange(t)}var Pxe=0;function Fxe(e){return`${e??"ag-charts-element"}-${Pxe++}`}function ZW(){const e=Di("navigator");if("scheduling"in e){const t=e.scheduling;if("isInputPending"in t)return t.isInputPending({includeContinuous:!0})}return!1}function SM(e){return`ag-charts-icon ag-charts-icon-${e}`}var zA="class-instance";function kl(e,t,i){if(xt(t)){if(!xt(e)||e.length!==t.length||t.some((n,s)=>kl(e[s],n,i)!=null))return t}else if(Ln(t)){if(!Ln(e))return t;const n={},s=new Set([...Object.keys(e),...Object.keys(t)]);for(const r of s)if(e[r]!==t[r])if(i!=null&&i.has(r))n[r]=t[r];else if(typeof e[r]==typeof t[r]){const o=kl(e[r],t[r],i);o!==null&&(n[r]=o)}else n[r]=t[r];return Object.keys(n).length?n:null}else if(e!==t)return t;return null}function XW(e,t){for(const i of Object.keys(e))if(e[i]!==(t==null?void 0:t[i]))return!1;return!0}function ji(e,t){return xt(e)?e.map(i=>ji(i,t)):Ln(e)?Oxe(e,t):e instanceof Map?new Map(ji(Array.from(e))):wk(e)}function Oxe(e,t){var n,s;const i={};for(const r of Object.keys(e))(n=t==null?void 0:t.assign)!=null&&n.has(r)?i[r]=e[r]:(s=t==null?void 0:t.shallow)!=null&&s.has(r)?i[r]=wk(e[r]):i[r]=ji(e[r],t);return i}function wk(e){return xt(e)?e.slice(0):Ln(e)?{...e}:Yg(e)?new Date(e):jwe(e)?new RegExp(e.source,e.flags):e}function vc(e,t,i,n,s,r){if(xt(e)){r=t(e,n,s,r);let o=0;for(const a of e)r=vc(a,t,i,n==null?void 0:n[o],s,r),o++}else if(Ln(e)){r=t(e,n,s,r);for(const o of Object.keys(e)){if(i!=null&&i.has(o))continue;const a=e[o];r=vc(a,t,i,n==null?void 0:n[o],s,r)}}return r}function pv(e,t,i={}){const{path:n,matcherPath:s=n==null?void 0:n.replace(/(\[[0-9+]+])/i,"[]"),skip:r=[]}=i;if(e==null)throw new Error(`AG Charts - target is uninitialised: ${n??"<root>"}`);if(t==null)return e;if(Ll(e))return e.set(t);const o=e,a=E1(e);for(const l of Object.keys(t)){if(ck.has(l))continue;const u=`${s?s+".":""}${l}`;if(r.includes(u))continue;const d=t[l],p=`${n?n+".":""}${l}`,f=o.constructor,m=o[l];try{const y=E1(m),C=E1(d);if(a===zA&&!(l in e||l==="context")){if(d===void 0)continue;De.warn(`unable to set [${p}] in ${f==null?void 0:f.name} - property is unknown`);continue}if(y!=null&&C!=null&&C!==y&&(y!==zA||C!=="object")){De.warn(`unable to set [${p}] in ${f==null?void 0:f.name} - can't apply type of [${C}], allowed types are: [${y}]`);continue}if(Ll(m))o[l].set(d);else if(C==="object"&&l!=="context"){if(m==null){De.warn(`unable to set [${p}] in ${f==null?void 0:f.name} - property is unknown`);continue}pv(m,d,{...i,path:p,matcherPath:u})}else o[l]=d}catch(y){De.warn(`unable to set [${p}] in [${f==null?void 0:f.name}]; nested error is: ${y.message}`)}}return e}function E1(e){return e==null?null:Vwe(e)||Yg(e)?"primitive":xt(e)?"array":In(e)?Ln(e)?"object":zA:gd(e)?"function":"primitive"}function XS(e,t,i,n){return HA(e,t,n??e,{matches:new Map},i)}var GA=Symbol("operation-resolved-undefined");function HA(e,t,i,n,s,r=[],o={}){if(xt(e)){tG(e,t,i,n,r,o);let a=0;for(const l of e)HA(l,t,i,n,s,[...r,`${a}`],o),a++}else if(Ln(e)){tG(e,t,i,n,r,o);for(const a of Object.keys(e)){if(s!=null&&s.has(a))continue;const l=e[a];HA(l,t,i,n,s,[...r,a],o)}}return o}function tG(e,t,i,n,s,r){if(xt(e))for(let o=0;o<e.length;o++)e[o]=iG(e[o],t,i,n,[...s,`${o}`],r),e[o]===GA&&(e[o]=void 0);else{let o=!1;for(const a of Object.keys(e))e[a]=iG(e[a],t,i,n,[...s,a],r),o||(o=xa(a,JS)),e[a]===GA&&delete e[a];if(o&&Object.keys(e).length>1)for(const a of Object.keys(e))xa(a,JS)&&delete e[a]}}function iG(e,t,i,n,s,r){const o=ld(e);if(!o)return e;r[s.join(".")]=e;const a=Xv(o.operation,o.values,t,i,s,n);return a===void 0?GA:a}function ld(e){if(!Ln(e))return;const[t]=Object.keys(e);if(xa(t,JS))return{operation:t,values:e[t]}}function Xv(e,t,i,n,s,r){r.referencedParams??(r.referencedParams=new Set);const o=["$find","$map"];xt(t)&&!o.includes(e)&&(t=t.map(l=>{const u=ld(l);return u?Xv(u.operation,u.values,i,n,s,r):l}));const a=JS[e];return a(t,s,i,n,r)}function xa(e,t){return ms(e)&&(In(t)||xt(t))&&e in t}function QS(e){return Vo(e)&&e>=0&&e<=1}function QW(e){return In(e)&&e.type=="gradient"}function Nxe(e){return e!==null&&In(e)&&e.type=="pattern"}function JW(e,t){const i=t.split("/");let n=[...e];t.startsWith("/")&&(n=[],i.shift());let s=!1;for(const r of i){if(r==="..")n.pop(),s||n.pop();else if(r===".")n.pop();else if(r==="$index"){const o=e.findLast(a=>!isNaN(Number(a)));o!=null&&n.push(o)}else if(r==="$prevIndex"){const o=e.findLast(a=>!isNaN(Number(a)));o!=null&&n.push(`${Number(o)-1}`)}else r.length!==0&&n.push(r);s=r===".."}return n}var Bxe={$ref:e6,$path:Wxe,$palette:Vxe},zxe={$if:([e,t,i])=>e?t:i,$eq:([e,t])=>e===t,$not:([e])=>!e,$or:e=>xt(e)&&e.some(Boolean),$and:e=>xt(e)&&e.every(Boolean),$switch:()=>{},$isOperation:Uxe},Gxe={$isEven:$xe,$mul:Yxe,$round:Kxe},Hxe={$map:qxe,$find:Zxe,$merge:Xxe,$omit:Qxe,$value:Jxe},_xe={$rem:eMe},jxe={$mix:tMe,$foregroundBackgroundMix:iMe,$foregroundBackgroundAccentMix:nMe,$interpolate:sMe,$isGradient:([e])=>QW(e),$isPattern:([e])=>Nxe(e)},JS={...Bxe,...zxe,...Gxe,...Hxe,..._xe,...jxe};function e6(e,t,i,n,s){var o,a;if(!xa(e,i)){De.warnOnce(`\`$ref\` json operation failed on [${String(e)}] at [${t.join(".")}], expecting one of [${Object.keys(i).join(", ")}].`);return}const r=ld(i[e]);if((r==null?void 0:r.operation)!=="$ref")return i[e];if((o=s.referencedParams)!=null&&o.has(r.values)){De.warnOnce(`\`$ref\` json operation failed on [${String(e)}] at [${t.join(".")}], circular reference detected with [${[...s.referencedParams].join(", ")}].`);return}return(a=s.referencedParams)==null||a.add(r.values),e6(r.values,t,i,n,s)}function Vxe(e,t,i,n){if(!ms(e))return;const s=i.__palette;if(["fill","fillFallback","stroke","gradient","range2"].includes(e)){const o=t.findLastIndex(p=>!isNaN(Number(p)));let a=Number(t[o]);if(isNaN(a))return;const l=t.slice(0,o),u=["map-shape-background","map-line-background"],d=Eg(n,l).slice(0,a).filter(p=>u.includes(p.type)).length;switch(a-=d,e){case"fill":return Ey(s.fills,1,a)[0];case"fillFallback":return Ey(s.fillsFallback,1,a)[0];case"stroke":return Ey(s.strokes,1,a)[0];case"gradient":return Ey(s.sequentialColors,1,a)[0];case"range2":return Ey(s.fills,2,a)}return}return e==="gradients"?s.sequentialColors:Eg(s,e)}function Wxe(e,t,i,n){let s=!1,r,o=!1,a=n;if(xt(e))s=!0,r=e[1],o=e.length===3,a=o?e[2]:a,e=e[0];else if(!ms(e)){De.warnOnce(`\`$path\` json operation failed on [${String(e)}] at [${t.join(".")}], expecting a string.`);return}const l=JW(o?[]:t,e);let u=a;for(const d of l){if(!xa(d,u)){if(s)return r;De.warnOnce(`\`$path\` json operation failed on [${String(e)}] at [${t.join(".")}] resolved to [${l.join(".")}], could not find path in object.`);return}u=u[d]}return Object.isFrozen(u)?ji(u):u}function Uxe(e,t,i,n){const s=ms(e)?JW(t,e):t,r=s.length===0?n:Eg(n,s);return ld(r)!=null}function $xe([e],t){if(typeof e=="number")return e%2===0;De.warnOnce(`\`$isEven\` json operation failed on [${String(e)}] at [${t.join(".")}], expecting a number.`)}function Yxe([e,t],i){if(typeof e=="number"&&typeof t=="number")return e*t;De.warnOnce(`\`$mul\` json operation failed on [${String(e)}] and [${String(t)}] at [${i.join(".")}], expecting two numbers.`)}function Kxe([e],t){if(typeof e=="number")return Math.round(e);De.warnOnce(`\`$round\` json operation failed on [${String(e)}] at [${t.join(".")}], expecting a number.`)}function qxe([e,t],i,n,s,r){const o=ld(t);if(o&&(t=Xv(o.operation,o.values,n,s,i,r)),!xt(t))return[];const a=ld(e);return a?(r.matches.set(i.join("."),t),t.map(()=>({[a.operation]:a.values}))):[]}function Zxe([e,t],i,n,s,r){const o=ld(t);if(o&&(t=Xv(o.operation,o.values,n,s,i,r)),!xt(t))return;const a=ld(e);return a?t.find(l=>Xv(a.operation,a.values,n,l,[],r)):e?t[0]:void 0}function Xxe(e){if(xt(e)){for(const t of e)if(!Ln(t))return;return Vt(...e)}}function Qxe([e,t]){if(!(!xt(e)||!Ln(t)))return ad(t,e)}function Jxe(e,t,i,n,s){var l;if(e!=="$1"&&e!=="$index")return e;const r=t.findLastIndex(u=>!isNaN(Number(u)));if(r===-1)return e;const o=Number(t[r]);if(e==="$index")return o;const a=t.slice(0,r).join(".");return(l=s.matches.get(a))==null?void 0:l.at(o)}function eMe([e],t,i){const n="fontSize";if(xa(n,i)&&typeof i[n]=="number"&&typeof e=="number")return Math.round(e*i[n]);De.warnOnce(`\`$rem\` json operation failed on [${String(e)}] at [${t.join(".")}], expecting a number.`)}function tMe([e,t,i],n){const s=`\`$mix\` json operation failed on [${String(e)}, ${String(t)}, ${String(i)}] at [${n.join(".")}], expecting`,r=`${s} two colors and a number between 0 and 1.`;if(typeof t!="string"||!QS(i)){De.warnOnce(r);return}if(typeof e=="string")try{return ci.mix(ci.fromString(e),ci.fromString(t),i).toString()}catch{De.warnOnce(r);return}if(!QW(e)){De.warnOnce(r);return}let o=e.colorStops;try{o=o==null?void 0:o.map(a=>{let l;return typeof a.color=="string"&&(l=ci.mix(ci.fromString(a.color),ci.fromString(t),i).toString()),{...a,color:l}})}catch{De.warnOnce(`${s} a gradient, a color and a number between 0 and 1.`);return}return{...e,colorStops:o}}function iMe([e],t,i){const n="foregroundColor",s="backgroundColor";if(xa(n,i)&&xa(s,i)&&typeof i[n]=="string"&&typeof i[s]=="string"&&QS(e))return ci.mix(ci.fromString(i[n]),ci.fromString(i[s]),e).toString();De.warnOnce(`\`$foregroundBackgroundMix\` json operation failed on [${String(e)}}}] at [${t.join(".")}], expecting a number between 0 and 1.`)}function nMe([e,t],i,n){const s="foregroundColor",r="backgroundColor",o="accentColor";if(xa(s,n)&&xa(r,n)&&xa(o,n)&&typeof n[s]=="string"&&typeof n[r]=="string"&&typeof n[o]=="string"&&QS(e)&&QS(t))return ci.mix(ci.mix(ci.fromString(n[s]),ci.fromString(n[r]),e),ci.fromString(n[o]),t).toString();De.warnOnce(`\`$foregroundBackgroundAccentMix\` json operation failed on [${String(e)}, ${String(t)}}] at [${i.join(".")}], expecting two numbers between 0 and 1.`)}function sMe([e,t]){if(!(!xt(e)||!Vo(t)))return ci.interpolate(e.map(i=>ci.fromString(i)),t).map(i=>i.toString())}var rMe=class{constructor(){this.available=!0,this.acquireQueue=[]}acquire(e){return new Promise(t=>{this.acquireQueue.push([e,t]),this.available&&this.dispatchNext().catch(i=>De.errorOnce(i))})}async acquireImmediately(e){return this.available?(await this.acquire(e),!0):!1}async waitForClearAcquireQueue(){return this.acquire(()=>Promise.resolve(void 0))}async dispatchNext(){this.available=!1;let[e,t]=this.acquireQueue.shift()??[];for(;e;){try{await e(),t==null||t()}catch(i){De.error("mutex callback error",i),t==null||t()}[e,t]=this.acquireQueue.shift()??[]}this.available=!0}},t6=class{constructor(){this.eventListeners=new Map}addEventListener(e,t){if(typeof t!="function")throw new Error("AG Charts - listener must be a Function");const i=this.eventListeners.get(e);i?i.add(t):this.eventListeners.set(e,new Set([t]))}removeEventListener(e,t){const i=this.eventListeners.get(e);i!=null&&(i.delete(t),i.size===0&&this.eventListeners.delete(e))}hasEventListener(e){return this.eventListeners.has(e)}clearEventListeners(){this.eventListeners.clear()}fireEvent(e){var t;(t=this.eventListeners.get(e.type))==null||t.forEach(i=>i(e))}},yd=class extends gt{constructor(e=0,t=e,i=e,n=t){super(),this.top=e,this.right=t,this.bottom=i,this.left=n}};I([O()],yd.prototype,"top",2);I([O()],yd.prototype,"right",2);I([O()],yd.prototype,"bottom",2);I([O()],yd.prototype,"left",2);function xi(e,t){const i=xt(e)?e:e.split(".");if(i.length===1){const[n]=i;return od((s,r,o)=>s[n]=o,s=>s[n],t)}return od((n,s,r)=>uk(n,i,r),n=>Eg(n,i),t)}function oMe(e){return od((t,i,n)=>t[e]=n)}function vs(e,t){return od((i,n,s)=>i[e][t??n]=s)}function zr(e){const{newValue:t,oldValue:i,changeValue:n}=e;return od((s,r,o,a)=>(o!==a&&(a!==void 0&&(i==null||i.call(s,a)),o!==void 0&&(t==null||t.call(s,o)),n==null||n.call(s,o,a)),o))}function vd(e){return TW(e)}function aMe(e){return i6((t,i)=>Di().requestAnimationFrame(t),e)}function lMe(e){return i6((t,i=0)=>{i===0?queueMicrotask(t):setTimeout(t,i)},e)}function i6(e,t){let i=0,n=!1,s,r;const o=()=>n,a=()=>{n=!1,r==null||r(),r=void 0,s=void 0,i>0&&e(l)},l=()=>{const u=i;i=0,n=!0;const d=t({count:u});if(!d){a();return}d.then(a,a)};return{schedule(u){i===0&&!o()&&e(l,u),i++},async await(){if(o())for(s==null&&(s=new Promise(u=>{r=u}));o();)await s}}}function Xd(e){return e==="true"}function cMe(e){return Number(e)}function ha(e){return e}var T1={role:ha,"aria-checked":Xd,"aria-controls":ha,"aria-describedby":ha,"aria-disabled":Xd,"aria-expanded":Xd,"aria-haspopup":Xd,"aria-hidden":Xd,"aria-label":ha,"aria-labelledby":ha,"aria-live":ha,"aria-orientation":ha,"aria-selected":Xd,"data-preventdefault":Xd,class:ha,id:ha,tabindex:cMe,title:ha,placeholder:ha};function Mi(e,t,i){i==null||i===""||i===""?e==null||e.removeAttribute(t):e==null||e.setAttribute(t,i.toString())}function lp(e,t){if(t!=null)for(const[i,n]of Sa(t))i!=="class"&&Mi(e,i,n)}function xM(e,t,i){var s;if(!(e instanceof HTMLElement))return;const n=e.getAttribute(t);return n===null?i:((s=T1[t])==null?void 0:s.call(T1,n))??void 0}function ba(e,t,i){e!=null&&(i==null?e.style.removeProperty(t):e.style.setProperty(t,i.toString()))}function uMe(e,t){for(const[i,n]of Sa(t))ba(e,i,n)}var Sk=["blur","change","contextmenu","focus","keydown","keyup","click","dblclick","mouseenter","mousemove","mouseleave","wheel","touchstart","touchmove","touchend","touchcancel"];function vf(e,t,i){const{offsetX:n,offsetY:s,clientX:r,clientY:o}=t,{currentX:a,currentY:l}=Dc.calcCurrentXY(i,t);return{type:e,offsetX:n,offsetY:s,clientX:r,clientY:o,currentX:a,currentY:l,sourceEvent:t}}function sw(e,t,i){return{type:e,sourceEvent:t}}var dMe={blur:e=>({type:"blur",sourceEvent:e}),change:e=>({type:"change",sourceEvent:e}),contextmenu:(e,t)=>vf("contextmenu",e,t),focus:e=>({type:"focus",sourceEvent:e}),keydown:e=>({type:"keydown",sourceEvent:e}),keyup:e=>({type:"keyup",sourceEvent:e}),click:(e,t)=>vf("click",e,t),dblclick:(e,t)=>vf("dblclick",e,t),mouseenter:(e,t)=>vf("mouseenter",e,t),mousemove:(e,t)=>vf("mousemove",e,t),mouseleave:(e,t)=>vf("mouseleave",e,t),wheel:e=>{const{offsetX:t,offsetY:i,clientX:n,clientY:s}=e,r=e.deltaMode===0?.01:1,o=e.deltaX*r,a=e.deltaY*r;return{type:"wheel",offsetX:t,offsetY:i,clientX:n,clientY:s,deltaX:o,deltaY:a,sourceEvent:e}},touchstart:(e,t)=>sw("touchstart",e),touchmove:(e,t)=>sw("touchmove",e),touchend:(e,t)=>sw("touchend",e),touchcancel:(e,t)=>sw("touchcancel",e)},Dc=class{static alloc(e,t,i){return dMe[e](t,i)}static isHTMLEvent(e){return Sk.includes(e)}static calcCurrentXY(e,t){const i=e.getBoundingClientRect();return{currentX:t.clientX-i.x,currentY:t.clientY-i.y}}},hMe=class{constructor(){this.widgetListeners={},this.sourceListeners={}}initSourceHandler(e,t){this.sourceListeners??(this.sourceListeners={}),this.sourceListeners[e]=t}lazyGetWidgetListeners(e,t){var i;if(!(e in(this.sourceListeners??{}))){const n=r=>{var a;const o=Dc.alloc(e,r,t.getElement());for(const l of((a=this.widgetListeners)==null?void 0:a[e])??[])l(o,t)},s={};e.startsWith("touch")&&(s.passive=!1),this.initSourceHandler(e,n),t.getElement().addEventListener(e,n,s)}return this.widgetListeners??(this.widgetListeners={}),(i=this.widgetListeners)[e]??(i[e]=[]),this.widgetListeners[e]}add(e,t,i){this.lazyGetWidgetListeners(e,t).push(i)}remove(e,t,i){const n=this.lazyGetWidgetListeners(e,t),s=n.indexOf(i);s>-1&&n.splice(s,1)}destroy(e){for(const[t,i]of Sa(this.sourceListeners??{}))e.getElement().removeEventListener(t,i);this.widgetListeners=void 0,this.sourceListeners=void 0}},pMe=class{constructor(e,t,i,n){this.glob=e,this.self=t,this.window=Di(),this.mousegeneral=l=>{l.stopPropagation(),l.stopImmediatePropagation()},this.mousemove=l=>{var u;l.stopPropagation(),l.stopImmediatePropagation(),(u=this.glob.globalMouseDragCallbacks)==null||u.mousemove(l)},this.mouseup=l=>{var u;l.button===0&&(l.stopPropagation(),l.stopImmediatePropagation(),(u=this.glob.globalMouseDragCallbacks)==null||u.mouseup(l),this.destroy())};const{window:s,mousegeneral:r,mousemove:o,mouseup:a}=this;s.addEventListener("mousedown",r,{capture:!0}),s.addEventListener("mouseenter",r,{capture:!0}),s.addEventListener("mouseleave",r,{capture:!0}),s.addEventListener("mouseout",r,{capture:!0}),s.addEventListener("mouseover",r,{capture:!0}),s.addEventListener("mousemove",o,{capture:!0}),s.addEventListener("mouseup",a,{capture:!0}),t.mouseDragger=this,e.globalMouseDragCallbacks=i,e.globalMouseDragCallbacks.mousedown(n)}destroy(){const{window:e,mousegeneral:t,mousemove:i,mouseup:n}=this;e.removeEventListener("mousedown",t,{capture:!0}),e.removeEventListener("mouseenter",t,{capture:!0}),e.removeEventListener("mouseleave",t,{capture:!0}),e.removeEventListener("mouseout",t,{capture:!0}),e.removeEventListener("mouseover",t,{capture:!0}),e.removeEventListener("mousemove",i,{capture:!0}),e.removeEventListener("mouseup",n,{capture:!0}),this.glob.globalMouseDragCallbacks=void 0,this.self.mouseDragger=void 0}};function fMe(e,t,i,n){if(e.globalMouseDragCallbacks==null)return new pMe(e,t,i,n)}var gMe=500,mMe=100;function yMe(e,t){const i=e.clientX-t.clientX,n=e.clientY-t.clientY;return i*i+n*n}var _A=!1,vMe=class{constructor(e,t,i,n,s){this.glob=e,this.self=t,this.initialTouch=n,this.target=s,this.longTapInterrupted=!1,this.longtap=()=>{const{target:a,initialTouch:l}=this;if(!this.longTapInterrupted){a.dispatchEvent(new TouchEvent("touchcancel",{touches:[l],bubbles:!0})),_A=!0;const u=y=>{y.preventDefault()},d=y=>{_A=!1,y.preventDefault(),a.removeEventListener("touchmove",u),a.removeEventListener("touchend",d),a.removeEventListener("touchcancel",d)};a.addEventListener("touchmove",u,{passive:!1}),a.addEventListener("touchend",d,{passive:!1}),a.addEventListener("touchcancel",d,{passive:!1});const{clientX:p,clientY:f}=l,m=new PointerEvent("contextmenu",{bubbles:!0,cancelable:!0,view:Di(),clientX:p,clientY:f,pointerType:"touch"});a.dispatchEvent(m)}},this.touchmove=a=>{var f;const{glob:l,self:u,initialTouch:d}=this,p=this.findInitialFinger(a.targetTouches);p!=null&&(this.longTapInterrupted=this.longTapInterrupted||yMe(d,p)>mMe,u.dragTouchEnabled&&p!=null&&((f=l.globalTouchDragCallbacks)==null||f.touchmove(a,p)))},this.touchend=a=>{var u;this.longTapInterrupted=!0;const l=this.findInitialFinger(a.changedTouches,a.touches);l!=null&&((u=this.glob.globalTouchDragCallbacks)==null||u.touchend(a,l)),this.destroy()},this.longtapTimer=setTimeout(this.longtap,gMe);const{touchmove:r,touchend:o}=this;s.addEventListener("touchmove",r,{passive:!1}),s.addEventListener("touchstart",o,{passive:!1}),s.addEventListener("touchend",o,{passive:!1}),s.addEventListener("touchcancel",o,{passive:!1}),t.touchDragger=this,e.globalTouchDragCallbacks=i}destroy(){const{longtapTimer:e,touchmove:t,touchend:i}=this;clearTimeout(e),this.target.removeEventListener("touchstart",i),this.target.removeEventListener("touchmove",t),this.target.removeEventListener("touchend",i),this.target.removeEventListener("touchcancel",i),this.glob.globalTouchDragCallbacks=void 0,this.self.touchDragger=void 0}findInitialFinger(...e){const t=e.map(i=>Array.from(i)).flat();return Array.from(t).find(i=>i.identifier===this.initialTouch.identifier)}};function CMe(e,t,i,n,s){if(!(e.globalTouchDragCallbacks!=null||_A))return new vMe(e,t,i,n,s)}function A1(e,t,i,n){const{currentX:s,currentY:r}=Dc.calcCurrentXY(e.getElement(),n),o=n.pageX-i.pageX,a=n.pageY-i.pageY;return{type:t,device:"mouse",offsetX:i.offsetX+o,offsetY:i.offsetY+a,clientX:n.clientX,clientY:n.clientY,currentX:s,currentY:r,originDeltaX:o,originDeltaY:a,sourceEvent:n}}function bMe(e,{pageX:t,pageY:i}){const{x:n,y:s}=e.getElement().getBoundingClientRect();return{offsetX:t-n,offsetY:i-s}}function I1(e,t,i,n,s){const{currentX:r,currentY:o}=Dc.calcCurrentXY(e.getElement(),s),a=s.pageX-i.pageX,l=s.pageY-i.pageY;return{type:t,device:"touch",offsetX:i.offsetX+a,offsetY:i.offsetY+l,clientX:s.clientX,clientY:s.clientY,currentX:r,currentY:o,originDeltaX:a,originDeltaY:l,sourceEvent:n}}var nG={},sG=class{constructor(e){this.dispatchCallback=e,this.dragTouchEnabled=!0}destroy(){var e,t,i;(e=this.dragTriggerRemover)==null||e.call(this),this.dragTriggerRemover=void 0,this.dragStartListeners=void 0,this.dragMoveListeners=void 0,this.dragEndListeners=void 0,(t=this.mouseDragger)==null||t.destroy(),(i=this.touchDragger)==null||i.destroy()}add(e,t,i){switch(e){case"drag-start":{this.dragStartListeners??(this.dragStartListeners=[]),this.dragStartListeners.push(i),this.registerDragTrigger(t);break}case"drag-move":{this.dragMoveListeners??(this.dragMoveListeners=[]),this.dragMoveListeners.push(i),this.registerDragTrigger(t);break}case"drag-end":{this.dragEndListeners??(this.dragEndListeners=[]),this.dragEndListeners.push(i),this.registerDragTrigger(t);break}}}remove(e,t,i){switch(e){case"drag-start":return this.removeHandler(this.dragStartListeners,i);case"drag-move":return this.removeHandler(this.dragMoveListeners,i);case"drag-end":return this.removeHandler(this.dragEndListeners,i)}}removeHandler(e,t){const i=e==null?void 0:e.indexOf(t);i!==void 0&&(e==null||e.splice(i,1))}registerDragTrigger(e){if(this.dragTriggerRemover==null){const t=n=>this.triggerMouseDrag(e,n),i=n=>this.triggerTouchDrag(e,n);e.getElement().addEventListener("mousedown",t),e.getElement().addEventListener("touchstart",i,{passive:!1}),this.dragTriggerRemover=()=>{e.getElement().removeEventListener("mousedown",t),e.getElement().removeEventListener("touchstart",i)}}}triggerMouseDrag(e,t){t.button===0&&this.startMouseDrag(e,t)}startMouseDrag(e,t){const i={pageX:NaN,pageY:NaN,offsetX:NaN,offsetY:NaN};NA(["pageX","pageY","offsetX","offsetY"],i,t);const n={mousedown:s=>{const r=A1(e,"drag-start",i,s);this.dispatch("drag-start",e,r)},mousemove:s=>{const r=A1(e,"drag-move",i,s);this.dispatch("drag-move",e,r)},mouseup:s=>{const r=A1(e,"drag-end",i,s);this.dispatch("drag-end",e,r),this.endDrag(e,r)}};this.mouseDragger=fMe(nG,this,n,t)}endDrag(e,{sourceEvent:t,clientX:i,clientY:n}){var o;const s=e.getElement(),r=s.getBoundingClientRect();dM.containsPoint(r,i,n)||(s.dispatchEvent(new MouseEvent("mouseleave",t)),(o=t.target)==null||o.dispatchEvent(new MouseEvent("mouseenter",t)))}triggerTouchDrag(e,t){const i=t.targetTouches[0];t.targetTouches.length===1&&i!=null&&this.startOneFingerTouch(e,t,i)}startOneFingerTouch(e,t,i){const n={pageX:NaN,pageY:NaN,...bMe(e,i)};NA(["pageX","pageY"],n,i);const s={touchmove:(a,l)=>{const u=I1(e,"drag-move",n,a,l);this.dispatch("drag-move",e,u)},touchend:(a,l)=>{const u=I1(e,"drag-end",n,a,l);this.dispatch("drag-end",e,u)}},r=e.getElement();this.touchDragger=CMe(nG,this,s,i,r);const o=I1(e,"drag-start",n,t,i);this.dispatch("drag-start",e,o)}dispatch(e,t,i){var n,s,r;switch(e){case"drag-start":(n=this.dragStartListeners)==null||n.forEach(o=>o(i,t));break;case"drag-move":(s=this.dragMoveListeners)==null||s.forEach(o=>o(i,t));break;case"drag-end":(r=this.dragEndListeners)==null||r.forEach(o=>o(i,t));break}this.dispatchCallback(e,i)}},wMe=class{constructor(e){this.elem=e}setBounds(e){ZS(this.elemContainer??this.elem,e)}getBounds(){return qW(this.elemContainer??this.elem)}static setElementContainer(e,t){const i=e.getBounds();ZS(t,i),uMe(e.elem,{width:"100%",height:"100%"}),e.elem.remove(),e.elemContainer=t,e.elemContainer.replaceChildren(e.elem)}},zl=class extends wMe{constructor(e){super(e),this.elem=e,this.index=NaN,this.children=[]}getElement(){return this.elem}getBoundingClientRect(){return this.elem.getBoundingClientRect()}get clientWidth(){return this.elem.clientWidth}get clientHeight(){return this.elem.clientHeight}destroy(){var e,t,i,n;(e=this.parent)==null||e.removeChild(this),this.children.forEach(s=>{s.parent=void 0,s.destroy()}),this.children.length=0,this.destructor(),this.elem.remove(),(t=this.elemContainer)==null||t.remove(),(i=this.internalListener)==null||i.destroy(),(n=this.htmlListener)==null||n.destroy(this)}setHidden(e){ba(this.elem,"display",e?"none":void 0)}isHidden(){var e,t;return((t=(e=Di())==null?void 0:e.getComputedStyle)==null?void 0:t.call(e,this.elem).display)==="none"}setCursor(e){ba(this.elem,"cursor",e)}setTextContent(e){this.elem.textContent=e??null}setAriaDescribedBy(e){Mi(this.elem,"aria-describedby",e)}setAriaHidden(e){Mi(this.elem,"aria-hidden",e)}setAriaLabel(e){Mi(this.elem,"aria-label",e)}setInnerHTML(e){this.elem.innerHTML=e}isDisabled(){return xM(this.elem,"aria-disabled",!1)}parseFloat(e){return e===""?0:parseFloat(e)}cssLeft(){return this.parseFloat(this.elem.style.left)}cssTop(){return this.parseFloat(this.elem.style.top)}cssWidth(){return this.parseFloat(this.elem.style.width)}cssHeight(){return this.parseFloat(this.elem.style.height)}focus(){this.elem.focus()}setPreventsDefault(e){Mi(this.elem,"data-preventdefault",e)}setTabIndex(e){Mi(this.elem,"tabindex",e)}addChild(e){this.addChildToDOM(e,this.getBefore(e)),this.children.push(e),e.index=this.children.length-1,e.parent=this,this.onChildAdded(e)}removeChild(e){const t=this.children.findIndex(i=>i===e);this.children.splice(t,1),this.removeChildFromDOM(e),this.onChildRemoved(e)}moveChild(e,t){e.domIndex!==t&&(e.domIndex=t,this.removeChildFromDOM(e),this.addChildToDOM(e,this.getBefore(e)))}addClass(...e){this.elem.classList.add(...e)}removeClass(...e){this.elem.classList.remove(...e)}toggleClass(e,t){this.elem.classList.toggle(e,t)}appendOrInsert(e,t){t?t.getElement().insertAdjacentElement("beforebegin",e):this.elem.appendChild(e)}addChildToDOM(e,t){this.appendOrInsert(e.getElement(),t)}removeChildFromDOM(e){this.elem.removeChild(e.getElement())}onChildAdded(e){}onChildRemoved(e){}getBefore({domIndex:e}){if(e!==void 0)return this.children.filter(t=>t.domIndex!==void 0&&t.domIndex>e).reduce((t,i)=>!t||i.domIndex<t.domIndex?i:t,void 0)}addListener(e,t){return Dc.isHTMLEvent(e)?(this.htmlListener??(this.htmlListener=new hMe),this.htmlListener.add(e,this,t)):(this.internalListener??(this.internalListener=new sG(this.onDispatch.bind(this))),this.internalListener.add(e,this,t)),()=>this.removeListener(e,t)}removeListener(e,t){var i,n;Dc.isHTMLEvent(e)?(i=this.htmlListener)==null||i.remove(e,this,t):this.htmlListener!=null&&((n=this.internalListener)==null||n.remove(e,this,t))}setDragTouchEnabled(e){this.internalListener??(this.internalListener=new sG(this.onDispatch.bind(this))),this.internalListener.dragTouchEnabled=e}onDispatch(e,t){if(!t.sourceEvent.bubbles)return;let{parent:i}=this;for(;i!=null;){const{internalListener:n}=i;if(n!=null){const s={...t,...Dc.calcCurrentXY(i.getElement(),t)};n.dispatch(e,i,s)}i=i.parent}}static addWindowEvent(e,t){const i=n=>{n.persisted||t()};return Di().addEventListener("pagehide",i),()=>Di().removeEventListener("pagehide",i)}};function SMe(e=0,t=0){return new OffscreenCanvas(e,t).getContext("2d")}var xk=class{constructor(e=5){this.maxCacheSize=e,this.store=new Map}get(e){if(!this.store.has(e))return;const t=this.store.get(e);return this.store.delete(e),this.store.set(e,t),t}has(e){return this.store.has(e)}set(e,t){if(this.store.set(e,t),this.store.size>this.maxCacheSize){const i=this.store.keys();let n=this.store.size-this.maxCacheSize;for(;n>0;){const s=i.next();s.done||this.store.delete(s.value),n--}}return t}clear(){this.store.clear()}},Hc=class{static measureText(e,t){return this.getMeasurer(t).measureText(e)}static measureLines(e,t){return this.getMeasurer(t).measureLines(e)}static getMeasurer(e){const t=typeof e.font=="string"?e.font:Ui.toFontString(e.font),i=`${t}-${e.textAlign??"start"}-${e.textBaseline??"alphabetic"}`;return this.instanceMap.get(i)??this.createFontMeasurer(t,e,i)}static createFontMeasurer(e,t,i){const n=SMe();n.font=e,n.textAlign=t.textAlign??"start",n.textBaseline=t.textBaseline??"alphabetic";const s=new n6(n,t);return this.instanceMap.set(i,s),s}};Hc.instanceMap=new xk(10);var n6=class{constructor(e,t){this.ctx=e,this.measureMap=new xk(100),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline),e.font=typeof t.font=="string"?t.font:Ui.toFontString(t.font),this.textMeasurer=new Mk(i=>this.cachedCtxMeasureText(i),t.textBaseline??"alphabetic")}textWidth(e,t){return this.textMeasurer.textWidth(e,t)}measureText(e){return this.textMeasurer.measureText(e)}measureLines(e){return this.textMeasurer.measureLines(e)}cachedCtxMeasureText(e){if(!this.measureMap.has(e)){const t=this.ctx.measureText(e);this.measureMap.set(e,{actualBoundingBoxAscent:t.actualBoundingBoxAscent,emHeightAscent:t.emHeightAscent,emHeightDescent:t.emHeightDescent,actualBoundingBoxDescent:t.actualBoundingBoxDescent,actualBoundingBoxLeft:t.actualBoundingBoxLeft,actualBoundingBoxRight:t.actualBoundingBoxRight,alphabeticBaseline:t.alphabeticBaseline,fontBoundingBoxAscent:t.fontBoundingBoxAscent,fontBoundingBoxDescent:t.fontBoundingBoxDescent,hangingBaseline:t.hangingBaseline,ideographicBaseline:t.ideographicBaseline,width:t.width})}return this.measureMap.get(e)}},Ui=class{static toFontString({fontSize:e=10,fontStyle:t,fontWeight:i,fontFamily:n,lineHeight:s}){let r="";return t&&(r+=`${t} `),i&&(r+=`${i} `),r+=`${e}px`,s&&(r+=`/${s}px`),r+=` ${n}`,r.trim()}static getLineHeight(e){return Math.ceil(e*this.defaultLineHeight)}static getVerticalModifier(e){switch(e){case"hanging":case"top":return 0;case"middle":return .5;case"alphabetic":case"bottom":case"ideographic":default:return 1}}};Ui.EllipsisChar="…";Ui.defaultLineHeight=1.15;Ui.lineSplitter=/\r?\n/g;var Mk=class{constructor(e,t="alphabetic"){this.measureTextFn=e,this.textBaseline=t,this.charMap=new Map}getMetrics(e){const t=this.measureTextFn(e);return t.fontBoundingBoxAscent??(t.fontBoundingBoxAscent=t.emHeightAscent),t.fontBoundingBoxDescent??(t.fontBoundingBoxDescent=t.emHeightDescent),{width:t.width,height:t.actualBoundingBoxAscent+t.actualBoundingBoxDescent,lineHeight:t.fontBoundingBoxAscent+t.fontBoundingBoxDescent,offsetTop:t.actualBoundingBoxAscent,offsetLeft:t.actualBoundingBoxLeft}}getMultilineMetrics(e){let t=0,i=0,n=0,s=0,r=0;const o=Ui.getVerticalModifier(this.textBaseline),a=[];let l=0;const u=e.length;for(const d of e){const p=this.measureTextFn(d);p.fontBoundingBoxAscent??(p.fontBoundingBoxAscent=p.emHeightAscent),p.fontBoundingBoxDescent??(p.fontBoundingBoxDescent=p.emHeightDescent),t<p.width&&(t=p.width),s<p.actualBoundingBoxLeft&&(s=p.actualBoundingBoxLeft),l===0?(i+=p.actualBoundingBoxAscent,n+=p.actualBoundingBoxAscent):r+=p.fontBoundingBoxAscent,l===u-1?i+=p.actualBoundingBoxDescent:r+=p.fontBoundingBoxDescent,a.push({text:d,width:p.width,height:p.actualBoundingBoxAscent+p.actualBoundingBoxDescent,lineHeight:p.fontBoundingBoxAscent+p.fontBoundingBoxDescent,offsetTop:p.actualBoundingBoxAscent,offsetLeft:p.actualBoundingBoxLeft}),l++}return i+=r,n+=r*o,{width:t,height:i,offsetTop:n,offsetLeft:s,lineMetrics:a}}textWidth(e,t){if(t){let i=0;for(let n=0;n<e.length;n++)i+=this.textWidth(e.charAt(n));return i}return e.length>1?this.measureTextFn(e).width:this.charMap.get(e)??this.charWidth(e)}measureText(e){return this.getMetrics(e)}measureLines(e){const t=typeof e=="string"?e.split(Ui.lineSplitter):e;return this.getMultilineMetrics(t)}charWidth(e){const{width:t}=this.measureTextFn(e);return this.charMap.set(e,t),t}},lo=class Uw extends ea{constructor(){super(...arguments),this.x=0,this.y=0,this.lines=[],this.text=void 0,this.fontSize=10,this.fontFamily="sans-serif",this.textAlign=Uw.defaultStyles.textAlign,this.textBaseline=Uw.defaultStyles.textBaseline}onTextChange(){var t;this.lines=((t=this.text)==null?void 0:t.split(`
`).map(i=>i.trim()))??[]}static computeBBox(t,i,n,s){const{offsetTop:r,offsetLeft:o,width:a,height:l}=Hc.measureLines(t,s);return new Ue(i-o,n-r,a,l)}computeBBox(){const{x:t,y:i,lines:n,textBaseline:s,textAlign:r}=this;return Uw.computeBBox(n,t,i,{font:this,textBaseline:s,textAlign:r})}isPointInPath(t,i){const n=this.getBBox();return n?n.containsPoint(t,i):!1}render(t){const{ctx:i,stats:n}=t;if(!this.lines.length||!this.layerManager)return n&&(n.nodesSkipped+=1),super.render(t);const{fill:s,stroke:r,strokeWidth:o}=this,{pixelRatio:a}=this.layerManager.canvas;if(!s&&!(r!=null&&o>0))return super.render(t);const l=Ui.toFontString(this);if(i.font!==l&&(i.font=l),i.textAlign=this.textAlign,i.textBaseline=this.textBaseline,s){this.applyFill(i),i.globalAlpha*=this.opacity*this.fillOpacity;const{fillShadow:u}=this;u!=null&&u.enabled&&(i.shadowColor=u.color,i.shadowOffsetX=u.xOffset*a,i.shadowOffsetY=u.yOffset*a,i.shadowBlur=u.blur*a),this.renderLines((d,p,f)=>i.fillText(d,p,f))}if(r&&o){this.applyStroke(i),i.lineWidth=o,i.globalAlpha*=this.opacity*this.strokeOpacity;const{lineDash:u,lineDashOffset:d,lineCap:p,lineJoin:f}=this;u&&i.setLineDash(u),d&&(i.lineDashOffset=d),p&&(i.lineCap=p),f&&(i.lineJoin=f),this.renderLines((m,y,C)=>i.strokeText(m,y,C))}super.render(t)}renderLines(t){const{lines:i,x:n,y:s}=this,r=this.lineHeight??Ui.getLineHeight(this.fontSize);let o=(r-r*i.length)*Ui.getVerticalModifier(this.textBaseline);for(const a of i)t(a,n,s+o),o+=r}setFont(t){this.fontFamily=t.fontFamily,this.fontSize=t.fontSize,this.fontStyle=t.fontStyle,this.fontWeight=t.fontWeight}setAlign(t){this.textAlign=t.textAlign,this.textBaseline=t.textBaseline}toSVG(){var i;if(!this.visible||!this.text)return;const t=gs("text");return this.applySvgFillAttributes(t),t.setAttribute("font-family",((i=this.fontFamily)==null?void 0:i.split(",")[0])??""),t.setAttribute("font-size",String(this.fontSize)),t.setAttribute("font-style",this.fontStyle??""),t.setAttribute("font-weight",String(this.fontWeight??"")),t.setAttribute("text-anchor",{center:"middle",left:"start",right:"end",start:"start",end:"end"}[this.textAlign??"start"]),t.setAttribute("alignment-baseline",{alphabetic:"alphabetic",top:"top",bottom:"bottom",hanging:"hanging",middle:"middle",ideographic:"ideographic"}[this.textBaseline??"alphabetic"]),t.setAttribute("x",String(this.x)),t.setAttribute("y",String(this.y)),t.textContent=this.text??"",{elements:[t]}}};lo.className="Text";lo.defaultStyles={...ea.defaultStyles,textAlign:"start",fontStyle:void 0,fontWeight:void 0,fontSize:10,fontFamily:"sans-serif",textBaseline:"alphabetic"};I([$e()],lo.prototype,"x",2);I([$e()],lo.prototype,"y",2);I([$e({changeCb:e=>e.onTextChange()})],lo.prototype,"text",2);I([$e()],lo.prototype,"fontStyle",2);I([$e()],lo.prototype,"fontWeight",2);I([$e()],lo.prototype,"fontSize",2);I([$e()],lo.prototype,"fontFamily",2);I([$e()],lo.prototype,"textAlign",2);I([$e()],lo.prototype,"textBaseline",2);I([$e()],lo.prototype,"lineHeight",2);var is=lo,s6=class extends Zg(is){},Ag=class extends Zg(wp(is)){},Dk=class{static wrapText(e,t){return this.wrapLines(e,t).join(`
`)}static wrapLines(e,t){const i=this.textWrap(e,t);return t.overflow==="hide"&&i.some(n=>n.endsWith(Ui.EllipsisChar))?[]:i}static appendEllipsis(e){return e.replace(/[.,]{1,5}$/,"")+Ui.EllipsisChar}static truncateLine(e,t,i,n){const s=t.textWidth(Ui.EllipsisChar);let r=0,o=0;for(;o<e.length;o++){const a=t.textWidth(e.charAt(o));if(r+a>i)break;r+=a}if(e.length===o&&(!n||r+s<=i))return n?e+Ui.EllipsisChar:e;for(e=e.slice(0,o).trimEnd();e.length&&t.textWidth(e)+s>i;)e=e.slice(0,-1).trimEnd();return e+Ui.EllipsisChar}static textWrap(e,t){const i=e.split(Ui.lineSplitter),n=Hc.getMeasurer(t);if(t.textWrap==="never")return i.map(a=>this.truncateLine(a.trimEnd(),n,t.maxWidth));const s=[],r=t.textWrap==="hyphenate",o=t.textWrap==null||t.textWrap==="on-space";for(const a of i){let l=a.trimEnd();if(l===""){s.push(l);continue}let u=0,d=0,p=0;for(;u<l.length;){const f=l.charAt(u);if(d+=n.textWidth(f),f===" "&&(p=u),d>t.maxWidth){if(u===0)break;const m=n.textWidth(l.slice(0,u+1));if(m<=t.maxWidth){d=m,u++;continue}if(p){const w=this.getWordAt(l,p+1),b=n.textWidth(w);if(b<=t.maxWidth){s.push(l.slice(0,p).trimEnd()),l=l.slice(p).trimStart(),u=0,d=0,p=0;continue}else o&&b>t.maxWidth&&s.push(l.slice(0,p).trimEnd(),this.truncateLine(l.slice(p).trimStart(),n,t.maxWidth,!0))}else o&&s.push(this.truncateLine(l,n,t.maxWidth,!0));if(o){l="";break}const y=r?"-":"";let C=l.slice(0,u).trim();for(;C.length&&n.textWidth(C+y)>t.maxWidth;)C=C.slice(0,-1).trimEnd();if(s.push(C+y),!C.length){l="";break}l=l.slice(C.length).trimStart(),u=-1,d=0,p=0}u++}l&&s.push(l)}return this.avoidOrphans(s,n,t),this.clipLines(s,n,t)}static getWordAt(e,t){const i=e.indexOf(" ",t);return i===-1?e.slice(t):e.slice(t,i)}static clipLines(e,t,i){if(!i.maxHeight)return e;const{height:n,lineMetrics:s}=t.measureLines(e);if(n<=i.maxHeight)return e;for(let r=0,o=0;r<s.length;r++){const{lineHeight:a}=s[r];if(o+=a,o>i.maxHeight){if(i.overflow==="hide")return[];const l=e.slice(0,r||1),u=l.pop();return l.concat(this.truncateLine(u,t,i.maxWidth,!0))}}return e}static avoidOrphans(e,t,i){if(i.avoidOrphans===!1||e.length<2)return;const{length:n}=e,s=e[n-1],r=e[n-2];if(r.length<s.length)return;const o=r.lastIndexOf(" ");if(o===-1||o===r.indexOf(" ")||s.includes(" "))return;const a=r.slice(o+1);t.textWidth(s+a)<=i.maxWidth&&(e[n-2]=r.slice(0,o),e[n-1]=a+" "+s)}},Zi=class extends gt{constructor(){super(...arguments),this.id=ro(this),this.node=new s6({zIndex:1}).setProperties({textAlign:"center",pointerEvents:1}),this.enabled=!1,this.textAlign="center",this.fontSize=10,this.fontFamily="sans-serif",this.wrapping="always",this.padding=0,this.layoutStyle="block",this.truncated=!1}registerInteraction(e,t){return e.layoutManager.addListener("layout:complete",()=>this.updateA11yText(e,t))}computeTextWrap(e,t){const{text:i,padding:n,wrapping:s}=this,r=Math.min(this.maxWidth??1/0,e)-n*2,o=this.maxHeight??t-n*2;if(!isFinite(r)&&!isFinite(o)){this.node.text=i;return}const a=Dk.wrapText(i??"",{maxWidth:r,maxHeight:o,font:this,textWrap:s});this.node.text=a,this.truncated=a.includes(Ui.EllipsisChar)}updateA11yText(e,t){var n;const{proxyInteractionService:i}=e;if(this.enabled&&this.text){const s=mn.toCanvas(this.node);if(s){const{id:r}=this;this.proxyText??(this.proxyText=i.createProxyElement({type:"text",domManagerId:r,where:t})),this.proxyText.textContent=this.text,this.proxyText.setBounds(s),this.proxyText.addListener("mousemove",o=>this.handleMouseMove(e,o)),this.proxyText.addListener("mouseleave",o=>this.handleMouseLeave(e,o))}}else(n=this.proxyText)==null||n.destroy(),this.proxyText=void 0}handleMouseMove(e,t){if(t!=null&&this.enabled&&this.node.visible&&this.truncated){const{x:i,y:n}=mn.toCanvas(this.node),s=t.sourceEvent.offsetX+i,r=t.sourceEvent.offsetY+n;e.tooltipManager.updateTooltip(this.id,{canvasX:s,canvasY:r,showArrow:!1},[{type:"structured",title:this.text}])}}handleMouseLeave(e,t){e.tooltipManager.removeTooltip(this.id)}};Zi.SMALL_PADDING=10;I([O(),vs("node","visible")],Zi.prototype,"enabled",2);I([O(),vs("node")],Zi.prototype,"text",2);I([O(),vs("node")],Zi.prototype,"textAlign",2);I([O(),vs("node")],Zi.prototype,"fontStyle",2);I([O(),vs("node")],Zi.prototype,"fontWeight",2);I([O(),vs("node")],Zi.prototype,"fontSize",2);I([O(),vs("node")],Zi.prototype,"fontFamily",2);I([O(),vs("node","fill")],Zi.prototype,"color",2);I([O()],Zi.prototype,"spacing",2);I([O()],Zi.prototype,"maxWidth",2);I([O()],Zi.prototype,"maxHeight",2);I([O()],Zi.prototype,"wrapping",2);I([O()],Zi.prototype,"padding",2);I([O()],Zi.prototype,"layoutStyle",2);var Rk=(e=>(e.X="x",e.Y="y",e))(Rk||{}),Ek=(e=>(e[e.Caption=0]="Caption",e[e.Legend=1]="Legend",e[e.ToolbarLeft=2]="ToolbarLeft",e[e.ToolbarBottom=3]="ToolbarBottom",e[e.Navigator=4]="Navigator",e[e.Overlay=5]="Overlay",e))(Ek||{}),r6=class{constructor(){this.events=new QL,this.elements=new Map}addListener(e,t){return this.events.on(e,t)}registerElement(e,t){return this.elements.has(e)?this.elements.get(e).add(t):this.elements.set(e,new Set([t])),()=>{var i;return(i=this.elements.get(e))==null?void 0:i.delete(t)}}createContext(e,t){var n;const i=new xMe(e,t);for(const s of Object.values(Ek))typeof s=="number"&&((n=this.elements.get(s))==null||n.forEach(r=>r(i)));return i}emitLayoutComplete(e,t){const i="layout:complete",{width:n,height:s}=e;this.events.emit(i,{type:i,axes:t.axes??[],chart:{width:n,height:s},clipSeries:t.clipSeries??!1,series:t.series})}},xMe=class{constructor(e,t){this.width=e,this.height=t,this.layoutBox=new Ue(0,0,e,t)}},MM=class{constructor(){this.title=new Zi,this.subtitle=new Zi,this.footnote=new Zi}positionCaptions(e){const{title:t,subtitle:i,footnote:n}=this,s=e.layoutBox.height/10;if(t.enabled){const{spacing:r}=t;this.positionCaption("top",t,e.layoutBox,s),this.shrinkLayoutByCaption("top",t,e.layoutBox,r)}i.enabled&&(this.positionCaption("top",i,e.layoutBox,s),this.shrinkLayoutByCaption("top",i,e.layoutBox,i.spacing)),n.enabled&&(this.positionCaption("bottom",n,e.layoutBox,s),this.shrinkLayoutByCaption("bottom",n,e.layoutBox,n.spacing))}positionAbsoluteCaptions(e){const{title:t,subtitle:i,footnote:n}=this,{rect:s}=e.series;for(const r of[t,i,n])if(r.layoutStyle==="overlay"){if(r.textAlign==="left")r.node.x=s.x+r.padding;else if(r.textAlign==="right"){const o=r.node.getBBox();r.node.x=s.x+s.width-o.width-r.padding}}}computeX(e,t){return e==="left"?t.x:e==="right"?t.x+t.width:t.x+t.width/2}positionCaption(e,t,i,n){const s=Math.max(Ui.getLineHeight(t.fontSize),n);t.node.x=this.computeX(t.textAlign,i)+t.padding,t.node.y=i.y+(e==="top"?0:i.height)+t.padding,t.node.textBaseline=e,t.computeTextWrap(i.width,s)}shrinkLayoutByCaption(e,t,i,n=0){if(t.layoutStyle==="block"){const s=t.node.getBBox();i.shrink(Math.ceil(e==="top"?s.y-i.y+s.height+n:i.y+i.height-s.y+n),e)}}};I([O()],MM.prototype,"title",2);I([O()],MM.prototype,"subtitle",2);I([O()],MM.prototype,"footnote",2);var MMe=["candlestick","hollow-candlestick","ohlc","line","step-line","hlc","high-low"],DMe=class{constructor(e){this.chartService=e,this.mementoOriginatorKey="chartType"}createMemento(){var t,i;let e=(i=(t=this.chartService.publicApi)==null?void 0:t.getOptions())==null?void 0:i.chartType;return e==null&&(e="candlestick"),e}guardMemento(e){return e==null||MMe.includes(e)}restoreMemento(e,t,i){var s;if(i==null)return;const n={chartType:i};(s=this.chartService.publicApi)==null||s.updateDelta(n).catch(r=>De.error("error restoring state",r))}},o6=class{constructor(){this.destroyFns=[]}destroy(){this.destroyFns.forEach(e=>e()),this.destroyFns.length=0}setFns(e){this.destroy(),this.destroyFns=e}push(...e){this.destroyFns.push(...e)}},ex="11.2.1",rG=Symbol("previous-memento-not-found"),RMe=class{constructor(e){this.history=[],this.historyIndex=-1,this.originators=new Map,this.clearState=new Map,this.maxHistoryLength=100,this.debug=ii.create(!0,"history"),this.destroyFns=new o6,this.destroyFns.setFns([e.addListener("series-undo",this.undo.bind(this)),e.addListener("series-redo",this.redo.bind(this))])}destroy(){this.destroyFns.destroy()}addMementoOriginator(e){this.originators.set(e.mementoOriginatorKey,e),this.clearState.set(e.mementoOriginatorKey,e.createMemento()),this.debugEvent("History add originator:",e.mementoOriginatorKey)}clear(){this.debug("History clear:",Object.keys(this.originators)),this.history=[],this.historyIndex=-1;for(const[e,t]of this.originators.entries())this.clearState.set(e,t.createMemento())}record(e,...t){this.historyIndex<this.history.length-1&&(this.history=this.history.slice(0,this.historyIndex+1)),this.history.length>this.maxHistoryLength&&(this.history=this.history.slice(-this.maxHistoryLength));const i=new Map;for(const n of t){if(!this.originators.has(n.mementoOriginatorKey))throw new Error(`Originator [${n.mementoOriginatorKey}] has not been added to the HistoryManager.`);i.set(n.mementoOriginatorKey,n.createMemento())}this.history.push({label:e,mementos:i}),this.historyIndex=this.history.length-1,this.debugEvent(`History record: [${e}]`)}undo(){const e=this.history[this.historyIndex];if(e){for(const t of e.mementos.keys()){const i=this.findPreviousMemento(t);if(i===rG)throw new Error(`Could not find previous memento for [${t}].`);this.restoreMemento(t,i)}this.historyIndex-=1,this.debugEvent(`History undo: [${e.label}]`)}}redo(){const e=this.history[this.historyIndex+1];if(e){for(const[t,i]of e.mementos.entries())this.restoreMemento(t,i);this.historyIndex+=1,this.debugEvent(`History redo: [${e.label}]`)}}findPreviousMemento(e){for(let t=this.historyIndex-1;t>=0;t--)if(this.history[t].mementos.has(e))return this.history[t].mementos.get(e);return this.clearState.has(e)?this.clearState.get(e):rG}restoreMemento(e,t){var i;(i=this.originators.get(e))==null||i.restoreMemento(ex,ex,t)}debugEvent(...e){this.debug(...e,this.history.map((t,i)=>i===this.historyIndex?`** ${t.label} **`:t.label))}},a6=class jA{constructor(t){this.version=t.split("-")[0]}save(...t){const i={version:this.version};for(const n of Object.values(t))i[n.mementoOriginatorKey]=this.encode(n,n.createMemento());return i}restore(t,...i){if(typeof t!="object"){De.warnOnce(`Could not restore data of type [${typeof t}], expecting an object, ignoring.`);return}if(t==null){De.warnOnce("Could not restore data of type [null], expecting an object, ignoring.");return}if(!("version"in t)||typeof t.version!="string"){De.warnOnce("Could not restore data, missing [version] string in object, ignoring.");return}for(const n of i){const s=this.decode(n,t[n.mementoOriginatorKey]),r=[];if(!n.guardMemento(s,r)){const o=r.length>0?`

${r.join(`

`)}

`:"";De.warnOnce(`Could not restore [${n.mementoOriginatorKey}] data, value was invalid, ignoring.${o}`,s);return}n.restoreMemento(this.version,t.version,s)}}encode(t,i){try{return JSON.parse(JSON.stringify(i,jA.encodeTypes))}catch(n){throw new Error(`Failed to encode [${t.mementoOriginatorKey}] value [${n}].`,{cause:n})}}decode(t,i){if(i==null)return i;try{return JSON.parse(JSON.stringify(i),jA.decodeTypes)}catch(n){throw new Error(`Failed to decode [${t.mementoOriginatorKey}] value [${n}].`,{cause:n})}}static encodeTypes(t,i){return Yg(this[t])?{__type:"date",value:this[t].toISOString()}:i}static decodeTypes(t,i){return In(this[t])&&"__type"in this[t]&&this[t].__type==="date"?new Date(this[t].value):i}},EMe=class{constructor(){this.caretaker=new a6(ex),this.state=new Map}setState(e,t){Il(this.state.get(e.mementoOriginatorKey),t)||this.setStateAndRestore(e,t)}setStateAndRestore(e,t){this.state.set(e.mementoOriginatorKey,t),this.restoreState(e)}restoreState(e){const{caretaker:t,state:i}=this;if(!i.has(e.mementoOriginatorKey))return;const n=i.get(e.mementoOriginatorKey);t.restore({version:t.version,[e.mementoOriginatorKey]:n},e)}},TMe=`.ag-charts-wrapper,.ag-charts-wrapper:after,.ag-charts-wrapper:before,.ag-charts-wrapper *,.ag-charts-wrapper *:after,.ag-charts-wrapper *:before{box-sizing:border-box}.ag-charts-wrapper{--align-items: center;--justify-content: center;position:relative;user-select:none;-webkit-user-select:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}.ag-charts-wrapper--safe-horizontal{--justify-content: flex-start}.ag-charts-wrapper--safe-vertical{--align-items: flex-start}.ag-charts-tab-guard{width:0%;height:0%;position:absolute;pointer-events:none}.ag-charts-canvas-center{width:100%;height:100%;position:absolute;touch-action:auto;pointer-events:auto;display:flex;align-items:var(--align-items);justify-content:var(--justify-content)}.ag-charts-canvas-container,.ag-charts-canvas{position:relative;user-select:none;-webkit-user-select:none}.ag-charts-canvas-container>*,.ag-charts-canvas>*{pointer-events:none}.ag-charts-canvas canvas{display:block}.ag-charts-series-area{outline:none;pointer-events:auto;position:absolute}.ag-charts-swapchain{top:0;left:0;outline:none;opacity:0;pointer-events:none;position:absolute;width:100%;height:100%}.ag-charts-swapchain:focus-visible{opacity:1}.ag-charts-canvas-proxy,.ag-charts-canvas-overlay{inset:0;pointer-events:none;position:absolute;user-select:none;-webkit-user-select:none}.ag-charts-canvas-overlay>*{position:absolute;pointer-events:auto}.ag-charts-theme-default,.ag-charts-theme-default-dark{--ag-charts-accent-color: #2196f3;--ag-charts-background-color: #fff;--ag-charts-border-color: #dddddd;--ag-charts-foreground-color: #464646;--ag-charts-font-family: Verdana, sans-serif;--ag-charts-font-size: 12px;--ag-charts-font-weight: 400;--ag-charts-padding: 20px;--ag-charts-shadow-color: #00000080;--ag-charts-subtle-text-color: #8c8c8c;--ag-charts-text-color: #464646;--ag-charts-chrome-background-color: #fafafa;--ag-charts-chrome-font-family: Verdana, sans-serif;--ag-charts-chrome-font-size: 12px;--ag-charts-chrome-font-weight: 400;--ag-charts-chrome-subtle-text-color: #8c8c8c;--ag-charts-chrome-text-color: #181d1f;--ag-charts-input-background-color: #fff;--ag-charts-input-text-color: #464646;--ag-charts-crosshair-label-background-color: #fff;--ag-charts-crosshair-label-text-color: #464646;--ag-charts-spacing: 4px;--ag-charts-border-radius: 4px;--ag-charts-shadow: 0 2px 8px 0 color-mix(in srgb, black 8%, transparent);--ag-charts-focus-shadow: 0 0 0 3px var(--ag-charts-accent-color);--ag-charts-focus-color: color-mix(in srgb, var(--ag-charts-background-color), var(--ag-charts-accent-color) 12%);--ag-charts-input-border-color: var(--ag-charts-border-color);--ag-charts-input-border-radius: var(--ag-charts-border-radius);--ag-charts-input-focus-border-color: var(--ag-charts-accent-color);--ag-charts-input-focus-text-color: var(--ag-charts-accent-color);--ag-charts-input-disabled-background-color: color-mix( in srgb, var(--ag-charts-chrome-background-color), var(--ag-charts-foreground-color) 6% );--ag-charts-input-disabled-border-color: var(--ag-charts-border-color);--ag-charts-input-disabled-text-color: color-mix( in srgb, var(--ag-charts-chrome-background-color), var(--ag-charts-input-text-color) 50% );--ag-charts-input-placeholder-text-color: color-mix( in srgb, var(--ag-charts-input-background-color), var(--ag-charts-input-text-color) 60% );--ag-charts-button-background-color: var(--ag-charts-background-color);--ag-charts-button-border-color: var(--ag-charts-border-color);--ag-charts-button-border-radius: var(--ag-charts-border-radius);--ag-charts-button-text-color: var(--ag-charts-text-color);--ag-charts-button-focus-background-color: color-mix( in srgb, var(--ag-charts-button-background-color), var(--ag-charts-accent-color) 12% );--ag-charts-button-focus-border-color: var(--ag-charts-accent-color);--ag-charts-button-focus-text-color: var(--ag-charts-accent-color);--ag-charts-button-disabled-background-color: color-mix( in srgb, var(--ag-charts-chrome-background-color), var(--ag-charts-foreground-color) 6% );--ag-charts-button-disabled-border-color: var(--ag-charts-border-color);--ag-charts-button-disabled-text-color: color-mix( in srgb, var(--ag-charts-chrome-background-color), var(--ag-charts-chrome-text-color) 50% );--ag-charts-checkbox-background-color: color-mix( in srgb, var(--ag-charts-background-color), var(--ag-charts-foreground-color) 35% );--ag-charts-checkbox-checked-background-color: var(--ag-charts-accent-color);--ag-charts-chrome-font-size-small: var(--ag-charts-chrome-font-size);--ag-charts-chrome-font-size-medium: calc(var(--ag-charts-chrome-font-size) * (13 / 12));--ag-charts-chrome-font-size-large: calc(var(--ag-charts-chrome-font-size) * (14 / 12));--ag-charts-border: solid 1px var(--ag-charts-border-color);--ag-charts-focus-border: solid 1px var(--ag-charts-accent-color);--ag-charts-focus-border-shadow: 0 0 0 3px color-mix(in srgb, transparent, var(--ag-charts-accent-color) 20%);--ag-charts-layer-menu: 6;--ag-charts-layer-ui-overlay: 5;--ag-charts-layer-tooltip: 4;--ag-charts-layer-toolbar: 3;--ag-charts-layer-crosshair: 2;--ag-charts-layer-annotations: 1}.ag-charts-theme-default-dark{--ag-charts-shadow: 0 2px 12px 0 color-mix(in srgb, black 33.3%, transparent);--ag-charts-focus-color: color-mix(in srgb, var(--ag-charts-background-color), var(--ag-charts-accent-color) 22%)}.ag-chart-canvas-wrapper .ag-charts-theme-default{--ag-charts-border-radius: var(--ag-border-radius, 4px);--ag-charts-border: var(--ag-borders-critical, solid 1px) var(--ag-charts-border-color);--ag-charts-focus-shadow: var(--ag-focus-shadow, 0 0 0 3px var(--ag-charts-accent-color));--ag-charts-focus-border-shadow: var( --ag-focus-shadow, 0 0 0 3px color-mix(in srgb, transparent, var(--ag-charts-accent-color) 20%) )}.ag-charts-icon{display:block;width:20px;height:20px;speak:none;speak:never;mask:var(--icon) center / contain no-repeat;background-color:currentColor;transition:background-color .25s ease-in-out}.ag-charts-icon-align-center{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsPSIjMDAwIiBkPSJNNyAxMGg2djFIN3pNNCA3aDEydjFINHptMSA2aDEwdjFINXoiLz48L3N2Zz4=)}.ag-charts-icon-align-left{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsPSIjMDAwIiBkPSJNNCAxMGg2djFINHptMC0zaDEydjFINHptMCA2aDEwdjFINHoiLz48L3N2Zz4=)}.ag-charts-icon-align-right{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsPSIjMDAwIiBkPSJNMTAgMTBoNnYxaC02ek00IDdoMTJ2MUg0em0yIDZoMTB2MUg2eiIvPjwvc3ZnPg==)}.ag-charts-icon-arrow-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTE1LjI5MyA0LjVIMTIuNXYtMUgxN3Y0aC0xVjUuMjA3bC05LjY0NiA5LjY0Ny0uNzA4LS43MDh6IiBmaWxsPSIjMDAwIi8+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik03IDE2YTIuNSAyLjUgMCAxIDEtNSAwIDIuNSAyLjUgMCAwIDEgNSAwbS0yLjUgMS41YTEuNSAxLjUgMCAxIDAgMC0zIDEuNSAxLjUgMCAwIDAgMCAzIiBmaWxsPSIjMDAwIi8+PC9zdmc+)}.ag-charts-icon-arrow-down-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik02IDhMMS41IDhMMTAgMThMMTguNSA4TDE0IDhMMTQgM0w2IDNMNiA4Wk03IDRMNyA5SDMuNjYyNDRMMTAgMTYuNDU2TDE2LjMzNzYgOUwxMyA5TDEzIDRMNyA0WiIgZmlsbD0iYmxhY2siLz4KPC9zdmc+Cg==)}.ag-charts-icon-arrow-up-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNCAxMkgxOC41TDEwIDJMMS41IDEySDZMNi4wMDAwMiAxN0gxNFYxMlpNMTMgMTZWMTFIMTYuMzM3NkwxMCAzLjU0NDA1TDMuNjYyNDQgMTFIN0w3LjAwMDAyIDE2SDEzWiIgZmlsbD0iYmxhY2siLz4KPC9zdmc+Cg==)}.ag-charts-icon-callout-annotation{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMyA0LjVBMS41IDEuNSAwIDAgMSA0LjUgM2gxMUExLjUgMS41IDAgMCAxIDE3IDQuNXY4YTEuNSAxLjUgMCAwIDEtMS41IDEuNWgtNC41MTRhMjYgMjYgMCAwIDAtMi4wMTcgMS41NGwtLjMxNC4yNmMtLjU1LjQ1Ny0xLjExNS45MjYtMS43NiAxLjQtLjY2OS40OTEtMS41NjItLjAxMi0xLjU2Mi0uOFYxNEg0LjVBMS41IDEuNSAwIDAgMSAzIDEyLjV6TTQuNSA0YS41LjUgMCAwIDAtLjUuNXY4YS41LjUgMCAwIDAgLjUuNWgxLjgzM3YzLjM3MmEzNiAzNiAwIDAgMCAxLjY3OC0xLjMzOGwuMzItLjI2NWEyNiAyNiAwIDAgMSAyLjIyNS0xLjY4NWwuMTI2LS4wODRIMTUuNWEuNS41IDAgMCAwIC41LS41di04YS41LjUgMCAwIDAtLjUtLjV6IiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ag-charts-icon-candlestick-series{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNNyAxdjNoMnYxMkg3djNINnYtM0g0VjRoMlYxek01IDVoM3YxMEg1ek0xMSAxNFY2aDJWMy4yNWgxVjZoMnY4aC0ydjIuNzVoLTFWMTR6bTEtN2gzdjZoLTN6IiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ag-charts-icon-close{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJtNSA1IDEwIDEwTTUgMTUgMTUgNSIgc3Ryb2tlPSIjMDAwIi8+PC9zdmc+)}.ag-charts-icon-comment-annotation{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNNy41MTMgMy45OTVhNi41IDYuNSAwIDAgMSA2LjA5OCAxMS40MWMtLjU4OC4zOTMtMS4yMTcuNTM2LTEuODI5LjU4NWExMyAxMyAwIDAgMS0xLjI3LjAxN0EyNyAyNyAwIDAgMCAxMCAxNkg0LjVhLjUuNSAwIDAgMS0uNS0uNVYxMHEwLS4yNDctLjAwNy0uNTEzYy0uMDA4LS40MTYtLjAxNi0uODU3LjAxNy0xLjI2OS4wNS0uNjEyLjE5Mi0xLjI0LjU4NS0xLjgzYTYuNSA2LjUgMCAwIDEgMi45MTgtMi4zOTNtMy41Ni42MWE1LjUgNS41IDAgMCAwLTUuNjQ2IDIuMzRjLS4yNjYuMzk3LS4zNzkuODQyLS40MiAxLjM1NC0uMDMuMzYtLjAyMi43MTgtLjAxNSAxLjEwOFE1IDkuNjg5IDUgMTB2NWg1cS4zMTEuMDAxLjU5My4wMDhjLjM5LjAwNy43NDcuMDE1IDEuMTA4LS4wMTUuNTEyLS4wNDEuOTU3LS4xNTQgMS4zNTUtLjQyYTUuNSA1LjUgMCAwIDAtMS45ODMtOS45NjciIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==)}.ag-charts-icon-crosshair-add-line{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZD0iTTEwIDUuNWEuNS41IDAgMCAxIC41LjV2My41aDMuODc1YS41LjUgMCAwIDEgMCAxSDEwLjV2NC4yNWEuNS41IDAgMSAxLTEgMFYxMC41SDUuNjI1YS41LjUgMCAxIDEgMC0xSDkuNVY2YS41LjUgMCAwIDEgLjUtLjUiLz48L3N2Zz4=)}.ag-charts-icon-date-range-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJNMiAyaDF2MTZIMnptMTUgMGgxdjE2aC0xeiIgZmlsbD0iIzE4MUQxRiIvPjxwYXRoIGQ9Ik0xMy4xNTcgMTFINXYtMWg3Ljc5M0wxMSA4LjIwN2wuNzA3LS43MDcgMy4xODIgMy4xODItMy4xODIgMy4xODItLjcwNy0uNzA3eiIgZmlsbD0iIzAwMCIvPjwvc3ZnPg==)}.ag-charts-icon-date-price-range-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJNMyAySDJ2MTZoMXptMy41MDcgNC44OUw4LjUgNC44OTVWMTBINXYxaDMuNXY3aDF2LTdoNS4wODhsLTEuOTU3IDEuOTU3LjcwNy43MDcgMy4xODItMy4xODJMMTMuMzM4IDcuM2wtLjcwNy43MDdMMTQuNjI0IDEwSDkuNVY0LjkzMmwxLjk1NyAxLjk1Ny43MDctLjcwN0w4Ljk4MiAzIDUuOCA2LjE4MnoiIGZpbGw9IiMxODFEMUYiLz48L3N2Zz4=)}.ag-charts-icon-delete{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZD0iTTguNDk2IDguOTk2QS41LjUgMCAwIDEgOSA5LjQ5MnY0YS41LjUgMCAxIDEtMSAuMDA4di00YS41LjUgMCAwIDEgLjQ5Ni0uNTA0TTEyIDkuNWEuNS41IDAgMCAwLTEgMHY0YS41LjUgMCAwIDAgMSAweiIvPjxwYXRoIGZpbGw9IiMxMzE3MjIiIGZpbGwtcnVsZT0iZXZlbm9kZCIgZD0iTTYgNVYzLjVBMi41IDIuNSAwIDAgMSA4LjUgMWgzQTIuNSAyLjUgMCAwIDEgMTQgMy41VjVoMi44MzNhLjUuNSAwIDAgMSAwIDFIMTV2MTAuMjVjMCAuNDE1LS4wNjYuODYzLS4zIDEuMjIxLS4yNTcuMzk0LS42NzIuNjEyLTEuMi42MTJoLTdjLS41MjggMC0uOTQzLS4yMTgtMS4yLS42MTItLjIzNC0uMzU4LS4zLS44MDYtLjMtMS4yMjFWNkgzLjMzM2EuNS41IDAgMCAxIDAtMXptMS0xLjVBMS41IDEuNSAwIDAgMSA4LjUgMmgzQTEuNSAxLjUgMCAwIDEgMTMgMy41VjVIN3pNNiAxNi4yNVY2aDh2MTAuMjVjMCAuMzM1LS4wNTkuNTU0LS4xMzguNjc1LS4wNTUuMDg1LS4xNC4xNTgtLjM2Mi4xNThoLTdjLS4yMjIgMC0uMzA3LS4wNzMtLjM2Mi0uMTU4LS4wOC0uMTIxLS4xMzgtLjM0LS4xMzgtLjY3NSIgY2xpcC1ydWxlPSJldmVub2RkIi8+PC9zdmc+)}.ag-charts-icon-disjoint-channel,.ag-charts-icon-disjoint-channel-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMTkuMDI4IDE3LjQ2YTIuMjUgMi4yNSAwIDAgMC00LjA5Mi0xLjg1bC05LjUxMS0yLjM3OGEyLjI1IDIuMjUgMCAxIDAtLjIyNS45NzRsOS40NzUgMi4zNjlhMi4yNTEgMi4yNTEgMCAwIDAgNC4zNTMuODg2bS0xLjY2Mi0xLjk2NWExLjI1IDEuMjUgMCAxIDEtLjg4NSAyLjMzOCAxLjI1IDEuMjUgMCAwIDEgLjg4NS0yLjMzOE00LjM0MyAxMy42NjlhMS4yNSAxLjI1IDAgMSAwLTIuMzM4LS44ODUgMS4yNSAxLjI1IDAgMCAwIDIuMzM4Ljg4NU0zLjk3IDguNzY5YTIuMjUgMi4yNSAwIDAgMCAxLjQ1NS0yLjExbDkuNTExLTIuMzc4YTIuMjUgMi4yNSAwIDEgMC0uMjYtLjk2NUw1LjIgNS42ODVhMi4yNSAyLjI1IDAgMSAwLTEuMjMgMy4wODRtLjM3My0yLjU0N2ExLjI1IDEuMjUgMCAxIDEtMi4zMzguODg1IDEuMjUgMS4yNSAwIDAgMSAyLjMzOC0uODg1bTEzLjc1LTMuNDM4YTEuMjUgMS4yNSAwIDEgMS0yLjMzOC44ODUgMS4yNSAxLjI1IDAgMCAxIDIuMzM4LS44ODUiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==)}.ag-charts-icon-drag-handle{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48Y2lyY2xlIGN4PSI1Ljc1IiBjeT0iNy43NSIgcj0iLjc1IiBmaWxsPSIjMDAwIiBmaWxsLW9wYWNpdHk9Ii41Ii8+PGNpcmNsZSBjeD0iOS43NSIgY3k9IjcuNzUiIHI9Ii43NSIgZmlsbD0iIzAwMCIgZmlsbC1vcGFjaXR5PSIuNSIvPjxjaXJjbGUgY3g9IjEzLjc1IiBjeT0iNy43NSIgcj0iLjc1IiBmaWxsPSIjMDAwIiBmaWxsLW9wYWNpdHk9Ii41Ii8+PGNpcmNsZSBjeD0iMTMuNzUiIGN5PSIxMS43NSIgcj0iLjc1IiBmaWxsPSIjMDAwIiBmaWxsLW9wYWNpdHk9Ii41Ii8+PGNpcmNsZSBjeD0iOS43NSIgY3k9IjExLjc1IiByPSIuNzUiIGZpbGw9IiMwMDAiIGZpbGwtb3BhY2l0eT0iLjUiLz48Y2lyY2xlIGN4PSI1Ljc1IiBjeT0iMTEuNzUiIHI9Ii43NSIgZmlsbD0iIzAwMCIgZmlsbC1vcGFjaXR5PSIuNSIvPjwvc3ZnPg==)}.ag-charts-icon-fibonacci-retracement-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsPSIjMDAwIiBkPSJNMiA1aDEydjFIMnoiLz48Y2lyY2xlIGN4PSIxNS43NSIgY3k9IjUuNSIgcj0iMS43NSIgc3Ryb2tlPSIjMDAwIi8+PGNpcmNsZSBjeD0iNC4yNSIgY3k9IjE0LjUiIHI9IjEuNzUiIHN0cm9rZT0iIzAwMCIvPjxwYXRoIGZpbGw9IiMwMDAiIGQ9Ik0xOCAxNUg2di0xaDEyem0wLTQuNUgydi0xaDE2eiIvPjwvc3ZnPg==)}.ag-charts-icon-fibonacci-retracement-trend-based-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsPSIjMDAwIiBkPSJtNC45OTYgMTIuNjc0IDMuMjkxLTUuNzQzLjg2OC40OTctMy4yOTEgNS43NDN6Ii8+PGNpcmNsZSBjeD0iOS43NSIgY3k9IjUuNSIgcj0iMS43NSIgc3Ryb2tlPSIjMDAwIi8+PGNpcmNsZSBjeD0iNC4zNTEiIGN5PSIxNC41IiByPSIxLjc1IiBzdHJva2U9IiMwMDAiLz48cGF0aCBmaWxsPSIjMDAwIiBkPSJNMTggNmgtN1Y1aDd6bTAgNC41aC03di0xaDd6bTAgNC41SDZ2LTFoMTJ6Ii8+PC9zdmc+)}.ag-charts-icon-fill-color{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJtOC4wNzEgNC4wNi0uOTI0LS45MjQuNzA3LS43MDcgNy4yODggNy4yODgtNC45NSA0Ljk1YTMuNSAzLjUgMCAwIDEtNC45NSAwbC0xLjQxNC0xLjQxNGEzLjUgMy41IDAgMCAxIDAtNC45NXptLjcwNy43MDhMNC41MzYgOS4wMWEyLjUgMi41IDAgMCAwIDAgMy41MzZMNS45NSAxMy45NmEyLjUgMi41IDAgMCAwIDMuNTM1IDBsNC4yNDMtNC4yNDN6bTYuOSA3LjIwMi0uMzQ1LjM2My0uMzQ0LS4zNjNhLjUuNSAwIDAgMSAuNjg4IDBtLS4zNDUgMS4wOGE4IDggMCAwIDAtLjI4LjMyMyA0LjMgNC4zIDAgMCAwLS40MDkuNTgyYy0uMTEzLjIwMS0uMTQ0LjMyNi0uMTQ0LjM3OGEuODMzLjgzMyAwIDAgMCAxLjY2NyAwYzAtLjA1Mi0uMDMxLS4xNzctLjE0NC0uMzc4YTQuMyA0LjMgMCAwIDAtLjQxLS41ODIgOCA4IDAgMCAwLS4yOC0uMzIybS0uMzQ0LTEuMDguMzQ0LjM2My4zNDQtLjM2My4wMDIuMDAyLjAwNC4wMDQuMDEzLjAxMmE2IDYgMCAwIDEgLjIwNi4yMDhjLjEzMS4xMzYuMzA4LjMyNy40ODUuNTQ1LjE3Ni4yMTUuMzYzLjQ2Ny41MDcuNzI0LjEzNy4yNDMuMjczLjU1My4yNzMuODY4YTEuODMzIDEuODMzIDAgMSAxLTMuNjY3IDBjMC0uMzE1LjEzNi0uNjI1LjI3My0uODY4LjE0NC0uMjU3LjMzLS41MDkuNTA3LS43MjRhOSA5IDAgMCAxIC42NDUtLjcwOGwuMDQ2LS4wNDUuMDEzLS4wMTIuMDA0LS4wMDR6IiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ag-charts-icon-hollow-candlestick-series{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1vcGFjaXR5PSIuMTUiIGQ9Ik01IDVoM3YxMEg1eiIvPjxwYXRoIGZpbGw9IiMxMzE3MjIiIGZpbGwtcnVsZT0iZXZlbm9kZCIgZD0iTTcgMXYzaDJ2MTJIN3YzSDZ2LTNINFY0aDJWMXpNNSA1aDN2MTBINXptNyAyaDN2NmgtM3ptLTEgN1Y2aDJWMy4yNWgxVjZoMnY4aC0ydjIuNzVoLTFWMTR6IiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ag-charts-icon-horizontal-line,.ag-charts-icon-horizontal-line-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNLjUgOS41aDcuMzA2YTIuMjUgMi4yNSAwIDAgMSA0LjM4OCAwSDE5LjV2MWgtNy4zMDZhMi4yNSAyLjI1IDAgMCAxLTQuMzg4IDBILjV6bTkuNSAxLjc1YTEuMjUgMS4yNSAwIDEgMCAwLTIuNSAxLjI1IDEuMjUgMCAwIDAgMCAyLjUiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==)}.ag-charts-icon-line-color{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMTQuMjQyIDIuNzIyYy0uNjEyIDAtMS4yLjI0My0xLjYzMi42NzVsLTEuMzQzIDEuMzQ0YS41LjUgMCAwIDAtLjExMi4xMTJMNC4wNSAxMS45NTljLS4yMDcuMjA3LS4zNi40Ni0uNDQ2Ljc0di4wMDFsLS42OSAyLjc2N3YuMDAyYS44Mi44MiAwIDAgMCAxLjAyMiAxLjAyMWguMDAybDIuNjM0LS44MjJjLjI4LS4wODUuNTM0LS4yMzcuNzQtLjQ0M2w3LjEwNy03LjEwOGEuNS41IDAgMCAwIC4xMTItLjExMmwxLjM0My0xLjM0M2EyLjMwOCAyLjMwOCAwIDAgMC0xLjYzMi0zLjk0TTE0LjEyMiA3bDEuMDQ0LTEuMDQ1YTEuMzA4IDEuMzA4IDAgMSAwLTEuODQ5LTEuODVMMTIuMjcxIDUuMTV6bS0yLjU1OC0xLjE0Mi02LjgwNyA2LjgwOWEuOC44IDAgMCAwLS4xOTYuMzI1bC0uNzUgMi40NjggMi40Ny0uNzQ5YS44LjggMCAwIDAgLjMyNS0uMTk0bDYuODA4LTYuODF6IiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ag-charts-icon-line-series{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJtMTcuMzYyIDQuODczLTQuNTk0IDYuNjU0LTQuODUtMy4zMTctNC4yNTEgNi45NzctLjg1NC0uNTJMNy42MTIgNi43OWw0Ljg5OSAzLjM1IDQuMDI4LTUuODM2eiIgY2xpcC1ydWxlPSJldmVub2RkIi8+PC9zdmc+)}.ag-charts-icon-line-style-dashed{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsPSIjMDAwIiBkPSJNMiA5aDR2MUgyem0xMiAwaDR2MWgtNHpNOCA5aDR2MUg4eiIvPjwvc3ZnPg==)}.ag-charts-icon-line-style-dotted{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48Y2lyY2xlIGN4PSIyLjUiIGN5PSI5LjUiIHI9Ii41IiBmaWxsPSIjMDAwIi8+PGNpcmNsZSBjeD0iNC41IiBjeT0iOS41IiByPSIuNSIgZmlsbD0iIzAwMCIvPjxjaXJjbGUgY3g9IjYuNSIgY3k9IjkuNSIgcj0iLjUiIGZpbGw9IiMwMDAiLz48Y2lyY2xlIGN4PSI4LjUiIGN5PSI5LjUiIHI9Ii41IiBmaWxsPSIjMDAwIi8+PGNpcmNsZSBjeD0iMTAuNSIgY3k9IjkuNSIgcj0iLjUiIGZpbGw9IiMwMDAiLz48Y2lyY2xlIGN4PSIxMi41IiBjeT0iOS41IiByPSIuNSIgZmlsbD0iIzAwMCIvPjxjaXJjbGUgY3g9IjE0LjUiIGN5PSI5LjUiIHI9Ii41IiBmaWxsPSIjMDAwIi8+PGNpcmNsZSBjeD0iMTYuNSIgY3k9IjkuNSIgcj0iLjUiIGZpbGw9IiMwMDAiLz48L3N2Zz4=)}.ag-charts-icon-line-style-solid{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsPSIjMDAwIiBkPSJNMiA5aDE2djFIMnoiLz48L3N2Zz4=)}.ag-charts-icon-line-with-markers-series{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJtMTguMTk4IDQuODg4LTMuNTU2IDQuOTE4YTIuMjUgMi4yNSAwIDEgMS0zLjg2Ni43NWwtMS40MzItLjlhMi4yNCAyLjI0IDAgMCAxLTIuMDA5LjQzNWwtMy44MjggNi40MjgtLjg2LS41MTJMNi40NSA5LjYyM2EyLjI1IDIuMjUgMCAxIDEgMy41MS0uNzYxbDEuMzI5LjgzNWEyLjI0IDIuMjQgMCAwIDEgMi41NTctLjQ5N2wzLjU0Mi00Ljg5OHptLTQuOTYgNS4xNTNhMS4yNSAxLjI1IDAgMSAwLS42NCAyLjQxOSAxLjI1IDEuMjUgMCAwIDAgLjY0LTIuNDE5TTkuMSA4LjMyMXEuMDY2LS4xOTIuMDY3LS40MDRhMS4yNSAxLjI1IDAgMSAwLS4wNjcuNDA0IiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ag-charts-icon-lock,.ag-charts-icon-locked{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMTAuMjA3IDMuNzY0YTIuODk0IDIuODk0IDAgMCAwLTIuODk1IDIuODk0VjloNS43ODlWNi42NThhMi44OTQgMi44OTQgMCAwIDAtMi44OTUtMi44OTRNMTQuMSA5VjYuNjU4YTMuODk0IDMuODk0IDAgMSAwLTcuNzg5IDB2Mi4zNDlBMi41IDIuNSAwIDAgMCA0IDExLjV2M0EyLjUgMi41IDAgMCAwIDYuNSAxN2g4YTIuNSAyLjUgMCAwIDAgMi41LTIuNXYtM0EyLjUgMi41IDAgMCAwIDE0LjUgOXpNNi41IDEwQTEuNSAxLjUgMCAwIDAgNSAxMS41djNBMS41IDEuNSAwIDAgMCA2LjUgMTZoOGExLjUgMS41IDAgMCAwIDEuNS0xLjV2LTNhMS41IDEuNSAwIDAgMC0xLjUtMS41eiIgY2xpcC1ydWxlPSJldmVub2RkIi8+PC9zdmc+)}.ag-charts-icon-measurer-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0ibTQuNDYxIDEyLjcxIDEuNTMyLTEuNTMxIDEuNDE0IDEuNDE0LjcwNy0uNzA3TDYuNyAxMC40NzJsMS41MzItMS41MzMgMiAyIC43MDctLjcwNy0yLTIgNi4wMS02LjAxIDIuODMgMi44MjhMNS4wNSAxNy43NzggMi4yMjIgMTQuOTVsMS41MzItMS41MzIgMS40MTQgMS40MTQuNzA3LS43MDd6TS44MDggMTQuOTVsLjcwNy0uNzA3TDE0LjI0MyAxLjUxNWwuNzA3LS43MDcuNzA3LjcwNyAyLjgyOCAyLjgyOC43MDcuNzA3LS43MDcuNzA3TDUuNzU3IDE4LjQ4NWwtLjcwNy43MDctLjcwNy0uNzA3LTIuODI4LTIuODI4em0xMS4wNzgtNi44MzVMMTAuNDcgNi43bC43MDctLjcwNyAxLjQxNSAxLjQxNHptLjgyNC0zLjY1NCAxIDEgLjcwOC0uNzA3LTEtMXoiIGZpbGw9IiMxODFEMUYiLz48L3N2Zz4=)}.ag-charts-icon-note-annotation{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMyA0LjVBMS41IDEuNSAwIDAgMSA0LjUgM2gxMUExLjUgMS41IDAgMCAxIDE3IDQuNXY4YTEuNSAxLjUgMCAwIDEtMS41IDEuNWgtMy4yMWwtMS40NjkgMi41N2ExIDEgMCAwIDEtMS42ODIuMDg1TDcuMjQzIDE0SDQuNUExLjUgMS41IDAgMCAxIDMgMTIuNXpNNC41IDRhLjUuNSAwIDAgMC0uNS41djhhLjUuNSAwIDAgMCAuNS41aDMuMjU3bDIuMTk2IDMuMDc0TDExLjcxIDEzaDMuNzlhLjUuNSAwIDAgMCAuNS0uNXYtOGEuNS41IDAgMCAwLS41LS41eiIgY2xpcC1ydWxlPSJldmVub2RkIi8+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNNi41IDYuNUEuNS41IDAgMCAxIDcgNmg2YS41LjUgMCAwIDEgMCAxSDdhLjUuNSAwIDAgMS0uNS0uNU02LjUgOS41QS41LjUgMCAwIDEgNyA5aDZhLjUuNSAwIDAgMSAwIDFIN2EuNS41IDAgMCAxLS41LS41IiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ag-charts-icon-ohlc-series{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZD0iTTEzIDExaC0zdi0xaDNWM2gxdjJoNHYxaC00djExaC0xek02IDE3di0yaDN2LTFINlY0SDV2MUgydjFoM3YxMXoiLz48L3N2Zz4=)}.ag-charts-icon-pan-end{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZD0ibTYuNjQ2IDEzLjgxMy0uMzUzLjM1NC43MDcuNzA3LjM1NC0uMzU0ek0xMS4xNjYgMTBsLjM1NC4zNTQuMzU0LS4zNTQtLjM1NC0uMzU0ek03LjM1NSA1LjQ4IDcgNS4xMjZsLS43MDcuNzA3LjM1My4zNTR6bTAgOS4wNCA0LjE2Ni00LjE2Ni0uNzA3LS43MDgtNC4xNjcgNC4xNjd6bTQuMTY2LTQuODc0TDcuMzU0IDUuNDhsLS43MDguNzA3IDQuMTY3IDQuMTY3ek0xMy4wODMgNXYxMGgxVjV6Ii8+PC9zdmc+)}.ag-charts-icon-pan-left{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMTIuNzkgNS44MzMgOC42MjUgMTBsNC4xNjYgNC4xNjctLjcwNy43MDdMNy4yMSAxMGw0Ljg3My00Ljg3NHoiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==)}.ag-charts-icon-pan-right{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNNy4yMSAxNC4xNjcgMTEuMzc2IDEwIDcuMjEgNS44MzNsLjcwNy0uNzA3TDEyLjc5IDEwbC00Ljg3MyA0Ljg3NHoiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==)}.ag-charts-icon-pan-start{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZD0iTTYgNXYxMGgxVjV6TTkuNjI0IDEwbDQuMTY2LTQuMTY3LS43MDctLjcwN0w4LjIxIDEwbDQuODc0IDQuODc0LjcwNy0uNzA3eiIvPjwvc3ZnPg==)}.ag-charts-icon-parallel-channel,.ag-charts-icon-parallel-channel-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMTcuNzIgNS4zMzFBMi4yNSAyLjI1IDAgMSAwIDE0LjcwNSAzLjZsLTkuNDkgNC41NjJhMi4yNSAyLjI1IDAgMSAwIC4yMDkgMS4wMWw5LjY2Mi00LjY0NmEyLjI1IDIuMjUgMCAwIDAgMi42MzQuODA1bS4zNzMtMi41NDdhMS4yNSAxLjI1IDAgMSAxLTIuMzM4Ljg4NSAxLjI1IDEuMjUgMCAwIDEgMi4zMzgtLjg4NU00LjM0MyA4LjY3YTEuMjUgMS4yNSAwIDEgMS0yLjMzOC44ODUgMS4yNSAxLjI1IDAgMCAxIDIuMzM4LS44ODVNNS4zMDcgMTYuNzI4YTIuMjUgMi4yNSAwIDEgMS0uNTI1LS44NThsOS45MjMtNC43N2EyLjI1IDIuMjUgMCAxIDEgLjM4MS45MjZ6bS0uOTY0LjI3NGExLjI1IDEuMjUgMCAxIDEtMi4zMzguODg1IDEuMjUgMS4yNSAwIDAgMSAyLjMzOC0uODg1bTEzLjAyMy01LjEwNmExLjI1IDEuMjUgMCAxIDAtLjg4NS0yLjMzOSAxLjI1IDEuMjUgMCAwIDAgLjg4NSAyLjMzOSIgY2xpcC1ydWxlPSJldmVub2RkIi8+PC9zdmc+)}.ag-charts-icon-position-bottom{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsPSIjMDAwIiBmaWxsLW9wYWNpdHk9Ii4yNSIgZD0iTTMgMTBoMTR2MUgzem0zLTNoOHYxSDZ6Ii8+PHBhdGggZmlsbD0iIzAwMCIgZD0iTTYgMTNoOHYxSDZ6Ii8+PC9zdmc+)}.ag-charts-icon-position-center{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsPSIjMDAwIiBkPSJNMyAxMGgxNHYxSDN6Ii8+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1vcGFjaXR5PSIuMjUiIGQ9Ik02IDdoOHYxSDZ6bTAgNmg4djFINnoiLz48L3N2Zz4=)}.ag-charts-icon-position-top{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsPSIjMDAwIiBmaWxsLW9wYWNpdHk9Ii4yNSIgZD0iTTMgMTBoMTR2MUgzeiIvPjxwYXRoIGZpbGw9IiMwMDAiIGQ9Ik02IDdoOHYxSDZ6Ii8+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1vcGFjaXR5PSIuMjUiIGQ9Ik02IDEzaDh2MUg2eiIvPjwvc3ZnPg==)}.ag-charts-icon-price-label-annotation{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNNC41IDNBMS41IDEuNSAwIDAgMCAzIDQuNVYxM2ExLjUgMS41IDAgMCAwIDEuNSAxLjVoLjgzM3YuMDU3Yy4yNDItLjI5OS41OTctLjUwMyAxLS41NDhWMTMuNUg0LjVBLjUuNSAwIDAgMSA0IDEzVjQuNWEuNS41IDAgMCAxIC41LS41aDExYS41LjUgMCAwIDEgLjUuNXY4YS41LjUgMCAwIDEtLjUuNWgtNC44MThsLS4xMjYuMDg0YTI2IDI2IDAgMCAwLTIuMjI1IDEuNjg1bC0uMzIuMjY1LS4wNjguMDU2YTEuNSAxLjUgMCAwIDEtMi42MDkgMS4zNTRjLjAzMy43NjMuOTA1IDEuMjM4IDEuNTYuNzU2LjY0Ni0uNDc0IDEuMjEtLjk0MyAxLjc2MS0xLjRsLjMxMy0uMjZBMjYgMjYgMCAwIDEgMTAuOTg2IDE0SDE1LjVhMS41IDEuNSAwIDAgMCAxLjUtMS41di04QTEuNSAxLjUgMCAwIDAgMTUuNSAzeiIgY2xpcC1ydWxlPSJldmVub2RkIi8+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNOC43MTYgMTQuODE1YTIuMjUgMi4yNSAwIDEgMS00LjIxIDEuNTkzIDIuMjUgMi4yNSAwIDAgMSA0LjIxLTEuNTkzbS0xLjY2MiAxLjk2NmExLjI1IDEuMjUgMCAxIDAtLjg4NS0yLjMzOSAxLjI1IDEuMjUgMCAwIDAgLjg4NSAyLjMzOSIgY2xpcC1ydWxlPSJldmVub2RkIi8+PC9zdmc+)}.ag-charts-icon-price-range-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJNOS4wNDYgMTVWNS44NzdoLjk0MlYxNXoiIGZpbGw9IiMxODFEMUYiLz48cGF0aCBkPSJNOS4wNDYgMTVWNS44NzdoLjk0MlYxNXoiIGZpbGw9IiMxODFEMUYiLz48cGF0aCBkPSJNOS41IDYuMjI4IDcuMTY3IDguMzc2IDYuNSA3Ljc2MiA5LjUgNWwzIDIuNzYyLS42NjcuNjE0eiIgZmlsbD0iIzAwMCIvPjxwYXRoIGQ9Ik0yIDE4di0xaDE2djF6TTIgM1YyaDE2djF6IiBmaWxsPSIjMTgxRDFGIi8+PC9zdmc+)}.ag-charts-icon-reset{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMTIuMDQgNC40NDVhNS44MSA1LjgxIDAgMCAwLTcuMjU3IDIuNDUzLjUuNSAwIDAgMS0uODY1LS41MDJBNi44MSA2LjgxIDAgMSAxIDMgOS44MTNhLjUuNSAwIDAgMSAxIDAgNS44MSA1LjgxIDAgMSAwIDguMDQtNS4zNjgiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjxwYXRoIGZpbGw9IiMwMDAiIGZpbGwtcnVsZT0iZXZlbm9kZCIgZD0iTTQuMjg5IDMuMDAyYS41LjUgMCAwIDEgLjUuNXYyLjY1NWgyLjY1NWEuNS41IDAgMCAxIDAgMUg0LjI5YS41LjUgMCAwIDEtLjUtLjVWMy41MDJhLjUuNSAwIDAgMSAuNS0uNSIgY2xpcC1ydWxlPSJldmVub2RkIi8+PC9zdmc+)}.ag-charts-icon-settings{--icon: url(data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjAgMjAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSIgc3R5bGU9ImZpbGwtcnVsZTpldmVub2RkIj48cGF0aCBkPSJNMTAgMTNhMyAzIDAgMSAwIDAtNiAzIDMgMCAwIDAgMCA2bTAtMWEyIDIgMCAxIDEtLjAwMS0zLjk5OUEyIDIgMCAwIDEgMTAgMTIiLz48cGF0aCBkPSJNMi4zMSAxNC4zNDVjLS44MTctMS40OTEuMDI3LTIuNDk5LjQ3NC0yLjg2NS41MzEtLjQzNC45NjktLjM2NS45NzItMS40OC0uMDAzLTEuMTE1LS40NDEtMS4wNDYtLjk3Mi0xLjQ4MS0uNDU0LS4zNzEtMS4zMTctMS40MDUtLjQzNC0yLjkzNmwuMDA1LS4wMDljLjg4NC0xLjUyIDIuMjA3LTEuMjkgMi43NTUtMS4wODMuNjQxLjI0My44MDEuNjU2IDEuNzY4LjEwMS45NjQtLjU2LjY4Ni0uOTA0Ljc5Ni0xLjU4Mi4wOTQtLjU3OC41NTktMS44NDMgMi4zMjYtMS44NDNoLjAxYzEuNzU5LjAwNSAyLjIyMiAxLjI2NiAyLjMxNiAxLjg0My4xMS42NzgtLjE2OCAxLjAyMi43OTYgMS41ODIuOTY3LjU1NSAxLjEyNy4xNDIgMS43NjgtLjEwMS41NDktLjIwOCAxLjg3Ni0uNDM4IDIuNzYgMS4wOTJzLjAyIDIuNTY1LS40MzQgMi45MzZjLS41MzEuNDM1LS45NjkuMzY2LS45NzIgMS40ODEuMDAzIDEuMTE1LjQ0MSAxLjA0Ni45NzIgMS40OC40NTQuMzcyIDEuMzE3IDEuNDA2LjQzNCAyLjkzN2wtLjAwNS4wMDljLS44ODQgMS41Mi0yLjIwNyAxLjI5LTIuNzU1IDEuMDgzLS42NDEtLjI0My0uODAxLS42NTYtMS43NjgtLjEwMS0uOTY0LjU2LS42ODYuOTA0LS43OTYgMS41ODEtLjA5NC41NzktLjU1OSAxLjg0NC0yLjMyNiAxLjg0NGgtLjAxYy0xLjc1OS0uMDA1LTIuMjIyLTEuMjY2LTIuMzE2LTEuODQ0LS4xMS0uNjc3LjE2OC0xLjAyMS0uNzk2LTEuNTgxLS45NjctLjU1NS0xLjEyNy0uMTQyLTEuNzY4LjEwMS0uNTQ5LjIwOC0xLjg3Ni40MzgtMi43Ni0xLjA5MmwtLjAyLS4wMzZ6TTkuOTg0IDIuMTYySDEwYzEuMzU1IDAgMS4zNDIgMS4wMzkgMS4zNTMgMS40MjUuMDA4LjMxMi4wNCAxLjE2IDEuMjU5IDEuODcybC4wMTUuMDA4YzEuMjI1LjcgMS45NzYuMzA0IDIuMjUxLjE1NS4zMzctLjE4MyAxLjIyNi0uNzExIDEuOTAyLjQ0NWwuMDA4LjAxNGMuNjc4IDEuMTczLS4yMjkgMS42ODItLjU1OCAxLjg4NC0uMjY2LjE2My0uOTg0LjYxNS0uOTkxIDIuMDI3di4wMTZjLjAwNyAxLjQxMi43MjUgMS44NjQuOTkxIDIuMDI3LjMyOC4yMDEgMS4yMjkuNzA3LjU2NiAxLjg3bC0uMDA4LjAxNGMtLjY3NyAxLjE3NC0xLjU3MS42NDMtMS45MS40NTktLjI3NS0uMTQ5LTEuMDI2LS41NDUtMi4yNTEuMTU0bC0uMDE1LjAwOWMtMS4yMTkuNzEyLTEuMjUxIDEuNTYtMS4yNTkgMS44NzItLjAxMS4zODYuMDAyIDEuNDI1LTEuMzUzIDEuNDI1cy0xLjM0Mi0xLjAzOS0xLjM1My0xLjQyNWMtLjAwOC0uMzEyLS4wNC0xLjE2LTEuMjU5LTEuODcybC0uMDE1LS4wMDljLTEuMjI1LS42OTktMS45NzYtLjMwMy0yLjI1MS0uMTU0LS4zMzYuMTgzLTEuMjE5LjcwNi0xLjg5NC0uNDMybC0uMDE2LS4wMjdjLS42NzgtMS4xNzQuMjI5LTEuNjgyLjU1OC0xLjg4NC4yNjYtLjE2My45ODQtLjYxNS45OTEtMi4wMjd2LS4wMTZjLS4wMDctMS40MTItLjcyNS0xLjg2NC0uOTkxLTIuMDI3LS4zMjgtLjIwMS0xLjIyOS0uNzA3LS41NjYtMS44N2wuMDA4LS4wMTRjLjY3Ny0xLjE3NCAxLjU3MS0uNjQzIDEuOTEtLjQ1OS4yNzUuMTQ5IDEuMDI2LjU0NSAyLjI1MS0uMTU1bC4wMTUtLjAwOGMxLjIxOS0uNzEyIDEuMjUxLTEuNTYgMS4yNTktMS44NzIuMDEtLjM4NC0uMDAyLTEuNDE3IDEuMzM3LTEuNDI1Ii8+PC9zdmc+)}.ag-charts-icon-step-line-series{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzE4MUQxRiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNNiA0aDV2OGgzVjhoNXYxaC00djRoLTVWNUg3djEwSDJ2LTFoNHoiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==)}.ag-charts-icon-text-annotation{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik00IDRIMTZWN0gxNVY1SDEwLjVWMTVIMTRWMTZINlYxNUg5LjVWNUg1VjdINFY0WiIgZmlsbD0iYmxhY2siLz4KPC9zdmc+Cg==)}.ag-charts-icon-trend-line,.ag-charts-icon-trend-line-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNNS4zMTQgMTAuOTM4YTIuMjUgMi4yNSAwIDEgMSAuMDEtMWg5LjM1MmEyLjI1IDIuMjUgMCAxIDEgLjAxIDF6bS0yLjE4OS43MjlhMS4yNSAxLjI1IDAgMSAwIDAtMi41IDEuMjUgMS4yNSAwIDAgMCAwIDIuNW0xMy43NSAwYTEuMjUgMS4yNSAwIDEgMCAwLTIuNSAxLjI1IDEuMjUgMCAwIDAgMCAyLjUiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==)}.ag-charts-icon-unlock,.ag-charts-icon-unlocked{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMTAuNjUxIDMuNWEyLjg5NCAyLjg5NCAwIDAgMC0yLjg5NCAyLjg5NFY5SDE0LjVhMi41IDIuNSAwIDAgMSAyLjUgMi41djNhMi41IDIuNSAwIDAgMS0yLjUgMi41aC04QTIuNSAyLjUgMCAwIDEgNCAxNC41di0zQTIuNSAyLjUgMCAwIDEgNi41IDloLjI1N1Y2LjM5NGEzLjg5NCAzLjg5NCAwIDEgMSA3Ljc4OSAwIC41LjUgMCAwIDEtMSAwQTIuODk0IDIuODk0IDAgMCAwIDEwLjY1IDMuNU02LjUgMTBBMS41IDEuNSAwIDAgMCA1IDExLjV2M0ExLjUgMS41IDAgMCAwIDYuNSAxNmg4YTEuNSAxLjUgMCAwIDAgMS41LTEuNXYtM2ExLjUgMS41IDAgMCAwLTEuNS0xLjV6IiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ag-charts-icon-vertical-line,.ag-charts-icon-vertical-line-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMTAuNSA3LjgwNmEyLjI1IDIuMjUgMCAwIDEgMCA0LjM4OFYxOS41aC0xdi03LjMwNmEyLjI1IDIuMjUgMCAwIDEgMC00LjM4OFYuNWgxem0tLjUuOTQ0YTEuMjUgMS4yNSAwIDEgMSAwIDIuNSAxLjI1IDEuMjUgMCAwIDEgMC0yLjUiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==)}.ag-charts-icon-zoom-in{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZD0iTTEwIDUuNWEuNS41IDAgMCAxIC41LjV2My41aDMuODc1YS41LjUgMCAwIDEgMCAxSDEwLjV2NC4yNWEuNS41IDAgMSAxLTEgMFYxMC41SDUuNjI1YS41LjUgMCAxIDEgMC0xSDkuNVY2YS41LjUgMCAwIDEgLjUtLjUiLz48L3N2Zz4=)}.ag-charts-icon-zoom-out{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNNS41IDEwYS41LjUgMCAwIDEgLjUtLjVoOGEuNS41IDAgMCAxIDAgMUg2YS41LjUgMCAwIDEtLjUtLjUiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==)}.ag-charts-icon-high-low-series{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNNyA0aDJ2MTJINFY0aDNNNSA1aDN2MTBINXpNMTEgMTRWNmg1djhoLTVtMS03aDN2NmgtM3oiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==)}.ag-charts-icon-hlc-series{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJtMTguMTYzIDEuODM3LTUuMzM0IDExLjYyMUw2Ljk1NyA4LjEybC00LjE5OSA5LjYyMi0uOTE2LS40IDQuNzU2LTEwLjlMMTIuNDkgMTEuOCAxNy4yNTQgMS40MnoiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjxwYXRoIGZpbGw9IiMwMDAiIGZpbGwtb3BhY2l0eT0iLjQiIGZpbGwtcnVsZT0iZXZlbm9kZCIgZD0iTTUuODI1IDIuNzA0LjU1IDEzLjc4NWwuOTAyLjQzIDQuNzI0LTkuOTE5IDYuMDM0IDUuMDI5IDMuMjU1LTguMTQtLjkyOC0uMzctMi43NDUgNi44NnptNy44NTIgMTQuNjM2IDUuNzgtMTMuMTM5LS45MTUtLjQwMi01LjIxOSAxMS44Ni02LjAwNS01LjUwNC0zLjI3OCA3LjY0OC45Mi4zOTQgMi43MjItNi4zNTJ6IiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ag-charts-icon-zoom-in-alt{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIiBzdHJva2U9ImN1cnJlbnRDb2xvciIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGNsYXNzPSJsdWNpZGUgbHVjaWRlLXpvb20taW4iPjxjaXJjbGUgY3g9IjExIiBjeT0iMTEiIHI9IjgiLz48bGluZSB4MT0iMjEiIHgyPSIxNi42NSIgeTE9IjIxIiB5Mj0iMTYuNjUiLz48bGluZSB4MT0iMTEiIHgyPSIxMSIgeTE9IjgiIHkyPSIxNCIvPjxsaW5lIHgxPSI4IiB4Mj0iMTQiIHkxPSIxMSIgeTI9IjExIi8+PC9zdmc+)}.ag-charts-icon-zoom-out-alt{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIiBzdHJva2U9ImN1cnJlbnRDb2xvciIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGNsYXNzPSJsdWNpZGUgbHVjaWRlLXpvb20tb3V0Ij48Y2lyY2xlIGN4PSIxMSIgY3k9IjExIiByPSI4Ii8+PGxpbmUgeDE9IjIxIiB4Mj0iMTYuNjUiIHkxPSIyMSIgeTI9IjE2LjY1Ii8+PGxpbmUgeDE9IjgiIHgyPSIxNCIgeTE9IjExIiB5Mj0iMTEiLz48L3N2Zz4=)}.ag-charts-input{--input-layer-active: 1;--input-layer-focus: 2;--input-padding: calc(var(--ag-charts-spacing) * 2);--input-padding-large: calc(var(--ag-charts-spacing) * 2.5);color:var(--ag-charts-input-text-color);font-family:var(--ag-charts-chrome-font-family);font-size:var(--ag-charts-chrome-font-size-large);transition-duration:.25s;transition-property:none;transition-timing-function:ease-out}.ag-charts-input:focus-visible{outline:var(--ag-charts-focus-border);box-shadow:var(--ag-charts-focus-border-shadow);z-index:var(--input-layer-focus)}.ag-charts-button{background:var(--ag-charts-button-background-color);border:1px solid var(--ag-charts-border-color);border-radius:var(--ag-charts-button-border-radius);color:var(--ag-charts-button-text-color);cursor:pointer;padding:var(--input-padding);transition-property:background,border-color}.ag-charts-button:hover{background:var(--ag-charts-focus-color)}.ag-charts-button:has(.ag-charts-icon){padding:2px}.ag-charts-checkbox{--checkbox-transition-duration: .1s;appearance:none;background:var(--ag-charts-checkbox-background-color);border-radius:calc(var(--ag-charts-border-radius) * 9);cursor:pointer;height:18px;margin:0;transition-duration:var(--checkbox-transition-duration);transition-property:margin;width:29px}.ag-charts-checkbox:before{display:block;background:var(--ag-charts-input-background-color);border-radius:calc(var(--ag-charts-border-radius) * 7);content:" ";height:14px;margin:2px;transition-duration:var(--checkbox-transition-duration);transition-property:margin;transition-timing-function:var(--ag-charts-input-transition-easing);width:14px}.ag-charts-checkbox:checked{background:var(--ag-charts-checkbox-checked-background-color)}.ag-charts-checkbox:checked:before{margin-left:13px}.ag-charts-select{background:var(--ag-charts-input-background-color);border:1px solid var(--ag-charts-input-border-color);border-radius:var(--ag-charts-input-border-radius);padding:3px 2px 4px;font-size:inherit}.ag-charts-textarea{--textarea-line-height: 1.38;background:var(--ag-charts-input-background-color);border:1px solid var(--ag-charts-border-color);border-radius:var(--ag-charts-input-border-radius);line-height:var(--textarea-line-height);font-family:var(--ag-charts-chrome-font-family);font-size:var(--ag-charts-chrome-font-size-large);padding:var(--input-padding-large) var(--input-padding)}.ag-charts-textarea::placeholder{color:var(--ag-charts-input-placeholder-text-color)}.ag-charts-proxy-container{pointer-events:none;position:absolute}.ag-charts-proxy-elem{-webkit-appearance:none;appearance:none;background:none;border:none;color:#0000;overflow:hidden;pointer-events:auto;position:absolute}.ag-charts-proxy-elem::-moz-range-thumb,.ag-charts-proxy-elem::-moz-range-track{opacity:0}.ag-charts-proxy-elem::-webkit-slider-runnable-track,.ag-charts-proxy-elem::-webkit-slider-thumb{opacity:0}.ag-charts-proxy-elem:focus-visible{outline:var(--ag-charts-focus-border);box-shadow:var(--ag-charts-focus-border-shadow)}.ag-charts-focus-indicator{position:absolute;display:block;pointer-events:none;user-select:none;-webkit-user-select:none;width:100%;height:100%}.ag-charts-focus-indicator>div{position:absolute;outline:solid 1px var(--ag-charts-chrome-background-color);box-shadow:var(--ag-charts-focus-shadow)}.ag-charts-focus-indicator>svg{width:100%;height:100%;fill:none;overflow:visible}.ag-charts-focus-svg-outer-path{stroke:var(--ag-charts-chrome-background-color);stroke-width:4px}.ag-charts-focus-svg-inner-path{stroke:var(--ag-charts-accent-color);stroke-width:2px}.ag-charts-overlay{color:#181d1f;pointer-events:none}.ag-charts-overlay.ag-charts-dark-overlay{color:#fff}.ag-charts-overlay--loading{color:#8c8c8c}.ag-charts-overlay__loading-background{background:#fff;pointer-events:none}.ag-charts-overlay.ag-charts-dark-overlay .ag-charts-overlay__loading-background{background:#192232}.ag-charts-tooltip{--tooltip-arrow-size: 8px;--tooltip-row-spacing: 8px;--tooltip-column-spacing: 16px;position:fixed;inset:unset;margin:0;padding:0;overflow:visible;top:var(--top, 0px);left:var(--left, 0px);width:max-content;max-width:100%;font-family:var(--ag-charts-chrome-font-family);font-size:var(--ag-charts-chrome-font-size);font-weight:var(--ag-charts-chrome-font-weight);color:var(--ag-charts-chrome-text-color);background:var(--ag-charts-chrome-background-color);border:var(--ag-charts-border);border-radius:var(--ag-charts-border-radius);box-shadow:var(--ag-charts-shadow)}.ag-charts-tooltip--compact .ag-charts-tooltip-content{--tooltip-row-spacing: 2px;--tooltip-column-spacing: 8px;padding:3px 6px}.ag-charts-tooltip--arrow-top:before,.ag-charts-tooltip--arrow-right:before,.ag-charts-tooltip--arrow-bottom:before,.ag-charts-tooltip--arrow-left:before{content:"";position:absolute;display:block;width:var(--tooltip-arrow-size);height:var(--tooltip-arrow-size);border:inherit;border-bottom-color:transparent;border-right-color:transparent;background:inherit;clip-path:polygon(0 0,100% 0,100% 1px,1px 100%,0 100%)}.ag-charts-tooltip--arrow-top:before{bottom:100%;left:50%;transform:translate(-50%) translateY(calc(var(--tooltip-arrow-size) * .5)) rotate(45deg)}.ag-charts-tooltip--arrow-bottom:before{top:100%;left:50%;transform:translate(-50%) translateY(calc(var(--tooltip-arrow-size) * -.5)) rotate(225deg)}.ag-charts-tooltip--arrow-left:before{right:100%;top:50%;transform:translateY(-50%) translate(calc(var(--tooltip-arrow-size) * .5)) rotate(315deg)}.ag-charts-tooltip--arrow-right:before{left:100%;top:50%;transform:translateY(-50%) translate(calc(var(--tooltip-arrow-size) * -.5)) rotate(135deg)}.ag-charts-tooltip--no-interaction{pointer-events:none;user-select:none;-webkit-user-select:none}.ag-charts-tooltip--wrap-always{overflow-wrap:break-word;word-break:break-word;hyphens:none}.ag-charts-tooltip--wrap-hyphenate{overflow-wrap:break-word;word-break:break-word;hyphens:auto}.ag-charts-tooltip--wrap-on-space{overflow-wrap:normal;word-break:normal}.ag-charts-tooltip--wrap-never{white-space:nowrap}.ag-charts-tooltip-heading,.ag-charts-tooltip-title,.ag-charts-tooltip-label,.ag-charts-tooltip-value{overflow:hidden;text-overflow:ellipsis}.ag-charts-tooltip-content{display:grid;grid:auto-flow minmax(1em,auto) / 1fr;padding:8px 12px;gap:var(--tooltip-row-spacing)}.ag-charts-tooltip-content:has(.ag-charts-tooltip-symbol){grid:auto-flow minmax(1em,auto) / auto 1fr}.ag-charts-tooltip-heading{grid-column:1 / -1}.ag-charts-tooltip-symbol{grid-column:1 / 2;place-self:center}.ag-charts-tooltip-symbol svg{display:block}.ag-charts-tooltip-title{grid-column:-2 / -1}.ag-charts-tooltip-row{grid-column:1 / -1;display:flex;gap:var(--tooltip-column-spacing);align-items:baseline;justify-content:space-between;overflow:hidden}.ag-charts-tooltip-row--inline{grid-column:-2 / -1}.ag-charts-tooltip-label{flex:1;min-width:0}.ag-charts-tooltip-value{min-width:0}.ag-charts-tooltip-footer{grid-column:1 / -1;color:var(--ag-charts-chrome-subtle-text-color);text-align:center}.ag-charts-popover{position:absolute;border:var(--ag-charts-border);border-radius:var(--ag-charts-border-radius);background:var(--ag-charts-chrome-background-color);color:var(--ag-charts-chrome-text-color);font-family:var(--ag-charts-chrome-font-family);font-size:var(--ag-charts-chrome-font-size);font-weight:var(--ag-charts-chrome-font-weight);box-shadow:var(--ag-charts-shadow);z-index:var(--ag-charts-layer-ui-overlay)}.ag-charts-menu{--item-padding: 6px 12px;--icon-color: var(--ag-charts-chrome-text-color);display:grid;grid:auto-flow auto / 1fr;column-gap:12px;font-size:var(--ag-charts-chrome-font-size)}.ag-charts-menu:has(.ag-charts-menu__icon,.ag-charts-menu__row--stroke-width-visible){grid:auto-flow auto / auto 1fr}.ag-charts-menu__row--stroke-width-visible:before{content:"";height:var(--strokeWidth);width:12px;background:var(--icon-color)}.ag-charts-menu__row--stroke-width-visible[aria-disabled=true]:before{filter:grayscale(1);opacity:.5}.ag-charts-menu__row{display:grid;grid-column:1 / -1;grid-template-columns:subgrid;align-items:center;padding:var(--item-padding)}.ag-charts-menu__row:not(.ag-charts-menu__row--active){cursor:pointer}.ag-charts-menu__row:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.ag-charts-menu__row:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.ag-charts-menu__row:focus{background:var(--ag-charts-focus-color)}.ag-charts-menu__row:focus-visible{outline:var(--ag-charts-focus-border);box-shadow:var(--ag-charts-focus-border-shadow);z-index:var(--ag-charts-layer-menu)}.ag-charts-menu__row--active{--icon-color: var(--ag-charts-accent-color);background:var(--ag-charts-focus-color);color:var(--ag-charts-accent-color)}.ag-charts-menu__label{grid-column:-1 / span 1}.ag-charts-toolbar{--toolbar-gap: calc(var(--ag-charts-spacing) * 2);--toolbar-size: 34px;--toolbar-button-padding: 6px;align-items:center;display:flex;flex-wrap:nowrap;position:absolute}.ag-charts-toolbar__button{align-items:center;background:var(--ag-charts-chrome-background-color);border:var(--ag-charts-border);color:var(--ag-charts-chrome-text-color);cursor:pointer;display:flex;font-family:var(--ag-charts-chrome-font-family);font-size:var(--ag-charts-chrome-font-size-medium);font-weight:var(--ag-charts-chrome-font-weight);justify-content:center;min-height:var(--toolbar-size);min-width:var(--toolbar-size);padding:var(--toolbar-button-padding);position:relative;transition:background-color .25s ease-in-out,border-color .25s ease-in-out,color .25s ease-in-out;white-space:nowrap}.ag-charts-toolbar__button:hover{background:var(--ag-charts-focus-color);z-index:1}.ag-charts-toolbar__button:focus-visible{outline:var(--ag-charts-focus-border);box-shadow:var(--ag-charts-focus-border-shadow);z-index:calc(var(--ag-charts-layer-ui-overlay) + 1)}.ag-charts-toolbar__button--active{background:var(--ag-charts-focus-color);border-color:var(--ag-charts-accent-color);color:var(--ag-charts-accent-color);z-index:2}.ag-charts-toolbar__button[aria-disabled=true]{background:var(--ag-charts-button-disabled-background-color);color:var(--ag-charts-button-disabled-text-color);cursor:default}.ag-charts-toolbar--horizontal{flex-direction:row;.ag-charts-toolbar__button{margin:0 0 0 -1px}.ag-charts-toolbar__button--first{border-bottom-left-radius:var(--ag-charts-border-radius);border-top-left-radius:var(--ag-charts-border-radius);margin:0}.ag-charts-toolbar__button--last{border-bottom-right-radius:var(--ag-charts-border-radius);border-top-right-radius:var(--ag-charts-border-radius)}}.ag-charts-toolbar--vertical{flex-direction:column;.ag-charts-toolbar__button{margin:-1px 0 0;max-width:100%}.ag-charts-toolbar__button--first{border-top-left-radius:var(--ag-charts-border-radius);border-top-right-radius:var(--ag-charts-border-radius);margin:0}.ag-charts-toolbar__button--last{border-bottom-left-radius:var(--ag-charts-border-radius);border-bottom-right-radius:var(--ag-charts-border-radius)}}.ag-charts-toolbar__icon+.ag-charts-toolbar__label{margin-left:var(--toolbar-gap)}.ag-charts-toolbar__icon,.ag-charts-toolbar__label{pointer-events:none}.ag-charts-floating-toolbar{border:none;display:flex;.ag-charts-toolbar{align-items:unset;position:unset}}.ag-charts-floating-toolbar__drag-handle{align-items:center;background:var(--ag-charts-chrome-background-color);border:var(--ag-charts-border);border-bottom-left-radius:var(--ag-charts-border-radius);border-top-left-radius:var(--ag-charts-border-radius);cursor:grab;display:flex;justify-content:center;min-width:24px;padding-left:0;padding-right:0}.ag-charts-floating-toolbar__drag-handle--dragging{cursor:grabbing}
`,_c=class{constructor(){this.registeredListeners=new Map}addListener(e,t){const i={symbol:Symbol(e),handler:t};return this.registeredListeners.has(e)?this.registeredListeners.get(e).push(i):this.registeredListeners.set(e,[i]),()=>this.removeListener(i.symbol)}removeListener(e){for(const[t,i]of this.registeredListeners.entries()){const n=i.findIndex(s=>s.symbol===e);if(n>=0){i.splice(n,1),i.length===0&&this.registeredListeners.delete(t);break}}}dispatch(e,...t){for(const i of this.getListenersByType(e))try{i.handler(...t)}catch(n){De.errorOnce(String(n))}}getListenersByType(e){return this.registeredListeners.get(e)??[]}destroy(){this.registeredListeners.clear()}},Cd=class{constructor(){this.listeners=new _c,this.destroyFns=[],this.destroyed=!1}addListener(e,t){return this.listeners.addListener(e,t)}destroy(){this.listeners.destroy(),this.destroyFns.forEach(e=>e()),this.destroyed=!0}},AMe=class $w{constructor(t,i,n){this.element=t,this.topTabGuard=i,this.bottomTabGuard=n,this.destroyFns=[],this.guardTabIndex=0,this.hasFocus=!1,this.initTabGuard(this.topTabGuard,s=>this.onTab(s,!1)),this.initTabGuard(this.bottomTabGuard,s=>this.onTab(s,!0)),this.element.addEventListener("focus",()=>this.onFocus(),{capture:!0}),this.element.addEventListener("blur",s=>this.onBlur(s),{capture:!0})}set tabIndex(t){this.guardTabIndex=t,this.guardTabIndex===0?this.setGuardIndices(void 0):this.hasFocus||this.setGuardIndices(this.guardTabIndex)}destroy(){for(const t of this.destroyFns)t();this.destroyFns.length=0}initTabGuard(t,i){const n=()=>i(t);t.addEventListener("focus",n),this.destroyFns.push(()=>t.removeEventListener("focus",n))}setGuardIndices(t){const i=t;Mi(this.topTabGuard,"tabindex",i),Mi(this.bottomTabGuard,"tabindex",i)}onFocus(){this.hasFocus=!0,this.guardTabIndex!==0&&this.setGuardIndices(0)}onBlur({relatedTarget:t}){const{topTabGuard:i,bottomTabGuard:n}=this;this.hasFocus=!1,this.guardTabIndex!==0&&t!==i&&t!==n&&this.setGuardIndices(this.guardTabIndex)}onTab(t,i){if(this.guardTabIndex!==0){let n;t.tabIndex===0?(n=this.findExitTarget(!i),this.setGuardIndices(this.guardTabIndex)):n=this.findEnterTarget(i),n==null||n.focus()}}static queryFocusable(t,i){const n=Di();return Array.from(t.querySelectorAll(i)).filter(s=>{if(s instanceof HTMLElement){const r=n.getComputedStyle(s);return r.display!=="none"&&r.visibility!=="none"}return!1})}findEnterTarget(t){const i=$w.queryFocusable(this.element,'[tabindex="0"]'),n=t?i.length-1:0;return i[n]}findExitTarget(t){const i=$w.queryFocusable(Pc(),"[tabindex]").filter(r=>r.tabIndex>0).sort((r,o)=>r.tabIndex-o.tabIndex),{before:n,after:s}=$w.findBeforeAndAfter(i,this.guardTabIndex);return t?n:s}static findBeforeAndAfter(t,i){let n=0,s=t.length-1,r,o;for(;n<=s;){const a=Math.floor((n+s)/2),l=t[a].tabIndex;if(l===i){r=t[a-1]||void 0,o=t[a+1]||void 0;break}else l<i?(r=t[a],n=a+1):(o=t[a],s=a-1)}return{before:r,after:o}}};function Ma(e,t,i,n,s){t.addEventListener(i,n);const r=()=>t.removeEventListener(i,n,s);return e.push(r),r}function l6(e,t,i){Ma(e,t,"keydown",n=>{n.key==="Escape"&&i(n)})}function IMe(e,t,i){const n=Ma(e,window,"mousedown",s=>{[0,2].includes(s.button)&&!c6(t,s)&&(i(),n())});return n}function LMe(e,t,i){const n=Ma(e,window,"touchstart",s=>{Array.from(s.targetTouches).some(o=>!c6(t,o))&&(i(),n())});return n}function c6(e,t){if(t.target instanceof Element){const{x:i,y:n,width:s,height:r}=e.getBoundingClientRect(),{clientX:o,clientY:a}=t;return o>=i&&a>=n&&o<=i+s&&a<=n+r}return!1}function DM(e){return!(e.shiftKey||e.altKey||e.ctrlKey||e.metaKey)}function Tk(e,t,...i){return DM(e)&&(e.key===t||i.some(n=>e.key===n))}function oG(e,t,i,n){i&&Ma(e,t,"keydown",s=>{Tk(s,n)&&i.focus()})}function kMe(e,t,i,n,s,r){oG(e,t,s,r),oG(e,t,i,n),Ma(e,t,"keydown",o=>{Tk(o,n,r)&&o.preventDefault()})}var qf={horizontal:{nextKey:"ArrowRight",prevKey:"ArrowLeft"},vertical:{nextKey:"ArrowDown",prevKey:"ArrowUp"}};function u6(e){const{orientation:t,buttons:i,wrapAround:n=!1,onEscape:s,onFocus:r,onBlur:o}=e,{nextKey:a,prevKey:l}=qf[t],u=m=>{m.target&&"tabIndex"in m.target&&(i.forEach(y=>y.tabIndex=-1),m.target.tabIndex=0)},[d,p]=n?[i.length,i.length]:[0,1/0],f=[];for(let m=0;m<i.length;m++){const y=i[(d+m-1)%p],C=i[m],w=i[(d+m+1)%p];Ma(f,C,"focus",u),r&&Ma(f,C,"focus",r),o&&Ma(f,C,"blur",o),s&&l6(f,C,s),kMe(f,C,w,a,y,l),C.tabIndex=m===0?0:-1}return f}var PMe=class{constructor(e,t,i){this.lastFocus=t,this.closeCallback=i,this.destroyFns=[],this.destroyFns.push(IMe(this.destroyFns,e,()=>this.close(!0))),this.destroyFns.push(LMe(this.destroyFns,e,()=>this.close(!0)))}close(e){this.destroyFns.forEach(t=>t()),this.destroyFns.length=0,this.closeCallback(),this.finishClosing(e)}finishClosing(e){var t;this.destroyFns.forEach(i=>i()),this.destroyFns.length=0,Mi(this.lastFocus,"aria-expanded",!1),e||(t=this.lastFocus)==null||t.focus({preventScroll:!0}),this.lastFocus=void 0}};function d6(e){var y;const{sourceEvent:t,orientation:i,menu:n,buttons:s,closeCallback:r,overrideFocusVisible:o,autoCloseOnBlur:a=!1}=e,{nextKey:l,prevKey:u}=qf[i],d=Ik(t);Mi(d,"aria-expanded",!0);const p=new PMe(n,d,r),f=()=>p.close(),{destroyFns:m}=p;if(n.role="menu",n.ariaOrientation=i,m.push(...u6({orientation:i,buttons:s,onEscape:f,wrapAround:!0})),n.tabIndex=-1,l6(m,n,f),Ma(m,n,"keydown",C=>{var w;C.target===n&&(C.key===l||C.key===u)&&(C.preventDefault(),(w=s[0])==null||w.focus())}),a){const C=w=>{!s.includes(w.relatedTarget)&&f()};for(const w of s)Ma(m,w,"blur",C)}return(y=s[0])==null||y.focus({preventScroll:!0}),o!==void 0&&(s.forEach(w=>w.setAttribute("data-focus-visible-override",o.toString())),Ma(m,n,"keydown",()=>{s.forEach(w=>w.setAttribute("data-focus-visible-override","true"))},{once:!0})),p}function FMe(e,t){return i=>{if(e.ariaDisabled==="true")return i.preventDefault();t(i)}}function Ak(e){return"button"in e?e.button===0:DM(e)&&(e.code==="Space"||e.key==="Enter")}function Ik(e){if((e==null?void 0:e.target)instanceof HTMLElement&&"tabindex"in e.target.attributes)return e.target}function h6(e){const t=i=>{if(i.defaultPrevented)return;xM(i.target,"data-preventdefault",!0)&&Tk(i,"ArrowRight","ArrowLeft","ArrowDown","ArrowUp")&&i.preventDefault()};return e.addEventListener("keydown",t),()=>e.removeEventListener("keydown",t)}var OMe=class{constructor(e){this.callback=e,this.devicePixelRatio=Di("devicePixelRatio")??1,this.devicePixelRatioMediaQuery=void 0,this.devicePixelRatioListener=t=>{t.matches||(this.devicePixelRatio=Di("devicePixelRatio")??1,this.unregisterDevicePixelRatioListener(),this.registerDevicePixelRatioListener(),this.callback(this.pixelRatio))}}get pixelRatio(){return this.devicePixelRatio}observe(){this.registerDevicePixelRatioListener()}disconnect(){this.unregisterDevicePixelRatioListener()}unregisterDevicePixelRatioListener(){var e;(e=this.devicePixelRatioMediaQuery)==null||e.removeEventListener("change",this.devicePixelRatioListener),this.devicePixelRatioMediaQuery=void 0}registerDevicePixelRatioListener(){var t;const e=(t=Di("matchMedia"))==null?void 0:t(`(resolution: ${this.pixelRatio}dppx)`);e==null||e.addEventListener("change",this.devicePixelRatioListener),this.devicePixelRatioMediaQuery=e}},p6=class{constructor(){var t;this.elements=new Map,this.documentReady=!1,this.queuedObserveRequests=[],this.onLoad=()=>{this.documentReady=!0,this.queuedObserveRequests.forEach(([i,n])=>this.observe(i,n)),this.queuedObserveRequests=[],this.observeWindow()},typeof ResizeObserver<"u"&&(this.resizeObserver=new ResizeObserver(i=>{for(const{target:n,contentRect:{width:s,height:r}}of i){const o=this.elements.get(n);this.checkSize(o,n,s,r)}}));let e;this.pixelRatioObserver=new OMe(()=>{clearTimeout(e),e=setTimeout(()=>this.checkPixelRatio(),0)}),this.documentReady=Pc("readyState")==="complete",this.documentReady?this.observeWindow():(t=Di())==null||t.addEventListener("load",this.onLoad)}destroy(){var e,t,i;(e=Di())==null||e.removeEventListener("load",this.onLoad),(t=this.resizeObserver)==null||t.disconnect(),this.resizeObserver=void 0,(i=this.pixelRatioObserver)==null||i.disconnect(),this.pixelRatioObserver=void 0}observeWindow(){var e;(e=this.pixelRatioObserver)==null||e.observe()}checkPixelRatio(){var t;const e=((t=this.pixelRatioObserver)==null?void 0:t.pixelRatio)??1;for(const[i,n]of this.elements)if(n.size!=null&&n.size.pixelRatio!==e){const{width:s,height:r}=n.size;n.size={width:s,height:r,pixelRatio:e},n.cb(n.size,i)}}checkSize(e,t,i,n){var s,r,o;if(e&&(i!==((s=e.size)==null?void 0:s.width)||n!==((r=e.size)==null?void 0:r.height))){const a=((o=this.pixelRatioObserver)==null?void 0:o.pixelRatio)??1;e.size={width:i,height:n,pixelRatio:a},e.cb(e.size,t)}}observe(e,t){var n;if(!this.documentReady){this.queuedObserveRequests.push([e,t]);return}this.elements.has(e)?this.removeFromQueue(e):(n=this.resizeObserver)==null||n.observe(e);const i={cb:t};this.elements.set(e,i)}unobserve(e){var t;(t=this.resizeObserver)==null||t.unobserve(e),this.elements.delete(e),this.removeFromQueue(e),this.elements.size||this.destroy()}removeFromQueue(e){this.queuedObserveRequests=this.queuedObserveRequests.filter(([t])=>t!==e)}},Ig=class extends Map{constructor(e,t){super(),this.defaultValue=e,this.defaultState=t}set(e,t){return this.delete(e),typeof t<"u"&&super.set(e,t),this}stateId(){return Array.from(this.keys()).pop()??this.defaultState}stateValue(){return Array.from(this.values()).pop()??this.defaultValue}},NMe='<div role="presentation" class="ag-charts-wrapper ag-charts-styles" data-ag-charts><div role="presentation" class="ag-charts-canvas-center"><div role="presentation" class="ag-charts-canvas-container"><div role="presentation" class="ag-charts-canvas" aria-hidden="true"></div><div role="figure" class="ag-charts-canvas-proxy"><div role="presentation" class="ag-charts-series-area"></div></div><div role="presentation" class="ag-charts-canvas-overlay ag-charts-tooltip-container"></div></div></div></div>',BMe=["styles","canvas","canvas-center","canvas-container","canvas-overlay","canvas-proxy","series-area","tooltip-container"],aG={safeHorizontal:"ag-charts-wrapper--safe-horizontal",safeVertical:"ag-charts-wrapper--safe-vertical"},zMe=new Map([["styles",{childElementType:"style"}],["canvas",{childElementType:"canvas"}],["canvas-proxy",{childElementType:"div"}],["canvas-overlay",{childElementType:"div"}],["canvas-center",{childElementType:"div"}],["series-area",{childElementType:"div"}],["tooltip-container",{childElementType:"div"}]]);function GMe(e,t){if(typeof IntersectionObserver>"u")return;const i=new IntersectionObserver(n=>{for(const s of n)s.target===e&&t(s.intersectionRatio)},{root:e});return i.observe(e),i}var f6={x:0,y:0,width:0,height:0,top:0,bottom:0,left:0,right:0,toJSON(){return f6}};function lG(e,t){const i=Ot("div");return i.className="ag-charts-tab-guard",e.insertAdjacentElement(t,i),i}var Lk=class dh extends Cd{constructor(t,i,n="normal"){super(),this.styleContainer=i,this.mode=n,this.anchorName=`--${ro(this)}`,this.styles=new Map,this.pendingContainer=void 0,this.container=void 0,this.documentRoot=void 0,this.initiallyConnected=void 0,this.containerSize=void 0,this.sizeMonitor=new p6,this.cursorState=new Ig("default"),this.minWidth=0,this.minHeight=0,this.element=this.initDOM(),this.rootElements=this.initRootElements(),this.rootElements.canvas.element.style.setProperty("anchor-name",this.anchorName);let s=!1;if(this.observer=GMe(this.element,r=>{r===0&&!s&&this.listeners.dispatch("hidden",{type:"hidden"}),s=r===0}),this.setSizeOptions(),this.updateContainerSize(),this.addStyles("ag-charts-community",TMe),this.setContainer(t),this.destroyFns.push(h6(this.element)),this.mode==="normal"){const r=this.rootElements["canvas-center"].element;if(r==null)throw new Error("Error initializing tab guards");const o=lG(r,"beforebegin"),a=lG(r,"afterend");this.tabGuards=new AMe(r,o,a)}}initDOM(){if(this.mode==="normal"){const n=Ot("div");return n.innerHTML=NMe,n.firstChild}const t=Ot("div");t.role="presentation",t.classList.add("ag-charts-canvas-container","ag-charts-canvas","ag-charts-tooltip-container");const i=Ot("div");return t.appendChild(i),i.role="presentation",i.classList.add("ag-charts-series-area"),t}initRootElements(){return BMe.reduce((t,i)=>{const n=`ag-charts-${i}`;let s=this.element.classList.contains(n)?this.element:this.element.querySelector(`.${n}`);if(!s&&this.mode==="normal")throw new Error(`AG Charts - unable to find DOM element ${n}`);return s??(s=Ot("div")),t[i]={element:s,children:new Map,listeners:[]},t},{})}destroy(){var t;super.destroy(),(t=this.observer)==null||t.unobserve(this.element),this.container&&this.sizeMonitor.unobserve(this.container),this.pendingContainer=void 0,Object.values(this.rootElements).forEach(i=>{i.children.forEach(n=>n.remove()),i.element.remove()}),this.element.remove()}postRenderUpdate(){this.mode!=="minimal"&&(this.pendingContainer==null||this.pendingContainer===this.container||(dh.batchedUpdateContainer.length===0&&Di().setTimeout(this.applyBatchedUpdateContainer.bind(this),0),dh.batchedUpdateContainer.push(this)))}applyBatchedUpdateContainer(){for(const t of dh.batchedUpdateContainer)t.destroyed||t.updateContainer();dh.batchedUpdateContainer.splice(0)}setSizeOptions(t=300,i=300,n,s){const{style:r}=this.element;r.width=`${n??t}px`,r.height=`${s??i}px`,this.minWidth=n??t,this.minHeight=s??i,this.updateContainerClassName()}updateContainerSize(){const{style:t}=this.rootElements["canvas-center"].element;t.visibility=this.containerSize==null?"hidden":"",this.containerSize?(t.width=`${this.containerSize.width??0}px`,t.height=`${this.containerSize.height??0}px`):(t.width="",t.height=""),this.updateContainerClassName()}setTabGuardIndex(t){this.tabGuards&&(this.tabGuards.tabIndex=t)}setContainer(t){t!==this.container&&(this.pendingContainer=t,(this.mode==="minimal"||this.container==null)&&this.updateContainer())}updateContainer(){const{pendingContainer:t}=this;if(!(t==null||t===this.container)){if(this.container&&(this.container.removeChild(this.element),this.sizeMonitor.unobserve(this.container)),this.documentRoot!=null)for(const i of this.rootElements.styles.children.keys())this.removeChild("styles",i);this.container=t,this.pendingContainer=void 0,this.documentRoot=this.getShadowDocumentRoot(t),this.initiallyConnected=this.mode==="minimal"||t.isConnected;for(const[i,n]of this.styles)this.addStyles(i,n);t.appendChild(this.element),this.sizeMonitor.observe(t,i=>{this.containerSize=i,this.updateContainerSize(),this.listeners.dispatch("resize",{type:"resize"})}),this.listeners.dispatch("container-changed",{type:"container-changed"})}}setThemeClass(t){const i="ag-charts-theme-";this.element.classList.forEach(n=>{n.startsWith(i)&&n!==t&&this.element.classList.remove(n)}),this.element.classList.add(t)}setThemeParameters(t){const i={accentColor:"accent-color",axisColor:"axis-color",backgroundColor:"background-color",borderColor:"border-color",foregroundColor:"foreground-color",fontFamily:"font-family",fontSize:"font-size",fontWeight:"font-weight",gridLineColor:"grid-line-color",padding:"padding",subtleTextColor:"subtle-text-color",textColor:"text-color",chromeBackgroundColor:"chrome-background-color",chromeFontFamily:"chrome-font-family",chromeFontSize:"chrome-font-size",chromeFontWeight:"chrome-font-weight",chromeSubtleTextColor:"chrome-subtle-text-color",chromeTextColor:"chrome-text-color",inputBackgroundColor:"input-background-color",inputTextColor:"input-text-color",crosshairLabelBackgroundColor:"crosshair-label-background-color",crosshairLabelTextColor:"crosshair-label-text-color"},n=["fontSize","chromeFontSize"];for(const[s,r]of Sa(t)){let o=`${r}`;n.includes(s)&&(o=`${r}px`),this.element.style.setProperty(`--ag-charts-${i[s]}`,o)}}updateCanvasLabel(t){Mi(this.rootElements["canvas-proxy"].element,"aria-label",t)}getEventElement(t,i){return["focus","blur","keydown","keyup"].includes(i)?this.rootElements["series-area"].element:t}addEventListener(t,i,n){this.getEventElement(this.element,t).addEventListener(t,i,n)}removeEventListener(t,i,n){this.getEventElement(this.element,t).removeEventListener(t,i,n)}getBoundingClientRect(){return this.rootElements.canvas.element.getBoundingClientRect()}getOverlayClientRect(){var s;const t=Di(),i=new Ue(0,0,t.innerWidth,t.innerHeight),n=this.getRawOverlayClientRect();return((s=i.intersection(n))==null?void 0:s.toDOMRect())??f6}getRawOverlayClientRect(){var r,o,a;let t=this.element;const i=(r=this.element.getRootNode())==null?void 0:r.fullscreenElement;for(;t!=null;){let l;if(i!=null&&t===i)l=!0;else{const u=(o=t.computedStyleMap)==null?void 0:o.call(t),d=(a=u==null?void 0:u.get("overflow-y"))==null?void 0:a.toString();l=d==="auto"||d==="scroll"}if(l)return Ue.fromDOMRect(t.getBoundingClientRect());t=t.parentElement}if(this.documentRoot!=null)return Ue.fromDOMRect(this.documentRoot.getBoundingClientRect());const{innerWidth:n,innerHeight:s}=Di();return new Ue(0,0,n,s)}getShadowDocumentRoot(t=this.container){var n;const i=((n=t==null?void 0:t.ownerDocument)==null?void 0:n.body)??Pc("body");for(;t!=null;){if(t===i)return;if(t.parentNode instanceof DocumentFragment)return t;t=t.parentNode}}getParent(t){return this.rootElements[t].element}getChildBoundingClientRect(t){const{children:i}=this.rootElements[t],n=[];for(const s of i.values())n.push(Ue.fromDOMRect(s.getBoundingClientRect()));return Ue.merge(n)}isManagedChildDOMElement(t,i,n){const{children:s}=this.rootElements[i],r=s==null?void 0:s.get(n);return r!=null&&t.contains(r)}contains(t,i){return i==null?this.element.contains(t):this.rootElements[i].element.contains(t)}addStyles(t,i){const n="data-ag-charts";if(this.styles.set(t,i),this.container==null)return;const s=a=>a.getAttribute(n)===t,r=a=>{const l=new Set(["TITLE","META"]);let u=!0,d;for(const f of a.children){if(u&&l.has(f.tagName)){d=f;continue}if(u=!1,s(f))return;f.hasAttribute(n)&&(d=f)}const p=Ot("style");return d==null?a.prepend(p):a.insertBefore(p,d.nextSibling),p};let o;this.styleContainer?o=r(this.styleContainer):this.initiallyConnected===!1?o=this.addChild("styles",t):this.documentRoot==null&&!dh.headStyles.has(t)?(o=r(Pc("head")),dh.headStyles.add(t)):this.documentRoot!=null&&(o=this.addChild("styles",t)),!(o==null||s(o))&&(o.setAttribute(n,t),o.innerHTML=i)}removeStyles(t){this.removeChild("styles",t)}updateCursor(t,i){this.cursorState.set(t,i),this.element.style.cursor=this.cursorState.stateValue()}getCursor(){return this.element.style.cursor}addChild(t,i,n,s){const{element:r,children:o,listeners:a}=this.rootElements[t];if(!o)throw new Error("AG Charts - unable to create DOM elements after destroy()");if(o.has(i))return o.get(i);const{childElementType:l="div"}=zMe.get(t)??{};if(n&&n.tagName.toLowerCase()!==l.toLowerCase())throw new Error("AG Charts - mismatching DOM element type");const u=n??Ot(l);for(const[d,p,f]of a)u.addEventListener(d,p,f);if(o.set(i,u),s){const d=r.querySelector(s.query);if(d==null)throw new Error(`AG Charts - addChild query failed ${s.query}`);d.insertAdjacentElement(s.where,u)}else r==null||r.appendChild(u);return u}removeChild(t,i){var s;const{children:n}=this.rootElements[t];n&&((s=n.get(i))==null||s.remove(),n.delete(i))}incrementDataCounter(t){const{dataset:i}=this.element;i[t]??(i[t]="0"),i[t]=String(Number(i[t])+1)}setDataBoolean(t,i){this.element.dataset[t]=String(i)}updateContainerClassName(){const{element:t,containerSize:i,minWidth:n,minHeight:s}=this;t.classList.toggle(aG.safeHorizontal,n>=((i==null?void 0:i.width)??1/0)),t.classList.toggle(aG.safeVertical,s>=((i==null?void 0:i.height)??1/0))}};Lk.batchedUpdateContainer=[];Lk.headStyles=new Set;var g6=Lk,HMe=class extends zl{constructor(){super(Ot("div")),this.textElement=gs("text"),this.textElement.role="presentation",this.svgElement=gs("svg"),this.svgElement.appendChild(this.textElement),this.svgElement.style.width="100%",this.svgElement.style.opacity="0",this.svgElement.role="presentation",this.elem.appendChild(this.svgElement),this.elem.role="presentation"}set textContent(e){var n;this.textElement.textContent=e;const t=this.textElement,i=(n=t.getBBox)==null?void 0:n.call(t);i&&this.svgElement.setAttribute("viewBox",`${i.x} ${i.y} ${i.width} ${i.height}`)}get textContent(){return this.textElement.textContent}destructor(){}},KC=class extends zl{constructor(){super(Ot("button")),this.setEnabled(!0)}destructor(){}setEnabled(e){Mi(this.elem,"aria-disabled",!e),ba(this.elem,"pointer-events",e?void 0:"none")}addListener(e,t){return super.addListener(e,(i,n)=>{(e==="click"||e==="dblclick")&&this.isDisabled()||t(i,n)})}},_Me=class extends zl{constructor(){super(Ot("div")),Mi(this.elem,"role","group")}destructor(){}},m6=class extends zl{constructor(e,t){super(Ot("div")),this.focusedChildIndex=0,this.onChildFocus=(i,n)=>{const s=this.children[this.focusedChildIndex];this.focusedChildIndex=n.index,s==null||s.setTabIndex(-1),n.setTabIndex(0)},this.onChildKeyDown=(i,n)=>{var l;const s=this.orientation,[r,o]=s==="both"?[qf.horizontal,qf.vertical]:[qf[s],void 0];let a=-1;if(DM(i.sourceEvent)){const u=i.sourceEvent.key;u===r.nextKey||u===(o==null?void 0:o.nextKey)?a=n.index+1:(u===r.prevKey||u===(o==null?void 0:o.prevKey))&&(a=n.index-1)}(l=this.children[a])==null||l.focus()},this.orientation=e,Mi(this.elem,"role",t)}get orientation(){return xM(this.elem,"aria-orientation")??"both"}set orientation(e){Mi(this.elem,"aria-orientation",e!=="both"?e:void 0)}focus(){var e;(e=this.children[this.focusedChildIndex])==null||e.focus()}onChildAdded(e){e.addListener("focus",this.onChildFocus),e.addListener("keydown",this.onChildKeyDown),e.setTabIndex(this.children.length===1?0:-1)}onChildRemoved(e){e.removeListener("focus",this.onChildFocus),e.removeListener("keydown",this.onChildKeyDown);const{focusedChildIndex:t,children:i}=this,n=t===e.index;for(let s=0;s<i.length;s++){const r=i[s];r.index===t&&(this.focusedChildIndex=s),r.index=s}if(n){const s=i[t]??i[t-1];s?(this.focusedChildIndex=s.index,s.setTabIndex(0)):this.focusedChildIndex=0}}},jMe=class extends m6{constructor(){super("both","list"),this.setHidden(!0)}destructor(){this.children.forEach(e=>e.getElement().parentElement.remove())}addChildToDOM(e,t){const i=Ot("div");Mi(i,"role","listitem"),ba(i,"position","absolute"),zl.setElementContainer(e,i),this.appendOrInsert(i,t),this.setHidden(!1)}removeChildFromDOM(e){e.getElement().parentElement.remove(),this.setHidden(this.children.length===0)}setHidden(e){this.children.length===0&&(e=!0),super.setHidden(e)}},Lg=class extends zl{constructor(e){super(e)}destructor(){}},VMe=new Intl.NumberFormat("en-US",{style:"percent"});function Oc(e,t=2){return typeof e=="number"?v6(e,t):typeof e=="string"?e:String(e??"")}function y6(e){return VMe.format(e)}var cG=new Map().set(2,new Intl.NumberFormat("en-US",{maximumFractionDigits:2,useGrouping:!1}));function v6(e,t){let i=cG.get(t);return i||(i=new Intl.NumberFormat("en-US",{maximumFractionDigits:t,useGrouping:!1}),cG.set(t,i)),i.format(e)}var kk=class Wy extends zl{constructor(){super(Ot("input")),this._step=Wy.STEP_ONE,this.orientation="both"}get step(){return this._step}set step(t){this._step=t,this.getElement().step=t.attributeValue}get keyboardStep(){var t;return((t=this._keyboardStep)==null?void 0:t.step)??this._step}set keyboardStep(t){var i;if(t!==((i=this._keyboardStep)==null?void 0:i.step)&&(this._keyboardStep!==void 0&&(this.removeListener("keydown",this._keyboardStep.onKeyDown),this.removeListener("keyup",this._keyboardStep.onKeyUp),this.removeListener("blur",this._keyboardStep.onBlur),this._keyboardStep=void 0),t!==void 0)){const n=()=>this.getElement().step=t.attributeValue,s=()=>this.getElement().step=this._step.attributeValue;this._keyboardStep={step:t,onKeyDown:n,onKeyUp:s,onBlur:s},this.addListener("keydown",this._keyboardStep.onKeyDown),this.addListener("keyup",this._keyboardStep.onKeyUp),this.addListener("blur",this._keyboardStep.onBlur)}}get orientation(){return xM(this.elem,"aria-orientation")??"both"}set orientation(t){Mi(this.elem,"aria-orientation",t!=="both"?t:void 0),Wy.registerDefaultPreventers(this,t)}destructor(){}clampValueRatio(t,i){const n=this.getValueRatio(),s=ft(t,n,i);return s!==n&&this.setValueRatio(s),s}setValueRatio(t,i){const{divider:n}=this.step,s=Math.round(t*1e4)/n,{ariaValueText:r=y6(s/n)}=i??{},o=this.getElement();o.value=`${s}`,o.ariaValueText=r}getValueRatio(){return parseFloat(this.getElement().value)/this.step.divider}static registerDefaultPreventers(t,i){i==="both"?t.removeListener("keydown",Wy.onKeyDown):t.addListener("keydown",Wy.onKeyDown)}static onKeyDown(t,i){let n=[];const{orientation:s}=i;s==="horizontal"?n=["ArrowUp","ArrowDown"]:s==="vertical"&&(n=["ArrowLeft","ArrowRight"]),n.includes(t.sourceEvent.code)&&t.sourceEvent.preventDefault()}};kk.STEP_ONE={attributeValue:"1",divider:1};kk.STEP_HUNDRETH={attributeValue:"0.01",divider:100};var Pk=kk,WMe=class extends KC{constructor(){super(),Mi(this.elem,"role","switch"),this.setChecked(!1)}setChecked(e){Mi(this.elem,"aria-checked",e)}},RM=class extends m6{constructor(e="horizontal"){super(e,"toolbar")}destructor(){}};function Cf(e,t){var i;return((i=t.params)==null?void 0:i.type)===e}function UMe(e){if(e==="button")return new KC;if(e==="slider")return new Pk;if(e==="toolbar")return new RM;if(e==="group")return new _Me;if(e==="list")return new jMe;if(e==="region")return new Lg(Ot("div"));if(e==="text")return new HMe;if(e==="listswitch")return new WMe;throw Error("AG Charts - error allocating meta")}function uG(e){const t={params:e,result:void 0};return t.result=UMe(t.params.type),t}var C6=class{constructor(e,t){this.localeManager=e,this.domManager=t,this.destroyFns=[]}destroy(){this.destroyFns.forEach(e=>e())}addLocalisation(e){e(),this.destroyFns.push(this.localeManager.addListener("locale-changed",e))}createProxyContainer(e){const t=uG(e),{params:i,result:n}=t,s=n.getElement();return this.domManager.addChild("canvas-proxy",i.domManagerId,s),s.classList.add(...i.classList,"ag-charts-proxy-container"),s.role=i.type,"ariaOrientation"in i&&(s.ariaOrientation=i.ariaOrientation),Cf("toolbar",t)&&(t.result.orientation=t.params.orientation),this.addLocalisation(()=>{s.ariaLabel=this.localeManager.t(i.ariaLabel.id,i.ariaLabel.params)}),n}createProxyElement(e){const t=uG(e);if(Cf("button",t)){const{params:i,result:n}=t,s=n.getElement();if(this.initInteract(i,n),typeof i.textContent=="string")s.textContent=i.textContent;else{const{textContent:r}=i;this.addLocalisation(()=>{s.textContent=this.localeManager.t(r.id,r.params)})}this.setParent(t.params,t.result)}if(Cf("slider",t)){const{params:i,result:n}=t,s=n.getElement();this.initInteract(i,n),s.type="range",s.role="presentation",s.style.margin="0px",this.addLocalisation(()=>{s.ariaLabel=this.localeManager.t(i.ariaLabel.id,i.ariaLabel.params)}),this.setParent(t.params,t.result)}if(Cf("text",t)){const{params:i,result:n}=t;this.initElement(i,n),this.setParent(t.params,t.result)}if(Cf("listswitch",t)){const{params:i,result:n}=t;this.initInteract(i,n),n.setTextContent(i.textContent),n.setChecked(i.ariaChecked),n.setAriaDescribedBy(i.ariaDescribedBy),this.setParent(t.params,t.result)}if(Cf("region",t)){const{params:i,result:n}=t,s=n.getElement();this.initInteract(i,n),s.role="region",this.setParent(t.params,t.result)}return t.result}initElement(e,t){const i=t.getElement();return Mi(i,"id",e.id),ba(i,"cursor",e.cursor),i.classList.toggle("ag-charts-proxy-elem",!0),i}initInteract(e,t){const{tabIndex:i,domIndex:n}=e,s=this.initElement(e,t);i!==void 0&&(s.tabIndex=i),n!==void 0&&(t.domIndex=n)}setParent(e,t){var i;if("parent"in e)(i=e.parent)==null||i.addChild(t);else{const n={where:e.where,query:".ag-charts-series-area"};this.domManager.addChild("canvas-proxy",e.domManagerId,t.getElement(),n)}}},$Me={ariaAnnounceHoverDatum:"${datum}",ariaAnnounceChart:"chart, ${seriesCount}[number] series",ariaAnnounceHierarchyChart:"hierarchy chart, ${caption}",ariaAnnounceGaugeChart:"gauge chart, ${caption}",ariaAnnounceHierarchyDatum:"level ${level}[number], ${count}[number] children, ${description}",ariaAnnounceFlowProportionLink:"link ${index} of ${count}, from ${from} to ${to}, ${sizeName} ${size}",ariaAnnounceFlowProportionNode:"node ${index} of ${count}, ${description}",ariaDescriptionLegendItem:"Press Space or Enter to toggle visibility",ariaLabelAddHorizontalLine:"Add Horizontal Line",ariaLabelAnnotationOptionsToolbar:"Annotation Options",ariaLabelAnnotationSettingsDialog:"Annotation Settings",ariaLabelColorPicker:"Color picker",ariaLabelFinancialCharts:"Financial Charts",ariaLabelLegend:"Legend",ariaLabelLegendPagination:"Legend Pagination",ariaLabelLegendPagePrevious:"Previous Legend Page",ariaLabelLegendPageNext:"Next Legend Page",ariaLabelLegendItem:"${label}, Legend item ${index}[number] of ${count}[number]",ariaLabelLegendItemUnknown:"Unknown legend item",ariaLabelNavigator:"Navigator",ariaLabelNavigatorRange:"Range",ariaLabelNavigatorMinimum:"Minimum",ariaLabelNavigatorMaximum:"Maximum",ariaLabelRangesToolbar:"Ranges",ariaLabelSettingsTabBar:"Settings",ariaLabelZoomToolbar:"Zoom",ariaValuePanRange:"${min}[percent0to2dp] to ${max}[percent0to2dp]",iconAltTextLineStyleSolid:"Solid",iconAltTextLineStyleDashed:"Long-dashed",iconAltTextLineStyleDotted:"Short-dashed",iconAltTextPositionTop:"Top",iconAltTextPositionCenter:"Center",iconAltTextPositionBottom:"Bottom",iconAltTextAlignLeft:"Left",iconAltTextAlignCenter:"Center",iconAltTextAlignRight:"Right",iconAltTextClose:"Close",overlayLoadingData:"Loading data...",overlayNoData:"No data to display",overlayNoVisibleSeries:"No visible series",overlayUnsupportedBrowser:"Incompatible browser version. Please upgrade your browser.",seriesHistogramTooltipFrequency:"Frequency",seriesHistogramTooltipSum:"${yName} (sum)",seriesHistogramTooltipCount:"${yName} (count)",seriesHistogramTooltipMean:"${yName} (mean)",toolbarSeriesTypeDropdown:"Chart Type",toolbarSeriesTypeOHLC:"OHLC",toolbarSeriesTypeHLC:"HLC",toolbarSeriesTypeHighLow:"High Low",toolbarSeriesTypeCandles:"Candles",toolbarSeriesTypeHollowCandles:"Hollow Candles",toolbarSeriesTypeLine:"Line",toolbarSeriesTypeLineWithMarkers:"Line with Markers",toolbarSeriesTypeStepLine:"Step Line",toolbarAnnotationsTrendLine:"Trend Line",toolbarAnnotationsFibonacciRetracement:"Fib Retracement",toolbarAnnotationsFibonacciRetracementTrendBased:"Fib Trend Based",toolbarAnnotationsHorizontalLine:"Horizontal Line",toolbarAnnotationsVerticalLine:"Vertical Line",toolbarAnnotationsParallelChannel:"Parallel Channel",toolbarAnnotationsDisjointChannel:"Disjoint Channel",toolbarAnnotationsClearAll:"Clear All",toolbarAnnotationsFillColor:"Fill Color",toolbarAnnotationsLineColor:"Line Color",toolbarAnnotationsLineStyle:"Line Style",toolbarAnnotationsLineStrokeWidth:"Line Stroke Width",toolbarAnnotationsSettings:"Settings",toolbarAnnotationsTextColor:"Text Color",toolbarAnnotationsTextSize:"Text Size",toolbarAnnotationsLock:"Lock",toolbarAnnotationsUnlock:"Unlock",toolbarAnnotationsDelete:"Delete",toolbarAnnotationsDragHandle:"Drag Toolbar",toolbarAnnotationsLineAnnotations:"Trend Lines",toolbarAnnotationsFibonacciAnnotations:"Fibonacci",toolbarAnnotationsTextAnnotations:"Text Annotations",toolbarAnnotationsShapeAnnotations:"Arrows",toolbarAnnotationsMeasurerAnnotations:"Measurers",toolbarAnnotationsCallout:"Callout",toolbarAnnotationsComment:"Comment",toolbarAnnotationsNote:"Note",toolbarAnnotationsText:"Text",toolbarAnnotationsArrow:"Arrow",toolbarAnnotationsArrowUp:"Arrow Up",toolbarAnnotationsArrowDown:"Arrow Down",toolbarAnnotationsDateRange:"Date Range",toolbarAnnotationsPriceRange:"Price Range",toolbarAnnotationsDatePriceRange:"Date and Price",toolbarAnnotationsQuickDatePriceRange:"Measure",toolbarRange1Month:"1M",toolbarRange1MonthAria:"1 month",toolbarRange3Months:"3M",toolbarRange3MonthsAria:"3 months",toolbarRange6Months:"6M",toolbarRange6MonthsAria:"6 months",toolbarRangeYearToDate:"YTD",toolbarRangeYearToDateAria:"Year to date",toolbarRange1Year:"1Y",toolbarRange1YearAria:"1 year",toolbarRangeAll:"All",toolbarRangeAllAria:"All",toolbarZoomZoomOut:"Zoom out",toolbarZoomZoomIn:"Zoom in",toolbarZoomPanLeft:"Pan left",toolbarZoomPanRight:"Pan right",toolbarZoomPanStart:"Pan to the start",toolbarZoomPanEnd:"Pan to the end",toolbarZoomReset:"Reset the zoom",contextMenuDownload:"Download",contextMenuToggleSeriesVisibility:"Toggle Visibility",contextMenuToggleOtherSeries:"Toggle Other Series",contextMenuZoomToCursor:"Zoom to here",contextMenuPanToCursor:"Pan to here",dialogHeaderChannel:"Channel",dialogHeaderLine:"Line",dialogHeaderFibonacciRange:"Fib Retracement",dialogHeaderDateRange:"Date Range",dialogHeaderPriceRange:"Price Range",dialogHeaderDatePriceRange:"Date and Price",dialogHeaderText:"Text",dialogInputAlign:"Align",dialogInputColorPicker:"Color",dialogInputColorPickerAltText:"Text Color",dialogInputFillColorPicker:"Fill",dialogInputFillColorPickerAltText:"Fill Color",dialogInputExtendChannelStart:"Extend channel start",dialogInputExtendChannelEnd:"Extend channel end",dialogInputExtendLineStart:"Extend line start",dialogInputExtendLineEnd:"Extend line end",dialogInputExtendAbove:"Extend above",dialogInputExtendBelow:"Extend below",dialogInputExtendLeft:"Extend left",dialogInputExtendRight:"Extend right",dialogInputReverse:"Reverse",dialogInputShowFill:"Show Fill",dialogInputFontSize:"Size",dialogInputFontSizeAltText:"Font Size",dialogInputLineStyle:"Dash",dialogInputPosition:"Position",dialogInputStrokeWidth:"Weight",dialogInputStrokeWidthAltText:"Line Weight",dialogInputFibonacciBands:"Bands",dialogInputFibonacciBandsAltText:"Fibonacci Bands",inputTextareaPlaceholder:"Add Text",measurerDateRangeBars:"${value}[number] bars",measurerPriceRangeValue:"${value}[number]",measurerPriceRangePercent:"${value}[percent]",measurerVolume:"Vol ${value}",tooltipPaginationStatus:"${index}[number] of ${count}[number]"},YMe=/\$\{(\w+)}(?:\[(\w+)])?/gi,L1={number:new Intl.NumberFormat("en-US"),percent:new Intl.NumberFormat("en-US",{style:"percent",minimumFractionDigits:2,maximumFractionDigits:2}),percent0to2dp:new Intl.NumberFormat("en-US",{style:"percent",minimumFractionDigits:0,maximumFractionDigits:2}),date:new Intl.DateTimeFormat("en-US",{dateStyle:"full"}),time:new Intl.DateTimeFormat("en-US",{timeStyle:"full"}),datetime:new Intl.DateTimeFormat("en-US",{dateStyle:"full",timeStyle:"full"})},KMe=({defaultValue:e,variables:t})=>e==null?void 0:e.replaceAll(YMe,(i,n,s)=>{const r=t[n],o=s!=null?L1[s]:null;return s!=null&&o==null&&De.warnOnce(`Format style [${s}] is not supported`),o!=null?o.format(r):typeof r=="number"?L1.number.format(r):r instanceof Date?L1.datetime.format(r):String(r)}),qMe=class extends _c{constructor(){super(...arguments),this.localeText=void 0,this.getLocaleText=void 0}setLocaleText(e){this.localeText!==e&&(this.localeText=e,this.dispatch("locale-changed"))}setLocaleTextFormatter(e){this.getLocaleText=e,this.getLocaleText!==e&&(this.getLocaleText=e,this.dispatch("locale-changed"))}t(e,t={}){const{localeText:i=$Me,getLocaleText:n}=this,s=i[e];return(n==null?void 0:n({key:e,defaultValue:s,variables:t}))??KMe({defaultValue:s,variables:t})??e}},Fk=class{constructor(e){this.enabled=!0,this.width=600,this.height=300;const{width:t,height:i,canvasElement:n,willReadFrequently:s=!1}=e;this.pixelRatio=e.pixelRatio??Di("devicePixelRatio")??1,this.element=n??Ot("canvas"),this.element.style.display="block",this.element.style.width=(t??this.width)+"px",this.element.style.height=(i??this.height)+"px",this.element.width=Math.round((t??this.width)*this.pixelRatio),this.element.height=Math.round((i??this.height)*this.pixelRatio),this.context=this.element.getContext("2d",{willReadFrequently:s}),this.onEnabledChange(),this.resize(t??0,i??0,this.pixelRatio),RW(this.context)}drawImage(e,t=0,i=0){return e.drawImage(this.context.canvas,t,i)}toDataURL(e){return this.element.toDataURL(e)}resize(e,t,i){if(!(e>0&&t>0))return;const{element:n,context:s}=this;n.width=Math.round(e*i),n.height=Math.round(t*i),s.setTransform(i,0,0,i,0,0),n.style.width=e+"px",n.style.height=t+"px",this.width=e,this.height=t,this.pixelRatio=i}clear(){DW(this)}destroy(){this.element.remove(),this.element.width=0,this.element.height=0,this.context.clearRect(0,0,0,0),Object.freeze(this)}onEnabledChange(){this.element&&(this.element.style.display=this.enabled?"":"none")}};I([vd(e=>e.onEnabledChange())],Fk.prototype,"enabled",2);var ZMe=class{constructor(e){this.canvas=e,this.debug=ii.create(!0,"scene"),this.layersMap=new Map,this.nextLayerId=0}get size(){return this.layersMap.size}resize(e,t,i){this.canvas.resize(e,t,i),this.layersMap.forEach(({canvas:n})=>n.resize(e,t,i))}addLayer(e){const{width:t,height:i,pixelRatio:n}=this.canvas,{name:s}=e,r=new ok({width:t,height:i,pixelRatio:n});return this.layersMap.set(r,{id:this.nextLayerId++,name:s,canvas:r}),this.debug("Scene.addLayer() - layers",this.layersMap),r}removeLayer(e){this.layersMap.has(e)&&(this.layersMap.delete(e),e.destroy(),this.debug("Scene.removeLayer() -  layers",this.layersMap))}clear(){for(const e of this.layersMap.values())e.canvas.destroy();this.layersMap.clear()}};function XMe(e){for(const t of["B","KB","MB","GB"]){if(e<1536)return`${e.toFixed(1)}${t}`;e/=1024}return`${e.toFixed(1)}TB}`}function QMe(){if(!("memory"in performance))return;const{totalJSHeapSize:e,usedJSHeapSize:t,jsHeapSizeLimit:i}=performance.memory,n=[];for(const s of[t,e,i])typeof s=="number"&&n.push(XMe(s));return`Heap ${n.join(" / ")}`}function dG(e,t,i,n,s={},r=Ue.zero){if(!ii.check("scene:stats","scene:stats:verbose"))return;const{layersRendered:o=0,layersSkipped:a=0,nodesRendered:l=0,nodesSkipped:u=0,opsPerformed:d=0,opsSkipped:p=0}=n??{},f=performance.now(),{start:m,...y}=t,C=Object.entries(y).map(([L,z])=>hG(L,z)).filter(L=>L!=null).join(" + "),w=Object.entries(s).map(([L,z])=>`${L}: ${JSON.stringify(z)}`).join(" ; "),b=ii.check("scene:stats:verbose"),S=QMe(),M=[`${hG("⏱️",m,f)} (${C})`,`${w}`,`Layers: ${b?k1(o,a):e.size}`,b?`Nodes: ${k1(l,u)}`:null,b?`Ops: ${k1(d,p)}`:null,b&&S?S:null].filter(ms),D=new Mk(L=>i.measureText(L)),R=new Map(M.map(L=>[L,D.measureLines(L)])),A=Math.max(...Array.from(R.values(),L=>L.width)),k=sDe(R.values(),L=>L.height),F=2+r.x;i.save(),i.fillStyle="white",i.fillRect(F,0,A,k),i.fillStyle="black";let P=0;for(const[L,z]of R.entries())P+=z.height,i.fillText(L,F,P);i.restore()}function JMe(e){const t=jS(Di("agChartsSceneDebug")),i=[];for(const n of t)n==="layout"?i.push("seriesRoot","legend","root",/.*Axis-\d+-axis.*/):i.push(n);e.debugNodeSearch=i}function eDe(e,t){e.save();for(const[i,n]of Object.entries(t)){const s=mn.toCanvas(n);if(!s){De.log(`Scene.render() - no bbox for debugged node [${i}].`);continue}e.globalAlpha=.8,e.strokeStyle="red",e.lineWidth=1,e.strokeRect(s.x,s.y,s.width,s.height),e.fillStyle="red",e.strokeStyle="white",e.font="16px sans-serif",e.textBaseline="top",e.textAlign="left",e.lineWidth=2,e.strokeText(i,s.x,s.y,s.width),e.fillText(i,s.x,s.y,s.width)}e.restore()}var tDe=new Set,iDe=new Set(["gradient","zIndex","clipRect","cachedBBox","childNodeCounts","path","__zIndex","name","__scalingCenterX","__scalingCenterY","__rotationCenterX","__rotationCenterY","_previousDatum","__fill","__lineDash","borderPath","borderClipPath","_clipPath"]);function nDe(e){const{...t}=e;for(const i of Object.keys(t))iDe.has(i)||typeof t[i]!="number"&&typeof t[i]!="string"&&typeof t[i]!="boolean"&&(tDe.add(i),delete t[i]);return t}function Yw(e,t){if(!ii.check(!0,"scene"))return{};let i=0;return{node:t==="json"?nDe(e):e,name:e.name??e.id,dirty:e.dirty,...Array.from(e.children(),n=>Yw(n,t)).reduce((n,s)=>{let{name:r}=s;const{node:{visible:o,opacity:a,zIndex:l,translationX:u,translationY:d,rotation:p,scalingX:f,scalingY:m},node:y}=s;(!o||a<=0)&&(r=`(${r})`),dt.is(y)&&y.renderToOffscreenCanvas&&(r=`*${r}*`);const C=Array.isArray(l)?`(${l.join(", ")})`:l,w=[`${(i++).toString().padStart(3,"0")}|`,`${r??"<unknown>"}`,`z: ${C}`,u&&`x: ${u}`,d&&`y: ${d}`,p&&`r: ${p}`,f!=null&&f!==1&&`sx: ${f}`,m!=null&&m!==1&&`sy: ${m}`].filter(M=>!!M).join(" ");let b=w,S=1;for(;n[b]!=null&&S<100;)b=`${w} (${S++})`;return n[b]=s,n},{})}}function b6(e){if(!e.dirty)return{dirtyTree:{},paths:[]};const t=Array.from(e.children(),s=>b6(s)).filter(s=>s.paths.length>0),i=dt.is(e)?e.name??e.id:e.id,n=t.length?t.flatMap(s=>s.paths).map(s=>`${i}.${s}`):[i];return{dirtyTree:{name:i,node:e,dirty:e.dirty,...t.map(s=>s.dirtyTree).filter(s=>s.dirty!=null).reduce((s,r)=>(s[r.name??"<unknown>"]=r,s),{})},paths:n}}function k1(e,t){const i=e+t;return`${e} / ${i} (${Math.round(100*e/i)}%)`}function hG(e,t,i){const n=i!=null?i-t:t;return`${e}: ${Math.round(n*100)/100}ms`}function sDe(e,t){let i=0;for(const n of e)i+=t(n);return i}var EM=class{constructor(e){this.debug=ii.create(!0,"scene"),this.id=ro(this),this.root=null,this.pendingSize=null,this.isDirty=!1,this.updateDebugFlags(),this.canvas=new Fk(e),this.layersManager=new ZMe(this.canvas)}get width(){var e;return((e=this.pendingSize)==null?void 0:e[0])??this.canvas.width}get height(){var e;return((e=this.pendingSize)==null?void 0:e[1])??this.canvas.height}get pixelRatio(){var e;return((e=this.pendingSize)==null?void 0:e[2])??this.canvas.pixelRatio}setContainer(e){var i;const{element:t}=this.canvas;return(i=t.parentElement)==null||i.removeChild(t),e.appendChild(t),this}setRoot(e){var t;return this.root===e?this:(this.isDirty=!0,(t=this.root)==null||t._setLayerManager(),this.root=e,e&&(e.visible=!0,e._setLayerManager(this.layersManager)),this)}updateDebugFlags(){ii.inDevelopmentMode(()=>Fc._debugEnabled=!0)}clear(){this.canvas.clear()}attachNode(e){return this.appendChild(e),()=>this.removeChild(e)}appendChild(e){var t;return(t=this.root)==null||t.appendChild(e),this}removeChild(e){var t;return(t=this.root)==null||t.removeChild(e),this}download(e,t){Hwe(this.canvas.toDataURL(t),(e==null?void 0:e.trim())??"image")}getDataURL(e){return this.canvas.toDataURL(e)}resize(e,t,i){return e=Math.round(e),t=Math.round(t),i??(i=this.pixelRatio),e>0&&t>0&&(e!==this.width||t!==this.height||i!==this.pixelRatio)?(this.pendingSize=[e,t,i],this.isDirty=!0,!0):!1}render(e){var C;const{debugSplitTimes:t={start:performance.now()},extraDebugStats:i,seriesRect:n}=e??{},{canvas:s,canvas:{context:r}={},root:o,pendingSize:a,width:l,height:u,pixelRatio:d}=this;if(!r)return;const p=performance.now();let f=!1;if(a&&(f=!0,this.layersManager.resize(...a),this.pendingSize=null),o&&!o.visible){this.isDirty=!1;return}if((o==null?void 0:o.dirty)===!1&&!this.isDirty){this.debug.check()&&this.debug("Scene.render() - no-op",{tree:Yw(o,"console")}),dG(this.layersManager,t,r,void 0,i,n);return}const m={ctx:r,width:l,height:u,devicePixelRatio:d,debugNodes:{}};ii.check("scene:stats:verbose")&&(m.stats={layersRendered:0,layersSkipped:0,nodesRendered:0,nodesSkipped:0,opsPerformed:0,opsSkipped:0}),JMe(m);let y=!1;if(((o==null?void 0:o.dirty)!==!1||f)&&(y=!0,s.clear()),o&&ii.check("scene:dirtyTree")){const{dirtyTree:w,paths:b}=b6(o);ii.create("scene:dirtyTree")("Scene.render() - dirtyTree",{dirtyTree:w,paths:b})}if(o&&y){if(o.visible&&o.preRender(m),this.debug.check()){const w=Yw(o,"console");this.debug("Scene.render() - before",{canvasCleared:y,tree:w})}o.visible&&(r.save(),o.render(m),r.restore())}t["✍️"]=performance.now()-p,(C=r.verifyDepthZero)==null||C.call(r),this.isDirty=!1,dG(this.layersManager,t,r,m.stats,i,n),eDe(r,m.debugNodes),o&&this.debug.check()&&this.debug("Scene.render() - after",{tree:Yw(o,"console"),canvasCleared:y})}toSVG(){const{root:e,width:t,height:i}=this;if(e!=null)return Fc.toSVG(e,t,i)}strip(){const{context:e,pixelRatio:t}=this.canvas;e.setTransform(t,0,0,t,0,0),this.layersManager.clear(),this.setRoot(null),this.isDirty=!1}destroy(){this.strip(),this.canvas.destroy(),Object.assign(this,{canvas:void 0})}};EM.className="Scene";function rDe(e,t){return"context"in e}function Ok(e,t,i){return rDe(e)&&i[0]!=null&&typeof i[0]=="object"&&(i[0].context=e.context),t(...i)}var oDe=class{constructor(){this.cache=new WeakMap}call(e,t,...i){let n,s=this.cache.get(t);try{n=JSON.stringify(i)}catch{return this.invoke(e,t,i,s)}return s==null&&(s=new Map,this.cache.set(t,s)),s.has(n)?s.get(n):this.invoke(e,t,i,s,n)}invoke(e,t,i,n,s){try{const r=Ok(e,t,i);return n&&s!=null&&n.set(s,r),r}catch(r){De.warnOnce("User callback errored, ignoring",r);return}}invalidateCache(){this.cache=new WeakMap}},aDe=class extends Cd{constructor(e,t){super(),this.annotationRoot=e,this.fireChartEvent=t,this.mementoOriginatorKey="annotations",this.annotations=[]}createMemento(){return this.annotations}guardMemento(e){return e==null||xt(e)}restoreMemento(e,t,i){this.annotations=this.cleanData(i??[]).map(n=>{const s=this.getAnnotationTypeStyles(n.type);return Vt(n,s)}),this.listeners.dispatch("restore-annotations",{type:"restore-annotations",annotations:this.annotations})}updateData(e){this.annotations=this.cleanData(e??[])}fireChangedEvent(){this.fireChartEvent({type:"annotations",annotations:ji([...this.annotations])})}attachNode(e){return this.annotationRoot.append(e),()=>{var t;return(t=this.annotationRoot)==null||t.removeChild(e),this}}setAnnotationStyles(e){this.styles=e}getAnnotationTypeStyles(e){var t;return(t=this.styles)==null?void 0:t[e]}cleanData(e){for(const t of e)"textAlign"in t&&delete t.textAlign;return e}},w6=(e=>(e[e.CHART_BACKGROUND=0]="CHART_BACKGROUND",e[e.AXIS_GRID=1]="AXIS_GRID",e[e.AXIS=2]="AXIS",e[e.ZOOM_SELECTION=3]="ZOOM_SELECTION",e[e.SERIES_CROSSLINE_RANGE=4]="SERIES_CROSSLINE_RANGE",e[e.SERIES_LAYER=5]="SERIES_LAYER",e[e.AXIS_FOREGROUND=6]="AXIS_FOREGROUND",e[e.SERIES_CROSSHAIR=7]="SERIES_CROSSHAIR",e[e.SERIES_CROSSLINE_LINE=8]="SERIES_CROSSLINE_LINE",e[e.SERIES_ANNOTATION=9]="SERIES_ANNOTATION",e[e.CHART_ANNOTATION=10]="CHART_ANNOTATION",e[e.CHART_ANNOTATION_FOCUSED=11]="CHART_ANNOTATION_FOCUSED",e[e.STATUS_BAR=12]="STATUS_BAR",e[e.SERIES_LABEL=13]="SERIES_LABEL",e[e.LEGEND=14]="LEGEND",e[e.NAVIGATOR=15]="NAVIGATOR",e[e.FOREGROUND=16]="FOREGROUND",e))(w6||{}),lDe=class{constructor(e){this.sceneRoot=e,this.axes=new Map,this.axisGridGroup=new dt({name:"Axes-Grids",zIndex:1}),this.axisGroup=new dt({name:"Axes",zIndex:2}),this.axisLabelGroup=new dt({name:"Axes-Labels",zIndex:13}),this.axisCrosslineRangeGroup=new dt({name:"Axes-Crosslines-Range",zIndex:4}),this.axisCrosslineLineGroup=new dt({name:"Axes-Crosslines-Line",zIndex:8}),this.axisCrosslineLabelGroup=new dt({name:"Axes-Crosslines-Label",zIndex:13}),this.sceneRoot.appendChild(this.axisGroup),this.sceneRoot.appendChild(this.axisGridGroup),this.sceneRoot.appendChild(this.axisLabelGroup),this.sceneRoot.appendChild(this.axisCrosslineRangeGroup),this.sceneRoot.appendChild(this.axisCrosslineLineGroup),this.sceneRoot.appendChild(this.axisCrosslineLabelGroup)}updateAxes(e,t){var n;const i={axisNode:this.axisGroup,gridNode:this.axisGridGroup,labelNode:this.axisLabelGroup,crossLineRangeNode:this.axisCrosslineRangeGroup,crossLineLineNode:this.axisCrosslineLineGroup,crossLineLabelNode:this.axisCrosslineLabelGroup};for(const s of e)t.includes(s)||(s.detachAxis(i),s.destroy());for(const s of t)e!=null&&e.includes(s)||s.attachAxis(i);this.axes.clear();for(const s of t){const r=s.createAxisContext();this.axes.has(r.direction)?(n=this.axes.get(r.direction))==null||n.push(r):this.axes.set(r.direction,[r])}}getAxisContext(e){return this.axes.get(e)??[]}destroy(){this.axes.clear(),this.sceneRoot.removeChild(this.axisGroup),this.sceneRoot.removeChild(this.axisGridGroup)}},TM=class extends _c{constructor(e){super(),this.animationManager=e,this.dispatchOnlyLatest=!0,this.dispatchThrottle=0,this.requestThrottle=300,this.isLoadingInitialData=!1,this.isLoadingData=!1,this.freshRequests=[],this.requestCounter=0,this.debug=ii.create(!0,"data-model","data-source"),this.throttledFetch=this.createThrottledFetch(this.requestThrottle),this.throttledDispatch=this.createThrottledDispatch(this.dispatchThrottle)}updateCallback(e){typeof e=="function"&&(this.debug("DataService - updated data source callback"),this.dataSourceCallback=e,this.isLoadingInitialData=!0,this.animationManager.skip(),this.dispatch("data-source-change"))}clearCallback(){this.dataSourceCallback=void 0}load(e){this.isLoadingData=!0,this.throttledFetch(e)}isLazy(){return this.dataSourceCallback!=null}isLoading(){return this.isLazy()&&(this.isLoadingInitialData||this.isLoadingData)}createThrottledFetch(e){return $z(t=>this.fetch(t).catch(i=>De.error("callback failed",i)),e,{leading:!1,trailing:!0})}createThrottledDispatch(e){return $z((t,i)=>{this.debug(`DataService - dispatching 'data-load' | ${t}`),this.dispatch("data-load",{type:"data-load",data:i})},e,{leading:!0,trailing:!0})}async fetch(e){if(!this.dataSourceCallback)throw new Error("DataService - [dataSource.getData] callback not initialised");const t=performance.now(),i=this.requestCounter++;this.debug(`DataService - requesting | ${i}`),this.freshRequests.push(i);let n;try{n=await this.dataSourceCallback(e),this.debug(`DataService - response | ${performance.now()-t}ms | ${i}`)}catch(r){this.debug(`DataService - request failed | ${i}`),De.errorOnce(`DataService - request failed | [${r}]`)}this.isLoadingInitialData=!1;const s=this.freshRequests.findIndex(r=>r===i);if(s===-1||this.dispatchOnlyLatest&&s!==this.freshRequests.length-1){this.debug(`DataService - discarding stale request | ${i}`);return}this.freshRequests=this.freshRequests.slice(s+1),this.freshRequests.length===0&&(this.isLoadingData=!1),Array.isArray(n)?this.throttledDispatch(i,n):this.dispatch("data-error")}};I([zr({newValue(e){this.throttledDispatch=this.createThrottledDispatch(e)}})],TM.prototype,"dispatchThrottle",2);I([zr({newValue(e){this.throttledFetch=this.createThrottledFetch(e)}})],TM.prototype,"requestThrottle",2);function cDe(e,t){return i=>Number(e)*(1-i)+Number(t)*i}function S6(e,t){if(typeof e=="string")try{e=ci.fromString(e)}catch{e=ci.fromArray([0,0,0])}if(typeof t=="string")try{t=ci.fromString(t)}catch{t=ci.fromArray([0,0,0])}return i=>ci.mix(e,t,i).toRgbaString()}var VA={};_a(VA,{easeIn:()=>uDe,easeInOut:()=>dDe,easeInOutQuad:()=>fDe,easeInQuad:()=>hDe,easeOut:()=>Qv,easeOutQuad:()=>pDe,inverseEaseOut:()=>M6,linear:()=>x6});var x6=e=>e,uDe=e=>1-Math.cos(e*Math.PI/2),Qv=e=>Math.sin(e*Math.PI/2),dDe=e=>-(Math.cos(e*Math.PI)-1)/2,hDe=e=>e*e,pDe=e=>1-(1-e)**2,fDe=e=>e<.5?2*e*e:1-(-2*e+2)**2/2,M6=e=>2*Math.asin(e)/Math.PI,tx=.2,Df=["initial","remove","update","add","trailing","end","none"],Jv={initial:{animationDuration:1,animationDelay:0},add:{animationDuration:.25,animationDelay:.75},remove:{animationDuration:.25,animationDelay:0},update:{animationDuration:.5,animationDelay:.25},trailing:{animationDuration:tx,animationDelay:1,skipIfNoEarlierAnimations:!0},end:{animationDelay:1+tx,animationDuration:0,skipIfNoEarlierAnimations:!0},none:{animationDuration:0,animationDelay:0}},D6=(e=>(e.Loop="loop",e.Reverse="reverse",e))(D6||{});function gDe(e){return e.every(t=>t instanceof Fc)}function AM(e){return gDe(e)?{nodes:e,selections:[]}:{nodes:[],selections:e}}function WA(e,t){return e===t?!0:Array.isArray(e)&&Array.isArray(t)?e.length===t.length&&e.every((i,n)=>WA(i,t[n])):VS(e)&&VS(t)?e.equals(t):Ln(e)&&Ln(t)?lk(e,t,WA):!1}var R6=class{constructor(e){var i,n,s;this.isComplete=!1,this.elapsed=0,this.iteration=0,this.isPlaying=!1,this.isReverse=!1,this.id=e.id,this.groupId=e.groupId,this.autoplay=e.autoplay??!0,this.ease=e.ease??x6,this.phase=e.phase;const t=e.duration??Jv[this.phase].animationDuration;this.duration=t*e.defaultDuration,this.delay=(e.delay??0)*e.defaultDuration,this.onComplete=e.onComplete,this.onPlay=e.onPlay,this.onStop=e.onStop,this.onUpdate=e.onUpdate,this.interpolate=this.createInterpolator(e.from,e.to),this.from=e.from,e.skip===!0&&((i=this.onUpdate)==null||i.call(this,e.to,!1,this),(n=this.onStop)==null||n.call(this,this),(s=this.onComplete)==null||s.call(this,this),this.isComplete=!0),e.collapsable!==!1&&(this.duration=this.checkCollapse(e,this.duration))}checkCollapse(e,t){return WA(e.from,e.to)?0:t}play(e=!1){var t,i;this.isPlaying||this.isComplete||(this.isPlaying=!0,(t=this.onPlay)==null||t.call(this,this),this.autoplay&&(this.autoplay=!1,e&&((i=this.onUpdate)==null||i.call(this,this.from,!0,this))))}stop(){var e;this.isPlaying=!1,this.isComplete||(this.isComplete=!0,(e=this.onStop)==null||e.call(this,this))}update(e){var s,r;if(this.isComplete)return e;!this.isPlaying&&this.autoplay&&this.play(!0);const t=this.elapsed;if(this.elapsed+=e,this.delay>this.elapsed)return 0;const i=this.interpolate(this.isReverse?1-this.delta:this.delta);(s=this.onUpdate)==null||s.call(this,i,!1,this);const n=this.delay+this.duration;return this.elapsed>=n?(this.stop(),this.isComplete=!0,(r=this.onComplete)==null||r.call(this,this),e-(n-t)):0}get delta(){return this.ease(ft(0,(this.elapsed-this.delay)/this.duration,1))}createInterpolator(e,t){if(typeof t!="object"||VS(t))return this.interpolateValue(e,t);const i=[];for(const n of Object.keys(t)){const s=this.interpolateValue(e[n],t[n]);s!=null&&i.push([n,s])}return n=>{const s={};for(const[r,o]of i)s[r]=o(n);return s}}interpolateValue(e,t){if(!(e==null||t==null)){if(VS(e))return i=>e[hM](t,i);try{switch(typeof e){case"number":return cDe(e,t);case"string":return S6(e,t);case"boolean":if(e===t)return()=>e;break;case"object":return()=>e}}catch{}throw new Error(`Unable to interpolate values: ${e}, ${t}`)}}},pG=class{constructor(e){this.maxAnimationTime=e,this.debug=ii.create(!0,"animation"),this.controllers=new Map,this.stoppedCbs=new Set,this.currentPhase=0,this.phases=new Map(Df.map(t=>[t,[]])),this.skipAnimations=!1,this.animationTimeConsumed=0,this.isReady=!1}get size(){return this.controllers.size}get consumedTimeMs(){return this.animationTimeConsumed}isActive(){return this.controllers.size>0}getActiveControllers(){return this.phases.get(Df[this.currentPhase])??[]}checkOverlappingId(e){e!=null&&this.controllers.has(e)&&(this.controllers.get(e).stop(),this.debug(`Skipping animation batch due to update of existing animation: ${e}`),this.skip())}addAnimation(e){var i;if(e.isComplete)return;if(Df.indexOf(e.phase)<this.currentPhase){this.debug("Skipping animation due to being for an earlier phase",e.id),e.stop();return}this.controllers.set(e.id,e),(i=this.phases.get(e.phase))==null||i.push(e)}removeAnimation(e){this.controllers.delete(e.id);const t=this.phases.get(e.phase),i=t==null?void 0:t.indexOf(e);i!=null&&i>=0&&(t==null||t.splice(i,1))}progress(e){if(!this.isReady)return;let t=e===0?.01:e;const i=()=>{const u=Df[this.currentPhase];return{phaseControllers:[...this.getActiveControllers()],phase:u,phaseMeta:Jv[u]}};let{phase:n,phaseControllers:s,phaseMeta:r}=i();const o=()=>Df[this.currentPhase]==null,a=()=>{for({phase:n,phaseControllers:s,phaseMeta:r}=i();!o()&&s.length===0;)this.currentPhase++,{phase:n,phaseControllers:s,phaseMeta:r}=i(),this.debug(`AnimationBatch - phase changing to ${n}`,{unusedTime:t},s)},l=this.controllers.size;this.debug(`AnimationBatch - ${e}ms; phase ${n} with ${s==null?void 0:s.length} of ${l}`);do{const u=t,d=r.skipIfNoEarlierAnimations&&this.animationTimeConsumed===0;let p=0;for(const f of s)d?f.stop():t=Math.min(f.update(u),t),f.isComplete&&(p++,this.removeAnimation(f));this.animationTimeConsumed+=u-t,this.debug(`AnimationBatch - updated ${s.length} controllers; ${p} completed`),this.debug(`AnimationBatch - animationTimeConsumed: ${this.animationTimeConsumed}`),a()}while(t>0&&!o());this.animationTimeConsumed>this.maxAnimationTime&&(this.debug("Animation batch exceeded max animation time, skipping",[...this.controllers]),this.stop())}ready(){if(this.isReady)return;this.isReady=!0,this.debug(`AnimationBatch - ready; skipped: ${this.skipAnimations}`,[...this.controllers]);let e=!0;for(const[,t]of this.controllers)if(t.duration>0&&Jv[t.phase].skipIfNoEarlierAnimations!==!0){e=!1;break}if(!e)for(const[,t]of this.controllers)t.autoplay&&t.play(!0)}skip(e=!0){if(this.skipAnimations===!1&&e===!0){for(const t of this.controllers.values())t.stop();this.controllers.clear()}this.skipAnimations=e}play(){for(const e of this.controllers.values())e.play()}stop(){for(const e of this.controllers.values())try{e.stop(),this.removeAnimation(e)}catch(t){De.error("Error during animation stop",t)}this.dispatchStopped()}stopByAnimationId(e){if(e!=null&&this.controllers.has(e)){const t=this.controllers.get(e);t&&(t.stop(),this.removeAnimation(t))}}stopByAnimationGroupId(e){for(const t of this.controllers.values())t.groupId===e&&this.stopByAnimationId(t.id)}dispatchStopped(){this.stoppedCbs.forEach(e=>e()),this.stoppedCbs.clear()}isSkipped(){return this.skipAnimations}destroy(){this.stop(),this.controllers.clear()}},E6=(e=>(e[e.Default=32]="Default",e[e.ZoomDrag=16]="ZoomDrag",e[e.Annotations=8]="Annotations",e[e.ContextMenu=4]="ContextMenu",e[e.Animation=2]="Animation",e[e.AnnotationsSelected=1]="AnnotationsSelected",e[e.Clickable=41]="Clickable",e[e.Focusable=34]="Focusable",e[e.Keyable=43]="Keyable",e[e.ContextMenuable=36]="ContextMenuable",e[e.AnnotationsMoveable=9]="AnnotationsMoveable",e[e.AnnotationsDraggable=57]="AnnotationsDraggable",e[e.ZoomDraggable=50]="ZoomDraggable",e[e.ZoomClickable=34]="ZoomClickable",e[e.ZoomWheelable=59]="ZoomWheelable",e[e.All=63]="All",e))(E6||{}),T6=class{constructor(){this.stateQueue=34}pushState(e){this.stateQueue|=e}popState(e){this.stateQueue&=~e}isState(e){return!!(this.stateQueue&-this.stateQueue&e)}};function fG(e){return e==null?!0:!isNaN(e)&&e>=0&&e<=2}var A6=class{constructor(e,t){this.interactionManager=e,this.chartUpdateMutex=t,this.defaultDuration=1e3,this.batch=new pG(this.defaultDuration*1.5),this.debug=ii.create(!0,"animation"),this.events=new QL,this.rafAvailable=typeof requestAnimationFrame<"u",this.isPlaying=!0,this.requestId=null,this.skipAnimations=!0,this.currentAnonymousAnimationId=0}addListener(e,t){return this.events.on(e,t)}animate(e){const t=this.batch;try{t.checkOverlappingId(e.id)}catch(a){this.failsafeOnError(a);return}let{id:i}=e;i==null&&(i=`__${this.currentAnonymousAnimationId}`,this.currentAnonymousAnimationId+=1);const n=this.isSkipped()||e.phase==="none";n&&this.debug("AnimationManager - skipping animation");const{delay:s,duration:r}=e;if(!fG(s))throw new Error(`Animation delay of ${s} is unsupported (${i})`);if(!fG(r))throw new Error(`Animation duration of ${r} is unsupported (${i})`);const o=new R6({...e,id:i,skip:n,autoplay:this.isPlaying?e.autoplay:!1,phase:e.phase,defaultDuration:this.defaultDuration});if(!this.forceTimeJump(o,this.defaultDuration))return this.batch.addAnimation(o),o}play(){if(!this.isPlaying){this.isPlaying=!0,this.debug("AnimationManager.play()");try{this.batch.play()}catch(e){this.failsafeOnError(e)}this.requestAnimation()}}stop(){this.isPlaying=!1,this.cancelAnimation(),this.debug("AnimationManager.stop()"),this.batch.stop()}stopByAnimationId(e){try{this.batch.stopByAnimationId(e)}catch(t){this.failsafeOnError(t)}}stopByAnimationGroupId(e){try{this.batch.stopByAnimationGroupId(e)}catch(t){this.failsafeOnError(t)}}reset(){this.isPlaying?(this.stop(),this.play()):this.stop()}skip(e=!0){this.skipAnimations=e}isSkipped(){return!this.rafAvailable||this.skipAnimations||this.batch.isSkipped()}isActive(){return this.isPlaying&&this.batch.isActive()}skipCurrentBatch(){this.debug.check()&&this.debug("AnimationManager - skipCurrentBatch()",{stack:new Error().stack}),this.batch.skip()}isSkippingFrames(){return!0}scheduleAnimationFrame(e){this.requestId=Di().requestAnimationFrame(t=>{e(t).catch(i=>De.error(i))})}forceTimeJump(e,t){return!1}requestAnimation(){if(!this.rafAvailable||!this.batch.isActive()||this.requestId!==null)return;let e;const t=async i=>{const n=()=>{const s=i-(e??i);e=i,this.debug("AnimationManager - onAnimationFrame()",{controllersCount:this.batch.size,deltaTime:s}),this.interactionManager.pushState(2);try{this.batch.progress(s)}catch(r){this.failsafeOnError(r)}this.events.emit("animation-frame",{type:"animation-frame",deltaMs:s})};this.isSkippingFrames()?await this.chartUpdateMutex.acquireImmediately(n):await this.chartUpdateMutex.acquire(n),this.batch.isActive()?this.scheduleAnimationFrame(t):(this.batch.stop(),this.events.emit("animation-stop",{type:"animation-stop",deltaMs:this.batch.consumedTimeMs}))};this.events.emit("animation-start",{type:"animation-start",deltaMs:0}),this.scheduleAnimationFrame(t)}cancelAnimation(){this.requestId!==null&&(cancelAnimationFrame(this.requestId),this.requestId=null,this.startBatch())}failsafeOnError(e,t=!0){De.error("Error during animation, skipping animations",e),t&&this.cancelAnimation()}startBatch(e){this.debug(`AnimationManager - startBatch() with skipAnimations=${e}.`),this.reset(),this.batch.destroy(),this.batch=new pG(this.defaultDuration*1.5),e===!0&&this.batch.skip()}endBatch(){this.batch.isActive()?(this.batch.ready(),this.requestAnimation()):(this.interactionManager.popState(2),this.batch.isSkipped()&&this.batch.skip(!1))}onBatchStop(e){this.batch.stoppedCbs.add(e)}destroy(){this.stop(),this.events.clear()}},I6=class extends Cd{seriesEvent(e){this.listeners.dispatch(e,{type:e})}seriesKeyNavZoom(e,t){const i={type:"series-keynav-zoom",delta:e,widgetEvent:t};this.listeners.dispatch("series-keynav-zoom",i)}legendItemClick(e,t,i,n,s){const r={type:"legend-item-click",legendType:e,series:t,itemId:i,enabled:n,legendItemName:s};this.listeners.dispatch("legend-item-click",r)}legendItemDoubleClick(e,t,i,n,s,r){const o={type:"legend-item-double-click",legendType:e,series:t,itemId:i,enabled:n,legendItemName:r,numVisibleItems:s};this.listeners.dispatch("legend-item-double-click",o)}},L6=class{constructor(){this.defaultActions=[],this.disabledActions=new Set,this.hiddenActions=new Set,this.listeners=new _c}static check(e,t){return t.type===e}static checkCallback(e,t,i){return e===t}dispatchContext(e,t,i,n){const{sourceEvent:s}=t;if(s.defaultPrevented)return;const r=(n==null?void 0:n.x)??t.canvasX,o=(n==null?void 0:n.y)??t.canvasY,a={type:e,x:r,y:o,context:i,sourceEvent:s};this.listeners.dispatch("",a)}addListener(e){return this.listeners.addListener("",e)}filterActions(e){return this.defaultActions.filter(t=>t.id!=null&&!this.hiddenActions.has(t.id)&&["all",e].includes(t.type))}registerDefaultAction(e){const t=e.id!=null&&!this.defaultActions.some(({id:i})=>i===e.id);return t&&this.defaultActions.push(e),()=>{const i=t?this.defaultActions.findIndex(({id:n})=>n===e.id):-1;i!==-1&&this.defaultActions.splice(i,1)}}enableAction(e){this.disabledActions.delete(e)}disableAction(e){this.disabledActions.add(e)}showAction(e){this.hiddenActions.add(e)}hideAction(e){this.hiddenActions.delete(e)}isDisabled(e){return this.disabledActions.has(e)}},k6=class extends Cd{constructor(){super(...arguments),this.highlightStates=new Ig}updateHighlight(e,t){const{activeHighlight:i}=this;this.highlightStates.set(e,t),this.activeHighlight=this.highlightStates.stateValue(),this.isEqual(this.activeHighlight,i)||this.listeners.dispatch("highlight-change",{type:"highlight-change",currentHighlight:this.activeHighlight,previousHighlight:i,callerId:e})}getActiveHighlight(){return this.activeHighlight}isEqual(e,t){return e===t||e!=null&&t!=null&&(e==null?void 0:e.series)===(t==null?void 0:t.series)&&(e==null?void 0:e.itemId)===(t==null?void 0:t.itemId)&&(e==null?void 0:e.datum)===(t==null?void 0:t.datum)}};function gG(e,t){if(e==null||t.length===0)return[!1,!1];const i=e.valueOf(),n=t[0],s=t[t.length-1];if(typeof n=="string")return[i===n,i===s];let r=n.valueOf(),o=s.valueOf();return r>o&&([r,o]=[o,r]),[i===r,i===o]}function Qu(e,t,i,n,s){const{xValue:r,yValue:o}=e,[a,l]=gG(o,s),[u,d]=gG(r,n);return{xKey:t,yKey:i,xValue:r,yValue:o,first:u,last:d,min:a,max:l}}function P6(e,[t,i],n){const s=gW(0,e-1,o=>{var l;const a=((l=n(o))==null?void 0:l[1])??NaN;return!Number.isFinite(a)||a>t})??0;let r=fW(0,e-1,o=>{var l;const a=((l=n(o))==null?void 0:l[0])??NaN;return!Number.isFinite(a)||a<i})??e-1;return r=Math.min(r+1,e),[s,r]}function Nk(e,t,i){var s,r;if(i){const{x:o,y:a,width:l,height:u}=i;return{canvasX:o+l/2,canvasY:a+u/2}}const n=((s=t.yBar)==null?void 0:s.upperPoint)??t.midPoint??((r=e.datumMidPoint)==null?void 0:r.call(e,t));if(n){const{x:o,y:a}=mn.toCanvasPoint(e.contentGroup,n.x,n.y);return{canvasX:Math.round(o),canvasY:Math.round(a)}}}function F6(e,t,i,n,s){let r=-1,o=0,a=0,l=!1;for(;o<n&&r<=t-e;){r+=1;const u=i+a;if(l||(a*=-1),a>=0&&(a+=1),l&&a<0&&(a-=1),u<e||u>t){l=!0;continue}s(u)&&(o+=1)}return o}var ix=class{constructor(e,t,i){this.domManager=t,this.tooltip=i,this.stateTracker=new Ig,this.suppressState=new Ig(!1),this.appliedState=null,this.destroyFns=[],this.destroyFns.push(i.setup(e,t),t.addListener("hidden",()=>this.tooltip.hide()))}destroy(){this.destroyFns.forEach(e=>e())}updateTooltip(e,t,i,n){var s;i??(i=(s=this.stateTracker.get(e))==null?void 0:s.content),this.stateTracker.set(e,{meta:t,content:i,pagination:n}),this.applyStates()}removeTooltip(e){this.stateTracker.delete(e),this.applyStates()}suppressTooltip(e){this.suppressState.set(e,!0)}unsuppressTooltip(e){this.suppressState.delete(e)}applyStates(){var s;const e=this.stateTracker.stateId(),t=e?this.stateTracker.get(e):void 0;if(this.suppressState.stateValue()||(t==null?void 0:t.meta)==null||(t==null?void 0:t.content)==null){this.appliedState=null,this.tooltip.hide();return}const i=this.domManager.getBoundingClientRect(),n=this.tooltip.bounds==="extended"?this.domManager.getOverlayClientRect():i;if(((s=this.appliedState)==null?void 0:s.content)===(t==null?void 0:t.content)){const r=this.tooltip.isVisible();this.tooltip.show(n,i,t==null?void 0:t.meta,null,void 0,r)}else this.tooltip.show(n,i,t==null?void 0:t.meta,t==null?void 0:t.content,t==null?void 0:t.pagination);this.appliedState=t}static makeTooltipMeta(e,t,i,n){var C;const{canvasX:s,canvasY:r}=e,o=t.properties.tooltip,{placement:a,defaultPlacement:l,anchorTo:u,defaultAnchorTo:d,xOffset:p,yOffset:f}=o.position,m=Nk(t,i,n);return{canvasX:s,canvasY:r,nodeCanvasX:(m==null?void 0:m.canvasX)??s,nodeCanvasY:(m==null?void 0:m.canvasY)??r,enableInteraction:((C=o.interaction)==null?void 0:C.enabled)??!1,showArrow:o.showArrow,position:{placement:a,defaultPlacement:l,anchorTo:u,defaultAnchorTo:d,xOffset:p,yOffset:f}}}isEnteringInteractiveTooltip(e){const{tooltip:t}=this,i=e.relatedTarget;return t.interactive&&t.enabled&&t.isVisible()&&t.contains(i)}},mG=3,mDe=505,yG=30;function P1(e,t,i){const{offsetX:n,offsetY:s,clientX:r,clientY:o,currentX:a,currentY:l,sourceEvent:u}=i;return{type:t,device:e,offsetX:n,offsetY:s,clientX:r,clientY:o,currentX:a,currentY:l,sourceEvent:u}}function vG(e,t){const i=e*e+t*t,n=mG*mG;return i>=n}function yDe(e,t){const i=e.clientX-t.clientX,n=e.clientY-t.clientY,s=i*i+n*n,r=yG*yG;return s<r}var O6=class{constructor(e){this.destroyFns=[],this.listeners=new _c,this.isDragging=!1,this.touch={distanceTravelledX:0,distanceTravelledY:0,clientX:0,clientY:0},this.destroyFns.push(e.addListener("touchstart",this.onTouchStart.bind(this)),e.addListener("touchmove",this.onTouchMove.bind(this)),e.addListener("touchend",this.onTouchEnd.bind(this)),e.addListener("mousemove",this.onMouseMove.bind(this)),e.addListener("dblclick",this.onDblClick.bind(this)),e.addListener("drag-start",this.onDragStart.bind(this)),e.addListener("drag-move",this.onDragMove.bind(this)),e.addListener("drag-end",this.onDragEnd.bind(this)))}destroy(){this.destroyFns.forEach(e=>e()),this.listeners.destroy()}addListener(e,t){return this.listeners.addListener(e,t)}dispatch(e){this.listeners.dispatch(e.type,e)}onTouchStart(e){const{clientX:t,clientY:i}=e.sourceEvent.targetTouches[0]??{clientX:1/0,clientY:1/0};this.touch.distanceTravelledX=0,this.touch.distanceTravelledY=0,this.touch.clientX=t,this.touch.clientY=i}onTouchMove(e){const{clientX:t,clientY:i}=e.sourceEvent.targetTouches[0]??{clientX:1/0,clientY:1/0};this.touch.distanceTravelledX+=Math.abs(this.touch.clientX-t),this.touch.distanceTravelledY+=Math.abs(this.touch.clientY-i),this.touch.clientX=t,this.touch.clientY=i}onTouchEnd(e){e.sourceEvent.preventDefault()}onMouseMove(e){this.dispatch(e)}onDblClick(e){this.dispatch({device:"mouse",...e})}onDragStart(e){this.dragStartEvent=e}onDragMove(e){this.dragStartEvent!=null&&vG(e.originDeltaX,e.originDeltaY)&&(this.dispatch(this.dragStartEvent),this.dispatch({...this.dragStartEvent,type:"drag-move"}),this.dragStartEvent=void 0,this.isDragging=!0),this.isDragging&&this.dispatch(e)}onDragEnd(e){if(this.isDragging){this.dispatch(e),this.isDragging=!1;return}if(e.device==="mouse"){const t=P1("mouse","click",e);this.dispatch(t)}else if(e.sourceEvent.type==="touchend"){if(vG(this.touch.distanceTravelledX,this.touch.distanceTravelledY))return;const t=P1("touch","click",e);this.dispatch(t);const i=Date.now();if(this.lastClick!==void 0&&i-this.lastClick.time<=mDe&&yDe(this.lastClick,e)){const n=P1(e.device,"dblclick",e);this.dispatch(n),this.lastClick=void 0}else this.lastClick={time:i,clientX:e.clientX,clientY:e.clientY}}}},F1=class extends Lg{constructor(e){super(e)}addChildToDOM(){}removeChildFromDOM(){}},vDe=class{constructor(e){this.seriesWidget=new F1(e.getParent("series-area")),this.chartWidget=new F1(e.getParent("canvas-proxy")),this.containerWidget=new F1(e.getParent("canvas-container")),this.containerWidget.addChild(this.chartWidget),this.chartWidget.addChild(this.seriesWidget),this.seriesDragInterpreter=new O6(this.seriesWidget)}destroy(){this.seriesDragInterpreter.destroy(),this.seriesWidget.destroy(),this.chartWidget.destroy(),this.containerWidget.destroy()}};function UA(e,t){const[i,n]=zn(t);return ft(i,e,n)}function zn(e){if(e.length===0)return[];const t=[1/0,-1/0];for(const i of e)i<t[0]&&(t[0]=i),i>t[1]&&(t[1]=i);return t}function kg(e){const[t,i]=zn(e);return i-t}var N6=class B6 extends mM{constructor(t=[],i=[]){super(),this.domain=t,this.range=i,this.defaultClamp=!1}static is(t){return t instanceof B6}normalizeDomains(...t){let i,n=1/0,s,r=-1/0;for(const o of t)for(const a of o){const l=a.valueOf();l<n&&(n=l,i=a),l>r&&(r=l,s=a)}return i!=null&&s!=null?{domain:[i,s],animatable:!0}:{domain:[],animatable:!1}}transform(t){return t}transformInvert(t){return t}calcBandwidth(t=1){const{domain:i}=this,n=this.getPixelRange();if(i.length===0)return n;const s=Math.abs(i[1].valueOf()-i[0].valueOf())/t+1,r=Math.floor(n),o=Math.min(s,r);return n/Math.max(1,o)}convert(t,i=this.defaultClamp){const{domain:n}=this;if(!n||n.length<2)return NaN;const s=Number(this.transform(n[0])),r=Number(this.transform(n[1])),o=Number(this.transform(t)),{range:a}=this,[l,u]=a;if(i){const[d,p]=zn([s,r]);if(o<d)return l;if(o>p)return u}return s===r?(l+u)/2:o===s?l:o===r?u:l+(o-s)/(r-s)*(u-l)}invert(t,i){const n=this.domain.map(d=>this.transform(d)),[s,r]=n,{range:o}=this,[a,l]=o;let u;return a===l?u=this.toDomain((Number(s)+Number(r))/2):u=this.toDomain(Number(s)+(t-a)/(l-a)*(Number(r)-Number(s))),this.transformInvert(u)}getPixelRange(){const[t,i]=this.range;return Math.abs(i-t)}};N6.defaultTickCount=5;var mi=N6;function z6(e,t){return e.valueOf()-t.valueOf()}function CDe(e){let t=NaN;const i=[];for(const n of e){const s=n.valueOf();t!==s&&i.push(n),t=s}return i}function $A(e){const t=e.slice().sort(z6);return Bk(t)==null?CDe(t):t}function Bk(e){if(e.length===0)return 1;const t=Number(e[e.length-1])>Number(e[0])?1:-1;let i=-1/0*t;for(const n of e){const s=n.valueOf();if(Math.sign(s-i)!==t)return;i=s}return t}var rw={days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]};function zk(e,t=new Date(e.getFullYear(),0,1)){const i=e.getTimezoneOffset()-t.getTimezoneOffset(),n=e.getTime()-t.getTime()+i*6e4,s=36e5*24;return Math.floor(n/s)}function CG(e,t){const n=new Date(e.getFullYear(),0,1).getDay(),s=(t-n+7)%7,r=new Date(e.getFullYear(),0,s+1);return r<=e?Math.floor(zk(e,r)/7)+1:0}var bDe=0,G6=1,bG=4;function H6(e,t=e.getFullYear()){const n=new Date(t,0,1).getDay(),s=(bG-n+7)%7,r=new Date(t,0,s-(bG-G6)+1);return r<=e?Math.floor(zk(e,r)/7)+1:H6(e,t-1)}function wDe(e){const t=e.getTimezoneOffset(),i=Math.abs(t);return`${t>0?"-":"+"}${Ps(Math.floor(i/60),2,"0")}${Ps(Math.floor(i%60),2,"0")}`}var SDe={a:e=>rw.shortDays[e.getDay()],A:e=>rw.days[e.getDay()],b:e=>rw.shortMonths[e.getMonth()],B:e=>rw.months[e.getMonth()],c:"%x, %X",d:(e,t)=>Ps(e.getDate(),2,t??"0"),e:"%_d",f:(e,t)=>Ps(e.getMilliseconds()*1e3,6,t??"0"),H:(e,t)=>Ps(e.getHours(),2,t??"0"),I:(e,t)=>{const i=e.getHours()%12;return i===0?"12":Ps(i,2,t??"0")},j:(e,t)=>Ps(zk(e)+1,3,t??"0"),m:(e,t)=>Ps(e.getMonth()+1,2,t??"0"),M:(e,t)=>Ps(e.getMinutes(),2,t??"0"),L:(e,t)=>Ps(e.getMilliseconds(),3,t??"0"),p:e=>e.getHours()<12?"AM":"PM",Q:e=>String(e.getTime()),s:e=>String(Math.floor(e.getTime()/1e3)),S:(e,t)=>Ps(e.getSeconds(),2,t??"0"),u:e=>{let t=e.getDay();return t<1&&(t+=7),String(t%7)},U:(e,t)=>Ps(CG(e,bDe),2,t??"0"),V:(e,t)=>Ps(H6(e),2,t??"0"),w:(e,t)=>Ps(e.getDay(),2,t??"0"),W:(e,t)=>Ps(CG(e,G6),2,t??"0"),x:"%-m/%-d/%Y",X:"%-I:%M:%S %p",y:(e,t)=>Ps(e.getFullYear()%100,2,t??"0"),Y:(e,t)=>Ps(e.getFullYear(),4,t??"0"),Z:e=>wDe(e),"%":()=>"%"},xDe={_:" ",0:"0","-":""};function Ps(e,t,i){const n=String(Math.floor(e));return n.length>=t?n:`${i.repeat(t-n.length)}${n}`}function qC(e){const t=[];for(;e.length>0;){let i=e.indexOf("%");if(i!==0){const a=i>0?e.substring(0,i):e;t.push(a)}if(i<0)break;const n=e[i+1],s=xDe[n];s!=null&&i++;const r=e[i+1],o=SDe[r];if(typeof o=="function")t.push([o,s]);else if(typeof o=="string"){const a=qC(o);t.push([a,s])}else t.push(`${s??""}${r}`);e=e.substring(i+2)}return i=>{const n=typeof i=="number"?new Date(i):i;return t.map(s=>typeof s=="string"?s:s[0](n,s[1])).join("")}}var MDe={};_a(MDe,{TimeInterval:()=>cp,day:()=>nx,friday:()=>GDe,hour:()=>Nf,millisecond:()=>_6,minute:()=>Of,monday:()=>ODe,month:()=>mh,saturday:()=>HDe,second:()=>Ff,sunday:()=>fv,thursday:()=>zDe,tuesday:()=>NDe,utcDay:()=>JDe,utcHour:()=>ZDe,utcMinute:()=>YDe,utcMonth:()=>iRe,utcYear:()=>rRe,wednesday:()=>BDe,year:()=>IM});var cp=class{constructor(e,t,i){this._encode=e,this._decode=t,this._rangeCallback=i}floor(e){const t=new Date(e),i=this._encode(t);return this._decode(i)}ceil(e){const t=new Date(Number(e)-1),i=this._encode(t);return this._decode(i+1)}range(e,t,{extend:i=!1,visibleRange:n=[0,1]}={}){var f;let s=!1;e.getTime()>t.getTime()&&([e,t]=[t,e],s=!0);const r=(f=this._rangeCallback)==null?void 0:f.call(this,e,t),o=this._encode(i?this.floor(e):this.ceil(e)),a=this._encode(i?this.ceil(t):this.floor(t));if(a<o)return[];const l=a-o;let u,d;s?(u=Math.ceil(o+(1-n[1])*l),d=Math.floor(o+(1-n[0])*l)):(u=Math.floor(o+n[0]*l),d=Math.ceil(o+n[1]*l));const p=[];for(let m=u;m<=d;m+=1){const y=this._decode(m);p.push(y)}return r==null||r(),p}},co=class extends cp{getOffset(e,t){return Math.floor(this._encode(new Date(e)))%t}every(e,t){let i=0,n;const s=e;e=Math.max(1,Math.round(e)),s!==e&&De.warnOnce(`interval step of [${s}] rounded to [${e}].`);const{snapTo:r="start"}=t??{};if(typeof r=="string"){const l=i;n=(u,d)=>{const p=r==="start"?u:d;return i=this.getOffset(p,e),()=>i=l}}else typeof r=="number"?i=this.getOffset(new Date(r),e):r instanceof Date&&(i=this.getOffset(r,e));const o=l=>Math.floor((this._encode(l)-i)/e),a=l=>this._decode(l*e+i);return new cp(o,a,n)}};function DDe(e){return e.getTime()}function RDe(e){return new Date(e)}var _6=new co(DDe,RDe),Wu=1e3,Bs=Wu*60,dr=Bs*60,Xo=dr*24,Cc=Xo*7,ky=Xo*30,Pg=Xo*365,j6=new Date().getTimezoneOffset()*Bs;function EDe(e){return Math.floor((e.getTime()-j6)/Wu)}function TDe(e){return new Date(j6+e*Wu)}var Ff=new co(EDe,TDe),V6=new Date().getTimezoneOffset()*Bs;function ADe(e){return Math.floor((e.getTime()-V6)/Bs)}function IDe(e){return new Date(V6+e*Bs)}var Of=new co(ADe,IDe),W6=new Date().getTimezoneOffset()*Bs;function LDe(e){return Math.floor((e.getTime()-W6)/dr)}function kDe(e){return new Date(W6+e*dr)}var Nf=new co(LDe,kDe);function PDe(e){const t=e.getTimezoneOffset()*Bs;return Math.floor((e.getTime()-t)/Xo)}function FDe(e){const t=new Date(1970,0,1);return t.setDate(t.getDate()+e),t}var nx=new co(PDe,FDe);function Sp(e){const i=(7+e-4)%7;function n(r){const o=r.getTimezoneOffset()*Bs;return Math.floor((r.getTime()-o)/Cc-i/7)}function s(r){const o=new Date(1970,0,1);return o.setDate(o.getDate()+r*7+i),o}return new co(n,s)}var fv=Sp(0),ODe=Sp(1),NDe=Sp(2),BDe=Sp(3),zDe=Sp(4),GDe=Sp(5),HDe=Sp(6);function _De(e){return e.getFullYear()*12+e.getMonth()}function jDe(e){const t=Math.floor(e/12),i=e-t*12;return new Date(t,i,1)}var mh=new co(_De,jDe);function VDe(e){return e.getFullYear()}function WDe(e){const t=new Date;return t.setFullYear(e),t.setMonth(0,1),t.setHours(0,0,0,0),t}var IM=new co(VDe,WDe);function UDe(e){return Math.floor(e.getTime()/Bs)}function $De(e){return new Date(e*Bs)}var YDe=new co(UDe,$De);function KDe(e){return Math.floor(e.getTime()/dr)}function qDe(e){return new Date(e*dr)}var ZDe=new co(KDe,qDe);function XDe(e){return Math.floor(e.getTime()/Xo)}function QDe(e){const t=new Date(0);return t.setUTCDate(t.getUTCDate()+e),t.setUTCHours(0,0,0,0),t}var JDe=new co(XDe,QDe);function eRe(e){return e.getUTCFullYear()*12+e.getUTCMonth()}function tRe(e){const t=Math.floor(e/12),i=e-t*12;return new Date(Date.UTC(t,i,1))}var iRe=new co(eRe,tRe);function nRe(e){return e.getUTCFullYear()}function sRe(e){const t=new Date;return t.setUTCFullYear(e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0),t}var rRe=new co(nRe,sRe);function qs(e){return e instanceof Date?e.getTime():e}function Gk(e,t,i){const n=U6(e,t,i),s=qC(n);return r=>s(r)}function U6(e,t,i=0){let n=1/0;for(let d=1;d<e.length;d++)n=Math.min(n,Math.abs(e[d].valueOf()-e[d-1].valueOf()));const[s,r]=t.length===0?[0,0]:zn([t[0].valueOf(),t[t.length-1].valueOf()]),o=new Date(s).getFullYear(),l=new Date(r).getFullYear()-o>0,u=isFinite(n)?oRe(n,e):aRe(e[0]);return cRe(Math.max(u-i,0),l,e)}function oRe(e,t){return e<Wu?0:e<Bs?1:e<dr?2:e<Xo?3:e<Cc?4:e<Xo*28||e<Xo*31&&lRe(t)?5:e<Pg?6:7}function aRe(e){return Ff.floor(e)<e?0:Of.floor(e)<e?1:Nf.floor(e)<e?2:nx.floor(e)<e?3:mh.floor(e)<e?fv.floor(e)<e?4:5:IM.floor(e)<e?6:7}function lRe(e){let t=new Date(e[0]).getMonth();for(let i=1;i<e.length;i++){const n=new Date(e[i]).getMonth();if(t===n)return!0;t=n}return!1}function cRe(e,t,i){const n=qs(i[0]),s=qs(i.at(-1)),r=Math.abs(s-n),o=t||e===7,a=r===0,u=[["hour",6*dr,14*Xo,3,"%I %p"],["hour",Bs,6*dr,3,"%I:%M"],["second",1e3,6*dr,1,":%S"],["ms",0,6*dr,0,".%L"],["am/pm",Bs,6*dr,3,"%p"]," ",["day",Xo,Cc,4,"%a"],["month",a?0:Cc,52*Cc,5,"%b %d"],["month",5*Cc,10*Pg,6,"%B"]," ",["year",o?0:Pg,1/0,7,"%Y"]].filter(f=>{if(typeof f=="string")return!0;const[m,y,C,w]=f;return w>=e&&y<=r&&r<C}).reduce((f,m)=>(typeof m=="string"?f.result.push(m):f.used.has(m[0])||(f.result.push(m),f.used.add(m[0])),f),{result:[],used:new Set}).result,d=u.findIndex(f=>typeof f!="string"),p=u.findLastIndex(f=>typeof f!="string");return u.slice(d,p+1).map(f=>typeof f=="string"?f:f[4]).join("").replaceAll(/\s+/g," ").trim()}function $6(e,t,i){if(i==null||i[0]===0&&i[1]===1)return e;const n=ft(0,Math.floor(i[0]*e.length),e.length),s=ft(0,Math.ceil(i[1]*e.length),e.length),r=t?e.length-s:n,o=t?e.length-n:s;return e.slice(r,o)}var LM=class Y6 extends mM{constructor(){super(...arguments),this.invalid=!0,this.range=[0,1],this.round=!1,this.interval=void 0,this._bandwidth=1,this._step=1,this._inset=1,this._rawBandwidth=1,this._paddingInner=0,this._paddingOuter=0}static is(t){return t instanceof Y6}get bandwidth(){return this.refresh(),this._bandwidth}get step(){return this.refresh(),this._step}get inset(){return this.refresh(),this._inset}get rawBandwidth(){return this.refresh(),this._rawBandwidth}set padding(t){t=ft(0,t,1),this._paddingInner=t,this._paddingOuter=t}get padding(){return this._paddingInner}set paddingInner(t){this.invalid=!0,this._paddingInner=ft(0,t,1)}get paddingInner(){return this._paddingInner}set paddingOuter(t){this.invalid=!0,this._paddingOuter=ft(0,t,1)}get paddingOuter(){return this._paddingOuter}refresh(){this.invalid&&(this.invalid=!1,this.update(),this.invalid&&De.warnOnce("Expected update to not invalidate scale"))}ticks(t,i=this.domain,n){return $6(i,!1,n)}convert(t,i){this.refresh();const n=this.getIndex(t);return n==null||n<0||n>=this.domain.length?NaN:this.ordinalRange(n)}invertNearestIndex(t){this.refresh();const{domain:i}=this;if(i.length===0)return-1;let n=0,s=i.length-1,r=1/0,o=0;for(;n<=s;){const a=(s+n)/2|0,l=this.ordinalRange(a),u=Math.abs(l-t);if(u===0)return a;u<r&&(r=u,o=a),l<t?n=a+1:s=a-1}return o}update(){const t=this.domain.length;if(t===0)return;const[i,n]=this.range;let{_paddingInner:s}=this;const{_paddingOuter:r,round:o}=this,a=n-i;let l;t===1?(s=0,l=a*(1-r*2)):l=a/Math.max(1,t-s+r*2);const u=o?Math.floor(l):l;let d=i+(a-u*(t-s))/2,p=u*(1-s);o&&(d=Math.round(d),p=Math.round(p)),this._step=u,this._inset=d,this._bandwidth=p,this._rawBandwidth=l*(1-s)}ordinalRange(t){const{_inset:i,_step:n,range:s}=this,r=Math.min(s[0],s[1]),o=Math.max(s[0],s[1]);return ft(r,i+n*t,o)}};I([Kg],LM.prototype,"range",2);I([Kg],LM.prototype,"round",2);I([Kg],LM.prototype,"interval",2);var ZC=LM,ln=(e,t,i)=>({duration:t*i,timeInterval:e,step:i}),Uy=[ln(Ff,Wu,1),ln(Ff,Wu,5),ln(Ff,Wu,15),ln(Ff,Wu,30),ln(Of,Bs,1),ln(Of,Bs,5),ln(Of,Bs,15),ln(Of,Bs,30),ln(Nf,dr,1),ln(Nf,dr,3),ln(Nf,dr,6),ln(Nf,dr,12),ln(nx,Xo,1),ln(nx,Xo,2),ln(fv,Cc,1),ln(fv,Cc,2),ln(fv,Cc,3),ln(mh,ky,1),ln(mh,ky,2),ln(mh,ky,3),ln(mh,ky,4),ln(mh,ky,6),ln(IM,Pg,1)],K6=[1,2,5,10];function wG(e,t){return Math.abs(Math.round(e)-e)<t}function Hk(e,t,i,n,s,r){if(i<2)return[e,t];const o=eC(e,t,i,n,s);if(!Number.isFinite(o))return[];if(wG(e/o,1e-12)||(e=Math.ceil(e/o)*o),wG(t/o,1e-12)||(t=Math.floor(t/o)*o),r!=null&&r[0]!==0&&r[1]!==1){const a=t-e,l=e+a*r[0],u=t-a*(1-r[1]);return tC(l-l%o,u+u%o,o)}return tC(e,t,o)}function q6(e,t,i,n,s,r){const o=r??Math.abs(t-e)/Math.max(i,1);let a=0;for(const f of Uy){if(o<=f.duration)break;a++}if(a===0){const f=Math.max(eC(e,t,i,n,s),1);return _6.every(f)}else if(a===Uy.length){const f=eC(e/Pg,t/Pg,i,n,s);return IM.every(f)}const l=Uy[a-1],u=Uy[a],{timeInterval:d,step:p}=o-l.duration<u.duration-o?l:u;return d.every(p)}function eC(e,t,i,n=0,s=1/0){if(e===t)return ft(1,n,s);if(i<1)return NaN;const r=Math.abs(t-e),o=10**Math.floor(Math.log10(r/i));let a=NaN,l=1/0,u=!1;for(const d of K6){const p=Math.ceil(r/(d*o)),f=p>=n&&p<=s;if(u&&!f)continue;const m=Math.abs(p-i);(l>m||u!==f)&&(u||(u=f),l=m,a=d)}return a*o}function SG(e){for(let t=e.length-1;t>=0;t-=1)if(e[t]!=="0")return t+1;return 0}function xG(e,t){const i=CW(t??",f");(i.precision==null||isNaN(i.precision))&&(!i.type||"eEFgGnprs".includes(i.type)?i.precision=Math.max(...e.map(s=>{if(!Number.isFinite(s))return 0;const[r,o]=s.toExponential((i.type?6:12)-1).split(/[.e]/g);return(r!=="1"&&r!=="-1"?1:0)+SG(o)+1})):"f%".includes(i.type)&&(i.precision=Math.max(...e.map(s=>{if(!Number.isFinite(s)||s===0)return 0;const r=Math.floor(Math.log10(Math.abs(s))),o=i.type?6:12,a=s.toExponential(o-1).split(/[.e]/g)[1],l=SG(a);return Math.max(0,l-r)}))));const n=bW(i);return s=>n(Number(s))}function tC(e,t,i){if(!Number.isFinite(i)||i<=0)return[];const n=10**rk(i),s=Math.min(e,t),r=Math.max(e,t),o=[];for(let a=0;;a+=1){const l=Math.round((s+i*a)*n)/n;if(l>r)break;o.push(l)}return o}function Fg(e,t){return e>=t?(De.warnOnce("the configured interval results in more than 1 item per pixel, ignoring. Supply a larger interval or omit this configuration"),!0):!1}function uRe(e,t){const i=Math.abs(t-e),n=10**Math.floor(Math.log10(i));let s=1/0,r=[e,t];for(const o of K6){const a=o*n,l=Math.floor(e/a)*a,u=Math.ceil(t/a)*a,d=1-i/Math.abs(u-l);s>d&&(s=d,r=[l,u])}return r}function Z6(e,t,i,n,s,r){if(e<=0)return{minTickCount:0,maxTickCount:0,tickCount:0};r=Math.max(r,e/(s+1)),i??(i=r),n??(n=e),i>n&&(i===r?i=n:n=i);const o=Math.max(1,Math.floor(e/(t*i))),a=Math.min(o,Math.ceil(e/(t*n))),l=ft(a,Math.floor(s/t),o);return{minTickCount:a,maxTickCount:o,tickCount:l}}var X6=class extends mi{constructor(){super([],[0,1]),this.type="time"}toDomain(e){return new Date(e)}convert(e,t){return e instanceof Date||(e=new Date(e)),super.convert(e,t)}invert(e){return new Date(super.invert(e))}niceDomain(e,t=this.domain){if(t.length<2)return[];let[i,n]=t;const s=4,r=this.getPixelRange();for(let o=0;o<s;o++){const[a,l]=dRe(i,n,e,r);if(qs(i)===qs(a)&&qs(n)===qs(l))break;i=a,n=l}return[i,n]}ticks(e,t=this.domain,i=[0,1]){const{nice:n,interval:s,tickCount:r=mi.defaultTickCount,minTickCount:o,maxTickCount:a}=e;if(t.length<2)return[];const l=t.map(qs),u=l[0],d=l[l.length-1];if(s!=null){const p=this.getPixelRange();return _k({start:u,stop:d,interval:s,availableRange:p,visibleRange:i})??MG({start:u,stop:d,tickCount:r,minTickCount:o,maxTickCount:a,visibleRange:i})}else{if(n&&r===2)return t;if(n&&r===1)return t.slice(0,1)}return MG({start:u,stop:d,tickCount:r,minTickCount:o,maxTickCount:a,visibleRange:i})}_tickFormatter({domain:e,ticks:t,specifier:i},n){return i!=null?qC(i):Gk(t,e,n)}tickFormatter(e){return this._tickFormatter(e)}datumFormatter(e){return this._tickFormatter(e,1)}};function MG({start:e,stop:t,tickCount:i,minTickCount:n,maxTickCount:s,visibleRange:r}){const o=q6(e,t,i,n,s);return o?o.range(new Date(e),new Date(t),{visibleRange:r}):[]}function _k({start:e,stop:t,interval:i,availableRange:n,visibleRange:s}){if(!i)return[];if(i instanceof cp){const d=i.range(new Date(e),new Date(t),{visibleRange:s});return Fg(d.length,n)?void 0:d}const r=Math.abs(i);if(Fg(Math.abs(t-e)/r,n))return;const o=Uy.findLast(d=>r%d.duration===0);if(o)return o.timeInterval.every(r/(o.duration/o.step)).range(new Date(e),new Date(t),{visibleRange:s});let a=new Date(Math.min(e,t));const l=new Date(Math.max(e,t)),u=[];for(;a<=l;)u.push(a),a=new Date(a),a.setMilliseconds(a.getMilliseconds()+r);return u}function dRe(e,t,i,n){const{interval:s}=i,r=Math.min(qs(e),qs(t)),o=Math.max(qs(e),qs(t));let a;if(s instanceof cp)a=s;else{let l;typeof s=="number"&&(l=(o-r)/Math.max(s,1),Fg(l,n)&&(l=null)),l??(l=i.tickCount??mi.defaultTickCount),a=q6(r,o,l,i.minTickCount,i.maxTickCount)}if(a){const l=a.range(new Date(r),new Date(o),{extend:!0});return e>t&&l.reverse(),[l[0],l.at(-1)]}else return[e,t]}var Rc=class Q6 extends ZC{constructor(){super(...arguments),this.type="ordinal-time",this._domain=[],this.isReversed=!1}static is(t){return t instanceof Q6}set domain(t){t!==this._domain&&(this.invalid=!0,this._domain=t,this.isReversed=t.length>0&&t[0]>t[t.length-1],this.sortedTimestamps=void 0,this.precomputedSteps=void 0)}get domain(){return this._domain}toDomain(t){return new Date(t)}normalizeDomains(...t){const i=t.filter(n=>n.length>0);if(i.length===0)return{domain:[],animatable:!1};if(i.length===1){let n=i[0];const s=Bk(n);return s===-1?n=n.slice().reverse():s==null&&(n=$A(n.slice())),{domain:n,animatable:!0}}return{domain:$A(i.flat()),animatable:!0}}ticks({interval:t,maxTickCount:i},n=this.domain,s=[0,1]){if(!n.length)return[];this.refresh();const{isReversed:r}=this;if(t==null)return DG(n,i,r,s);const[o,a]=[n[0].valueOf(),n.at(-1).valueOf()],l=Math.min(o,a),u=Math.max(o,a),[d,p]=this.range,f=Math.abs(p-d),m=_k({start:l,stop:u,interval:t,availableRange:f,visibleRange:s})??DG(n,i,r,s);let y=-1;return m.filter(C=>{const w=this.findInterval(C.valueOf()),b=w===y;return y=w,!b})}getSortedTimestamps(){let{sortedTimestamps:t}=this;return t==null&&(t=this.domain.map(qs),this.isReversed&&t.reverse(),this.sortedTimestamps=t),t}getPrecomputedSteps(){const{domain:t}=this;let{precomputedSteps:i}=this;const n=t.length<1e4?t.length:Math.ceil(t.length/16);if(i!=null||n<=1)return i;const s=this.getSortedTimestamps();i=new Int32Array(n);const r=s[0],a=s[s.length-1]-r,l=0,u=s.length-1;for(let d=0;d<i.length;d+=1)i[d]=this.findIntervalInRange(r+d/n*a,l,u);this.precomputedSteps=i}findIntervalInRange(t,i,n){const s=this.getSortedTimestamps();for(;i<=n;){const r=(i+n)/2|0;if(s[r]===t)return r;s[r]<t?i=r+1:n=r-1}return i}findInterval(t){const i=this.getPrecomputedSteps();let n,s;if(i==null)n=0,s=this.domain.length-1;else{const r=this.getSortedTimestamps(),o=r[0],a=r[r.length-1],l=Math.min((t-o)/(a-o)*i.length|0,i.length-1|0);n=i[l],s=l<i.length-2?i[l+1]:r.length-1}return this.findIntervalInRange(t,n,s)}tickFormatter({domain:t,ticks:i,specifier:n}){return n!=null?qC(n):Gk(i,t)}datumFormatter(t){return this.tickFormatter(t)}invert(t,i=!1){this.refresh();const{domain:n}=this;if(i){const r=this.invertNearestIndex(t-this.bandwidth/2);return r!=null?n[r]:void 0}return oSe(0,n.length-1,r=>this.ordinalRange(r)>=t?n[r]:void 0)??n[0]}getIndex(t){const i=this.getSortedTimestamps(),n=Number(t);if(n<i[0])return;let s=this.findInterval(n);return this.isReversed&&(s=this.domain.length-s-1),s}};function DG(e,t,i,n){const s=[],r=Math.ceil(e.length/t),o=Math.floor(r/2),a=Math.floor(n[0]*e.length),l=Math.ceil(n[1]*e.length);for(let u=a;u<l;u+=1){const d=i?e.length-1-u:u;(r<=0||(d+o)%r===0)&&s.push(e[u])}return i&&s.reverse(),s}var iC={bottomCenter:mRe,center:gRe,clone:bRe,collides:wRe,end:pRe,from:SRe,height:vRe,round:CRe,start:hRe,topCenter:fRe,origin:xRe,width:yRe};function hRe(e){return{x:e.x1,y:e.y1}}function pRe(e){return{x:e.x2,y:e.y2}}function fRe(e){return{x:(e.x1+e.x2)/2,y:Math.min(e.y1,e.y2)}}function gRe(e){return{x:(e.x1+e.x2)/2,y:(e.y1+e.y2)/2}}function mRe(e){return{x:(e.x1+e.x2)/2,y:Math.max(e.y1,e.y2)}}function yRe(e){return Math.abs(e.x2-e.x1)}function vRe(e){return Math.abs(e.y2-e.y1)}function CRe(e){return{x1:Math.round(e.x1),y1:Math.round(e.y1),x2:Math.round(e.x2),y2:Math.round(e.y2)}}function bRe(e){return{x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2}}function wRe(e,t){const i=YA(e),n=YA(t);return i.x1<=n.x2&&i.x2>=n.x1&&i.y1<=n.y2&&i.y2>=n.y1}function YA(e){return{x1:Math.min(e.x1,e.x2),x2:Math.max(e.x1,e.x2),y1:Math.min(e.y1,e.y2),y2:Math.max(e.y1,e.y2)}}function SRe(e,t,i,n){if(typeof e=="number")return{x1:e,y1:t,x2:i,y2:n};if("width"in e)return YA({x1:e.x,y1:e.y,x2:e.x+e.width,y2:e.y+e.height});throw new Error(`Values can not be converted into a vector4: [${JSON.stringify(e)}] [${t}] [${i}] [${n}]`)}function xRe(){return{x1:0,y1:0,x2:0,y2:0}}function ow(e,t,i,n,s){return t+(n-t)*((s-e)/(i-e))}function RG(e,t,i,n,s){return e+(s-t)*((i-e)/(n-t))}function EG(e,t,i){return[RG(e,i.min,t,i.max,0),RG(e,i.min,t,i.max,1)]}function MRe(e,t,i){const[n,s]=EG(e.x1,e.x2,t),[r,o]=EG(e.y1,e.y2,i);return{x1:n,x2:s,y1:r,y2:o}}function TG(e,t,i,n,s,r){if(i<=s&&r<=n)return i;const o=s-i,a=r-n,l=Math.abs(o)<Math.abs(a)?o:a;return ft(e,i+l,t)}function DRe(e,t,i){const{x:n={min:0,max:1},y:s={min:0,max:1}}=t,r=iC.from(i),o=iC.from(e),a=MRe(o,n,s),l=TG(a.x1,a.x2,o.x1,o.x2,r.x1,r.x2),u=TG(a.y1,a.y2,o.y1,o.y2,r.y1,r.y2),d={x:{min:ow(o.x1,n.min,o.x2,n.max,l),max:ow(o.x1,n.min,o.x2,n.max,l+e.width)},y:{min:ow(o.y1,s.min,o.y2,s.max,u),max:ow(o.y1,s.min,o.y2,s.max,u+e.height)}},p=d.x.max-d.x.min,f=d.y.max-d.y.min;return d.x.min=ft(0,d.x.min,1-p),d.x.max=d.x.min+p,d.y.min=ft(0,d.y.min,1-f),d.y.max=d.y.min+f,d}var RRe=["rangeX","rangeY","ratioX","ratioY","autoScaledAxes"],ERe=class{constructor(){this.enabled=!1,this.padding=0,this.manuallyAdjusted=!1}},AG=e=>ui((t,{options:i})=>!mi.is(e==null?void 0:e.scale)&&!Rc.is(e==null?void 0:e.scale)||t==null||i.end==null?!0:t<=i.end,"to be less than end"),J6=class extends Cd{constructor(e,t){super(),this.fireChartEvent=e,this.mementoOriginatorKey="zoom",this.axisZoomManagers=new Map,this.state=new Ig(void 0,"initial"),this.axes=[],this.didLayoutAxes=!1,this.autoScaleYAxis=new ERe,this.lastRestoredState=void 0,this.independentAxes=!1,this.navigatorModule=!1,this.zoomModule=!1,this.pendingMemento=void 0,this.destroyFns.push(t.addListener("layout:complete",()=>{const{pendingMemento:i}=this,n=!this.didLayoutAxes;this.didLayoutAxes=!0,i?this.restoreMemento(i.version,i.mementoVersion,i.memento):n&&this.autoScaleYZoom("zoom-manager")}))}createMemento(){return this.getMementoRanges()}guardMemento(e,t){if(e==null)return!0;if(!In(e))return!1;for(const o of Object.keys(e))if(!RRe.includes(o))return!1;const i=this.getPrimaryAxis("x"),n=this.getPrimaryAxis("y"),s={rangeX:{start:Ns(pn(rt,Lf),AG(i)),end:pn(rt,Lf)},rangeY:{start:Ns(pn(rt,Lf),AG(n)),end:pn(rt,Lf)},ratioX:{start:Ns(Yi,Yv("end")),end:Yi},ratioY:{start:Ns(Yi,Yv("end")),end:Yi},autoScaledAxes:tn(St("y"))},r=Ca(e,s);return r.errors.length>0?(t.push(...r.errors.map(o=>o.message)),!1):!0}restoreMemento(e,t,i){var a;const{independentAxes:n}=this;if(!this.axes||!this.didLayoutAxes){this.pendingMemento={version:e,mementoVersion:t,memento:i};return}this.pendingMemento=void 0;const s=this.getDefinedZoom();if(i!=null&&i.rangeX?s.x=this.rangeToRatio(i.rangeX,"x")??{min:0,max:1}:i!=null&&i.ratioX?s.x={min:i.ratioX.start??0,max:i.ratioX.end??1}:s.x={min:0,max:1},!this.navigatorModule||this.zoomModule){let l=(a=i==null?void 0:i.autoScaledAxes)==null?void 0:a.includes("y");i!=null&&i.rangeY?(s.y=this.rangeToRatio(i.rangeY,"y")??{min:0,max:1},l??(l=!1)):i!=null&&i.ratioY?(s.y={min:i.ratioY.start??0,max:i.ratioY.end??1},l??(l=!1)):(s.y={min:0,max:1},l??(l=!0)),s.autoScaleYAxis=l}if(this.lastRestoredState=s,n!==!0){this.updateZoom("zoom-manager",s);return}const r=this.getPrimaryAxis("x"),o=this.getPrimaryAxis("y");for(const l of[r,o])l&&this.updateAxisZoom("zoom-manager",l.id,s[l.direction])}updateAxes(e){this.axes=e;const t=new Map(e.map(i=>[i.id,this.axisZoomManagers.get(i.id)]));this.axisZoomManagers.clear();for(const i of e)this.axisZoomManagers.set(i.id,t.get(i.id)??new TRe(i));this.state.size>0&&e.length>0&&this.updateZoom(this.state.stateId(),this.state.stateValue())}setIndependentAxes(e=!0){this.independentAxes=e}setAutoScaleYAxis(e,t){this.autoScaleYAxis.enabled=e,this.autoScaleYAxis.padding=t}setNavigatorEnabled(e=!0){this.navigatorModule=e}setZoomModuleEnabled(e=!0){this.zoomModule=e}isNavigatorEnabled(){return this.navigatorModule}isZoomEnabled(){return this.zoomModule}updateZoom(e,t){if(t!=null&&t.x&&(t.x.min<0||t.x.max>1)&&(De.warnOnce(`Attempted to update x-axis zoom to an invalid ratio of [{ min: ${t.x.min}, max: ${t.x.max} }], expecting a ratio of 0 to 1, ignoring.`),t.x=void 0),t!=null&&t.y&&(t.y.min<0||t.y.max>1)&&(De.warnOnce(`Attempted to update y-axis zoom to an invalid ratio of [{ min: ${t.y.min}, max: ${t.y.max} }], expecting a ratio of 0 to 1, ignoring.`),t.y=void 0),this.axisZoomManagers.size===0){const n=this.state.stateId();(n==="initial"||n===e)&&this.state.set(e,t);return}this.state.set(e,t);const i=t==null?void 0:t.autoScaleYAxis;i!=null&&(this.autoScaleYAxis.manuallyAdjusted=!i),this.axisZoomManagers.forEach(n=>{n.updateZoom(e,t==null?void 0:t[n.getDirection()])}),this.applyChanges(e)}updateAxisZoom(e,t,i){var n;(n=this.axisZoomManagers.get(t))==null||n.updateZoom(e,i),this.applyChanges(e)}resetZoom(e){var i,n,s,r;this.autoScaleYAxis.manuallyAdjusted=!1;const t=this.getRestoredZoom();this.updateZoom(e,{x:{min:((i=t==null?void 0:t.x)==null?void 0:i.min)??0,max:((n=t==null?void 0:t.x)==null?void 0:n.max)??1},y:{min:((s=t==null?void 0:t.y)==null?void 0:s.min)??0,max:((r=t==null?void 0:t.y)==null?void 0:r.max)??1},autoScaleYAxis:(t==null?void 0:t.autoScaleYAxis)??!0})}resetAxisZoom(e,t){const i=this.axisZoomManagers.get(t),n=i==null?void 0:i.getDirection();if(n==null)return;const s=this.getRestoredZoom();if(n==="y"){const r=(s==null?void 0:s.autoScaleYAxis)??!0;this.autoScaleYAxis.manuallyAdjusted=!r}this.updateAxisZoom(e,t,(s==null?void 0:s[n])??{min:0,max:1})}setAxisManuallyAdjusted(e,t){var n;((n=this.axisZoomManagers.get(t))==null?void 0:n.getDirection())==="y"&&(this.autoScaleYAxis.manuallyAdjusted=!0)}updatePrimaryAxisZoom(e,t,i){const n=this.getPrimaryAxis(t);n&&this.updateAxisZoom(e,n.id,i)}panToBBox(e,t,i){if(!this.isZoomEnabled()&&!this.isNavigatorEnabled())return!1;const n=this.getZoom();if(n===void 0||!n.x&&!n.y)return!1;if(!(t.width>0&&t.height>0&&Math.abs(i.width)<=Math.abs(t.width)&&Math.abs(i.height)<=Math.abs(t.height)))return De.warnOnce("cannot pan to target BBox - chart too small?"),!1;const r=DRe(t,n,i);return this.independentAxes?(this.updatePrimaryAxisZoom(e,"x",r.x),this.updatePrimaryAxisZoom(e,"y",r.y)):this.updateZoom(e,r),!0}fireZoomPanStartEvent(e){this.listeners.dispatch("zoom-pan-start",{type:"zoom-pan-start",callerId:e})}extendToEnd(e,t,i){return this.extendWith(e,t,n=>Number(n)-i)}extendWith(e,t,i){const n=this.getPrimaryAxis(t);if(!n)return;const s=this.getDomainExtents(n);if(!s)return;const[,r]=s,o=i(r),a=this.rangeToRatio({start:o,end:r},t);a&&this.updateZoom(e,{[t]:a})}updateWith(e,t,i){const n=this.getPrimaryAxis(t);if(!n)return;const s=this.getDomainExtents(n);if(!s)return;let[r,o]=s;[r,o]=i(r,o);const a=this.rangeToRatio({start:r,end:o},t);a&&this.updateZoom(e,{[t]:a})}getZoom(){let e,t;if(this.axisZoomManagers.forEach(i=>{i.getDirection()==="x"?e??(e=i.getZoom()):i.getDirection()==="y"&&(t??(t=i.getZoom()))}),e||t)return{x:e,y:t}}getAxisZoom(e){var t;return((t=this.axisZoomManagers.get(e))==null?void 0:t.getZoom())??{min:0,max:1}}getAxisZooms(){const e={};for(const[t,i]of this.axisZoomManagers.entries())e[t]={direction:i.getDirection(),zoom:i.getZoom()};return e}getRestoredZoom(){return this.lastRestoredState}getPrimaryAxisId(e){var t;return(t=this.getPrimaryAxis(e))==null?void 0:t.id}isVisibleItemsCountAtLeast(e,t){const i=this.getPrimaryAxis("x"),n=this.getPrimaryAxis("y"),s=new Set;let r=0;const o=[e.x.min,e.x.max],a=[e.y.min,e.y.max];for(const l of(i==null?void 0:i.boundSeries)??[]){s.add(l.id);const u=t-(r??0),d=l.getVisibleItems(o,a,u);if(r+=d,r>=t)return!0}for(const l of(n==null?void 0:n.boundSeries)??[]){if(s.has(l.id))continue;const u=t-(r??0),d=l.getVisibleItems(o,a,u);if(r+=d,r>=t)return!0}return s.size===0}getMementoRanges(){const e=this.getDefinedZoom();let t;return this.autoScaleYAxis.enabled&&(t=this.autoScaleYAxis.manuallyAdjusted?[]:["y"]),{rangeX:this.getRangeDirection(e.x,"x"),rangeY:this.getRangeDirection(e.y,"y"),ratioX:{start:e.x.min,end:e.x.max},ratioY:{start:e.y.min,end:e.y.max},autoScaledAxes:t}}autoScaleYZoom(e,t=!0){var a,l;if(!this.isZoomEnabled())return;const{independentAxes:i,autoScaleYAxis:n}=this,s=this.getZoom();if((s==null?void 0:s.x)==null||!n.enabled||n.manuallyAdjusted)return;const{padding:r}=n;let o;if(((a=s.x)==null?void 0:a.min)===0&&((l=s.x)==null?void 0:l.max)===1?o={min:0,max:1}:i?o=this.primaryAxisZoom("y",s.x,{padding:r}):o=this.combinedAxisZoom("y",s.x,{padding:r}),o!=null){if(i){const u=this.getPrimaryAxis("y"),d=u==null?void 0:this.axisZoomManagers.get(u.id);d==null||d.updateZoom("zoom-manager",o)}else for(const u of this.axisZoomManagers.values())u.getDirection()==="y"&&u.updateZoom("zoom-manager",o);t&&this.applyChanges(e)}}applyChanges(e){if(this.autoScaleYZoom(e,!1),!Array.from(this.axisZoomManagers.values(),n=>n.applyChanges()).includes(!0))return;const i={};for(const[n,s]of this.axisZoomManagers.entries())i[n]=s.getZoom();this.listeners.dispatch("zoom-change",{type:"zoom-change",...this.getZoom(),axes:i,callerId:e}),this.fireChartEvent({type:"zoom",...this.getMementoRanges()})}getRangeDirection(e,t){const i=this.getPrimaryAxis(t);if(!i||!mi.is(i.scale)&&!Rc.is(i.scale))return;const n=this.getDomainPixelExtents(i);if(!n)return;const[s,r]=n;let o,a;return s<=r?(o=i.scale.invert(0),a=i.scale.invert(s+(r-s)*e.max)):(o=i.scale.invert(s-(s-r)*e.min),a=i.scale.invert(0)),{start:o,end:a}}rangeToRatio(e,t){var m,y,C,w,b,S,M,D,R,A,k,F;const i=this.getPrimaryAxis(t);if(!i)return;const n=this.getDomainPixelExtents(i);if(!n)return;const[s,r]=n;let o=e.start==null?s:(y=(m=i.scale).convert)==null?void 0:y.call(m,e.start),a=e.end==null?r:(w=(C=i.scale).convert)==null?void 0:w.call(C,e.end);if(!Qt(o)||!Qt(a))return;const[l,u]=[Math.min(s,r),Math.max(s,r)];if(o<l||o>u){De.warnOnce(`Invalid range start [${e.start}], expecting a value between [${(S=(b=i.scale).invert)==null?void 0:S.call(b,s)}] and [${(D=(M=i.scale).invert)==null?void 0:D.call(M,r)}], ignoring.`);return}if(a<l||a>u){De.warnOnce(`Invalid range end [${e.end}], expecting a value between [${(A=(R=i.scale).invert)==null?void 0:A.call(R,s)}] and [${(F=(k=i.scale).invert)==null?void 0:F.call(k,r)}], ignoring.`);return}o=Math.min(u,Math.max(l,o)),a=Math.min(u,Math.max(l,a));const d=r-s,p=Math.abs((o-s)/d),f=Math.abs((a-s)/d);return{min:p,max:f}}getPrimaryAxis(e){var t;return(t=this.axes)==null?void 0:t.find(i=>i.direction===e)}getDomainExtents(e){const{domain:t}=e.scale,i=t.at(0),n=t.at(-1);if(!(i==null||n==null))return[i,n]}getDomainPixelExtents(e){var s,r,o,a;const{domain:t}=e.scale,i=(r=(s=e.scale).convert)==null?void 0:r.call(s,t.at(0)),n=(a=(o=e.scale).convert)==null?void 0:a.call(o,t.at(-1));if(!(!Qt(i)||!Qt(n)))return[i,n]}getDefinedZoom(){var t,i,n,s;const e=this.getZoom();return{x:{min:((t=e==null?void 0:e.x)==null?void 0:t.min)??0,max:((i=e==null?void 0:e.x)==null?void 0:i.max)??1},y:{min:((n=e==null?void 0:e.y)==null?void 0:n.min)??0,max:((s=e==null?void 0:e.y)==null?void 0:s.max)??1}}}zoomBounds(e,t,i,n){const s=e.scale,r=s.range;s.range=[0,1];const o=t.scale,a=o.range;o.range=[0,1];let l=1,u=!1,d=0,p=!1;for(const y of t.boundSeries){const{connectsToYAxis:C}=y,w=y.getRange("y",[i.min,i.max]);for(const b of w){const S=o.convert(b);Number.isFinite(S)&&(S<l&&(l=S,u=!C||b<0),S>d&&(d=S,p=!C||b>0))}}if(Qt(t.min)&&(l=0),Qt(t.max)&&(d=1),s.range=r,o.range=a,l>=d)return;const f=(u?n:0)+(p?n:0),m=Math.min((d-l)*(1+f),1);if(!(m<=0)){if(u&&p){const y=(d+l)/2;l=y-m/2,d=y+m/2}else!u&&p?d=l+m:u&&!p&&(l=d-m);return l<0?(d+=-l,l=0):d>1&&(l-=d-1,d=1),{min:l,max:d}}}primaryAxisZoom(e,t,{padding:i=0}={}){const n=e==="x"?"y":"x",s=this.getPrimaryAxis(n),r=this.getPrimaryAxis(e);if(!(s==null||r==null))return this.zoomBounds(s,r,t,i)}combinedAxisZoom(e,t,{padding:i=0}={}){const n=e==="x"?"y":"x",s=new Map;for(const l of this.axes)if(l.direction===n)for(const u of l.boundSeries)s.set(u,l);let r=1,o=0;for(const l of this.axes)if(l.direction===e)for(const u of l.boundSeries){const d=s.get(u);if(d==null)continue;const p=this.zoomBounds(d,l,t,i);if(p==null)return;r=Math.min(r,p.min),o=Math.max(o,p.max)}const a=1e-6;if(r<a&&(r=0),o>1-a&&(o=1),!(r>o))return{min:r,max:o}}},TRe=class{constructor(e){this.axis=e;const[t=0,i=1]=e.visibleRange;this.state=new Ig({min:t,max:i}),this.currentZoom=this.state.stateValue()}getDirection(){return this.axis.direction}updateZoom(e,t){this.state.set(e,t)}getZoom(){return ji(this.state.stateValue())}hasChanges(){const e=this.currentZoom,t=this.state.stateValue();return e.min!==t.min||e.max!==t.max}applyChanges(){const e=this.hasChanges();return this.currentZoom=this.state.stateValue(),e}};function ARe(e,t,i,n,s,r){if(e.size===0)return!1;let o=e.x,a=e.y;t!=null&&(o-=(t.x-.5)*e.size,a-=(t.y-.5)*e.size);let l=o;o<i?l=i:o>i+s&&(l=i+s);let u=a;a<n?u=n:a>n+r&&(u=n+r);const d=o-l,p=a-u;return Math.sqrt(d*d+p*p)<=e.size*.5}function eU(e,t,i,n,s){const r=e.x+e.width>t&&e.x<t+n,o=e.y+e.height>i&&e.y<i+s;return r&&o}function IRe(e,t,i,n,s){return t+n<e.x+e.width&&t>e.x&&i>e.y&&i+s<e.y+e.height}function LRe(e){return e!=null&&typeof e.point=="object"&&typeof e.label=="object"}var kRe={top:{x:0,y:-1},bottom:{x:0,y:1},left:{x:-1,y:0},right:{x:1,y:0},"top-left":{x:-1,y:-1},"top-right":{x:1,y:-1},"bottom-left":{x:-1,y:1},"bottom-right":{x:1,y:1}};function PRe(e,t,i=5){var a;const n=new Map,s=[],r=new Map([...e.entries()].map(([l,u])=>[l,u.toSorted((d,p)=>p.point.size-d.point.size)])),o=[...r.values()].flat();for(const[l,u]of r.entries()){const d=[];if((a=u[0])!=null&&a.label){for(let p=0,f=u.length;p<f;p++){const m=u[p],{point:y,label:C,anchor:w}=m,{text:b,width:S,height:M}=C,D=y.size*.5;let R=0,A=0;if(D>0&&m.placement!=null){const V=kRe[m.placement];R=(S*.5+D+i)*V.x,A=(M*.5+D+i)*V.y}const k=y.x-S*.5+R-(((w==null?void 0:w.x)??.5)-.5)*y.size,F=y.y-M*.5+A-(((w==null?void 0:w.y)??.5)-.5)*y.size;if(!(!t||IRe(t,k,F,S,M))||o.some(V=>ARe(V.point,V.anchor,k,F,S,M))||s.some(V=>eU(V,k,F,S,M)))continue;const H={index:p,text:b,x:k,y:F,width:S,height:M,datum:m};d.push(H),s.push(H)}n.set(l,d)}}return n}function FRe(e,t=0){const i=[];for(let n=0;n<e.length;n++){const s=e[n],{point:{x:r,y:o},label:{text:a}}=s;let{width:l,height:u}=s.label;if(l+=t,u+=t,i.some(d=>eU(d,r,o,l,u)))return!0;i.push({index:n,text:a,x:r,y:o,width:l,height:u,datum:s})}return!1}var ORe=class{constructor(){this.labelData=new Map}updateLabels(e,t,i=Ue.zero){var o;const n={x:-t.left,y:-t.top,width:i.width+t.left+t.right,height:i.height+t.top+t.bottom},s=new Set(e.map(a=>a.id));for(const a of this.labelData.keys())s.has(a)||this.labelData.delete(a);for(const a of e){const l=a.getLabelData();l.every(LRe)&&this.labelData.set(a.id,l)}const r=PRe(this.labelData,n,5);for(const a of e)(o=a.updatePlacedLabelData)==null||o.call(a,r.get(a.id)??[])}},NRe=class extends Cd{constructor(){super(...arguments),this.mementoOriginatorKey="legend",this.legendDataMap=new Map}createMemento(){return this.getData().filter(({hideInLegend:e,isFixed:t})=>!e&&!t).map(({enabled:e,seriesId:t,itemId:i,legendItemName:n})=>({visible:e,seriesId:t,itemId:i,legendItemName:n}))}guardMemento(e){return e==null||xt(e)}restoreMemento(e,t,i){i==null||i.forEach(n=>{const{seriesId:s,data:r}=this.getRestoredData(n)??{};!s||!r||this.updateData(s,r)}),this.update()}getRestoredData(e){const{seriesId:t,itemId:i,legendItemName:n,visible:s}=e;if(t){const o=(this.legendDataMap.get(t)??[]).map(a=>{const l=a.seriesId===t&&(!i||a.itemId===i);return l&&a.isFixed&&this.warnFixed(a.seriesId,a.itemId),!a.isFixed&&l?{...a,enabled:s}:a});return{seriesId:t,data:o}}if(!(i==null&&n==null))for(const r of this.getData()){if(i!=null&&r.itemId!==i||n!=null&&r.legendItemName!==n)continue;if(r.isFixed){this.warnFixed(r.seriesId,i);return}const o=(this.legendDataMap.get(r.seriesId)??[]).map(a=>a.itemId===i||a.legendItemName===n?{...a,enabled:s}:a);return{seriesId:r.seriesId,data:o}}}warnFixed(e,t){De.warnOnce(`The legend item with seriesId [${e}] and itemId [${t}] is not configurable, this series item cannot be toggled through the legend.`)}update(e){this.listeners.dispatch("legend-change",{type:"legend-change",legendData:e??this.getData()})}updateData(e,t=[]){this.legendDataMap.set(e,t)}clearData(){this.legendDataMap.clear()}toggleItem(e,t,i,n){if(n){this.getData().forEach(a=>{const l=(this.legendDataMap.get(a.seriesId)??[]).map(u=>u.legendItemName===n?{...u,enabled:e}:u);this.updateData(a.seriesId,l)});return}const s=this.getData(t),r=s.length===1,o=s.map(a=>i==null&&r||a.itemId===i?{...a,enabled:e}:a);this.updateData(t,o)}getData(e){return e?this.legendDataMap.get(e)??[]:[...this.legendDataMap].reduce((t,[i,n])=>t.concat(n),[])}getDatum({seriesId:e,itemId:t}={}){return this.getData(e).find(i=>i.itemId===t)}getSeriesEnabled(e){const t=this.getData(e);if(t.length>0)return t.some(i=>i.enabled)}getItemEnabled({seriesId:e,itemId:t}={}){var i;return((i=this.getDatum({seriesId:e,itemId:t}))==null?void 0:i.enabled)??!0}},BRe=class{constructor(){this.groups={}}registerSeries({internalId:e,seriesGrouping:t,visible:i,type:n}){var s;t&&((s=this.groups)[n]??(s[n]={}),this.groups[n][e]={grouping:t,visible:i})}updateSeries({internalId:e,seriesGrouping:t,visible:i,type:n}){var r;if(!t)return;const s=(r=this.groups[n])==null?void 0:r[e];s&&(s.grouping=t,s.visible=i)}deregisterSeries({internalId:e,type:t}){this.groups[t]&&delete this.groups[t][e],this.groups[t]&&Object.keys(this.groups[t]).length===0&&delete this.groups[t]}getVisiblePeerGroupIndex({type:e,seriesGrouping:t,visible:i}){if(!t)return{visibleGroupCount:i?1:0,visibleSameStackCount:i?1:0,index:0};const n=new Set,s=new Set;for(const o of Object.values(this.groups[e]??{}))o.visible&&(n.add(o.grouping.groupIndex),o.grouping.groupIndex===t.groupIndex&&s.add(o.grouping.stackIndex));const r=Array.from(n);return r.sort((o,a)=>o-a),{visibleGroupCount:r.length,visibleSameStackCount:s.size,index:r.indexOf(t.groupIndex)}}},gv=(e=>(e[e.FULL=0]="FULL",e[e.UPDATE_DATA=1]="UPDATE_DATA",e[e.PROCESS_DATA=2]="PROCESS_DATA",e[e.PERFORM_LAYOUT=3]="PERFORM_LAYOUT",e[e.SERIES_UPDATE=4]="SERIES_UPDATE",e[e.PRE_SCENE_RENDER=5]="PRE_SCENE_RENDER",e[e.SCENE_RENDER=6]="SCENE_RENDER",e[e.NONE=7]="NONE",e))(gv||{}),tU=class{constructor(e){this.updateCallback=e,this.events=new QL}addListener(e,t){return this.events.on(e,t)}removeListener(e,t){return this.events.on(e,t)}destroy(){this.events.clear()}update(e=0,t){this.updateCallback(e,t)}dispatchUpdateComplete(){this.events.emit("update-complete",{type:"update-complete"})}dispatchPreDomUpdate(){this.events.emit("pre-dom-update",{type:"pre-dom-update"})}dispatchPreSceneRender(){this.events.emit("pre-scene-render",{type:"pre-scene-render"})}dispatchProcessData({series:e}){this.events.emit("process-data",{type:"process-data",series:e})}},zRe=class{constructor(e,t){this.callbackCache=new oDe,this.chartEventManager=new I6,this.highlightManager=new k6,this.layoutManager=new r6,this.localeManager=new qMe,this.seriesStateManager=new BRe,this.stateManager=new EMe,this.seriesLabelLayoutManager=new ORe,this.contextModules=[];const{scene:i,root:n,syncManager:s,container:r,fireEvent:o,updateCallback:a,updateMutex:l,styleContainer:u,chartType:d,domMode:p}=t;this.chartService=e,this.syncManager=s,this.domManager=new g6(r,u,p),this.widgets=new vDe(this.domManager);const f=this.domManager.addChild("canvas","scene-canvas",i==null?void 0:i.canvas.element);this.scene=i??new EM({canvasElement:f}),this.scene.setRoot(n),this.axisManager=new lDe(n),this.legendManager=new NRe,this.annotationManager=new aDe(e.annotationRoot,o),this.chartTypeOriginator=new DMe(e),this.interactionManager=new T6,this.contextMenuRegistry=new L6,this.updateService=new tU(a),this.proxyInteractionService=new C6(this.localeManager,this.domManager),this.historyManager=new RMe(this.chartEventManager),this.animationManager=new A6(this.interactionManager,l),this.dataService=new TM(this.animationManager),this.tooltipManager=new ix(this.localeManager,this.domManager,e.tooltip),this.zoomManager=new J6(o,this.layoutManager);for(const m of Sl.byType("context")){if(!m.chartTypes.includes(d))continue;const y=m.moduleFactory(this);this.contextModules.push(y),this[m.contextKey]=y}}destroy(){this.animationManager.destroy(),this.highlightManager.destroy(),this.axisManager.destroy(),this.callbackCache.invalidateCache(),this.chartEventManager.destroy(),this.domManager.destroy(),this.highlightManager.destroy(),this.proxyInteractionService.destroy(),this.syncManager.destroy(),this.tooltipManager.destroy(),this.zoomManager.destroy(),this.widgets.destroy(),this.contextModules.forEach(e=>e.destroy())}},iU=class extends gt{constructor(){super(...arguments),this.range="tooltip"}};I([O(vi(["tooltip","node"],"a range"))],iU.prototype,"range",2);function GRe(e,t){if(e.size!==t.size)return!1;for(const i of e)if(!t.has(i))return!1;return!0}function HRe(e,t){if(e==null||t==null)return e===t;if(e.size!==t.size)return!1;for(const[i,n]of e){const s=t.get(i);if(s==null||!GRe(n,s))return!1}return!0}function _Re(e,t){if(e.length!==t.length)return!1;for(let i=0;i<e.length;i+=1){const{type:n,idsMap:s,scopes:r,data:o,...a}=e[i],{type:l,idsMap:u,scopes:d,data:p,...f}=t[i];if(n!==l||r&&d&&!wl(r,d)||o&&p&&o!==p||!Il(a,f)||!HRe(s,u))return!1}return!0}function jRe(e,t){const{props:i,...n}=e,{props:s,...r}=t;return Il(n,r)&&_Re(i,s)}function VRe(e,t,i,n){return t===e.data&&wl(i,e.ids)&&jRe(n,e.opts)}var IG=class nU{constructor(){this.domain=new Set}static is(t){return t instanceof nU}extend(t){this.domain.add(t)}getDomain(){return Array.from(this.domain)}},Tu=class sU{constructor(){this.domain=[1/0,-1/0]}static is(t){return t instanceof sU}static extendDomain(t,i=[1/0,-1/0]){for(const n of t)typeof n=="number"&&(i[0]>n&&(i[0]=n),i[1]<n&&(i[1]=n));return i}extend(t){this.domain[0]>t&&(this.domain[0]=t),this.domain[1]<t&&(this.domain[1]=t)}getDomain(){return[...this.domain]}},bf=0,wf=1,il=2,WRe=class{constructor(e){const t=e.reduce((r,o)=>Math.max(r,o.length),0);let n=1<<32-Math.clz32(t);t===n/2&&(n=n>>>1),this.maxLevelSize=n;const s=new Float64Array((n*2-1)*2).fill(NaN);for(const r of e)for(let o=0;o<r.length;o+=1){const a=Number(r[o]),l=n+o-1,u=(l*il|0)+bf,d=(l*il|0)+wf,p=s[u],f=s[d];(!Number.isFinite(p)||a<p)&&(s[u]=a),(!Number.isFinite(f)||a>f)&&(s[d]=a)}for(let r=n/2|0;r>=1;r=r/2|0){const o=r-1|0,a=o+r|0;for(let l=0;l<r;l+=1){const u=o+l,d=a+l*2,p=d+1,f=s[(d*il|0)+bf],m=s[(p*il|0)+bf];s[(u*il|0)+bf]=!Number.isFinite(m)||f<m?f:m;const y=s[(d*il|0)+wf],C=s[(p*il|0)+wf];s[(u*il|0)+wf]=!Number.isFinite(C)||y>C?y:C}}this.buffer=s}computeRangeInto(e,t,i,n,s,r,o){const a=s+r-1;if(a<t||s>=i)return o;if(s>=t&&a<i){const l=e[(n*il|0)+bf],u=e[(n*il|0)+wf];Number.isFinite(l)&&(o[0]=Math.min(o[0],l)),Number.isFinite(u)&&(o[1]=Math.max(o[1],u))}else r>1&&(n=n*2|0,r=r/2|0,this.computeRangeInto(e,t,i,n+1|0,s,r,o),this.computeRangeInto(e,t,i,n+2|0,s+r,r,o));return o}rangeBetween(e,t){if(e>t)return[NaN,NaN];const{maxLevelSize:i,buffer:n}=this,s=[1/0,-1/0];return this.computeRangeInto(n,e,t,0,0,i,s),s}get range(){const{buffer:e}=this;return[e[bf],e[wf]]}},LG=Symbol("domain-ranges");function URe(e){return e.map(t=>In(t)?JSON.stringify(t):t).join("-")}function Nr(e){const t=e==null?void 0:e.map(Number);return t!=null&&t.every(Number.isFinite)?t:[]}function jk(e,t){return(t==null?void 0:t.get(e.id))??0}function $Re(e){return"scopes"in e&&Array.isArray(e.scopes)}function O1(e,t){const i=[];for(let n=0;n<e;n+=1)i[n]=t;return i}function sx(e,t,i){var s;const n=[];for(const r of e){const o=(s=r.get(t))==null?void 0:s[i];if(o==null)return;n.push(o)}return n}function rU(e){const t=[];let i=0,n;const s=new RegExp(`((?:(?:^|\\.)\\s*\\w+|\\[\\s*(?:'(?:[^']|(?<!\\\\)\\\\')*'|"(?:[^"]|(?<!\\\\)\\\\")*"|-?\\d+)\\s*\\])\\s*)`,"g");for(;n=s.exec(e);){if(n.index!==i)return;i=n.index+n[0].length;const r=n[1].trim();if(r.startsWith("."))t.push(r.slice(1).trim());else if(r.startsWith("[")){const o=r.slice(1,-1).trim();o.startsWith("'")?t.push(o.slice(1,-1).replace(new RegExp("(?<!\\\\)\\\\'","g"),"'")):o.startsWith('"')?t.push(o.slice(1,-1).replace(new RegExp('(?<!\\\\)\\\\"',"g"),'"')):t.push(o)}else t.push(r)}if(i===e.length)return t}function YRe(e){return t=>{let i=t;for(const n of e)i=i[n];return i}}var oU=class{constructor(e,t="standalone",i=!1){var a;this.opts=e,this.mode=t,this.suppressFieldDotNotation=i,this.debug=ii.create(!0,"data-model"),this.scopeCache=new Map,this.keys=[],this.values=[],this.aggregates=[],this.groupProcessors=[],this.propertyProcessors=[],this.reducers=[],this.processors=[],this.markScopeDatumInvalid=function(l,u,d,p){for(const f of l)p.has(f)||p.set(f,O1(u.length,!1)),p.get(f)[d]=!0};let n=!0;for(const l of e.props){if(l.type==="key"&&!n)throw new Error("AG Charts - internal config error: keys must come before values.");l.type==="value"&&n&&(n=!1)}const s=({matchGroupIds:l=[]})=>{for(const u of l)if(this.values.every(d=>d.groupId!==u))throw new Error(`AG Charts - internal config error: matchGroupIds properties must match defined groups (${u}).`)},r=new Set,o=new Set;for(const l of e.props){const u=l.type==="key"?r:o;switch($Re(l)&&((a=l.scopes)==null||a.forEach(d=>u.add(d))),l.type){case"key":this.keys.push({...l,index:this.keys.length,missing:new Map});break;case"value":if(l.property==null)throw new Error(`AG Charts - internal config error: no properties specified for value definitions: ${JSON.stringify(l)}`);this.values.push({...l,index:this.values.length,missing:new Map});break;case"aggregate":s(l),this.aggregates.push({...l,index:this.aggregates.length});break;case"group-value-processor":s(l),this.groupProcessors.push({...l,index:this.groupProcessors.length});break;case"property-value-processor":this.propertyProcessors.push({...l,index:this.propertyProcessors.length});break;case"reducer":this.reducers.push({...l,index:this.reducers.length});break;case"processor":this.processors.push({...l,index:this.processors.length});break}}if(this.opts.groupByKeys||this.opts.groupByFn!=null){const l=new Set(o.values());if(r.forEach(u=>l.delete(u)),l.size>0)throw new Error(`AG Charts - scopes missing key for grouping, illegal configuration: ${[...l.values()]}`)}}resolveProcessedDataDefById(e,t){var n;const i=(n=this.scopeCache.get(e.id))==null?void 0:n.get(t);if(!i)throw new Error(`AG Charts - didn't find property definition for [${t}, ${e.id}]`);return{index:i.index,def:i}}resolveProcessedDataIndexById(e,t){return this.resolveProcessedDataDefById(e,t).index}resolveKeysById(e,t,i){const n=this.resolveProcessedDataIndexById(e,t),s=i.keys[n];if(s==null)throw new Error(`AG Charts - didn't find keys for [${t}, ${e.id}]`);return s.get(e.id)}hasColumnById(e,t){var i;return((i=this.scopeCache.get(e.id))==null?void 0:i.get(t))!=null}resolveColumnById(e,t,i){var r;const n=this.resolveProcessedDataIndexById(e,t),s=(r=i.columns)==null?void 0:r[n];if(s==null)throw new Error(`AG Charts - didn't find column for [${t}, ${e.id}]`);return s}*forEachDatum(e,t,i){const n=t.columnScopes.findIndex(s=>s.has(e.id));for(const s of i.datumIndices[n]??[])yield t.columns[n][s]}*forEachGroupDatum(e,t){const i=t.columnScopes.findIndex(r=>r.has(e.id)),n={groupIndex:0,columnIndex:i},s=[];for(const r of t.groups){n.group=r;let o=0;for(const a of r.datumIndices[i]??s)n.datumIndex=a,n.valueIndex=o++,yield n;n.groupIndex++}}*forEachGroupDatumTuple(e,t){const n={columnIndex:t.columnScopes.findIndex(s=>s.has(e.id)),datumIndexes:[void 0,void 0,void 0]};for(const s of this.forEachGroupDatum(e,t))n.group=n.nextGroup,n.groupIndex=n.nextGroupIndex,n.nextGroup=s.group,n.nextGroupIndex=s.groupIndex,n.datumIndexes[0]=n.datumIndexes[1],n.datumIndexes[1]=n.datumIndexes[2],n.datumIndexes[2]=s.datumIndex,n.group!=null&&n.datumIndexes[1]!=null&&(yield n);n.group=n.nextGroup,n.groupIndex=n.nextGroupIndex,n.nextGroup=void 0,n.nextGroupIndex=void 0,n.datumIndexes[0]=n.datumIndexes[1],n.datumIndexes[1]=n.datumIndexes[2],n.datumIndexes[2]=void 0,n.group!=null&&n.datumIndexes[1]!=null&&(yield n)}getDomain(e,t,i,n){const s=this.getDomainsByType(i??"value",n);return(s==null?void 0:s[this.resolveProcessedDataIndexById(e,t)])??[]}getDomainBetweenRange(e,t,[i,n],s){const r=t.map(u=>this.resolveProcessedDataIndexById(e,u)),o=r.join(":"),a=s[LG];let l=a.get(o);if(l==null){const u=r.map(d=>s.columns[d]);l=new WRe(u),a.set(o,l)}return l.rangeBetween(i,n)}getDomainsByType(e,t){switch(e){case"key":return t.domain.keys;case"value":return t.domain.values;case"aggregate":return t.domain.aggValues;case"group-value-processor":return t.domain.groups;default:return null}}processData(e){const{opts:{groupByKeys:t,groupByFn:i},aggregates:n,groupProcessors:s,reducers:r,processors:o,propertyProcessors:a}=this,l=performance.now();if(t&&this.keys.length===0)return;let u=this.extractData(e);t?u=this.groupData(u):i&&(u=this.groupData(u,i(u))),s.length>0&&u.type==="grouped"&&this.postProcessGroups(u),n.length>0&&u.type==="ungrouped"?this.aggregateUngroupedData(u):n.length>0&&u.type==="grouped"&&this.aggregateGroupedData(u),a.length>0&&this.postProcessProperties(u),r.length>0&&this.reduceData(u),o.length>0&&this.postProcessData(u),this.warnDataMissingProperties(e);const d=performance.now();return u.time=d-l,this.debug.check()&&KRe(u),this.processScopeCache(),u}warnDataMissingProperties(e){var t;if(e.size!==0)for(const i of Sh(this.keys,this.values))for(const[n,s]of i.missing){if(s<(((t=e.get(n))==null?void 0:t.length)??1/0))continue;const r=n==null?"":` for ${n}`;De.warnOnce(`the key '${i.property}' was not found in any data element${r}.`)}}processScopeCache(){var e;this.scopeCache.clear();for(const t of Sh(this.keys,this.values,this.aggregates))if(t.idsMap)for(const[i,n]of t.idsMap)for(const s of n)if(!this.scopeCache.has(i))this.scopeCache.set(i,new Map([[s,t]]));else{if((e=this.scopeCache.get(i))!=null&&e.has(s))throw new Error("duplicate definition ids on the same scope are not allowed.");this.scopeCache.get(i).set(s,t)}}valueGroupIdxLookup({matchGroupIds:e}){const t=[];for(const[i,n]of this.values.entries())(!e||n.groupId&&e.includes(n.groupId))&&t.push(i);return t}valueIdxLookup(e,t){const i=e==null||e.length===0,n=typeof t=="string"?t:t.id,s=o=>{if(o.idsMap){for(const[a,l]of o.idsMap)if(e!=null&&e.includes(a)&&l.has(n))return!0}return!1},r=this.values.reduce((o,a,l)=>((a.scopes==null||i&&!a.scopes.length||a.scopes.some(d=>e==null?void 0:e.includes(d)))&&(a.property===n||a.id===n||s(a))&&o.push(l),o),[]);if(r.length===0)throw new Error(`AG Charts - configuration error, unknown property ${JSON.stringify(t)} in scope(s) ${JSON.stringify(e)}`);return r}extractData(e){const{dataDomain:t,processValue:i,allScopesHaveSameDefs:n}=this.initDataDomainProcessor(),{keys:s,values:r}=this,{invalidData:o,invalidKeys:a,allKeyMappings:l}=this.extractKeys(s,e,i),{columns:u,columnScopes:d,partialValidDataCount:p,maxDataLength:f}=this.extractValues(o,r,e,a,i),m=y=>{const C=t.get(y),w=C.getDomain();return Tu.is(C)&&w[0]>w[1]?[]:w};return{type:"ungrouped",input:{count:f},scopes:new Set(e.keys()),dataSources:e,aggregation:void 0,keys:[...l.values()],columns:u,columnScopes:d,invalidKeys:a,invalidData:o,domain:{keys:s.map(m),values:r.map(m)},defs:{allScopesHaveSameDefs:n,keys:s,values:r},partialValidDataCount:p,time:0,[LG]:new Map}}extractKeys(e,t,i){const n=new Map,s=new Map,r=new Map;let o,a;const l=(u,d)=>{const p=a.get(u);o.set(d,o.get(p)),n.has(p)&&(n.set(d,n.get(p)),s.set(d,s.get(p)))};for(const u of e){const{invalidValue:d,scopes:p}=u;o=new Map,a=new Map,r.set(u,o);for(const f of p??[]){const m=t.get(f)??[];if(a.has(m)){l(m,f);continue}const y=[];o.set(f,y),a.set(m,f);let C,w;for(let b=0;b<m.length;b++){if(m[b]==null||typeof m[b]!="object")continue;const S=i(u,m[b],b,f);if(S.valid){y.push(S.value);continue}y.push(d),C??(C=O1(m.length,!1)),w??(w=O1(m.length,!1)),C[b]=!0,w[b]=!0}C&&w&&(n.set(f,C),s.set(f,w))}}return{invalidData:s,invalidKeys:n,allKeyMappings:r}}extractValues(e,t,i,n,s){var u;let r=0;const o=[],a=[];let l=0;for(const d of t){const{invalidValue:p}=d;if(new Set(d.scopes.map(b=>i.get(b))).size>1)throw new Error(`AG Charts - more than one data source for: ${JSON.stringify(d)}`);const m=new Set(d.scopes),y=Ty(d.scopes),C=i.get(y),w=new Array;for(let b=0;b<C.length;b++){if(C[b]==null||typeof C[b]!="object")continue;const S=C[b],M=(u=n.get(y))==null?void 0:u[b],D=s(d,S,b,d.scopes);let R=D.value;(M||!D.valid)&&this.markScopeDatumInvalid(d.scopes,C,b,e),M?R=p:D.valid||(r+=1,R=p),w[b]=R}o.push(w),a.push(m),l=Math.max(l,w.length)}return{columns:o,columnScopes:a,partialValidDataCount:r,maxDataLength:l}}groupData(e,t){var i;const n=new Map,{keys:s,columns:r,columnScopes:o,invalidKeys:a,invalidData:l}=e,u=e.scopes,d=new Set;for(const m of u){const y=r.map((D,R)=>R).filter(D=>!d.has(D)&&o[D].has(m));if(y.length===0)continue;for(const D of y)d.add(D);const C=new Set;for(const D of y)for(const R of o[D])C.add(R);const w=s.map(D=>D.get(m)).filter(D=>D!=null),b=r[Ty(y)],S=l==null?void 0:l.get(m),M=a==null?void 0:a.get(m);for(let D=0;D<b.length;D++){if((M==null?void 0:M[D])===!0)continue;const R=w.map(P=>P[D]);if(R==null||R.length===0)throw new Error("AG Charts - no keys found for scope: "+m);const A=(t==null?void 0:t(R))??R,k=URe(A),F=n.get(k)??{keys:A,datumIndices:[],validScopes:u};if(n.has(k)||n.set(k,F),(S==null?void 0:S[D])===!0){F.validScopes===u&&(F.validScopes=new Set(u.values()));for(const P of C)F.validScopes.delete(P)}for(const P of y)(i=F.datumIndices)[P]??(i[P]=[]),F.datumIndices[P].push(D)}}const p=[],f=[];for(const{keys:m,datumIndices:y,validScopes:C}of n.values())p.push(m),f.push({datumIndices:y,keys:m,aggregation:[],validScopes:C});return{...e,type:"grouped",domain:{...e.domain,groups:p},groups:f}}aggregateUngroupedData(e){const t=this.aggregates.map(()=>[1/0,-1/0]);e.domain.aggValues=t;const{keys:i,columns:n,dataSources:s}=e,r=Ty(s.keys()),o=s.get(r);e.aggregation=o==null?void 0:o.map((a,l)=>{var d,p,f;const u=[];for(const[m,y]of this.aggregates.entries()){const C=this.valueGroupIdxLookup(y);let w=((d=y.groupAggregateFunction)==null?void 0:d.call(y))??[1/0,-1/0];const b=C.map(R=>n[R][l]),S=sx(i,r,l),M=S!=null?y.aggregateFunction(b,S):void 0;M&&(w=((p=y.groupAggregateFunction)==null?void 0:p.call(y,M,w))??Tu.extendDomain(M,w));const D=((f=y.finalFunction)==null?void 0:f.call(y,w))??w;u[m]=D,Tu.extendDomain(D,t[m])}return u})}aggregateGroupedData(e){var n,s,r;const t=this.aggregates.map(()=>[1/0,-1/0]);e.domain.aggValues=t;const{columns:i}=e;for(const[o,a]of this.aggregates.entries()){const l=this.valueGroupIdxLookup(a);for(const u of e.groups){u.aggregation??(u.aggregation=[]);const d=u.keys;let p=((n=a.groupAggregateFunction)==null?void 0:n.call(a))??[1/0,-1/0];const f=Math.max(...l.map(y=>{var C;return((C=u.datumIndices[y])==null?void 0:C.length)??0}));for(let y=0;y<f;y++){const C=l.map(b=>{var S;return i[b][(S=u.datumIndices[b])==null?void 0:S[y]]}),w=a.aggregateFunction(C,d);w&&(p=((s=a.groupAggregateFunction)==null?void 0:s.call(a,w,p))??Tu.extendDomain(w,p))}const m=((r=a.finalFunction)==null?void 0:r.call(a,p))??p;u.aggregation[o]=m,Tu.extendDomain(m,t[o])}}}postProcessGroups(e){const{groupProcessors:t}=this,{columnScopes:i,columns:n,invalidData:s}=e;for(const r of t){const o=this.valueGroupIdxLookup(r),a=r.adjust()();for(const l of e.groups)a(n,o,l);for(const l of o){const d=this.values[l].valueType==="category",p=n[l],f=Ty(i[l]),m=s==null?void 0:s.get(f),y=d?new IG:new Tu;for(let C=0;C<p.length;C+=1)(m==null?void 0:m[C])!==!0&&y.extend(p[C]);e.domain.values[l]=y.getDomain()}}}postProcessProperties(e){for(const{adjust:t,property:i,scopes:n}of this.propertyProcessors)for(const s of this.valueIdxLookup(n,i))t()(e,s)}reduceData(e){var n;e.reduced??(e.reduced={});const{dataSources:t,keys:i}=e;for(const s of this.reducers){const r=s.reducer();let o=s.initialValue;if(e.type==="grouped")for(const a of e.groups)o=r(o,a.keys);else{const a=Ty(t.keys()),l=i.map(p=>p.get(a)).filter(p=>p!=null),u=l.map(()=>{}),d=t.get(a);for(let p=0;p<d.length;p+=1){for(let f=0;f<u.length;f++)u[f]=(n=l[f])==null?void 0:n[p];o=r(o,u)}}e.reduced[s.property]=o}}postProcessData(e){e.reduced??(e.reduced={});for(const t of this.processors)e.reduced[t.property]=t.calculate(e,e.reduced[t.property])}initDataDomainProcessor(){const{keys:e,values:t}=this,i=new Set;for(const d of t)if(d.scopes)for(const p of d.scopes)i.add(p);const n=new Map,s=new Map;let r=!0;const o=()=>{for(const d of Sh(e,t))d.valueType==="category"?n.set(d,new IG):(n.set(d,new Tu),r&&(r=(d.scopes??[]).length===i.size))};o();const a=this.buildAccessors(Sh(e,t)),l={value:void 0,missing:!1,valid:!1};return{dataDomain:n,processValue:(d,p,f,m)=>{var b,S;let y,C;if(a.has(d.property)){try{C=a.get(d.property)(p)}catch{}y=C!=null}else y=d.property in p,C=y?p[d.property]:d.missingValue;d.forceValue!=null&&(C=y&&sk(C)?-1*d.forceValue:d.forceValue,y=!0),l.missing=!y;const w="missingValue"in d;if(!y&&!w)if(typeof m=="string"){const M=d.missing.get(m)??0;d.missing.set(m,M+1)}else for(const M of m){const D=d.missing.get(M)??0;d.missing.set(M,D+1)}if(n.has(d)||o(),y&&((b=d.validation)==null?void 0:b.call(d,C,p,f))===!1)if(l.valid=!1,"invalidValue"in d)C=d.invalidValue;else return this.mode!=="integrated"&&De.warnOnce(`invalid value of type [${typeof C}] for [${d.scopes} / ${d.id}] ignored:`,`[${C}]`),l.value=void 0,l;else l.valid=!0;if(d.processor){let M=s.get(d);M==null&&(M=d.processor(),s.set(d,M)),C=M(C,f)}return(S=n.get(d))==null||S.extend(C),l.value=C,l},initDataDomain:o,scopes:i,allScopesHaveSameDefs:r}}buildAccessors(e){const t=new Map;if(this.suppressFieldDotNotation)return t;for(const i of e){if(!(i.property.includes(".")||i.property.includes("[")))continue;const s=rU(i.property);if(s==null){De.warnOnce("Invalid property path [%s]",i.property);continue}const r=YRe(s);t.set(i.property,r)}return t}};function KRe(e){const t=(i,n)=>{n.length>0&&(De.log(`DataModel.processData() - ${i}`),De.table(n))};De.log("DataModel.processData() - processedData",e),t("Key Domains",e.domain.keys),t("Group Domains",e.domain.groups??[]),t("Value Domains",e.domain.values),t("Aggregate Domains",e.domain.aggValues??[])}var aU=class dc{constructor(t,i){this.mode=t,this.suppressFieldDotNotation=i,this.debug=ii.create(!0,"data-model"),this.requested=[],this.status="setup"}async request(t,i,n){if(this.status!=="setup")throw new Error("AG Charts - data request after data setup phase.");return new Promise((s,r)=>{this.requested.push({id:t,opts:n,data:i,resolve:s,reject:r})})}execute(t){if(this.status!=="setup")throw new Error("AG Charts - data request after data setup phase.");this.status="executed",this.debug("DataController.execute() - requested",this.requested);const i=this.validateRequests(this.requested);this.debug("DataController.execute() - validated",i);const n=this.mergeRequested(i);this.debug("DataController.execute() - merged",n),this.debug.check()&&(Di().processedData=[]);const s=[];for(const{data:r,ids:o,opts:a,resolves:l,rejects:u}of n){const d=t==null?void 0:t.find(m=>VRe(m,r,o,a));let p,f;if(d==null)try{p=new oU(a,this.mode,this.suppressFieldDotNotation);const m=new Map(i.map(y=>[y.id,y.data]));f=p.processData(m)}catch(m){u.forEach(y=>y(m));continue}else({dataModel:p,processedData:f}=d);s.push({opts:a,data:r,ids:o,dataModel:p,processedData:f}),this.debug.check()&&Di("processedData").push(f),(f==null?void 0:f.partialValidDataCount)===0?l.forEach(m=>m({dataModel:p,processedData:f})):f?this.splitResult(p,f,o,l):u.forEach(m=>m(new Error("AG Charts - no processed data generated")))}return s}validateRequests(t){const i=[];for(const[n,s]of t.entries())n>0&&s.data.length!==t[0].data.length&&s.opts.groupByData===!1&&s.opts.groupByKeys===!1?s.reject(new Error("all series[].data arrays must be of the same length and have matching keys.")):i.push(s);return i}mergeRequested(t){const i=[];for(const n of t){const s=i.find(dc.groupMatch(n));s?s.push(n):i.push([n])}return i.map(dc.mergeRequests)}splitResult(t,i,n,s){for(let r=0;r<n.length;r++){const o=s[r];o({dataModel:t,processedData:i})}}static groupMatch({data:t,opts:i}){function n(u){return u.filter(d=>d.type==="key").map(d=>d.property).join(";")}const{groupByData:s,groupByKeys:r=!1,groupByFn:o,props:a}=i,l=n(a);return([u])=>(s===!1||u.data===t)&&(u.opts.groupByKeys??!1)===r&&u.opts.groupByFn===o&&n(u.opts.props)===l}static mergeRequests(t){const i=new Set(["key","group-value-processor"]);return t.reduce((n,{id:s,data:r,resolve:o,reject:a,opts:{props:l,...u}})=>{var d;n.ids.push(s),n.rejects.push(a),n.resolves.push(o),n.data??(n.data=r),n.opts??(n.opts={...u,props:[]});for(const p of l){const f={...p,scopes:[s],data:r};dc.createIdsMap(s,f);const m=n.opts.props.find(y=>y.type===f.type&&(i.has(y.type)||y.data===f.data)&&dc.deepEqual(y,f));if(!m){n.opts.props.push(f);continue}m.scopes??(m.scopes=[]),m.scopes.push(...f.scopes??[]),(m.type==="key"||m.type==="value")&&((d=f.idsMap)!=null&&d.size)&&dc.mergeIdsMap(f.idsMap,m.idsMap)}return n},{ids:[],rejects:[],resolves:[],data:null,opts:null})}static mergeIdsMap(t,i){for(const[n,s]of t){const r=i.get(n);if(r==null)i.set(n,new Set(s));else for(const o of s)r.add(o)}}static createIdsMap(t,i){i.id!=null&&(i.idsMap??(i.idsMap=new Map),i.idsMap.has(t)?i.idsMap.get(t).add(i.id):i.idsMap.set(t,new Set([i.id])))}static deepEqual(t,i){if(t===i)return!0;if(t&&i&&typeof t=="object"&&typeof i=="object"){if(t.constructor!==i.constructor)return!1;let n,s;if(Array.isArray(t)){if(s=t.length,s!==i.length)return!1;for(n=s-1;n>=0;n--)if(!dc.deepEqual(t[n],i[n]))return!1;return!0}const r=Object.keys(t);if(s=r.length,s!==Object.keys(i).length)return!1;for(n=s-1;n>=0;n--){const o=r[n];if(!dc.skipKeys.has(o)&&(!Object.hasOwn(i,o)||!dc.deepEqual(t[o],i[o])))return!1}return!0}return!1}};aU.skipKeys=new Set(["id","idsMap","type","scopes","data"]);var lU=aU,qRe=class{constructor(){this.axesMap=new Map,this.themeTemplates=new Map}register(e,t){this.axesMap.set(e,t.moduleFactory),t.themeTemplate&&this.setThemeTemplate(e,t.themeTemplate)}create(e,t){const i=this.axesMap.get(e);if(i)return i(t);throw new Error(`AG Charts - unknown axis type: ${e}`)}has(e){return this.axesMap.has(e)}keys(){return this.axesMap.keys()}setThemeTemplate(e,t){return this.themeTemplates.set(e,t),this}getThemeTemplate(e){return this.themeTemplates.get(e)}},Vh=new qRe,XC=[{type:"root",optionsKey:"animation",chartTypes:["cartesian","polar","hierarchy","topology","flow-proportion","standalone","gauge"]},{type:"root",optionsKey:"annotations",chartTypes:["cartesian"]},{type:"root",optionsKey:"background",chartTypes:["cartesian","polar","hierarchy","topology","flow-proportion","standalone","gauge"],optionsInnerKey:"image"},{type:"root",optionsKey:"foreground",chartTypes:["cartesian","polar","hierarchy","topology","flow-proportion","standalone","gauge"],optionsInnerKey:"image"},{type:"root",optionsKey:"chartToolbar",chartTypes:["cartesian"]},{type:"root",optionsKey:"contextMenu",chartTypes:["cartesian","polar","hierarchy","topology","flow-proportion","standalone","gauge"]},{type:"root",optionsKey:"statusBar",chartTypes:["cartesian"],identifier:"status-bar"},{type:"root",optionsKey:"dataSource",chartTypes:["cartesian","polar","hierarchy","topology","flow-proportion","standalone","gauge"]},{type:"root",optionsKey:"sync",chartTypes:["cartesian"]},{type:"root",optionsKey:"zoom",chartTypes:["cartesian","topology"]},{type:"root",optionsKey:"ranges",chartTypes:["cartesian"]},{type:"legend",optionsKey:"gradientLegend",chartTypes:["cartesian","polar","hierarchy","topology","flow-proportion","standalone","gauge"],identifier:"gradient"},{type:"root",optionsKey:"navigator",chartTypes:["cartesian"]},{type:"axis",optionsKey:"axes[]",chartTypes:["polar"],identifier:"angle-category"},{type:"axis",optionsKey:"axes[]",chartTypes:["polar"],identifier:"angle-number"},{type:"axis",optionsKey:"axes[]",chartTypes:["polar"],identifier:"radius-category"},{type:"axis",optionsKey:"axes[]",chartTypes:["polar"],identifier:"radius-number"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"bar",community:!0},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"line",community:!0},{type:"axis",optionsKey:"axes[]",chartTypes:["cartesian"],identifier:"ordinal-time"},{type:"axis-option",optionsKey:"crosshair",chartTypes:["cartesian"]},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"box-plot"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"candlestick"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"cone-funnel"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"funnel"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"ohlc"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"heatmap"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"range-area"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"range-bar"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"waterfall"},{type:"series",optionsKey:"series[]",chartTypes:["polar"],identifier:"nightingale"},{type:"series",optionsKey:"series[]",chartTypes:["polar"],identifier:"radar-area"},{type:"series",optionsKey:"series[]",chartTypes:["polar"],identifier:"radar-line"},{type:"series",optionsKey:"series[]",chartTypes:["polar"],identifier:"radial-bar"},{type:"series",optionsKey:"series[]",chartTypes:["polar"],identifier:"radial-column"},{type:"series",optionsKey:"series[]",chartTypes:["hierarchy"],identifier:"sunburst"},{type:"series",optionsKey:"series[]",chartTypes:["hierarchy"],identifier:"treemap"},{type:"series",optionsKey:"series[]",chartTypes:["topology"],identifier:"map-shape"},{type:"series",optionsKey:"series[]",chartTypes:["topology"],identifier:"map-line"},{type:"series",optionsKey:"series[]",chartTypes:["topology"],identifier:"map-marker"},{type:"series",optionsKey:"series[]",chartTypes:["topology"],identifier:"map-shape-background"},{type:"series",optionsKey:"series[]",chartTypes:["topology"],identifier:"map-line-background"},{type:"series",optionsKey:"series[]",chartTypes:["flow-proportion"],identifier:"chord"},{type:"series",optionsKey:"series[]",chartTypes:["flow-proportion"],identifier:"sankey"},{type:"series",optionsKey:"series[]",chartTypes:["standalone"],identifier:"pyramid"},{type:"series",optionsKey:"series[]",chartTypes:["gauge"],identifier:"linear-gauge"},{type:"series",optionsKey:"series[]",chartTypes:["gauge"],identifier:"radial-gauge"},{type:"series-option",optionsKey:"errorBar",chartTypes:["cartesian"],identifier:"error-bars"},{type:"context",contextKey:"sharedToolbar",chartTypes:["cartesian"]}];function xp(e){var t;return(t=XC.find(i=>i.type==="series"&&i.identifier===e))==null?void 0:t.chartTypes}function ZRe(e){var i;return((i=xp(e))==null?void 0:i.find(n=>n==="cartesian"))==="cartesian"}function XRe(e){var i;return((i=xp(e))==null?void 0:i.find(n=>n==="polar"))==="polar"}function QRe(e){var i;return((i=xp(e))==null?void 0:i.find(n=>n==="hierarchy"))==="hierarchy"}function JRe(e){var i;return((i=xp(e))==null?void 0:i.find(n=>n==="topology"))==="topology"}function eEe(e){var i;return((i=xp(e))==null?void 0:i.find(n=>n==="flow-proportion"))==="flow-proportion"}function tEe(e){var i;return((i=xp(e))==null?void 0:i.find(n=>n==="standalone"))==="standalone"}function iEe(e){var i;return((i=xp(e))==null?void 0:i.find(n=>n==="gauge"))==="gauge"}function nEe(e){return e.packageType==="enterprise"}function sEe(e){if(!nEe(e))throw new Error("AG Charts - internal configuration error, only enterprise modules need verification.");const t=XC.find(i=>i.type===e.type&&("optionsKey"in i&&"optionsKey"in e?i.optionsKey===e.optionsKey:!0)&&("contextKey"in i&&"contextKey"in e?i.contextKey===e.contextKey:!0)&&i.identifier===e.identifier&&e.chartTypes.every(n=>i.chartTypes.includes(n)));return t&&(t.useCount??(t.useCount=0),t.useCount++),t!=null}function rEe(){return XC.filter(({useCount:e})=>e==null||e===0)}var oEe=class{constructor(){this.legendMap=new Map,this.themeTemplates=new Map}register(e,{optionsKey:t,moduleFactory:i,themeTemplate:n}){this.legendMap.set(e,{optionsKey:t,moduleFactory:i}),this.themeTemplates.set(t,n)}create(e,t){var n;const i=(n=this.legendMap.get(e))==null?void 0:n.moduleFactory;if(i)return i(t);throw new Error(`AG Charts - unknown legend type: ${e}`)}getThemeTemplates(){return Object.fromEntries(this.themeTemplates)}getKeys(){return Array.from(this.legendMap.entries()).reduce((e,[t,i])=>(e[t]=i.optionsKey,e),{})}},Vk=new oEe,cU=class extends Map{get(e){return super.get(e)??"unknown"}isCartesian(e){return this.get(e)==="cartesian"}isPolar(e){return this.get(e)==="polar"}isHierarchy(e){return this.get(e)==="hierarchy"}isTopology(e){return this.get(e)==="topology"}isFlowProportion(e){return this.get(e)==="flow-proportion"}isStandalone(e){return this.get(e)==="standalone"}isGauge(e){return this.get(e)==="gauge"}get seriesTypes(){return Array.from(this.keys())}get cartesianTypes(){return this.seriesTypes.filter(e=>this.isCartesian(e))}get polarTypes(){return this.seriesTypes.filter(e=>this.isPolar(e))}get hierarchyTypes(){return this.seriesTypes.filter(e=>this.isHierarchy(e))}get topologyTypes(){return this.seriesTypes.filter(e=>this.isTopology(e))}get flowProportionTypes(){return this.seriesTypes.filter(e=>this.isFlowProportion(e))}get standaloneTypes(){return this.seriesTypes.filter(e=>this.isStandalone(e))}get gaugeTypes(){return this.seriesTypes.filter(e=>this.isGauge(e))}},aEe=class extends Map{set(e,t){return super.set(e,Vt(t,this.get(e)))}},en=new cU,lEe=new cU,KA=new aEe,cEe=class{constructor(){this.seriesMap=new Map,this.themeTemplates=new Map}register(e,{chartTypes:[t],moduleFactory:i,tooltipDefaults:n,defaultAxes:s,themeTemplate:r,solo:o,stackable:a,groupable:l,stackedByDefault:u,hidden:d}){this.setThemeTemplate(e,r),this.seriesMap.set(e,{moduleFactory:i,tooltipDefaults:n,defaultAxes:s,solo:o,stackable:a,groupable:l,stackedByDefault:u}),en.set(e,t),d||lEe.set(e,t)}create(e,t){var n;const i=(n=this.seriesMap.get(e))==null?void 0:n.moduleFactory;if(i)return i(t);throw new Error(`AG Charts - unknown series type: ${e}`)}cloneDefaultAxes(e){var i;const t=(i=this.seriesMap.get(e))==null?void 0:i.defaultAxes;return t==null?null:{axes:ji(t)}}setThemeTemplate(e,t){const i=this.themeTemplates.get(e);this.themeTemplates.set(e,Vt(t,i))}getThemeTemplate(e){return this.themeTemplates.get(e)}getTooltipDefauls(e){var t;return(t=this.seriesMap.get(e))==null?void 0:t.tooltipDefaults}isSolo(e){var t;return((t=this.seriesMap.get(e))==null?void 0:t.solo)??!1}isGroupable(e){var t;return((t=this.seriesMap.get(e))==null?void 0:t.groupable)??!1}isStackable(e){var t;return((t=this.seriesMap.get(e))==null?void 0:t.stackable)??!1}isStackedByDefault(e){var t;return((t=this.seriesMap.get(e))==null?void 0:t.stackedByDefault)??!1}},Oo=new cEe,Wk=class hh extends Cd{constructor(t){super(),this.chart=t}subscribe(t=hh.DEFAULT_GROUP){let i=this.get(t);return i||(i=new Set,hh.chartsGroups.set(t,i)),i.add(this.chart),this}unsubscribe(t=hh.DEFAULT_GROUP){var i;return(i=this.get(t))==null||i.delete(this.chart),this}getChart(){return this.chart}getGroup(t=hh.DEFAULT_GROUP){const i=this.get(t);return i?Array.from(i):[]}getGroupSiblings(t=hh.DEFAULT_GROUP){return this.getGroup(t).filter(i=>i!==this.chart)}get(t){return hh.chartsGroups.get(t)}};Wk.chartsGroups=new Map;Wk.DEFAULT_GROUP=Symbol("sync-group-default");var uEe=Wk,Uk=class extends gt{constructor(){super(...arguments),this.enabled=!1}};I([O()],Uk.prototype,"enabled",2);I([O()],Uk.prototype,"tabIndex",2);var uU={};_a(uU,{NODE_UPDATE_STATE_TO_PHASE_MAPPING:()=>wa,fromToMotion:()=>fn,staticFromToMotion:()=>jc});var wa={added:"add",updated:"update",removed:"remove",unknown:"initial","no-op":"none"};function fn(e,t,i,n,s,r,o){const{fromFn:a,toFn:l,applyFn:u=(y,C)=>y.setProperties(C)}=s,{nodes:d,selections:p}=AM(n),f=(y,C)=>{let w,b=0,S=0;for(const M of C){const D=y[b]===M,R={last:S>=C.length-1,lastLive:b>=y.length-1,prev:C[S-1],prevFromProps:w,prevLive:y[b-1],next:C[S+1],nextLive:y[b+(D?1:0)]},A=`${e}_${t}_${M.id}`;i.stopByAnimationId(A);let k="unknown";D?r&&o&&(k=dEe(M,M.datum,r,o)):k="removed",M.transitionOut=k==="removed";const{phase:F,start:P,finish:L,delay:z,duration:H,...V}=a(M,M.datum,k,R),{phase:q,start:K,finish:j,delay:Z,duration:W,...Y}=l(M,M.datum,k,R),G=L==null;i.animate({id:A,groupId:e,phase:F??q??"update",duration:H??W,delay:z??Z,from:V,to:Y,ease:Qv,collapsable:G,onPlay:()=>{const U={...P,...K,...V};u(M,U,"start")},onUpdate(U){u(M,U,"update")},onStop:()=>{const U={...P,...K,...V,...Y,...L,...j};u(M,U,"end")}}),D&&b++,S++,w=V}};let m=0;for(const y of p){const C=y.nodes(),w=C.filter(b=>!y.isGarbage(b));f(w,C),i.animate({id:`${e}_${t}_selection_${m}`,groupId:e,phase:"end",from:0,to:1,ease:Qv,onStop(){y.cleanup()}}),m++}f(d,d)}function jc(e,t,i,n,s,r,o){const{nodes:a,selections:l}=AM(n),{start:u,finish:d,phase:p}=o;i.animate({id:`${e}_${t}`,groupId:e,phase:p??"update",from:s,to:r,ease:Qv,onPlay:()=>{if(u){for(const f of a)f.setProperties(u);for(const f of l)for(const m of f.nodes())m.setProperties(u)}},onUpdate(f){for(const m of a)m.setProperties(f);for(const m of l)for(const y of m.nodes())y.setProperties(f)},onStop:()=>{for(const f of a)f.setProperties({...r,...d});for(const f of l){for(const m of f.nodes())m.setProperties({...r,...d});f.cleanup()}}})}function dEe(e,t,i,n){const s=i(e,t);return n.added.has(s)?"added":n.removed.has(s)?"removed":"updated"}var dU={};_a(dU,{resetMotion:()=>hs});function hs(e,t){const{nodes:i,selections:n}=AM(e);for(const s of n){for(const r of s.nodes()){const o=t(r,r.datum);r.setProperties(o)}s.cleanup()}for(const s of i){const r=t(s,s.datum);s.setProperties(r)}}var N1="color: green",B1="color: grey";function hEe(){return TW(()=>{})}function qA(e,t){const i=Xu(t);if(i.length===0)return;const n=AW(e);for(const s of i)s in n&&(t[s]=n[s])}var hU=class{transitionRoot(e,t){this.parent?this.parent.transitionRoot(e,t):this.transition(e,t)}},$k=class Dr extends hU{constructor(t,i,n){super(),this.defaultState=t,this.states=i,this.enterEach=n,this.debug=ii.create(!0,"animation"),this.state=t,this.debug(`%c${this.constructor.name} | init -> ${t}`,N1)}transition(t,i){var d,p,f,m;if(!this.transitionChild(t,i)||this.state===Dr.child||this.state===Dr.parent)return;const s=this.state,r=this.states[this.state];let o=r[t];const a=`%c${this.constructor.name} | ${this.state} -> ${t} ->`;if(Array.isArray(o))o=o.find(y=>{if(!y.guard)return!0;const C=y.guard(i);return C||this.debug(`${a} (guarded)`,y.target,B1),C});else if(typeof o=="object"&&!(o instanceof Dr)&&o.guard&&!o.guard(i)){this.debug(`${a} (guarded)`,o.target,B1);return}if(!o){this.debug(`${a} ${this.state}`,B1);return}const l=this.getDestinationState(o),u=l===this.state?void 0:r.onExit;this.debug(`${a} ${l}`,N1),this.state=l,typeof o=="function"?o(i):typeof o=="object"&&!(o instanceof Dr)&&((d=o.action)==null||d.call(o,i)),u==null||u(),(p=this.enterEach)==null||p.call(this,s,l),l!==s&&l!==Dr.child&&l!==Dr.parent&&((m=(f=this.states[l]).onEnter)==null||m.call(f,s,i))}transitionAsync(t,i){setTimeout(()=>{this.transition(t,i)},0)}is(t){return this.state===Dr.child&&this.childState?this.childState.is(t):this.state===t}resetHierarchy(){this.debug(`%c${this.constructor.name} | ${this.state} -> [resetHierarchy] -> ${this.defaultState}`,"color: green"),this.state=this.defaultState}transitionChild(t,i){var n,s;return this.state!==Dr.child||!this.childState||(qA(this,this.childState),this.childState.transition(t,i),!this.childState.is(Dr.parent))?!0:(this.debug(`%c${this.constructor.name} | ${this.state} -> ${t} -> ${this.defaultState}`,N1),this.state=this.defaultState,(s=(n=this.states[this.state]).onEnter)==null||s.call(n),this.childState.resetHierarchy(),!1)}getDestinationState(t){let i=this.state;return typeof t=="string"?i=t:t instanceof Dr?(this.childState=t,this.childState.parent=this,i=Dr.child):typeof t=="object"&&(t.target instanceof Dr?(this.childState=t.target,this.childState.parent=this,i=Dr.child):t.target!=null&&(i=t.target)),i}};$k.child="__child";$k.parent="__parent";var QC=$k,pEe=class extends hU{constructor(...e){super(),this.stateMachines=e;for(const t of e)t.parent=this}transition(e,t){for(const i of this.stateMachines)qA(this,i),i.transition(e,t)}transitionAsync(e,t){for(const i of this.stateMachines)qA(this,i),i.transitionAsync(e,t)}},Yk=class{constructor(){this.moduleMap=new Map}*modules(){for(const e of this.moduleMap.values())yield e.moduleInstance}addModule(e,t){if(this.moduleMap.has(e.optionsKey))throw new Error(`AG Charts - module already initialised: ${e.optionsKey}`);this.moduleMap.set(e.optionsKey,{module:e,moduleInstance:t(e)})}removeModule(e){var i;const t=ms(e)?e:e.optionsKey;(i=this.moduleMap.get(t))==null||i.moduleInstance.destroy(),this.moduleMap.delete(t)}getModule(e){var t;return(t=this.moduleMap.get(ms(e)?e:e.optionsKey))==null?void 0:t.moduleInstance}isEnabled(e){return this.moduleMap.has(ms(e)?e:e.optionsKey)}mapModules(e){return Array.from(this.moduleMap.values(),(t,i)=>e(t.moduleInstance,i))}destroy(){var e;for(const t of this.moduleMap.keys())(e=this.moduleMap.get(t))==null||e.moduleInstance.destroy();this.moduleMap.clear()}},Bn=class ph{constructor(t,i,n=!0){this.parentNode=t,this.autoCleanup=n,this.garbageBin=new Set,this._nodesMap=new Map,this._nodes=[],this.data=[],this.debug=ii.create(!0,"scene","scene:selections"),this.nodeFactory=Object.prototype.isPrototypeOf.call(Fc,i)?()=>new i:i}static select(t,i,n=!0){return new ph(t,i,n)}static selectAll(t,i){const n=[],s=r=>{i(r)&&n.push(r);for(const o of r.children())s(o)};return s(t),n}static selectByClass(t,...i){return ph.selectAll(t,n=>i.some(s=>n instanceof s))}static selectByTag(t,i){return ph.selectAll(t,n=>n.tag===i)}createNode(t,i,n){const s=this.nodeFactory(t);return s.datum=t,i==null||i(s),n==null?this._nodes.push(s):this._nodes.splice(n,0,s),this.parentNode.appendChild(s),s}update(t,i,n){if(this.garbageBin.size>0&&this.debug("Selection - update() called with pending garbage",t),n){const s=new Map(t.map((r,o)=>[n(r),[r,o]]));for(const[r,o]of this._nodesMap.entries())if(s.has(o)){const[a]=s.get(o);r.datum=a,this.garbageBin.delete(r),s.delete(o)}else this.garbageBin.add(r);for(const[r,[o,a]]of s.entries())this._nodesMap.set(this.createNode(o,i,a),r)}else{const s=Math.max(t.length,this.data.length);for(let r=0;r<s;r++)r>=t.length?this.garbageBin.add(this._nodes[r]):r>=this._nodes.length?this.createNode(t[r],i):(this._nodes[r].datum=t[r],this.garbageBin.delete(this._nodes[r]))}return this.data=t.slice(),this.autoCleanup&&this.cleanup(),this}cleanup(){return this.garbageBin.size===0?this:(this._nodes=this._nodes.filter(t=>this.garbageBin.has(t)?(this._nodesMap.delete(t),this.garbageBin.delete(t),t.destroy(),!1):!0),this)}clear(){return this.update([]),this}isGarbage(t){return this.garbageBin.has(t)}each(t){for(const i of this._nodes.entries())t(i[1],i[1].datum,i[0]);return this}*[Symbol.iterator](){for(let t=0;t<this._nodes.length;t++){const i=this._nodes[t];yield{node:i,datum:i.datum,index:t}}}select(t){return ph.selectAll(this.parentNode,t)}selectByClass(t){return ph.selectByClass(this.parentNode,t)}selectByTag(t){return ph.selectByTag(this.parentNode,t)}nodes(){return this._nodes}at(t){return this._nodes.at(t)}get length(){return this._nodes.length}},uo=class extends ea{constructor(e={}){super(e),this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.restoreOwnStyles()}set x(e){this.x1=e,this.x2=e}set y(e){this.y1=e,this.y2=e}get midPoint(){return{x:(this.x1+this.x2)/2,y:(this.y1+this.y2)/2}}computeBBox(){return new Ue(Math.min(this.x1,this.x2),Math.min(this.y1,this.y2),Math.abs(this.x2-this.x1),Math.abs(this.y2-this.y1))}isPointInPath(e,t){return this.x1===this.x2||this.y1===this.y2?this.getBBox().clone().grow(this.strokeWidth/2).containsPoint(e,t):!1}distanceSquared(e,t){const{x1:i,y1:n,x2:s,y2:r}=this;return hv(e,t,i,n,s,r,1/0)}render(e){var a;const{ctx:t,devicePixelRatio:i}=e;let{x1:n,y1:s,x2:r,y2:o}=this;if(n===r){const{strokeWidth:l}=this,u=Math.round(n*i)/i+Math.trunc(l*i)%2/(i*2);n=u,r=u}else if(s===o){const{strokeWidth:l}=this,u=Math.round(s*i)/i+Math.trunc(l*i)%2/(i*2);s=u,o=u}t.beginPath(),t.moveTo(n,s),t.lineTo(r,o),this.fillStroke(t),(a=this.fillShadow)==null||a.markClean(),super.render(e)}toSVG(){if(!this.visible)return;const e=gs("line");return e.setAttribute("x1",String(this.x1)),e.setAttribute("y1",String(this.y1)),e.setAttribute("x2",String(this.x2)),e.setAttribute("y2",String(this.y2)),this.applySvgStrokeAttributes(e),{elements:[e]}}};uo.className="Line";uo.defaultStyles={...ea.defaultStyles,fill:void 0,strokeWidth:1};I([$e()],uo.prototype,"x1",2);I([$e()],uo.prototype,"y1",2);I([$e()],uo.prototype,"x2",2);I([$e()],uo.prototype,"y2",2);var ja=class extends ea{constructor(e={}){super(e),this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.startLine=!1,this.endLine=!1,this.isRange=!1,this.restoreOwnStyles()}computeBBox(){return new Ue(this.x1,this.y1,this.x2-this.x1,this.y2-this.y1)}isPointInPath(e,t){return!1}render(e){var C;const{ctx:t}=e;let{x1:i,y1:n,x2:s,y2:r}=this;i=this.align(i),n=this.align(n),s=this.align(s),r=this.align(r);const{fill:o,opacity:a,isRange:l}=this;if(!!(l&&o)){const{fillOpacity:w}=this;this.applyFill(t),t.globalAlpha=a*w,t.beginPath(),t.moveTo(i,n),t.lineTo(s,n),t.lineTo(s,r),t.lineTo(i,r),t.closePath(),t.fill()}const{stroke:d,strokeWidth:p,startLine:f,endLine:m}=this;if(!!((f||m)&&d&&p)){const{strokeOpacity:w,lineDash:b,lineDashOffset:S,lineCap:M,lineJoin:D}=this;this.applyStroke(t),t.globalAlpha=a*w,t.lineWidth=p,b&&t.setLineDash(b),S&&(t.lineDashOffset=S),M&&(t.lineCap=M),D&&(t.lineJoin=D),t.beginPath(),f&&(t.moveTo(i,n),t.lineTo(s,n)),m&&(t.moveTo(s,r),t.lineTo(i,r)),t.stroke()}(C=this.fillShadow)==null||C.markClean(),super.render(e)}};ja.className="Range";ja.defaultStyles={...ea.defaultStyles,strokeWidth:1};I([$e()],ja.prototype,"x1",2);I([$e()],ja.prototype,"y1",2);I([$e()],ja.prototype,"x2",2);I([$e()],ja.prototype,"y2",2);I([$e()],ja.prototype,"startLine",2);I([$e()],ja.prototype,"endLine",2);I([$e()],ja.prototype,"isRange",2);var rs=class extends gt{constructor(){super(...arguments),this.enabled=!0}getFont(){return Ui.toFontString(this)}};I([O()],rs.prototype,"enabled",2);I([O()],rs.prototype,"color",2);I([O()],rs.prototype,"fontStyle",2);I([O()],rs.prototype,"fontWeight",2);I([O()],rs.prototype,"fontSize",2);I([O()],rs.prototype,"fontFamily",2);I([O()],rs.prototype,"formatter",2);function rx(e){const{parallelFlipRotation:t=0,regularFlipRotation:i=0}=e,n=e.rotation?Li(Ki(e.rotation)):0,s=!n&&t>=0&&t<=Math.PI?-1:1,r=!n&&i>=0&&i<=Math.PI?-1:1;let o=0;return e.parallel?o=s*Math.PI/2:r===-1&&(o=Math.PI),{configuredRotation:n,defaultRotation:o,parallelFlipFlag:s,regularFlipFlag:r}}function fEe(e,t){return e??(t?0:10)}function gEe(e,t,i,n){return e&&!t?i*n===-1?"hanging":"bottom":"middle"}function kG(e,t,i,n,s){const r=t>0&&t<=Math.PI,o=i>0&&i<=Math.PI,a=r||o?-1:1;if(e)if(t||i){if(n*a===-1)return"end"}else return"center";else if(n*s===-1)return"end";return"start"}function mEe(e,t,i,n){const s=[];for(const{tickLabel:r,translationY:o}of e){if(!r)continue;const{width:a,height:l}=n.measureLines(r),u=new Ue(t,o,a,l),d=new Ue(t,o,0,0);i.transformBBox(d,u);const{x:p,y:f}=u;s.push({point:{x:p,y:f},label:{text:r,width:a,height:l}})}return s}function yEe(e){return e!=null&&Object.hasOwn(e,"toString")&&ms(e.toString())}function vEe(e){return e!=null&&Object.hasOwn(e,"valueOf")&&Qt(e.valueOf())}function kM(e){return Qt(e)||jC(e)||vEe(e)}function CEe(e,t){return e!=null&&(!t||kM(e))}function ZA(e){return yEe(e)&&Object.hasOwn(e,"id")?e.id:e}var Kk=e=>e==="value"?yi((t,i)=>i.target.type==="line",t=>t.target.type==="range"?"crossLine type 'range' to have a 'range' property instead of 'value'":"crossLine property 'type' to be 'line'"):yi((t,i)=>i.target.type==="range",t=>t.target.type==="line"?"crossLine type 'line' to have a 'value' property instead of 'range'":"crossLine property 'type' to be 'range'");function pU(e){switch(e.type){case"line":return e.value;case"range":return e.range}}function fU(e,t){if(e==null)return!1;const i=mi.is(t)||Rc.is(t),n=s=>CEe(s,i)&&!isNaN(t.convert(s));if(xt(e)){const[s,r]=e;return n(s)&&n(r)}else return n(e)}var bEe={top:{xTranslationDirection:0,yTranslationDirection:-1},bottom:{xTranslationDirection:0,yTranslationDirection:1},left:{xTranslationDirection:-1,yTranslationDirection:0},right:{xTranslationDirection:1,yTranslationDirection:0},"top-left":{xTranslationDirection:1,yTranslationDirection:-1},"top-right":{xTranslationDirection:-1,yTranslationDirection:-1},"bottom-left":{xTranslationDirection:1,yTranslationDirection:1},"bottom-right":{xTranslationDirection:-1,yTranslationDirection:1},inside:{xTranslationDirection:0,yTranslationDirection:0},"inside-left":{xTranslationDirection:1,yTranslationDirection:0},"inside-right":{xTranslationDirection:-1,yTranslationDirection:0},"inside-top":{xTranslationDirection:0,yTranslationDirection:1},"inside-bottom":{xTranslationDirection:0,yTranslationDirection:-1},"inside-top-left":{xTranslationDirection:1,yTranslationDirection:1},"inside-bottom-left":{xTranslationDirection:1,yTranslationDirection:-1},"inside-top-right":{xTranslationDirection:-1,yTranslationDirection:1},"inside-bottom-right":{xTranslationDirection:-1,yTranslationDirection:-1}},wEe={top:{xTranslationDirection:1,yTranslationDirection:0},bottom:{xTranslationDirection:-1,yTranslationDirection:0},left:{xTranslationDirection:0,yTranslationDirection:-1},right:{xTranslationDirection:0,yTranslationDirection:1},"top-left":{xTranslationDirection:-1,yTranslationDirection:-1},"top-right":{xTranslationDirection:-1,yTranslationDirection:1},"bottom-left":{xTranslationDirection:1,yTranslationDirection:-1},"bottom-right":{xTranslationDirection:1,yTranslationDirection:1},inside:{xTranslationDirection:0,yTranslationDirection:0},"inside-left":{xTranslationDirection:0,yTranslationDirection:1},"inside-right":{xTranslationDirection:0,yTranslationDirection:-1},"inside-top":{xTranslationDirection:-1,yTranslationDirection:0},"inside-bottom":{xTranslationDirection:1,yTranslationDirection:0},"inside-top-left":{xTranslationDirection:-1,yTranslationDirection:1},"inside-bottom-left":{xTranslationDirection:1,yTranslationDirection:1},"inside-top-right":{xTranslationDirection:-1,yTranslationDirection:-1},"inside-bottom-right":{xTranslationDirection:1,yTranslationDirection:-1}};function XA({yDirection:e,padding:t=0,position:i="top",bbox:n}){const s=e?bEe:wEe,{xTranslationDirection:r,yTranslationDirection:o}=s[i],a=r*(t+n.width/2),l=o*(t+n.height/2);return{xTranslation:a,yTranslation:l}}function gU({yDirection:e,bbox:t,padding:i=0,position:n="top"}){const s={};return n.startsWith("inside")||(n==="top"&&!e?s.top=i+t.height:n==="bottom"&&!e?s.bottom=i+t.height:n==="left"&&e?s.left=i+t.width:n==="right"&&e&&(s.right=i+t.width)),s}var ox=({direction:e,xEnd:t,yStart:i,yEnd:n})=>e==="y"?{x:t/2,y:i}:{x:t,y:isNaN(n)?i:(i+n)/2},PG=({direction:e,xStart:t,xEnd:i,yStart:n,yEnd:s})=>e==="y"?{x:t,y:isNaN(s)?n:(n+s)/2}:{x:i/2,y:n},FG=({direction:e,xEnd:t,yStart:i,yEnd:n})=>e==="y"?{x:t,y:isNaN(n)?i:(i+n)/2}:{x:t/2,y:isNaN(n)?i:n},OG=({direction:e,xStart:t,xEnd:i,yStart:n,yEnd:s})=>e==="y"?{x:i/2,y:isNaN(s)?n:s}:{x:t,y:isNaN(s)?n:(n+s)/2},SEe=({xEnd:e,yStart:t,yEnd:i})=>({x:e/2,y:isNaN(i)?t:(t+i)/2}),NG=({direction:e,xStart:t,xEnd:i,yStart:n})=>e==="y"?{x:t/2,y:n}:{x:i,y:n},BG=({direction:e,xStart:t,yStart:i,yEnd:n})=>e==="y"?{x:t,y:isNaN(n)?i:n}:{x:t,y:i},zG=({direction:e,xEnd:t,yStart:i,yEnd:n})=>e==="y"?{x:t,y:i}:{x:t,y:isNaN(n)?i:n},GG=({direction:e,xStart:t,xEnd:i,yStart:n,yEnd:s})=>e==="y"?{x:i,y:isNaN(s)?n:s}:{x:t,y:isNaN(s)?n:s},mU={top:{c:ox},bottom:{c:OG},left:{c:PG},right:{c:FG},"top-left":{c:NG},"top-right":{c:zG},"bottom-left":{c:BG},"bottom-right":{c:GG},inside:{c:SEe},"inside-left":{c:PG},"inside-right":{c:FG},"inside-top":{c:ox},"inside-bottom":{c:OG},"inside-top-left":{c:NG},"inside-bottom-left":{c:BG},"inside-top-right":{c:zG},"inside-bottom-right":{c:GG}};vi(["top","left","right","bottom","top-left","top-right","bottom-left","bottom-right","inside","inside-left","inside-right","inside-top","inside-bottom","inside-top-left","inside-bottom-left","inside-top-right","inside-bottom-right"],"crossLine label position");var ia=class extends gt{constructor(){super(...arguments),this.fontSize=14,this.fontFamily="Verdana, sans-serif",this.padding=5,this.color="rgba(87, 87, 87, 1)"}};I([O()],ia.prototype,"enabled",2);I([O()],ia.prototype,"text",2);I([O()],ia.prototype,"fontStyle",2);I([O()],ia.prototype,"fontWeight",2);I([O()],ia.prototype,"fontSize",2);I([O()],ia.prototype,"fontFamily",2);I([O()],ia.prototype,"padding",2);I([O()],ia.prototype,"color",2);I([O()],ia.prototype,"position",2);I([O()],ia.prototype,"rotation",2);I([O()],ia.prototype,"parallel",2);var mr=class extends gt{constructor(){super(),this.id=ro(this),this.defaultColorRange=[],this.fill="#c16068",this.label=new ia,this.scale=void 0,this.clippedRange=[-1/0,1/0],this.gridLength=0,this.sideFlag=-1,this.parallelFlipRotation=0,this.regularFlipRotation=0,this.direction="x",this.rangeGroup=new dt({name:this.id}),this.lineGroup=new dt({name:this.id}),this.labelGroup=new dt({name:this.id}),this.crossLineRange=new ja,this.crossLineLabel=new Ag,this.labelPoint=void 0,this.data=void 0,this.startLine=!1,this.endLine=!1,this._isRange=void 0,this.lineGroup.append(this.crossLineRange),this.labelGroup.append(this.crossLineLabel),this.crossLineRange.pointerEvents=1}update(e){const{enabled:t,type:i,data:n,scale:s}=this;if(!s||!t||!e||!this.isValid()||!fU(pU(this),s)||n==null){this.rangeGroup.visible=!1,this.lineGroup.visible=!1,this.labelGroup.visible=!1;return}this.rangeGroup.visible=e,this.lineGroup.visible=e,this.labelGroup.visible=e,this.updateNodes();const r=i==="range";r!==this._isRange&&(r?this.rangeGroup.appendChild(this.crossLineRange):this.lineGroup.appendChild(this.crossLineRange)),this._isRange=r}calculateLayout(e,t){if(!e)return;const{type:i,range:n,value:s,scale:r,gridLength:o,sideFlag:a,direction:l,label:{position:u="top"},clippedRange:d,strokeWidth:p=0}=this;if(this.data=void 0,!r)return;const f=r.bandwidth??0,m=r.step??0,y=(t?-1:1)*(r instanceof ZC?(m-f)/2:0),[C,w]=[0,a*o];let b,S,M,D;if(i==="line"){const P=f/2;b=r.convert(s)+P,S=NaN,M=r.convert(s,!0)+P,D=NaN}else if(n){const[P,L]=n,z=(P==null?void 0:P.valueOf())===(L==null?void 0:L.valueOf())&&Rc.is(r)?f/2+y:0;b=r.convert(P)+z,S=r.convert(L)+f,M=r.convert(P,!0)+z-y,D=r.convert(L,!0)+f+y}else return;M=UA(M,d),D=UA(D,d);const R=(b===M||S===D||M!==D)&&Math.abs(D-M)>0;if(R&&M>D&&([M,D]=[D,M],[b,S]=[S,b]),b-y>=M&&(b-=y),S+y<=D&&(S+=y),this.startLine=p>0&&b>=M&&b<=M+y,this.endLine=p>0&&S>=D-f-y&&S<=D,i==="range"&&!R&&!this.startLine&&!this.endLine||(this.data=[M,D],this.label.enabled===!1||!this.label.text))return;const{c:A=ox}=mU[u]??{},{x:k,y:F}=A({direction:l,xStart:C,xEnd:w,yStart:M,yEnd:D});this.labelPoint={x:k,y:F}}updateNodes(){this.updateRangeNode();const{label:e}=this;e.enabled!==!1&&e.text&&(this.updateLabel(),this.positionLabel())}updateRangeNode(){const{type:e,crossLineRange:t,sideFlag:i,gridLength:n,data:s,startLine:r,endLine:o,fill:a,fillOpacity:l,stroke:u,strokeWidth:d,lineDash:p}=this;t.x1=0,t.x2=i*n,t.y1=(s==null?void 0:s[0])??0,t.y2=(s==null?void 0:s[1])??0,t.startLine=r,t.endLine=o,t.isRange=e==="range",t.fill=a,t.fillOpacity=l??1,t.stroke=u,t.strokeWidth=d??1,t.strokeOpacity=this.strokeOpacity??1,t.lineDash=p}updateLabel(){const{crossLineLabel:e,label:t}=this;t.text&&(e.fontStyle=t.fontStyle,e.fontWeight=t.fontWeight,e.fontSize=t.fontSize,e.fontFamily=t.fontFamily,e.fill=t.color,e.text=t.text)}positionLabel(){const{crossLineLabel:e,labelPoint:{x:t=void 0,y:i=void 0}={},label:{parallel:n,rotation:s,position:r="top",padding:o=0},direction:a,parallelFlipRotation:l,regularFlipRotation:u}=this;if(t===void 0||i===void 0)return;const{defaultRotation:d,configuredRotation:p}=rx({rotation:s,parallel:n,regularFlipRotation:u,parallelFlipRotation:l});e.rotation=d+p,e.textBaseline="middle",e.textAlign="center";const f=e.getBBox();if(!f)return;const m=a==="y",{xTranslation:y,yTranslation:C}=XA({yDirection:m,padding:o,position:r,bbox:f});e.translationX=t+y,e.translationY=i+C}computeLabelBBox(){const{label:e}=this;if(e.enabled===!1||!e.text)return;const t=new Ag;t.fontFamily=e.fontFamily,t.fontSize=e.fontSize,t.fontStyle=e.fontStyle,t.fontWeight=e.fontWeight,t.text=e.text;const{labelPoint:{x:i=void 0,y:n=void 0}={},label:{parallel:s,rotation:r,position:o="top",padding:a=0},direction:l,parallelFlipRotation:u,regularFlipRotation:d}=this;if(i===void 0||n===void 0)return;const{configuredRotation:p}=rx({rotation:r,parallel:s,regularFlipRotation:d,parallelFlipRotation:u});t.rotation=p,t.textBaseline="middle",t.textAlign="center";const f=t.getBBox();if(!f)return;const m=l==="y",{xTranslation:y,yTranslation:C}=XA({yDirection:m,padding:a,position:o,bbox:f});return t.x=i+y,t.y=n+C,t.getBBox()}calculatePadding(e){const{data:t,direction:i,label:{padding:n=0,position:s="top"}}=this;if(t==null)return;const r=this.computeLabelBBox();if((r==null?void 0:r.x)==null||(r==null?void 0:r.y)==null)return;const o=gU({yDirection:i==="y",padding:n,position:s,bbox:r});e.left=Math.max(e.left??0,o.left??0),e.right=Math.max(e.right??0,o.right??0),e.top=Math.max(e.top??0,o.top??0),e.bottom=Math.max(e.bottom??0,o.bottom??0)}};mr.className="CrossLine";I([O()],mr.prototype,"enabled",2);I([O(vi(["range","line"],"a crossLine type"))],mr.prototype,"type",2);I([O(md(Kk("range"),pk.restrict({length:2})))],mr.prototype,"range",2);I([O(Kk("value"))],mr.prototype,"value",2);I([O()],mr.prototype,"defaultColorRange",2);I([O()],mr.prototype,"fill",2);I([O()],mr.prototype,"fillOpacity",2);I([O()],mr.prototype,"stroke",2);I([O()],mr.prototype,"strokeWidth",2);I([O()],mr.prototype,"strokeOpacity",2);I([O()],mr.prototype,"lineDash",2);I([O()],mr.prototype,"label",2);var xEe=["stroke","lineDash"];ss(e=>In(e)&&Object.keys(e).every(t=>xEe.includes(t)),"objects with gridline style properties such as 'stroke' or 'lineDash'");var PM=class{constructor(){this.enabled=!0,this.width=1,this.style=[{stroke:void 0,lineDash:[]}]}};I([O()],PM.prototype,"enabled",2);I([O()],PM.prototype,"width",2);I([O()],PM.prototype,"style",2);var MEe=yi(e=>Qt(e)&&e>0||e instanceof cp,"a non-zero positive Number value or, for a time axis, a Time Interval such as 'agCharts.time.month'"),Mp=class extends gt{};I([O()],Mp.prototype,"step",2);I([O()],Mp.prototype,"values",2);I([O()],Mp.prototype,"minSpacing",2);I([O()],Mp.prototype,"maxSpacing",2);var os=class extends gt{constructor(){super(...arguments),this.enabled=!0,this.spacing=5,this.color="#575757",this.avoidCollisions=!0,this.mirrored=!1,this.parallel=!1}getSideFlag(){return this.mirrored?1:-1}getFont(){return Ui.toFontString(this)}};I([O()],os.prototype,"enabled",2);I([O()],os.prototype,"fontStyle",2);I([O()],os.prototype,"fontWeight",2);I([O(oo.restrict({min:1}))],os.prototype,"fontSize",2);I([O()],os.prototype,"fontFamily",2);I([O()],os.prototype,"spacing",2);I([O()],os.prototype,"minSpacing",2);I([O()],os.prototype,"color",2);I([O()],os.prototype,"rotation",2);I([O()],os.prototype,"avoidCollisions",2);I([O()],os.prototype,"mirrored",2);I([O()],os.prototype,"parallel",2);I([O()],os.prototype,"itemStyler",2);I([O()],os.prototype,"formatter",2);I([O()],os.prototype,"format",2);var FM=class{constructor(){this.enabled=!0,this.width=1,this.stroke=void 0}};I([O()],FM.prototype,"enabled",2);I([O()],FM.prototype,"width",2);I([O()],FM.prototype,"stroke",2);var Xg=class extends gt{constructor(){super(...arguments),this.enabled=!0,this.width=1,this.size=6}};I([O()],Xg.prototype,"enabled",2);I([O()],Xg.prototype,"width",2);I([O()],Xg.prototype,"size",2);I([O()],Xg.prototype,"stroke",2);var Va=class extends gt{constructor(){super(...arguments),this.caption=new Zi,this.enabled=!1,this.spacing=Zi.SMALL_PADDING,this.fontSize=10,this.fontFamily="sans-serif",this.wrapping="always"}};I([O()],Va.prototype,"enabled",2);I([O()],Va.prototype,"text",2);I([O()],Va.prototype,"spacing",2);I([O()],Va.prototype,"fontStyle",2);I([O()],Va.prototype,"fontWeight",2);I([O()],Va.prototype,"fontSize",2);I([O()],Va.prototype,"fontFamily",2);I([O()],Va.prototype,"color",2);I([O()],Va.prototype,"wrapping",2);I([O()],Va.prototype,"formatter",2);var yU=(e=>(e[e.TickAndDomain=0]="TickAndDomain",e[e.TicksOnly=1]="TicksOnly",e[e.Off=2]="Off",e))(yU||{});function ax(e){const[t,i]=zn(e.range),n=Math.floor(t),s=Math.ceil(i);return{min:n,max:s,visible:n!==s}}var QA=Math.PI*2,DEe=QA/2;function REe(e,t){return Math.abs(t-e)<DEe?t:e>t?t+QA:t-QA}function vU(e){const t=(o,a)=>{const[l=e.min,u=e.max]=zn(a??[]);return o<l||o>u};return{tick:{fromFn(o,a,l){let u=o.y1+o.translationY,d=o.opacity;return(l==="added"||t(o.datum.translationY,o.datum.range))&&(u=a.translationY,d=0),{y:0,translationY:u,opacity:d,phase:wa[l]}},toFn(o,a,l){const u=a.translationY;let d=1;return l==="removed"&&(d=0),{y:0,translationY:u,opacity:d,finish:{y:u,translationY:0}}},applyFn(o,a){o.setProperties(a),o.visible=!t(o.y)}},line:{fromFn(o,a){return{...o.previousDatum??a,phase:wa.updated}},toFn(o,a){return{...a}}},label:{fromFn(o,a,l){const u=o.previousDatum??a,d=u.x,p=u.y,f=u.rotationCenterX;let m=Math.round(o.translationY),y=u.rotation,C=o.opacity;return l==="removed"||t(u.y,u.range)?y=a.rotation:(l==="added"||t(o.datum.y,o.datum.range))&&(m=Math.round(u.translationY),C=0,y=a.rotation),{x:d,y:p,rotationCenterX:f,translationY:m,rotation:y,opacity:C,phase:wa[l]}},toFn(o,a,l){var C;const u=a.x,d=a.y,p=a.rotationCenterX,f=Math.round(a.translationY);let m=0,y=1;return l==="added"?m=a.rotation:l==="removed"?(y=0,m=a.rotation):m=REe(((C=o.previousDatum)==null?void 0:C.rotation)??a.rotation,a.rotation),{x:u,y:d,rotationCenterX:p,translationY:f,rotation:m,opacity:y,finish:{rotation:a.rotation}}}},group:{fromFn(o,a){const{rotation:l,translationX:u,translationY:d}=o;return{rotation:l,translationX:u,translationY:d,phase:wa.updated}},toFn(o,a){const{rotation:l,translationX:u,translationY:d}=a;return{rotation:l,translationX:u,translationY:d}}}}}function CU(){return(e,t)=>({rotation:t.rotation,rotationCenterX:t.rotationCenterX,rotationCenterY:t.rotationCenterY,translationX:t.translationX,translationY:t.translationY})}function qk(e){const{visible:t,min:i,max:n}=e;return(s,r)=>{const o=r.translationY,a=t&&o>=i&&o<=n;return{y:o,translationY:0,opacity:1,visible:a}}}function Zk(){return(e,t)=>({x:t.x,y:t.y,translationY:t.translationY,rotation:t.rotation,rotationCenterX:t.rotationCenterX})}function bU(){return(e,t)=>({...t})}var lx=class extends wp(uo){},wU=(e=>(e[e.TickLines=0]="TickLines",e[e.AxisLine=1]="AxisLine",e[e.TickLabels=2]="TickLabels",e))(wU||{}),Vc=class SU{constructor(t,i){this.moduleCtx=t,this.scale=i,this.id=ro(this),this.nice=!0,this.reverse=!1,this.keys=[],this.interval=new Mp,this.dataDomain={domain:[],clipped:!1},this.layoutConstraints={stacked:!0,align:"start",width:100,unit:"percent"},this.boundSeries=[],this.includeInvisibleDomains=!1,this.interactionEnabled=!0,this.axisGroup=new Ly({name:`${this.id}-axis`}),this.tickLineGroup=this.axisGroup.appendChild(new dt({name:`${this.id}-Axis-tick-lines`,zIndex:0})),this.tickLabelGroup=this.axisGroup.appendChild(new dt({name:`${this.id}-Axis-tick-labels`,zIndex:2})),this.labelGroup=new dt({name:`${this.id}-Labels`,zIndex:9}),this.gridGroup=new Ly({name:`${this.id}-Axis-grid`,zIndex:1}),this.gridLineGroup=this.gridGroup.appendChild(new dt({name:`${this.id}-gridLines`})),this.crossLineRangeGroup=new Ly({name:`${this.id}-CrossLines-Range`,zIndex:4}),this.crossLineLineGroup=new Ly({name:`${this.id}-CrossLines-Line`,zIndex:8}),this.crossLineLabelGroup=new Ly({name:`${this.id}-CrossLines-Label`,zIndex:13}),this.tickLineGroupSelection=Bn.select(this.tickLineGroup,lx,!1),this.tickLabelGroupSelection=Bn.select(this.tickLabelGroup,Ag,!1),this.gridLineGroupSelection=Bn.select(this.gridLineGroup,lx,!1),this._crossLines=[],this.line=new FM,this.tick=new Xg,this.gridLine=new PM,this.label=this.createLabel(),this.defaultTickMinSpacing=SU.defaultTickMinSpacing,this.translation={x:0,y:0},this.rotation=0,this.layout={label:{fractionDigits:0,spacing:this.label.spacing,format:this.label.format}},this.axisContext=void 0,this.labelFormatter=void 0,this.datumFormatter=void 0,this.scaleFormatterParams=void 0,this.destroyFns=[],this.range=[0,1],this.visibleRange=[0,1],this.title=new Va,this.gridLength=0,this.gridPadding=0,this.seriesAreaPadding=0,this.animatable=!0,this._scaleNiceDomainInputDomain=void 0,this._scaleNiceDomainRangeExtent=NaN,this.moduleMap=new Yk,this.range=this.scale.range.slice(),this.crossLines.forEach(n=>this.initCrossLine(n))}get type(){return this.constructor.type??""}get labelNodes(){return this.tickLabelGroupSelection.nodes()}set crossLines(t){const{CrossLineConstructor:i}=this.constructor;this._crossLines.forEach(n=>this.detachCrossLine(n)),this._crossLines=t.map(n=>{const s=new i;return s.set(n),s}),this._crossLines.forEach(n=>{this.attachCrossLine(n),this.initCrossLine(n)})}get crossLines(){return this._crossLines}resetAnimation(t){}attachCrossLine(t){this.crossLineRangeGroup.appendChild(t.rangeGroup),this.crossLineLineGroup.appendChild(t.lineGroup),this.crossLineLabelGroup.appendChild(t.labelGroup)}detachCrossLine(t){this.crossLineRangeGroup.removeChild(t.rangeGroup),this.crossLineLineGroup.removeChild(t.lineGroup),this.crossLineLabelGroup.removeChild(t.labelGroup)}destroy(){this.moduleMap.destroy(),this.destroyFns.forEach(t=>t())}updateScale(){const{range:t,visibleRange:i,scale:n}=this,s=(t[1]-t[0])/(i[1]-i[0]),r=s*i[0],o=t[0]-r;n.range=[o,o+s],this.crossLines.forEach(a=>{a.clippedRange=[t[0],t[1]]})}setCrossLinesVisible(t){this.crossLineRangeGroup.visible=t,this.crossLineLineGroup.visible=t,this.crossLineLabelGroup.visible=t}attachAxis(t){t.gridNode.appendChild(this.gridGroup),t.axisNode.appendChild(this.axisGroup),t.labelNode.appendChild(this.labelGroup),t.crossLineRangeNode.appendChild(this.crossLineRangeGroup),t.crossLineLineNode.appendChild(this.crossLineLineGroup),t.crossLineLabelNode.appendChild(this.crossLineLabelGroup)}detachAxis(t){t.gridNode.removeChild(this.gridGroup),t.axisNode.removeChild(this.axisGroup),t.labelNode.removeChild(this.labelGroup),t.crossLineRangeNode.removeChild(this.crossLineRangeGroup),t.crossLineLineNode.removeChild(this.crossLineLineGroup),t.crossLineLabelNode.removeChild(this.crossLineLabelGroup)}attachLabel(t){this.labelGroup.append(t)}inRange(t,i=0){const[n,s]=zn(this.range);return t>=n-i&&t<=s+i}getRangeOverflow(t){const{range:i,visibleRange:n}=this,s=(i[1]-i[0])/(n[1]-n[0]),[r,o]=zn([i[0]-s*n[0],i[0]-s*n[0]+s]);return t<r?t-r:t>o?t-o:0}defaultDatumFormatter(t,i){return Oc(t,i+1)}defaultLabelFormatter(t,i){return Oc(t,i)}onGridLengthChange(t,i){i^t&&this.onGridVisibilityChange(),this.crossLines.forEach(n=>this.initCrossLine(n))}onGridVisibilityChange(){this.gridLineGroupSelection.clear()}createLabel(){return new os}update(){this.updatePosition(),this.updateSelections(),this.tickLineGroup.visible=this.tick.enabled,this.gridLineGroup.visible=this.gridLine.enabled,this.tickLabelGroup.visible=this.label.enabled,this.updateLabels(),this.updateGridLines(),this.updateTickLines(),this.updateCrossLines()}getAxisLineCoordinates(){const[t,i]=zn(this.range);return{x:0,y1:t,y2:i}}getLabelStyles(t,i){const{label:n}=this,s={color:n.color,spacing:n.spacing,fontFamily:n.fontFamily,fontSize:n.fontSize,fontStyle:n.fontStyle,fontWeight:n.fontWeight};let r;n.itemStyler&&(r=this.moduleCtx.callbackCache.call(this,n.itemStyler,{...t,...s}));const{color:o,fontFamily:a,fontSize:l,fontStyle:u,fontWeight:d,spacing:p}=Vt(r,i,s);return{fill:o,fontFamily:a,fontSize:l,fontStyle:u,fontWeight:d,spacing:p}}getTickSize(){return this.tick.enabled?this.tick.size:0}processData(){const{includeInvisibleDomains:t,boundSeries:i,direction:n}=this,r=(t?i:i.filter(o=>o.isEnabled())).map(o=>o.getDomain(n));this.setDomains(...r)}setDomains(...t){let i,n;t.length>0?{domain:i,animatable:n}=this.scale.normalizeDomains(...t):(i=[],n=!0),this.dataDomain=this.normaliseDataDomain(i),this.reverse&&this.dataDomain.domain.reverse(),this.animatable=n}calculateLayout(t){const{scale:i,label:n,visibleRange:s,nice:r}=this;this.updateScale();const o=kg(this.range),a=this.dataDomain.domain;let l;s[0]===0&&s[1]===1?l=void 0:r?this._scaleNiceDomainInputDomain===a&&this._scaleNiceDomainRangeExtent===o?l=this.scale.domain:l=this.calculateTickLayout(a,0,[0,1]).niceDomain:l=a;let u;r?l==null?u=0:u=1:u=2;const{niceDomain:d,primaryTickCount:p,ticks:f,tickDomain:m,fractionDigits:y,bbox:C}=this.calculateTickLayout(l??a,u,s,t);this.scale.domain=d,this._scaleNiceDomainInputDomain=r?a:void 0,this._scaleNiceDomainRangeExtent=r?o:NaN;const w=n.format;this.labelFormatter=i.tickFormatter({domain:m,specifier:w,ticks:f,fractionDigits:y})??(A=>this.defaultLabelFormatter(A,y)),this.datumFormatter=i.datumFormatter({domain:m,specifier:w,ticks:f,fractionDigits:y})??(A=>this.defaultDatumFormatter(A,y)),this.scaleFormatterParams={domain:m,ticks:f,fractionDigits:y},this.layout.label={fractionDigits:y,spacing:this.label.spacing,format:this.label.format};const b=n.getSideFlag(),S=this.isAnySeriesActive(),{rotation:M,parallelFlipRotation:D,regularFlipRotation:R}=this.calculateRotations();return this.crossLines.forEach(A=>{var F;var k;A.sideFlag=-b,A.direction=M===-Math.PI/2?"x":"y",A instanceof mr&&((k=A.label).parallel??(k.parallel=n.parallel)),A.parallelFlipRotation=D,A.regularFlipRotation=R,(F=A.calculateLayout)==null||F.call(A,S,this.reverse)}),{primaryTickCount:p,bbox:C}}getTransformBox(t){const i=new Fa,{rotation:n,translationX:s,translationY:r}=this.getAxisTransform();return Fa.updateTransformMatrix(i,1,1,n,s,r),i.transformBBox(t)}calculateRotations(){const t=Ki(this.rotation),i=Li(t),n=Li(t-Math.PI/2);return{rotation:t,parallelFlipRotation:i,regularFlipRotation:n}}updateCrossLines(){const t=this.isAnySeriesActive();this.crossLines.forEach(i=>{i.update(t)})}updateTickLines(){const{tick:t,label:i}=this,n=i.getSideFlag();this.tickLineGroupSelection.each((s,r)=>{s.strokeWidth=r.tickWidth??t.width,s.stroke=r.tickStroke??t.stroke,s.x1=n*(r.tickSize??this.getTickSize()),s.x2=0})}getAxisTransform(){return{rotation:Ki(this.rotation),translationX:Math.floor(this.translation.x),translationY:Math.floor(this.translation.y)}}updatePosition(){const{crossLineRangeGroup:t,crossLineLineGroup:i,crossLineLabelGroup:n,gridGroup:s,translation:r}=this,{rotation:o}=this.calculateRotations(),a=Math.floor(r.x),l=Math.floor(r.y);t.setProperties({rotation:o,translationX:a,translationY:l}),i.setProperties({rotation:o,translationX:a,translationY:l}),n.setProperties({rotation:o,translationX:a,translationY:l}),s.setProperties({rotation:o,translationX:a,translationY:l})}updateGridLines(){const t=this.label.getSideFlag(),{gridLine:{style:i,width:n},gridPadding:s,gridLength:r}=this;r===0||i.length===0||this.gridLineGroupSelection.each((o,a,l)=>{const{stroke:u,lineDash:d}=i[l%i.length];o.setProperties({x1:s,x2:-t*r+s,stroke:u,strokeWidth:n,lineDash:d})})}formatTick(t,i,n,s,r){const{labelFormatter:o,label:{formatter:a},moduleCtx:{callbackCache:l}}=this;let u;if(a){const d=this.getFormatterBoundSeries();u=l.call(this,a,{value:t,index:i,domain:n,fractionDigits:s,boundSeries:d})}else r?u=r(t):o&&(u=o(t));return String(u??t)}formatDatum(t){const{label:{formatter:i},moduleCtx:{callbackCache:n},datumFormatter:s=this.labelFormatter}=this;let r;if(i){const{domain:o}=this.scale,a=this.getFormatterBoundSeries();r=n.call(this,i,{value:t,index:NaN,domain:o,boundSeries:a})}else s?r=n.call(this,s,t):xt(t)&&(r=t.filter(Boolean).join(" - "));return String(r??t)}getScaleValueFormatter(t){const{scaleFormatterParams:i}=this;let n;try{t!=null&&i!=null&&(n=this.scale.tickFormatter({...i,specifier:t}))}catch{De.warnOnce(`the format string ${t} is invalid, ignoring.`)}return n??(n=s=>this.formatDatum(s)),n}getBBox(){return this.axisGroup.getBBox()}initCrossLine(t){t.scale=this.scale,t.gridLength=this.gridLength}isAnySeriesActive(){return this.boundSeries.some(t=>this.includeInvisibleDomains||t.isEnabled())}clipTickLines(t,i,n,s){this.tickLineGroup.setClipRect(new Ue(t,i,n,s))}clipGrid(t,i,n,s){this.gridGroup.setClipRect(new Ue(t,i,n,s))}getFormatterBoundSeries(){const{direction:t}=this,i=[];for(const n of this.boundSeries){const s=n.getKeys(t),r=n.getNames(t);for(let o=0;o<s.length;o++)i.push({key:s[o],name:r[o]})}return i}getTitleFormatterParams(t){var s;const{direction:i}=this,n=this.getFormatterBoundSeries();return{domain:t,direction:i,boundSeries:n,defaultValue:(s=this.title)==null?void 0:s.text}}normaliseDataDomain(t){return{domain:[...t],clipped:!1}}getLayoutState(){return{id:this.id,rect:this.getBBox(),gridPadding:this.gridPadding,seriesAreaPadding:this.seriesAreaPadding,tickSize:this.getTickSize(),direction:this.direction,domain:this.dataDomain.domain,scale:this.scale,...this.layout}}getModuleMap(){return this.moduleMap}createModuleContext(){return this.axisContext??(this.axisContext=this.createAxisContext()),{...this.moduleCtx,parent:this.axisContext}}createAxisContext(){const{scale:t}=this;return{axisId:this.id,scale:this.scale,direction:this.direction,continuous:mi.is(t)||Rc.is(t),getCanvasBounds:()=>mn.toCanvas(this.axisGroup),seriesKeyProperties:()=>this.boundSeries.reduce((i,n)=>(n.getKeyProperties(this.direction).forEach(r=>i.add(r)),i),new Set),seriesIds:()=>this.boundSeries.map(i=>i.id),scaleValueFormatter:i=>this.getScaleValueFormatter(i),scaleInvert:i=>t.invert(i,!0),scaleInvertNearest:i=>t.invert(i,!0),attachLabel:i=>this.attachLabel(i),inRange:(i,n)=>this.inRange(i,n),getRangeOverflow:i=>this.getRangeOverflow(i)}}isReversed(){return this.reverse}};Vc.defaultTickMinSpacing=50;Vc.CrossLineConstructor=mr;I([O()],Vc.prototype,"nice",2);I([O()],Vc.prototype,"reverse",2);I([O()],Vc.prototype,"keys",2);I([O()],Vc.prototype,"interval",2);I([O()],Vc.prototype,"title",2);I([vd((e,t,i)=>e.onGridLengthChange(t,i))],Vc.prototype,"gridLength",2);var Xk=Vc;function EEe(e,t,i){let[n,s]=zn(e);n=TEe(Math.floor(n),s,t);const r=IEe(n,s,t),o=t-1;s=n+o*r;const a=i?[s,n]:[n,s],l=AEe(n,r,t);return{domain:a,ticks:l}}function TEe(e,t,i){const n=Math.abs(t-e)/(i-1),s=Math.floor(Math.log10(n)),r=Math.pow(10,s);return Math.floor(e/r)*r}function AEe(e,t,i){const n=Math.floor(Math.log10(t)),s=t>0&&t<1?Math.abs(n):0,r=Math.pow(10,s),o=[];for(let a=0;a<i;a++){const l=e+t*a;o[a]=Math.round(l*r)/r}return o}function IEe(e,t,i){const n=i-1,s=(t-e)/n;return LEe(s)}function LEe(e){const t=Math.floor(Math.log10(e)),i=Math.pow(10,t),n=e/i*10;return n>0&&n<=1?i/10:n>1&&n<=2?2*i/10:n>1&&n<=5?5*i/10:n>5&&n<=10?10*i/10:n>10&&n<=20?20*i/10:n>20&&n<=40?40*i/10:n>40&&n<=50?50*i/10:n>50&&n<=100?100*i/10:n}function Qk(){const e=new Map;return t=>{const i=e.get(t);return i?(e.set(t,i+1),`${t}_${i}`):(e.set(t,1),t)}}var xU=class{constructor(e){this.axis=e}estimateTickCount(e,t,i){return Z6(kg(this.axis.range),kg(e),t,i,mi.defaultTickCount,this.axis.defaultTickMinSpacing)}filterTicks(e,t){const{minSpacing:i,maxSpacing:n}=this.axis.interval,r=i!=null||n!=null?Math.ceil(e.length/t):2,o=e.length%r?-1:0;return e.filter((a,l)=>(l+o)%r===0)}generateTicks({domain:e,primaryTickCount:t,visibleRange:i,niceMode:n,parallelFlipRotation:s,regularFlipRotation:r,labelX:o,sideFlag:a}){const{scale:l,label:u,interval:{minSpacing:d,maxSpacing:p}}=this.axis,{parallel:f,rotation:m,fontFamily:y,fontSize:C,fontStyle:w,fontWeight:b}=u,S=t!==void 0,{defaultRotation:M,configuredRotation:D,parallelFlipFlag:R,regularFlipFlag:A}=rx({rotation:m,parallel:f,regularFlipRotation:r,parallelFlipRotation:s}),k=D+M,F=new Fa,{maxTickCount:P}=this.estimateTickCount(i,d,p),z=!(mi.is(l)||Rc.is(l))||isNaN(P)?10:P;let H=kG(f,D,0,a,A);const V=gEe(f,D,a,R),q=Ui.toFontString({fontFamily:y,fontSize:C,fontStyle:w,fontWeight:b}),K=Hc.getMeasurer({font:q}),j={fontFamily:y,fontSize:C,fontStyle:w,fontWeight:b,textBaseline:V,textAlign:H},Z=u.enabled&&u.avoidCollisions,W=({ticks:ue},de)=>{if(!Z)return!1;const we=D!==0||de!==0,ce=k+de,pe=fEe(u.minSpacing,we);Fa.updateTransformMatrix(F,1,1,ce,0,0);const ae=mEe(ue,o,F,K);return FRe(ae,pe)};let Y={tickDomain:[],ticks:[],rawTicks:[],fractionDigits:0,niceDomain:void 0},G=0,U=0,te=!0,ee=!1;for(;!ee&&te&&G<=z;){U=0;for(const ue of this.getTickStrategies({domain:e,niceMode:n,secondaryAxis:S,index:G}))({tickData:Y,index:G,autoRotation:U,terminate:ee}=ue({index:G,tickData:Y,textProps:j,terminate:ee,primaryTickCount:t,visibleRange:i,get labelOverlap(){return W(Y,U)}}));te=W(Y,U)}H=kG(f,D,U,a,A);const Q=M+D+U;return!S&&Y.rawTicks.length>0&&(t=Y.rawTicks.length),{tickData:Y,primaryTickCount:t,combinedRotation:Q,textBaseline:V,textAlign:H}}getTickStrategies({domain:e,niceMode:t,index:i,secondaryAxis:n}){const{scale:s,label:r,interval:o}=this.axis,{minSpacing:a}=o,l=mi.is(s)||Rc.is(s),u=r.enabled&&r.avoidCollisions,d=!l&&i!==0&&u,p=r.autoRotate===!0&&r.rotation===void 0,f=[];let m;o.values?m=3:n?m=1:d?m=2:m=0;const y=({index:C,tickData:w,primaryTickCount:b,visibleRange:S,terminate:M})=>this.createTickData(e,t,S,b,m,C,w,M);if(f.push(y),!l&&a!=null){const C=({index:w,tickData:b,primaryTickCount:S,visibleRange:M,terminate:D})=>this.createTickData(e,t,M,S,2,w,b,D);f.push(C)}if(u&&p){const C=({index:w,tickData:b,labelOverlap:S,terminate:M})=>({index:w,tickData:b,autoRotation:S?Li(Ki(r.autoRotateAngle??0)):0,terminate:M});f.push(C)}return f}createTickData(e,t,i,n,s,r,o,a){const{scale:l,interval:u}=this.axis,{step:d,values:p,minSpacing:f,maxSpacing:m}=u,{maxTickCount:y,minTickCount:C,tickCount:w}=this.estimateTickCount(i,f,m),b=mi.is(l)||Rc.is(l),S=!b||isNaN(y)?10:y,M=R=>b?Math.max(w-R,C):y,D=d==null&&p==null&&M(r)>C&&(b||s===2);for(;r<=S;){const R=o.rawTicks;if(o=this.getTicks({domain:e,niceMode:t,visibleRange:i,tickGenerationType:s,previousTicks:R,minTickCount:C,maxTickCount:y,primaryTickCount:n,tickCount:M(r)}),r++,!D||!wl(o.rawTicks,R))break}return a||(a=d!=null||p!=null),{tickData:o,index:r,autoRotation:0,terminate:a}}getTicks({domain:e,niceMode:t,visibleRange:i,tickGenerationType:n,previousTicks:s,tickCount:r,minTickCount:o,maxTickCount:a,primaryTickCount:l}){const{axis:u}=this,{label:d,range:p,scale:f,interval:m}=u,y=Qk(),C={nice:t===0,interval:m.step,tickCount:r,minTickCount:o,maxTickCount:a},w={...C,nice:t===0||t===1};let b=t===0?f.niceDomain(C,e):e,S=b,M;switch(n){case 3:if(S=m.values,M=m.values,mi.is(f)){const[L,z]=zn(b.map(Number));M=M.filter(H=>Number(H)>=L&&Number(H)<=z).sort((H,V)=>Number(H)-Number(V))}break;case 1:if(mi.is(f)){const L=EEe(e.map(Number),l??0,u.reverse);M=L.ticks,b=L.domain.map(z=>f.toDomain(z))}else M=f.ticks(w,b,i)??[];break;case 2:M=this.filterTicks(s,r);break;default:M=f.ticks(w,b,i)??[]}const D=M.reduce((L,z)=>Math.max(L,typeof z=="number"?rk(z):0),0),R={domain:S,ticks:M,fractionDigits:D,specifier:d.format},A=f.tickFormatter(R),k=f.domain;f.domain=b;const F=(f.bandwidth??0)/2,P=[];for(let L=0;L<M.length;L++){const z=M[L],H=f.convert(z)+F;if(p.length>0&&!u.inRange(H,.001))continue;const V=d.enabled?u.formatTick(z,L,b,D,A):"";P.push({tick:z,tickId:y(V),tickLabel:V,translationY:Math.floor(H)})}return f.domain=k,{tickDomain:S,rawTicks:M,fractionDigits:D,ticks:P,niceDomain:b}}},Jk=class extends os{constructor(){super(...arguments),this.autoRotateAngle=335}};I([O()],Jk.prototype,"autoRotate",2);I([O()],Jk.prototype,"autoRotateAngle",2);var eP=class MU extends Xk{constructor(t,i){super(t,i),this.lineNode=this.axisGroup.appendChild(new lx({name:`${this.id}-Axis-line`,zIndex:1})),this.tempText=new Ag({debugDirty:!1}),this.tempCaption=new Zi,this.tickGenerator=new xU(this),this.generatedTicks=void 0,this.animationManager=t.animationManager,this.animationState=new QC("empty",{empty:{update:{target:"ready",action:()=>this.resetSelectionNodes()},reset:"empty"},ready:{update:s=>this.animateReadyUpdate(s),resize:()=>this.resetSelectionNodes(),reset:"empty"}}),this.axisGroup.appendChild(this.title.caption.node);let n;this.destroyFns.push(t.layoutManager.addListener("layout:complete",s=>{const r=[s.chart.width,s.chart.height];n!=null&&!wl(r,n)&&this.animationState.transition("resize"),n=r}),this.title.caption.registerInteraction(this.moduleCtx,"afterend"))}static is(t){return t instanceof MU}resetAnimation(t){t==="initial"&&this.animationState.transition("reset")}get direction(){return this.position==="top"||this.position==="bottom"?"x":"y"}createAxisContext(){return{...super.createAxisContext(),position:this.position}}createLabel(){return new Jk}updateDirection(){switch(this.position){case"top":this.rotation=-90,this.label.mirrored=!0,this.label.parallel=!0;break;case"right":this.rotation=0,this.label.mirrored=!0,this.label.parallel=!1;break;case"bottom":this.rotation=-90,this.label.mirrored=!1,this.label.parallel=!0;break;case"left":this.rotation=0,this.label.mirrored=!1,this.label.parallel=!1;break}this.axisContext&&(this.axisContext.position=this.position,this.axisContext.direction=this.direction)}calculateLayout(t){return this.updateDirection(),super.calculateLayout(t)}calculateTickLayout(t,i,n,s){const r=this.label.getSideFlag(),{parallelFlipRotation:o,regularFlipRotation:a}=this.calculateRotations(),l=r*(this.getTickSize()+this.label.spacing+this.seriesAreaPadding);if(i===2&&this.label.enabled===!1&&this.tick.enabled===!1&&this.gridLine.enabled===!1)return this.generatedTicks={ticks:[],labels:[]},{ticks:[],tickDomain:t,niceDomain:t,primaryTickCount:s,fractionDigits:0,bbox:this.tickBBox(t,[],[])};const u=this.tickGenerator.generateTicks({domain:t,niceMode:i,visibleRange:n,primaryTickCount:s,parallelFlipRotation:o,regularFlipRotation:a,labelX:l,sideFlag:r}),{tickData:d,primaryTickCount:p=s}=u,{ticks:f,tickDomain:m,rawTicks:y,fractionDigits:C,niceDomain:w=t}=d,b=f.map(M=>this.getTickLabelProps(M,u)),S=this.tickBBox(m,f,b);return this.generatedTicks={ticks:f,labels:b},{ticks:y,tickDomain:m,niceDomain:w,primaryTickCount:p,fractionDigits:C,bbox:S}}update(){var r;this.updateDirection();const t=Array.from(this.tickLabelGroupSelection.nodes(),o=>o.datum.tickId);if(super.update(),this.animatable||this.moduleCtx.animationManager.skipCurrentBatch(),this.generatedTicks){const{ticks:o}=this.generatedTicks;if(this.animationManager.isSkipped())this.resetSelectionNodes();else{const a=o.map(u=>u.tickId),l=aSe(t,a);this.animationState.transition("update",l)}}const{enabled:i,stroke:n,width:s}=this.line;this.lineNode.setProperties({stroke:n,strokeWidth:i?s:0}),this.updateTitle(this.scale.domain,!((r=this.generatedTicks)!=null&&r.ticks.length))}updatePosition(){super.updatePosition(),this.axisGroup.datum=this.getAxisTransform()}tickBBox(t,i,n){var f;const s=this.label.getSideFlag(),r=[],{x:o,y1:a,y2:l}=this.getAxisLineCoordinates(),u=new Ue(o+Math.min(s*this.seriesAreaPadding,0),a,this.seriesAreaPadding,l-a);if(r.push(u),this.tick.enabled)for(const m of i){const{x1:y,x2:C,y:w}=this.getTickLineCoordinates(m),b=new Ue(y,w,C-y,0);r.push(b)}const{tempText:d}=this;if(this.label.enabled)for(const m of n){if(!m.visible)continue;d.setProperties({...m,translationY:Math.round(m.translationY)});const y=d.getBBox();y&&r.push(y)}if((f=this.title)!=null&&f.enabled){const m=Ue.merge(r).width;this.setTitleProps(this.tempCaption,{domain:t,spacing:m});const y=this.tempCaption.node.getBBox();y&&r.push(y)}const p=Ue.merge(r);return this.getTransformBox(p)}setTitleProps(t,i){const{title:n}=this;if(!n.enabled){t.enabled=!1,t.node.visible=!1;return}t.enabled=!0,t.color=n.color,t.fontFamily=n.fontFamily,t.fontSize=n.fontSize,t.fontStyle=n.fontStyle,t.fontWeight=n.fontWeight,t.wrapping=n.wrapping;const s=t.node,r=(n.spacing??0)+i.spacing,o=this.label.getSideFlag(),a=Li(this.rotation),l=o===-1&&a>Math.PI&&a<Math.PI*2?-1:1,u=l*o*Math.PI/2,d=l===1?"bottom":"top",{range:p}=this,f=Math.floor(l*o*(p[0]+p[1])/2),m=Math.floor(o===-1?l*-r:-r),{callbackCache:y}=this.moduleCtx,{formatter:C=b=>b.defaultValue}=n,w=y.call(this,C,this.getTitleFormatterParams(i.domain));t.text=w,s.setProperties({visible:!0,text:w,textBaseline:d,x:f,y:m,rotation:u})}getTickLabelProps(t,i){const{combinedRotation:n,textBaseline:s,textAlign:r}=i,{range:o}=this.scale,a=t.tickLabel,u=this.label.getSideFlag()*(this.getTickSize()+this.label.spacing+this.seriesAreaPadding),d=a!==""&&a!=null;return{...this.getLabelStyles({value:t.tickLabel}),tickId:t.tickId,rotation:n,rotationCenterX:u,translationY:t.translationY,text:a,textAlign:r,textBaseline:s,visible:d,x:u,y:0,range:o}}getTickLineCoordinates(t){const n=this.label.getSideFlag()*this.getTickSize(),s=Math.min(0,n),r=s+Math.abs(n),o=t.translationY;return{x1:s,x2:r,y:o}}updateSelections(){if(!this.generatedTicks)return;const t=this.getAxisLineCoordinates(),{ticks:i,labels:n}=this.generatedTicks,s=r=>r.tickId;this.lineNode.datum=t,this.gridLineGroupSelection.update(this.gridLength?i:[],void 0,s),this.tickLineGroupSelection.update(i,void 0,s),this.tickLabelGroupSelection.update(n,void 0,s)}updateTitle(t,i,n){const{title:s,tickLineGroup:r,tickLabelGroup:o,lineNode:a}=this;s.enabled&&!i&&n==null&&(n=dt.computeChildrenBBox([r,o,a]).width+(o.visible?0:this.seriesAreaPadding)),n??(n=0),this.setTitleProps(s.caption,{domain:t,spacing:n})}updateLabels(){this.label.enabled&&this.tickLabelGroupSelection.each((t,i)=>{t.fill=i.fill,t.fontFamily=i.fontFamily,t.fontSize=i.fontSize,t.fontStyle=i.fontStyle,t.fontWeight=i.fontWeight,t.text=i.text,t.textBaseline=i.textBaseline,t.textAlign=i.textAlign??"center"})}animateReadyUpdate(t){const{animationManager:i}=this.moduleCtx,n=ax(this),s=vU(n);fn(this.id,"axis-group",i,[this.axisGroup],s.group),fn(this.id,"line",i,[this.lineNode],s.line),fn(this.id,"line-paths",i,[this.gridLineGroupSelection,this.tickLineGroupSelection],s.tick,(r,o)=>o.tickId,t),fn(this.id,"tick-labels",i,[this.tickLabelGroupSelection],s.label,(r,o)=>o.tickId,t)}resetSelectionNodes(){const t=ax(this);hs([this.axisGroup],CU()),hs([this.gridLineGroupSelection,this.tickLineGroupSelection],qk(t)),hs([this.tickLabelGroupSelection],Zk()),hs([this.lineNode],bU())}};I([O()],eP.prototype,"thickness",2);I([O()],eP.prototype,"position",2);var JC=eP,DU=["top","right","bottom","left"];function kEe(e){return typeof e=="string"&&DU.includes(e)}function PEe(e){const t=[],i=[],n=[...DU];for(const s of e)s instanceof JC&&(kEe(s.position)?i.push(s.position):t.push(s));for(const s of t){let r;do r=n.pop();while(r&&i.includes(r));if(r==null)break;s.position=r}}var FEe=["direction","xKey","yKey","sizeKey","angleKey","radiusKey","normalizedTo"];function OEe(e,t,i){var u,d;const n=(p,f,m)=>{const y=[p];for(const C of FEe)C in f&&f[C]!=null&&y.push(`${C}=${f[C]}`);return m!=null&&m.seriesGrouping&&y.push(`seriesGrouping.groupId=${m==null?void 0:m.seriesGrouping.groupId}`),y.join(";")},s=new Map;let r=0;for(const p of e){const f=n(p.type,p.properties,i==null?void 0:i[r]);s.has(f)||s.set(f,[]),(u=s.get(f))==null||u.push([p,r++])}const o=new Map;r=0;for(const p of t){const f=n(p.type,p,p);o.has(f)||o.set(f,[]),(d=o.get(f))==null||d.push([p,r++])}if(![...s.keys()].some(p=>o.has(p)))return{status:"no-overlap",oldKeys:s.keys(),newKeys:o.keys()};const l=[];for(const[p,f]of o.entries())for(const[m,y]of f){const C=s.get(p);if(C==null||C.length<1){l.push({opts:m,targetIdx:y,idx:y,status:"add"}),s.delete(p);continue}const[w,b]=C.shift(),S=(i==null?void 0:i[b])??{},M=kl(S,m??{}),{groupIndex:D,stackIndex:R}=(M==null?void 0:M.seriesGrouping)??{};D!=null||R!=null?l.push({opts:m,series:w,diff:M,targetIdx:y,idx:b,status:"series-grouping"}):M?l.push({opts:m,series:w,diff:M,targetIdx:y,idx:b,status:"update"}):l.push({opts:m,series:w,targetIdx:y,idx:b,status:"no-op"}),C.length===0&&s.delete(p)}for(const p of s.values())for(const[f,m]of p)l.push({series:f,idx:m,targetIdx:-1,status:"remove"});return{status:"overlap",changes:l}}function Wc(e){var i;const{series:t}=e;return((i=t==null?void 0:t[0])==null?void 0:i.type)??"line"}function tP(e){const t=Wc(e);return en.isCartesian(t)||ZRe(t)}function RU(e){const t=Wc(e);return en.isPolar(t)||XRe(t)}function EU(e){const t=Wc(e);return en.isHierarchy(t)||QRe(t)}function TU(e){const t=Wc(e);return en.isTopology(t)||JRe(t)}function AU(e){const t=Wc(e);return en.isFlowProportion(t)||eEe(t)}function iP(e){const t=Wc(e);return en.isStandalone(t)||tEe(t)}function nP(e){const t=Wc(e);return en.isGauge(t)||iEe(t)}function NEe(e){const t=Wc(e);return RU(e)&&t!=="pie"&&t!=="donut"}var BEe=class extends Yk{applyOptions(e){for(const t of this.moduleMap.values())t.module.optionsKey in e&&Ll(t.moduleInstance)&&t.moduleInstance.set(e[t.module.optionsKey])}*legends(){for(const{module:e,moduleInstance:t}of this.moduleMap.values())e.type==="legend"&&(yield{legendType:e.identifier,legend:t})}},JA="ag-charts-overlay",HG="ag-charts-dark-overlay",xh=class extends gt{constructor(e,t){super(),this.className=e,this.defaultMessageId=t,this.enabled=!0}getText(e){return e.t(this.text??this.defaultMessageId)}getElement(e,t,i){var n;if((n=this.content)==null||n.remove(),this.focusBox=i,this.renderer){const s=this.renderer();if(s instanceof HTMLElement)this.content=s;else{const r=Ot("div");r.innerHTML=s,this.content=r.firstElementChild}}else{const s=Ot("div",{display:"flex",alignItems:"center",justifyContent:"center",boxSizing:"border-box",height:"100%",margin:"8px",fontFamily:"var(--ag-charts-font-family)",fontSize:"var(--ag-charts-font-size)",fontWeight:"var(--ag-charts-font-weight)"});s.innerText=this.getText(t),this.content=s,e==null||e.animate({from:0,to:1,id:"overlay",phase:"add",groupId:"opacity",onUpdate(r){s.style.opacity=String(r)},onStop(){s.style.opacity="1"}})}return this.content}removeElement(e=()=>{var i;return(i=this.content)==null?void 0:i.remove()},t){if(this.content){if(t){const{content:i}=this;t.animate({from:1,to:0,phase:"remove",id:"overlay",groupId:"opacity",onUpdate(n){i.style.opacity=String(n)},onStop(){e==null||e()}})}else e==null||e();this.content=void 0,this.focusBox=void 0}}};I([O()],xh.prototype,"enabled",2);I([O()],xh.prototype,"text",2);I([O()],xh.prototype,"renderer",2);var Qg=class extends gt{constructor(){super(...arguments),this.darkTheme=!1,this.loading=new xh("ag-charts-loading-overlay","overlayLoadingData"),this.noData=new xh("ag-charts-no-data-overlay","overlayNoData"),this.noVisibleSeries=new xh("ag-charts-no-visible-series","overlayNoVisibleSeries"),this.unsupportedBrowser=new xh("ag-charts-unsupported-browser","overlayUnsupportedBrowser")}getFocusInfo(e){for(const t of[this.loading,this.noData,this.noVisibleSeries,this.unsupportedBrowser])if(t.focusBox!==void 0)return{text:t.getText(e),rect:t.focusBox}}destroy(){this.loading.removeElement(),this.noData.removeElement(),this.noVisibleSeries.removeElement(),this.unsupportedBrowser.removeElement()}};I([O()],Qg.prototype,"darkTheme",2);I([O()],Qg.prototype,"loading",2);I([O()],Qg.prototype,"noData",2);I([O()],Qg.prototype,"noVisibleSeries",2);I([O()],Qg.prototype,"unsupportedBrowser",2);function zEe(e,t){const{animationDuration:i}=Jv.add,n=i*t,s=Ot("div",`${JA}--loading`,{display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",height:"100%",boxSizing:"border-box",font:"13px Verdana, sans-serif",userSelect:"none",animation:`ag-charts-loading ${n}ms linear 50ms both`}),r=Ot("span",{width:"45px",height:"40px",backgroundImage:["linear-gradient(#0000 calc(1 * 100% / 6), #ccc 0 calc(3 * 100% / 6), #0000 0), ","linear-gradient(#0000 calc(2 * 100% / 6), #ccc 0 calc(4 * 100% / 6), #0000 0), ","linear-gradient(#0000 calc(3 * 100% / 6), #ccc 0 calc(5 * 100% / 6), #0000 0)"].join(""),backgroundSize:"10px 400%",backgroundRepeat:"no-repeat",animation:"ag-charts-loading-matrix 1s infinite linear"}),o=Ot("p",{marginTop:"1em"});o.innerText=e;const a=Ot("div",`${JA}__loading-background`,{position:"absolute",inset:"0",opacity:"0.5",zIndex:"-1"}),l=Ot("style");return l.innerText=["@keyframes ag-charts-loading { from { opacity: 0 } to { opacity: 1 } }","@keyframes ag-charts-loading-matrix {","0% { background-position: 0% 0%, 50% 0%, 100% 0%; }","100% { background-position: 0% 100%, 50% 100%, 100% 100%; }","}"].join(" "),s.replaceChildren(l,r,o,a),s}var IU=(e=>(e[e.BACKGROUND=0]="BACKGROUND",e[e.ANY_CONTENT=1]="ANY_CONTENT",e))(IU||{}),LU=(e=>(e[e.FOREGROUND=0]="FOREGROUND",e[e.HIGHLIGHT=1]="HIGHLIGHT",e[e.LABEL=2]="LABEL",e))(LU||{});function Wh(e,t,i){if(Pa(e))return{type:"gradient",gradient:e.gradient??t.gradient,colorStops:e.colorStops??t.colorStops,bounds:e.bounds??t.bounds,rotation:e.rotation??t.rotation,reverse:e.reverse??t.reverse};if(ap(e)&&i){const n=e.pattern??i.pattern;let s=e.strokeWidth;n==="backward-slanted-lines"||n==="forward-slanted-lines"||n==="horizontal-lines"||n==="vertical-lines"?s??(s=i.strokeWidth):s??(s=0);const r=e.width??e.height??i.width,o=e.height??e.width??i.height;return{type:"pattern",pattern:n,width:r,height:o,padding:e.padding??i.padding,fill:e.fill??i.fill,fillOpacity:e.fillOpacity??i.fillOpacity,backgroundFill:e.backgroundFill??i.backgroundFill,backgroundFillOpacity:e.backgroundFillOpacity??i.backgroundFillOpacity,stroke:e.stroke??i.stroke,strokeOpacity:e.strokeOpacity??i.strokeOpacity,strokeWidth:s,rotation:e.rotation??i.rotation}}return e}function xl(e,t,i){return!Pa(e==null?void 0:e.fill)&&!ap(e==null?void 0:e.fill)?e:{...e,fill:Wh(e.fill,t,i)}}function OM(e,t,i,n){i==null||!Pa(t)||t.bounds==null||t.bounds==="item"?e.fillBBox=void 0:e.fillBBox=i[t.bounds],e.fillParams=n}function up(e,t,i,n,s){const r=(i==null?void 0:i.fill)??t.fill;e.fill=r,OM(e,(i==null?void 0:i.fill)??t.fill,n,s),e.fillOpacity=(i==null?void 0:i.fillOpacity)??t.fillOpacity??1,e.stroke=(i==null?void 0:i.stroke)??t.stroke,e.strokeOpacity=(i==null?void 0:i.strokeOpacity)??t.strokeOpacity??1,e.strokeWidth=(i==null?void 0:i.strokeWidth)??t.strokeWidth??0,e.lineDash=(i==null?void 0:i.lineDash)??t.lineDash,e.lineDashOffset=(i==null?void 0:i.lineDashOffset)??t.lineDashOffset??0}var kU=(e=>(e[e.EXACT_SHAPE_MATCH=0]="EXACT_SHAPE_MATCH",e[e.NEAREST_NODE=1]="NEAREST_NODE",e[e.AXIS_ALIGNED=2]="AXIS_ALIGNED",e))(kU||{}),GEe=.25,HEe=.125,eb=class{constructor(e,t,i,n){this.type=e,this.event=t,this.defaultPrevented=!1,this.datum=i.datum,this.seriesId=n.id}preventDefault(){this.defaultPrevented=!0}},sP=class{constructor(e,t,i){this.series=e,this.seriesGrouping=t,this.oldGrouping=i,this.type="groupingChanged"}},NM=class extends t6{constructor(e){super(),this.destroyFns=[],this.usesPlacedLabels=!1,this.seriesGrouping=void 0,this.NodeEvent=eb,this.internalId=ro(this),this.contentGroup=new ur({name:`${this.internalId}-content`,zIndex:1}),this.highlightGroup=new ur({name:`${this.internalId}-highlight`,zIndex:1}),this.annotationGroup=new ur({name:`${this.internalId}-annotation`}),this.labelGroup=new ur({name:`${this.internalId}-series-labels`}),this.axes={x:void 0,y:void 0},this.directions=["x","y"],this.nodeDataRefresh=!0,this.moduleMap=new Yk,this.datumCallbackCache=new Map,this.connectsToYAxis=!1,this._declarationOrder=-1,this.seriesListeners=new _c,this._pickNodeCache=new xk;const{moduleCtx:t,pickModes:i,directionKeys:n={},directionNames:s={},canHaveAxes:r=!1,usesPlacedLabels:o=!1}=e;this.ctx=t,this.directionKeys=n,this.directionNames=s,this.canHaveAxes=r,this.usesPlacedLabels=o,this.highlightGroup=new ur({name:`${this.internalId}-highlight`}),this.highlightNode=this.highlightGroup.appendChild(new dt({name:"highlightNode",zIndex:0})),this.highlightLabel=this.highlightGroup.appendChild(new dt({name:"highlightLabel",zIndex:10})),this.pickModes=i}get pickModeAxis(){return"main"}get id(){var e;return((e=this.properties)==null?void 0:e.id)??this.internalId}get type(){return this.constructor.type??""}get focusable(){return!0}get data(){return this._data??this._chartData}set visible(e){this.properties.visible=e,this.ctx.legendManager.toggleItem(e,this.id),this.ctx.legendManager.update(),this.visibleMaybeChanged()}get visible(){return this.ctx.legendManager.getSeriesEnabled(this.id)??this.properties.visible}get hasData(){return this.data!=null&&this.data.length>0}get tooltipEnabled(){var e;return(e=this.properties.tooltip)==null?void 0:e.enabled}onDataChange(){this.nodeDataRefresh=!0,this._pickNodeCache.clear()}setOptionsData(e){this._data=e,this.onDataChange()}setChartData(e){this._chartData=e,this.data===e&&this.onDataChange()}onSeriesGroupingChange(e,t){const{internalId:i,type:n,visible:s}=this;e&&this.ctx.seriesStateManager.deregisterSeries(this),t&&this.ctx.seriesStateManager.registerSeries({internalId:i,type:n,visible:s,seriesGrouping:t}),this.fireEvent(new sP(this,t,e))}getBandScalePadding(){return{inner:1,outer:0}}attachSeries(e,t,i){e.appendChild(this.contentGroup),t.appendChild(this.highlightGroup),t.appendChild(this.labelGroup),i==null||i.appendChild(this.annotationGroup)}detachSeries(e,t,i){e==null||e.removeChild(this.contentGroup),t.removeChild(this.highlightGroup),t.removeChild(this.labelGroup),i==null||i.removeChild(this.annotationGroup)}setSeriesIndex(e){return e===this._declarationOrder?!1:(this._declarationOrder=e,this.contentGroup.zIndex=[1,e,0],this.highlightGroup.zIndex=[1,e,1],this.labelGroup.zIndex=[1,e,2],this.annotationGroup.zIndex=e,!0)}renderToOffscreenCanvas(){return!1}addEventListener(e,t){return super.addEventListener(e,t)}removeEventListener(e,t){return super.removeEventListener(e,t)}hasEventListener(e){return super.hasEventListener(e)}addListener(e,t){return this.seriesListeners.addListener(e,t)}dispatch(e,t){this.seriesListeners.dispatch(e,t)}addChartEventListeners(){}destroy(){this.destroyFns.forEach(e=>e()),this.destroyFns=[],this.resetDatumCallbackCache(),this.ctx.seriesStateManager.deregisterSeries(this)}getDirectionValues(e,t){const i=this.resolveKeyDirection(e),n=t==null?void 0:t[i],s=[];if(!n)return s;const r=(...o)=>{for(const a of o)Array.isArray(a)?r(...a):typeof a=="object"?r(...Object.values(a)):s.push(a)};return r(...n.map(o=>this.properties[o])),s}getKeys(e){return this.getDirectionValues(e,this.directionKeys)}getKeyProperties(e){return this.directionKeys[this.resolveKeyDirection(e)]??[]}getNames(e){return this.getDirectionValues(e,this.directionNames)}resolveKeyDirection(e){return e}getDomain(e){const t=this.getSeriesDomain(e),i=this.moduleMap.mapModules(n=>n.getDomain(e)).flat();return i.length!==0?t.concat(i):t}getRange(e,t){return this.getSeriesRange(e,t)}getVisibleItems(e,t,i){return 1/0}markNodeDataDirty(){this.nodeDataRefresh=!0,this._pickNodeCache.clear(),this.visibleMaybeChanged()}visibleMaybeChanged(){this.ctx.seriesStateManager.updateSeries(this)}getOpacity(){const{dimOpacity:t=1,enabled:i=!0}=this.properties.highlightStyle.series;if(!i||t===1)return 1;switch(this.isItemIdHighlighted()){case 0:case 1:return 1;case 2:default:return t}}getStrokeWidth(e){const{strokeWidth:t,enabled:i=!0}=this.properties.highlightStyle.series;if(!i||t===void 0)return e;switch(this.isItemIdHighlighted()){case 1:return t;case 0:case 2:return e}}isItemIdHighlighted(){var t,i;const e=(i=(t=this.ctx.highlightManager)==null?void 0:t.getActiveHighlight())==null?void 0:i.series;return e==null?0:e!==this?2:1}getModuleTooltipParams(){return this.moduleMap.mapModules(e=>e.getTooltipParams()).reduce((e,t)=>Object.assign(e,t),{})}pickNodes(e,t,i=!1){const{pickModes:n,pickModeAxis:s,visible:r,contentGroup:o}=this;if(!r||!o.visible||t==="highlight"&&!this.properties.highlight.enabled||t==="highlight-tooltip"&&!this.properties.highlight.enabled)return;let a=1/0;if(t==="tooltip"||t==="highlight-tooltip"){const{tooltip:f}=this.properties;a=typeof f.range=="number"?f.range:1/0,i||(i=f.range==="exact")}else if(t==="event"||t==="context-menu"){const{nodeClickRange:f}=this.properties;a=typeof f=="number"?f:1/0,i||(i=f==="exact")}const l=n.filter(f=>!i||f===0),{x:u,y:d}=e,p=JSON.stringify({x:u,y:d,maxDistance:a,selectedPickModes:l});if(this._pickNodeCache.has(p))return this._pickNodeCache.get(p);for(const f of l){let m;switch(f){case 0:{const y=this.pickNodesExactShape(e);m=y.length===0?void 0:{datums:y,distance:0};break}case 1:{const y=this.pickNodeClosestDatum(e),C=(y==null?void 0:y.distance)===0?this.pickNodesExactShape(e):void 0;C!=null&&C.length!==0?m={datums:C,distance:0}:y?m={datums:[y.datum],distance:y.distance}:m=void 0;break}case 2:{const y=s!=null?this.pickNodeMainAxisFirst(e,s==="main-category"):void 0;m=y!=null?{datums:[y.datum],distance:y.distance}:void 0;break}}if(m&&m.distance<=a)return this._pickNodeCache.set(p,{pickMode:f,datums:m.datums,distance:m.distance})}return this._pickNodeCache.set(p,void 0)}pickNodesExactShape(e){const t=[];for(const i of this.contentGroup.pickNodes(e.x,e.y)){const n=i.closestDatum();n!=null&&n.missing!==!0&&t.push(n)}return t}pickNodeClosestDatum(e){throw new Error("AG Charts - Series.pickNodeClosestDatum() not implemented")}pickNodeNearestDistantObject(e,t){var s;const i=pM(e.x,e.y,t),n=(s=i.nearest)==null?void 0:s.closestDatum();if(n!=null&&n.missing!==!0)return{datum:n,distance:Math.sqrt(i.distanceSquared)}}pickNodeMainAxisFirst(e,t){throw new Error("AG Charts - Series.pickNodeMainAxisFirst() not implemented")}getLabelData(){return[]}updatePlacedLabelData(e){}fireNodeClickEvent(e,t){const i=new this.NodeEvent("seriesNodeClick",e,t,this);return this.fireEvent(i),!i.defaultPrevented}fireNodeDoubleClickEvent(e,t){const i=new this.NodeEvent("seriesNodeDoubleClick",e,t,this);return this.fireEvent(i),!i.defaultPrevented}createNodeContextMenuActionEvent(e,t){return new this.NodeEvent("nodeContextMenuAction",e,t,this)}onLegendInitialState(e,t){const{visible:i=!0,itemId:n,legendItemName:s}=t??{};this.toggleSeriesItem(i,e,n,s)}onLegendItemClick(e){const{enabled:t,itemId:i,series:n,legendType:s}=e,r="legendItemName"in this.properties?this.properties.legendItemName:void 0,o="legendItemKey"in this.properties?this.properties.legendItemKey:void 0,a=r!=null&&r===e.legendItemName;(n.id===this.id||a||o!=null)&&this.toggleSeriesItem(t,s,i,r,e)}onLegendItemDoubleClick(e){const{enabled:t,itemId:i,series:n,numVisibleItems:s,legendType:r}=e,o="legendItemName"in this.properties?this.properties.legendItemName:void 0,a="legendItemKey"in this.properties?this.properties.legendItemKey:void 0,l=o!=null&&o===e.legendItemName;n.id===this.id||l||a!=null?this.toggleSeriesItem(!0,r,i,o,e):t&&s===1?this.toggleSeriesItem(!0,r,void 0,o):this.toggleSeriesItem(!1,r,void 0,o)}toggleSeriesItem(e,t,i,n,s){const r=this.id;(e||t!=="category")&&(this.visible=e),this.nodeDataRefresh=!0,this._pickNodeCache.clear();const o={type:"seriesVisibilityChange",seriesId:r,itemId:i,legendItemName:(s==null?void 0:s.legendItemName)??n,visible:e};this.fireEvent(o),this.ctx.legendManager.toggleItem(e,r,i,n)}isEnabled(){return this.visible}getModuleMap(){return this.moduleMap}createModuleContext(){return{...this.ctx,series:this}}getLabelText(e,t,i=Oc){return e.formatter?this.ctx.callbackCache.call(this.properties,e.formatter,{seriesId:this.id,...t})??this.callWithContext(i,t.value):this.callWithContext(i,t.value)}getMarkerStyle(e,t,i,n=!1,s=e.size??0,r){const{itemStyler:o,fillGradientDefaults:a,fillPatternDefaults:l}=e;let d=xl(Vt({size:s},r,e.getStyle()),a,l);if(o&&i){const p=this.ctx.callbackCache.call(this.properties,o,{seriesId:this.id,...d,...i,highlighted:n,datum:t});d=xl(Vt(p,d),a,l)}return d}updateMarkerStyle(e,t,i,n,s,r,o,a,{applyTranslation:l=!0,selected:u=!0}={}){const d=this.getMarkerStyle(e,i,s,r,n==null?void 0:n.size,o),{shape:p,size:f}=d,m=this.visible&&f>0&&n&&!isNaN(n.x)&&!isNaN(n.y);if(up(t,d,void 0,a),l?t.setProperties({visible:m,shape:p,size:f,x:n==null?void 0:n.x,y:n==null?void 0:n.y,scalingCenterX:n==null?void 0:n.x,scalingCenterY:n==null?void 0:n.y}):t.setProperties({visible:m,shape:p,size:f}),u||(t.fillOpacity*=GEe,t.strokeOpacity*=HEe),typeof e.shape=="function"&&!t.dirtyPath){t.path.clear(!0),t.updatePath(),t.checkPathDirty();const y=t.getBBox();if(n!==void 0&&y.isFinite()){const C=y.computeCenter(),[w,b]=["x","y"].map(S=>(d.strokeWidth??0)+Math.abs(C[S]-n[S]));n.focusSize=Math.max(y.width+w,y.height+b)}}}get nodeDataDependencies(){return this._nodeDataDependencies??{seriesRectWidth:NaN,seriesRectHeight:NaN}}checkResize(e){const{width:t,height:i}=e??{width:NaN,height:NaN},n=e?{seriesRectWidth:t,seriesRectHeight:i}:void 0,s=kl(this.nodeDataDependencies,n)!=null;return s&&(this._nodeDataDependencies=n,this.markNodeDataDirty()),s}pickFocus(e){}resetDatumCallbackCache(){this.datumCallbackCache.clear()}cachedDatumCallback(e,t){const{datumCallbackCache:i}=this,n=i.get(e);if(n!=null)return n;try{const s=t();return i.set(e,s),s}catch(s){De.error(String(s))}}callWithContext(e,...t){return Ok(this.properties,e,t)}};I([zr({changeValue:function(e,t){this.onSeriesGroupingChange(t,e)}})],NM.prototype,"seriesGrouping",2);function mt(e){const{changeCb:t,convertor:i}=e??{};return $e({type:"path",convertor:i,changeCb:t})}var yr=class extends ea{constructor(){super(...arguments),this.path=new Tg,this._clipX=NaN,this._clipY=NaN,this.clip=!1,this._dirtyPath=!0,this.lastPixelRatio=NaN}set clipX(e){this._clipX=e,this.dirtyPath=!0}set clipY(e){this._clipY=e,this.dirtyPath=!0}set dirtyPath(e){this._dirtyPath!==e&&(this._dirtyPath=e,e&&this.markDirty("path"))}get dirtyPath(){return this._dirtyPath}checkPathDirty(){var e,t;this._dirtyPath||(this.dirtyPath=this.path.isDirty()||(((e=this.fillShadow)==null?void 0:e.isDirty())??!1)||(((t=this._clipPath)==null?void 0:t.isDirty())??!1))}computeBBox(){return this.updatePathIfDirty(),this.path.computeBBox()}isPointInPath(e,t){return this.updatePathIfDirty(),this.path.closedPath&&this.path.isPointInPath(e,t)}distanceSquared(e,t){return this.distanceSquaredTransformedPoint(e,t)}svgPathData(e){return this.updatePathIfDirty(),this.path.toSVG(e)}distanceSquaredTransformedPoint(e,t){return this.updatePathIfDirty(),this.path.closedPath&&this.path.isPointInPath(e,t)?0:this.path.distanceSquared(e,t)}isDirtyPath(){return!1}updatePath(){}updatePathIfDirty(){(this.dirtyPath||this.isDirtyPath())&&(this.updatePath(),this.dirtyPath=!1)}preRender(e){return e.devicePixelRatio!==this.lastPixelRatio&&(this.dirtyPath=!0),this.lastPixelRatio=e.devicePixelRatio,this.updatePathIfDirty(),super.preRender(e,this.path.commands.length)}render(e){var i,n;const{ctx:t}=e;if(this.clip&&!isNaN(this._clipX)&&!isNaN(this._clipY)){t.save();const s=this.strokeWidth/2;this._clipPath??(this._clipPath=new Tg),this._clipPath.clear(),this._clipPath.rect(-s,-s,this._clipX+s,this._clipY+s+s),t.clip((i=this._clipPath)==null?void 0:i.getPath2D()),this._clipX>0&&this._clipY>0&&this.drawPath(t),t.restore()}else this._clipPath=void 0,this.drawPath(t);(n=this.fillShadow)==null||n.markClean(),super.render(e)}drawPath(e){this.fillStroke(e,this.path.getPath2D())}toSVG(){if(!this.visible)return;const e=gs("path");e.setAttribute("d",this.svgPathData());const t=this.applySvgFillAttributes(e,[]);return this.applySvgStrokeAttributes(e),{elements:[e],defs:t}}};yr.className="Path";I([mt()],yr.prototype,"clip",2);I([mt()],yr.prototype,"clipX",1);I([mt()],yr.prototype,"clipY",1);var _Ee=class{constructor(e){this.swapChain=e,this.hasBeenActivated=!1,this.div=Ot("div"),this.svg=gs("svg"),this.outerPath=gs("path"),this.innerPath=gs("path"),this.svg.append(this.outerPath),this.svg.append(this.innerPath),this.outerPath.classList.add("ag-charts-focus-svg-outer-path"),this.innerPath.classList.add("ag-charts-focus-svg-inner-path"),this.element=Ot("div","ag-charts-focus-indicator"),this.element.ariaHidden="true",this.element.append(this.svg),this.swapChain.addListener("swap",t=>this.onSwap(t))}clear(){}update(e,t,i){if(t!=null)if(e instanceof yr){const n=(r,o)=>{let{x:a,y:l}=mn.toCanvasPoint(e,r,o);return a-=t.x??0,l-=t.y??0,{x:a,y:l}},s=e.svgPathData(n);this.outerPath.setAttribute("d",s),this.innerPath.setAttribute("d",s),this.show(this.svg)}else{let n;if(i){const s=Math.max(e.x-t.x,0),r=Math.max(e.y-t.y,0),o=Math.min(e.x+e.width-t.x,t.width),a=Math.min(e.y+e.height-t.y,t.height);n=new Ue(s,r,o-s,a-r)}else n=new Ue(e.x-t.x,e.y-t.y,e.width,e.height);ZS(this.div,n),this.show(this.div)}}onSwap(e){e!==this.element.parentElement&&(this.element.remove(),e.appendChild(this.element),this.overrideFocusVisible(this.focusVisible))}show(e){this.hasBeenActivated=!0,this.element.innerHTML="",this.element.append(e)}overrideFocusVisible(e){this.focusVisible=e;const t={true:"1",false:"0",undefined:""},i=this.element.parentElement;i==null||i.style.setProperty("opacity",t[`${e}`])}isFocusVisible(e=!1){if(!e&&!this.hasBeenActivated)return!1;const t=this.element.parentElement;return t!=null&&Di().getComputedStyle(t).opacity==="1"}},jEe=class{constructor(e,t,i,n){this.label1=e,this.label2=t,this.hasFocus=!1,this.skipDispatch=!1,this.listeners={blur:[],focus:[],swap:[]},this.onBlur=s=>(ba(s.target,"pointer-events",void 0),!this.skipDispatch&&this.dispatch("blur",s)),this.onFocus=s=>(ba(s.target,"pointer-events","auto"),!this.skipDispatch&&this.dispatch("focus",s)),Mi(this.label1,"id",`${i}-label1`),Mi(this.label2,"id",`${i}-label2`),ba(this.label1,"display","none"),ba(this.label2,"display","none"),this.activeAnnouncer=this.createAnnouncer(n),this.inactiveAnnouncer=this.createAnnouncer(n),Mi(this.activeAnnouncer,"tabindex",0),this.label2.insertAdjacentElement("afterend",this.activeAnnouncer),this.label2.insertAdjacentElement("afterend",this.inactiveAnnouncer),this.swap("")}createAnnouncer(e){const t=Ot("div");return t.role=e,t.className="ag-charts-swapchain",t.addEventListener("blur",this.onBlur),t.addEventListener("focus",this.onFocus),t}destroy(){for(const e of[this.activeAnnouncer,this.inactiveAnnouncer])e.removeEventListener("blur",this.onBlur),e.removeEventListener("focus",this.onFocus),e.remove()}focus(e){this.focusOptions=e,this.activeAnnouncer.focus(e),this.focusOptions=void 0}update(e){this.skipDispatch=!0,this.swap(e),this.hasFocus&&this.activeAnnouncer.focus(this.focusOptions),this.skipDispatch=!1}addListener(e,t){this.listeners[e].push(t),e==="swap"&&t(this.activeAnnouncer)}dispatch(e,t){e==="focus"?this.hasFocus=!0:e==="blur"&&(this.hasFocus=!1),this.listeners[e].forEach(i=>i(t))}swap(e){const t=this.activeAnnouncer.tabIndex;this.label2.textContent=e,[this.inactiveAnnouncer,this.activeAnnouncer]=[this.activeAnnouncer,this.inactiveAnnouncer],[this.label1,this.label2]=[this.label2,this.label1],lp(this.inactiveAnnouncer,{"aria-labelledby":this.label1.id,"aria-hidden":!0,tabindex:void 0}),lp(this.activeAnnouncer,{"aria-labelledby":this.label1.id,"aria-hidden":!1,tabindex:t}),this.dispatch("swap",this.activeAnnouncer)}},VEe={arrowdown:{bindings:[{code:"ArrowDown"}]},arrowleft:{bindings:[{code:"ArrowLeft"}]},arrowright:{bindings:[{code:"ArrowRight"}]},arrowup:{bindings:[{code:"ArrowUp"}]},delete:{bindings:[{key:"Backspace"},{key:"Delete"}],activatesFocusIndicator:!1},redo:{bindings:[{key:"y",ctrlOrMeta:!0},{key:"z",ctrlOrMeta:!0,shift:!0}],activatesFocusIndicator:!1},undo:{bindings:[{key:"z",ctrlOrMeta:!0}],activatesFocusIndicator:!1},submit:{bindings:[{key:"Enter"},{code:"Enter"},{code:"Space"}]},zoomin:{bindings:[{key:"+"},{code:"ZoomIn"},{code:"Add"}],activatesFocusIndicator:!1},zoomout:{bindings:[{key:"-"},{code:"ZoomOut"},{code:"Substract"}],activatesFocusIndicator:!1}};function WEe(e,t){for(const i of t)if("code"in i){if(i.code===e.code)return!0}else if(i.key===e.key&&(i.shift===void 0||i.shift===e.shiftKey)&&(i.ctrlOrMeta===void 0||i.ctrlOrMeta===e.ctrlKey||i.ctrlOrMeta===e.metaKey))return!0;return!1}function UEe(e){for(const[t,{activatesFocusIndicator:i=!0,bindings:n}]of Sa(VEe))if(WEe(e,n))return{name:t,activatesFocusIndicator:i}}function $Ee(e,t,i){const n=Nk(e,i.datum,i.movedBounds);if(n!=null)return{x:n.canvasX,y:n.canvasY};const s=i.bounds;if(s!=null){if(s instanceof Ue){const{x:r,y:o}=s.computeCenter();return{x:t.x+r,y:t.y+o}}return mn.toCanvas(s).computeCenter()}}function YEe({bounds:e}){return e instanceof Ue?e:e!=null?mn.toCanvas(e):Ue.NaN}function KEe(e,t,i){const{x:n,y:s}=$Ee(e,t,i)??{};if(n!==void 0&&s!==void 0)return{type:"keyboard",canvasX:n,canvasY:s}}function rP(){return(e,t)=>{const i=[`Property [${e}] is deprecated.`,t].filter(Boolean).join(" ");De.warnOnce(i)}}function PU(e,t){const i=rP(),n=t==null?void 0:t.default;return od((s,r,o)=>(o!==n&&i(r.toString(),e),o))}function qEe(e,t){const i=rP();return od((n,s,r)=>(r!==n[e]&&(i(s.toString(),`Use [${e}] instead.`),uk(n,e,t?t(r):r)),WS),(n,s)=>(i(s.toString(),`Use [${e}] instead.`),Eg(n,e)))}function FU(e,t,i,n){let{top:s,right:r,bottom:o,left:a,width:l,height:u}=n;return a!=null?l!=null?r=i.width-a+l:r!=null&&(l=i.width-a-r):r!=null&&l!=null&&(a=i.width-r-l),s!=null?u!=null?o=i.height-s-u:o!=null&&(u=i.height-o-s):o!=null&&u!=null&&(s=i.height-o-u),l==null?u==null?(l=e,u=t):l=Math.ceil(e*u/t):u==null&&(u=Math.ceil(t*l/e)),a==null&&(r==null?a=Math.floor((i.width-l)/2):a=i.width-r-l),s==null&&(o==null?s=Math.floor((i.height-u)/2):s=i.height-u-o),{x:a,y:s,width:l,height:u}}var _G=.1,jG=200,VG=12,ZEe=.5,XEe=class extends _c{constructor(){super(...arguments),this.x1=NaN,this.y1=NaN,this.x=NaN,this.y=NaN,this.vx=0,this.vy=0,this.t0=NaN,this.animationFrameHandle=void 0}reset(){this.x=NaN,this.y=NaN,this.animationFrameHandle!=null&&(cancelAnimationFrame(this.animationFrameHandle),this.animationFrameHandle=void 0)}update(e,t){if(Number.isNaN(this.x)||Number.isNaN(this.y)){this.x=e,this.y=t,this.vx=0,this.vy=0,this.emitUpdate(),this.animationFrameHandle!=null&&(cancelAnimationFrame(this.animationFrameHandle),this.animationFrameHandle=void 0);return}this.x1=e,this.y1=t,this.t0=Date.now(),this.animationFrameHandle==null&&(this.animationFrameHandle=requestAnimationFrame(this.onFrame.bind(this)))}onFrame(){this.animationFrameHandle=void 0;const{x1:e,y1:t,t0:i}=this,n=Date.now(),s=n-i;this.t0=n;const r=.001,o=Math.ceil(s/(r*1e3))|0;let{x:a,y:l,vx:u,vy:d}=this;for(let p=0;p<o;p+=1){const f=a-e,m=l-t,y=-(jG*f+VG*u)/_G,C=-(jG*m+VG*d)/_G;u+=y*r,d+=C*r,a+=u*r,l+=d*r}Math.hypot(a-e,l-t)<ZEe?(this.x=this.x1,this.y=this.y1,this.vx=0,this.vy=0):(this.x=a,this.y=l,this.vx=u,this.vy=d,this.animationFrameHandle=requestAnimationFrame(this.onFrame.bind(this))),this.emitUpdate()}emitUpdate(){this.dispatch("update",{type:"update",x:this.x,y:this.y})}},aw=null;function mv(e){return e===""?"":(aw??(aw=Ot("div")),aw.textContent=String(e),aw.innerHTML.replace(/\n/g,"<br>"))}function $y(e,t){const{path:i,size:n}=e,{x:s,y:r}=e;i.clear();let o=!1;for(const[a,l]of t){const u=s+(a-.5)*n,d=r+(l-.5)*n;o?i.lineTo(u,d):i.moveTo(u,d),o=!0}i.closePath()}var QEe={circle({path:e,x:t,y:i,size:n}){const s=n/2;e.clear(),e.arc(t,i,s,0,Math.PI*2),e.closePath()},cross(e){$y(e,[[.25,0],[.5,.25],[.75,0],[1,.25],[.75,.5],[1,.75],[.75,1],[.5,.75],[.25,1],[0,.75],[.25,.5],[0,.25]])},diamond(e){$y(e,[[.5,0],[1,.5],[.5,1],[0,.5]])},heart({path:e,x:t,y:i,size:n}){const s=n/4;i=i+s/2,e.clear(),e.arc(t-s,i-s,s,Ki(130),Ki(330)),e.arc(t+s,i-s,s,Ki(220),Ki(50)),e.lineTo(t,i+s),e.closePath()},pin({path:e,x:t,y:i,size:n}){e.moveTo(t+(.15625-.5)*n,i+(.34375-.5)*n),e.cubicCurveTo(t+(.15625-.5)*n,i+(.151491-.5)*n,t+(.307741-.5)*n,i+(0-.5)*n,t+(.5-.5)*n,i+(0-.5)*n),e.cubicCurveTo(t+(.692259-.5)*n,i+(0-.5)*n,t+(.84375-.5)*n,i+(.151491-.5)*n,t+(.84375-.5)*n,i+(.34375-.5)*n),e.cubicCurveTo(t+(.84375-.5)*n,i+(.493824-.5)*n,t+(.784625-.5)*n,i+(.600181-.5)*n,t+(.716461-.5)*n,i+(.695393-.5)*n),e.cubicCurveTo(t+(.699009-.5)*n,i+(.719769-.5)*n,t+(.681271-.5)*n,i+(.743104-.5)*n,t+(.663785-.5)*n,i+(.766105-.5)*n),e.cubicCurveTo(t+(.611893-.5)*n,i+(.834367-.5)*n,t+(.562228-.5)*n,i+(.899699-.5)*n,t+(.528896-.5)*n,i+(.980648-.5)*n),e.cubicCurveTo(t+(.524075-.5)*n,i+(.992358-.5)*n,t+(.512663-.5)*n,i+(1-.5)*n,t+(.5-.5)*n,i+(1-.5)*n),e.cubicCurveTo(t+(.487337-.5)*n,i+(1-.5)*n,t+(.475925-.5)*n,i+(.992358-.5)*n,t+(.471104-.5)*n,i+(.980648-.5)*n),e.cubicCurveTo(t+(.487337-.5)*n,i+(1-.5)*n,t+(.475925-.5)*n,i+(.992358-.5)*n,t+(.471104-.5)*n,i+(.980648-.5)*n),e.cubicCurveTo(t+(.437772-.5)*n,i+(.899699-.5)*n,t+(.388107-.5)*n,i+(.834367-.5)*n,t+(.336215-.5)*n,i+(.766105-.5)*n),e.cubicCurveTo(t+(.318729-.5)*n,i+(.743104-.5)*n,t+(.300991-.5)*n,i+(.719769-.5)*n,t+(.283539-.5)*n,i+(.695393-.5)*n),e.cubicCurveTo(t+(.215375-.5)*n,i+(.600181-.5)*n,t+(.15625-.5)*n,i+(.493824-.5)*n,t+(.15625-.5)*n,i+(.34375-.5)*n),e.closePath()},plus(e){$y(e,[[1/3,0],[2/3,0],[2/3,1/3],[1,1/3],[1,2/3],[2/3,2/3],[2/3,1],[1/3,1],[1/3,2/3],[0,2/3],[0,1/3],[1/3,1/3]])},square({path:e,x:t,y:i,size:n,pixelRatio:s}){const r=n/2;e.clear(),e.moveTo(es(s,t-r),es(s,i-r)),e.lineTo(es(s,t+r),es(s,i-r)),e.lineTo(es(s,t+r),es(s,i+r)),e.lineTo(es(s,t-r),es(s,i+r)),e.closePath()},star({path:e,x:t,y:i,size:n}){const r=n/2,o=r/2,a=Math.PI/2;for(let l=0;l<5*2;l++){const u=l%2===0?r:o,d=l*Math.PI/5-a,p=t+Math.cos(d)*u,f=i+Math.sin(d)*u;e.lineTo(p,f)}e.closePath()},triangle(e){$y(e,[[.5,0],[1,.87],[0,.87]])}},tb=class extends yr{constructor(){super(...arguments),this.shape="square",this.x=0,this.y=0,this.size=12}updatePath(){var l,u;const{path:e,shape:t,x:i,y:n,size:s}=this,r=((u=(l=this.layerManager)==null?void 0:l.canvas)==null?void 0:u.pixelRatio)??1,o=ns.anchor(t),a={path:e,x:i-(o.x-.5)*s,y:n-(o.y-.5)*s,size:s,pixelRatio:r};e.clear(),typeof t=="string"?QEe[t](a):typeof t=="function"&&t(a)}computeBBox(){const{x:e,y:t,size:i}=this,n=ns.anchor(this.shape);return new Ue(e-i*n.x,t-i*n.y,i,i)}executeFill(e,t){if(t)return super.executeFill(e,t)}executeStroke(e,t){if(t)return super.executeStroke(e,t)}};I([mt()],tb.prototype,"shape",2);I([mt()],tb.prototype,"x",2);I([mt()],tb.prototype,"y",2);I([mt({convertor:Math.abs})],tb.prototype,"size",2);var ns=class extends Zg(Ck(wp(tb))){static anchor(e){return e==="pin"?{x:.5,y:1}:typeof e=="function"&&"anchor"in e?e.anchor:{x:.5,y:.5}}constructor(e){super(e),(e==null?void 0:e.shape)!=null&&(this.shape=e.shape)}};function OU(e,t,i=t*(5/3)){var l;const n=new dt,s=Math.min(e.marker.strokeWidth??1,2),r=Math.min(((l=e.line)==null?void 0:l.strokeWidth)??0,2),o=Math.max(e.marker.enabled===!1?0:t,e.line==null?0:i),a=Math.max(e.marker.enabled===!1?0:t,r);if(e.line!=null){const{stroke:u,strokeOpacity:d,lineDash:p}=e.line,f=new uo;f.x1=0,f.y1=a/2,f.x2=o,f.y2=a/2,f.stroke=u,f.strokeOpacity=d,f.strokeWidth=r,f.lineDash=p,n.append(f)}if(e.marker.enabled!==!1){const{shape:u,fill:d,fillOpacity:p,stroke:f,strokeOpacity:m,lineDash:y,lineDashOffset:C}=e.marker,w=new ns;w.shape=u??"square",w.size=t,w.fill=d,w.fillOpacity=p??1,w.stroke=f,w.strokeOpacity=m??1,w.strokeWidth=s,w.lineDash=y,w.lineDashOffset=C??0;const b=ns.anchor(u),S=o/2+(b.x-.5)*t,M=a/2+(b.y-.5)*t,D=t/(t+s);w.x=S,w.y=M,w.scalingCenterX=S,w.scalingCenterY=M,w.scalingX=D,w.scalingY=D,n.append(w)}return dt.toSVG(n,o,a)}var ps="ag-charts-tooltip",NU="ag-charts-tooltip--dark";function BU(e){const t=[],i=new Map;for(const n of e)if(n.type==="structured"){const{heading:s}=n,r=s!=null?i.get(s):void 0,o={type:"structured",heading:s,items:[n]};r==null?(i.set(s,o),t.push(o)):r.items.push(n)}else t.push(n);return t}function zU(e){const t=BU(e),i=[];return t.forEach(n=>{if(n.type==="raw")return"";n.heading!=null&&i.push(n.heading),n.items.forEach(s=>{var r;s.title!=null&&i.push(s.title),(r=s.data)==null||r.forEach(o=>{i.push(o.label??o.fallbackLabel,o.value)})})}),i.join("; ")}function eI(e,t,i){let n="";e==null?n+=`<span class="${ps}-label">${mv(t)}</span>`:(n+=`<span class="${ps}-label">${mv(e)}</span>`,n+=" ",n+=`<span class="${ps}-value">${mv(t)}</span>`);const s=[`${ps}-row`];return i&&s.push(`${ps}-row--inline`),n=`<div class="${s.join(" ")}">${n}</div>`,n}function JEe(e){var s,r,o;let t="";const i=e.title==null&&((s=e.data)==null?void 0:s.length)===1,n=e.symbol==null?void 0:OU(e.symbol,12);return n!=null&&(e.title!=null||(r=e.data)!=null&&r.length)&&(t+=`<span class="${ps}-symbol">${n}</span>`),e.title!=null&&(t+=`<span class="${ps}-title">${mv(e.title)}</span>`,t+=" "),(o=e.data)==null||o.forEach(a=>{t+=eI(a.label??a.fallbackLabel,a.value,i),t+=" "}),t}function GU(e,t){if(e==null||t.length===1)return;const i=e==null?void 0:e.t("tooltipPaginationStatus",{index:t.index+1,count:t.length});return`<div class="${ps}-footer">${i}</div>`}function WG(e,t,i,n){var d,p;const s=t.items.length===1?t.items[0]:void 0;let r,o,a;switch(i){case"compact":r=!0,o=s==null?void 0:s.title;break;case"single":r=s!=null&&(t.heading==null||s.title==null)&&((d=s.data)==null?void 0:d.length)===1&&s.data[0].label==null&&s.data[0].value!=null,a=t.heading??(s==null?void 0:s.title);break;case"shared":r=!1}let l="";if(r&&s!=null?(o!=null&&(l+=eI(void 0,o,!1)),(p=s.data)==null||p.forEach(f=>{l+=eI(f.label??a,f.value,!1),l+=" "})):(t.heading!=null&&(l+=`<span class="${ps}-heading">${mv(t.heading)}</span>`,l+=" "),t.items.forEach(f=>{l+=JEe(f)})),l.length===0)return;const u=i!=="compact"&&n!=null?GU(e,n):void 0;return u+null&&(l+=u),l=`<div class="${ps}-content">${l.trimEnd()}</div>`,l}function e1e(e,t){const i=t==null?void 0:GU(e,t);return i==null?"":`<div class="${ps}-content">${i}</div>`}function HU(e,t,i,n){const s=BU(t);if(s.length!==0){if(s.length===1&&s[0].type==="structured")return WG(e,s[0],i,n);{const r=s.map(o=>o.type==="structured"?WG(e,o,i):o.rawHtmlString);return n!=null&&r.push(e1e(e,n)??""),r.join("")}}}var t1e={left:-1,"top-left":-1,"bottom-left":-1,top:0,center:0,bottom:0,right:1,"top-right":1,"bottom-right":1},i1e={"top-left":-1,top:-1,"top-right":-1,left:0,center:0,right:0,"bottom-left":1,bottom:1,"bottom-right":1},n1e={left:3,"top-left":void 0,"bottom-left":void 0,top:2,center:void 0,bottom:1,right:0,"top-right":void 0,"bottom-right":void 0},UG={top:2,bottom:2,left:1,right:1,"top-right":3,"top-left":3,"bottom-right":3,"bottom-left":3,center:0};vi(["single","shared","compact"]);vi(["pointer","node","top","right","bottom","left","top-left","top-right","bottom-right","bottom-left"],"a position type");vi(["pointer","node","chart"],"an anchorTo");var $G=vi(["top","right","bottom","left","top-right","bottom-right","bottom-left","top-left","center"],"a placement");Hs($G,ss($G));var Uc=class extends gt{constructor(){super(...arguments),this.xOffset=0,this.yOffset=0}get defaultAnchorTo(){const{type:e,_seriesOverrideType:t}=this,i=e??t??"pointer";return i==="node"||i==="pointer"?i:"chart"}get defaultPlacement(){const{type:e,_seriesOverrideType:t}=this,i=e??t??"pointer";return i==="node"||i==="pointer"?"top":i}};I([O(),PU("Use `anchorTo` and/or `placement` options instead.")],Uc.prototype,"type",2);I([O()],Uc.prototype,"_seriesOverrideType",2);I([O()],Uc.prototype,"xOffset",2);I([O()],Uc.prototype,"yOffset",2);I([O()],Uc.prototype,"anchorTo",2);I([O()],Uc.prototype,"placement",2);var na=class extends gt{constructor(){super(),this.enabled=!0,this.mode="single",this.delay=0,this.range=void 0,this.wrapping="hyphenate",this.position=new Uc,this.pagination=!1,this.darkTheme=!1,this.bounds="extended",this.destroyFns=[],this.springAnimation=new XEe,this.enableInteraction=!1,this.wrapTypes=["always","hyphenate","on-space","never"],this.sizeMonitor=new p6,this._elementSize=void 0,this._showTimeout=void 0,this.arrowPosition=void 0,this._visible=!1,this.positionParams=void 0,this.localeManager=void 0,this.destroyFns.push(this.springAnimation.addListener("update",this.updateTooltipPosition.bind(this)))}get interactive(){return this.enableInteraction}setup(e,t){return"togglePopover"in Di().HTMLElement.prototype&&(this.element=t.addChild("tooltip-container",ps),this.element.setAttribute("popover","manual"),this.element.className=ps,this.element.style.positionAnchor=t.anchorName,this.sizeMonitor.observe(this.element,i=>{this._elementSize=i,this.updateTooltipPosition()})),this.localeManager=e,()=>{t.removeChild("tooltip-container",ps),this.destroyFns.forEach(i=>i()),this.element&&this.sizeMonitor.unobserve(this.element)}}isVisible(){return this._visible}contains(e){var t;return((t=this.element)==null?void 0:t.contains(e))??!1}updateTooltipPosition(){var F,P,L,z,H,V;const{element:e,_elementSize:t,positionParams:i}=this;if(e==null||t==null||i==null)return;const{canvasRect:n,relativeRect:s,meta:r}=i,{x:o,y:a}=this.springAnimation;let l=((F=r.position)==null?void 0:F.placement)??this.position.placement??((P=r.position)==null?void 0:P.defaultPlacement)??this.position.defaultPlacement;Array.isArray(l)||(l=[l]);const u=((L=r.position)==null?void 0:L.anchorTo)??this.position.anchorTo??((z=r.position)==null?void 0:z.defaultAnchorTo)??this.position.defaultAnchorTo,d=((H=r.position)==null?void 0:H.xOffset)??0,p=((V=r.position)==null?void 0:V.yOffset)??0,f=s.x,m=s.y,y=s.width-t.width-1+f,C=s.height-t.height+m;let w=0,b,S,M=!1;do{b=l[w],w+=1;const q=this.getTooltipBounds({elementSize:t,placement:b,anchorTo:u,canvasX:o,canvasY:a,yOffset:p,xOffset:d,canvasRect:n});S=FU(t.width,t.height,s,q),M=!1,UG[b]&1&&(M||(M=S.x<f||S.x>y)),UG[b]&2&&(M||(M=S.y<m||S.y>C))}while(w<l.length&&M);const D=ft(f,S.x,y),R=ft(m,S.y,C);M||(M=D!==S.x||R!==S.y);const A=u!=="chart"&&!M&&!d&&!p,k=r.showArrow??this.showArrow??A;this.arrowPosition=k?n1e[b]:void 0,this.updateClassModifiers(),e.style.translate=`${D}px ${R}px`}show(e,t,i,n,s,r=!1){var u,d;const{element:o}=this;if(o!=null&&n!=null&&n.length!==0){const p=HU(this.localeManager,n,this.mode,this.pagination?s:void 0);if(p==null){this.toggle(!1);return}o.innerHTML=p}else if(o==null||o.innerHTML===""){this.toggle(!1);return}const a={x:e.x-t.x,y:e.y-t.y,width:e.width,height:e.height};switch(this.positionParams={canvasRect:t,relativeRect:a,meta:i},((u=i.position)==null?void 0:u.anchorTo)??this.position.anchorTo??((d=i.position)==null?void 0:d.defaultAnchorTo)??this.position.defaultAnchorTo){case"node":this.springAnimation.update(i.nodeCanvasX??i.canvasX,i.nodeCanvasY??i.canvasY);break;case"pointer":this.springAnimation.update(i.canvasX,i.canvasY);break;case"chart":this.springAnimation.reset()}i.enableInteraction?(this.enableInteraction=!0,o.style.pointerEvents="auto",o.removeAttribute("aria-hidden"),o.tabIndex=-1):(this.enableInteraction=!1,o.style.pointerEvents="none",o.setAttribute("aria-hidden","true"),o.removeAttribute("tabindex")),o.style.setProperty("--top",`${t.top}px`),o.style.setProperty("--left",`${t.left}px`),this.updateClassModifiers(),this.toggle(!0,r)}hide(){this.toggle(!1)}toggle(e,t=!1){const{delay:i}=this;e&&i>0&&!t?this._showTimeout??(this._showTimeout=setTimeout(()=>{this._showTimeout=void 0,this.toggleCallback(!0)},i)):(clearTimeout(this._showTimeout),this._showTimeout=void 0,this.toggleCallback(e))}toggleCallback(e){var t;(t=this.element)!=null&&t.isConnected&&this._visible!==e&&(this._visible=e,this.element.togglePopover(e),e?this.updateTooltipPosition():this.springAnimation.reset())}updateClassModifiers(){var i;if(!((i=this.element)!=null&&i.isConnected))return;const{classList:e}=this.element,t=(n,s)=>e.toggle(`${ps}--${n}`,s);t("no-interaction",!this.enableInteraction),t("arrow-top",this.arrowPosition===1),t("arrow-right",this.arrowPosition===3),t("arrow-bottom",this.arrowPosition===2),t("arrow-left",this.arrowPosition===0),t("compact",this.mode==="compact"),e.toggle(NU,this.darkTheme);for(const n of this.wrapTypes)e.toggle(`${ps}--wrap-${n}`,n===this.wrapping)}getTooltipBounds(e){const{elementSize:t,anchorTo:i,placement:n,canvasX:s,canvasY:r,yOffset:o,xOffset:a,canvasRect:l}=e,{width:u,height:d}=t,p={width:u,height:d};if(i==="node"||i==="pointer"){const f=t1e[n],m=i1e[n];return p.top=r+o+d*(m-1)/2+8*m,p.left=s+a+u*(f-1)/2+8*f,p}switch(n){case"top":return p.top=o,p.left=l.width/2-u/2+a,p;case"right":return p.top=l.height/2-d/2+o,p.left=l.width-u/2+a,p;case"left":return p.top=l.height/2-d/2+o,p.left=a,p;case"bottom":return p.top=l.height-d+o,p.left=l.width/2-u/2+a,p;case"top-left":return p.top=o,p.left=a,p;case"top-right":return p.top=o,p.left=l.width-u+a,p;case"bottom-right":return p.top=l.height-d+o,p.left=l.width-u+a,p;case"bottom-left":return p.top=l.height-d+o,p.left=a,p}return p}};I([O()],na.prototype,"enabled",2);I([O()],na.prototype,"mode",2);I([O()],na.prototype,"showArrow",2);I([O()],na.prototype,"delay",2);I([O()],na.prototype,"range",2);I([O()],na.prototype,"wrapping",2);I([O()],na.prototype,"position",2);I([O()],na.prototype,"pagination",2);I([O()],na.prototype,"darkTheme",2);I([O(vi(["extended","canvas"]))],na.prototype,"bounds",2);function tI(e,t){return e.series===t.series&&Il(e.datumIndex,t.datumIndex)}var s1e=class{constructor(){this.candidates=[]}get current(){return this.active}reset(){this.candidates.length=0,this.active=void 0}update(e,t){this.candidates=e;let i=t!=null?e.findIndex(n=>tI(n,t)):-1;return i===-1&&(i=0),this.active=e[i],{current:this.active,index:i,length:e.length}}next(){const{candidates:e,active:t}=this,i=t==null?-1:e.findIndex(s=>tI(s,t));if(i===-1)return;let n=i+1;return n>=e.length&&(n=0),this.active=e[n],{current:this.active,index:n,length:this.candidates.length}}},r1e=class extends Cd{constructor(e){super(),this.chart=e,this.id=ro(this),this.series=[],this.highlight={pendingHoverEvent:void 0,appliedHoverEvent:void 0,stashedHoverEvent:void 0},this.tooltip={lastHover:void 0},this.hoverDevice="pointer",this.previousInputDevice="keyboard",this.focus={sortedSeries:[],series:void 0,seriesIndex:0,datumIndex:0,datum:void 0},this.hoverScheduler=aMe(()=>{if(!(!this.tooltip.lastHover&&!this.highlight.pendingHoverEvent)){if(this.chart.getUpdateType()<=4){this.hoverScheduler.schedule();return}this.highlight.pendingHoverEvent&&this.handleHoverHighlight(!1),this.tooltip.lastHover&&this.handleHoverTooltip(this.tooltip.lastHover,!1)}}),this.tooltipCandidates=new s1e;const t=e.ctx.domManager.addChild("series-area","series-area-aria-label1"),i=e.ctx.domManager.addChild("series-area","series-area-aria-label2");this.swapChain=new jEe(t,i,this.id,"img"),this.swapChain.addListener("blur",o=>this.onBlur(o)),this.swapChain.addListener("focus",()=>this.onFocus()),e.ctx.domManager.mode==="normal"&&(this.focusIndicator=new _Ee(this.swapChain),this.focusIndicator.overrideFocusVisible(e.mode==="integrated"?!1:void 0));const{seriesDragInterpreter:n,seriesWidget:s,containerWidget:r}=e.ctx.widgets;s.setTabIndex(-1),this.destroyFns.push(()=>e.ctx.domManager.removeChild("series-area","series-area-aria-label1"),()=>e.ctx.domManager.removeChild("series-area","series-area-aria-label2"),s.addListener("focus",()=>this.swapChain.focus()),s.addListener("mousemove",o=>this.onHover(o)),s.addListener("wheel",o=>this.onWheel(o)),s.addListener("mouseleave",o=>this.onLeave(o)),s.addListener("keydown",o=>this.onKeyDown(o)),s.addListener("contextmenu",(o,a)=>this.onContextMenu(o,a)),n.addListener("drag-move",o=>this.onDragMove(o)),n.addListener("click",o=>this.onClick(o,s)),n.addListener("dblclick",o=>this.onClick(o,s)),r.addListener("contextmenu",(o,a)=>this.onContextMenu(o,a)),r.addListener("click",(o,a)=>this.onClick(o,a)),r.addListener("dblclick",(o,a)=>this.onClick(o,a)),e.ctx.animationManager.addListener("animation-start",()=>this.clearAll()),e.ctx.domManager.addListener("resize",()=>this.clearAll()),e.ctx.highlightManager.addListener("highlight-change",o=>this.changeHighlightDatum(o)),e.ctx.layoutManager.addListener("layout:complete",o=>this.layoutComplete(o)),e.ctx.updateService.addListener("pre-scene-render",()=>this.preSceneRender()),e.ctx.updateService.addListener("update-complete",()=>this.updateComplete()),e.ctx.zoomManager.addListener("zoom-change",()=>this.clearAll()),e.ctx.zoomManager.addListener("zoom-pan-start",()=>this.clearAll()))}isState(e){return this.chart.ctx.interactionManager.isState(e)}isIgnoredTouch(e){return!(e.device!=="touch"||e.type==="click"||this.chart.ctx.chartService.touch.dragAction==="hover"||this.chart.ctx.chartService.touch.dragAction==="drag"&&this.isState(9))}dataChanged(){var t;var e;(e=this.highlight).stashedHoverEvent??(e.stashedHoverEvent=this.highlight.appliedHoverEvent),this.chart.ctx.tooltipManager.removeTooltip(this.id),(t=this.focusIndicator)==null||t.clear(),this.clearHighlight()}preSceneRender(){this.highlight.stashedHoverEvent!=null&&(this.highlight.pendingHoverEvent=this.highlight.stashedHoverEvent,this.highlight.stashedHoverEvent=void 0,this.handleHoverHighlight(!0)),this.tooltip.lastHover!=null&&this.handleHoverTooltip(this.tooltip.lastHover,!0)}updateComplete(){var e;this.isState(34)&&((e=this.focusIndicator)!=null&&e.isFocusVisible())&&this.handleSeriesFocus(0,0,!0)}update(e,t){this.chart.ctx.updateService.update(e,t)}seriesChanged(e){this.focus.sortedSeries=[...e].sort((t,i)=>{let n=t.properties.focusPriority??1/0,s=i.properties.focusPriority??1/0;return n===s&&([n,s]=[t._declarationOrder,i._declarationOrder]),n<s?-1:n>s?1:0}),this.series=e}layoutComplete(e){this.seriesRect=e.series.rect,this.hoverRect=e.series.paddedRect,this.chart.ctx.widgets.seriesWidget.setBounds(e.series.paddedRect),this.chart.ctx.domManager.mode==="normal"&&this.chart.ctx.widgets.chartWidget.setBounds(e.chart)}onContextMenu(e,t){var l;const{sourceEvent:i}=e;if(i.currentTarget!=t.getElement())return;if(i.target==this.chart.ctx.widgets.containerWidget.getElement()){if(this.isState(36)){const{currentX:u,currentY:d}=e;this.chart.ctx.contextMenuRegistry.dispatchContext("all",{sourceEvent:i,canvasX:u,canvasY:d},{})}return}let n,s;if((l=this.focusIndicator)!=null&&l.isFocusVisible())n=this.chart.ctx.highlightManager.getActiveHighlight(),n&&this.seriesRect&&n.midPoint&&(s=mn.toCanvasPoint(n.series.contentGroup,n.midPoint.x,n.midPoint.y));else if(this.isState(36)){const u=this.pickNodes({x:e.currentX,y:e.currentY},"context-menu");u&&(this.chart.ctx.highlightManager.updateHighlight(this.id),n=u.matches[0].datum)}const r=n==null?void 0:n.series;this.clearAll();const o=e.currentX+t.cssLeft(),a=e.currentY+t.cssTop();this.chart.ctx.contextMenuRegistry.dispatchContext("series-area",{sourceEvent:i,canvasX:o,canvasY:a},{pickedSeries:r,pickedNode:n},s)}onLeave(e){if(!this.isState(41))return;const t=e.sourceEvent.relatedTarget;(t==null?void 0:t.className)!=="ag-charts-text-input__textarea"&&(this.chart.ctx.tooltipManager.isEnteringInteractiveTooltip(e.sourceEvent)||(this.chart.ctx.domManager.updateCursor(this.id),this.hoverDevice!=="keyboard"&&this.clearAll()))}onWheel(e){var t;this.isState(41)&&((t=this.focusIndicator)==null||t.overrideFocusVisible(!1),this.previousInputDevice="pointer")}onDragMove(e){var t;this.isState(41)&&((t=this.focusIndicator)==null||t.overrideFocusVisible(!1),this.onHoverLikeEvent(e))}onHover(e){this.isState(41)&&this.onHoverLikeEvent(e)}onHoverLikeEvent(e){var t;if(!this.isIgnoredTouch(e)&&((e.device==="touch"||o1e(e,"drag-move"))&&(this.tooltip.lastHover=e),e.device==="touch"&&this.chart.ctx.chartService.touch.dragAction==="hover"&&e.sourceEvent.preventDefault(),this.hoverDevice="pointer",this.previousInputDevice="pointer",this.highlight.pendingHoverEvent=e,this.hoverScheduler.schedule(),this.isState(32))){const{currentX:i,currentY:n}=e,s=(t=this.pickNodes({x:i,y:n},"event"))==null?void 0:t.matches,r=s==null?void 0:s[0];r!=null&&r.series.hasEventListener("seriesNodeClick")||r!=null&&r.series.hasEventListener("seriesNodeDoubleClick")||s!=null&&s.length>1&&this.chart.tooltip.pagination?this.chart.ctx.domManager.updateCursor(this.id,"pointer"):this.chart.ctx.domManager.updateCursor(this.id)}}onClick(e,t){var n;if(e.device==="touch"&&t===this.chart.ctx.widgets.seriesWidget&&this.swapChain.focus({preventScroll:!0}),!this.isState(41))return;if(t===this.chart.ctx.widgets.seriesWidget){if(!t.getElement().contains(e.sourceEvent.target))return}else if(e.sourceEvent.target!=t.getElement())return;if((n=this.focusIndicator)==null||n.overrideFocusVisible(!1),this.onHoverLikeEvent(e),!this.isState(32))return;if(t==this.chart.ctx.widgets.seriesWidget&&this.checkSeriesNodeClick(e)){this.update(4),e.sourceEvent.preventDefault();return}const i={type:e.type==="click"?"click":"doubleClick",event:e.sourceEvent};this.chart.fireEvent(i)}onFocus(){var e;this.isState(34)&&(this.hoverDevice=(e=this.focusIndicator)!=null&&e.isFocusVisible(!0)?"keyboard":"pointer",this.handleFocus(0,0))}onBlur(e){var t;this.isState(34)&&(this.hoverDevice="pointer",this.chart.ctx.tooltipManager.isEnteringInteractiveTooltip(e)||this.clearAll(),(t=this.focusIndicator)==null||t.overrideFocusVisible(void 0))}onKeyDown(e){var i;if(!this.isState(43))return;const t=UEe(e.sourceEvent);switch((t==null?void 0:t.activatesFocusIndicator)===!1&&((i=this.focusIndicator)==null||i.overrideFocusVisible(this.previousInputDevice==="keyboard")),t==null?void 0:t.name){case"redo":return this.chart.ctx.chartEventManager.seriesEvent("series-redo");case"undo":return this.chart.ctx.chartEventManager.seriesEvent("series-undo");case"zoomin":return this.chart.ctx.chartEventManager.seriesKeyNavZoom(1,e);case"zoomout":return this.chart.ctx.chartEventManager.seriesKeyNavZoom(-1,e);case"arrowup":return this.onArrow(-1,0,e);case"arrowdown":return this.onArrow(1,0,e);case"arrowleft":return this.onArrow(0,-1,e);case"arrowright":return this.onArrow(0,1,e);case"submit":return this.onSubmit(e)}}onArrow(e,t,i){var n;this.isState(34)&&(this.hoverDevice="keyboard",this.previousInputDevice="keyboard",(n=this.focusIndicator)==null||n.overrideFocusVisible(!0),this.focus.seriesIndex+=e,this.focus.datumIndex+=t,this.handleFocus(e,t),i.sourceEvent.preventDefault(),this.chart.ctx.chartEventManager.seriesEvent("series-focus-change"))}onSubmit(e){if(!this.isState(34))return;const{series:t,datum:i}=this.focus,n=e.sourceEvent;t!==void 0&&i!==void 0?t.fireNodeClickEvent(n,i):this.chart.fireEvent({type:"click",event:n}),n.preventDefault()}checkSeriesNodeClick(e){var a,l,u;var t;const i=this.pickNodes({x:e.currentX,y:e.currentY},"event");if(i==null||i.matches.length===0)return;const n=this.chart.tooltip.pagination?(a=this.tooltipCandidates.update(i.matches,this.tooltipCandidates.current))==null?void 0:a.current:void 0,{series:s,datum:r}=n??i.matches[0],o=n==null?i.distance:0;if(e.type==="click"){const p=s.fireNodeClickEvent(e.sourceEvent,r)&&this.chart.tooltip.pagination?this.tooltipCandidates.next():void 0;if(p!=null){e.sourceEvent.preventDefault();const{currentX:f,currentY:m}=e,y=f+(((l=this.hoverRect)==null?void 0:l.x)??0),C=m+(((u=this.hoverRect)==null?void 0:u.y)??0);(t=this.highlight).pendingHoverEvent??(t.pendingHoverEvent=this.highlight.appliedHoverEvent),this.handleHoverHighlight(!1),this.showTooltip(p.current,y,C,{index:p.index,length:p.length})}return!0}return e.type==="dblclick"?(e.preventZoomDblClick=o===0,s.fireNodeDoubleClickEvent(e.sourceEvent,r),!0):!1}handleFocus(e,t){var n;const i=this.chart.overlays.getFocusInfo(this.chart.ctx.localeManager);i==null?this.handleSeriesFocus(e,t):(n=this.focusIndicator)==null||n.update(i.rect,this.seriesRect,!1)}handleSeriesFocus(e,t,i=!1){if(this.chart.chartType==="hierarchy"||this.chart.chartType==="gauge"){this.handleSoloSeriesFocus(e,t,i);return}const{focus:n}=this,s=n.sortedSeries.filter(u=>u.visible&&u.focusable);if(s.length===0)return;const r=n.datumIndex-t,o=n.seriesIndex-e;n.seriesIndex=ft(0,n.seriesIndex,s.length-1),n.series=s[n.seriesIndex];const a=this.focus.datumIndex,l=this.focus.seriesIndex;this.updatePickedFocus(a,t,r,l,e,o,i)}handleSoloSeriesFocus(e,t,i){this.focus.series=this.focus.sortedSeries[0];const n=this.focus.datumIndex,s=this.focus.seriesIndex,r=this.focus.datumIndex-t,o=this.focus.seriesIndex-e;this.updatePickedFocus(n,t,r,s,e,o,i)}updatePickedFocus(e,t,i,n,s,r,o){var m,y,C,w;const{focus:a,hoverRect:l,seriesRect:u}=this;if(a.series===void 0||l===void 0)return;const d=(m=a==null?void 0:a.series)==null?void 0:m.pickFocus({datumIndex:e,datumIndexDelta:t,otherIndex:n,otherIndexDelta:s,seriesRect:u});if(!d)return;const{datum:p}=d;if(d.otherIndex!==void 0&&(a.seriesIndex=d.otherIndex),a.datumIndex=d.datumIndex,a.datum=p,(y=this.focusIndicator)!=null&&y.isFocusVisible()&&this.chart.ctx.animationManager.reset(),(C=this.focusIndicator)!=null&&C.isFocusVisible()){const b=YEe(d),{x:S,y:M}=b.computeCenter();if(!l.containsPoint(S,M)&&this.chart.ctx.zoomManager.panToBBox(this.id,l,b))return;const{x1:D,x2:R,y1:A,y2:k}=iC.from(b),F=l.containsPoint(D,A),P=l.containsPoint(R,A),L=l.containsPoint(D,k),z=l.containsPoint(R,k);if(!(F||P||L||z)){const H=iC.from(l);d.movedBounds=b.clone(),D<H.x1&&R<H.x1?(d.movedBounds.x=H.x1-2,d.movedBounds.width=4):D>H.x2&&R>H.x2&&(d.movedBounds.x=H.x2-2,d.movedBounds.width=4),A<H.y1&&k<H.y1?(d.movedBounds.y=H.y1-2,d.movedBounds.height=4):A>H.y2&&k>H.y2&&(d.movedBounds.y=H.y2-2,d.movedBounds.height=4)}}(w=this.focusIndicator)==null||w.update(d.movedBounds??d.bounds,this.seriesRect,d.clipFocusBox);const f=KEe(a.series,l,d);if(f!==void 0&&this.hoverDevice==="keyboard"){this.tooltip.lastHover=void 0,this.highlight.appliedHoverEvent=void 0,this.highlight.pendingHoverEvent=void 0,this.highlight.stashedHoverEvent=void 0;const b=this.chart.getTooltipContent(a.series,p.datumIndex,p),S=ix.makeTooltipMeta(f,a.series,p,d.movedBounds);this.chart.ctx.highlightManager.updateHighlight(this.id,p),a.series.tooltipEnabled??this.chart.tooltip.enabled?this.chart.ctx.tooltipManager.updateTooltip(this.id,S,b):this.chart.ctx.tooltipManager.removeTooltip(this.id),o||(t===0&&s===0||i!==d.datumIndex||r!==(d.otherIndex??a.seriesIndex))&&this.swapChain.update(this.getDatumAriaText(p,b))}}getDatumAriaText(e,t){var n,s;const i=t==null?"":zU(t);return this.chart.ctx.localeManager.t("ariaAnnounceHoverDatum",{datum:((s=(n=e.series).getDatumAriaText)==null?void 0:s.call(n,e,i))??i})}clearHighlight(){this.highlight.pendingHoverEvent=void 0,this.highlight.appliedHoverEvent=void 0,this.chart.ctx.highlightManager.updateHighlight(this.id)}clearTooltip(){this.chart.ctx.tooltipManager.removeTooltip(this.id),this.tooltip.lastHover=void 0}clearAll(){var e;this.clearHighlight(),this.clearTooltip(),(e=this.focusIndicator)==null||e.clear()}handleHoverHighlight(e){var f,m,y;this.highlight.appliedHoverEvent=this.highlight.pendingHoverEvent,this.highlight.pendingHoverEvent=void 0;const t=this.highlight.appliedHoverEvent;if(!t||!this.isState(41))return;const{currentX:i,currentY:n}=t,s=t.currentX+(((f=this.hoverRect)==null?void 0:f.x)??0),r=t.currentY+(((m=this.hoverRect)==null?void 0:m.y)??0);if(e?this.chart.ctx.animationManager.isActive():!((y=this.hoverRect)!=null&&y.containsPoint(s,r))){this.clearHighlight();return}const{range:o}=this.chart.highlight,a=o==="tooltip"?"highlight-tooltip":"highlight",l=this.pickNodes({x:i,y:n},a);if(!l||l.matches.length===0){this.chart.ctx.highlightManager.updateHighlight(this.id);return}const{current:u}=this.tooltipCandidates,d=u==null?void 0:l.matches.find(C=>tI(C,u)),p=(d==null?void 0:d.datum)??l.matches[0].datum;this.chart.ctx.highlightManager.updateHighlight(this.id,p),this.hoverDevice="pointer"}handleHoverTooltip(e,t){var u,d,p;const{current:i}=this.tooltipCandidates;if(this.tooltipCandidates.reset(),!this.isState(41))return;const{currentX:n,currentY:s}=e,r=n+(((u=this.hoverRect)==null?void 0:u.x)??0),o=s+(((d=this.hoverRect)==null?void 0:d.y)??0),a=e.sourceEvent.target;if(t?this.chart.ctx.animationManager.isActive():!((p=this.hoverRect)!=null&&p.containsPoint(r,o))){this.hoverDevice=="pointer"&&this.clearTooltip();return}if(a&&this.chart.tooltip.interactive&&this.chart.ctx.domManager.isManagedChildDOMElement(a,"canvas-overlay",ps))return;const l=this.pickNodes({x:e.currentX,y:e.currentY},"tooltip");if(!l||l.matches.length===0){this.hoverDevice=="pointer"&&this.clearTooltip();return}if(this.hoverDevice="pointer",l.distance===0){const{current:f,index:m,length:y}=this.tooltipCandidates.update(l.matches,this.chart.tooltip.pagination?i:void 0);this.showTooltip(f,r,o,{index:m,length:y})}else this.showTooltip(l.matches[0],r,o)}showTooltip({series:e,datum:t,datumIndex:i},n,s,r){const o=this.chart.getTooltipContent(e,i,t);if((e.tooltipEnabled??this.chart.tooltip.enabled)&&o!=null){const u=ix.makeTooltipMeta({type:"pointermove",canvasX:n,canvasY:s},e,t,void 0);this.chart.ctx.tooltipManager.updateTooltip(this.id,u,o,r)}else this.chart.ctx.tooltipManager.removeTooltip(this.id)}changeHighlightDatum(e){const t=new Set,{series:i=void 0,datum:n}=e.currentHighlight??{},{series:s=void 0,datum:r}=e.previousHighlight??{};s&&t.add(s),i&&t.add(i),s!=null&&s.properties.cursor&&r&&this.chart.ctx.domManager.updateCursor(s.id),i!=null&&i.properties.cursor&&(i==null?void 0:i.properties.cursor)!=="default"&&n&&this.chart.ctx.domManager.updateCursor(i.id,i.properties.cursor),i==null||s==null?this.update(4):this.update(4,{seriesToUpdate:t})}pickNodes(e,t,i){const n=[...this.series].reverse();let s;for(const r of n){if(!r.visible||!r.contentGroup.visible)continue;const o=r.pickNodes(e,t,i);if(o==null||o.datums.length===0)continue;const{datums:a,distance:l}=o;if(o.datums.length!==0){if(l===0){(s==null?void 0:s.distance)!==0&&(s={matches:[],distance:0});for(const u of a){const{datumIndex:d}=u;s.matches.push({series:r,datum:u,datumIndex:d})}}else if(s==null||s.distance>l){const[u]=a,{datumIndex:d}=u;s={matches:[{series:r,datum:u,datumIndex:d}],distance:l}}}}return s}};function o1e(e,t){return e.type!==t}var YG=30,a1e=class{constructor(e){this.seriesRoot=e,this.groups=new Map,this.series=new Map,this.expectedSeriesCount=1,this.mode="normal"}setSeriesCount(e){this.expectedSeriesCount=e}requestGroup(e){const{internalId:t,type:i,contentGroup:n,seriesGrouping:s}=e,{groupIndex:r=t}=s??{},o=this.series.get(t);if(o!=null)throw new Error(`AG Charts - series already has an allocated layer: ${JSON.stringify(o)}`);this.series.size===0&&(this.mode=this.expectedSeriesCount>=YG?"aggressive-grouping":"normal");let a=this.groups.get(i);a==null&&(a=new Map,this.groups.set(i,a));const l=this.lookupIdx(r);let u=a.get(l);return u==null&&(u={type:i,id:l,seriesIds:[],group:this.seriesRoot.appendChild(new dt({name:`${e.contentGroup.name??i}-managed-layer`,zIndex:e.contentGroup.zIndex,renderToOffscreenCanvas:!1}))},a.set(l,u)),this.series.set(t,{layerState:u,seriesConfig:e}),u.seriesIds.push(t),u.group.appendChild(n),u.group}changeGroup(e){var a,l;const{internalId:t,seriesGrouping:i,type:n,contentGroup:s,oldGrouping:r}=e,{groupIndex:o=t}=i??{};(l=(a=this.groups.get(n))==null?void 0:a.get(o))!=null&&l.seriesIds.includes(t)||(this.series.has(t)&&this.releaseGroup({internalId:t,seriesGrouping:r,type:n,contentGroup:s}),this.requestGroup(e))}releaseGroup(e){var r,o,a;const{internalId:t,contentGroup:i,type:n}=e;if(!this.series.has(t))throw new Error(`AG Charts - series doesn't have an allocated layer: ${t}`);const s=(r=this.series.get(t))==null?void 0:r.layerState;s&&(s.seriesIds=s.seriesIds.filter(l=>l!==t),s.group.removeChild(i)),(s==null?void 0:s.seriesIds.length)===0?(this.seriesRoot.removeChild(s.group),(o=this.groups.get(s.type))==null||o.delete(s.id),(a=this.groups.get(n))==null||a.delete(t)):s!=null&&s.seriesIds.length>0&&(s.group.zIndex=this.getLowestSeriesZIndex(s.seriesIds)),this.series.delete(t)}updateLayerCompositing(){this.groups.forEach(e=>{e.forEach(t=>{const{group:i,seriesIds:n}=t;let s;if(n.length===0)s=!1;else if(n.length>1)s=!0;else{const r=this.series.get(n[0]);s=(r==null?void 0:r.seriesConfig.renderToOffscreenCanvas())===!0}i.renderToOffscreenCanvas=s,i.zIndex=this.getLowestSeriesZIndex(n)})})}lookupIdx(e){return this.mode==="normal"?e:typeof e=="string"&&(e=Number(e.split("-").at(-1)),!e)?0:Math.floor(ft(0,e/this.expectedSeriesCount,1)*YG)}destroy(){this.groups.forEach(e=>{e.forEach(t=>{this.seriesRoot.removeChild(t.group)})}),this.groups.clear(),this.series.clear()}getLowestSeriesZIndex(e){return e.reduce((i,n)=>{const s=this.series.get(n),r=s==null?void 0:s.seriesConfig.contentGroup.zIndex;return i==null||r==null?r:KW(i,r)<=0?i:r},void 0)??1}},_U=class extends gt{constructor(){super(...arguments),this.dragAction="drag"}};I([O(vi(["none","drag","hover"]))],_U.prototype,"dragAction",2);var l1e=class{constructor(e,t,i,n,s){this.chart=e,this.dataService=t,this.updateService=i,this.zoomManager=n,this.animationManager=s,this.dirtyZoom=!1,this.dirtyDataSource=!1,this.lastAxisZooms=new Map,this.destroyFns=[],this.destroyFns.push(this.dataService.addListener("data-source-change",()=>this.onDataSourceChange()),this.dataService.addListener("data-load",()=>this.onDataLoad()),this.dataService.addListener("data-error",()=>this.onDataError()),this.updateService.addListener("update-complete",()=>this.onUpdateComplete()),this.zoomManager.addListener("zoom-change",()=>this.onZoomChange()))}destroy(){this.destroyFns.forEach(e=>e())}onDataLoad(){this.animationManager.skip(),this.updateService.update(1)}onDataError(){this.updateService.update(3)}onDataSourceChange(){this.dirtyDataSource=!0}onUpdateComplete(){!this.dirtyZoom&&!this.dirtyDataSource||this.updateWindow()}onZoomChange(){this.dirtyZoom=!0}updateWindow(){if(!this.dataService.isLazy())return;const e=this.getValidAxis();let t,i=!0;if(e){const n=this.zoomManager.getAxisZoom(e.id);t=this.getAxisWindow(e,n),i=this.shouldRefresh(e,n)}this.dirtyZoom=!1,this.dirtyDataSource=!1,i&&this.dataService.load({windowStart:t==null?void 0:t.min,windowEnd:t==null?void 0:t.max})}getValidAxis(){return this.chart.axes.find(e=>e.type==="time")}shouldRefresh(e,t){if(this.dirtyDataSource)return!0;if(!this.dirtyZoom)return!1;const i=this.lastAxisZooms.get(e.id);return i&&t.min===i.min&&t.max===i.max?!1:(this.lastAxisZooms.set(e.id,t),!0)}getAxisWindow(e,t){const{domain:i}=e.scale;if(!t||i.length===0||isNaN(Number(i[0])))return;const n=Number(i[1])-Number(i[0]),s=new Date(Number(i[0])+n*t.min),r=new Date(Number(i[0])+n*t.max);return{min:s,max:r}}},c1e=/^((?!chrome|android).)*safari/i,u1e=/Version\/(\d+(\.\d+)?)/,d1e=/Chrome/,h1e=/Chrome\/(\d+)/,p1e=/Edg/,f1e=/OPR/;function g1e(){const{userAgent:e}=Di("navigator");if(c1e.test(e)){const t=u1e.exec(e);if(t==null)return!1;const i=parseFloat(t[1]),n=Math.floor(i)>16;return n||De.warnOnce(`Unsupported Safari version: ${i}; ${e}`),!n}else if(d1e.test(e)&&!p1e.test(e)&&!f1e.test(e)){const t=h1e.exec(e);if(t==null)return!1;const i=parseInt(t[1],10),n=i>126;return n||De.warnOnce(`Unsupported Chrome version: ${i}; ${e}`),!n}return!1}var m1e=new Set(["map-shape-background","map-line-background"]),y1e=class{constructor(e,t,i,n,s,r,o){this.chartLike=e,this.overlays=t,this.dataService=i,this.layoutManager=n,this.localeManager=s,this.animationManager=r,this.domManager=o,this.destroyFns=[],this.overlayElem=this.domManager.addChild("canvas-overlay","overlay"),this.overlayElem.role="status",this.overlayElem.ariaAtomic="false",this.overlayElem.ariaLive="polite",this.overlayElem.classList.toggle(JA),this.destroyFns.push(this.layoutManager.addListener("layout:complete",a=>this.onLayoutComplete(a)))}destroy(){this.destroyFns.forEach(e=>e()),this.domManager.removeChild("canvas-overlay","overlay")}onLayoutComplete({series:{rect:e}}){const t=this.dataService.isLoading(),i=this.chartLike.series.some(u=>u.hasData),n=this.chartLike.series.some(u=>u.visible&&!m1e.has(u.type));this.overlays.darkTheme?this.overlayElem.classList.add(HG):this.overlayElem.classList.remove(HG),this.overlayElem.style.left=`${e.x}px`,this.overlayElem.style.top=`${e.y}px`,this.overlayElem.style.width=`${e.width}px`,this.overlayElem.style.height=`${e.height}px`;const s=t,r=!t&&!i,o=i&&!n,a=this.overlays.unsupportedBrowser.enabled&&g1e();s?this.showOverlay(this.overlays.loading,e):this.hideOverlay(this.overlays.loading),r?this.showOverlay(this.overlays.noData,e):this.hideOverlay(this.overlays.noData),o?this.showOverlay(this.overlays.noVisibleSeries,e):this.hideOverlay(this.overlays.noVisibleSeries),a?this.showOverlay(this.overlays.unsupportedBrowser,e):this.hideOverlay(this.overlays.unsupportedBrowser);const l=s||r||o||a;Mi(this.overlayElem,"aria-hidden",!l)}showOverlay(e,t){if(!e.enabled)return;const i=e.getElement(this.animationManager,this.localeManager,t);this.overlayElem.appendChild(i)}hideOverlay(e){e.removeElement(()=>{this.overlayElem.innerText=" "},this.animationManager)}},pa=ii.create(!0,"opts"),oP=class extends gt{constructor(){super(...arguments),this.padding=new yd(0)}};I([O()],oP.prototype,"clip",2);I([O()],oP.prototype,"padding",2);var Gn=class jU extends t6{constructor(t,i){var n;super(),this.id=ro(this),this.seriesRoot=new ur({name:`${this.id}-series-root`,zIndex:5}),this.annotationRoot=new ur({name:`${this.id}-annotation-root`,zIndex:9}),this.titleGroup=new dt({name:"titles",zIndex:13}),this.debug=ii.create(),this.extraDebugStats={},this.data=[],this._firstAutoSize=!0,this._autoSizeNotify=new eG,this.padding=new yd(20),this.seriesArea=new oP,this.keyboard=new Uk,this.touch=new _U,this.mode="standalone",this.chartCaptions=new MM,this.suppressFieldDotNotation=!1,this.destroyed=!1,this._destroyFns=[],this.skipSync=!1,this.chartAnimationPhase="initial",this.modulesManager=new BEe,this.processors=[],this.queuedUserOptions=[],this.queuedChartOptions=[],this.firstApply=!0,this._pendingFactoryUpdatesCount=0,this._performUpdateSkipAnimations=!1,this._performUpdateNotify=new eG,this.performUpdateType=7,this.runningUpdateType=7,this.updateShortcutCount=0,this.seriesToUpdate=new Set,this.updateMutex=new rMe,this.updateRequestors={},this.performUpdateTrigger=lMe(({count:d})=>{this.destroyed||this.updateMutex.acquire(async()=>{try{await this.performUpdate(d)}catch(p){De.error("update error",p)}}).catch(p=>De.errorOnce(p))}),this._performUpdateSplits={},this.axes=[],this.series=[],this._cachedData=void 0,this.onSeriesNodeClick=d=>{this.fireEvent(d)},this.onSeriesNodeDoubleClick=d=>{this.fireEvent(d)},this.onSeriesVisibilityChange=d=>{this.fireEvent(d)},this.seriesGroupingChanged=d=>{if(!(d instanceof sP))return;const{series:p,seriesGrouping:f,oldGrouping:m}=d;p.contentGroup.isRoot()||this.seriesLayerManager.changeGroup({internalId:p.internalId,type:p.type,contentGroup:p.contentGroup,renderToOffscreenCanvas:()=>p.renderToOffscreenCanvas(),seriesGrouping:f,oldGrouping:m})},this.chartOptions=t;const s=i==null?void 0:i.scene,r=(i==null?void 0:i.container)??t.processedOptions.container??void 0,o=(i==null?void 0:i.styleContainer)??t.specialOverrides.styleContainer;s&&(this._firstAutoSize=!1,this._lastAutoSize=[s.width,s.height,s.pixelRatio]);const a=new dt({name:"root"});a.visible=!1,a.append(this.seriesRoot),a.append(this.annotationRoot),a.append(this.titleGroup),this.titleGroup.append(this.title.node),this.titleGroup.append(this.subtitle.node),this.titleGroup.append(this.footnote.node),this.tooltip=new na,this.seriesLayerManager=new a1e(this.seriesRoot),this.mode=t.userOptions.mode??this.mode;const l=this.ctx=new zRe(this,{chartType:this.getChartType(),scene:s,root:a,container:r,styleContainer:o,domMode:t.optionMetadata.domMode,syncManager:new uEe(this),fireEvent:d=>this.fireEvent(d),updateCallback:(d,p)=>this.update(d,p),updateMutex:this.updateMutex});this._destroyFns.push(l.domManager.addListener("resize",()=>this.parentResize(l.domManager.containerSize))),this.overlays=new Qg,(n=this.overlays.loading).renderer??(n.renderer=()=>zEe(this.overlays.loading.getText(l.localeManager),l.animationManager.defaultDuration)),this.processors=[new l1e(this,l.dataService,l.updateService,l.zoomManager,l.animationManager),new y1e(this,this.overlays,l.dataService,l.layoutManager,l.localeManager,l.animationManager,l.domManager)],this.highlight=new iU,this.container=r;const u=this.getModuleContext();l.domManager.setDataBoolean("animating",!1),this.seriesAreaManager=new r1e(this.initSeriesAreaDependencies()),this._destroyFns.push(l.layoutManager.registerElement(0,d=>{d.layoutBox.shrink(this.padding.toJson()),this.chartCaptions.positionCaptions(d)}),l.layoutManager.addListener("layout:complete",d=>this.chartCaptions.positionAbsoluteCaptions(d)),l.dataService.addListener("data-load",d=>{this.data=d.data}),this.title.registerInteraction(u,"beforebegin"),this.subtitle.registerInteraction(u,"beforebegin"),this.footnote.registerInteraction(u,"afterend"),zl.addWindowEvent("page-left",()=>this.destroy()),l.animationManager.addListener("animation-frame",()=>{this.update(6)}),l.animationManager.addListener("animation-start",()=>l.domManager.setDataBoolean("animating",!0)),l.animationManager.addListener("animation-stop",()=>l.domManager.setDataBoolean("animating",!1)),l.zoomManager.addListener("zoom-change",()=>{this.series.forEach(p=>{var f;return(f=p.animationState)==null?void 0:f.transition("updateData")});const d=this.chartAnimationPhase!=="initial";this.update(3,{forceNodeDataRefresh:!0,skipAnimations:d})})),this.parentResize(l.domManager.containerSize)}static getInstance(t){return jU.chartsInstances.get(t)}get canvasElement(){return this.ctx.scene.canvas.element}download(t,i){this.ctx.scene.download(t,i)}getCanvasDataURL(t){return this.ctx.scene.getDataURL(t)}toSVG(){return this.ctx.scene.toSVG()}getOptions(){return this.queuedUserOptions.at(-1)??this.chartOptions.userOptions}getChartOptions(){return this.queuedChartOptions.at(-1)??this.chartOptions}overrideFocusVisible(t){var i;(i=this.seriesAreaManager.focusIndicator)==null||i.overrideFocusVisible(t)}initSeriesAreaDependencies(){const{ctx:t,tooltip:i,highlight:n,overlays:s,seriesRoot:r,mode:o}=this,a=this.getChartType();return{fireEvent:this.fireEvent.bind(this),getUpdateType:()=>this.performUpdateType,getTooltipContent:(p,f,m)=>this.getTooltipContent(p,f,m),chartType:a,ctx:t,tooltip:i,highlight:n,overlays:s,seriesRoot:r,mode:o}}getModuleContext(){return this.ctx}getTooltipContent(t,i,n){const s=t.properties.tooltip.enabled!==!1?t.getTooltipContent(i,n):void 0,r=s==null?[]:[s];if(this.tooltip.mode!=="shared"||this.series.length===1)return r;const o=t.getCategoryValue(i);return o==null?r:this.series.flatMap(a=>{if(a===t)return r;if(!a.isEnabled()||a.properties.tooltip.enabled===!1)return[];const l=a.datumIndexForCategoryValue(o),u=l==null?void 0:a.getTooltipContent(l,void 0);return u==null?[]:[u]})}getCaptionText(){return[this.title,this.subtitle,this.footnote].filter(t=>t.enabled&&t.text).map(t=>t.text).join(". ")}getAriaLabel(){return this.ctx.localeManager.t("ariaAnnounceChart",{seriesCount:this.series.length})}resetAnimations(){this.chartAnimationPhase="initial";for(const t of this.series)t.resetAnimation(this.chartAnimationPhase);for(const t of this.axes)t.resetAnimation(this.chartAnimationPhase);this.animationRect=void 0,this.ctx.animationManager.reset()}skipAnimations(){this.ctx.animationManager.skipCurrentBatch(),this._performUpdateSkipAnimations=!0}detachAndClear(){this.container=void 0,this.ctx.scene.clear()}destroy(t){if(this.destroyed)return;const i=t==null?void 0:t.keepTransferableResources;let n;return this.performUpdateType=7,this._destroyFns.forEach(s=>s()),this.processors.forEach(s=>s.destroy()),this.overlays.destroy(),this.modulesManager.destroy(),i?(this.ctx.scene.strip(),n={container:this.container,scene:this.ctx.scene}):(this.ctx.scene.destroy(),this.container=void 0),this.destroySeries(this.series),this.seriesLayerManager.destroy(),this.axes.forEach(s=>s.destroy()),this.axes=[],this.animationRect=void 0,this.ctx.destroy(),this.destroyed=!0,Object.freeze(this),n}requestFactoryUpdate(t){this.destroyed||(this._pendingFactoryUpdatesCount++,this.updateMutex.acquire(async()=>{if(!this.destroyed)try{await t(this)}finally{this.destroyed||this._pendingFactoryUpdatesCount--}}).catch(i=>De.errorOnce(i)))}clearCallbackCache(){this.ctx.callbackCache.invalidateCache();for(const t of this.series)t.resetDatumCallbackCache()}update(t=0,i){if(this.destroyed)return;const{forceNodeDataRefresh:n=!1,skipAnimations:s,seriesToUpdate:r=this.series,newAnimationBatch:o}=i??{};this.ctx.widgets.seriesWidget.setDragTouchEnabled(this.touch.dragAction!=="none"),n&&this.series.forEach(a=>a.markNodeDataDirty());for(const a of r)this.seriesToUpdate.add(a);if(s&&(this.ctx.animationManager.skipCurrentBatch(),this._performUpdateSkipAnimations=!0),o&&this.ctx.animationManager.isActive()&&(this._performUpdateSkipAnimations=!0),this.skipSync=(i==null?void 0:i.skipSync)??!1,this.debug.check()){let a=new Error().stack??"<unknown>";a=a.replace(/\([^)]*/g,""),this.updateRequestors[a]=t}t<this.performUpdateType&&(this.performUpdateType=t,this.ctx.domManager.setDataBoolean("updatePending",!0),this.performUpdateTrigger.schedule(i==null?void 0:i.backOffMs))}async performUpdate(t){const{performUpdateType:i,extraDebugStats:n,_performUpdateSplits:s,ctx:r}=this,o=[...this.seriesToUpdate];this.clearCallbackCache(),this.performUpdateType=7,this.seriesToUpdate.clear(),this.runningUpdateType=i,this.updateShortcutCount===0&&i<6&&(r.animationManager.startBatch(this._performUpdateSkipAnimations),r.animationManager.onBatchStop(()=>this.chartAnimationPhase="ready")),this.ctx.scene.updateDebugFlags(),this.debug("Chart.performUpdate() - start",gv[i]);let a=performance.now();s.start??(s.start=a);const l=d=>{s[d]??(s[d]=0),s[d]+=performance.now()-a,a=performance.now()};switch(i){case 0:if(this.checkUpdateShortcut(0))break;this.ctx.updateService.dispatchPreDomUpdate(),this.updateDOM();case 1:if(this.checkUpdateShortcut(1))break;await this.updateData(),l("⬇️");case 2:if(this.checkUpdateShortcut(2))break;await this.processData(),this.seriesAreaManager.dataChanged(),l("🏭");case 3:if(await this.checkFirstAutoSize(),this.checkUpdateShortcut(3))break;await this.processLayout(),l("⌖");case 4:{if(this.checkUpdateShortcut(4))break;await this.updateSeries(o),l("🤔"),this.updateAriaLabels(),this.seriesLayerManager.updateLayerCompositing()}case 5:if(this.checkUpdateShortcut(5))break;r.updateService.dispatchPreSceneRender(),l("↖");case 6:if(this.checkUpdateShortcut(6))break;r.animationManager.endBatch(),n.updateShortcutCount=this.updateShortcutCount,r.scene.render({debugSplitTimes:s,extraDebugStats:n,seriesRect:this.seriesRect}),this.extraDebugStats={};for(const d of Object.keys(s))delete s[d];this.ctx.domManager.incrementDataCounter("sceneRenders"),this.ctx.domManager.postRenderUpdate();case 7:this.updateShortcutCount=0,this.updateRequestors={},this._performUpdateSkipAnimations=!1,r.animationManager.endBatch()}this.destroyed||(r.updateService.dispatchUpdateComplete(),this.ctx.domManager.setDataBoolean("updatePending",!1),this.runningUpdateType=7),this._performUpdateNotify.notify();const u=performance.now();this.debug("Chart.performUpdate() - end",{chart:this,durationMs:Math.round((u-s.start)*100)/100,count:t,performUpdateType:gv[i]})}updateThemeClassName(){const t="ag-charts-theme-",i=[`${t}default`,`${t}default-dark`];let n=i[0],s=!1,{theme:r}=this.chartOptions.processedOptions;for(;typeof r!="string"&&r!=null;)r=r.baseTheme;typeof r=="string"&&(n=r.replace("ag-",t),s=r.includes("-dark")),i.includes(n)||(n=s?i[1]:i[0]),this.ctx.domManager.setThemeClass(n)}updateDOM(){this.updateThemeClassName();const{enabled:t,tabIndex:i}=this.keyboard;this.ctx.domManager.setTabGuardIndex(t?i??0:-1),this.ctx.domManager.setThemeParameters(this.chartOptions.themeParameters)}updateAriaLabels(){this.ctx.domManager.updateCanvasLabel(this.getAriaLabel())}checkUpdateShortcut(t){return this.destroyed?!0:this.updateShortcutCount>3?(De.warn("exceeded the maximum number of simultaneous updates (4), discarding changes and rendering",this.updateRequestors),!1):this.performUpdateType<=t?(this.updateShortcutCount++,!0):!1}async checkFirstAutoSize(){this.width!=null&&this.height!=null||this._lastAutoSize||await this._autoSizeNotify.await(500)||this.debug("Chart.checkFirstAutoSize() - timeout for first size update.")}onAxisChange(t,i){i==null&&t.length===0||this.ctx.axisManager.updateAxes(i??[],t)}onSeriesChange(t,i){var s,r;const n=(i==null?void 0:i.filter(o=>!t.includes(o)))??[];this.destroySeries(n),(s=this.seriesLayerManager)==null||s.setSeriesCount(t.length);for(const o of t){if(i!=null&&i.includes(o))continue;const a=this.seriesLayerManager.requestGroup(o);o.attachSeries(a,this.seriesRoot,this.annotationRoot);const l=this;o.chart={get mode(){return l.mode},get isMiniChart(){return!1},get seriesRect(){return l.seriesRect}},o.resetAnimation(this.chartAnimationPhase),this.addSeriesListeners(o),o.addChartEventListeners()}(r=this.seriesAreaManager)==null||r.seriesChanged(t)}destroySeries(t){t==null||t.forEach(i=>{i.removeEventListener("seriesNodeClick",this.onSeriesNodeClick),i.removeEventListener("seriesNodeDoubleClick",this.onSeriesNodeDoubleClick),i.removeEventListener("groupingChanged",this.seriesGroupingChanged),i.destroy(),this.seriesLayerManager.releaseGroup(i),i.detachSeries(void 0,this.seriesRoot,this.annotationRoot),i.chart=void 0})}addSeriesListeners(t){this.hasEventListener("seriesNodeClick")&&t.addEventListener("seriesNodeClick",this.onSeriesNodeClick),this.hasEventListener("seriesNodeDoubleClick")&&t.addEventListener("seriesNodeDoubleClick",this.onSeriesNodeDoubleClick),this.hasEventListener("seriesVisibilityChange")&&t.addEventListener("seriesVisibilityChange",this.onSeriesVisibilityChange),t.addEventListener("groupingChanged",this.seriesGroupingChanged)}assignSeriesToAxes(){for(const t of this.axes)t.boundSeries=this.series.filter(i=>i.axes[t.direction]===t)}assignAxesToSeries(){const t=nk(this.axes,i=>i.direction);for(const i of this.series)for(const n of i.directions){const s=t[n];if(!s){De.warnOnce(`no available axis for direction [${n}]; check series and axes configuration.`);return}const r=i.getKeys(n),o=s.find(a=>!a.keys.length||r.some(l=>a.keys.includes(l)));if(!o){De.warnOnce(`no matching axis for direction [${n}] and keys [${r}]; check series and axes configuration.`);return}i.axes[n]=o}}parentResize(t){if(t==null||this.width!=null&&this.height!=null)return;let{width:i,height:n}=t;const{pixelRatio:s}=t;if(i=Math.floor(i),n=Math.floor(n),i===0&&n===0)return;const[r=0,o=0,a=1]=this._lastAutoSize??[];r===i&&o===n&&a===s||(this._lastAutoSize=[i,n,s],this.resize("SizeMonitor",{}))}resize(t,i){var m,y,C;const{scene:n,animationManager:s}=this.ctx,{inWidth:r,inHeight:o,inMinWidth:a,inMinHeight:l,inOverrideDevicePixelRatio:u}=i;this.ctx.domManager.setSizeOptions(a??this.minWidth,l??this.minHeight,r??this.width,o??this.height);const d=r??this.width??((m=this._lastAutoSize)==null?void 0:m[0]),p=o??this.height??((y=this._lastAutoSize)==null?void 0:y[1]),f=u??this.overrideDevicePixelRatio??((C=this._lastAutoSize)==null?void 0:C[2]);if(this.debug(`Chart.resize() from ${t}`,{width:d,height:p,pixelRatio:f,stack:new Error().stack}),!(d==null||p==null||!Qt(d)||!Qt(p))&&n.resize(d,p,f)){s.reset();let w=!0;(this.width==null||this.height==null)&&this._firstAutoSize&&(w=!1,this._firstAutoSize=!1),this.update(3,{forceNodeDataRefresh:!0,skipAnimations:w}),this._autoSizeNotify.notify()}}async updateData(){this.series.forEach(i=>i.setChartData(this.data));const t=this.modulesManager.mapModules(i=>{var n;return(n=i.updateData)==null?void 0:n.call(i,this.data)});await Promise.all(t)}async processData(){this.series.some(s=>s.canHaveAxes)&&(this.assignAxesToSeries(),this.assignSeriesToAxes());const t=new lU(this.mode,this.suppressFieldDotNotation),i=this.series.map(s=>s.processData(t)),n=this.modulesManager.mapModules(s=>{var r;return(r=s.processData)==null?void 0:r.call(s,t)});this._cachedData=t.execute(this._cachedData),await Promise.all([...i,...n]);for(const s of this.axes)s.processData();this.updateLegends()}updateLegends(t){for(const{legend:i,legendType:n}of this.modulesManager.legends())n==="category"?this.setCategoryLegendData(t):this.setLegendData(n,i)}setCategoryLegendData(t){var i;const{ctx:{legendManager:n,stateManager:s}}=this;t&&this.series.forEach(o=>{const a=t.find(l=>l.seriesId===o.id);o.onLegendInitialState("category",a)});const r=this.series.flatMap(o=>{const a=o.getLegendData("category");return n.updateData(o.id,a),a});if(t){s.setStateAndRestore(n,t);return}if(this.mode!=="integrated"){const o={},a=new Map(this.series.map(l=>[l.id,l.type]));for(const{seriesId:l,symbol:{marker:u},label:d}of r.filter(p=>!p.hideInLegend)){if(u.fill==null)continue;const p=a.get(l),f=o[p]??(o[p]={});f[i=d.text]??(f[i]=u.fill),f[d.text]!==u.fill&&De.warnOnce(`legend item '${d.text}' has multiple fill colors, this may cause unexpected behaviour.`)}}n.update()}setLegendData(t,i){i.data=this.series.filter(n=>n.properties.showInLegend).flatMap(n=>n.getLegendData(t))}async processLayout(){var r;const t=this.animationRect,{width:i,height:n}=this.ctx.scene,s=this.ctx.layoutManager.createContext(i,n);await this.performLayout(s),t&&!((r=this.animationRect)!=null&&r.equals(t))&&this.ctx.animationManager.skipCurrentBatch(),this.debug("Chart.performUpdate() - seriesRect",this.seriesRect)}async updateSeries(t){const{seriesRect:i}=this;await Promise.all(t.map(n=>n.update({seriesRect:i}))),this.ctx.seriesLabelLayoutManager.updateLabels(this.series.filter(n=>n.visible&&n.usesPlacedLabels),this.padding,this.seriesRect)}async waitForUpdate(t=1e4,i=!1){const n=performance.now();for(;(this._pendingFactoryUpdatesCount>0||this.performUpdateType!==7||this.runningUpdateType!==7)&&!this.destroyed;){if(this._pendingFactoryUpdatesCount>0&&await this.updateMutex.waitForClearAcquireQueue(),(this.performUpdateType!==7||this.runningUpdateType!==7)&&await this._performUpdateNotify.await(),performance.now()-n>t){const s=`Chart.waitForUpdate() timeout of ${t} reached - first chart update taking too long.`;if(i)throw new Error(s);De.warnOnce(s)}ZW()&&await Lxe()}}filterMiniChartSeries(t){return t==null?void 0:t.filter(i=>i.showInMiniChart!==!1)}applyOptions(t){var C,w,b,S,M;const i=this.firstApply?t.processedOptions:t.diffOptions(this.chartOptions);if(i==null||Object.keys(i).length===0)return;const n=this.firstApply?{}:this.chartOptions.processedOptions,s=t.processedOptions;pa("Chart.applyOptions() - applying delta",i);const r=this.applyModules(s),o=["type","data","series","listeners","preset","theme","legend.listeners","navigator.miniChart.series","navigator.miniChart.label","locale.localeText","axes","topology","nodes","initialState","styleContainer"];i.listeners&&this.registerListeners(this,i.listeners),pv(this,i,{skip:o});let a=!1,l="no-op";i.series!=null&&(l=this.applySeries(this,i.series,n==null?void 0:n.series),a=!0),l==="replaced"&&this.resetAnimations(),this.applyAxes(this,s,n,l,[])&&(a=!0),i.data&&(this.data=i.data),(C=i.legend)!=null&&C.listeners&&this.modulesManager.isEnabled("legend")&&Object.assign(this.legend.listeners,i.legend.listeners),(w=i.locale)!=null&&w.localeText&&(this.modulesManager.getModule("locale").localeText=(b=i.locale)==null?void 0:b.localeText),this.chartOptions=t;const u=this.modulesManager.getModule("navigator"),d=this.modulesManager.getModule("zoom");!(u!=null&&u.enabled)&&!(d!=null&&d.enabled)&&this.ctx.zoomManager.updateZoom("chart");const p=u==null?void 0:u.miniChart,f=((M=(S=s.navigator)==null?void 0:S.miniChart)==null?void 0:M.series)??s.series;(p==null?void 0:p.enabled)===!0&&f!=null?this.applyMiniChartOptions(p,f,s,n):(p==null?void 0:p.enabled)===!1&&(p.series=[],p.axes=[]),this.ctx.annotationManager.setAnnotationStyles(t.annotationThemes),a||(a=this.shouldForceNodeDataRefresh(i,l));const y=a||r?0:3;this.maybeResetAnimations(l),this.shouldClearLegendData(s,n,l)&&this.ctx.legendManager.clearData(),this.applyInitialState(s),pa("Chart.applyOptions() - update type",gv[y],{seriesStatus:l,forceNodeDataRefresh:a}),this.update(y,{forceNodeDataRefresh:a,newAnimationBatch:!0}),this.firstApply=!1}applyInitialState(t){var l,u,d;const{annotationManager:i,chartTypeOriginator:n,historyManager:s,stateManager:r,zoomManager:o}=this.ctx,{initialState:a}=t;if("annotations"in t&&((l=t.annotations)!=null&&l.enabled)&&(a==null?void 0:a.annotations)!=null){const p=a.annotations.map(f=>{const m=i.getAnnotationTypeStyles(f.type);return Vt(f,m)});r.setState(i,p)}(a==null?void 0:a.chartType)!=null&&r.setState(n,a.chartType),((u=t.navigator)!=null&&u.enabled||(d=t.zoom)!=null&&d.enabled)&&(a==null?void 0:a.zoom)!=null&&r.setState(o,a.zoom),(a==null?void 0:a.legend)!=null&&this.updateLegends(a.legend),a!=null&&s.clear()}maybeResetAnimations(t){if(this.mode==="standalone")switch(t){case"series-grouping-change":case"replaced":this.resetAnimations();break}}shouldForceNodeDataRefresh(t,i){const n=!!t.data||i==="data-change"||i==="replaced",s=Vk.getKeys(),r=Object.values(s).some(a=>t[a]!=null),o=t.title!=null&&t.subtitle!=null;return n||r||o}shouldClearLegendData(t,i,n){const s=n==="replaced"||n==="series-grouping-change"||n==="updated",r=i.legend!=null&&t.legend==null;return s||r}applyMiniChartOptions(t,i,n,s){var d,p,f,m;const r=((p=(d=s==null?void 0:s.navigator)==null?void 0:d.miniChart)==null?void 0:p.series)??(s==null?void 0:s.series),o=this.applySeries(t,this.filterMiniChartSeries(i),this.filterMiniChartSeries(r));this.applyAxes(t,n,s,o,["axes[].tick","axes[].thickness","axes[].title","axes[].crosshair","axes[].gridLine","axes[].label"]);const a=t.series;for(const y of a)y.properties.id=void 0;const l=t.axes,u=l.find(y=>y.direction==="x");for(const y of l)y.nice=!1,y.gridLine.enabled=!1,y.label.enabled=y===u,y.tick.enabled=!1,y.interactionEnabled=!1;if(u!=null){const y=(f=n.navigator)==null?void 0:f.miniChart,C=y==null?void 0:y.label,w=(m=y==null?void 0:y.label)==null?void 0:m.interval;if(u.line.enabled=!1,u.label.set(ad(C,["interval","rotation","minSpacing","autoRotate","autoRotateAngle"])),u.tick.set(ad(w,["enabled","width","size","color","interval","step"])),u.type==="grouped-category"){u.label.enabled=!1,u.label.rotation=0;const{depthOptions:S}=u;if(S.length===0)S.set([{label:{enabled:!0}}]);else for(let M=1;M<S.length;M++)S[M].label.enabled=!1}const b=w==null?void 0:w.step;b!=null&&(u.interval.step=b)}}applyModules(t){var s;const{type:i}=this.constructor;let n=!1;for(const r of Sl.byType("root","legend")){const a=t[r.optionsKey]!=null&&r.chartTypes.includes(i);a!==this.modulesManager.isEnabled(r)&&(a?(this.modulesManager.addModule(r,l=>l.moduleFactory(this.getModuleContext())),r.type==="legend"&&((s=this.modulesManager.getModule(r))==null||s.attachLegend(this.ctx.scene)),this[r.optionsKey]=this.modulesManager.getModule(r)):(this.modulesManager.removeModule(r),delete this[r.optionsKey]),n=!0)}return n}initSeriesDeclarationOrder(t){for(let i=0;i<t.length;i++)t[i].setSeriesIndex(i)}applySeries(t,i,n){var d;if(!i)return"no-change";const s=OEe(t.series,i,n);if(s.status==="no-overlap"){pa(`Chart.applySeries() - creating new series instances, status: ${s.status}`,s);const p=i.map(f=>this.createSeries(f));return this.initSeriesDeclarationOrder(p),t.series=p,"replaced"}pa("Chart.applySeries() - matchResult",s);const r=[];let o=!1,a=!1,l=!1;const u=s.changes.toSorted((p,f)=>p.targetIdx-f.targetIdx);for(const p of u)switch(a||(a=p.status==="series-grouping"),o||(o=((d=p.diff)==null?void 0:d.data)!=null),l||(l=p.status!=="no-op"),p.status){case"add":{const f=this.createSeries(p.opts);r.push(f),pa("Chart.applySeries() - created new series",f);break}case"remove":pa(`Chart.applySeries() - removing series at previous idx ${p.idx}`,p.series);break;case"no-op":r.push(p.series),pa(`Chart.applySeries() - no change to series at previous idx ${p.idx}`,p.series);break;case"series-grouping":case"update":default:{const{series:f,diff:m,idx:y}=p;pa(`Chart.applySeries() - applying series diff previous idx ${y}`,m,f),this.applySeriesValues(f,m),f.markNodeDataDirty(),r.push(f)}}return this.initSeriesDeclarationOrder(r),pa("Chart.applySeries() - final series instances",r),t.series=r,a?"series-grouping-change":o?"data-change":l?"updated":"no-op"}applyAxes(t,i,n,s,r=[]){if(!("axes"in i)||!i.axes)return!1;r=["axes[].type",...r];const{axes:o}=i;return!(s==="replaced")&&t.axes.length===o.length&&t.axes.every((u,d)=>u.type===o[d].type)&&tP(n)?(t.axes.forEach((u,d)=>{var y;const p=((y=n.axes)==null?void 0:y[d])??{},f=kl(p,o[d]);pa(`Chart.applyAxes() - applying axis diff idx ${d}`,f);const m=`axes[${d}]`;pv(u,f,{path:m,skip:r})}),!0):(pa(`Chart.applyAxes() - creating new axes instances; seriesStatus: ${s}`),t.axes=this.createAxis(o,r),!0)}createSeries(t){const i=Oo.create(t.type,this.getModuleContext());return this.applySeriesOptionModules(i,t),this.applySeriesValues(i,t),i}applySeriesOptionModules(t,i){const n=t.createModuleContext(),s=t.getModuleMap();for(const r of Sl.byType("series-option"))r.optionsKey in i&&r.seriesTypes.includes(t.type)&&s.addModule(r,o=>o.moduleFactory(n))}applySeriesValues(t,i){const n=t.getModuleMap(),{type:s,data:r,listeners:o,seriesGrouping:a,showInMiniChart:l,...u}=i;for(const d of XC)if(d.type==="series-option"&&d.optionsKey in u){const p=n.getModule(d.optionsKey);if(p){const f=u[d.optionsKey];delete u[d.optionsKey],p.properties.set(f)}}t.properties.set(u),"data"in i&&t.setOptionsData(r),o&&this.registerListeners(t,o,{nodeClick:"seriesNodeClick",nodeDoubleClick:"seriesNodeDoubleClick"}),"seriesGrouping"in i&&(a==null?t.seriesGrouping=void 0:t.seriesGrouping={...t.seriesGrouping,...a})}createAxis(t,i){const n=[],s=this.getModuleContext();for(let r=0;r<t.length;r++){const o=t[r],a=Vh.create(o.type,s);this.applyAxisModules(a,o),pv(a,o,{path:`axes[${r}]`,skip:i}),n.push(a)}return PEe(n),n}applyAxisModules(t,i){const n=t.createModuleContext(),s=t.getModuleMap();for(const r of Sl.byType("axis-option")){const o=i[r.optionsKey]!=null;o!==s.isEnabled(r)&&(o?(s.addModule(r,a=>a.moduleFactory(n)),t[r.optionsKey]=s.getModule(r)):(s.removeModule(r),delete t[r.optionsKey]))}}registerListeners(t,i,n){t.clearEventListeners();for(const[s,r]of Sa(i))if(gd(r)){const o=n==null?void 0:n[s];o==null?t.addEventListener(s,r):t.addEventListener(o,a=>{if((a==null?void 0:a.type)===o){const l=new Proxy(a,{get(u,d,p){return d==="type"?s:Reflect.get(u,d,p)}});r(l)}else r(a)})}}};Gn.chartsInstances=new WeakMap;I([zr({newValue(e){this.destroyed||(this.ctx.domManager.setContainer(e),Gn.chartsInstances.set(e,this))},oldValue(e){Gn.chartsInstances.delete(e)}})],Gn.prototype,"container",2);I([zr({newValue(e){this.resize("width option",{inWidth:e})}})],Gn.prototype,"width",2);I([zr({newValue(e){this.resize("height option",{inHeight:e})}})],Gn.prototype,"height",2);I([zr({newValue(e){this.resize("minWidth option",{inMinWidth:e})}})],Gn.prototype,"minWidth",2);I([zr({newValue(e){this.resize("minHeight option",{inMinHeight:e})}})],Gn.prototype,"minHeight",2);I([zr({newValue(e){this.resize("overrideDevicePixelRatio option",{inOverrideDevicePixelRatio:e})}})],Gn.prototype,"overrideDevicePixelRatio",2);I([O()],Gn.prototype,"padding",2);I([O()],Gn.prototype,"seriesArea",2);I([O()],Gn.prototype,"keyboard",2);I([O()],Gn.prototype,"touch",2);I([O(vi(["standalone","integrated"],"a chart mode"))],Gn.prototype,"mode",2);I([xi("chartCaptions.title")],Gn.prototype,"title",2);I([xi("chartCaptions.subtitle")],Gn.prototype,"subtitle",2);I([xi("chartCaptions.footnote")],Gn.prototype,"footnote",2);I([O()],Gn.prototype,"suppressFieldDotNotation",2);I([zr({changeValue(e,t){this.onAxisChange(e,t)}})],Gn.prototype,"axes",2);I([zr({changeValue(e,t){this.onSeriesChange(e,t)}})],Gn.prototype,"series",2);var BM=Gn,KG=ii.create(!0,"opts"),Qd="AG Charts - Chart was destroyed, cannot perform request.",yv=class{constructor(t,i,n){this.factoryApi=i,this.licenseManager=n,this.chart=t}async update(t){if(!this.chart)throw new Error(Qd);return KG.group("AgChartInstance.update()",async()=>{var i;this.factoryApi.update(t,this),await((i=this.chart)==null?void 0:i.waitForUpdate())})}async updateDelta(t){if(!this.chart)throw new Error(Qd);return KG.group("AgChartInstance.updateDelta()",async()=>{var i;this.factoryApi.updateUserDelta(this,t),await((i=this.chart)==null?void 0:i.waitForUpdate())})}getOptions(){if(!this.chart)throw new Error(Qd);const t=ji(this.chart.getOptions());for(const i of Object.keys(t))i.startsWith("_")&&delete t[i];return t}waitForUpdate(){if(!this.chart)throw new Error(Qd);return this.chart.waitForUpdate()}async download(t){var n;if(!this.chart)throw new Error(Qd);const i=await this.prepareResizedChart(this,this.chart,t);try{(n=i.chart)==null||n.download(t==null?void 0:t.fileName,t==null?void 0:t.fileFormat)}finally{i.destroy()}}async __toSVG(t){var n;if(!this.chart)throw new Error(Qd);const i=await this.prepareResizedChart(this,this.chart,{width:600,height:300,...t});try{return(n=i==null?void 0:i.chart)==null?void 0:n.toSVG()}finally{i==null||i.destroy()}}async getImageDataURL(t){if(!this.chart)throw new Error(Qd);const i=await this.prepareResizedChart(this,this.chart,t);try{return i.chart.getCanvasDataURL(t==null?void 0:t.fileFormat)}finally{i.destroy()}}getState(){return this.factoryApi.caretaker.save(...this.getEnabledOriginators())}async setState(t){const{chart:i}=this;if(!i)return;const n=this.getEnabledOriginators();if(!n.includes(i.ctx.legendManager)){await this.setStateOriginators(t,n);return}await this.setStateOriginators(t,n.filter(s=>s!==i.ctx.zoomManager)),await this.setStateOriginators(t,[i.ctx.zoomManager])}resetAnimations(){var t;(t=this.chart)==null||t.resetAnimations()}skipAnimations(){var t;(t=this.chart)==null||t.skipAnimations()}destroy(){this.releaseChart?(this.releaseChart(),this.releaseChart=void 0):this.chart&&(this.chart.publicApi=void 0,this.chart.destroy()),this.chart=void 0}async prepareResizedChart(t,i,n={}){var y,C,w,b,S,M;const s=n.width??i.width??i.ctx.scene.canvas.width,r=n.height??i.height??i.ctx.scene.canvas.height,o=t.getState(),a=Sl.hasEnterpriseModules(),l={...i.chartOptions.processedOverrides,container:document.createElement("div"),width:s,height:r};n.width!=null&&n.height!=null&&(l.overrideDevicePixelRatio=1);const u=i.getOptions();a&&(l.animation={enabled:!1},(y=this.licenseManager)!=null&&y.isDisplayWatermark()&&(l.foreground={text:this.licenseManager.getWatermarkMessage(),image:{url:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjU4IiBoZWlnaHQ9IjQwIiB2aWV3Qm94PSIwIDAgMjU4IDQwIiBmaWxsPSJub25lIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgo8cGF0aCBkPSJNMjUuNzc5IDI4LjY1N0gxMy4zNTlMMTEuMTczIDM0LjAxMkg1LjY3Mjk3TDE3LjE4MiA3LjA1OTk5SDIxLjk1M0wzMy40NjIgMzQuMDEySDI3Ljk2MkwyNS43NzYgMjguNjU3SDI1Ljc3OVpNMjQuMDY4IDI0LjM5N0wxOS41ODggMTMuNDM0TDE1LjEwNyAyNC4zOTdIMjQuMDY4Wk02Mi4wOTIgMTguODIzSDQ5LjgxN1YyMy4wODZINTYuNzc1QzU2LjU1NSAyNS4yMjIgNTUuNzU1IDI2LjkyNyA1NC4zNzIgMjguMjAyQzUyLjk4OSAyOS40NzYgNTEuMTY2IDMwLjExNSA0OC45MDkgMzAuMTE1QzQ3LjYyMiAzMC4xMTUgNDYuNDUgMjkuODg1IDQ1LjM5MyAyOS40MjNDNDQuMzU4MyAyOC45NzgxIDQzLjQzMjYgMjguMzEzOCA0Mi42OCAyNy40NzZDNDEuOTI3IDI2LjYzOSA0MS4zNDQgMjUuNjMxIDQwLjkzMSAyNC40NTNDNDAuNTE5IDIzLjI3NSA0MC4zMTEgMjEuOTcgNDAuMzExIDIwLjUzN0M0MC4zMTEgMTkuMTA1IDQwLjUxNiAxNy44IDQwLjkzMSAxNi42MjFDNDEuMzQ0IDE1LjQ0MyA0MS45MjcgMTQuNDM2IDQyLjY4IDEzLjU5OEM0My40Mzc2IDEyLjc1NzcgNDQuMzY5NiAxMi4wOTMyIDQ1LjQxMSAxMS42NTFDNDYuNDc4IDExLjE4OSA0Ny42NTYgMTAuOTYgNDguOTQ2IDEwLjk2QzUxLjYxMiAxMC45NiA1My42MzcgMTEuNjAyIDU1LjAyIDEyLjg4NUw1OC4zIDkuNjA0OTlDNTUuODE3IDcuNjY5OTkgNTIuNjc2IDYuNjk5OTkgNDguODcyIDYuNjk5OTlDNDYuNzYgNi42OTk5OSA0NC44NTMgNy4wMzQ5OSA0My4xNTQgNy43MDA5OUM0MS40NTUgOC4zNjc5OSAzOS45OTggOS4zMDM5OSAzOC43ODMgMTAuNTA0QzM3LjU2NyAxMS43MDcgMzYuNjM0IDEzLjE1OCAzNS45NzcgMTQuODU3QzM1LjMxOSAxNi41NTYgMzQuOTk0IDE4LjQ1MSAzNC45OTQgMjAuNTRDMzQuOTk0IDIyLjYzIDM1LjMyOSAyNC40OTQgMzUuOTk1IDI2LjIwNUMzNi42NjIgMjcuOTE2IDM3LjYwNSAyOS4zNzQgMzguODE3IDMwLjU3N0M0MC4wMzIgMzEuNzggNDEuNDg2IDMyLjcxMyA0My4xODggMzMuMzgzQzQ0Ljg4OCAzNC4wNDkgNDYuNzgyIDM0LjM4NCA0OC44NzIgMzQuMzg0QzUwLjk2MSAzNC4zODQgNTIuNzUgMzQuMDQ5IDU0LjM5IDMzLjM4M0M1Ni4wMzEgMzIuNzE2IDU3LjQyNiAzMS43OCA1OC41NzkgMzAuNTc3QzU5LjczMyAyOS4zNzQgNjAuNjE5IDI3LjkxNiA2MS4yMzkgMjYuMjA1QzYxLjg2IDI0LjQ5NCA2Mi4xNyAyMi42MDUgNjIuMTcgMjAuNTRDNjIuMTY5NiAxOS45Njg4IDYyLjE0NDUgMTkuMzk4IDYyLjA5NSAxOC44MjlMNjIuMDkyIDE4LjgyM1pNMTUxLjgxIDE2Ljk4MUMxNTMuNDEgMTQuNjA5IDE1Ny40MTkgMTQuMzU4IDE1OS4wMjIgMTQuMzU4VjE4LjkxQzE1Ni45NTcgMTguOTEgMTU0Ljk4NSAxOC45OTYgMTUzLjc1NyAxOS44OTJDMTUyLjUyOSAyMC43OTIgMTUxLjkxOSAyMS45ODIgMTUxLjkxOSAyMy40NjRWMzMuOTlIMTQ2Ljk2NFYxNC4zNThIMTUxLjczNkwxNTEuODEgMTYuOTgxWk0xNDMuMDExIDE0LjM2MVYzNC4wMzFIMTM4LjI0TDEzOC4xMzEgMzEuMDQ1QzEzNy40NjYgMzIuMDc2IDEzNi41NTEgMzIuOTIxOSAxMzUuNDcxIDMzLjUwNEMxMzQuMzc2IDM0LjA5OSAxMzMuMDY4IDM0LjM5NiAxMzEuNTM2IDM0LjM5NkMxMzAuMiAzNC4zOTYgMTI4Ljk2MyAzNC4xNTIgMTI3LjgyMiAzMy42NjhDMTI2LjcgMzMuMTk2NCAxMjUuNjg5IDMyLjQ5NSAxMjQuODU1IDMxLjYwOUMxMjQuMDE4IDMwLjcyMiAxMjMuMzU0IDI5LjY2MiAxMjIuODcxIDI4LjQyMkMxMjIuMzg0IDI3LjE4NSAxMjIuMTQyIDI1LjgxMSAxMjIuMTQyIDI0LjMwNEMxMjIuMTQyIDIyLjc5OCAxMjIuMzg0IDIxLjM3OCAxMjIuODcxIDIwLjExNkMxMjMuMzU3IDE4Ljg1NCAxMjQuMDE4IDE3Ljc3MiAxMjQuODU1IDE2Ljg3M0MxMjUuNjg4IDE1Ljk3NjQgMTI2LjY5OCAxNS4yNjM2IDEyNy44MjIgMTQuNzhDMTI4Ljk2MyAxNC4yODEgMTMwLjIwMyAxNC4wMzMgMTMxLjUzNiAxNC4wMzNDMTMzLjA0MyAxNC4wMzMgMTM0LjMzIDE0LjMxOCAxMzUuMzk3IDE0Ljg4OEMxMzYuNDYyIDE1LjQ1ODkgMTM3LjM3NSAxNi4yNzggMTM4LjA1NyAxNy4yNzZWMTQuMzYxSDE0My4wMTFaTTEzMi42MzEgMzAuMTMzQzEzNC4yNTYgMzAuMTMzIDEzNS41NjcgMjkuNTk0IDEzNi41NjUgMjguNTEyQzEzNy41NjEgMjcuNDMgMTM4LjA2IDI1Ljk5MSAxMzguMDYgMjQuMTk2QzEzOC4wNiAyMi40MDEgMTM3LjU2MSAyMC45OSAxMzYuNTY1IDE5Ljg5OUMxMzUuNTcgMTguODA3IDEzNC4yNTkgMTguMjU4IDEzMi42MzEgMTguMjU4QzEzMS4wMDMgMTguMjU4IDEyOS43MjkgMTguODA0IDEyOC43MzQgMTkuODk5QzEyNy43MzggMjAuOTkzIDEyNy4yMzkgMjIuNDM4IDEyNy4yMzkgMjQuMjMzQzEyNy4yMzkgMjYuMDI4IDEyNy43MzUgMjcuNDMzIDEyOC43MzQgMjguNTE1QzEyOS43MjkgMjkuNTk0IDEzMS4wMjggMzAuMTM2IDEzMi42MzEgMzAuMTM2VjMwLjEzM1pNOTMuNjk4IDI3Ljg3NkM5My41Nzk1IDI4LjAwMjUgOTMuNDU2NCAyOC4xMjQ2IDkzLjMyOSAyOC4yNDJDOTEuOTQ3IDI5LjUxNiA5MC4xMjMgMzAuMTU1IDg3Ljg2NiAzMC4xNTVDODYuNTggMzAuMTU1IDg1LjQwOCAyOS45MjYgODQuMzUgMjkuNDY0QzgzLjMxNTUgMjkuMDE4OSA4Mi4zODk4IDI4LjM1NDYgODEuNjM3IDI3LjUxN0M4MC44ODQgMjYuNjc5IDgwLjMwMSAyNS42NzIgNzkuODg5IDI0LjQ5NEM3OS40NzYgMjMuMzE1IDc5LjI2OSAyMi4wMSA3OS4yNjkgMjAuNTc4Qzc5LjI2OSAxOS4xNDUgNzkuNDczIDE3Ljg0IDc5Ljg4OSAxNi42NjJDODAuMzAxIDE1LjQ4NCA4MC44ODQgMTQuNDc2IDgxLjYzNyAxMy42MzlDODIuMzk0OSAxMi43OTg3IDgzLjMyNzMgMTIuMTM0MiA4NC4zNjkgMTEuNjkyQzg1LjQzNiAxMS4yMyA4Ni42MTQgMTEgODcuOTAzIDExQzkwLjU3IDExIDkyLjU5NSAxMS42NDIgOTMuOTc3IDEyLjkyNkw5Ny4yNTggOS42NDQ5OUM5NC43NzQgNy43MTA5OSA5MS42MzMgNi43Mzk5OSA4Ny44MjkgNi43Mzk5OUM4NS43MTggNi43Mzk5OSA4My44MTEgNy4wNzQ5OSA4Mi4xMTIgNy43NDE5OUM4MC40MTMgOC40MDc5OSA3OC45NTYgOS4zNDQ5OSA3Ny43NCAxMC41NDVDNzYuNTI1IDExLjc0NyA3NS41OTIgMTMuMTk5IDc0LjkzNCAxNC44OThDNzQuMjc3IDE2LjU5NyA3My45NTEgMTguNDkxIDczLjk1MSAyMC41ODFDNzMuOTUxIDIyLjY3IDc0LjI4NiAyNC41MzQgNzQuOTUzIDI2LjI0NUM3NS42MTkgMjcuOTU3IDc2LjU2MiAyOS40MTQgNzcuNzc0IDMwLjYxN0M3OC45OSAzMS44MiA4MC40NDQgMzIuNzUzIDgyLjE0NiAzMy40MjNDODMuODQ1IDM0LjA5IDg1LjczOSAzNC40MjQgODcuODI5IDM0LjQyNEM4OS45MTkgMzQuNDI0IDkxLjcwOCAzNC4wOSA5My4zNDggMzMuNDIzQzk0LjcxOCAzMi44NjUgOTUuOTE4IDMyLjEyMSA5Ni45NDggMzEuMTkxQzk3LjE0OSAzMS4wMDggOTcuMzQ4IDMwLjgxNSA5Ny41MzcgMzAuNjJMOTMuNzAxIDI3Ljg4NUw5My42OTggMjcuODc2Wk0xMTAuODAyIDE0LjAxNUMxMDkuMTk5IDE0LjAxNSAxMDYuODM2IDE0LjQ3MSAxMDUuNjExIDE2LjE1OEwxMDUuNTM3IDYuMDE1OTlIMTAwLjc2NVYzMy45MzlIMTA1LjcyVjIyLjY0MUMxMDUuNzcxIDIxLjQ2MDcgMTA2LjI4OCAyMC4zNDg4IDEwNy4xNTcgMTkuNTQ4OUMxMDguMDI3IDE4Ljc0OTEgMTA5LjE3OCAxOC4zMjY2IDExMC4zNTggMTguMzc0QzExMy4zOTcgMTguMzc0IDExNC4yNjggMjEuMTU5IDExNC4yNjggMjIuNjQxVjMzLjkzOUgxMTkuMjIzVjIxLjA1OUMxMTkuMjIzIDIxLjA1OSAxMTkuMTQyIDE0LjAxNSAxMTAuODAyIDE0LjAxNVpNMTczLjc2MyAxNC4zNThIMTY5Ljk5OVY4LjcxNDk5SDE2NS4wNDhWMTQuMzU4SDE2MS4yODRWMTguOTE2SDE2NS4wNDhWMzQuMDAzSDE2OS45OTlWMTguOTE2SDE3My43NjNWMTQuMzU4Wk0xOTAuNzg3IDI1LjI2MkMxOTAuMTI5IDI0LjUwMTQgMTg5LjMwNyAyMy44OTk0IDE4OC4zODQgMjMuNTAxQzE4Ny40ODggMjMuMTE3IDE4Ni4zMzEgMjIuNzMyIDE4NC45NDggMjIuMzY0QzE4NC4xNjUgMjIuMTQzOSAxODMuMzkgMjEuODk3OCAxODIuNjIzIDIxLjYyNkMxODIuMTYzIDIxLjQ2MjEgMTgxLjc0MSAyMS4yMDY2IDE4MS4zODMgMjAuODc1QzE4MS4yMzUgMjAuNzQyMSAxODEuMTE4IDIwLjU3ODkgMTgxLjAzOSAyMC4zOTY0QzE4MC45NjEgMjAuMjE0IDE4MC45MjIgMjAuMDE2NiAxODAuOTI3IDE5LjgxOEMxODAuOTI3IDE5LjI3MiAxODEuMTU2IDE4Ljg0NCAxODEuNjI1IDE4LjUxQzE4Mi4xMjEgMTguMTU2IDE4Mi44NjIgMTcuOTc2IDE4My44MjYgMTcuOTc2QzE4NC43OSAxNy45NzYgMTg1LjU4NyAxOC4yMDkgMTg2LjE0OCAxOC42NjhDMTg2LjcwNiAxOS4xMjQgMTg3LjAwNyAxOS43MjUgMTg3LjA3MiAyMC41TDE4Ny4wOTQgMjAuNzgySDE5MS42MzNMMTkxLjYxNyAyMC40NkMxOTEuNTIxIDE4LjQ4NSAxOTAuNzcxIDE2LjkgMTg5LjM4NSAxNS43NUMxODguMDEyIDE0LjYxMiAxODYuMTg1IDE0LjAzMyAxODMuOTYyIDE0LjAzM0MxODIuNDc3IDE0LjAzMyAxODEuMTQxIDE0LjI4NyAxNzkuOTk0IDE0Ljc4NkMxNzguODMxIDE1LjI5MSAxNzcuOTI2IDE1Ljk5NSAxNzcuMjk2IDE2Ljg4MkMxNzYuNjczIDE3Ljc0NTUgMTc2LjMzOCAxOC43ODQgMTc2LjM0MSAxOS44NDlDMTc2LjM0MSAyMS4xNjcgMTc2LjY5OCAyMi4yNDkgMTc3LjM5OSAyMy4wNjRDMTc4LjA2IDIzLjg0MzIgMTc4Ljg5OCAyNC40NTM0IDE3OS44NDIgMjQuODQ0QzE4MC43NDQgMjUuMjE2IDE4MS45MjggMjUuNjA3IDE4My4zNjEgMjZDMTg0LjgwNiAyNi40MSAxODUuODcyIDI2Ljc4NSAxODYuNTMgMjcuMTIzQzE4Ny4xIDI3LjQxNCAxODcuMzc5IDI3Ljg0NSAxODcuMzc5IDI4LjQ0NEMxODcuMzc5IDI5LjA0MiAxODcuMTIyIDI5LjQ2NyAxODYuNTk1IDI5LjgzOUMxODYuMDQzIDMwLjIyNiAxODUuMjM3IDMwLjQyNSAxODQuMjAxIDMwLjQyNUMxODMuMTY2IDMwLjQyNSAxODIuMzk0IDMwLjE3NCAxODEuNzQ5IDI5LjY3NEMxODEuMTEzIDI5LjE4MSAxODAuNzcyIDI4LjU4OSAxODAuNzEgMjcuODY0TDE4MC42ODUgMjcuNTgySDE3Ni4wMTNMMTc2LjAyNSAyNy45MDFDMTc2LjA2NyAyOS4wOTU1IDE3Ni40NzIgMzAuMjQ4NyAxNzcuMTg4IDMxLjIwNkMxNzcuOTA3IDMyLjE4IDE3OC44OTMgMzIuOTU4IDE4MC4xMTggMzMuNTE5QzE4MS4zMzYgMzQuMDc3IDE4Mi43MzIgMzQuMzYyIDE4NC4yNjYgMzQuMzYyQzE4NS44MDEgMzQuMzYyIDE4Ny4xMDkgMzQuMTA4IDE4OC4yMzggMzMuNjA5QzE4OS4zNzYgMzMuMTA0IDE5MC4yNzIgMzIuMzk0IDE5MC45MDEgMzEuNDk0QzE5MS41MzQgMzAuNTkyIDE5MS44NTMgMjkuNTU0IDE5MS44NTMgMjguNDAzQzE5MS44MjggMjcuMTEgMTkxLjQ2NiAyNi4wNTMgMTkwLjc3NyAyNS4yNjJIMTkwLjc4N1oiIGZpbGw9IiM5QjlCOUIiLz4KPHBhdGggZD0iTTI0MS45ODIgMjUuNjU4MlYxNy43MTE3SDIyOC40NDFMMjIwLjQ5NCAyNS42NTgySDI0MS45ODJaIiBmaWxsPSIjOUI5QjlCIi8+CjxwYXRoIGQ9Ik0yNTcuMjM5IDUuOTUwODFIMjQwLjI2NUwyMzIuMjU1IDEzLjg5NzNIMjU3LjIzOVY1Ljk1MDgxWiIgZmlsbD0iIzlCOUI5QiIvPgo8cGF0aCBkPSJNMjEyLjYxMSAzMy42MDQ4TDIxNi42OCAyOS41MzYxSDIzMC40MTJWMzcuNDgyN0gyMTIuNjExVjMzLjYwNDhaIiBmaWxsPSIjOUI5QjlCIi8+CjxwYXRoIGQ9Ik0yMTUuNTk5IDIxLjc4MDNIMjI0LjM3MkwyMzIuMzgyIDEzLjgzMzdIMjE1LjU5OVYyMS43ODAzWiIgZmlsbD0iIzlCOUI5QiIvPgo8cGF0aCBkPSJNMjA2IDMzLjYwNDdIMjEyLjYxMUwyMjAuNDk0IDI1LjY1ODJIMjA2VjMzLjYwNDdaIiBmaWxsPSIjOUI5QjlCIi8+CjxwYXRoIGQ9Ik0yNDAuMjY1IDUuOTUwODFMMjM2LjE5NyAxMC4wMTk0SDIxMC4yNTlWMi4wNzI4OEgyNDAuMjY1VjUuOTUwODFaIiBmaWxsPSIjOUI5QjlCIi8+Cjwvc3ZnPgo=",width:170,height:25,right:25,bottom:50,opacity:.7}}));const d={...i.chartOptions.specialOverrides},p={...i.chartOptions.optionMetadata},f=this.factoryApi.create(u,l,d,p);await f.setState(o),(C=f.chart)==null||C.ctx.zoomManager.updateZoom("chartProxy",i.ctx.zoomManager.getZoom()),(w=f.chart)==null||w.ctx.legendManager.clearData(),(b=f.chart)==null||b.ctx.legendManager.update(i.ctx.legendManager.getData()),i.series.forEach((D,R)=>{D.visible||(f.chart.series[R].visible=!1)});const m=[];for(const D of i.modulesManager.legends())m.push(((S=D.legend.pagination)==null?void 0:S.currentPage)??0);for(const D of f.chart.modulesManager.legends()){const R=m.shift()??0;D.legend.pagination&&D.legend.pagination.setPage(R)}return(M=f.chart)==null||M.update(0,{forceNodeDataRefresh:!0}),await f.waitForUpdate(),f}getEnabledOriginators(){var u,d,p;if(!this.chart)return[];const{chartOptions:{processedOptions:t,optionMetadata:i},ctx:{annotationManager:n,chartTypeOriginator:s,zoomManager:r,legendManager:o}}=this.chart,a=[];return"annotations"in t&&((u=t.annotations)!=null&&u.enabled)&&a.push(n),i.presetType==="price-volume"&&a.push(s),((d=t.navigator)!=null&&d.enabled||(p=t.zoom)!=null&&p.enabled)&&a.push(r),"legend"in this.chart&&a.push(o),a}async setStateOriginators(t,i){var n,s;this.factoryApi.caretaker.restore(t,...i),(n=this.chart)==null||n.ctx.updateService.update(2,{forceNodeDataRefresh:!0}),await((s=this.chart)==null?void 0:s.waitForUpdate())}};yv.chartInstances=new WeakMap;I([zr({oldValue(e){e.destroyed||(e.publicApi=void 0),yv.chartInstances.delete(e)},newValue(e){e&&(e.publicApi=this,yv.chartInstances.set(e,this))}})],yv.prototype,"chart",2);var qG=yv,aP=class extends uM{constructor(e){super(),this.ctx=e,this.localeText=void 0}};I([vd(e=>{e.ctx.localeManager.setLocaleText(e.localeText)}),O()],aP.prototype,"localeText",2);I([vd(e=>{e.ctx.localeManager.setLocaleTextFormatter(e.getLocaleText)}),O()],aP.prototype,"getLocaleText",2);var v1e={type:"root",optionsKey:"locale",packageType:"community",chartTypes:["cartesian","polar","hierarchy","topology","flow-proportion","standalone","gauge"],moduleFactory:e=>new aP(e)},ib=class extends ZC{constructor(){super(...arguments),this.type="band",this.index=void 0,this._domain=[]}set domain(e){this._domain!==e&&(this.invalid=!0,this._domain=e,this.index=void 0)}get domain(){return this._domain}normalizeDomains(...e){let t;const i=new Set;let n=!0;for(const s of e)i.has(s)||(i.add(s),t==null?t=ZG(s):(n&&(n=C1e(s,t)),t=ZG([...t,...s])));return t??(t=[]),{domain:t,animatable:n}}toDomain(e){}invert(e,t=!1){this.refresh();const i=t?this.bandwidth/2:0,n=this.invertNearestIndex(Math.max(0,e-i));return t||e===this.ordinalRange(n)?this.domain[n]:void 0}getIndex(e){let{index:t}=this;if(t==null){const{domain:i}=this;t=new Map;for(let n=0;n<i.length;n++)t.set(qs(i[n]),n);this.index=t}return t.get(qs(e))}};function ZG(e){let t;const i=new Set;for(const n of e){const s=qs(n),r=i.size;i.add(s),i.size!==r?t==null||t.push(n):t??(t=e.slice(0,i.size))}return t??e}function C1e(e,t){let i=-1;for(const n of e){const s=t.indexOf(n);if(s===-1)i=1/0;else{if(s<=i)return!1;i=s}}return!0}var Jg=class VU extends JC{constructor(t,i=new ib){super(t,i),this.groupPaddingInner=.1,this.includeInvisibleDomains=!0,this.nice=!1}static is(t){return t instanceof VU}normaliseDataDomain(t){return{domain:t,clipped:!1}}updateScale(){super.updateScale();let{paddingInner:t,paddingOuter:i}=this;if(!Qt(t)||!Qt(i)){const n=this.reduceBandScalePadding();t??(t=n.inner),i??(i=n.outer)}this.scale.paddingInner=t??0,this.scale.paddingOuter=i??0}reduceBandScalePadding(){return this.boundSeries.reduce((t,i)=>{var s;const n=(s=i.getBandScalePadding)==null?void 0:s.call(i);return n&&(t.inner>n.inner&&(t.inner=n.inner),t.outer<n.outer&&(t.outer=n.outer)),t},{inner:1/0,outer:-1/0})}};Jg.className="CategoryAxis";Jg.type="category";I([O()],Jg.prototype,"groupPaddingInner",2);I([O()],Jg.prototype,"paddingInner",2);I([O()],Jg.prototype,"paddingOuter",2);var Dp=Jg,XG=class extends ib{normalizeDomains(...e){const{domain:t}=super.normalizeDomains(...e);return{domain:t,animatable:!1}}getIndex(e){return super.getIndex(e)??this.getMatchIndex(e)}getMatchIndex(e){const t=JSON.stringify(e),i=this._domain.find(n=>JSON.stringify(n)===t);if(i!=null)return super.getIndex(i)}};function $c(e){if(e.length===0)return null;let t=1/0,i=-1/0;for(const s of e){const r=s instanceof Date?s.getTime():s;typeof r=="number"&&(r<t&&(t=r),r>i&&(i=r))}const n=[t,i];return n.every(isFinite)?n:null}function lP(e,t,i){let n=!1;return e.length>2&&(e=$c(e)??[NaN,NaN]),t!=null&&(n||(n=t>e[0]),e=[t,e[1]]),i!=null&&(n||(n=i<e[1]),e=[e[0],i]),e[0]>e[1]&&(e=[]),{extent:e,clipped:n}}var Py=new WeakMap;function cx(e,t){var n,s,r;const i=JSON.stringify(e,null,0);return Py.has(t)||Py.set(t,new Map),(n=Py.get(t))!=null&&n.has(i)||(s=Py.get(t))==null||s.set(i,t(e)),(r=Py.get(t))==null?void 0:r.get(i)}function ar(e,t){const i=new Map,n=(...o)=>o.map(a=>typeof a=="object"||typeof a=="symbol"?a:(i.has(a)||i.set(a,{v:a}),i.get(a))),s={},r=new WeakMap;return(...o)=>{const a=o.length===0?[s]:n(...o);let l=r;for(const p of a.slice(0,-1))l.has(p)||l.set(p,new WeakMap),l=l.get(p);const u=a.at(-1);let d=l.get(u);return d?t==null||t("hit",e,o):(d=e(...o),l.set(u,d),t==null||t("miss",e,o)),d}}function zM(e,t=[0,0]){for(const i of e)typeof i=="number"&&(i<0&&(t[0]+=i),i>0&&(t[1]+=i));return t}function b1e(e,t){return{id:e,matchGroupIds:[t],type:"aggregate",aggregateFunction:n=>zM(n)}}function WU(e,t){return{id:e,type:"aggregate",matchGroupIds:t?[t]:void 0,aggregateFunction:i=>zM(i),groupAggregateFunction:(i,n=[0,0])=>(n[0]+=(i==null?void 0:i[0])??0,n[1]+=(i==null?void 0:i[1])??0,n)}}function w1e(e,t){return{id:e,matchGroupIds:[t],type:"aggregate",aggregateFunction:n=>Tu.extendDomain(n)}}function iI(e){return{id:e,type:"aggregate",aggregateFunction:()=>[0,1],groupAggregateFunction:(t,i=[0,0])=>(i[0]+=(t==null?void 0:t[0])??0,i[1]+=(t==null?void 0:t[1])??0,i)}}function UU(e,t){return{id:e,matchGroupIds:t?[t]:void 0,type:"aggregate",aggregateFunction:n=>zM(n),groupAggregateFunction:(n,s=[0,0,-1])=>(s[0]+=(n==null?void 0:n[0])??0,s[1]+=(n==null?void 0:n[1])??0,s[2]++,s),finalFunction:(n=[0,0,0])=>{const s=n[0]+n[1];return s>=0?[0,s/n[2]]:[s/n[2],0]}}}function nI(e,t,i){const n={id:e,matchGroupIds:i?[i]:void 0,type:"aggregate",aggregateFunction:(s,r=[])=>{const o=r[1]-r[0];return t.aggregateFunction(s).map(a=>a/o)}};return t.groupAggregateFunction&&(n.groupAggregateFunction=t.groupAggregateFunction),n}function $U(e){return()=>{let t=0;return i=>Qt(i)?(t+=e?Math.max(0,i):i,t):i}}function YU(){return()=>{let e=0;return t=>{if(!Qt(t))return t;const i=e;return e+=t,i}}}function KU(e){return e!=null&&kM(e)}function S1e(e){return e!=null}function qU(e){switch(e){case"number":case"log":case"ordinal-time":case"time":case"color":return KU;default:return S1e}}function ZU(e){switch(e){case"number":case"log":case"time":case"color":return"range";default:return"category"}}function Da(e,t,i={}){return{property:e,type:"key",valueType:ZU(t),validation:qU(t),...i}}function Wt(e,t,i={}){return{property:e,type:"value",valueType:ZU(t),validation:qU(t),...i}}function XU(e,t={}){return{property:e,type:"value",valueType:"range",missingValue:1,processor:()=>()=>1,...t}}var x1e=function(e){return e};function QU(...e){const t=e.filter(i=>i!=null);return t.length===0?()=>x1e:t.length===1?t[0]:()=>{const i=t.map(n=>n());return(n,s)=>i.reduce((r,o)=>o(r,s),n)}}function cP(e,t={}){const{min:i=-1/0,max:n=1/0,processor:s,...r}=t;return{type:"value",property:e,valueType:"range",validation:KU,processor:QU(s,()=>o=>Qt(o)?ft(i,o,n):o),...r}}function nC(e,t,i={}){const{onlyPositive:n,processor:s,...r}=i;return{...Wt(e,t,r),processor:QU(s,$U(n))}}function M1e(e,t,i={}){return{...Wt(e,t,i),processor:YU()}}function Ju(e,t,i,n,s){return[Wt(e,s,n),n$(n.groupId,t,i,n.separateNegative),...n.rangeId!=null?[w1e(n.rangeId,n.groupId)]:[]]}function JU(e,t,i){return[Wt(e,t,i),s$(i.groupId)]}var e$={type:"reducer",property:"smallestKeyInterval",initialValue:1/0,reducer:()=>{let e=NaN;return(t=1/0,i)=>{const n=typeof i[0]=="number"?i[0]:Number(i[0]),s=Math.abs(n-e);return e=n,!isNaN(s)&&s>0&&s<t?s:t}}},t$={type:"reducer",property:"largestKeyInterval",initialValue:-1/0,reducer:()=>{let e=NaN;return(t=-1/0,i)=>{const n=typeof i[0]=="number"?i[0]:Number(i[0]),s=Math.abs(n-e);return e=n,!isNaN(s)&&s>0&&s>t?s:t}}},i$={type:"processor",property:"sortedGroupDomain",calculate:({domain:{groups:e}})=>e==null?void 0:e.slice().sort((t,i)=>{for(let n=0;n<t.length;n++){const s=t[n]-i[n];if(s!==0)return s}return 0})};function D1e({normaliseTo:e}){const t=(i,n)=>{if(n===0)return null;const s=(i??0)*e/n;return s>=0?Math.min(e,s):Math.max(-e,s)};return()=>()=>(i,n,s)=>{const r=R1e(i,n,s);for(const o of n)for(const a of s.datumIndices[o]??[]){const l=i[o],u=l[a];if(u==null){l[a]=void 0;continue}l[a]=typeof u=="number"?t(u,r):u.map(d=>t(d,r))}}}function R1e(e,t,i){const n=[0,0];for(const s of t){const r=e[s];for(const o of i.datumIndices[s]??[]){const a=r[o];if(a==null)continue;const l=typeof a=="number"?a:Math.max(...a.map(d=>d??0)),u=l<0?0:1;u===0?n[u]=Math.min(n[u],l):n[u]=Math.max(n[u],l)}}return Math.max(Math.abs(n[0]),n[1])}function GM(e,t){return{type:"group-value-processor",matchGroupIds:e,adjust:cx({normaliseTo:t},D1e)}}function E1e({normaliseTo:e,zeroDomain:t,rangeMin:i,rangeMax:n}){const s=e[1]-e[0],r=(o,a,l)=>{const u=e[0]+(o-a)/l*s;return l===0?t:u>=e[1]?e[1]:u<e[0]?e[0]:u};return()=>(o,a)=>{let[l,u]=o.domain.values[a];i!=null&&(l=i),n!=null&&(u=n);const d=u-l;o.domain.values[a]=[e[0],e[1]];const p=o.columns[a];for(let f=0;f<p.length;f+=1)p[f]=r(p[f],l,d)}}function Uh(e,t,i,n,s){return{type:"property-value-processor",property:e,adjust:cx({normaliseTo:t,rangeMin:n,rangeMax:s,zeroDomain:i},E1e)}}var sI=1,rI=2,QG=(e,t,i,n)=>{var o,a;let s=sI|rI;if(t.valueType==="category")return i.length!==e&&(s&=-2),s;let r=(o=n[0])==null?void 0:o.valueOf();for(let l=1;s!==0&&l<n.length;l++){const u=(a=n[l])==null?void 0:a.valueOf();(!Number.isFinite(u)||r>u)&&(s&=-3),Number.isFinite(u)&&r===u&&(s&=-2),r=u}return s};function em(e){return{type:"processor",property:"animationValidation",calculate(t){const{keys:i,values:n}=t.defs,{input:{count:s},domain:{keys:r,values:o},keys:a,columns:l}=t;let u=sI|rI;if(s!==0){for(let d=0;u!==0&&d<i.length;d++)for(const p of i[d].scopes)u&=QG(s,i[d],r[d],a[d].get(p));for(let d=0;u!==0&&d<n.length;d++){const p=n[d];e!=null&&e.includes(p.id)&&(u&=QG(s,p,o[d],l[d]))}}return{uniqueKeys:(u&sI)!==0,orderedKeys:(u&rI)!==0}}}}function T1e({mode:e,separateNegative:t}){return()=>()=>(i,n,s)=>{const r=[0,0];for(const o of n)for(const a of s.datumIndices[o]??[]){const l=i[o],u=l[a],d=sk(u)&&t?0:1;Qt(u)&&(e==="normal"&&(r[d]+=u),l[a]=r[d],e==="trailing"&&(r[d]+=u))}}}function A1e({mode:e,sum:t}){return()=>{const i=[];let n=!0;return()=>(s,r,o)=>{let a=0;for(const l of r){const u=s[l];for(const d of o.datumIndices[l]??[]){const p=u[d],f=n&&t==="current"?0:i[l];i[l]=p;const m=t==="current"?p:f;if(!Qt(p)||!Qt(f)){u[d]=a;continue}e==="normal"&&(a+=m),u[d]=a,e==="trailing"&&(a+=m)}}n=!1}}}function n$(e,t,i,n=!1){let s;if(t.startsWith("window")){const r=t.endsWith("-trailing")?"trailing":"normal";s=cx({mode:r,sum:i},A1e)}else s=cx({mode:t,separateNegative:n},T1e);return{type:"group-value-processor",matchGroupIds:[e],adjust:s}}function I1e(){return()=>(e,t,i)=>{const n=new Float64Array(t.length);let s=0;for(const r of t){const o=e[r];for(const a of i.datumIndices[r]??[]){const l=o[a];n[s]=Number.isFinite(l)?l:NaN,s+=1,o[a]=n.subarray(0,s)}}}}function s$(e){return{type:"group-value-processor",matchGroupIds:[e],adjust:I1e}}function JG(e){return e.id??e.property}function L1e(e,t,i){var a,l;const n=new Map,s=t.defs.values;for(let u=0;u<s.length;u+=1){const d=s[u];if(((a=d.scopes)==null?void 0:a.includes(e))===!1)continue;const p=JG(d);if(n.has(p))return;n.set(p,u)}const r=[],o=i.defs.values;for(let u=0;u<o.length;u+=1){const d=o[u];if(((l=d.scopes)==null?void 0:l.includes(e))===!1)continue;const p=JG(d),f=n.get(p);if(f==null)return;n.delete(p),r.push({previousIndex:f,nextIndex:u})}if(n.size===0)return r}function z1(e,t,i,n,s){for(const{previousIndex:r,nextIndex:o}of i){const a=e[r],l=t[o],u=a[n],d=l[s];if(u!==d)return!1}return!0}function tm(e,t,i=!0){return{type:"processor",property:"diff",calculate(n,s){const r=new Map,o=new Map,a=new Map,l=new Map,u=t.keys,d=n.keys,p=t.columns,f=n.columns,m=L1e(e,t,n);if(m==null)return s;const y=Math.max(t.input.count,n.input.count);for(let b=0;b<y;b++){const S=b<t.input.count,M=b<n.input.count,D=S?sx(u,e,b):void 0,R=D!=null?ys(D):"",A=M?sx(d,e,b):void 0,k=A!=null?ys(A):"";if(M&&S&&R===k){z1(p,f,m,b,b)||a.set(k,b);continue}const F=l.get(k);F!=null?((i||!z1(p,f,m,F,b))&&(a.set(k,b),r.set(k,b)),l.delete(k)):M&&o.set(k,b);const P=o.get(R);P!=null?((i||!z1(p,f,m,P,b))&&(a.set(R,b),r.set(R,b)),o.delete(R)):S&&(a.delete(R),l.set(R,b))}const w={changed:o.size>0||a.size>0||l.size>0,added:new Set(o.keys()),updated:new Set(a.keys()),removed:new Set(l.keys()),moved:new Set(r.keys())};return{...s,[e]:w}}}}function ys(e,...t){let i;return xt(e)?i=e.map(s=>ZA(s)).join("___"):i=ZA(e),(typeof i=="string"||typeof i=="number"||typeof i=="boolean"||i instanceof Date)&&t.length>0&&(i+=`___${t.join("___")}`),i}var k1e=class{constructor(){this.top=1/0,this.right=-1/0,this.bottom=-1/0,this.left=1/0}update(e,t){e>this.right&&(this.right=e),e<this.left&&(this.left=e),t>this.bottom&&(this.bottom=t),t<this.top&&(this.top=t)}},P1e=class r${constructor(t="",i,n){this.label=t,this.parent=i,this.refId=n,this.x=0,this.y=0,this.subtreeLeft=NaN,this.subtreeRight=NaN,this.children=[],this.leafCount=0,this.prelim=0,this.mod=0,this.ancestor=this,this.change=0,this.shift=0,this.index=0,this.screenX=0,this.depth=i?i.depth+1:0}insertTick(t,i){let n=this;for(let s=0;s<t.length;s++){const r=t[s],o=s!==t.length-1,{children:a}=n,l=a.find(u=>u.label===r);if(l&&o)n=l;else{const u=new r$(r,n,i);u.index=a.length,a.push(u),o&&(n=u)}}}getLeftSibling(){var t;return this.index>0?(t=this.parent)==null?void 0:t.children[this.index-1]:void 0}getLeftmostSibling(){var t;return this.index>0?(t=this.parent)==null?void 0:t.children[0]:void 0}nextLeft(){return this.children[0]}nextRight(){return this.children.at(-1)}getSiblings(){var t;return((t=this.parent)==null?void 0:t.children.filter((i,n)=>n!==this.index))??[]}};function F1e(e){const t=e.reduce((n,s)=>n<s.length?s.length:n,0),i=new P1e;for(let n=0;n<e.length;n++){const s=e[n];for(;s.length<t;)s.push("");i.insertTick(s,n)}return i}function O1e(e,t,i){const n=t.index-e.index,s=i/n;t.change-=s,t.shift+=i,e.change+=s,t.prelim+=i,t.mod+=i}function N1e(e,t,i){return t.getSiblings().indexOf(e.ancestor)>=0?e.ancestor:i}function B1e({children:e}){let t=0,i=0;for(let n=e.length-1;n>=0;n--){const s=e[n];s.prelim+=t,s.mod+=t,i+=s.change,t+=s.shift+i}}function z1e(e,t){const i=e.getLeftSibling();if(i){let n=e,s=e,r=i,o=s.getLeftmostSibling(),a=s.mod,l=n.mod,u=r.mod,d=o.mod;for(;r.nextRight()&&s.nextLeft();){r=r.nextRight(),s=s.nextLeft(),o=o.nextLeft(),n=n.nextRight(),n.ancestor=e;const p=r.prelim+u-(s.prelim+a)+1;p>0&&(O1e(N1e(r,e,t),e,p),a+=p,l+=p),u+=r.mod,a+=s.mod,d+=o.mod,l+=n.mod}r.nextRight()&&!n.nextRight()?n.mod+=u-l:(s.nextLeft()&&!o.nextLeft()&&(o.mod+=a-d),t=e)}return t}function o$(e){const{children:t}=e;if(t.length){let[i]=t;for(const r of t)o$(r),i=z1e(r,i);B1e(e);const n=(t[0].prelim+t.at(-1).prelim)/2,s=e.getLeftSibling();s?(e.prelim=s.prelim+1,e.mod=e.prelim-n):e.prelim=n}else{const i=e.getLeftSibling();e.prelim=i?i.prelim+1:0}}function a$(e,t,i){e.x=e.prelim+t,e.y=e.depth,i.insertNode(e);for(const n of e.children)a$(n,t+e.mod,i)}function l$(e){const{children:t}=e;let i=0;for(const n of t)l$(n),n.children.length?i+=n.leafCount:i++;e.leafCount=i,t.length?(e.subtreeLeft=t[0].subtreeLeft,e.subtreeRight=t[t.length-1].subtreeRight,e.x=(e.subtreeLeft+e.subtreeRight)/2):(e.subtreeLeft=e.x,e.subtreeRight=e.x)}function G1e(e){const t=new H1e,i=F1e(e);return o$(i),a$(i,-i.prelim,t),l$(i),t}var H1e=class{constructor(){this.dimensions=new k1e,this.nodes=[],this.depth=0}insertNode(e){this.depth<e.depth&&(this.depth=e.depth),this.dimensions.update(e.x,e.y),this.nodes.push(e)}scalingX(e,t){let i=1;if(e>0){const{left:n,right:s}=this.dimensions;i=e/(s-n)}return t&&(i*=-1),i}},Yc=class extends gt{constructor(){super(...arguments),this.enabled=!0}};I([O()],Yc.prototype,"enabled",2);I([O()],Yc.prototype,"avoidCollisions",2);I([O()],Yc.prototype,"color",2);I([O()],Yc.prototype,"spacing",2);I([O()],Yc.prototype,"fontStyle",2);I([O()],Yc.prototype,"fontWeight",2);I([O(oo.restrict({min:1}))],Yc.prototype,"fontSize",2);I([O()],Yc.prototype,"fontFamily",2);var HM=class extends gt{constructor(){super(...arguments),this.enabled=!0}};I([O()],HM.prototype,"enabled",2);I([O()],HM.prototype,"width",2);I([O()],HM.prototype,"stroke",2);var uP=class extends gt{constructor(){super(...arguments),this.label=new Yc,this.tick=new HM}};I([O()],uP.prototype,"label",2);I([O()],uP.prototype,"tick",2);var Rp=class extends Dp{constructor(e){super(e,new XG),this.tickScale=new XG,this.depthOptions=new $C(uP),this.includeInvisibleDomains=!0,this.tickScale.paddingInner=1,this.tickScale.paddingOuter=0}resizeTickTree(){if(!this.tickTreeLayout)return;const{nodes:e}=this.tickTreeLayout,{range:t,step:i,inset:n,bandwidth:s}=this.scale,r=Math.abs(t[1]-t[0])-i,o=this.tickTreeLayout.scalingX(r,t[0]>t[1]),a=n+s/2;let l=0;for(const u of e){const d=u.x*o;l>d&&(l=d),u.screenX=d+a}for(const u of e)u.screenX-=l}getDepthOptionsMap(e){var s,r,o,a;const t=[],{depthOptions:i,label:n}=this;for(let l=0;l<e;l++)t.push(((s=i[l])==null?void 0:s.label.enabled)??n.enabled?{enabled:!0,spacing:((r=i[l])==null?void 0:r.label.spacing)??n.spacing,lineHeight:Ui.getLineHeight(((o=i[l])==null?void 0:o.label.fontSize)??n.fontSize??10),avoidCollisions:((a=i[l])==null?void 0:a.label.avoidCollisions)??n.avoidCollisions}:{enabled:!1,spacing:0,lineHeight:0,avoidCollisions:!1});return t}updateCategoryLabels(){this.computedLayout&&this.tickLabelGroupSelection.update(this.computedLayout.tickLabelLayout).each((e,t)=>e.setProperties(t))}updateAxisLine(){this.computedLayout&&(this.lineNode.visible=this.line.enabled,this.lineNode.stroke=this.line.stroke,this.lineNode.strokeWidth=this.line.width)}computeLayout(){var K;if(this.updateDirection(),this.updateScale(),this.resizeTickTree(),!((K=this.tickTreeLayout)!=null&&K.depth))return{bbox:Ue.zero,separatorLayout:[],tickLabelLayout:[]};const{step:e}=this.scale,{title:t,label:i,range:n,depthOptions:s}=this,{depth:r,nodes:o}=this.tickTreeLayout,a=Math.ceil(i.fontSize/e),l=Ki(this.rotation),u=this.position==="top"||this.position==="bottom",d=i.getSideFlag(),p=[],f=new Map,m=new Ag,{defaultRotation:y,configuredRotation:C}=rx({rotation:i.rotation,parallel:i.parallel,regularFlipRotation:Li(l-Math.PI/2),parallelFlipRotation:Li(l)}),w=y+C,b=this.getDepthOptionsMap(r),S=(j,Z)=>{var U,te;const W=r-j.depth;if(!((U=b[W])!=null&&U.enabled)||Z%a!==0||!cSe(j.screenX,n))return!1;const Y=this.formatTick(j.label,Z-1,this.scale.domain),G=this.getLabelStyles({value:Y,depth:W},(te=s[W])==null?void 0:te.label);return m.setProperties({...G,text:Y,textAlign:"center",textBaseline:i.parallel?"hanging":"bottom",rotation:0,translationX:0,translationY:j.screenX}),!0};let M=0;const D={};o.forEach((j,Z)=>{const W=r-j.depth,Y=Nwe(j.label);if(D[W]??(D[W]=1),D[W]<Y&&(D[W]=Y),!(!S(j,Z)||!m.getBBox())&&(f.set(Z,m.getBBox()),!j.leafCount)){m.rotation=w;const{width:U}=m.getBBox();M<U&&(M=U)}});const R=Qk(),A=d*b[0].spacing,k=new Map,F=j=>{let Z=M;for(let W=1;W<=j;W++)Z+=b[W].spacing,(i.mirrored||W!==j)&&(Z+=D[W]*b[W].lineHeight);return Z};o.forEach((j,Z)=>{var te;if(Z===0)return;const W=S(j,Z),Y=!j.children.length,G=r-j.depth;if(j.parent){const ee=Y?j.x:j.x-(j.leafCount-1)/2;if(!k.has(ee)){const Q=(te=this.depthOptions[G])==null?void 0:te.tick;let ue=M;for(let de=0;de<=G;de++)ue+=b[de].spacing,de!==0&&(ue+=D[de]*b[de].lineHeight);k.set(ee,{tickSize:ue,tickStroke:Q==null?void 0:Q.stroke,tickWidth:(Q==null?void 0:Q.enabled)!==!1?Q==null?void 0:Q.width:0})}}if(!W)return;if(m.x=A,m.y=0,Y){const{width:ee}=f.get(Z),Q=LW(w);m.rotation=w,m.textAlign="end",m.textBaseline="middle",m.rotationCenterX=A-ee/2,m.translationX=(b[G].spacing-ee)/2*Q*d,i.mirrored&&(m.translationX+=ee)}else m.rotation=u?y:-Math.PI/2,m.rotationCenterX=A,m.translationX=d*F(G);if(b[G].avoidCollisions){const ee=Y?e:j.leafCount*e;if(m.getBBox().height>ee){f.delete(Z);return}}const{text:U=""}=m;p.push({text:U,visible:!0,range:this.scale.range,tickId:R(U),fill:m.fill,fontFamily:m.fontFamily,fontSize:m.fontSize,fontStyle:m.fontStyle,fontWeight:m.fontWeight,rotation:m.rotation,rotationCenterX:m.rotationCenterX,textAlign:m.textAlign,textBaseline:m.textBaseline,translationX:m.translationX,translationY:m.translationY,x:m.x,y:m.y}),f.set(Z,mn.toCanvas(m))});const{enabled:P,stroke:L,width:z}=this.line;this.lineNode.datum={x:0,y1:n[0],y2:n[1]},this.lineNode.setProperties({stroke:L,strokeWidth:P?z:0});const H=[...k.values()];H.push(H[0]);const V=[this.lineNode.getBBox(),new Ue(0,0,H[0].tickSize*d,0)];t.enabled&&(this.updateTitle(this.scale.domain,!1,H[0].tickSize),V.push(t.caption.node.getBBox()));const q=Ue.merge(Sh(f.values(),V));return{bbox:this.getTransformBox(q),separatorLayout:H,tickLabelLayout:p}}update(){if(!this.computedLayout)return;this.moduleCtx.animationManager.skipCurrentBatch();const{tickScale:e,gridLine:t,gridLength:i}=this,{separatorLayout:n}=this.computedLayout,s=e.ticks({nice:!1,interval:void 0,tickCount:void 0,minTickCount:0,maxTickCount:1/0}).map((r,o)=>({...n[o],tick:r,tickId:ys(r,o),tickLabel:r.filter(Boolean).join(" - "),translationY:Math.round(e.convert(r))}));this.gridLineGroupSelection.update(t.enabled&&i?s:[]),this.tickLineGroupSelection.update(this.tick.enabled?s:[]),this.updatePosition(),this.updateCategoryLabels(),this.updateAxisLine(),this.updateGridLines(),this.updateTickLines(),this.updateTitle(this.scale.domain),this.resetSelectionNodes()}calculateLayout(){const{separatorLayout:e,tickLabelLayout:t,bbox:i}=this.computeLayout();return this.computedLayout={separatorLayout:e,tickLabelLayout:t},{bbox:i,niceDomain:this.scale.domain}}onGridVisibilityChange(){this.gridLineGroupSelection.clear(),this.tickLabelGroupSelection.clear()}updateScale(){super.updateScale(),this.tickScale.range=this.scale.range,this.scale.paddingOuter=this.scale.paddingInner/2}processData(){const{direction:e}=this,t=this.boundSeries.filter(s=>s.visible).flatMap(s=>s.getDomain(e));this.dataDomain={domain:$c(t)??this.filterDuplicateArrays(t),clipped:!1},this.isReversed()&&this.dataDomain.domain.reverse();const i=this.dataDomain.domain.map(s=>jS(In(s)&&"value"in s?s.value:s));this.tickTreeLayout=G1e(i);const n=[];for(const s of this.tickTreeLayout.nodes)s.leafCount||s.refId==null||n.push(this.dataDomain.domain[s.refId]);this.scale.domain=rSe(this.dataDomain.domain,n),this.tickScale.domain=i.concat([[""]])}updateGridLines(){if(!this.gridLength)return;const{width:e,style:t}=this.gridLine,i=this.gridLength*-this.label.getSideFlag();this.gridLineGroupSelection.each((n,s,r)=>{const{stroke:o,lineDash:a}=t[r%t.length],l=s.translationY;n.visible=this.inRange(l),n.x1=0,n.x2=i,n.y=l,n.stroke=o,n.strokeWidth=e,n.lineDash=a})}filterDuplicateArrays(e){const t=new Set;return e.filter(i=>{const n=xt(i)?JSON.stringify(i):i;return t.has(n)?!1:(t.add(n),!0)})}};Rp.className="GroupedCategoryAxis";Rp.type="grouped-category";I([O()],Rp.prototype,"depthOptions",2);var _1e={2:(e,t)=>Math.log2(t),[Math.E]:(e,t)=>Math.log(t),10:(e,t)=>Math.log10(t)},j1e=(e,t)=>Math.log(t)/Math.log(e);function G1(e,t,i){const n=Math.min(...t),s=_1e[e]??j1e;return n>=0?s(e,i):-s(e,-i)}var V1e={[Math.E]:(e,t)=>Math.exp(t),10:(e,t)=>t>=0?10**t:1/10**-t},W1e=(e,t)=>e**t;function H1(e,t,i){const n=Math.min(...t),s=V1e[e]??W1e;return n>=0?s(e,i):-s(e,-i)}var dP=class extends mi{constructor(e=[1,10],t=[0,1]){super(e,t),this.type="log",this.defaultClamp=!0,this.base=10,this.log=i=>G1(this.base,this.domain,i),this.pow=i=>H1(this.base,this.domain,i)}toDomain(e){return e}transform(e){const[t,i]=zn(this.domain);return t>=0!=i>=0?NaN:t>=0?Math.log(e):-Math.log(-e)}transformInvert(e){const[t,i]=zn(this.domain);return t>=0!=i>=0?NaN:t>=0?Math.exp(e):-Math.exp(-e)}niceDomain(e,t=this.domain){if(t.length<2)return[];const{base:i}=this,[n,s]=t,r=n>s?Math.ceil:Math.floor,o=n>s?Math.floor:Math.ceil,a=H1(i,t,r(G1(i,t,n))),l=H1(i,t,o(G1(i,t,s)));return[a,l]}ticks({interval:e,tickCount:t=mi.defaultTickCount},i=this.domain,n){if(!i||i.length<2||t<1)return[];const s=this.base,[r,o]=i,a=Math.min(r,o),l=Math.max(r,o);let u=this.log(a),d=this.log(l);if(e){const C=S=>S>=a&&S<=l,w=Math.min(Math.abs(e),Math.abs(d-u)),b=tC(u,d,w).map(this.pow).filter(C);if(!Fg(b.length,this.getPixelRange()))return b}if(!uSe(s)||d-u>=t)return Hk(u,d,Math.min(d-u,t)).map(this.pow);let p=[];const f=a>0;u=Math.floor(u)-1,d=Math.round(d)+1;const m=kg(this.range)/t;let y=1/0;for(let C=u;C<=d;C++){const w=this.convert(this.pow(C+1));for(let b=1;b<s;b++){const S=f?b:s-b+1,M=this.pow(C)*S,D=this.convert(M),R=Math.abs(y-D),A=Math.abs(D-w),k=R>=m&&A>=m;M>=a&&M<=l&&(b===1||k||p.length===0)&&(p.push(M),y=D)}}return p=$6(p,f,n),p}tickFormatter({specifier:e}){return e!=null?bW(e):String}datumFormatter(e){return this.tickFormatter(e)}},Ra=class c$ extends mi{constructor(){super([0,1],[0,1]),this.type="number"}static getTickStep(t,i,n){const{interval:s,tickCount:r=mi.defaultTickCount,minTickCount:o,maxTickCount:a}=n;return s??eC(t,i,r,o,a)}toDomain(t){return t}ticks({interval:t,tickCount:i=mi.defaultTickCount,minTickCount:n,maxTickCount:s},r=this.domain,o){if(!r||r.length<2||i<1||!r.every(isFinite))return[];const[a,l]=r;if(t){const u=Math.abs(t);if(!Fg((l-a)/u,this.getPixelRange()))return tC(a,l,u)}return Hk(a,l,i,n,s,o)}niceDomain(t,i=this.domain){if(i.length<2)return[];const{tickCount:n=mi.defaultTickCount}=t;let[s,r]=i;if(n===1)[s,r]=uRe(s,r);else if(n>1){const o=s>r?Math.ceil:Math.floor,a=s>r?Math.floor:Math.ceil,l=4;for(let u=0;u<l;u++){const d=s,p=r,f=c$.getTickStep(s,r,t),[m,y]=i;if(s=o(m/f)*f,r=a(y/f)*f,s===d&&r===p)break}}return[s,r]}tickFormatter({ticks:t,fractionDigits:i,specifier:n}){return n!=null?xG(t,n):s=>Oc(s,i)}datumFormatter({ticks:t,fractionDigits:i,specifier:n}){return n!=null?xG(t,n):s=>Oc(s,i+1)}},Kc=class extends JC{constructor(e,t=new Ra){super(e,t)}normaliseDataDomain(e){const{min:t,max:i}=this,{extent:n,clipped:s}=lP(e,t,i);return{domain:n,clipped:s}}};Kc.className="NumberAxis";Kc.type="number";I([O(md(hk,CM("max")))],Kc.prototype,"min",2);I([O(md(hk,bM("min")))],Kc.prototype,"max",2);var im=class extends Kc{normaliseDataDomain(e){const{min:t,max:i}=this,{extent:n,clipped:s}=lP(e,t,i);return n[0]<0&&n[1]>0||e[0]<0&&e[1]>0?(De.warn("The log axis domain crosses zero, the chart data cannot be rendered. See log axis documentation for more information."),{domain:[],clipped:s}):n[0]===0||n[1]===0||e[0]===0||e[1]===0?(De.warn("The log axis domain contains a value of 0, the chart data cannot be rendered. See log axis documentation for more information."),{domain:[],clipped:s}):{domain:n,clipped:s}}set base(e){this.scale.base=e}get base(){return this.scale.base}constructor(e){super(e,new dP)}defaultDatumFormatter(e,t){return String(e)}defaultLabelFormatter(e,t){return String(e)}};im.className="LogAxis";im.type="log";var bd=class extends JC{constructor(e){super(e,new X6),this.min=void 0,this.max=void 0}normaliseDataDomain(e){var s;let{min:t,max:i}=this,n=!1;return typeof t=="number"&&(t=new Date(t)),typeof i=="number"&&(i=new Date(i)),e.length>2&&(e=((s=$c(e))==null?void 0:s.map(r=>new Date(r)))??[]),t instanceof Date&&(n||(n=t>e[0]),e=[t,e[1]]),i instanceof Date&&(n||(n=i<e[1]),e=[e[0],i]),e[0]>e[1]&&(e=[]),{domain:e,clipped:n}}};bd.className="TimeAxis";bd.type="time";I([O(md(gk,CM("max")))],bd.prototype,"min",2);I([O(md(gk,bM("min")))],bd.prototype,"max",2);var Yy=(e,{x0:t,y0:i,x1:n,y1:s,cx:r,cy:o},a,l)=>{if(l&&e.moveTo(t,i),t!==n||i!==s){const u=Math.atan2(i-o,t-r),d=Math.atan2(s-o,n-r);e.arc(r,o,a,u,d)}else e.lineTo(t,i)},e4=1e-6,lw=(e,t,i,n,s)=>{let r=!1,o=!1,a=n-Math.sqrt(Math.max(s**2-i**2,0)),l=0,u=0,d=i-Math.sqrt(Math.max(s**2-n**2,0));return a>e?(r=!0,a=e,l=i-Math.sqrt(Math.max(s**2-(n-e)**2))):a<e4&&(a=0),d>t?(o=!0,u=n-Math.sqrt(Math.max(s**2-(i-t)**2)),d=t):d<e4&&(d=0),{leading0:a,leading1:l,trailing0:u,trailing1:d,leadingClipped:r,trailingClipped:o}},Kw=(e,t,i,n,s,r,o)=>{let{topLeft:a,topRight:l,bottomRight:u,bottomLeft:d}=r;const p=Math.max(a+d,l+u),f=Math.max(a+l,d+u);if(p<=0&&f<=0){o==null?e.rect(t,i,n,s):e.rect(o.x,o.y,o.width,o.height);return}else if(o==null&&a===l&&a===u&&a===d){e.roundRect(t,i,n,s,a);return}if(n<0&&(t+=n,n=Math.abs(n)),s<0&&(i+=s,s=Math.abs(s)),n<=0||s<=0)return;if(o==null)o=new Ue(t,i,n,s);else{const k=Math.max(t,o.x),F=Math.min(t+n,o.x+o.width),P=Math.max(i,o.y),L=Math.min(i+s,o.y+o.height);o=new Ue(k,P,F-k,L-P)}const m=Math.max(p/s,f/n,1);m>1&&(a/=m,l/=m,u/=m,d/=m);let y=!0,C=!0,w=!0,b=!0,S,M,D,R;if(y){const k=lw(o.height,o.width,Math.max(t+a-o.x,0),Math.max(i+a-o.y,0),a);k.leadingClipped&&(b=!1),k.trailingClipped&&(C=!1);const F=Math.max(o.x+k.leading1,o.x),P=Math.max(o.y+k.leading0,o.y),L=Math.max(o.x+k.trailing1,o.x),z=Math.max(o.y+k.trailing0,o.y),H=t+a,V=i+a;S={x0:F,y0:P,x1:L,y1:z,cx:H,cy:V}}if(C){const k=lw(o.width,o.height,Math.max(i+l-o.y,0),Math.max(o.x+o.width-(t+n-l),0),l);k.leadingClipped&&(y=!1),k.trailingClipped&&(w=!1);const F=Math.min(o.x+o.width-k.leading0,o.x+o.width),P=Math.max(o.y+k.leading1,o.y),L=Math.min(o.x+o.width-k.trailing0,o.x+o.width),z=Math.max(o.y+k.trailing1,o.y),H=t+n-l,V=i+l;M={x0:F,y0:P,x1:L,y1:z,cx:H,cy:V}}if(w){const k=lw(o.height,o.width,Math.max(o.x+o.width-(t+n-u),0),Math.max(o.y+o.height-(i+s-u),0),u);k.leadingClipped&&(C=!1),k.trailingClipped&&(b=!1);const F=Math.min(o.x+o.width-k.leading1,o.x+o.width),P=Math.min(o.y+o.height-k.leading0,o.y+o.height),L=Math.min(o.x+o.width-k.trailing1,o.x+o.width),z=Math.min(o.y+o.height-k.trailing0,o.y+o.height),H=t+n-u,V=i+s-u;D={x0:F,y0:P,x1:L,y1:z,cx:H,cy:V}}if(b){const k=lw(o.width,o.height,Math.max(o.y+o.height-(i+s-d),0),Math.max(t+d-o.x,0),d);k.leadingClipped&&(w=!1),k.trailingClipped&&(y=!1);const F=Math.max(o.x+k.leading0,o.x),P=Math.min(o.y+o.height-k.leading1,o.y+o.height),L=Math.max(o.x+k.trailing0,o.x),z=Math.min(o.y+o.height-k.trailing1,o.y+o.height),H=t+d,V=i+s-d;R={x0:F,y0:P,x1:L,y1:z,cx:H,cy:V}}let A=!1;y&&S!=null&&(Yy(e,S,a,!A),A||(A=!0)),C&&M!=null&&(Yy(e,M,l,!A),A||(A=!0)),w&&D!=null&&(Yy(e,D,u,!A),A||(A=!0)),b&&R!=null&&Yy(e,R,d,!A),e.closePath()},er=class extends yr{constructor(){super(...arguments),this.borderPath=new Tg,this.x=0,this.y=0,this.width=10,this.height=10,this.topLeftCornerRadius=0,this.topRightCornerRadius=0,this.bottomRightCornerRadius=0,this.bottomLeftCornerRadius=0,this.clipBBox=void 0,this.crisp=!1,this.lastUpdatePathStrokeWidth=ea.defaultStyles.strokeWidth,this.effectiveStrokeWidth=ea.defaultStyles.strokeWidth,this.hittester=super.isPointInPath.bind(this),this.distanceCalculator=super.distanceSquaredTransformedPoint.bind(this),this.microPixelEffectOpacity=1}set cornerRadius(e){this.topLeftCornerRadius=e,this.topRightCornerRadius=e,this.bottomRightCornerRadius=e,this.bottomLeftCornerRadius=e}isDirtyPath(){return this.lastUpdatePathStrokeWidth!==this.strokeWidth||!!(this.path.isDirty()||this.borderPath.isDirty())}updatePath(){var w;const{path:e,borderPath:t,crisp:i,topLeftCornerRadius:n,topRightCornerRadius:s,bottomRightCornerRadius:r,bottomLeftCornerRadius:o}=this;let{x:a,y:l,width:u,height:d,strokeWidth:p,clipBBox:f}=this;const y=1/(((w=this.layerManager)==null?void 0:w.canvas.pixelRatio)??1);let C=1;if(e.clear(!0),t.clear(!0),i&&(u<=y&&(C*=u/y),d<=y&&(C*=d/y),u=this.align(a,u),d=this.align(l,d),a=this.align(a),l=this.align(l),f=f!=null?new Ue(this.align(f.x),this.align(f.y),this.align(f.x,f.width),this.align(f.y,f.height)):void 0),p)if(u<y){const b=a+y/2;t.moveTo(b,l),t.lineTo(b,l+d),p=y,this.borderClipPath=void 0}else if(d<y){const b=l+y/2;t.moveTo(a,b),t.lineTo(a+u,b),p=y,this.borderClipPath=void 0}else if(p<u&&p<d){const b=p/2;a+=b,l+=b,u-=p,d-=p;const S=f==null?void 0:f.clone().shrink(b),M={topLeft:n>0?n-p:0,topRight:s>0?s-p:0,bottomRight:r>0?r-p:0,bottomLeft:o>0?o-p:0};this.borderClipPath=void 0,u>0&&d>0&&(S==null||(S==null?void 0:S.width)>0&&(S==null?void 0:S.height)>0)&&(Kw(e,a,l,u,d,M,S),Kw(t,a,l,u,d,M,S))}else this.borderClipPath=this.borderClipPath??new Tg,this.borderClipPath.clear(!0),this.borderClipPath.rect(a,l,u,d),t.rect(a,l,u,d);else{const b={topLeft:n,topRight:s,bottomRight:r,bottomLeft:o};this.borderClipPath=void 0,Kw(e,a,l,u,d,b,f)}if([n,s,r,o].every(b=>b===0)){const b=this.getBBox();this.hittester=b.containsPoint.bind(b),this.distanceSquared=(S,M)=>this.getBBox().distanceSquared(S,M)}else this.hittester=super.isPointInPath,this.distanceCalculator=super.distanceSquaredTransformedPoint;this.effectiveStrokeWidth=p,this.lastUpdatePathStrokeWidth=p,this.microPixelEffectOpacity=C}computeBBox(){const{x:e,y:t,width:i,height:n,clipBBox:s}=this;return(s==null?void 0:s.clone())??new Ue(e,t,i,n)}isPointInPath(e,t){return this.hittester(e,t)}get midPoint(){return{x:this.x+this.width/2,y:this.y+this.height/2}}distanceSquared(e,t){return this.distanceCalculator(e,t)}applyFillAlpha(e){const{fillOpacity:t,microPixelEffectOpacity:i,opacity:n}=this;e.globalAlpha*=n*t*i}renderStroke(e){const{stroke:t,effectiveStrokeWidth:i}=this;if(t&&i){const{globalAlpha:n}=e,{strokeOpacity:s,lineDash:r,lineDashOffset:o,lineCap:a,lineJoin:l,borderPath:u,borderClipPath:d,opacity:p,microPixelEffectOpacity:f}=this;d&&e.clip(d.getPath2D()),this.applyStroke(e),e.globalAlpha*=p*s*f,e.lineWidth=i,r&&e.setLineDash(r),o&&(e.lineDashOffset=o),a&&(e.lineCap=a),l&&(e.lineJoin=l),e.stroke(u.getPath2D()),e.globalAlpha=n}}};er.className="Rect";I([mt()],er.prototype,"x",2);I([mt()],er.prototype,"y",2);I([mt()],er.prototype,"width",2);I([mt()],er.prototype,"height",2);I([mt()],er.prototype,"topLeftCornerRadius",2);I([mt()],er.prototype,"topRightCornerRadius",2);I([mt()],er.prototype,"bottomRightCornerRadius",2);I([mt()],er.prototype,"bottomLeftCornerRadius",2);I([mt()],er.prototype,"clipBBox",2);I([mt()],er.prototype,"crisp",2);var nm=class extends uM{constructor(e){super(),this.ctx=e,this.rectNode=new er,this.textNode=new is,this.fill="white",this.node=this.createNode(),this.node.append([this.rectNode,this.textNode]),this.visible=!0,this.destroyFns.push(e.scene.attachNode(this.node),e.layoutManager.addListener("layout:complete",t=>this.onLayoutComplete(t)))}createNode(){return new dt({name:"background",zIndex:0})}onLayoutComplete(e){const{width:t,height:i}=e.chart;this.rectNode.width=t,this.rectNode.height=i}};I([O(),vs("node","visible")],nm.prototype,"visible",2);I([O(),vs("rectNode","fill")],nm.prototype,"fill",2);I([O()],nm.prototype,"image",2);I([O(),vs("textNode")],nm.prototype,"text",2);var u$={type:"root",optionsKey:"background",packageType:"community",chartTypes:["cartesian","polar","hierarchy","topology","flow-proportion","standalone","gauge"],moduleFactory:e=>new nm(e)};function U1e({orientation:e,bboxes:t,maxHeight:i,maxWidth:n,itemPaddingY:s=0,itemPaddingX:r=0,forceResult:o=!1}){const a=e==="horizontal",l={max:a?n:i,fn:a?f=>f.width:f=>f.height,padding:a?r:s},u={max:a?i:n,fn:a?f=>f.height:f=>f.width,padding:a?s:r};let d=0;const p=[];for(;d<t.length;){const f=t.slice(d),m=$1e(f,d,l,u,o);if(!m)return;d+=m.processedBBoxCount,p.push(m.pageIndices)}return K1e(p,e,t,s,r)}function $1e(e,t,i,n,s){let o=Z1e(e,i);if(o<1){if(!s)return;o=1}let a=o;for(;a>=1;){const l=Y1e(e,t,a,i,n,s);if(l==null&&a<=1)return;if(l==null){a--;continue}if(typeof l=="number"){if(l<=1)return;a=l<a&&l>1?l:a,a--;continue}return{processedBBoxCount:l.length*l[0].length,pageIndices:l}}}function Y1e(e,t,i,n,s,r){const o=[];let a=0,l=0,u=[];const d=[];for(let p=0;p<e.length;p++){const f=(p+i)%i;f===0&&(a+=l,l=0,u.length>0&&o.push(u),u=[]);const m=n.fn(e[p])+n.padding;d[f]=Math.max(d[f]??0,m),l=Math.max(l,s.fn(e[p])+s.padding);const y=a+l,C=!r||o.length>0;if(y>s.max&&C){u=[];break}if(d.reduce((b,S)=>b+S,0)>n.max&&!r)return d.length<i?d.length:void 0;u.push(p+t)}return u.length>0&&o.push(u),o.length>0?o:void 0}function K1e(e,t,i,n,s){let r=0,o=0;return{pages:e.map(l=>{t==="horizontal"&&(l=q1e(l));let u=0;const d=l.map(m=>{const y=m.map(b=>(u=Math.max(b,u),i[b]));let C=0,w=0;return y.forEach(b=>{C+=b.height+n,w=Math.max(w,b.width+s)}),{indices:m,bboxes:y,columnHeight:Math.ceil(C),columnWidth:Math.ceil(w)}});let p=0,f=0;return d.forEach(m=>{p+=m.columnWidth,f=Math.max(f,m.columnHeight)}),r=Math.max(p,r),o=Math.max(f,o),{columns:d,startIndex:l[0][0],endIndex:u,pageWidth:p,pageHeight:f}}),maxPageWidth:r,maxPageHeight:o}}function q1e(e){const t=[];for(const i of e[0])t.push([]);return e.forEach((i,n)=>{i.forEach((s,r)=>{t[r][n]=s})}),t}function Z1e(e,t){const i=e.length;let n=0;for(let s=0;s<i;s++)if(n+=t.fn(e[s])+t.padding,n>t.max)return i/s<2?Math.ceil(i/2):s;return i}var sm=class extends gt{constructor(){super(...arguments),this.color="black",this.fontStyle=void 0,this.fontWeight=void 0,this.fontSize=12,this.fontFamily="Verdana, sans-serif"}};I([O()],sm.prototype,"color",2);I([O()],sm.prototype,"fontStyle",2);I([O()],sm.prototype,"fontWeight",2);I([O()],sm.prototype,"fontSize",2);I([O()],sm.prototype,"fontFamily",2);var Ec=class extends gt{constructor(){super(...arguments),this.size=15,this.fill=void 0,this.fillOpacity=void 0,this.stroke=void 0,this.strokeWidth=1,this.strokeOpacity=1}};I([O()],Ec.prototype,"size",2);I([O()],Ec.prototype,"fill",2);I([O()],Ec.prototype,"fillOpacity",2);I([O()],Ec.prototype,"stroke",2);I([O()],Ec.prototype,"strokeWidth",2);I([O()],Ec.prototype,"strokeOpacity",2);var _M=class extends gt{constructor(e){super(),this.parent=e,this.shape="triangle",this.size=15,this.padding=8}};I([zr({changeValue(){this.parent.marker===this&&this.parent.onMarkerShapeChange()}})],_M.prototype,"shape",2);I([O()],_M.prototype,"size",2);I([O()],_M.prototype,"padding",2);var Ep=class extends gt{constructor(e,t){super(),this.chartUpdateCallback=e,this.pageUpdateCallback=t,this.id=ro(this),this.marker=new _M(this),this.activeStyle=new Ec,this.inactiveStyle=new Ec,this.highlightStyle=new Ec,this.label=new sm,this.group=new ur({name:"pagination"}),this.labelNode=new is,this.totalPages=0,this.currentPage=0,this.translationX=0,this.translationY=0,this.nextButtonDisabled=!1,this.previousButtonDisabled=!1,this._visible=!0,this._enabled=!0,this._orientation="vertical",this.nextButton=new ns,this.previousButton=new ns,this.labelNode.setProperties({textBaseline:"middle",fontSize:12,fontFamily:"Verdana, sans-serif",fill:"black",y:1}),this.group.append([this.nextButton,this.previousButton,this.labelNode]),this.update(),this.updateMarkers()}set visible(e){this._visible=e,this.updateGroupVisibility()}get visible(){return this._visible}set enabled(e){this._enabled=e,this.updateGroupVisibility()}get enabled(){return this._enabled}updateGroupVisibility(){this.group.visible=this.enabled&&this.visible}set orientation(e){switch(this._orientation=e,e){case"horizontal":{this.previousButton.rotation=-Math.PI/2,this.nextButton.rotation=Math.PI/2;break}case"vertical":default:this.previousButton.rotation=0,this.nextButton.rotation=Math.PI}}get orientation(){return this._orientation}update(){this.updateLabel(),this.updatePositions(),this.enableOrDisableButtons()}updatePositions(){this.group.translationX=this.translationX,this.group.translationY=this.translationY,this.updateLabelPosition(),this.updateNextButtonPosition()}updateLabelPosition(){const{size:e,padding:t}=this.marker;this.nextButton.size=e,this.previousButton.size=e,this.labelNode.x=e/2+t}updateNextButtonPosition(){const e=this.labelNode.getBBox();this.nextButton.translationX=e.width+(this.marker.size/2+this.marker.padding)*2}updateLabel(){const{currentPage:e,totalPages:t,labelNode:i,label:{color:n,fontStyle:s,fontWeight:r,fontSize:o,fontFamily:a}}=this;i.text=`${e+1} / ${t}`,i.fill=n,i.fontStyle=s,i.fontWeight=r,i.fontSize=o,i.fontFamily=a}updateMarkers(){const{nextButton:e,previousButton:t,nextButtonDisabled:i,previousButtonDisabled:n,activeStyle:s,inactiveStyle:r,highlightStyle:o,highlightActive:a}=this,l=(u,d)=>d?r:u===a?o:s;this.updateMarker(e,l("next",i)),this.updateMarker(t,l("previous",n))}updateMarker(e,t){const{shape:i,size:n}=this.marker;e.shape=i,e.size=n,e.fill=t.fill,e.fillOpacity=t.fillOpacity??1,e.stroke=t.stroke,e.strokeWidth=t.strokeWidth,e.strokeOpacity=t.strokeOpacity}enableOrDisableButtons(){const{currentPage:e,totalPages:t}=this,i=t===0,n=e===t-1,s=e===0;this.nextButtonDisabled=n||i,this.previousButtonDisabled=s||i}setPage(e){e=ft(0,e,Math.max(0,this.totalPages-1)),this.currentPage!==e&&(this.currentPage=e,this.onPaginationChanged())}getCursor(e){return{previous:this.previousButtonDisabled,next:this.nextButtonDisabled}[e]?void 0:"pointer"}onClick(e,t){e.preventDefault(),t==="next"&&!this.nextButtonDisabled?(this.incrementPage(),this.onPaginationChanged()):t==="previous"&&!this.previousButtonDisabled&&(this.decrementPage(),this.onPaginationChanged())}onMouseHover(e){this.highlightActive=e,this.updateMarkers(),this.chartUpdateCallback(6)}onPaginationChanged(){this.pageUpdateCallback(this.currentPage)}incrementPage(){this.currentPage=Math.min(this.currentPage+1,this.totalPages-1)}decrementPage(){this.currentPage=Math.max(this.currentPage-1,0)}onMarkerShapeChange(){this.updatePositions(),this.updateMarkers(),this.chartUpdateCallback(6)}attachPagination(e){e.append(this.group)}getBBox(){return this.group.getBBox()}computeCSSBounds(){const e=mn.toCanvas(this.previousButton),t=mn.toCanvas(this.nextButton);return{prev:e,next:t}}};Ep.className="Pagination";I([O()],Ep.prototype,"marker",2);I([O()],Ep.prototype,"activeStyle",2);I([O()],Ep.prototype,"inactiveStyle",2);I([O()],Ep.prototype,"highlightStyle",2);I([O()],Ep.prototype,"label",2);var hP=class extends gt{constructor(){super(...arguments),this._dirty=!0}markDirty(){this._dirty=!0}markClean(e){this._dirty=!1}isDirty(){return this._dirty}},X1e=new Set(["circle","cross","diamond","heart","pin","plus","square","star","triangle"]);function Q1e(e){return typeof e=="string"&&X1e.has(e)}var qc=class extends gt{constructor(){super(...arguments),this.fill="rgba(255,255,255, 0.33)",this.stroke="rgba(0, 0, 0, 0.4)",this.strokeWidth=2}};I([O()],qc.prototype,"fill",2);I([O()],qc.prototype,"fillOpacity",2);I([O()],qc.prototype,"stroke",2);I([O()],qc.prototype,"strokeWidth",2);I([O()],qc.prototype,"strokeOpacity",2);I([O()],qc.prototype,"lineDash",2);I([O()],qc.prototype,"lineDashOffset",2);var jM=class extends gt{};I([O()],jM.prototype,"strokeWidth",2);I([O()],jM.prototype,"dimOpacity",2);I([O()],jM.prototype,"enabled",2);var d$=class extends gt{constructor(){super(...arguments),this.color="black"}};I([O()],d$.prototype,"color",2);var pP=class extends gt{constructor(){super(...arguments),this.enabled=!0}};I([O()],pP.prototype,"enabled",2);var sa=class extends gt{constructor(){super(...arguments),this.type="gradient",this.colorStops=[],this.bounds="item",this.gradient="linear",this.rotation=0,this.reverse=!1}};I([O()],sa.prototype,"type",2);I([O()],sa.prototype,"colorStops",2);I([O()],sa.prototype,"bounds",2);I([O()],sa.prototype,"gradient",2);I([O()],sa.prototype,"rotation",2);I([O()],sa.prototype,"reverse",2);var vn=class extends gt{constructor(){super(...arguments),this.type="pattern",this.colorStops=[],this.bounds="item",this.gradient="linear",this.rotation=0,this.reverse=!1,this.pattern="forward-slanted-lines",this.width=26,this.height=26,this.padding=6,this.fill="black",this.fillOpacity=1,this.backgroundFill="white",this.backgroundFillOpacity=1,this.stroke="black",this.strokeOpacity=1,this.strokeWidth=0}};I([O()],vn.prototype,"type",2);I([O()],vn.prototype,"colorStops",2);I([O()],vn.prototype,"bounds",2);I([O()],vn.prototype,"gradient",2);I([O()],vn.prototype,"rotation",2);I([O()],vn.prototype,"reverse",2);I([O()],vn.prototype,"pattern",2);I([O()],vn.prototype,"width",2);I([O()],vn.prototype,"height",2);I([O()],vn.prototype,"padding",2);I([O()],vn.prototype,"fill",2);I([O()],vn.prototype,"fillOpacity",2);I([O()],vn.prototype,"backgroundFill",2);I([O()],vn.prototype,"backgroundFillOpacity",2);I([O()],vn.prototype,"stroke",2);I([O()],vn.prototype,"strokeOpacity",2);I([O()],vn.prototype,"strokeWidth",2);var nb=class extends gt{constructor(){super(...arguments),this.item=new qc,this.series=new jM,this.text=new d$}};I([O()],nb.prototype,"item",2);I([O()],nb.prototype,"series",2);I([O()],nb.prototype,"text",2);var ho=class extends gt{constructor(){super(...arguments),this.visible=!0,this.focusPriority=1/0,this.showInLegend=!0,this.cursor="default",this.nodeClickRange="exact",this.highlight=new pP,this.highlightStyle=new nb}handleUnknownProperties(e,t){"context"in t&&(this.context=t.context,e.delete("context"))}};I([O()],ho.prototype,"id",2);I([O()],ho.prototype,"visible",2);I([O()],ho.prototype,"focusPriority",2);I([O()],ho.prototype,"showInLegend",2);I([O()],ho.prototype,"cursor",2);I([O()],ho.prototype,"nodeClickRange",2);I([O()],ho.prototype,"highlight",2);I([O()],ho.prototype,"highlightStyle",2);var J1e=yi(e=>Q1e(e)||typeof e=="function","a marker shape keyword such as 'circle', 'diamond' or 'square' or an object extending the Marker class"),Cs=class extends hP{constructor(){super(...arguments),this.enabled=!0,this.shape="circle",this.size=6,this.fillGradientDefaults=new sa,this.fillPatternDefaults=new vn,this.fillOpacity=1,this.strokeWidth=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0}getStyle(){const{size:e,shape:t,fill:i,fillOpacity:n,stroke:s,strokeWidth:r,strokeOpacity:o,lineDash:a,lineDashOffset:l}=this;return{size:e,shape:t,fill:i,fillOpacity:n,stroke:s,strokeWidth:r,strokeOpacity:o,lineDash:a,lineDashOffset:l}}getDiameter(){return this.size+this.strokeWidth}};I([O(),$e()],Cs.prototype,"enabled",2);I([O(),$e()],Cs.prototype,"shape",2);I([O(),$e()],Cs.prototype,"size",2);I([O(Hs(ao,Bl,Nl)),$e()],Cs.prototype,"fill",2);I([O()],Cs.prototype,"fillGradientDefaults",2);I([O()],Cs.prototype,"fillPatternDefaults",2);I([O(),$e()],Cs.prototype,"fillOpacity",2);I([O(),$e()],Cs.prototype,"stroke",2);I([O(),$e()],Cs.prototype,"strokeWidth",2);I([O(),$e()],Cs.prototype,"strokeOpacity",2);I([O()],Cs.prototype,"lineDash",2);I([O()],Cs.prototype,"lineDashOffset",2);I([O(),$e()],Cs.prototype,"itemStyler",2);var eTe=class{constructor(e,t){this.idPrefix=t,this.dirty=!0,this.destroyFns=new o6,this.itemList=e.proxyInteractionService.createProxyContainer({type:"list",domManagerId:`${t}-toolbar`,classList:["ag-charts-proxy-legend-toolbar"],ariaLabel:{id:"ariaLabelLegend"}}),this.paginationGroup=e.proxyInteractionService.createProxyContainer({type:"group",domManagerId:`${t}-pagination`,classList:["ag-charts-proxy-legend-pagination"],ariaLabel:{id:"ariaLabelLegendPagination"},ariaOrientation:"horizontal"}),this.itemDescription=Ot("p"),this.itemDescription.style.display="none",this.itemDescription.id=`${t}-ariaDescription`,this.itemDescription.textContent=this.getItemAriaDescription(e.localeManager),this.itemList.getElement().append(this.itemDescription)}destroy(){this.destroyFns.destroy()}initLegendList(e){if(!this.dirty)return;const{ctx:t,itemSelection:i,datumReader:n,itemListener:s}=e,r=t.localeManager,o=i.length;i.each((a,l,u)=>{var p;(p=a.proxyButton)==null||p.destroy(),a.proxyButton=t.proxyInteractionService.createProxyElement({type:"listswitch",textContent:this.getItemAriaText(r,n.getItemLabel(l),u,o),ariaChecked:!!a.datum.enabled,ariaDescribedBy:this.itemDescription.id,parent:this.itemList});const d=a.proxyButton;d.addListener("click",f=>s.onClick(f.sourceEvent,a.datum,d)),d.addListener("dblclick",f=>s.onDoubleClick(f.sourceEvent,a.datum)),d.addListener("mouseenter",f=>s.onHover(f.sourceEvent,a)),d.addListener("mouseleave",()=>s.onLeave()),d.addListener("contextmenu",f=>s.onContextClick(f.sourceEvent,a)),d.addListener("blur",()=>s.onLeave()),d.addListener("focus",f=>s.onHover(f.sourceEvent,a)),d.addListener("drag-start",()=>{})}),this.dirty=!1}update(e){e.visible&&(this.initLegendList(e),this.updateItemProxyButtons(e),this.updatePaginationProxyButtons(e,!0)),this.updateVisibility(e.visible)}updateVisibility(e){this.itemList.setHidden(!e),this.paginationGroup.setHidden(!e)}updateItemProxyButtons({itemSelection:e,group:t,pagination:i,interactive:n}){const s=mn.toCanvas(t);this.itemList.setBounds(s);const r=Math.max(...e.nodes().map(o=>o.getBBox().height));e.each((o,a)=>{if(o.proxyButton){const l=o.pageIndex===i.currentPage,{x:u,y:d,height:p,width:f}=mn.toCanvas(o),m=(r-p)/2,y={x:u-s.x,y:d-m-s.y,height:r,width:f};o.proxyButton.setCursor("pointer"),o.proxyButton.setEnabled(n&&l),o.proxyButton.setBounds(y)}})}updatePaginationProxyButtons(e,t){var r,o,a,l,u,d,p,f;const{pagination:i}=e;if(this.paginationGroup.setHidden(!i.visible),t&&"ctx"in e){const{ctx:m,oldPages:y,newPages:C}=e,w=((y==null?void 0:y.length)??C.length)>1,b=C.length>1;w!==b&&(b?(this.prevButton=m.proxyInteractionService.createProxyElement({type:"button",id:`${this.idPrefix}-prev-page`,textContent:{id:"ariaLabelLegendPagePrevious"},tabIndex:0,parent:this.paginationGroup}),this.prevButton.addListener("click",S=>this.onPageButton(e,S,"previous")),this.prevButton.addListener("mouseenter",()=>i.onMouseHover("previous")),this.prevButton.addListener("mouseleave",()=>i.onMouseHover(void 0)),this.nextButton??(this.nextButton=m.proxyInteractionService.createProxyElement({type:"button",id:`${this.idPrefix}-next-page`,textContent:{id:"ariaLabelLegendPageNext"},tabIndex:0,parent:this.paginationGroup})),this.nextButton.addListener("click",S=>this.onPageButton(e,S,"next")),this.nextButton.addListener("mouseenter",()=>i.onMouseHover("next")),this.nextButton.addListener("mouseleave",()=>i.onMouseHover(void 0))):((r=this.nextButton)==null||r.destroy(),(o=this.prevButton)==null||o.destroy(),this.nextButton=void 0,this.prevButton=void 0))}const{prev:n,next:s}=i.computeCSSBounds();(a=this.prevButton)==null||a.setBounds(n),(l=this.nextButton)==null||l.setBounds(s),(u=this.prevButton)==null||u.setEnabled(i.currentPage!==0),(d=this.nextButton)==null||d.setEnabled(i.currentPage!==i.totalPages-1),(p=this.nextButton)==null||p.setCursor(i.getCursor("next")),(f=this.prevButton)==null||f.setCursor(i.getCursor("previous"))}onPageButton(e,t,i){e.pagination.onClick(t.sourceEvent,i),this.updatePaginationProxyButtons(e,!1)}onDataUpdate(e,t){this.dirty=e.length!==t.length||e.some((i,n,s)=>{const[r,o]=[t[n],e[n]];return r.id!==o.id})}onLocaleChanged(e,t,i){const n=t.length;t.each(({proxyButton:s},r,o)=>{const a=s==null?void 0:s.getElement();if(a!=null){const l=i.getItemLabel(r);a.textContent=this.getItemAriaText(e,l,o,n)}}),this.itemDescription.textContent=this.getItemAriaDescription(e)}onPageChange(e){this.updateItemProxyButtons(e),this.updatePaginationProxyButtons(e,!1)}getItemAriaText(e,t,i,n){return i>=0&&t?(i++,e.t("ariaLabelLegendItem",{label:t,index:i,count:n})):e.t("ariaLabelLegendItemUnknown")}getItemAriaDescription(e){return e.t("ariaDescriptionLegendItem")}};function t4(e,t,i,n){const s={defaultPrevented:!1,apiEvent:{type:e,itemId:t,seriesId:i,event:n,preventDefault:()=>s.defaultPrevented=!0}};return s}var ra=class extends wp(dt){constructor(){super({name:"markerLabelGroup"}),this.symbolsGroup=this.appendChild(new dt({name:"legend-markerLabel-symbols"})),this.label=this.appendChild(new is),this.enabled=!0,this.pageIndex=NaN,this.spacing=0,this.length=0,this.isCustomMarker=!1,this.marker=this.symbolsGroup.appendChild(new ns({zIndex:1})),this.line=this.symbolsGroup.appendChild(new uo({zIndex:0}));const{label:e,line:t,symbolsGroup:i}=this;t.visible=!1,i.renderToOffscreenCanvas=!0,i.optimizeForInfrequentRedraws=!0,e.textBaseline="middle",e.fontSize=12,e.fontFamily="Verdana, sans-serif",e.fill="black",e.y=1}destroy(){var e;super.destroy(),(e=this.proxyButton)==null||e.destroy()}setEnabled(e){this.enabled=e,this.refreshVisibilities()}refreshVisibilities(){const e=this.enabled?1:.5;this.label.opacity=e,this.opacity=e}layout(){const{marker:e,line:t,length:i,isCustomMarker:n}=this;let s=0,r=0;if(e.visible){const{size:o}=e,a=ns.anchor(e.shape);s=(a.x-.5)*o+i/2,r=(a.y-.5)*o,n?(e.x=0,e.y=0,e.translationX=s,e.translationY=r):(e.x=s,e.y=r,e.translationX=0,e.translationY=0)}t.visible&&(t.x1=0,t.x2=i,t.y1=0,t.y2=0)}preRender(e){const t=super.preRender(e);return this.layout(),t}layoutLabel(){const{length:e,spacing:t}=this;this.label.x=e+t}computeBBox(){return this.layout(),super.computeBBox()}};ra.className="MarkerLabel";I([vs("label")],ra.prototype,"text",2);I([vs("label")],ra.prototype,"fontStyle",2);I([vs("label")],ra.prototype,"fontWeight",2);I([vs("label")],ra.prototype,"fontSize",2);I([vs("label")],ra.prototype,"fontFamily",2);I([vs("label","fill")],ra.prototype,"color",2);I([vd(e=>e.layoutLabel())],ra.prototype,"spacing",2);I([vd(e=>e.layoutLabel())],ra.prototype,"length",2);I([$e()],ra.prototype,"isCustomMarker",2);var wd=class extends gt{constructor(){super(...arguments),this.maxLength=void 0,this.color="black",this.fontStyle=void 0,this.fontWeight=void 0,this.fontSize=12,this.fontFamily="Verdana, sans-serif"}};I([O()],wd.prototype,"maxLength",2);I([O()],wd.prototype,"color",2);I([O()],wd.prototype,"fontStyle",2);I([O()],wd.prototype,"fontWeight",2);I([O()],wd.prototype,"fontSize",2);I([O()],wd.prototype,"fontFamily",2);I([O()],wd.prototype,"formatter",2);var rm=class extends gt{constructor(){super(...arguments),this.shape=void 0,this.size=15,this.padding=8}};I([O()],rm.prototype,"shape",2);I([O()],rm.prototype,"size",2);I([O()],rm.prototype,"padding",2);I([O()],rm.prototype,"strokeWidth",2);I([O()],rm.prototype,"enabled",2);var fP=class extends gt{};I([O()],fP.prototype,"strokeWidth",2);I([O()],fP.prototype,"length",2);var Sd=class extends gt{constructor(){super(...arguments),this.paddingX=16,this.paddingY=8,this.showSeriesStroke=!1,this.marker=new rm,this.label=new wd,this.line=new fP}};I([O()],Sd.prototype,"maxWidth",2);I([O()],Sd.prototype,"paddingX",2);I([O()],Sd.prototype,"paddingY",2);I([O()],Sd.prototype,"showSeriesStroke",2);I([O()],Sd.prototype,"marker",2);I([O()],Sd.prototype,"label",2);I([O()],Sd.prototype,"line",2);var gP=class extends gt{};I([O()],gP.prototype,"legendItemClick",2);I([O()],gP.prototype,"legendItemDoubleClick",2);var Fy="legend-visibility",_1="legend-other-series",tTe={bounds:"item",gradient:"linear",colorStops:[{color:"black"}],rotation:0,reverse:!1},iTe={pattern:"forward-slanted-lines",width:8,height:8,padding:1,fill:"black",fillOpacity:1,backgroundFill:"white",backgroundFillOpacity:1,stroke:"black",strokeOpacity:1,strokeWidth:0,rotation:0},Gr=class extends gt{constructor(e){super(),this.ctx=e,this.id=ro(this),this.group=new ur({name:"legend",zIndex:14}),this.itemSelection=Bn.select(this.group,ra),this.oldSize=[0,0],this.pages=[],this.maxPageSize=[0,0],this.paginationTrackingIndex=0,this.truncatedItems=new Set,this._data=[],this.toggleSeries=!0,this.item=new Sd,this.listeners=new gP,this.enabled=!0,this.position="bottom",this.spacing=20,this.destroyFns=[],this.size=[0,0],this._visible=!0,this.pagination=new Ep(t=>e.updateService.update(t),t=>this.updatePageNumber(t)),this.pagination.attachPagination(this.group),this.destroyFns.push(e.contextMenuRegistry.registerDefaultAction({id:Fy,type:"legend",label:"contextMenuToggleSeriesVisibility",action:t=>this.contextToggleVisibility(t)}),e.contextMenuRegistry.registerDefaultAction({id:_1,type:"legend",label:"contextMenuToggleOtherSeries",action:t=>this.contextToggleOtherSeries(t)}),e.legendManager.addListener("legend-change",this.onLegendDataChange.bind(this))),this.destroyFns.push(e.layoutManager.registerElement(1,t=>this.positionLegend(t)),e.localeManager.addListener("locale-changed",()=>this.onLocaleChanged()),()=>this.group.remove()),this.domProxy=new eTe(this.ctx,this.id),this.ctx.historyManager.addMementoOriginator(e.legendManager)}set data(e){Il(e,this._data)||(this.domProxy.onDataUpdate(this._data,e),this._data=e,this.updateGroupVisibility())}get data(){return this._data}onLegendDataChange({legendData:e=[]}){this.enabled&&(this.data=e.filter(t=>!t.hideInLegend))}destroy(){this.ctx.domManager.removeChild("canvas-overlay",`${this.id}-toolbar`),this.ctx.domManager.removeChild("canvas-overlay",`${this.id}-pagination`),this.destroyFns.forEach(e=>e()),this.itemSelection.clear(),this.domProxy.destroy()}getOrientation(){return this.orientation??"horizontal"}set visible(e){this._visible=e,this.updateGroupVisibility()}get visible(){return this._visible}updateGroupVisibility(){this.group.visible=this.enabled&&this.visible&&this.data.length>0}attachLegend(e){e.appendChild(this.group)}getItemLabel(e){const{ctx:{callbackCache:t}}=this,{formatter:i}=this.item.label;if(i){const n=e.datum;return t.call(this,i,{itemId:e.itemId,value:e.label.text,seriesId:e.seriesId,...n&&{datum:n}})}return e.label.text}calcLayout(e,t){const{paddingX:i,paddingY:n,label:s,maxWidth:r,label:{maxLength:o=1/0,fontStyle:a,fontWeight:l,fontSize:u,fontFamily:d}}=this.item,p=[...this.data];this.reverseOrder&&p.reverse(),this.itemSelection.update(p);const f=[],m=Ui.toFontString(s),C=r??e*.8,{markerWidth:w,anyLineEnabled:b}=this.calculateMarkerWidth();if(this.itemSelection.each((L,z)=>{L.fontStyle=a,L.fontWeight=l,L.fontSize=u,L.fontFamily=d;const H=this.updateMarkerLabel(L,z,w,b),V=z.itemId??z.id,K=(this.getItemLabel(z)??"<unknown>").replace(/\r?\n/g," ");L.text=this.truncate(K,o,C,H,m,V),f.push(L.getBBox())}),e=Math.max(1,e),t=Math.max(1,t),!isFinite(e))return{};const S=this.size,M=this.oldSize;S[0]=e,S[1]=t,(S[0]!==M[0]||S[1]!==M[1])&&(M[0]=S[0],M[1]=S[1]);const{pages:D,maxPageHeight:R,maxPageWidth:A}=this.updatePagination(f,e,t),k=this.pages;this.pages=D,this.maxPageSize=[A-i,R-n];const F=this.pagination.currentPage,P=this.pages[F];return this.pages.length<1||!P?(this.visible=!1,{oldPages:k}):(this.visible=!0,this.updatePositions(F),this.update(),{oldPages:k})}isCustomMarker(e,t){return e&&t!==void 0&&typeof t!="string"}calcSymbolsEnabled(e){const{showSeriesStroke:t,marker:i}=this.item,n=!!i.enabled||!t||(e.marker.enabled??!0),s=!!(e.line&&t),r=this.isCustomMarker(n,e.marker.shape);return{markerEnabled:n,lineEnabled:s,isCustomMarker:r}}calcSymbolsLengths(e,t,i){const{marker:n,line:s}=this.item;let r;const{shape:o}=e.marker;if(this.isCustomMarker(t,o)){const u=new ns;u.shape=o,u.updatePath();const d=u.getBBox();r=Math.max(d.width,d.height)}const a=t?n.size:0,l=i?s.length??25:0;return{markerLength:a,lineLength:l,customMarkerSize:r}}calculateMarkerWidth(){let e=0,t=!1;return this.itemSelection.each((i,n)=>{const{symbol:s}=n,{lineEnabled:r,markerEnabled:o}=this.calcSymbolsEnabled(s),{markerLength:a,lineLength:l,customMarkerSize:u=-1/0}=this.calcSymbolsLengths(s,o,r);e=Math.max(e,l,u,a),t||(t=r)}),{markerWidth:e,anyLineEnabled:t}}updateMarkerLabel(e,t,i,n){const{marker:s,paddingX:r}=this.item,{symbol:o}=t;let a=r;const{markerEnabled:l,isCustomMarker:u}=this.calcSymbolsEnabled(o),d=s.padding;(l||n)&&(a+=d+i);const{marker:p,line:f}=e;return p.visible=l,p.visible&&(p.shape=s.shape??o.marker.shape??"square",p.size=s.size,up(p,this.getMarkerStyles(o))),f.visible=n,f.visible&&up(f,this.getLineStyles(o)),e.length=i,e.spacing=d,e.isCustomMarker=u,a}truncate(e,t,i,n,s,r){let o=!1;e.length>t&&(e=e.substring(0,t),o=!0);const a=Hc.getMeasurer({font:s}),l=Dk.truncateLine(e,a,i-n,o);return l.endsWith(Ui.EllipsisChar)?this.truncatedItems.add(r):this.truncatedItems.delete(r),l}updatePagination(e,t,i){const n=this.getOrientation(),s=Math.min(this.paginationTrackingIndex,e.length);this.pagination.orientation=n,this.pagination.translationX=0,this.pagination.translationY=0;const{pages:r,maxPageHeight:o,maxPageWidth:a,paginationBBox:l,paginationVertical:u}=this.calculatePagination(e,t,i),d=r.findIndex(M=>M.endIndex>=s);this.pagination.currentPage=ft(0,d,r.length-1);const{paddingX:p,paddingY:f}=this.item,m=8,y=a-p,C=o-f;let w=0,b=-l.y-this.item.marker.size/2;u?b+=C+m:(w+=-l.x+y+m,b+=(C-l.height)/2),this.pagination.translationX=w,this.pagination.translationY=b,this.pagination.update(),this.pagination.updateMarkers();let S=0;return this.itemSelection.each((M,D,R)=>{var A;R>(((A=r[S])==null?void 0:A.endIndex)??1/0)&&S++,M.pageIndex=S}),{maxPageHeight:o,maxPageWidth:a,pages:r}}calculatePagination(e,t,i){const{paddingX:n,paddingY:s}=this.item,r=this.getOrientation(),o=["left","right"].includes(this.position);let a=this.pagination.getBBox(),l=new Ue(0,0,0,0),u=[],d=0,p=0,f=0;const m=C=>C.width===a.width&&C.height===a.height,y=this.maxWidth!==void 0&&this.maxHeight!==void 0;do{if(f++>10){De.warn("unable to find stable legend layout.");break}a=l;const C=t-(o?0:a.width),w=i-(o?a.height:0),b=U1e({orientation:r,bboxes:e,maxHeight:w,maxWidth:C,itemPaddingY:s,itemPaddingX:n,forceResult:y});u=(b==null?void 0:b.pages)??[],d=(b==null?void 0:b.maxPageWidth)??0,p=(b==null?void 0:b.maxPageHeight)??0;const S=u.length;if(this.pagination.visible=S>1,this.pagination.totalPages=S,this.pagination.update(),this.pagination.updateMarkers(),l=this.pagination.getBBox(),!this.pagination.visible)break}while(!m(l));return{maxPageWidth:d,maxPageHeight:p,pages:u,paginationBBox:l,paginationVertical:o}}updatePositions(e=0){const{item:{paddingY:t},itemSelection:i,pages:n}=this;if(n.length<1||!n[e])return;const{columns:s,startIndex:r,endIndex:o}=n[e];let a=0,l=0;const u=s.length,d=s[0].indices.length,p=this.getOrientation()==="horizontal",f=s[0].bboxes[0].height+t,m=[];i.each((y,C,w)=>{if(w<r||w>o){y.visible=!1;return}const b=w-r;let S,M;p?(S=b%u,M=Math.floor(b/u)):(S=Math.floor(b/d),M=b%d),y.visible=!0;const D=s[S];D&&(l=Math.floor(f*M),a=Math.floor(m[M]??0),m[M]=(m[M]??0)+D.columnWidth,y.translationX=a,y.translationY=l)})}updatePageNumber(e){const{itemSelection:t,group:i,pagination:n,pages:s,toggleSeries:r}=this,{startIndex:o,endIndex:a}=s[e];o===0?this.paginationTrackingIndex=0:e===s.length-1?this.paginationTrackingIndex=a:this.paginationTrackingIndex=Math.floor((o+a)/2),this.pagination.update(),this.pagination.updateMarkers(),this.updatePositions(e),this.domProxy.onPageChange({itemSelection:t,group:i,pagination:n,interactive:r}),this.ctx.updateService.update(6)}update(){const{label:{color:e}}=this.item;this.itemSelection.each((t,i)=>{t.setEnabled(i.enabled),t.color=e}),this.updateContextMenu()}updateContextMenu(){const{toggleSeries:e,ctx:{contextMenuRegistry:t}}=this;e?(t.hideAction(Fy),t.hideAction(_1)):(t.showAction(Fy),t.showAction(_1))}getLineStyles(e){const{stroke:t,strokeOpacity:i=1,strokeWidth:n,lineDash:s}=e.line??{},r=Math.min(2,n??1);return{stroke:t,strokeOpacity:i,strokeWidth:this.item.line.strokeWidth??r,lineDash:s}}getMarkerStyles({marker:e}){const{fill:t,stroke:i,strokeOpacity:n=1,fillOpacity:s=1,strokeWidth:r,lineDash:o,lineDashOffset:a}=e,l=Math.min(2,r??1);return ap(t)&&(t.width=8,t.height=8,t.padding=1,t.strokeWidth=Math.min(2,t.strokeWidth??2)),xl({fill:t,stroke:i,strokeOpacity:n,fillOpacity:s,strokeWidth:this.item.marker.strokeWidth??l,lineDash:o,lineDashOffset:a},tTe,iTe)}computePagedBBox(){const e=dt.computeChildrenBBox(this.group.children());if(this.pages.length>1){const[t,i]=this.maxPageSize;e.height=Math.max(i,e.height),e.width=Math.max(t,e.width)}return e}findNode(e){const{datum:t,proxyButton:i}=this.itemSelection.select(n=>{var s;return((s=n.datum)==null?void 0:s.itemId)===e.itemId})[0]??{};if(t===void 0||i===void 0)throw new Error(`AG Charts - Missing required properties { datum: ${t}, proxyButton: ${JSON.stringify(i)} }`);return{datum:t,proxyButton:i}}contextToggleVisibility(e){const{datum:t,proxyButton:i}=this.findNode(e);this.doClick(e.event,t,i)}contextToggleOtherSeries(e){this.doDoubleClick(e.event,this.findNode(e).datum)}onContextClick(e,t){var a;const i=t.datum;this.preventHidingAll&&((a=this.contextMenuDatum)!=null&&a.enabled)&&this.getVisibleItemCount()<=1?this.ctx.contextMenuRegistry.disableAction(Fy):this.ctx.contextMenuRegistry.enableAction(Fy);const{offsetX:n,offsetY:s}=e,{x:r,y:o}=mn.toCanvasPoint(t,n,s);this.ctx.contextMenuRegistry.dispatchContext("legend",{sourceEvent:e,canvasX:r,canvasY:o},{legendItem:i})}onClick(e,t,i){this.doClick(e,t,i)&&e.preventDefault()}getVisibleItemCount(){return this.ctx.chartService.series.flatMap(e=>e.getLegendData("category")).filter(e=>e.enabled).length}doClick(e,t,i){const{listeners:{legendItemClick:n},ctx:{chartService:s,highlightManager:r},preventHidingAll:o,toggleSeries:a}=this;if(!t)return!1;const{legendType:l,seriesId:u,itemId:d,enabled:p}=t,f=s.series.find(C=>C.id===u);if(!f)return!1;let m=p;const y=t4("click",d,f.id,e);return n==null||n(y.apiEvent),y.defaultPrevented||(a&&(m=!p,o&&!m&&this.getVisibleItemCount()<2&&(m=!0),i.setChecked(m),this.ctx.chartEventManager.legendItemClick(l,f,d,m,t.legendItemName)),m?r.updateHighlight(this.id,{series:f,itemId:d,datum:void 0,datumIndex:void 0}):r.updateHighlight(this.id),this.ctx.legendManager.update(),this.ctx.updateService.update(2,{forceNodeDataRefresh:!0,skipAnimations:t.skipAnimations??!1})),!0}onDoubleClick(e,t){this.doDoubleClick(e,t)&&e.preventDefault()}doDoubleClick(e,t){const{listeners:{legendItemDoubleClick:i},ctx:{chartService:n},toggleSeries:s}=this;if(n.mode==="integrated"||!t)return!1;const{legendType:r,id:o,itemId:a,seriesId:l}=t,u=n.series.find(p=>p.id===o);if(!u)return!1;const d=t4("dblclick",a,u.id,e);if(i==null||i(d.apiEvent),d.defaultPrevented)return!0;if(s){const p=n.series.flatMap(C=>C.getLegendData("category"));let f=0;const m=new Set;for(const C of p)C.enabled&&(f+=1,C.legendItemName!=null&&m.add(C.legendItemName));m.size>0&&(f=m.size);const y=p.find(C=>C.itemId===a&&C.seriesId===l);this.ctx.chartEventManager.legendItemDoubleClick(r,u,a,(y==null?void 0:y.enabled)??!1,f,y==null?void 0:y.legendItemName)}return this.ctx.legendManager.update(),this.ctx.updateService.update(2,{forceNodeDataRefresh:!0}),!0}toTooltipMeta(e,t){let i;return e instanceof FocusEvent?i=mn.toCanvas(t).computeCenter():(e.preventDefault(),i=mn.toCanvasPoint(t,e.offsetX,e.offsetY)),{canvasX:i.x,canvasY:i.y,showArrow:!1}}onHover(e,t){if(!this.enabled)throw new Error("AG Charts - onHover handler called on disabled legend");this.pagination.setPage(t.pageIndex);const i=t.datum,n=i?this.ctx.chartService.series.find(s=>s.id===(i==null?void 0:i.id)):void 0;if(i&&this.truncatedItems.has(i.itemId??i.id)){const s=this.toTooltipMeta(e,t);this.ctx.tooltipManager.updateTooltip(this.id,s,[{type:"structured",title:this.getItemLabel(i)}])}else this.ctx.tooltipManager.removeTooltip(this.id);i!=null&&i.enabled&&n?this.updateHighlight({series:n,itemId:i==null?void 0:i.itemId,datum:void 0,datumIndex:void 0}):this.updateHighlight()}onLeave(){this.ctx.tooltipManager.removeTooltip(this.id),this.updateHighlight()}updateHighlight(e){this.ctx.interactionManager.isState(32)?this.ctx.highlightManager.updateHighlight(this.id,e):this.ctx.interactionManager.isState(2)&&(this.pendingHighlightDatum=e,this.ctx.animationManager.onBatchStop(()=>{this.ctx.highlightManager.updateHighlight(this.id,this.pendingHighlightDatum)}))}onLocaleChanged(){this.domProxy.onLocaleChanged(this.ctx.localeManager,this.itemSelection,this)}positionLegend(e){const t=this.positionLegendScene(e);this.positionLegendDOM(t)}positionLegendScene(e){if(!this.enabled||!this.data.length)return;const{layoutBox:t}=e,{x:i,y:n,width:s,height:r}=t,[o,a]=this.calculateLegendDimensions(t),{oldPages:l}=this.calcLayout(o,a),u=this.computePagedBBox(),d=()=>{switch(this.position){case"top":case"left":return 0;case"bottom":return r-u.height;case"right":default:return s-u.width}};if(this.visible){const p=this.spacing;let f,m;switch(this.position){case"top":case"bottom":f=(s-u.width)/2,m=d(),t.shrink(u.height+p,this.position);break;case"left":case"right":default:f=d(),m=(r-u.height)/2,t.shrink(u.width+p,this.position)}this.group.translationX=Math.floor(i+f-u.x),this.group.translationY=Math.floor(n+m-u.y)}return l}positionLegendDOM(e){const{ctx:t,itemSelection:i,pagination:n,pages:s,toggleSeries:r,group:o,listeners:{legendItemClick:a,legendItemDoubleClick:l}}=this,u=this.visible&&this.enabled,d=r||l!=null||a!=null;this.domProxy.update({visible:u,interactive:d,ctx:t,itemSelection:i,group:o,pagination:n,oldPages:e,newPages:s,datumReader:this,itemListener:this})}calculateLegendDimensions(e){const{width:t,height:i}=e,n=t/i,s=.5,r=.2,o=.25;let a,l;switch(this.position){case"top":case"bottom":{const u=n<1?Math.min(s,r*(1/n)):r;a=this.maxWidth?Math.min(this.maxWidth,t):t,l=this.maxHeight?Math.min(this.maxHeight,i):Math.round(i*u);break}case"left":case"right":default:{const u=n>1?Math.min(s,o*n):o;a=this.maxWidth?Math.min(this.maxWidth,t):Math.round(t*u),l=this.maxHeight?Math.min(this.maxHeight,i):i}}return[a,l]}};Gr.className="Legend";I([O()],Gr.prototype,"toggleSeries",2);I([O()],Gr.prototype,"pagination",2);I([O()],Gr.prototype,"item",2);I([O()],Gr.prototype,"listeners",2);I([vd((e,t,i)=>{if(e.updateGroupVisibility(),t===i)return;const{ctx:{legendManager:n,stateManager:s}}=e;i===!1&&t===!0&&s.restoreState(n)}),O()],Gr.prototype,"enabled",2);I([O()],Gr.prototype,"position",2);I([O()],Gr.prototype,"maxWidth",2);I([O()],Gr.prototype,"maxHeight",2);I([O()],Gr.prototype,"reverseOrder",2);I([O(vi(["horizontal","vertical"],"an orientation"))],Gr.prototype,"orientation",2);I([O()],Gr.prototype,"preventHidingAll",2);I([O()],Gr.prototype,"spacing",2);var nTe={type:"legend",optionsKey:"legend",identifier:"category",chartTypes:["cartesian","polar","hierarchy","topology","flow-proportion","standalone","gauge"],moduleFactory:e=>new Gr(e),packageType:"community",removable:"standalone-only"},h$={};_a(h$,{CARTESIAN_AXIS_TYPE:()=>g$,CARTESIAN_POSITION:()=>f$,FONT_SIZE:()=>p$,FONT_SIZE_RATIO:()=>mP,POLAR_AXIS_SHAPE:()=>y$,POLAR_AXIS_TYPE:()=>m$});var p$=(e=>(e[e.SMALLEST=8]="SMALLEST",e[e.SMALLER=10]="SMALLER",e[e.SMALL=12]="SMALL",e[e.MEDIUM=13]="MEDIUM",e[e.LARGE=14]="LARGE",e[e.LARGEST=17]="LARGEST",e))(p$||{}),mP=(e=>(e[e.SMALLEST=.6666666666666666]="SMALLEST",e[e.SMALLER=.8333333333333334]="SMALLER",e[e.SMALL=1]="SMALL",e[e.MEDIUM=1.0833333333333333]="MEDIUM",e[e.LARGE=1.1666666666666667]="LARGE",e[e.LARGEST=1.4166666666666667]="LARGEST",e))(mP||{}),f$=(e=>(e.TOP="top",e.RIGHT="right",e.BOTTOM="bottom",e.LEFT="left",e))(f$||{}),g$=(e=>(e.CATEGORY="category",e.GROUPED_CATEGORY="grouped-category",e.ORDINAL_TIME="ordinal-time",e.NUMBER="number",e.TIME="time",e.LOG="log",e))(g$||{}),m$=(e=>(e.ANGLE_CATEGORY="angle-category",e.ANGLE_NUMBER="angle-number",e.RADIUS_CATEGORY="radius-category",e.RADIUS_NUMBER="radius-number",e))(m$||{}),y$=(e=>(e.CIRCLE="circle",e.POLYGON="polygon",e))(y$||{}),yP={};_a(yP,{DEFAULT_ANNOTATION_HANDLE_FILL:()=>lb,DEFAULT_ANNOTATION_STATISTICS_COLOR:()=>db,DEFAULT_ANNOTATION_STATISTICS_DIVIDER_STROKE:()=>hb,DEFAULT_ANNOTATION_STATISTICS_DOWN_FILL:()=>rC,DEFAULT_ANNOTATION_STATISTICS_DOWN_STROKE:()=>oC,DEFAULT_ANNOTATION_STATISTICS_FILL:()=>cb,DEFAULT_ANNOTATION_STATISTICS_STROKE:()=>ub,DEFAULT_CAPTION_ALIGNMENT:()=>$u,DEFAULT_CAPTION_LAYOUT_STYLE:()=>Uu,DEFAULT_FIBONACCI_STROKES:()=>sC,DEFAULT_FINANCIAL_CHARTS_ANNOTATION_BACKGROUND_FILL:()=>qn,DEFAULT_FINANCIAL_CHARTS_ANNOTATION_COLOR:()=>gn,DEFAULT_GRIDLINE_ENABLED:()=>gl,DEFAULT_POLAR_SERIES_STROKE:()=>YM,DEFAULT_SEPARATION_LINES_COLOUR:()=>sb,DEFAULT_SHADOW_COLOUR:()=>xd,DEFAULT_SPARKLINE_CROSSHAIR_STROKE:()=>KM,DEFAULT_TEXTBOX_COLOR:()=>gb,DEFAULT_TEXTBOX_FILL:()=>pb,DEFAULT_TEXTBOX_STROKE:()=>fb,DEFAULT_TEXT_ANNOTATION_COLOR:()=>ab,DEFAULT_TOOLBAR_POSITION:()=>mb,IS_COMMUNITY:()=>vP,IS_DARK_THEME:()=>Zf,IS_ENTERPRISE:()=>CP,PALETTE_ALT_DOWN_FILL:()=>xP,PALETTE_ALT_DOWN_STROKE:()=>wP,PALETTE_ALT_NEUTRAL_FILL:()=>MP,PALETTE_ALT_NEUTRAL_STROKE:()=>$M,PALETTE_ALT_UP_FILL:()=>SP,PALETTE_ALT_UP_STROKE:()=>bP,PALETTE_DOWN_FILL:()=>ob,PALETTE_DOWN_STROKE:()=>WM,PALETTE_NEUTRAL_FILL:()=>UM,PALETTE_NEUTRAL_STROKE:()=>Og,PALETTE_UP_FILL:()=>rb,PALETTE_UP_STROKE:()=>VM});var Zf=Symbol("is-dark-theme"),vP=Symbol("is-community"),CP=Symbol("is-enterprise"),sb=Symbol("default-separation-lines-colour"),xd=Symbol("default-shadow-colour"),Uu=Symbol("default-caption-layout-style"),$u=Symbol("default-caption-alignment"),VM=Symbol("palette-up-stroke"),WM=Symbol("palette-down-stroke"),rb=Symbol("palette-up-fill"),ob=Symbol("palette-down-fill"),Og=Symbol("palette-neutral-stroke"),UM=Symbol("palette-neutral-fill"),bP=Symbol("palette-alt-up-stroke"),wP=Symbol("palette-alt-down-stroke"),SP=Symbol("palette-alt-up-fill"),xP=Symbol("palette-alt-down-fill"),MP=Symbol("palette-gray-fill"),$M=Symbol("palette-gray-stroke"),YM=Symbol("default-polar-series-stroke"),KM=Symbol("default-sparkline-crosshair-stroke"),gn=Symbol("default-financial-charts-annotation-stroke"),sC=Symbol("default-hierarchy-strokes"),ab=Symbol("default-text-annotation-color"),qn=Symbol("default-financial-charts-annotation-background-fill"),lb=Symbol("default-annotation-handle-fill"),cb=Symbol("default-annotation-statistics-fill"),ub=Symbol("default-annotation-statistics-stroke"),db=Symbol("default-annotation-statistics-color"),hb=Symbol("default-annotation-statistics-divider-stroke"),rC=Symbol("default-annotation-statistics-fill"),oC=Symbol("default-annotation-statistics-stroke"),pb=Symbol("default-textbox-fill"),fb=Symbol("default-textbox-stroke"),gb=Symbol("default-textbox-color"),mb=Symbol("default-toolbar-position"),gl=Symbol("default-gridline-enabled"),v$=[{type:"number",position:{$if:[{$eq:[{$path:["/direction",void 0]},"horizontal"]},"bottom","left"]}},{type:"category",position:{$if:[{$eq:[{$path:["/direction",void 0]},"horizontal"]},"left","bottom"]}}],sTe={$if:[{$or:[{$isGradient:[{$palette:"fill"}]},{$isPattern:[{$palette:"fill"}]}]},{$palette:"fillFallback"},{$palette:"fill"}]},DP={$if:[{$or:[{$isGradient:[{$palette:"fill"}]},{$isPattern:[{$palette:"fill"}]}]},{$palette:"fillsFallback"},{$palette:"fills"}]},qM={$if:[{$isGradient:[{$palette:"fill"}]},{$palette:"fillFallback"},{$if:[{$isPattern:[{$palette:"fill"}]},{$path:["./stroke",{$palette:"fillFallback"},{$palette:"fill"}]},{$palette:"fill"}]}]},rTe={$if:[{$or:[{$isGradient:[{$palette:"fill"}]},{$isPattern:[{$palette:"fill"}]}]},[{$palette:"fillFallback"},{$palette:"fillFallback"}],{$palette:"range2"}]},cd={type:"pattern",pattern:"forward-slanted-lines",width:10,height:10,padding:2,fill:{$if:[{$isGradient:[{$palette:"fill"}]},{$palette:"fillFallback"},{$if:[{$isPattern:[{$palette:"fill"}]},{$path:["./fill",{$palette:"fillFallback"},{$palette:"fill"}]},{$palette:"fill"}]}]},fillOpacity:1,stroke:qM,strokeOpacity:1,strokeWidth:4,backgroundFill:"transparent",backgroundFillOpacity:1,rotation:0};function po(e){return IW(e,t=>{const i=ci.fromString(t);return[ci.darken(i,.15).toString(),t,ci.lighten(i,.15).toString()]})}function ux(e,t,i,n,s){const{addPhaseFn:r,updatePhaseFn:o,removePhaseFn:a}=s,l=(u,d,p)=>{i.animate({id:`${e}_${t}_${d.id}_${u}`,groupId:e,from:0,to:1,ease:Qv,collapsable:!1,onUpdate(f,m){m&&u!=="removed"||(d.path.clear(!0),p(f,d),d.checkPathDirty())},onStop(){u==="added"&&(d.path.clear(!0),p(1,d),d.checkPathDirty())},phase:wa[u]})};for(const u of n)i.isSkipped()||(l("removed",u,a),l("updated",u,o)),l("added",u,r)}function si({id:e},t,i,...n){jc(e,t,i,n,{opacity:0},{opacity:1},{phase:"trailing"})}function Yu({id:e},t,i,...n){jc(e,t,i,n,{opacity:1},{opacity:0},{phase:"remove"})}function Zc(e){return{opacity:1}}var Wa=class extends hP{constructor(){super(...arguments),this.enabled=!0,this.color="rgba(0, 0, 0, 0.5)",this.xOffset=0,this.yOffset=0,this.blur=5}};I([O(),$e()],Wa.prototype,"enabled",2);I([O(),$e()],Wa.prototype,"color",2);I([O(),$e()],Wa.prototype,"xOffset",2);I([O(),$e()],Wa.prototype,"yOffset",2);I([O(),$e()],Wa.prototype,"blur",2);var C$=class extends gt{constructor(){super(...arguments),this.enabled=!1}};I([O()],C$.prototype,"enabled",2);var tr=class extends gt{constructor(){super(...arguments),this.interaction=new C$,this.position=new Uc,this.range=void 0,this.class=void 0}formatTooltip(e,t,i){const n=this.renderer==null?void 0:Ok(e,this.renderer,[i]);return typeof n=="string"?{type:"raw",rawHtmlString:n}:n!=null?{type:"structured",...t,...n}:{type:"structured",...t}}};I([O()],tr.prototype,"enabled",2);I([O()],tr.prototype,"showArrow",2);I([O()],tr.prototype,"renderer",2);I([O()],tr.prototype,"interaction",2);I([O()],tr.prototype,"position",2);I([O()],tr.prototype,"range",2);I([O()],tr.prototype,"class",2);var oTe=class{constructor(e,t,i){this.root=new cTe(e,t,i)}clear(e){this.root.clear(e)}addValue(e,t){const i={hitTester:e,value:t,distanceSquared:(n,s)=>e.distanceSquared(n,s)};this.root.addElem(i)}find(e,t){const i={best:{nearest:void 0,distanceSquared:1/0}};return this.root.find(e,t,i),i.best}},aTe=class{constructor(e,t,i,n){this.nw=e,this.ne=t,this.sw=i,this.se=n}addElem(e){this.nw.addElem(e),this.ne.addElem(e),this.sw.addElem(e),this.se.addElem(e)}find(e,t,i){this.nw.find(e,t,i),this.ne.find(e,t,i),this.sw.find(e,t,i),this.se.find(e,t,i)}},lTe=class{constructor(e,t,i){this.capacity=e,this.maxdepth=t,this.boundary=i??Ue.NaN,this.elems=[],this.subdivisions=void 0}clear(e){this.elems.length=0,this.boundary=e,this.subdivisions=void 0}addElem(e){this.addCondition(e)&&(this.subdivisions===void 0?this.maxdepth===0||this.elems.length<this.capacity?this.elems.push(e):this.subdivide(e):this.subdivisions.addElem(e))}find(e,t,i){this.findCondition(e,t,i)&&(this.subdivisions===void 0?this.findAction(e,t,i):this.subdivisions.find(e,t,i))}subdivide(e){this.subdivisions=this.makeSubdivisions();for(const t of this.elems)this.subdivisions.addElem(t);this.subdivisions.addElem(e),this.elems.length=0}makeSubdivisions(){const{x:e,y:t,width:i,height:n}=this.boundary,{capacity:s}=this,r=this.maxdepth-1,o=i/2,a=n/2,l=new Ue(e,t,o,a),u=new Ue(e+o,t,o,a),d=new Ue(e,t+a,o,a),p=new Ue(e+o,t+a,o,a);return new aTe(this.child(s,r,l),this.child(s,r,u),this.child(s,r,d),this.child(s,r,p))}},cTe=class b$ extends lTe{addCondition(t){const{x:i,y:n}=t.hitTester.midPoint;return this.boundary.containsPoint(i,n)}findCondition(t,i,n){const{best:s}=n;return s.distanceSquared!==0&&this.boundary.distanceSquared(t,i)<s.distanceSquared}findAction(t,i,n){const s=pM(t,i,this.elems,n.best.distanceSquared);s.nearest!==void 0&&s.distanceSquared<n.best.distanceSquared&&(n.best=s)}child(t,i,n){return new b$(t,i,n)}},RP=class extends NM{constructor({clipFocusBox:e,categoryKey:t,...i}){super(i),this.categoryKey=t,this.clipFocusBox=e??!0}getScaleInformation({xScale:e,yScale:t}){const i=mi.is(e),n=mi.is(t);return{isContinuousX:i,isContinuousY:n,xScaleType:e==null?void 0:e.type,yScaleType:t==null?void 0:t.type}}getModulePropertyDefinitions(){var i,n;const e=(i=this.axes.x)==null?void 0:i.scale,t=(n=this.axes.y)==null?void 0:n.scale;return this.moduleMap.mapModules(s=>s.getPropertyDefinitions(this.getScaleInformation({xScale:e,yScale:t}))).flat()}async requestDataModel(e,t,i){i.props.push(...this.getModulePropertyDefinitions());const{dataModel:n,processedData:s}=await e.request(this.id,t??[],i);return this.dataModel=n,this.processedData=s,this.dispatch("data-processed",{dataModel:n,processedData:s}),{dataModel:n,processedData:s}}isProcessedDataAnimatable(){var n,s;const e=(s=(n=this.processedData)==null?void 0:n.reduced)==null?void 0:s.animationValidation;if(!e)return!0;const{orderedKeys:t,uniqueKeys:i}=e;return t&&i}checkProcessedDataAnimatable(){this.isProcessedDataAnimatable()||this.ctx.animationManager.skipCurrentBatch()}pickFocus(e){const t=this.getNodeData();if(t===void 0||t.length===0)return;const i=this.computeFocusDatumIndex(e,t);if(i===void 0)return;const{clipFocusBox:n}=this,s=t[i],r={...e,datumIndex:i},o=this.computeFocusBounds(r);if(o!==void 0)return{bounds:o,clipFocusBox:n,datum:s,datumIndex:i}}isDatumEnabled(e,t){const{missing:i=!1,enabled:n=!0,focusable:s=!0}=e[t];return!i&&n&&s}computeFocusDatumIndex(e,t){const i=(o,a)=>{for(;o>=0&&!this.isDatumEnabled(t,o);)o+=a;return o===-1?void 0:o},n=(o,a)=>{for(;o<t.length&&!this.isDatumEnabled(t,o);)o+=a;return o===t.length?void 0:o};let s;const r=ft(0,e.datumIndex,t.length-1);return e.datumIndexDelta<0?s=i(r,e.datumIndexDelta):e.datumIndexDelta>0?s=n(r,e.datumIndexDelta):s=n(r,1)??i(r,-1),s===void 0?e.datumIndexDelta===0?void 0:e.datumIndex-e.datumIndexDelta:s}keysOrValues(e){var i,n,s;const t=this.dataModel.resolveProcessedDataIndexById(this,e);return((n=(i=this.processedData)==null?void 0:i.keys[t])==null?void 0:n.get(this.id))??((s=this.processedData)==null?void 0:s.columns[t])??[]}getCategoryKey(){return this.categoryKey}getCategoryValue(e){var r,o;const{processedData:t,dataModel:i}=this,n=this.getCategoryKey();return!t||!i||!n||(((o=(r=t.invalidData)==null?void 0:r.get(this.id))==null?void 0:o[e])??!1)?void 0:this.keysOrValues(n)[e]}datumIndexForCategoryValue(e){var o,a;const{processedData:t,dataModel:i}=this,n=this.getCategoryKey();if(!t||!i||!n)return;e=e.valueOf();const s=(o=t.invalidData)==null?void 0:o.get(this.id),r=this.keysOrValues(n);for(let l=0;l<r.length;l+=1){if((s==null?void 0:s[l])===!0)continue;const u=(a=r[l])==null?void 0:a.valueOf();if(Il(e,u))return l}}},Tp={x:["xKey"],y:["yKey"]},Ap={x:["xName"],y:["yName"]},EP=class extends eb{constructor(e,t,i,n){super(e,t,i,n),this.xKey=n.properties.xKey,this.yKey=n.properties.yKey}},Xc=class extends ho{constructor(){super(...arguments),this.pickOutsideVisibleMinorAxis=!1}};I([O()],Xc.prototype,"legendItemName",2);I([O()],Xc.prototype,"pickOutsideVisibleMinorAxis",2);var dx=100,Md=class extends RP{constructor({pathsPerSeries:e=["path"],hasMarkers:t=!1,hasHighlightedLabels:i=!1,pathsZIndexSubOrderOffset:n=[],datumSelectionGarbageCollection:s=!0,markerSelectionGarbageCollection:r=!0,animationAlwaysUpdateSelections:o=!1,animationResetFns:a,directionKeys:l,directionNames:u,...d}){if(super({directionKeys:l,directionNames:u,canHaveAxes:!0,...d}),this.NodeEvent=EP,this.dataNodeGroup=this.contentGroup.appendChild(new dt({name:`${this.id}-series-dataNodes`,zIndex:0})),this.markerGroup=this.contentGroup.appendChild(new dt({name:`${this.id}-series-markers`,zIndex:1})),this.labelGroup=this.contentGroup.appendChild(new ur({name:`${this.id}-series-labels`})),this.labelSelection=Bn.select(this.labelGroup,is),this.highlightSelection=Bn.select(this.highlightNode,()=>this.opts.hasMarkers?new ns:this.nodeFactory()),this.highlightLabelSelection=Bn.select(this.highlightLabel,is),this.annotationSelections=new Set,this.debug=ii.create(),!l||!u)throw new Error(`Unable to initialise series type ${this.type}`);this.opts={pathsPerSeries:e,hasMarkers:t,hasHighlightedLabels:i,pathsZIndexSubOrderOffset:n,directionKeys:l,directionNames:u,animationResetFns:a,animationAlwaysUpdateSelections:o,datumSelectionGarbageCollection:s,markerSelectionGarbageCollection:r},this.paths=e.map(p=>new yr({name:`${this.id}-${p}`})),this.datumSelection=Bn.select(this.dataNodeGroup,()=>this.nodeFactory(),s),this.markerSelection=Bn.select(this.markerGroup,ns,r),this.animationState=new QC("empty",{empty:{update:{target:"ready",action:p=>this.animateEmptyUpdateReady(p)},reset:"empty",skip:"ready",disable:"disabled"},ready:{updateData:"waiting",clear:"clearing",highlight:p=>this.animateReadyHighlight(p),highlightMarkers:p=>this.animateReadyHighlightMarkers(p),resize:p=>this.animateReadyResize(p),reset:"empty",skip:"ready",disable:"disabled"},waiting:{update:{target:"ready",action:p=>{this.ctx.animationManager.isSkipped()?this.resetAllAnimation(p):this.animateWaitingUpdateReady(p)}},reset:"empty",skip:"ready",disable:"disabled"},disabled:{update:p=>this.resetAllAnimation(p),reset:"empty"},clearing:{update:{target:"empty",action:p=>this.animateClearingUpdateEmpty(p)},reset:"empty",skip:"ready"}},()=>this.checkProcessedDataAnimatable())}get contextNodeData(){return this._contextNodeData}getNodeData(){var e;return(e=this.contextNodeData)==null?void 0:e.nodeData}attachSeries(e,t,i){super.attachSeries(e,t,i),this.attachPaths(this.paths,t,i)}detachSeries(e,t,i){super.detachSeries(e,t,i),this.detachPaths(this.paths,t,i)}attachPaths(e,t,i){for(const n of e)this.contentGroup.appendChild(n)}detachPaths(e,t,i){for(const n of e)this.contentGroup.removeChild(n)}renderToOffscreenCanvas(){const e=this.getNodeData();return e!=null&&e.length>dx}resetAnimation(e){e==="initial"?this.animationState.transition("reset"):e==="ready"?this.animationState.transition("skip"):e==="disabled"&&this.animationState.transition("disable")}addChartEventListeners(){this.destroyFns.push(this.ctx.chartEventManager.addListener("legend-item-click",e=>this.onLegendItemClick(e)),this.ctx.chartEventManager.addListener("legend-item-double-click",e=>this.onLegendItemDoubleClick(e)))}destroy(){super.destroy(),this._contextNodeData=void 0}update({seriesRect:e}){var l,u;const{visible:t,_contextNodeData:i}=this,s=((u=(l=this.ctx.highlightManager)==null?void 0:l.getActiveHighlight())==null?void 0:u.series)===this,r=this.checkResize(e),o=this.updateHighlightSelection(s);this.updateSelections(t),this.updateNodes(o,s,t);const a=this.getAnimationData(e,i);a&&(r&&this.animationState.transition("resize",a),this.animationState.transition("update",a))}updateSelections(e){var t;const i=!this.opts.animationAlwaysUpdateSelections&&this.ctx.animationManager.isSkipped();if(!(!e&&i)&&!(!this.nodeDataRefresh&&!this.isPathOrSelectionDirty())){if(this.nodeDataRefresh){this.nodeDataRefresh=!1,this.debug("CartesianSeries.updateSelections() - calling createNodeData() for",this.id),this.markQuadtreeDirty(),this._contextNodeData=this.createNodeData();const n=this.isProcessedDataAnimatable();this._contextNodeData&&((t=this._contextNodeData).animationValid??(t.animationValid=n));const{dataModel:s,processedData:r}=this;s!==void 0&&r!==void 0&&this.dispatch("data-update",{dataModel:s,processedData:r})}this.updateSeriesSelections()}}updateSeriesSelections(e){const{datumSelection:t,labelSelection:i,markerSelection:n,paths:s}=this,r=this._contextNodeData;if(!r)return;const{nodeData:o,labelData:a,itemId:l}=r;this.updatePaths({seriesHighlighted:e,itemId:l,contextData:r,paths:s}),this.datumSelection=this.updateDatumSelection({nodeData:o,datumSelection:t}),this.labelSelection=this.updateLabelSelection({labelData:a,labelSelection:i})??i,this.opts.hasMarkers&&(this.markerSelection=this.updateMarkerSelection({nodeData:o,markerSelection:n}))}getShapeFillBBox(){const{axes:e}=this,t=e.x,i=e.y,[n,s]=zn((t==null?void 0:t.range)??[0,1]),[r,o]=zn((i==null?void 0:i.range)??[0,1]),a=this.getSeriesDomain("x"),l=[t==null?void 0:t.scale.convert(a.at(0)),t==null?void 0:t.scale.convert(a.at(-1))],u=this.getSeriesDomain("y"),d=[i==null?void 0:i.scale.convert(u.at(0)),i==null?void 0:i.scale.convert(u.at(-1))],[p,f]=zn(l),[m,y]=zn(d);return{axis:new Ue(n,r,s-n,o-r),series:new Ue(p,m,f-p,y-m)}}updateNodes(e,t,i){const{highlightSelection:n,highlightLabelSelection:s,opts:{hasMarkers:r,hasHighlightedLabels:o}}=this,a=!this.ctx.animationManager.isSkipped(),l=this.visible&&this._contextNodeData!=null&&i;this.contentGroup.visible=a||l,this.highlightGroup.visible=(a||l)&&t;const u=this.getOpacity();r?(this.updateMarkerNodes({markerSelection:n,isHighlight:!0}),this.animationState.transition("highlightMarkers",n)):(this.updateDatumNodes({datumSelection:n,isHighlight:!0}),this.animationState.transition("highlight",n)),o&&this.updateLabelNodes({labelSelection:s});const{dataNodeGroup:d,markerGroup:p,datumSelection:f,labelSelection:m,markerSelection:y,paths:C,labelGroup:w}=this,{itemId:b}=this.contextNodeData??{};d.opacity=u,d.visible=a||l,w.visible=l,r&&(p.opacity=u,p.visible=l),w&&(w.opacity=u),this.updatePathNodes({seriesHighlighted:t,itemId:b,paths:C,opacity:u,visible:l,animationEnabled:a}),d.visible&&(this.updateDatumNodes({datumSelection:f,highlightedItems:e,isHighlight:!1}),this.usesPlacedLabels||this.updateLabelNodes({labelSelection:m}),r&&this.updateMarkerNodes({markerSelection:y,isHighlight:!1}))}getHighlightLabelData(e,t){const i=e.filter(n=>n.datum===t.datum&&n.itemId===t.itemId);return i.length===0?void 0:i}getHighlightData(e,t){return t?[t]:void 0}updateHighlightSelection(e){var l;const{highlightSelection:t,highlightLabelSelection:i,_contextNodeData:n}=this;if(!n)return;const s=(l=this.ctx.highlightManager)==null?void 0:l.getActiveHighlight(),r=e&&(s!=null&&s.datum)?s:void 0;let o,a;if(r!=null){const u=this.isLabelEnabled(),{labelData:d,nodeData:p}=n;a=this.getHighlightData(p,r),o=u?this.getHighlightLabelData(d,r):void 0}return this.highlightSelection=this.updateHighlightSelectionItem({items:a,highlightSelection:t}),this.highlightLabelSelection=this.updateHighlightSelectionLabel({items:o,highlightLabelSelection:i}),a}markQuadtreeDirty(){this.quadtree=void 0}*datumNodesIter(){for(const{node:e}of this.datumSelection)e.datum.missing!==!0&&(yield e)}getQuadTree(){if(this.quadtree===void 0){const{width:e,height:t}=this.ctx.scene.canvas,i=new Ue(0,0,e,t);this.quadtree=new oTe(100,10,i),this.initQuadTree(this.quadtree)}return this.quadtree}initQuadTree(e){}pickNodesExactShape(e){const t=super.pickNodesExactShape(e);if(t.length!==0)return t;const{x:i,y:n}=e,{opts:{hasMarkers:s}}=this,{dataNodeGroup:r,markerGroup:o}=this;let a=r.pickNodes(i,n).filter(l=>l.datum.missing!==!0);if(a.length===0&&s&&(a=o==null?void 0:o.pickNodes(i,n).filter(l=>l.datum.missing!==!0)),a.length!==0)return a.map(u=>u.datum);for(const l of this.moduleMap.modules()){const{datum:u}=l.pickNodeExact(e)??{};if(u!=null&&(u==null?void 0:u.missing)!==!0)return[u]}return[]}pickNodeClosestDatum(e){var d;const{x:t,y:i}=e,{axes:n,_contextNodeData:s}=this;if(!s)return;const r=n.x,o=n.y,a={x:t,y:i};let l=1/0,u;for(const p of s.nodeData){const{point:{x:f=NaN,y:m=NaN}={}}=p;if(isNaN(f)||isNaN(m)||!((r==null?void 0:r.inRange(f))&&(o==null?void 0:o.inRange(m))))continue;const C=Math.max((a.x-f)**2+(a.y-m)**2,0);C<l&&(l=C,u=p)}for(const p of this.moduleMap.modules()){const f=p.pickNodeNearest(e);if(f!==void 0&&f.distanceSquared<l){l=f.distanceSquared,u=f.datum;break}}if(u){const p=Math.max(Math.sqrt(l)-(((d=u.point)==null?void 0:d.size)??0)/2,0);return{datum:u,distance:p}}}pickNodeMainAxisFirst(e,t){var y;const{x:i,y:n}=e,{axes:s,_contextNodeData:r}=this,{pickOutsideVisibleMinorAxis:o}=this.properties;if(!r)return;const a=s.x,l=s.y,u=[a,l].filter(Dp.is).map(C=>C.direction);if(t&&u.length===0)return;const[d="x"]=u,p=[i,n];d!=="x"&&p.reverse();const f=[1/0,1/0];let m;for(const C of r.nodeData){const{x:w=NaN,y:b=NaN}=C.point??C.midPoint??{};if(isNaN(w)||isNaN(b)||C.missing===!0)continue;const S=[a==null?void 0:a.inRange(w),l==null?void 0:l.inRange(b)];if(d!=="x"&&S.reverse(),!S[0]||!o&&!S[1])continue;const M=[w,b];d!=="x"&&M.reverse();let D=!0;for(let R=0;R<M.length;R++){const A=Math.abs(M[R]-p[R]);if(A>f[R]){D=!1;break}else A<f[R]&&(f[R]=A,f.fill(1/0,R+1,f.length))}D&&(m=C)}if(m){let C=Math.max(f[0]**2+f[1]**2-(((y=m.point)==null?void 0:y.size)??0),0);for(const w of this.moduleMap.modules()){const b=w.pickNodeMainAxisFirst(e);if(b!==void 0&&b.distanceSquared<C){m=b.datum,C=b.distanceSquared;break}}return{datum:m,distance:Math.sqrt(C)}}}isPathOrSelectionDirty(){return!1}shouldFlipXY(){return!1}visibleRange(e,t,i){const n=this.keysOrValues(e),s=0;return P6((i==null?void 0:i.length)??n.length,t,r=>{const o=(i==null?void 0:i[r])??r;return this.xCoordinateRange(n[o],s,o)})}domainForVisibleRange(e,t,i,n,s,r){const{processedData:o,dataModel:a}=this,[l,u]=n,d=this.keysOrValues(i);if(s){const y=this.visibleRange(i,n,r);return a.getDomainBetweenRange(this,t,y,o)}const p=t.map(y=>this.keysOrValues(y));let f=1/0,m=-1/0;return d.forEach((y,C)=>{const[w,b]=this.xCoordinateRange(y,0,C);if(!(b<l||w>u))for(let S=0;S<t.length;S++){const M=p[S][C];f=Math.min(f,M),m=Math.max(m,M)}}),f>m?[NaN,NaN]:[f,m]}domainForClippedRange(e,t,i,n){const{processedData:s,dataModel:r,axes:o}=this,l=uTe(o[e==="x"?"y":"x"]);if(!l)return t.flatMap(y=>r.getDomain(this,y,"value",s));const u=this.keysOrValues(i);if(n){const y=dTe(u.length,l,C=>u[C]);return r.getDomainBetweenRange(this,t,y,s)}const d=t.map(y=>this.keysOrValues(y)),p=l[0].valueOf(),f=l[1].valueOf(),m=[];return u.forEach((y,C)=>{const w=y.valueOf();if(w<p||w>f)return;const b=d.map(S=>S[C]);w>=p&&m.push(...b),w<=f&&m.push(...b)}),m}countVisibleItems(e,t,i,n,s){const{dataModel:r,processedData:o}=this;if(!r||!o)return 1/0;const a=this.keysOrValues(e),l=t.map(R=>r.resolveColumnById(this,R,o)),u=this.axes.x,d=this.axes.y,p=this.shouldFlipXY(),f=u.range,m=d.range,y=(R,A,k)=>R[0]+(k-A[0])/(A[1]-A[0])*(R[1]-R[0]),C=y(f,u.visibleRange,i[0]),w=y(f,u.visibleRange,i[1]),b=y(m,d.visibleRange,p?n[0]:n[1]),S=y(m,d.visibleRange,p?n[1]:n[0]),M=Math.round((i[0]+(i[1]-i[0])/2)*a.length),D=0;return F6(0,a.length-1,M,s,R=>{let[A,k]=this.xCoordinateRange(a[R],D,R),[F,P]=this.yCoordinateRange(l.map(L=>L[R]),D,R);return!Qt(A)||!Qt(k)||!Qt(F)||!Qt(P)?!1:(p&&([A,k,F,P]=[F,P,A,k]),A>=C&&k<=w&&F>=b&&P<=S)})}updateHighlightSelectionItem(e){const{opts:{hasMarkers:t}}=this,{items:i,highlightSelection:n}=e,s=i??[];if(t){const r=n;return this.updateMarkerSelection({nodeData:s,markerSelection:r})}else return this.updateDatumSelection({nodeData:s,datumSelection:n})}updateHighlightSelectionLabel(e){return this.updateLabelSelection({labelData:e.items??[],labelSelection:e.highlightLabelSelection})}updateDatumSelection(e){return e.datumSelection}updateDatumNodes(e){}updateMarkerSelection(e){return e.markerSelection}updateMarkerNodes(e){}updatePaths(e){e.paths.forEach(t=>t.visible=!1)}updatePathNodes(e){const{paths:t,opacity:i,visible:n}=e;for(const s of t)s.opacity=i,s.visible=n}resetPathAnimation(e){var i;const{path:t}=((i=this.opts)==null?void 0:i.animationResetFns)??{};t&&e.paths.forEach(n=>{hs([n],t)})}resetDatumAnimation(e){var i;const{datum:t}=((i=this.opts)==null?void 0:i.animationResetFns)??{};t&&hs([e.datumSelection],t)}resetLabelAnimation(e){var i;const{label:t}=((i=this.opts)==null?void 0:i.animationResetFns)??{};t&&hs([e.labelSelection],t)}resetMarkerAnimation(e){var i;const{marker:t}=((i=this.opts)==null?void 0:i.animationResetFns)??{};t&&this.opts.hasMarkers&&hs([e.markerSelection],t)}resetAllAnimation(e){var t;this.ctx.animationManager.stopByAnimationGroupId(this.id),this.resetPathAnimation(e),this.resetDatumAnimation(e),this.resetLabelAnimation(e),this.resetMarkerAnimation(e),((t=e.contextData)==null?void 0:t.animationValid)===!1&&this.ctx.animationManager.skipCurrentBatch()}animateEmptyUpdateReady(e){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation(e)}animateWaitingUpdateReady(e){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation(e)}animateReadyHighlight(e){var i;const{datum:t}=((i=this.opts)==null?void 0:i.animationResetFns)??{};t&&hs([e],t)}animateReadyHighlightMarkers(e){var i;const{marker:t}=((i=this.opts)==null?void 0:i.animationResetFns)??{};t&&hs([e],t)}animateReadyResize(e){this.resetAllAnimation(e)}animateClearingUpdateEmpty(e){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation(e)}getAnimationData(e,t){const{_contextNodeData:i}=this;return i?{datumSelection:this.datumSelection,markerSelection:this.markerSelection,labelSelection:this.labelSelection,annotationSelections:[...this.annotationSelections],contextData:i,previousContextData:t,paths:this.paths,seriesRect:e}:void 0}updateLabelSelection(e){return e.labelSelection}getScaling(e){if(e instanceof dP){const{range:t,domain:i}=e;return{type:"log",convert:n=>e.convert(n),domain:[i[0],i[1]],range:[t[0],t[1]]}}else if(e instanceof mi){const{range:t,domain:i}=e;return{type:"continuous",domain:[i[0],i[1]],range:[t[0],t[1]]}}else if(e instanceof ZC){const{domain:t}=e;return{type:"category",domain:t,inset:e.inset,step:e.step}}}calculateScaling(){const e={};for(const t of Object.values(Rk)){const i=this.axes[t];if(!i)continue;const n=this.getScaling(i.scale);n!=null&&(e[t]=n)}return e}};function uTe(e){let t,i;if((e instanceof Kc||e instanceof bd)&&({min:t,max:i}=e),!(t==null&&i==null))return t??(t=-1/0),i??(i=1/0),[t,i]}function dTe(e,t,i){const n=t[0].valueOf(),s=t[1].valueOf(),r=gW(0,e-1,a=>{var u;const l=(u=i(a))==null?void 0:u.valueOf();return!Number.isFinite(l)||l>=n});let o=fW(0,e-1,a=>{var u;const l=(u=i(a))==null?void 0:u.valueOf();return!Number.isFinite(l)||l<=s});return r==null||o==null?[0,0]:(o=Math.min(o+1,e),[r,o])}var hTe=vi(["linear","smooth","step"],"a line style"),pTe=vi(["start","middle","end"]),om=class extends gt{constructor(){super(...arguments),this.type="linear",this.tension=1,this.position="end"}};I([O()],om.prototype,"type",2);I([O()],om.prototype,"tension",2);I([O()],om.prototype,"position",2);var kn=class extends Xc{constructor(){super(...arguments),this.xName=void 0,this.fill="#c16068",this.fillGradientDefaults=new sa,this.fillPatternDefaults=new vn,this.fillOpacity=1,this.stroke="#874349",this.strokeWidth=2,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.interpolation=new om,this.shadow=new Wa,this.marker=new Cs,this.label=new rs,this.tooltip=new tr,this.connectMissingData=!1}};I([O()],kn.prototype,"xKey",2);I([O()],kn.prototype,"xName",2);I([O()],kn.prototype,"yKey",2);I([O()],kn.prototype,"yName",2);I([O()],kn.prototype,"yFilterKey",2);I([O()],kn.prototype,"normalizedTo",2);I([O(Hs(Nl,Bl,ao))],kn.prototype,"fill",2);I([O()],kn.prototype,"fillGradientDefaults",2);I([O()],kn.prototype,"fillPatternDefaults",2);I([O()],kn.prototype,"fillOpacity",2);I([O()],kn.prototype,"stroke",2);I([O()],kn.prototype,"strokeWidth",2);I([O()],kn.prototype,"strokeOpacity",2);I([O()],kn.prototype,"lineDash",2);I([O()],kn.prototype,"lineDashOffset",2);I([O()],kn.prototype,"interpolation",2);I([O()],kn.prototype,"shadow",2);I([O()],kn.prototype,"marker",2);I([O()],kn.prototype,"label",2);I([O()],kn.prototype,"tooltip",2);I([O()],kn.prototype,"connectMissingData",2);function Pl(e){switch(e.type){case"linear":case"step":return[{x:e.x0,y:e.y0},{x:e.x1,y:e.y1}];case"cubic":return[{x:e.cp0x,y:e.cp0y},{x:e.cp3x,y:e.cp3y}]}}function fTe(e){const t=Pl(e);return t[0].x>t[1].x&&t.reverse(),t}function gTe(e,t){const{x:i,y:n}=t;switch(e.type){case"linear":return{type:"linear",moveTo:e.moveTo,x0:i,y0:n,x1:i,y1:n};case"step":return{type:"step",moveTo:e.moveTo,x0:i,y0:n,x1:i,y1:n,stepX:i};case"cubic":return{type:"cubic",moveTo:e.moveTo,cp0x:i,cp0y:n,cp1x:i,cp1y:n,cp2x:i,cp2y:n,cp3x:i,cp3y:n}}}function aC(e,t,i){const[n,s]=Pl(e),r=s.x!==n.x?(i.x-t.x)/(s.x-n.x):0,o=s.y!==n.y?(i.y-t.y)/(s.y-n.y):0;switch(e.type){case"linear":return{type:"linear",moveTo:e.moveTo,x0:t.x,y0:t.y,x1:i.x,y1:i.y};case"cubic":return{type:"cubic",moveTo:e.moveTo,cp0x:t.x,cp0y:t.y,cp1x:i.x-(e.cp2x-n.x)*r,cp1y:i.y-(e.cp2y-n.y)*o,cp2x:i.x-(e.cp1x-n.x)*r,cp2y:i.y-(e.cp1y-n.y)*o,cp3x:i.x,cp3y:i.y};case"step":return{type:"step",moveTo:e.moveTo,x0:t.x,y0:t.y,x1:i.x,y1:i.y,stepX:i.x-(e.stepX-n.x)*r}}}function w$(e,t,i){const{moveTo:n}=e,[s,r]=fTe(e),{x:o,y:a}=s,{x:l,y:u}=r;if(i<o)return aC(e,s,s);if(t>l)return aC(e,r,r);switch(e.type){case"linear":{const d=a===u?void 0:(u-a)/(l-o),p=d==null?a:d*(t-o)+a,f=d==null?a:d*(i-o)+a;return{type:"linear",moveTo:n,x0:t,y0:p,x1:i,y1:f}}case"step":if(i<=e.stepX){const d=e.y0;return{type:"step",moveTo:n,x0:t,y0:d,x1:i,y1:d,stepX:i}}else if(t>=e.stepX){const d=e.y1;return{type:"step",moveTo:n,x0:t,y0:d,x1:i,y1:d,stepX:t}}else{const{y0:d,y1:p,stepX:f}=e;return{type:"step",moveTo:n,x0:t,y0:d,x1:i,y1:p,stepX:f}}case"cubic":{const d=KS(e.cp0x,e.cp1x,e.cp2x,e.cp3x,t);let[p,f]=qS(e.cp0x,e.cp0y,e.cp1x,e.cp1y,e.cp2x,e.cp2y,e.cp3x,e.cp3y,d);const m=KS(f[0].x,f[1].x,f[2].x,f[3].x,i);return[f,p]=qS(f[0].x,f[0].y,f[1].x,f[1].y,f[2].x,f[2].y,f[3].x,f[3].y,m),{type:"cubic",moveTo:n,cp0x:f[0].x,cp0y:f[0].y,cp1x:f[1].x,cp1y:f[1].y,cp2x:f[2].x,cp2y:f[2].y,cp3x:f[3].x,cp3y:f[3].y}}}}function mTe(e){const t=[];let i=0,n=NaN,s=NaN;for(const{x:r,y:o}of e){if(i>0){const a=i===1;t.push({type:"linear",moveTo:a,x0:n,y0:s,x1:r,y1:o})}i+=1,n=r,s=o}return t}var yTe={start:0,middle:.5,end:1};function vTe(e,t){const i=[];let n=0,s=NaN,r=NaN;const o=typeof t=="number"?t:yTe[t];for(const{x:a,y:l}of e){if(n>0){const u=n===1,d=s+(a-s)*o;i.push({type:"step",moveTo:u,x0:s,y0:r,x1:a,y1:l,stepX:d})}n+=1,s=a,r=l}return i}var cw=.05;function CTe(e,t){const i=Array.isArray(e)?e:Array.from(e);if(i.length<=1)return[];const n=i.map((r,o)=>{const a=o===0?r:i[o-1],l=o===i.length-1?r:i[o+1],u=o===0||o===i.length-1;if(Math.sign(a.y-r.y)===Math.sign(l.y-r.y))return 0;if(!u){const d=Math.abs(a.y-l.y),p=Math.abs(r.y-a.y)/d,f=Math.abs(r.y-l.y)/d;if(p<=cw||1-p<=cw||f<=cw||1-f<=cw)return 0}return(l.y-a.y)/(l.x-a.x)});n[1]===0&&(n[0]*=2),n[n.length-2]===0&&(n[n.length-1]*=2);const s=[];for(let r=1;r<i.length;r+=1){const o=i[r-1],a=n[r-1],l=i[r],u=n[r],d=l.x-o.x,p=l.y-o.y;let f=d*t/3,m=d*a*t/3,y=d*t/3,C=d*u*t/3;u===0&&Math.abs(m)>Math.abs(p)&&(f*=Math.abs(p/m),m=Math.sign(m)*Math.abs(p)),a===0&&Math.abs(C)>Math.abs(p)&&(y*=Math.abs(p/C),C=Math.sign(C)*Math.abs(p)),s.push({type:"cubic",moveTo:r===1,cp0x:o.x,cp0y:o.y,cp1x:o.x+f,cp1y:o.y+m,cp2x:l.x-y,cp2y:l.y-C,cp3x:l.x,cp3y:l.y})}return s}function $n(e,t,i){return(t-e)*i+e}function bTe(e,t){const{x0:i,y0:n,x1:s,y1:r}=e,a=(r-n)/(s-i)*(t-i)+n;return{leftCp1x:i,leftCp1y:n,leftCp2x:t,leftCp2y:a,stepX:t,stepY0:a,stepY1:a,rightCp1x:t,rightCp1y:a,rightCp2x:s,rightCp2y:r}}function wTe(e,t){const{cp0x:i,cp0y:n,cp1x:s,cp1y:r,cp2x:o,cp2y:a,cp3x:l,cp3y:u}=e,d=KS(i,s,o,l,t),[p,f]=qS(i,n,s,r,o,a,l,u,d),m=p[3].y;return{leftCp1x:p[1].x,leftCp1y:p[1].y,leftCp2x:p[2].x,leftCp2y:p[2].y,stepX:t,stepY0:m,stepY1:m,rightCp1x:f[1].x,rightCp1y:f[1].y,rightCp2x:f[2].x,rightCp2y:f[2].y}}function STe(e){const{x0:t,y0:i,x1:n,y1:s,stepX:r}=e;return{leftCp1x:(t+r)/2,leftCp1y:i,leftCp2x:(t+r)/2,leftCp2y:i,stepX:r,stepY0:i,stepY1:s,rightCp1x:(r+n)/2,rightCp1y:s,rightCp2x:(r+n)/2,rightCp2y:s}}function i4(e,t){return e.type==="linear"?bTe(e,t):e.type==="cubic"?wTe(e,t):STe(e)}function S$(e,t,i,n,s,r,o){switch(t){case 0:o?e.moveTo(s,r):e.moveTo(i,n);break;case 1:o?e.lineTo(s,r):e.lineTo(i,n);break}}function x$(e,t,i,n,s,r){r?e.lineTo(t,i):e.lineTo(n,s)}function M$(e,t,i,n,s,r,o,a,l,u){u?e.cubicCurveTo(r,o,n,s,t,i):e.cubicCurveTo(n,s,r,o,a,l)}function D$(e,t,i,n,s,r,o){o?(e.lineTo(r,s),e.lineTo(r,i),e.lineTo(t,i)):(e.lineTo(r,i),e.lineTo(r,s),e.lineTo(n,s))}function oI(e,t,i,n){const[s,r]=Pl(t);switch(S$(e,i,s.x,s.y,r.x,r.y,n),t.type){case"linear":x$(e,t.x0,t.y0,t.x1,t.y1,n);break;case"cubic":M$(e,t.cp0x,t.cp0y,t.cp1x,t.cp1y,t.cp2x,t.cp2y,t.cp3x,t.cp3y,n);break;case"step":D$(e,t.x0,t.y0,t.x1,t.y1,t.stepX,n);break}}function R$(e,t,i){const[n,s]=Pl(e),[r,o]=Pl(t),a=$n(n.x,r.x,i),l=$n(n.y,r.y,i),u=$n(s.x,o.x,i),d=$n(s.y,o.y,i);return[{x:a,y:l},{x:u,y:d}]}function aI(e,t,i,n,s,r){const[{x:o,y:a},{x:l,y:u}]=R$(t,i,n);if(S$(e,s,o,a,l,u,r),t.type==="cubic"&&i.type==="cubic"){const d=$n(t.cp1x,i.cp1x,n),p=$n(t.cp1y,i.cp1y,n),f=$n(t.cp2x,i.cp2x,n),m=$n(t.cp2y,i.cp2y,n);M$(e,o,a,d,p,f,m,l,u,r)}else if(t.type==="step"&&i.type==="step"){const d=$n(t.stepX,i.stepX,n);D$(e,o,a,l,u,d,r)}else if(t.type==="linear"&&i.type==="linear")x$(e,o,a,l,u,r);else{let d;t.type==="step"?d=t.stepX:i.type==="step"?d=i.stepX:d=(o+l)/2;const p=i4(t,d),f=i4(i,d),m=$n(p.leftCp1x,f.leftCp1x,n),y=$n(p.leftCp1y,f.leftCp1y,n),C=$n(p.leftCp2x,f.leftCp2x,n),w=$n(p.leftCp2y,f.leftCp2y,n),b=$n(p.stepX,f.stepX,n),S=$n(p.stepY0,f.stepY0,n),M=$n(p.stepY1,f.stepY1,n),D=$n(p.rightCp1x,f.rightCp1x,n),R=$n(p.rightCp1y,f.rightCp1y,n),A=$n(p.rightCp2x,f.rightCp2x,n),k=$n(p.rightCp2y,f.rightCp2y,n);r?(e.cubicCurveTo(A,k,D,R,b,M),e.lineTo(b,S),e.cubicCurveTo(C,w,m,y,o,a)):(e.cubicCurveTo(m,y,C,w,b,S),e.lineTo(b,M),e.cubicCurveTo(D,R,A,k,l,u))}}var E$=(e=>(e[e.Zero=0]="Zero",e[e.Split=1]="Split",e))(E$||{});function xTe(e,t){return e==null||t==null||typeof e!="object"||typeof t!="object"?!1:"id"in e&&"id"in t?e.id===t.id:e.toString()===t.toString()}function Ys(e,t){if(!t)return NaN;if(e instanceof Date&&(e=e.getTime()),t.type==="continuous"&&typeof e=="number")return(e-t.domain[0])/(t.domain[1]-t.domain[0])*(t.range[1]-t.range[0])+t.range[0];if(t.type==="log"&&typeof e=="number")return t.convert(e);if(t.type!=="category")return NaN;const i=t.domain.findIndex(s=>s===e);return i>=0||t.domain.findIndex(s=>xTe(e,s))>=0?t.inset+t.step*i:NaN}function Uo(e){return ZA(e).valueOf()}function n4({data:e},t){return e.map((i,n)=>({xValue0Index:t.indexOf(Uo(i.xValue0)),xValue1Index:t.indexOf(Uo(i.xValue1)),datumIndex:n}))}function MTe(e,t){const i=t.scales.x,n=e.scales.x;if((i==null?void 0:i.type)!=="category"||(n==null?void 0:n.type)!=="category")return!0;let s=-1/0;for(const r of i.domain){const o=Ys(r,n);if(Number.isFinite(o)){if(o<s)return!1;s=o}}return!0}function DTe(e,t){let i=-1/0;for(const n of e){const s=Ys(n.value,t.scales.x);if(Number.isFinite(s)){if(s<i)return!1;i=s}}return!0}function RTe(e,t){const i=new Map;for(const{xValue0:d,xValue1:p}of e.data){const f=Uo(d),m=Uo(p);i.set(f,d).set(m,p)}const n=Array.from(i,([d,p])=>({axisValue:d,value:p}));n.sort((d,p)=>Ys(d.value,e.scales.x)-Ys(p.value,e.scales.x));const s=[];for(const{xValue0:d,xValue1:p}of t.data){const f=Uo(d),m=Uo(p);i.has(f)||(i.set(f,d),s.push({axisValue:f,value:d})),i.has(m)||(i.set(m,p),s.push({axisValue:m,value:p}))}s.sort((d,p)=>Ys(d.value,t.scales.x)-Ys(p.value,t.scales.x));const r=n;let o=0;for(const d of s){for(let p=r.length-1;p>o;p-=1){const f=Ys(d.value,t.scales.x),m=Ys(r[p].value,t.scales.x);if(f>m){o=p+1;break}}r.splice(o,0,d),o+=1}if(!DTe(r,t))return;const a=r.map(d=>d.axisValue),l=n4(t,a),u=n4(e,a);return{axisValues:a,oldDataAxisIndices:l,newDataAxisIndices:u}}function s4(e,t,i){if(i.xValue1Index===i.xValue0Index+1)return e;const n=Pl(e),s=(n[1].x-n[0].x)/(i.xValue1Index-i.xValue0Index),r=n[0].x+(t-i.xValue0Index)*s,o=r+s;return w$(e,r,o)}function T$(e,t){const[i,n]=Pl(e),s=Ys(0,t.scales.y);return aC(e,{x:i.x,y:s},{x:n.x,y:s})}function A$(e){const[t,i]=Pl(e);return gTe(e,{x:(t.x+i.x)/2,y:(t.y+i.y)/2})}function I$(e,t,i,n,s,r){var p,f;let o,a;if(s.xValue0Index>=r.xValue1Index){const m=(p=n.findLast(C=>C.xValue1Index<=r.xValue1Index))==null?void 0:p.datumIndex,y=m!=null?i.data[m]:void 0;o=y==null?void 0:y.xValue1,a=y==null?void 0:y.yValue1}else if(s.xValue0Index<=r.xValue0Index){const m=(f=n.find(C=>C.xValue0Index>=r.xValue0Index))==null?void 0:f.datumIndex,y=m!=null?i.data[m]:void 0;o=y==null?void 0:y.xValue0,a=y==null?void 0:y.yValue0}if(o==null||a==null)switch(t){case 0:return T$(e,i);case 1:return A$(e)}const l=Ys(o,i.scales.x),u=Ys(a,i.scales.y),d={x:l,y:u};return aC(e,d,d)}function TP(e,t){var s;if(t==null)return;const i=Uo(e.xValue0),n=Uo(e.xValue1);return(s=t.find(r=>Uo(r.xValue0)===i&&Uo(r.xValue1)===n))==null?void 0:s.span}function r4(e,t,i,n,s,r,o){const a=e.data[n.datumIndex],l=a.span,u=TP(a,s);if(u!=null)o.removed.push({from:u,to:u}),o.moved.push({from:u,to:l}),o.added.push({from:l,to:l});else{const d=I$(l,t,e,i,n,r);o.added.push({from:d,to:l})}}function o4(e,t,i,n,s,r,o){const a=e.data[n.datumIndex],l=a.span,u=TP(a,s);if(u!=null)o.removed.push({from:l,to:l}),o.moved.push({from:l,to:u}),o.added.push({from:u,to:u});else{const d=I$(l,t,e,i,n,r);o.removed.push({from:l,to:d})}}function a4(e,t,i,n,s){const r=t[s.xValue0Index],o=i.data.find(w=>Uo(w.xValue0)===r),a=t[s.xValue1Index],l=i.data.find(w=>Uo(w.xValue1)===a);if(o==null||l==null)return;const[{x:u},{x:d}]=Pl(e),p=Ys(o.xValue0,i.scales.x),f=Ys(o.yValue0,i.scales.y),m=Ys(l.xValue1,i.scales.x),y=Ys(l.yValue1,i.scales.y);let C=n.data[s.datumIndex].span;return C=aC(C,{x:p,y:f},{x:m,y}),C=w$(C,u,d),C}function ETe(e,t,i,n,s,r,o,a,l){const u=s+1,d=o.find(M=>M.xValue0Index<=s&&M.xValue1Index>=u),p=r.find(M=>M.xValue0Index<=s&&M.xValue1Index>=u),f=t.zeroData,m=e.zeroData;if(d==null&&p!=null){r4(e,i,r,p,f,a,l);return}else if(d!=null&&p==null){o4(t,i,o,d,m,a,l);return}else if(d==null||p==null)return;let y;d.xValue0Index===p.xValue0Index&&d.xValue1Index===p.xValue1Index?y=0:d.xValue0Index<=p.xValue0Index&&d.xValue1Index>=p.xValue1Index?y=-1:d.xValue0Index>=p.xValue0Index&&d.xValue1Index<=p.xValue1Index?y=1:y=0;const C=t.data[d.datumIndex],w=s4(C.span,s,d),b=e.data[p.datumIndex],S=s4(b.span,s,p);if(y===1){const M=a4(w,n,t,e,p);M!=null?(l.removed.push({from:w,to:M}),l.moved.push({from:M,to:S}),l.added.push({from:S,to:S})):o4(t,i,o,d,m,a,l)}else if(y===-1){const M=a4(S,n,e,t,d);M!=null?(l.removed.push({from:w,to:w}),l.moved.push({from:w,to:M}),l.added.push({from:M,to:S})):r4(e,i,r,p,f,a,l)}else l.removed.push({from:w,to:w}),l.moved.push({from:w,to:S}),l.added.push({from:S,to:S})}function TTe(e,t,i,n){var u,d,p,f;const s={removed:[],moved:[],added:[]},{axisValues:r,oldDataAxisIndices:o,newDataAxisIndices:a}=e,l={xValue0Index:Math.max(((u=o.at(0))==null?void 0:u.xValue0Index)??-1/0,((d=a.at(0))==null?void 0:d.xValue0Index)??-1/0),xValue1Index:Math.min(((p=o.at(-1))==null?void 0:p.xValue1Index)??1/0,((f=a.at(-1))==null?void 0:f.xValue1Index)??1/0)};for(let m=0;m<r.length-1;m+=1)ETe(t,i,n,r,m,a,o,l,s);return s}function l4(e,t,i){const{span:n}=t;switch(i){case 0:return TP(t,e.zeroData)??T$(n,e);case 1:return A$(n)}}function ATe(e,t,i){const n=[],s=[];for(const r of t.data){const o=r.span,a=l4(t,r,i);s.push({from:o,to:a})}for(const r of e.data){const o=r.span,a=l4(e,r,i);n.push({from:a,to:o})}return{removed:s,moved:[],added:n}}function vv(e,t,i){if(!MTe(e,t))return;const n=RTe(e,t);return n==null?ATe(e,t,i):TTe(n,e,t,i)}function c4(e){return e.type==="continuous"||e.type==="log"}function u4(e){return e.type==="category"}function Xf(e,t){return e===void 0||t===void 0?e!==void 0||t!==void 0:c4(e)&&c4(t)?e.type===t.type&&wl(e.domain,t.domain)&&wl(e.range,t.range):u4(e)&&u4(t)?e.inset===t.inset&&e.step===t.step&&wl(e.domain,t.domain):!1}function lC(e){return e==null?!1:e.type==="category"?e.domain.every(t=>t!=null):e.domain.every(t=>Number.isFinite(t)||t instanceof Date)&&e.range.every(t=>Number.isFinite(t))}function hx(e,t){let i;const n=e.map(s=>s.point);switch(t.type){case"linear":i=mTe(n);break;case"smooth":i=CTe(n,t.tension);break;case"step":i=vTe(n,t.position);break}return i.map((s,r)=>({span:s,xValue0:e[r].xDatum,yValue0:e[r].yDatum,xValue1:e[r+1].xDatum,yValue1:e[r+1].yDatum}))}function L$(e,t,i=.001){return Math.abs(e.x-t.x)<i&&Math.abs(e.y-t.y)<i}function AP({path:e},t){let i;for(const{span:n}of t){const[s,r]=Pl(n),o=i!=null&&L$(i,s)?1:0;oI(e,n,o,!1),i=r}}function qw(e,t,i){let n;for(const s of i){const[r,o]=R$(s.from,s.to,e),a=n!=null&&L$(n,r)?1:0;aI(t.path,s.from,s.to,e,a,!1),n=o}}function IP(e,t,i){const n=(a,l)=>qw(a,l,t.removed),s=(a,l)=>qw(a,l,t.moved),r=(a,l)=>qw(a,l,t.added),o=LP(e,i);return{status:e,path:{addPhaseFn:r,updatePhaseFn:s,removePhaseFn:n},pathProperties:o}}function LP(e,t){const i=t==="none"?"updated":e,n={fromFn:s=>{let r;return e==="removed"?r={finish:{visible:!1}}:e==="added"?r={start:{visible:!0}}:r={},{phase:wa[i],...r}},toFn:s=>({phase:wa[i]})};return t==="fade"?{fromFn:s=>({opacity:e==="added"?0:s.opacity,...n.fromFn(s)}),toFn:s=>({opacity:e==="removed"?0:1,...n.toFn(s)})}:n}function k$(e,t,i){var u,d;const n=((u=e.scales.x)==null?void 0:u.type)==="category",s=((d=t.scales.x)==null?void 0:d.type)==="category";if(n!==s||!lC(e.scales.x)||!lC(t.scales.x)||e.strokeData==null||t.strokeData==null)return;let r="updated";t.visible&&!e.visible?r="removed":!t.visible&&e.visible&&(r="added");const o=vv({scales:e.scales,data:e.strokeData.spans},{scales:t.scales,data:t.strokeData.spans},1);if(o==null)return;const a=IP(r,o,"fade"),l=((i==null?void 0:i.changed)??!0)||!Xf(e.scales.x,t.scales.x)||!Xf(e.scales.y,t.scales.y)||r!=="updated";return{status:r,stroke:a,hasMotion:l}}function P$({path:e},{spans:t,phantomSpans:i}){for(let n=0;n<t.length;n+=1){const{span:s}=t[n],r=i[n].span;oI(e,s,0,!1),oI(e,r,1,!0),e.closePath()}}function Zw(e,{path:t},i,n){for(let s=0;s<i.length;s+=1){const r=i[s],o=n[s];aI(t,r.from,r.to,e,0,!1),aI(t,o.from,o.to,e,1,!0),t.closePath()}}function F$(e,t,i,n){const s=(l,u)=>Zw(l,u,t.removed,i.removed),r=(l,u)=>Zw(l,u,t.moved,i.moved),o=(l,u)=>Zw(l,u,t.added,i.added),a=LP(e,n);return{status:e,path:{addPhaseFn:o,updatePhaseFn:r,removePhaseFn:s},pathProperties:a}}function O$(e,t){var p,f;const i=((p=e.scales.x)==null?void 0:p.type)==="category",n=((f=t.scales.x)==null?void 0:f.type)==="category";if(i!==n||!lC(e.scales.x)||!lC(t.scales.x))return;let s="updated";t.visible&&!e.visible?s="removed":!t.visible&&e.visible&&(s="added");const r=vv({scales:e.scales,data:e.fillData.spans},{scales:t.scales,data:t.fillData.spans},0);if(r==null)return;const o=vv({scales:e.scales,data:e.fillData.phantomSpans},{scales:t.scales,data:t.fillData.phantomSpans},0);if(o==null)return;const a=vv({scales:e.scales,data:e.strokeData.spans,zeroData:e.fillData.phantomSpans},{scales:t.scales,data:t.strokeData.spans,zeroData:t.fillData.phantomSpans},0);if(a==null)return;const l="none",u=F$(s,r,o,l),d=IP(s,a,l);return{status:s,fill:u,stroke:d}}function cC({id:e},t,i,...n){const s={phase:i?wa[i]:"trailing"};jc(e,"markers",t,n,{opacity:0},{opacity:1},s),n.forEach(r=>r.cleanup())}function kP({id:e},t,...i){jc(e,"markers",t,i,{scalingX:0,scalingY:0},{scalingX:1,scalingY:1},{phase:"initial"}),i.forEach(n=>n.cleanup())}function PP({id:e,nodeDataDependencies:t},i,...n){const s=t.seriesRectWidth;fn(e,"markers",i,n,{fromFn:(a,l)=>{var p;const u=((p=l.midPoint)==null?void 0:p.x)??s;let d=ft(0,M6(u/s),1);return isNaN(d)&&(d=0),{scalingX:0,scalingY:0,delay:d,duration:tx,phase:"initial"}},toFn:()=>({scalingX:1,scalingY:1})})}function yb(e){return{opacity:1,scalingX:1,scalingY:1}}function uC(e,t){var i,n,s,r;return{x:((i=t.point)==null?void 0:i.x)??NaN,y:((n=t.point)==null?void 0:n.y)??NaN,scalingCenterX:((s=t.point)==null?void 0:s.x)??NaN,scalingCenterY:((r=t.point)==null?void 0:r.y)??NaN}}function vb(e,{datumIndex:t}){const i=e.getNodeData();if(i===void 0)return;const n=i[t],{point:s}=n??{};if(n==null||s==null)return;const r=4+(s.focusSize??e.getFormattedMarkerStyle(n).size),o=r/2,a=n.point.x-o,l=n.point.y-o;return mn.toCanvas(e.contentGroup,new Ue(a,l,r,r))}function FP({id:e,visible:t,nodeDataDependencies:i},n,...s){const{seriesRectWidth:r,seriesRectHeight:o}=i;jc(e,"path_properties",n,s,{clipX:0},{clipX:r},{phase:"initial",start:{clip:!0,clipY:o,visible:t},finish:{clip:!1,visible:t}})}function px({id:e},t,i,n="add",...s){jc(e,t,i,s,{opacity:0},{opacity:1},{phase:n})}function OP(e){return t=>({visible:e.getVisible(),opacity:e.getOpacity(),clipScalingX:1,clip:!1})}function fx({nodeDataDependencies:e},t){const i=n=>isFinite(n)?n:0;t.clipX=i(e.seriesRectWidth),t.clipY=i(e.seriesRectHeight)}var ITe=.125,LTe=.25,ZM=class extends Md{constructor(e){super({moduleCtx:e,directionKeys:Tp,directionNames:Ap,categoryKey:"xValue",pathsPerSeries:["fill","stroke"],pathsZIndexSubOrderOffset:[0,1e3],hasMarkers:!0,markerSelectionGarbageCollection:!1,pickModes:[2,0],animationResetFns:{path:OP({getVisible:()=>this.visible,getOpacity:()=>this.getOpacity()}),label:Zc,marker:(t,i)=>({...yb(),...uC(t,i)})},clipFocusBox:!1}),this.properties=new kn,this.connectsToYAxis=!0,this.backgroundGroup=new dt({name:`${this.id}-background`,zIndex:0}),this._isStacked=void 0}get pickModeAxis(){return"main"}renderToOffscreenCanvas(){return super.renderToOffscreenCanvas()||this.contextNodeData!=null&&(this.contextNodeData.fillData.spans.length>dx||this.contextNodeData.strokeData.spans.length>dx)}attachSeries(e,t,i){super.attachSeries(e,t,i),e.appendChild(this.backgroundGroup)}detachSeries(e,t,i){super.detachSeries(e,t,i),e==null||e.removeChild(this.backgroundGroup)}attachPaths([e,t]){this.backgroundGroup.appendChild(e),this.contentGroup.appendChild(t),t.zIndex=-1}detachPaths([e,t]){this.backgroundGroup.removeChild(e),this.contentGroup.removeChild(t)}isStacked(){var t;return(((t=this.seriesGrouping)==null?void 0:t.stackCount)??1)>1}setSeriesIndex(e){const t=this.isStacked();return!super.setSeriesIndex(e)&&this._isStacked===t?!1:(this._isStacked=t,t?(this.backgroundGroup.zIndex=[0,e],this.contentGroup.zIndex=[1,e,0]):(this.backgroundGroup.zIndex=[1,e,0,0],this.contentGroup.zIndex=[1,e,0,1]),!0)}async processData(e){var S,M;if(this.data==null||!this.properties.isValid())return;const{data:t,visible:i,seriesGrouping:{groupIndex:n=this.id,stackCount:s=1}={}}=this,{xKey:r,yKey:o,yFilterKey:a,connectMissingData:l,normalizedTo:u}=this.properties,d=!this.ctx.animationManager.isSkipped(),p=(S=this.axes.x)==null?void 0:S.scale,f=(M=this.axes.y)==null?void 0:M.scale,{xScaleType:m,yScaleType:y}=this.getScaleInformation({xScale:p,yScale:f}),C={value:`area-stack-${n}-yValue`,values:`area-stack-${n}-yValues`,stack:`area-stack-${n}-yValue-stack`,marker:`area-stack-${n}-yValues-marker`},w=[];uv(u)&&w.push(GM(Object.values(C),u)),d&&w.push(em());const b={invalidValue:null};(uv(u)||l)&&s>1&&(b.invalidValue=0),i||(b.forceValue=0),await this.requestDataModel(e,t,{props:[Da(r,m,{id:"xValue"}),Wt(o,y,{id:"yValueRaw",...b}),...a!=null?[Wt(a,y,{id:"yFilterRaw"})]:[],...JU(o,y,{id:"yValueStack",...b,groupId:C.stack}),Wt(o,y,{id:"yValue",...b,groupId:C.value}),...Ju(o,"window","current",{id:"yValueEnd",...b,groupId:C.values},y),...Ju(o,"normal","current",{id:"yValueCumulative",...b,groupId:C.marker},y),...w],groupByKeys:!0,groupByData:!1}),this.animationState.transition("updateData")}xCoordinateRange(e,t){const{marker:i}=this.properties,n=this.axes.x.scale.convert(e),s=i.enabled?.5*i.size*t:0;return[n-s,n+s]}yCoordinateRange(e,t){const{marker:i}=this.properties,n=this.axes.y.scale.convert(e[0]),s=i.enabled?.5*i.size*t:0;return[n-s,n+s]}getSeriesDomain(e){const{processedData:t,dataModel:i,axes:n}=this;if(!t||!i)return[];const s=n.y;if(e==="x"){const o=i.resolveProcessedDataDefById(this,"xValue"),a=i.getDomain(this,"xValue","key",t);return(o==null?void 0:o.def.type)==="key"&&o.def.valueType==="category"?a:Nr($c(a))}const r=this.domainForClippedRange("y",["yValueCumulative"],"xValue",!0);if(s instanceof im||s instanceof bd)return Nr(r);{const o=Number.isFinite(r[1]-r[0])?[r[0]>0?0:r[0],r[1]<0?0:r[1]]:[];return Nr(o)}}getSeriesRange(e,t){const[i,n]=this.domainForVisibleRange("y",["yValueCumulative"],"xValue",t,!0);return[Math.min(i,0),Math.max(n,0)]}getVisibleItems(e,t,i){return this.countVisibleItems("xValue",["yValueCumulative"],e,t,i)}createNodeData(){var de;const{axes:e,data:t,processedData:i,dataModel:n}=this,s=e.x,r=e.y;if(!s||!r||!t||!n||(i==null?void 0:i.type)!=="grouped"||!this.properties.isValid())return;const{yKey:o,xKey:a,yFilterKey:l,marker:u,label:d,fill:p,stroke:f,connectMissingData:m,interpolation:y}=this.properties,{scale:C}=s,{scale:w}=r,{isContinuousY:b}=this.getScaleInformation({xScale:C,yScale:w}),S=(C.bandwidth??0)/2,M=n.resolveKeysById(this,"xValue",i),D=n.resolveColumnById(this,"yValueEnd",i),R=n.resolveColumnById(this,"yValueRaw",i),A=n.resolveColumnById(this,"yValueCumulative",i),k=l!=null?n.resolveColumnById(this,"yFilterRaw",i):void 0,F=n.resolveColumnById(this,"yValueStack",i),P=(we,ce,pe)=>{let ae;return(uv(this.properties.normalizedTo)?b&&kM(pe):!isNaN(pe))&&(ae=ce),{x:C.convert(we)+S,y:w.convert(ae),size:u.size}},L=[],z=[],{visibleSameStackCount:H}=this.ctx.seriesStateManager.getVisiblePeerGroupIndex(this);let V=!1;const{dataSources:q}=i,K=q.get(this.id)??[];for(const{datumIndex:we}of n.forEachGroupDatum(this,i)){const ce=M[we];if(ce==null)return;const pe=K[we],ae=R[we],xe=A[we],Ie=D[we],Fe=Number.isFinite(ae),Me=P(ce,+xe,ae),_e=k!=null?k[we]===ae:void 0;if(_e===!1&&(V=!0),Fe&&u&&z.push({series:this,itemId:o,datum:pe,datumIndex:we,midPoint:{x:Me.x,y:Me.y},cumulativeValue:Ie,yValue:ae,xValue:ce,yKey:o,xKey:a,point:Me,fill:u.fill??p,stroke:u.stroke??f,strokeWidth:u.strokeWidth??this.getStrokeWidth(this.properties.strokeWidth),selected:_e}),Fe&&d){const tt=this.getLabelText(d,{value:ae,datum:pe,xKey:a,yKey:o,xName:this.properties.xName,yName:this.properties.yName});L.push({series:this,itemId:o,datum:pe,datumIndex:we,x:Me.x,y:Me.y,labelText:tt})}}const j=we=>we.flatMap(ce=>Array.isArray(ce)?hx(ce,y):new Array(ce.skip).fill(null)),Z=(we,ce)=>({point:{x:C.convert(we)+S,y:w.convert(ce)},xDatum:we,yDatum:ce}),W=we=>{const ce=[];for(const{datumIndexes:[pe,ae,xe]}of n.forEachGroupDatumTuple(this,i)){const Ie=M[ae],Fe=F[ae],Me=Fe[we],_e=Number.isFinite(Me);if(m&&!_e)continue;const tt=pe!=null?F[pe]:void 0,He=xe!=null?F[xe]:void 0;let Ke=0,yt=0;for(let Ve=0;Ve<=we;Ve+=1){const Pe=Fe[Ve];if(Number.isFinite(Pe)){const Nt=tt==null||Number.isFinite(tt[Ve]),Ct=He==null||Number.isFinite(He[Ve]);Nt&&(Ke+=Pe),Ct&&(yt+=Pe)}}const qe=ce[ce.length-1];if(!m&&(Ke!==yt||!_e))if(!_e&&Array.isArray(qe)&&qe.length===1)ce[ce.length-1]={skip:1};else{const Ve=Z(Ie,Ke),Pe=Z(Ie,yt);Array.isArray(qe)?qe.push(Ve):qe!=null&&(qe.skip+=1),ce.push(_e?[Pe]:{skip:0})}else{const Ve=m?Me:Math.max(Ke,yt),Pe=Z(Ie,Ve);Array.isArray(qe)?qe.push(Pe):qe!=null?(qe.skip+=1,ce.push([Pe])):ce.push([Pe])}}return j(ce)},Y=((de=this.seriesGrouping)==null?void 0:de.stackIndex)??0,G=()=>{const we=Array.from(n.forEachGroupDatum(this,i),({datumIndex:ce})=>{const pe=M[ce],xe=F[ce][Y];if(!(m&&!Number.isFinite(xe)))return Z(pe,0)}).filter(ce=>ce!=null);return hx(we,y)},U=W(Y),te=U.map(()=>null);for(let we=Y-1;we>=-1;we-=1){let ce;for(let pe=0;pe<te.length;pe+=1)te[pe]==null&&(ce??(ce=we!==-1?W(we):G()),te[pe]=ce[pe])}const ee=U.map((we,ce)=>we??te[ce]),Q=U.filter(we=>we!=null);return{itemId:o,fillData:{itemId:o,spans:ee,phantomSpans:te},strokeData:{itemId:o,spans:Q},labelData:L,nodeData:z,scales:this.calculateScaling(),visible:this.visible,stackVisible:H>0,crossFiltering:V}}isPathOrSelectionDirty(){return this.properties.marker.isDirty()}updatePathNodes(e){var u;const{opacity:t,visible:i,animationEnabled:n}=e,[s,r]=e.paths,o=((u=this.contextNodeData)==null?void 0:u.crossFiltering)===!0,a=this.getStrokeWidth(this.properties.strokeWidth);r.setProperties({fill:void 0,lineCap:"round",lineJoin:"round",pointerEvents:1,stroke:this.properties.stroke,strokeWidth:a,strokeOpacity:this.properties.strokeOpacity*(o?LTe:1),lineDash:this.properties.lineDash,lineDashOffset:this.properties.lineDashOffset,opacity:t,visible:i||n});const l=Wh(this.properties.fill,this.properties.fillGradientDefaults,this.properties.fillPatternDefaults);up(s,{fill:l,stroke:void 0,fillOpacity:this.properties.fillOpacity*(o?ITe:1)},void 0,this.getShapeFillBBox()),s.setProperties({lineJoin:"round",pointerEvents:1,fillShadow:this.properties.shadow,opacity:t,visible:i||n}),fx(this,r),fx(this,s)}updatePaths(e){this.updateAreaPaths(e.paths,e.contextData)}updateAreaPaths(e,t){for(const i of e)i.visible=t.visible;if(t.visible)this.updateFillPath(e,t),this.updateStrokePath(e,t);else for(const i of e)i.path.clear(),i.markDirty("AreaSeries")}updateFillPath(e,t){const[i]=e;i.path.clear(),P$(i,t.fillData),i.markDirty("AreaSeries")}updateStrokePath(e,t){const{spans:i}=t.strokeData,[,n]=e;n.path.clear(),AP(n,i),n.markDirty("AreaSeries")}updateMarkerSelection(e){var s;const{nodeData:t,markerSelection:i}=e,n=this.properties.marker.enabled||((s=this.contextNodeData)==null?void 0:s.crossFiltering)===!0;return this.properties.marker.isDirty()&&(i.clear(),i.cleanup()),i.update(n?t:[])}updateMarkerNodes(e){const{markerSelection:t,isHighlight:i}=e,{xKey:n,yKey:s,marker:r,fill:o,stroke:a,strokeWidth:l,fillOpacity:u,strokeOpacity:d,highlightStyle:p}=this.properties,f=this.getSeriesDomain("x"),m=this.getSeriesDomain("y"),y=Vt(i&&p.item,r.getStyle(),{fill:o,stroke:a,strokeWidth:l,fillOpacity:u,strokeOpacity:d}),C=this.getShapeFillBBox();t.each((w,b)=>{this.updateMarkerStyle(r,w,b.datum,b.point,Qu(b,n,s,f,m),i,y,C,{selected:b.selected})}),i||this.properties.marker.markClean()}updateLabelSelection(e){const{labelData:t,labelSelection:i}=e;return i.update(t)}updateLabelNodes(e){const{labelSelection:t}=e,{enabled:i,fontStyle:n,fontWeight:s,fontSize:r,fontFamily:o,color:a}=this.properties.label;t.each((l,u)=>{const{x:d,y:p,labelText:f}=u;f&&i&&this.visible?(l.fontStyle=n,l.fontWeight=s,l.fontSize=r,l.fontFamily=o,l.textAlign="center",l.textBaseline="bottom",l.text=f,l.x=d,l.y=p-10,l.fill=a,l.visible=!0):l.visible=!1})}getTooltipContent(e){var A;const{id:t,dataModel:i,processedData:n,axes:s,properties:r}=this,{xKey:o,xName:a,yKey:l,yName:u,tooltip:d,marker:p}=r,f=s.x,m=s.y;if(!i||!n||!f||!m)return;const y=(A=n.dataSources.get(this.id))==null?void 0:A[e],C=i.resolveKeysById(this,"xValue",n)[e],w=i.resolveColumnById(this,"yValueRaw",n)[e],{xDomain:b,yDomain:S}=this.cachedDatumCallback("domain",()=>({xDomain:this.getSeriesDomain("x"),yDomain:this.getSeriesDomain("y")}));if(C==null)return;const M=p.getStyle(),D={xValue:C,yValue:w},R=this.getMarkerStyle(p,y,Qu(D,o,l,b,S),!1,void 0,M);return d.formatTooltip(this.properties,{heading:f.formatDatum(C),symbol:this.legendItemSymbol(),data:[{label:u,fallbackLabel:l,value:m.formatDatum(w)}]},{seriesId:t,datum:y,title:u,xKey:o,xName:a,yKey:l,yName:u,...R,...this.getModuleTooltipParams()})}legendItemSymbol(){const{fill:e,stroke:t,fillOpacity:i,strokeOpacity:n,strokeWidth:s,lineDash:r,marker:o,fillGradientDefaults:a,fillPatternDefaults:l}=this.properties,u=!o.enabled||o.fill===void 0,d=u?Wh(e,a,l):Wh(o.fill,o.fillGradientDefaults,o.fillPatternDefaults);return{marker:{...this.getMarkerStyle(o,void 0,void 0,!1,void 0,{fill:d,fillOpacity:u?i:o.fillOpacity}),enabled:o.enabled||s<=0},line:{stroke:t,strokeOpacity:n,strokeWidth:s,lineDash:r}}}getLegendData(e){if(!this.properties.isValid()||e!=="category")return[];const{id:t,ctx:{legendManager:i},visible:n}=this,{yKey:s,yName:r,legendItemName:o,showInLegend:a}=this.properties;return[{legendType:e,id:t,itemId:s,seriesId:t,enabled:n&&i.getItemEnabled({seriesId:t,itemId:s}),label:{text:o??r??s},symbol:this.legendItemSymbol(),legendItemName:o,hideInLegend:!a}]}animateEmptyUpdateReady(e){const{markerSelection:t,labelSelection:i,contextData:n,paths:s}=e,{animationManager:r}=this.ctx;this.updateAreaPaths(s,n),FP(this,r,...s),hs([t],uC),PP(this,r,t),si(this,"labels",r,i)}animateReadyResize(e){const{contextData:t,paths:i}=e;this.updateAreaPaths(i,t),super.animateReadyResize(e)}animateWaitingUpdateReady(e){const{animationManager:t}=this.ctx,{markerSelection:i,labelSelection:n,contextData:s,paths:r,previousContextData:o}=e,[a,l]=r;if(a==null&&l==null)return;this.resetMarkerAnimation(e),this.resetLabelAnimation(e);const u=()=>{this.resetPathAnimation(e),this.updateAreaPaths(r,s)},d=()=>{t.skipCurrentBatch(),u()};if(s==null||o==null){u(),cC(this,t,"added",i),px(this,"fill_path_properties",t,"add",a),px(this,"stroke_path_properties",t,"add",l),si(this,"labels",t,n);return}if(s.crossFiltering!==o.crossFiltering){d();return}const p=O$(s,o);if(p===void 0){d();return}else if(p.status==="no-op")return;cC(this,t,void 0,i),fn(this.id,"fill_path_properties",t,[a],p.fill.pathProperties),ux(this.id,"fill_path_update",t,[a],p.fill.path),fn(this.id,"stroke_path_properties",t,[l],p.stroke.pathProperties),ux(this.id,"stroke_path_update",t,[l],p.stroke.path),si(this,"labels",t,n),this.ctx.animationManager.animate({id:this.id,groupId:"reset_after_animation",phase:"trailing",from:{},to:{},onComplete:()=>this.updateAreaPaths(r,s)})}isLabelEnabled(){return this.properties.label.enabled}nodeFactory(){return new dt}getFormattedMarkerStyle(e){const{xKey:t,yKey:i}=e,n=this.getSeriesDomain("x"),s=this.getSeriesDomain("y");return this.getMarkerStyle(this.properties.marker,e.datum,Qu(e,t,i,n,s),!0)}computeFocusBounds(e){return vb(this,e)}};ZM.className="AreaSeries";ZM.type="area";var XM=ui(dSe,"a valid number format string"),NP={enabled:Le,text:Be,padding:rt,...Jr},N$=ui({enabled:Le,type:ct(St("line","range")),range:Ns(ui((e,{options:t})=>t.type==="range","crossLine type to be 'range'"),tn(Zr),cM(2,2)),value:Ns(ui((e,{options:t})=>t.type==="line","crossLine type to be 'line'"),Zr),label:NP,fill:Be,fillOpacity:Yi,...pr,...Al},"cross-line options"),B$={...N$,label:{...NP,position:St("top","left","right","bottom","top-left","top-right","bottom-left","bottom-right","inside","inside-left","inside-right","inside-top","inside-bottom","inside-top-left","inside-bottom-left","inside-top-right","inside-bottom-right"),rotation:rt}},BP={enabled:Le,rotation:rt,avoidCollisions:Le,minSpacing:Te,spacing:Te,formatter:gi,itemStyler:gi,...Jr},am={autoRotate:Le,autoRotateAngle:rt,...BP},QM={reverse:Le,gridLine:{enabled:Le,width:Te,style:op({stroke:It,lineDash:tn(Te)},"a grid-line style object array")},interval:{values:tn(Zr),minSpacing:Te},label:BP,line:{enabled:Le,width:Te,stroke:It},tick:{enabled:Le,width:Te,size:Te,stroke:It}};QM.context=Zr;QM.layoutConstraints={stacked:ct(Le),align:ct(St("start","end")),unit:ct(St("percent","px")),width:ct(Te)};var lm={...QM,keys:tn(Be),crossLines:op(B$,"a cross-line options array"),position:St("top","right","bottom","left"),thickness:Te,title:{enabled:Le,text:Be,spacing:Te,formatter:gi,...Jr}};function cm(e){const t={enabled:Le,xOffset:rt,yOffset:rt,renderer:gi};return e&&(t.format=Be),{enabled:Le,snap:Le,label:t,...pr,...Al}}function JM(e,t){return{min:Ns(e,Yv("max")),max:Ns(e,kA("min")),nice:Le,interval:{step:t?pn(Vw,pn(Vw,Zwe(cp))):Vw,values:tn(e),minSpacing:Ns(Te,Yv("maxSpacing")),maxSpacing:Ns(Te,kA("minSpacing"))}}}var lI=pn(St("circle","cross","diamond","heart","plus","pin","square","star","triangle"),gi),z$=St("never","always","hyphenate","on-space"),gx=St("top","right","bottom","left","top-right","bottom-right","bottom-left","top-left","center"),zP=St("pointer","node","top","right","bottom","left","top-left","top-right","bottom-left","bottom-right"),GP=pn(Te,St("exact","nearest")),d4=St("pointer","start","middle","end"),j1={enabled:Le,text:Be,textAlign:St("left","center","right"),wrapping:St("never","always","hyphenate","on-space"),spacing:Te,maxWidth:Te,maxHeight:Te,...Jr},uw={enabled:Le,text:Be,renderer:gi},dw=op({label:Be,action:gi},"a context menu actions array"),cI={label:Be,ariaLabel:Be,tooltip:Be,icon:St("align-center","align-left","align-right","arrow-drawing","arrow-down-drawing","arrow-up-drawing","callout-annotation","candlestick-series","close","comment-annotation","date-range-drawing","date-price-range-drawing","delete","disjoint-channel-drawing","drag-handle","fill-color","line-style-solid","line-style-dashed","line-style-dotted","high-low-series","hlc-series","hollow-candlestick-series","horizontal-line-drawing","line-color","line-series","line-with-markers-series","locked","measurer-drawing","note-annotation","ohlc-series","pan-end","pan-left","pan-right","pan-start","parallel-channel-drawing","position-bottom","position-center","position-top","price-label-annotation","price-range-drawing","reset","settings","step-line-series","text-annotation","trend-line-drawing","fibonacci-retracement-drawing","fibonacci-retracement-trend-based-drawing","unlocked","vertical-line-drawing","zoom-in","zoom-out")},vr={width:Te,height:Te,minWidth:Te,minHeight:Te,suppressFieldDotNotation:Le,title:j1,subtitle:j1,footnote:j1,padding:{top:Te,right:Te,bottom:Te,left:Te},seriesArea:{clip:Le,padding:{top:Te,right:Te,bottom:Te,left:Te}},legend:{enabled:Le,position:St("top","right","bottom","left"),orientation:St("horizontal","vertical"),maxWidth:Te,maxHeight:Te,spacing:Te,preventHidingAll:Le,reverseOrder:Le,toggleSeries:Le,item:{marker:{size:Te,shape:lI,padding:Te,strokeWidth:Te},line:{length:Te,strokeWidth:Te},label:{maxLength:Te,formatter:gi,...Jr},maxWidth:Te,paddingX:Te,paddingY:Te,showSeriesStroke:Le},pagination:{marker:{size:Te,shape:lI,padding:Te},activeStyle:{...Zo,...pr},inactiveStyle:{...Zo,...pr},highlightStyle:{...Zo,...pr},label:Jr},listeners:{legendItemClick:gi,legendItemDoubleClick:gi}},gradientLegend:{enabled:Le,position:St("top","right","bottom","left"),spacing:Te,reverseOrder:Le,gradient:{preferredLength:Te,thickness:Te},scale:{label:{...Jr,format:XM,formatter:gi},padding:Te,interval:{step:rt,values:Tl,minSpacing:Ns(Te,Yv("maxSpacing")),maxSpacing:Ns(Te,kA("minSpacing"))}}},listeners:{seriesNodeClick:gi,seriesNodeDoubleClick:gi,seriesVisibilityChange:gi,click:gi,doubleClick:gi,annotations:gi,zoom:gi},highlight:{range:St("tooltip","node")},overlays:{loading:uw,noData:uw,noVisibleSeries:uw,unsupportedBrowser:uw},tooltip:{enabled:Le,showArrow:Le,pagination:Le,delay:Te,range:GP,wrapping:z$,mode:St("single","shared","compact"),position:{type:zP,anchorTo:St("pointer","node","chart"),placement:pn(gx,tn(gx)),xOffset:rt,yOffset:rt}},animation:{enabled:Le,duration:Te},contextMenu:{enabled:Le,extraActions:dw,extraSeriesAreaActions:dw,extraNodeActions:dw,extraLegendItemActions:dw},dataSource:{getData:gi},keyboard:{enabled:Le,tabIndex:rt},touch:{dragAction:St("none","drag","hover")},ranges:{enabled:Le,buttons:op({...cI,value:pn(rt,Ns(tn(pn(rt,Lf)),cM(2,2)),gi)},"range button options array")},locale:{localeText:$v,getLocaleText:gi},background:{visible:Le,fill:It,image:{url:Be,top:rt,right:rt,bottom:rt,left:rt,width:Te,height:Te,opacity:Yi}},sync:{enabled:Le,groupId:Be,axes:St("x","y","xy"),nodeInteraction:Le,zoom:Le},zoom:{enabled:Le,enableAxisDragging:Le,enableDoubleClickToReset:Le,enablePanning:Le,enableScrolling:Le,enableSelecting:Le,enableTwoFingerZoom:Le,keepAspectRatio:Le,anchorPointX:d4,anchorPointY:d4,axes:St("x","y","xy"),deceleration:pn(St("off","short","long"),Yi),minVisibleItems:Te,minVisibleItemsX:Te,minVisibleItemsY:Te,panKey:St("alt","ctrl","meta","shift"),scrollingStep:Yi,autoScaling:{enabled:Le,padding:Yi},buttons:{enabled:Le,buttons:op({...cI,value:St("reset","zoom-in","zoom-out","pan-left","pan-right","pan-start","pan-end"),section:Be},"zoom button options array"),visible:St("always","zoomed","hover")}}};vr.dataSource.requestThrottle=Te;vr.dataSource.updateThrottle=Te;vr.dataSource.updateDuringInteraction=Le;vr.zoom.enableIndependentAxes=Le;vr.statusBar=Zr;vr.foreground={visible:Le,text:Be,image:{url:Be,top:rt,right:rt,bottom:rt,left:rt,width:Te,height:Te,opacity:Yi},...Zo};vr.overrideDevicePixelRatio=rt;var Ua={id:Be,cursor:Be,visible:Le,data:tn($v),showInLegend:Le,nodeClickRange:GP,listeners:{nodeClick:gi,nodeDoubleClick:gi},highlightStyle:{item:{...Zo,...pr},series:{enabled:Le,dimOpacity:Yi,strokeWidth:Te}}};Ua.context=Zr;Ua.seriesGrouping=Zr;Ua.highlight={enabled:Le};var Cb={enabled:Le,shape:lI,size:Te,itemStyler:gi,...Zo,...pr,...Al},Dd={enabled:Le,formatter:gi,...Jr},kTe={...Dd,lineHeight:Te,minimumFontSize:Te,wrapping:z$,overflowStrategy:St("ellipsis","hide")},eD={visible:Le,xLowerKey:Be,xUpperKey:Be,yLowerKey:Be,yUpperKey:Be,xLowerName:Be,xUpperName:Be,yLowerName:Be,yUpperName:Be,itemStyler:gi,cap:{visible:Le,length:Te,lengthRatio:Yi,...pr,...Al},...pr,...Al},Qc={enabled:Le,showArrow:Le,range:GP,renderer:gi,position:{type:zP,anchorTo:St("node","pointer","chart"),placement:pn(gx,tn(gx)),xOffset:rt,yOffset:rt},interaction:{enabled:Le}};Qc.position._seriesOverrideType=zP;var bb={enabled:Le,xOffset:rt,yOffset:rt,blur:Te,color:It},HP=JL({linear:{},smooth:{tension:Yi},step:{position:St("start","middle","end")}},"interpolation line options"),PTe={type:ct(Qs("area")),xKey:ct(Be),yKey:ct(Be),xName:Be,yName:Be,stacked:Le,stackGroup:Be,normalizedTo:rt,showInMiniChart:Le,connectMissingData:Le,interpolation:HP,label:Dd,marker:Cb,tooltip:Qc,shadow:bb,...Ua,...Zo,...pr,...Al},FTe={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["cartesian"],identifier:"area",moduleFactory:e=>new ZM(e),stackable:!0,tooltipDefaults:{range:"nearest"},defaultAxes:[{type:"number",position:"left"},{type:"category",position:"bottom"}],themeTemplate:{series:{nodeClickRange:"nearest",tooltip:{position:{_seriesOverrideType:"node"}},fill:{$palette:"fill"},fillGradientDefaults:{type:"gradient",gradient:"linear",bounds:"item",colorStops:{$palette:"gradient"},rotation:0,reverse:!1},fillPatternDefaults:cd,stroke:{$palette:"stroke"},fillOpacity:.8,strokeOpacity:1,strokeWidth:0,lineDash:[0],lineDashOffset:0,shadow:{enabled:!1,color:xd,xOffset:3,yOffset:3,blur:5},interpolation:{type:"linear"},marker:{enabled:!1,shape:"circle",size:7,strokeWidth:0,fill:{$palette:"fill"},stroke:{$palette:"stroke"},fillGradientDefaults:{type:"gradient",gradient:"radial",bounds:"item",colorStops:{$palette:"gradient"},rotation:0,reverse:!0},fillPatternDefaults:cd},label:{enabled:!1,fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"},color:{$ref:"textColor"}}}}},G$={type:"series",name:"area",chartType:"cartesian",options:PTe,create:e=>new ZM(e)};function _P(e,t){for(const i of t){const n=i.datum;n===void 0?De.error("undefined datum"):e.addValue(i,n)}}function jP(e,t){const{x:i,y:n}=t,{nearest:s,distanceSquared:r}=e.getQuadTree().find(i,n);if(s!==void 0)return{datum:s.value,distance:Math.sqrt(r)}}var VP=class extends Xc{constructor(){super(...arguments),this.direction="vertical"}};I([O()],VP.prototype,"direction",2);var H$=class extends Md{constructor(){super(...arguments),this.groupScale=new ib,this.smallestDataInterval=void 0,this.largestDataInterval=void 0}padBandExtent(e,t){const i=typeof t=="boolean"?1:.5,n=Qt(this.smallestDataInterval)?this.smallestDataInterval*i:0,s=$c(e)??[NaN,NaN];return typeof t=="boolean"?s[t?0:1]-=(t?1:-1)*n:(s[0]-=n,s[1]+=n),Nr(s)}getBandScalePadding(){return{inner:.3,outer:.15}}shouldFlipXY(){return!this.isVertical()}isVertical(){return this.properties.direction==="vertical"}getBarDirection(){return this.shouldFlipXY()?"x":"y"}getCategoryDirection(){return this.shouldFlipXY()?"y":"x"}getValueAxis(){const e=this.getBarDirection();return this.axes[e]}getCategoryAxis(){const e=this.getCategoryDirection();return this.axes[e]}getBandwidth(e){return mi.is(e.scale)?e.scale.calcBandwidth(this.smallestDataInterval):e.scale.bandwidth}xCoordinateRange(e){const t=this.axes[this.getCategoryDirection()],i=t.scale,n=this.getBandwidth(t)??0,s=mi.is(i)?n*-.5:0,r=i.convert(e)+s;return[r,r+n]}yCoordinateRange(e){const i=this.axes[this.getBarDirection()].scale,n=e.map(s=>i.convert(s));if(n.length===1){const s=i.convert(0);return[Math.min(n[0],s),Math.max(n[0],s)]}return[Math.min(...n),Math.max(...n)]}updateGroupScale(e){const t=[],{groupScale:i}=this,n=this.getBandwidth(e),{index:s,visibleGroupCount:r}=this.ctx.seriesStateManager.getVisiblePeerGroupIndex(this);for(let a=0;a<r;a++)t.push(String(a));return i.domain=t,i.range=[0,n??0],e instanceof Rp?i.paddingInner=e.groupPaddingInner:e instanceof Dp?(i.paddingInner=e.groupPaddingInner,i.round=i.padding!==0):i.padding=0,{barWidth:i.bandwidth>=1?i.bandwidth:i.rawBandwidth,groupIndex:s}}resolveKeyDirection(e){return this.getBarDirection()==="x"?e==="x"?"y":"x":e}initQuadTree(e){_P(e,this.datumNodesIter())}pickNodeClosestDatum(e){return jP(this,e)}},WP=class extends rs{constructor(){super(...arguments),this.placement="inside-center",this.padding=0}};I([O(vi(["inside-center","inside-start","inside-end","outside-start","outside-end"],"a placement"))],WP.prototype,"placement",2);I([O()],WP.prototype,"padding",2);var Qi=class extends VP{constructor(){super(...arguments),this.fill="#c16068",this.fillGradientDefaults=new sa,this.fillPatternDefaults=new vn,this.fillOpacity=1,this.stroke="#874349",this.strokeWidth=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.cornerRadius=0,this.crisp=void 0,this.shadow=new Wa,this.label=new WP,this.tooltip=new tr,this.sparklineMode=!1,this.fastDataProcessing=!1}};I([O()],Qi.prototype,"xKey",2);I([O()],Qi.prototype,"xName",2);I([O()],Qi.prototype,"yKey",2);I([O()],Qi.prototype,"yName",2);I([O()],Qi.prototype,"yFilterKey",2);I([O()],Qi.prototype,"stackGroup",2);I([O()],Qi.prototype,"normalizedTo",2);I([O(Hs(Nl,Bl,ao))],Qi.prototype,"fill",2);I([O()],Qi.prototype,"fillGradientDefaults",2);I([O()],Qi.prototype,"fillPatternDefaults",2);I([O()],Qi.prototype,"fillOpacity",2);I([O()],Qi.prototype,"stroke",2);I([O()],Qi.prototype,"strokeWidth",2);I([O()],Qi.prototype,"strokeOpacity",2);I([O()],Qi.prototype,"lineDash",2);I([O()],Qi.prototype,"lineDashOffset",2);I([O()],Qi.prototype,"cornerRadius",2);I([O()],Qi.prototype,"crisp",2);I([O()],Qi.prototype,"itemStyler",2);I([O()],Qi.prototype,"shadow",2);I([O()],Qi.prototype,"label",2);I([O()],Qi.prototype,"tooltip",2);I([O()],Qi.prototype,"sparklineMode",2);I([O()],Qi.prototype,"fastDataProcessing",2);function _$(e,t,i,n){if(t!=null){const[s,r]=t;if(s!==0||r!==1)return!1}if(mi.is(e)){const s=e.calcBandwidth(n)-e.calcBandwidth(i);if(s>0&&s<1)return!1}return!0}var V1=e=>sk(e.yValue??0);function dC(e,t,i){const{startingX:n,startingY:s}=NTe(e,t);return{isVertical:e,calculate:(o,a)=>{let l=e?o.x:n,u=e?s:o.y,d=e?o.width:0,p=e?0:o.height;const{opacity:f=1}=o;a&&(isNaN(l)||isNaN(u))&&({x:l,y:u}=a,d=e?a.width:0,p=e?0:a.height,e&&!V1(a)?u+=a.height:!e&&V1(a)&&(l+=a.width));let m;return o.clipBBox==null?m=void 0:V1(o)?m=e?new Ue(l,u-p,d,p):new Ue(l-d,u,d,p):m=new Ue(l,u,d,p),{x:l,y:u,width:d,height:p,clipBBox:m,opacity:f}},mode:i}}function OTe(e,t){return{isVertical:e,calculate:i=>({x:e?i.x:i.x+i.width/2,y:e?i.y+i.height/2:i.y,width:e?i.width:0,height:e?0:i.height,clipBBox:i.clipBBox,opacity:i.opacity??1}),mode:t}}function hC(e){const t=r=>r==null||isNaN(r.x)||isNaN(r.y);return{toFn:(r,o,a)=>a==="removed"&&r.datum==null&&e.mode==="fade"?{...pC(r,o),opacity:0}:a==="removed"||t(o)?e.calculate(o,r.previousDatum):{x:o.x,y:o.y,width:o.width,height:o.height,clipBBox:o.clipBBox,opacity:o.opacity??1},fromFn:(r,o,a)=>{a==="updated"&&t(o)?a="removed":a==="updated"&&t(r.previousDatum)&&(a="added");let l;a==="added"&&r.previousDatum==null&&e.mode==="fade"?l={...pC(r,o),opacity:0}:a==="unknown"||a==="added"?l=e.calculate(o,r.previousDatum):l={x:r.x,y:r.y,width:r.width,height:r.height,clipBBox:r.clipBBox,opacity:r.opacity??1};const u=wa[a];return{...l,phase:u}},applyFn:(r,o,a)=>{var l;r.setProperties(o),r.crisp=a==="end"&&(((l=r.datum)==null?void 0:l.crisp)??!1)}}}function NTe(e,t){const i=t[e?"y":"x"];let n=1/0,s=0;return i?(e?s=i.scale.convert(mi.is(i.scale)?0:Math.max(...i.range)):n=i.scale.convert(mi.is(i.scale)?0:Math.min(...i.range)),{startingX:n,startingY:s}):{startingX:n,startingY:s}}function pC(e,{x:t,y:i,width:n,height:s,clipBBox:r,opacity:o=1}){var a;return{x:t,y:i,width:n,height:s,clipBBox:r,opacity:o,crisp:((a=e.datum)==null?void 0:a.crisp)??!1}}function UP(e,t){if(t===void 0)return;const{x:i,y:n,width:s,height:r}=t;return mn.toCanvas(e.contentGroup,new Ue(i,n,s,r))}function j$(e,t,i){if(t.enabled&&i){const{x:n,y:s,text:r,textAlign:o,textBaseline:a}=i,{color:l,fontStyle:u,fontWeight:d,fontSize:p,fontFamily:f}=t;e.setProperties({visible:!0,x:n,y:s,text:r,fill:l,fontStyle:u,fontWeight:d,fontSize:p,fontFamily:f,textAlign:o,textBaseline:a})}else e.visible=!1}var BTe={"inside-start":{inside:!0,direction:-1,textAlignment:1},"inside-end":{inside:!0,direction:1,textAlignment:-1},"outside-start":{inside:!1,direction:-1,textAlignment:-1},"outside-end":{inside:!1,direction:1,textAlignment:1}};function V$({isUpward:e,isVertical:t,placement:i,padding:n=0,rect:s}){let r=s.x+s.width/2,o=s.y+s.height/2,a="center",l="middle";if(i!=="inside-center"){const u=(e?1:-1)*(t?-1:1),{direction:d,textAlignment:p}=BTe[i],f=(d+1)*.5;if(t){const m=e?s.y+s.height:s.y,y=s.height*u;o=m+y*f+n*p*u,l=p===u?"top":"bottom"}else{const m=e?s.x:s.x+s.width,y=s.width*u;r=m+y*f+n*p*u,a=p===u?"left":"right"}}return{x:r,y:o,textAlign:a,textBaseline:l}}var zTe=0,GTe=1,HTe=2,_Te=3,jTe=4,wb=class extends H${constructor(e){super({moduleCtx:e,directionKeys:Tp,directionNames:Ap,categoryKey:"xValue",pickModes:[2,1,0],pathsPerSeries:[],hasHighlightedLabels:!0,datumSelectionGarbageCollection:!1,animationAlwaysUpdateSelections:!0,animationResetFns:{datum:pC,label:Zc}}),this.properties=new Qi,this.connectsToYAxis=!0,this.dataAggregationFilters=void 0}get pickModeAxis(){return this.properties.sparklineMode?"main":void 0}crossFilteringEnabled(){return this.properties.yFilterKey!=null&&(this.seriesGrouping==null||this.seriesGrouping.stackIndex===0)}async processData(e){var F,P,L,z,H,V;if(!this.properties.isValid()||!this.data)return;const{xKey:t,yKey:i,yFilterKey:n,normalizedTo:s,fastDataProcessing:r}=this.properties,{seriesGrouping:{groupIndex:o=this.id}={},data:a}=this,l=((F=this.seriesGrouping)==null?void 0:F.groupCount)??0,d=(((P=this.seriesGrouping)==null?void 0:P.stackCount)??0)>=1||s!=null,p=!r||l>1||d,f=!this.ctx.animationManager.isSkipped(),m=(L=this.getCategoryAxis())==null?void 0:L.scale,y=(z=this.getValueAxis())==null?void 0:z.scale,{isContinuousX:C,xScaleType:w,yScaleType:b}=this.getScaleInformation({xScale:m,yScale:y}),S=`bar-stack-${o}-yValues`,M=`${S}-trailing`,D=this.visible?{}:{forceValue:0},R=[Da(t,w,{id:"xValue"}),Wt(i,b,{id:"yValue-raw",invalidValue:null,...D})];this.crossFilteringEnabled()&&R.push(Wt(n,b,{id:"yFilterValue",invalidValue:null,...D})),d&&R.push(...Ju(i,"normal","current",{id:"yValue-end",rangeId:"yValue-range",invalidValue:null,missingValue:0,groupId:S,separateNegative:!0,...D},b),...Ju(i,"trailing","current",{id:"yValue-start",invalidValue:null,missingValue:0,groupId:M,separateNegative:!0,...D},b)),C&&R.push(e$,t$),Qt(s)&&R.push(GM([S,M],Math.abs(s))),f&&this.processedData&&R.push(tm(this.id,this.processedData)),(f||!p)&&R.push(em());const{dataModel:A,processedData:k}=await this.requestDataModel(e,a,{props:R,groupByKeys:p,groupByData:!p});this.dataAggregationFilters=this.aggregateData(A,k),this.smallestDataInterval=(H=k.reduced)==null?void 0:H.smallestKeyInterval,this.largestDataInterval=(V=k.reduced)==null?void 0:V.largestKeyInterval,this.animationState.transition("updateData")}getSeriesDomain(e){var o;const{processedData:t,dataModel:i}=this;if(i==null||t==null)return[];if(e===this.getCategoryDirection()){const a=i.resolveProcessedDataDefById(this,"xValue"),l=i.getDomain(this,"xValue","key",t);return(a==null?void 0:a.def.type)==="key"&&a.def.valueType==="category"?l:this.padBandExtent(l)}const n=(o=this.dataModel)!=null&&o.hasColumnById(this,"yValue-end")?"yValue-end":"yValue-raw";let s=this.domainForClippedRange("y",[n],"xValue",!0);const r=this.crossFilteringEnabled()?i.getDomain(this,"yFilterValue","value",t):void 0;if(r!=null&&(s=[Math.min(s[0],r[0]),Math.max(s[1],r[1])]),this.getValueAxis()instanceof im)return Nr(s);{const a=Number.isFinite(s[1]-s[0])?[Math.min(0,s[0]),Math.max(0,s[1])]:[];return Nr(a)}}getSeriesRange(e,t){var r;const i=(r=this.dataModel)!=null&&r.hasColumnById(this,"yValue-end")?"yValue-end":"yValue-raw",[n,s]=this.domainForVisibleRange("y",[i],"xValue",t,!0);return[Math.min(n,0),Math.max(s,0)]}getVisibleItems(e,t,i){var s;const n=(s=this.dataModel)!=null&&s.hasColumnById(this,"yValue-end")?"yValue-end":"yValue-raw";return this.countVisibleItems("xValue",[n],e,t,i)}aggregateData(e,t){}createNodeData(){var G;const{dataModel:e,processedData:t,groupScale:i,dataAggregationFilters:n}=this,s=this.getCategoryAxis(),r=this.getValueAxis();if(!e||!t||!s||!r||!this.properties.isValid())return;const o=(G=t.dataSources)==null?void 0:G.get(this.id);if(o==null)return;const a=s.scale,l=r.scale,{xKey:u,yKey:d,xName:p,yName:f,legendItemName:m,label:y}=this.properties,C=r.isReversed(),{barWidth:w,groupIndex:b}=this.updateGroupScale(s),S=i.convert(String(b)),M=mi.is(a)?w*-.5:0,D=e.resolveKeysById(this,"xValue",t),R=e.resolveColumnById(this,"yValue-raw",t),A=this.crossFilteringEnabled()?e.resolveColumnById(this,"yFilterValue",t):void 0,k=!this.ctx.animationManager.isSkipped(),F=U=>a.convert(D[U])+S+M,P=this.properties.crisp??_$(s==null?void 0:s.scale,s==null?void 0:s.visibleRange,this.smallestDataInterval,this.largestDataInterval),L=l.convert(0),z=({datum:U,datumIndex:te,valueIndex:ee,xValue:Q,yValue:ue,cumulativeValue:de,phantom:we,currY:ce,prevY:pe,x:ae,width:xe,isPositive:Ie,yRange:Fe,labelText:Me,opacity:_e,crossScale:tt=1})=>{const He=Ie!==C,Ke=l.convert(ce),yt=l.convert(pe),qe=l.convert(Fe),Ve=this.getBarDirection()==="x",Pe=xe*.5*(1-tt),Nt={x:Ve?Math.min(Ke,yt):ae+Pe,y:Ve?ae+Pe:Math.min(Ke,yt),width:Ve?Math.abs(yt-Ke):xe*tt,height:Ve?xe*tt:Math.abs(yt-Ke)},Ct=new Ue(Nt.x,Nt.y,Nt.width,Nt.height),Vi={x:Ve?Math.min(L,qe):ae+Pe,y:Ve?ae+Pe:Math.min(L,qe),width:Ve?Math.abs(L-qe):xe*tt,height:Ve?xe*tt:Math.abs(L-qe)},Pi=this.shouldFlipXY()?Nt.height:Nt.width;return{series:this,itemId:we?ys(d,we):d,datum:U,datumIndex:te,valueIndex:ee,cumulativeValue:de,phantom:we,xValue:Q,yValue:ue,yKey:d,xKey:u,capDefaults:{lengthRatioMultiplier:Pi,lengthMax:Pi},x:Vi.x,y:Vi.y,width:Vi.width,height:Vi.height,midPoint:{x:Nt.x+Nt.width/2,y:Nt.y+Nt.height/2},opacity:_e,topLeftCornerRadius:Ve!==He,topRightCornerRadius:He,bottomRightCornerRadius:Ve===He,bottomLeftCornerRadius:!He,clipBBox:Ct,crisp:P,label:Me!=null?{text:Me,...V$({isUpward:He,isVertical:!Ve,placement:y.placement,padding:y.padding,rect:Nt})}:void 0,missing:ue==null,focusable:!we}},H=[],V=[],q=[],K=(U,te,ee,Q,ue,de,we,ce)=>{const pe=D[U];if(pe==null)return;const ae=R[U],xe=A!=null?Number(A[U]):void 0,Ie=ae>=0&&!Object.is(ae,-0);if(!Number.isFinite(de)||xe!=null&&!Number.isFinite(xe))return;const Fe=ae!=null?this.getLabelText(this.properties.label,{datum:o[U],value:xe??ae,xKey:u,yKey:d,xName:p,yName:f,legendItemName:m}):void 0,Me=xe!=null&&xe>ae,_e=z({datum:o[U],datumIndex:U,valueIndex:te,xValue:pe,yValue:xe??ae,cumulativeValue:xe??de,phantom:!1,currY:xe!=null?ue+xe:de,prevY:ue,x:ee,width:Q,isPositive:Ie,yRange:Math.max(ue+(xe??-1/0),we),labelText:Fe,opacity:ce,crossScale:Me?.6:void 0});if(V.push(_e),q.push(_e),xe!=null){const tt=z({datum:o[U],datumIndex:U,valueIndex:te,xValue:pe,yValue:xe,cumulativeValue:xe,phantom:!0,currY:de,prevY:ue,x:ee,width:Q,isPositive:Ie,yRange:we,labelText:void 0,opacity:ce,crossScale:void 0});H.push(tt)}},[j,Z]=a.range,W=Z-j,Y=n==null?void 0:n.find(U=>U.maxRange>W);if(t.type==="grouped"){const U=w,te=e.hasColumnById(this,"yValue-start"),ee=te?e.resolveColumnById(this,"yValue-start",t):void 0,Q=te?e.resolveColumnById(this,"yValue-end",t):void 0,ue=te?e.resolveProcessedDataIndexById(this,"yValue-range"):-1;for(const{datumIndex:de,valueIndex:we,group:{aggregation:ce}}of e.forEachGroupDatum(this,t)){const pe=F(de),ae=R[de],xe=ae>=0&&!Object.is(ae,-0),Ie=te?Number(ee==null?void 0:ee[de]):0,Fe=te?Number(Q==null?void 0:Q[de]):ae;let Me=Fe;te&&(Me=ce[ue][xe?1:0]),K(de,we,pe,U,Ie,Fe,Me,1)}}else if(Y==null){const U=w;let[te,ee]=this.visibleRange("xValue",s.range);t.input.count<1e3&&(te=0,ee=t.input.count);for(let Q=te;Q<ee;Q+=1){const ue=F(Q),de=Number(R[Q]);K(Q,0,ue,U,0,de,de,1)}}else{const{indexData:U,indices:te}=Y,[ee,Q]=this.visibleRange("xValue",s.range,te);for(let ue=ee;ue<Q;ue+=1){const de=ue*jTe,we=U[de+zTe],ce=U[de+GTe],pe=U[de+HTe],ae=U[de+_Te];if(we===-1)continue;const xe=F((we+ce)/2|0),Ie=Math.abs(F(ce)-F(we))+w,Fe=D[ae]!=null?Number(R[ae]):NaN,Me=D[pe]!=null?Number(R[pe]):NaN;if(Fe>0){const _e=Me>=0?Me/Fe:1;K(ae,0,xe,Ie,0,Fe,Fe,_e)}if(Me<0){const _e=Fe<=0?Fe/Me:1;K(pe,1,xe,Ie,0,Me,Me,_e)}}}return{itemId:d,nodeData:H.length>0?[...H,...V]:V,labelData:q,scales:this.calculateScaling(),visible:this.visible||k,groupScale:this.getScaling(this.groupScale)}}nodeFactory(){return new er}getHighlightData(e,t){const i=e.find(n=>n.datum===t.datum&&!n.phantom);return i!=null?[i]:void 0}updateDatumSelection(e){return e.datumSelection.update(e.nodeData,void 0,t=>this.getDatumId(t))}getItemBaseStyle(e){const{properties:t}=this,{cornerRadius:i,fillGradientDefaults:n,fillPatternDefaults:s}=t,r=e?t.highlightStyle.item:void 0;return xl({fill:(r==null?void 0:r.fill)??t.fill,fillOpacity:(r==null?void 0:r.fillOpacity)??t.fillOpacity,stroke:(r==null?void 0:r.stroke)??t.stroke,strokeWidth:(r==null?void 0:r.strokeWidth)??this.getStrokeWidth(t.strokeWidth),strokeOpacity:(r==null?void 0:r.strokeOpacity)??t.strokeOpacity,lineDash:(r==null?void 0:r.lineDash)??t.lineDash??[],lineDashOffset:(r==null?void 0:r.lineDashOffset)??t.lineDashOffset,cornerRadius:i},n,s)}getItemStyleOverrides(e,t,i,n,s,r){const{id:o,properties:a}=this,{xKey:l,yKey:u,itemStyler:d,fillGradientDefaults:p,fillPatternDefaults:f}=a;if(d==null)return;const{xDomain:m,yDomain:y}=this.cachedDatumCallback("domain",()=>({xDomain:this.getSeriesDomain("x"),yDomain:this.getSeriesDomain("y")})),C=this.cachedDatumCallback(ys(e,r?"highlight":"node"),()=>this.callWithContext(d,{seriesId:o,...Qu(t,l,u,m,y),datum:t,xValue:i,yValue:n,highlighted:r,...s}));return xl(C,p,f)}updateDatumNodes(e){if(!this.properties.isValid())return;const{shadow:t}=this.properties,i=this.getCategoryDirection()==="x",n=this.getItemBaseStyle(e.isHighlight),s=this.getShapeFillBBox();e.datumSelection.each((r,o)=>{var u,d;const a=this.getItemStyleOverrides(String(o.datumIndex),o.datum,o.xValue,o.yValue,n,e.isHighlight);r.opacity=o.opacity??0,up(r,n,a,s);const l=(a==null?void 0:a.cornerRadius)??n.cornerRadius;r.topLeftCornerRadius=o.topLeftCornerRadius?l:0,r.topRightCornerRadius=o.topRightCornerRadius?l:0,r.bottomRightCornerRadius=o.bottomRightCornerRadius?l:0,r.bottomLeftCornerRadius=o.bottomLeftCornerRadius?l:0,r.visible=i?(((u=o.clipBBox)==null?void 0:u.width)??o.width)>0:(((d=o.clipBBox)==null?void 0:d.height)??o.height)>0,r.crisp=o.crisp,r.fillShadow=t})}updateLabelSelection(e){const t=this.isLabelEnabled()?e.labelData:[];return e.labelSelection.update(t,i=>{i.pointerEvents=1})}updateLabelNodes(e){e.labelSelection.each((t,i)=>{j$(t,this.properties.label,i.label)})}getTooltipContent(e){var S;const{id:t,dataModel:i,processedData:n,properties:s}=this,{xKey:r,xName:o,yKey:a,yName:l,legendItemName:u,stackGroup:d,tooltip:p}=s,f=this.getCategoryAxis(),m=this.getValueAxis();if(!i||!n||!f||!m)return;const y=(S=n.dataSources.get(this.id))==null?void 0:S[e],C=i.resolveKeysById(this,"xValue",n)[e],w=i.resolveColumnById(this,"yValue-raw",n)[e];if(C==null)return;const b=this.getItemBaseStyle(!1);return Object.assign(b,this.getItemStyleOverrides(String(e),y,C,w,b,!1)),p.formatTooltip(this.properties,{heading:f.formatDatum(C),symbol:this.legendItemSymbol(),data:[{label:l,fallbackLabel:a,value:m.formatDatum(w)}]},{seriesId:t,datum:y,title:l,xKey:r,xName:o,yKey:a,yName:l,legendItemName:u,stackGroup:d,...b,...this.getModuleTooltipParams()})}legendItemSymbol(){const{fill:e,stroke:t,strokeWidth:i,fillOpacity:n,strokeOpacity:s,lineDash:r,lineDashOffset:o,fillGradientDefaults:a,fillPatternDefaults:l}=this.properties;return{marker:xl({fill:e??"rgba(0, 0, 0, 0)",stroke:t??"rgba(0, 0, 0, 0)",fillOpacity:n,strokeOpacity:s,strokeWidth:i,lineDash:r,lineDashOffset:o},a,l)}}getLegendData(e){const{showInLegend:t}=this.properties;if(e!=="category"||!this.properties.isValid())return[];const{id:i,ctx:{legendManager:n},visible:s}=this,{yKey:r,yName:o,legendItemName:a}=this.properties;return[{legendType:"category",id:i,itemId:r,seriesId:i,enabled:s&&n.getItemEnabled({seriesId:i,itemId:r}),label:{text:a??o??r},symbol:this.legendItemSymbol(),legendItemName:a,hideInLegend:!t}]}animateEmptyUpdateReady({datumSelection:e,labelSelection:t,annotationSelections:i}){const n=hC(dC(this.isVertical(),this.axes,"normal"));fn(this.id,"nodes",this.ctx.animationManager,[e],n),si(this,"labels",this.ctx.animationManager,t),si(this,"annotations",this.ctx.animationManager,...i)}animateWaitingUpdateReady(e){var d,p,f,m,y;const{datumSelection:t,labelSelection:i,annotationSelections:n,previousContextData:s}=e;this.ctx.animationManager.stopByAnimationGroupId(this.id);let r=(f=(p=(d=this.processedData)==null?void 0:d.reduced)==null?void 0:p.diff)==null?void 0:f[this.id];r==null&&((y=(m=this.processedData)==null?void 0:m.reduced)==null?void 0:y.diff)!=null&&(r={changed:!0,added:new Set(Array.from(t,({datum:C})=>this.getDatumId(C))),updated:new Set,removed:new Set,moved:new Set});const o=s==null?"fade":"normal",a=hC(dC(this.isVertical(),this.axes,o));fn(this.id,"nodes",this.ctx.animationManager,[t],a,(C,w)=>this.getDatumId(w),r);const l=s!=null&&(!Xf(e.contextData.scales.x,s.scales.x)||!Xf(e.contextData.scales.y,s.scales.y)||!Xf(e.contextData.groupScale,e.previousContextData.groupScale));(((r==null?void 0:r.changed)??!1)||l)&&(si(this,"labels",this.ctx.animationManager,i),si(this,"annotations",this.ctx.animationManager,...n))}getDatumId(e){return ys(e.xValue,e.valueIndex,e.phantom)}isLabelEnabled(){return this.properties.label.enabled}computeFocusBounds({datumIndex:e}){var i;const t=(i=this.contextNodeData)==null?void 0:i.nodeData[e].clipBBox;return UP(this,t)}};wb.className="BarSeries";wb.type="bar";var Sb={type:ct(Qs("bar")),xKey:ct(Be),yKey:ct(Be),xName:Be,yName:Be,direction:St("horizontal","vertical"),grouped:Le,stacked:Le,stackGroup:Be,normalizedTo:rt,legendItemName:Be,showInMiniChart:Le,cornerRadius:Te,itemStyler:gi,crisp:Le,label:{...Dd,placement:St("inside-center","inside-start","inside-end","outside-start","outside-end"),padding:Te},errorBar:eD,shadow:bb,tooltip:Qc,...Ua,...Zo,...pr,...Al};Sb.pickOutsideVisibleMinorAxis=Le;Sb.fastDataProcessing=Le;Sb.focusPriority=rt;Sb.sparklineMode=Le;var W$={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["cartesian"],identifier:"bar",moduleFactory:e=>new wb(e),stackable:!0,groupable:!0,tooltipDefaults:{range:"exact"},defaultAxes:v$,themeTemplate:{series:{direction:"vertical",fill:{$palette:"fill"},stroke:{$palette:"stroke"},fillGradientDefaults:{type:"gradient",gradient:"linear",bounds:"item",colorStops:{$palette:"gradient"},rotation:0,reverse:!1},fillPatternDefaults:cd,fillOpacity:1,strokeWidth:0,lineDash:[0],lineDashOffset:0,label:{enabled:!1,fontWeight:{$ref:"fontWeight"},fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},color:{$if:[{$or:[{$eq:[{$path:"./placement"},"outside-start"]},{$eq:[{$path:"./placement"},"outside-end"]}]},{$ref:"textColor"},{$ref:"backgroundColor"}]},placement:"inside-center"},shadow:{enabled:!1,color:xd,xOffset:3,yOffset:3,blur:5},errorBar:{cap:{lengthRatio:.3}}}}},U$={type:"series",name:"bar",chartType:"cartesian",options:Sb,create:e=>new wb(e)},$P=class extends Cs{constructor(){super(...arguments),this.maxSize=30}};I([O(),$e()],$P.prototype,"maxSize",2);I([O(),$e()],$P.prototype,"domain",2);var $$=class extends rs{constructor(){super(...arguments),this.placement="top"}};I([O()],$$.prototype,"placement",2);var Ri=class extends Xc{constructor(){super(...arguments),this.label=new $$,this.tooltip=new tr,this.marker=new $P}};I([O()],Ri.prototype,"xKey",2);I([O()],Ri.prototype,"yKey",2);I([O()],Ri.prototype,"sizeKey",2);I([O()],Ri.prototype,"labelKey",2);I([O()],Ri.prototype,"xFilterKey",2);I([O()],Ri.prototype,"yFilterKey",2);I([O()],Ri.prototype,"sizeFilterKey",2);I([O()],Ri.prototype,"xName",2);I([O()],Ri.prototype,"yName",2);I([O()],Ri.prototype,"sizeName",2);I([O()],Ri.prototype,"labelName",2);I([O()],Ri.prototype,"title",2);I([xi("marker.shape")],Ri.prototype,"shape",2);I([xi("marker.size")],Ri.prototype,"size",2);I([xi("marker.maxSize")],Ri.prototype,"maxSize",2);I([xi("marker.domain",{optional:!0})],Ri.prototype,"domain",2);I([xi("marker.fillGradientDefaults")],Ri.prototype,"fillGradientDefaults",2);I([xi("marker.fillPatternDefaults")],Ri.prototype,"fillPatternDefaults",2);I([xi("marker.fill",{optional:!0})],Ri.prototype,"fill",2);I([xi("marker.fillOpacity")],Ri.prototype,"fillOpacity",2);I([xi("marker.stroke",{optional:!0})],Ri.prototype,"stroke",2);I([xi("marker.strokeWidth")],Ri.prototype,"strokeWidth",2);I([xi("marker.strokeOpacity")],Ri.prototype,"strokeOpacity",2);I([xi("marker.lineDash")],Ri.prototype,"lineDash",2);I([xi("marker.lineDashOffset")],Ri.prototype,"lineDashOffset",2);I([xi("marker.itemStyler",{optional:!0})],Ri.prototype,"itemStyler",2);I([O()],Ri.prototype,"label",2);I([O()],Ri.prototype,"tooltip",2);var VTe=class extends EP{constructor(e,t,i,n){super(e,t,i,n),this.sizeKey=n.properties.sizeKey}},tD=class extends Md{constructor(e){super({moduleCtx:e,directionKeys:Tp,directionNames:Ap,categoryKey:void 0,pickModes:[2,1,0],pathsPerSeries:[],hasMarkers:!0,markerSelectionGarbageCollection:!1,animationResetFns:{label:Zc,marker:yb},usesPlacedLabels:!0,clipFocusBox:!1}),this.NodeEvent=VTe,this.properties=new Ri,this.sizeScale=new Ra}get pickModeAxis(){return"main-category"}async processData(e){var b,S;if(!this.properties.isValid()||this.data==null||!this.visible)return;const t=(b=this.axes.x)==null?void 0:b.scale,i=(S=this.axes.y)==null?void 0:S.scale,{xScaleType:n,yScaleType:s}=this.getScaleInformation({xScale:t,yScale:i}),r=this.sizeScale.type,{xKey:o,yKey:a,sizeKey:l,xFilterKey:u,yFilterKey:d,sizeFilterKey:p,labelKey:f,marker:m}=this.properties,{dataModel:y,processedData:C}=await this.requestDataModel(e,this.data,{props:[Wt(o,n,{id:"xValue"}),Wt(a,s,{id:"yValue"}),...u!=null?[Wt(u,n,{id:"xFilterValue"})]:[],...d!=null?[Wt(d,s,{id:"yFilterValue"})]:[],...p!=null?[Wt(p,r,{id:"sizeFilterValue"})]:[],Wt(l,r,{id:"sizeValue"}),...f?[Wt(f,"band",{id:"labelValue"})]:[]]}),w=y.resolveProcessedDataIndexById(this,"sizeValue");this.sizeScale.domain=m.domain??C.domain.values[w]??[],this.animationState.transition("updateData")}xCoordinateRange(e,t,i){const{properties:n,sizeScale:s}=this,{size:r,sizeKey:o}=n,a=this.axes.x.scale.convert(e),l=o!=null?this.dataModel.resolveColumnById(this,"sizeValue",this.processedData):void 0,d=.5*(l!=null?s.convert(l[i]):r)*t;return[a-d,a+d]}yCoordinateRange(e,t,i){const{properties:n,sizeScale:s}=this,{size:r,sizeKey:o}=n,a=this.axes.y.scale.convert(e[0]),l=o!=null?this.dataModel.resolveColumnById(this,"sizeValue",this.processedData):void 0,d=.5*(l!=null?s.convert(l[i]):r)*t;return[a-d,a+d]}getSeriesDomain(e){const{dataModel:t,processedData:i}=this;if(!i||!t)return[];const n={x:"xValue",y:"yValue"},s=n[e],r=t.resolveProcessedDataDefById(this,s),o=t.getDomain(this,s,"value",i);if((r==null?void 0:r.def.type)==="value"&&(r==null?void 0:r.def.valueType)==="category")return o;const l=n[e==="x"?"y":"x"],u=this.domainForClippedRange(e,[s],l,!1);return Nr($c(u))}getSeriesRange(e,t){return this.domainForVisibleRange("y",["yValue"],"xValue",t,!1)}getVisibleItems(e,t,i){return this.countVisibleItems("xValue",["yValue"],e,t,i)}createNodeData(){var G;const{axes:e,dataModel:t,processedData:i,sizeScale:n,visible:s}=this,{xKey:r,yKey:o,sizeKey:a,xFilterKey:l,yFilterKey:u,sizeFilterKey:d,labelKey:p,xName:f,yName:m,sizeName:y,labelName:C,label:w,marker:b}=this.properties,{placement:S}=w,M=ns.anchor(b.shape),D=e.x,R=e.y;if(!(t&&i&&s&&D&&R))return;const A=t.resolveColumnById(this,"xValue",i),k=t.resolveColumnById(this,"yValue",i),F=a!=null?t.resolveColumnById(this,"sizeValue",i):void 0,P=p!=null?t.resolveColumnById(this,"labelValue",i):void 0,L=l!=null?t.resolveColumnById(this,"xFilterValue",i):void 0,z=u!=null?t.resolveColumnById(this,"yFilterValue",i):void 0,H=d!=null?t.resolveColumnById(this,"sizeFilterValue",i):void 0,V=D.scale,q=R.scale,K=(V.bandwidth??0)/2,j=(q.bandwidth??0)/2,Z=[];n.range=[b.size,b.maxSize];const W=w.getFont(),Y=Hc.getMeasurer({font:W});return(G=i.dataSources.get(this.id))==null||G.forEach((U,te)=>{const ee=A[te],Q=k[te],ue=F==null?void 0:F[te],de=V.convert(ee)+K,we=q.convert(Q)+j;let ce;L!=null&&z!=null&&(ce=L[te]===ee&&z[te]===Q,H!=null&&ce&&(ce=H[te]===ue));const pe=this.getLabelText(w,{value:P!=null?P[te]:Q,datum:U,xKey:r,yKey:o,sizeKey:a,labelKey:p,xName:f,yName:m,sizeName:y,labelName:C}),ae=Y.measureText(String(pe)),xe=ue!=null?n.convert(ue):b.size;Z.push({series:this,itemId:o,yKey:o,xKey:r,datum:U,datumIndex:te,xValue:ee,yValue:Q,sizeValue:ue,point:{x:de,y:we,size:xe},midPoint:{x:de,y:we},label:{text:pe,...ae},anchor:M,placement:S,selected:ce})}),{itemId:o,nodeData:Z,labelData:Z,scales:this.calculateScaling(),visible:this.visible}}isPathOrSelectionDirty(){return this.properties.marker.isDirty()}getLabelData(){var e;return this.isLabelEnabled()?((e=this.contextNodeData)==null?void 0:e.labelData)??[]:[]}updateMarkerSelection(e){const{nodeData:t,markerSelection:i}=e;this.properties.marker.isDirty()&&(i.clear(),i.cleanup());const n=this.properties.marker.enabled?t:[];return i.update(n,void 0,s=>ys([s.xValue,s.yValue,s.sizeValue,s.label.text]))}updateMarkerNodes(e){const{markerSelection:t,isHighlight:i}=e,{xKey:n,yKey:s,sizeKey:r,labelKey:o,marker:a}=this.properties,l=Vt(i&&this.properties.highlightStyle.item,a.getStyle());this.sizeScale.range=[a.size,a.maxSize];const u=this.getShapeFillBBox();t.each((d,p)=>{this.updateMarkerStyle(a,d,p.datum,p.point,{xKey:n,yKey:s,sizeKey:r,labelKey:o},i,l,u,{selected:p.selected})}),i||this.properties.marker.markClean()}updatePlacedLabelData(e){this.labelSelection.update(e.map(t=>({...t.datum,point:{x:t.x,y:t.y,size:t.datum.point.size}})),t=>{t.pointerEvents=1}),this.updateLabelNodes({labelSelection:this.labelSelection})}updateLabelNodes(e){const{label:t}=this.properties;e.labelSelection.each((i,n)=>{var s,r;i.text=n.label.text,i.fill=t.color,i.x=((s=n.point)==null?void 0:s.x)??0,i.y=((r=n.point)==null?void 0:r.y)??0,i.fontStyle=t.fontStyle,i.fontWeight=t.fontWeight,i.fontSize=t.fontSize,i.fontFamily=t.fontFamily,i.textAlign="left",i.textBaseline="top"})}getTooltipContent(e){var L,z;const{id:t,dataModel:i,processedData:n,axes:s,properties:r}=this,{xKey:o,xName:a,yKey:l,yName:u,sizeKey:d,sizeName:p,labelKey:f,labelName:m,title:y,tooltip:C,marker:w}=r,b=s.x,S=s.y;if(!i||!n||!b||!S)return;const M=(L=n.dataSources.get(this.id))==null?void 0:L[e],D=i.resolveColumnById(this,"xValue",n)[e],R=i.resolveColumnById(this,"yValue",n)[e],A=(z=this.contextNodeData)==null?void 0:z.nodeData[e];if(D==null||A==null)return;const k=[{label:a,fallbackLabel:o,value:b.formatDatum(D)},{label:u,fallbackLabel:l,value:S.formatDatum(R)}];if(d!=null){const H=i.resolveColumnById(this,"sizeValue",n)[e];k.push({label:p,fallbackLabel:d,value:String(H)})}const F=w.getStyle(),P=this.getMarkerStyle(w,M,{xKey:o,yKey:l,sizeKey:d,labelKey:f,highlighted:!0},!1,void 0,F);return C.formatTooltip(this.properties,{title:y,symbol:this.legendItemSymbol(),data:k},{seriesId:t,datum:M,title:l,xKey:o,xName:a,yKey:l,yName:u,sizeKey:d,sizeName:p,labelKey:f,labelName:m,...P,...this.getModuleTooltipParams()})}legendItemSymbol(){return{marker:this.getMarkerStyle(this.properties.marker)}}getLegendData(){if(!this.properties.isValid())return[];const{id:e,ctx:{legendManager:t},visible:i}=this,{yKey:n,yName:s,title:r}=this.properties;return[{legendType:"category",id:e,itemId:n,seriesId:e,enabled:i&&t.getItemEnabled({seriesId:e,itemId:n}),label:{text:r??s??n},symbol:this.legendItemSymbol()}]}animateEmptyUpdateReady({markerSelection:e,labelSelection:t}){kP(this,this.ctx.animationManager,e),si(this,"labels",this.ctx.animationManager,t)}isLabelEnabled(){return this.properties.label.enabled}nodeFactory(){return new dt}getFormattedMarkerStyle(e){const{xKey:t,yKey:i,sizeKey:n,labelKey:s,marker:r}=this.properties;return this.getMarkerStyle(r,e,{xKey:t,yKey:i,sizeKey:n,labelKey:s},!1,e.point.size)}computeFocusBounds(e){return vb(this,e)}};tD.className="BubbleSeries";tD.type="bubble";var WTe={type:ct(Qs("bubble")),xKey:ct(Be),yKey:ct(Be),sizeKey:ct(Be),labelKey:Be,xName:Be,yName:Be,sizeName:Be,labelName:Be,title:Be,domain:tn(rt),maxSize:Te,showInMiniChart:Le,label:{placement:St("top","right","bottom","left"),...Dd},tooltip:Qc,...Ua,...ad(Cb,["enabled"])},UTe={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["cartesian"],identifier:"bubble",moduleFactory:e=>new tD(e),tooltipDefaults:{range:"nearest"},defaultAxes:[{type:"number",position:"bottom"},{type:"number",position:"left"}],themeTemplate:{series:{shape:"circle",size:7,maxSize:30,fill:{$palette:"fill"},stroke:{$palette:"stroke"},fillGradientDefaults:{type:"gradient",gradient:"radial",bounds:"item",colorStops:{$palette:"gradient"},rotation:0,reverse:!0},fillPatternDefaults:cd,fillOpacity:.8,tooltip:{position:{_seriesOverrideType:"node"}},label:{enabled:!1,fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"},color:{$ref:"textColor"}}}}},Y$={type:"series",name:"bubble",chartType:"cartesian",options:WTe,create:e=>new tD(e)},Pn=class extends Xc{constructor(){super(...arguments),this.fillGradientDefaults=new sa,this.fillPatternDefaults=new vn,this.fillOpacity=1,this.strokeWidth=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.cornerRadius=0,this.areaPlot=!1,this.aggregation="sum",this.shadow=new Wa,this.label=new rs,this.tooltip=new tr}};I([O()],Pn.prototype,"xKey",2);I([O()],Pn.prototype,"yKey",2);I([O()],Pn.prototype,"xName",2);I([O()],Pn.prototype,"yName",2);I([O(Hs(Nl,Bl,ao))],Pn.prototype,"fill",2);I([O()],Pn.prototype,"fillGradientDefaults",2);I([O()],Pn.prototype,"fillPatternDefaults",2);I([O()],Pn.prototype,"fillOpacity",2);I([O()],Pn.prototype,"stroke",2);I([O()],Pn.prototype,"strokeWidth",2);I([O()],Pn.prototype,"strokeOpacity",2);I([O()],Pn.prototype,"lineDash",2);I([O()],Pn.prototype,"lineDashOffset",2);I([O()],Pn.prototype,"cornerRadius",2);I([O()],Pn.prototype,"areaPlot",2);I([O()],Pn.prototype,"bins",2);I([O(vi(["count","sum","mean"],"a histogram aggregation"))],Pn.prototype,"aggregation",2);I([O()],Pn.prototype,"binCount",2);I([O()],Pn.prototype,"shadow",2);I([O()],Pn.prototype,"label",2);I([O()],Pn.prototype,"tooltip",2);var h4=10,iD=class extends Md{constructor(e){super({moduleCtx:e,directionKeys:Tp,directionNames:Ap,categoryKey:void 0,pickModes:[1,0],datumSelectionGarbageCollection:!1,animationResetFns:{datum:pC,label:Zc}}),this.properties=new Pn,this.calculatedBins=[]}deriveBins(e){const t=Hk(e[0],e[1],h4),i=eC(e[0],e[1],h4),[n]=t,s=r=>[r,r+i];return[[n-i,n],...t.map(s)]}calculateNiceBins(e,t){const i=Math.floor(e[0]),n=e[1],s=t||1,{start:r,binSize:o}=this.calculateNiceStart(i,n,s);return this.getBins(r,n,o,s)}getBins(e,t,i,n){const s=[],r=this.calculatePrecision(i);for(let o=0;o<n;o++){const a=Math.round((e+o*i)*r)/r;let l=Math.round((e+(o+1)*i)*r)/r;o===n-1&&(l=Math.max(l,t)),s[o]=[a,l]}return s}calculatePrecision(e){let t=10;if(isFinite(e)&&e>0)for(;e<1;)t*=10,e*=10;return t}calculateNiceStart(e,t,i){const n=Math.abs(t-e)/i,s=Math.floor(Math.log10(n)),r=Math.pow(10,s);return{start:Math.floor(e/r)*r,binSize:n}}async processData(e){var p,f;this.visible||(this.processedData=void 0,this.animationState.transition("updateData"));const{xKey:t,yKey:i,areaPlot:n,aggregation:s}=this.properties,r=(p=this.axes.x)==null?void 0:p.scale,o=(f=this.axes.y)==null?void 0:f.scale,{xScaleType:a,yScaleType:l}=this.getScaleInformation({yScale:o,xScale:r}),u=[Da(t,a),i$];if(i){let m=iI("groupAgg");s==="count"||(s==="sum"?m=WU("groupAgg"):s==="mean"&&(m=UU("groupAgg"))),n&&(m=nI("groupAgg",m)),u.push(Wt(i,l,{invalidValue:void 0}),m)}else{u.push(XU("count"));let m=iI("groupAgg");n&&(m=nI("groupAgg",m)),u.push(m)}const d=m=>{const y=Nr(m.domain.keys[0]);if(y.length===0)return m.domain.groups=[],()=>[];const C=Vo(this.properties.binCount)?this.calculateNiceBins(y,this.properties.binCount):this.properties.bins??this.deriveBins(y),w=C.length;return this.calculatedBins=[...C],b=>{let S=b[0];if(Yg(S)&&(S=S.getTime()),!Vo(S))return[];for(let M=0;M<w;M++){const D=C[M];if(S>=D[0]&&S<D[1]||M===w-1&&S<=D[1])return D}return[]}};!this.ctx.animationManager.isSkipped()&&this.processedData&&u.push(tm(this.id,this.processedData,!1)),await this.requestDataModel(e,this.data,{props:u,groupByFn:d}),this.animationState.transition("updateData")}xCoordinateRange(){return[NaN,NaN]}yCoordinateRange(){return[NaN,NaN]}getSeriesDomain(e){var o,a,l;const{processedData:t,dataModel:i}=this;if(!t||!i||!this.calculatedBins.length)return[];const n=i.getDomain(this,"groupAgg","aggregate",t),s=(o=this.calculatedBins)==null?void 0:o[0][0],r=(l=this.calculatedBins)==null?void 0:l[(((a=this.calculatedBins)==null?void 0:a.length)??0)-1][1];return Nr(e==="x"?[s,r]:n)}getSeriesRange(e,[t,i]){const{dataModel:n,processedData:s}=this;if(!n||(s==null?void 0:s.type)!=="grouped")return[NaN,NaN];const r=this.axes.x.scale,o=0;let a=-1/0;return s.groups.forEach(({keys:l,aggregation:u})=>{const[[d,p]=[0,0]]=u,[f,m]=l,[y,C]=zn([r.convert(f),r.convert(m)]);if(C>=t&&y<=i){const w=d+p;a=Math.max(a,w)}}),o>a?[NaN,NaN]:[o,a]}createNodeData(){const{id:e,axes:t,processedData:i,dataModel:n}=this,s=t.x,r=t.y;if(!s||!r||!n)return;const{scale:o}=s,{scale:a}=r,{xKey:l,yKey:u,xName:d,yName:p}=this.properties,f=this.properties.label.formatter,m=[],y={itemId:this.properties.yKey??this.id,nodeData:m,labelData:m,scales:this.calculateScaling(),animationValid:!0,visible:this.visible};return!this.visible||i==null||i.type!=="grouped"||(i.groups.forEach((C,w)=>{const{keys:b,datumIndices:S,aggregation:M}=C,[[D,R]=[0,0]]=M,A=S.length,k=b,[F,P]=k,L=[...n.forEachDatum(this,i,C)],z=o.convert(F),H=o.convert(P),V=D+R,q=a.convert(0),K=a.convert(V),j=Math.abs(H-z),Z=Math.abs(K-q),W=Math.min(z,H),Y=Math.min(q,K);let G;V!==0&&(G={x:W+j/2,y:Y+Z/2,text:this.cachedDatumCallback(ys(w,"label"),()=>f==null?void 0:f({value:V,datum:L,seriesId:e,xKey:l,yKey:u,xName:d,yName:p}))??r.formatDatum(V)});const U={x:W+j/2,y:Y+Z/2},te=r.isReversed();m.push({series:this,datumIndex:w,datum:L,aggregatedValue:V,frequency:A,domain:k,yKey:u,xKey:l,x:W,y:Y,xValue:z,yValue:K,width:j,height:Z,midPoint:U,topLeftCornerRadius:!te,topRightCornerRadius:!te,bottomRightCornerRadius:te,bottomLeftCornerRadius:te,label:G,crisp:!0})}),m.sort((C,w)=>C.x-w.x)),y}nodeFactory(){return new er}updateDatumSelection(e){const{nodeData:t,datumSelection:i}=e;return i.update(t,void 0,n=>n.domain.join("_"))}getItemBaseStyle(e){const{properties:t}=this,i=e?t.highlightStyle.item:void 0;return xl({fill:(i==null?void 0:i.fill)??t.fill,fillOpacity:(i==null?void 0:i.fillOpacity)??t.fillOpacity,stroke:(i==null?void 0:i.stroke)??t.stroke,strokeWidth:(i==null?void 0:i.strokeWidth)??this.getStrokeWidth(t.strokeWidth),strokeOpacity:(i==null?void 0:i.strokeOpacity)??t.strokeOpacity,lineDash:(i==null?void 0:i.lineDash)??t.lineDash,lineDashOffset:(i==null?void 0:i.lineDashOffset)??t.lineDashOffset,cornerRadius:t.cornerRadius},t.fillGradientDefaults,t.fillPatternDefaults)}updateDatumNodes(e){const{isHighlight:t}=e,{shadow:i}=this.properties,n=this.getItemBaseStyle(t),s=this.getShapeFillBBox();e.datumSelection.each((r,o)=>{const{cornerRadius:a}=n,{topLeftCornerRadius:l,topRightCornerRadius:u,bottomRightCornerRadius:d,bottomLeftCornerRadius:p}=o;up(r,n,void 0,s),r.topLeftCornerRadius=l?a:0,r.topRightCornerRadius=u?a:0,r.bottomRightCornerRadius=d?a:0,r.bottomLeftCornerRadius=p?a:0,r.crisp=o.crisp,r.fillShadow=i,r.visible=o.height>0})}updateLabelSelection(e){const{labelData:t,labelSelection:i}=e;return i.update(t,n=>{n.pointerEvents=1,n.textAlign="center",n.textBaseline="middle"})}updateLabelNodes(e){const{fontStyle:t,fontWeight:i,fontFamily:n,fontSize:s,color:r}=this.properties.label,o=this.isLabelEnabled();e.labelSelection.each((a,l)=>{o&&(l!=null&&l.label)?(a.text=l.label.text,a.x=l.label.x,a.y=l.label.y,a.fontStyle=t,a.fontWeight=i,a.fontFamily=n,a.fontSize=s,a.fill=r,a.visible=!0):a.visible=!1})}initQuadTree(e){const{value:t}=this.contentGroup.children().next();t&&_P(e,t.children())}pickNodeClosestDatum(e){return jP(this,e)}getTooltipContent(e){const{id:t,dataModel:i,processedData:n,axes:s,properties:r,ctx:{localeManager:o}}=this,{xKey:a,xName:l,yKey:u,yName:d,tooltip:p}=r,f=s.x,m=s.y;if(!i||(n==null?void 0:n.type)!=="grouped"||!f||!m)return;const y=n.groups[e],{aggregation:C,datumIndices:w,keys:b}=y,[[S,M]=[0,0]]=C,D=w.length,R=b,[A,k]=R,F=S+M,P={data:[...i.forEachDatum(this,n,y)],aggregatedValue:F,frequency:D,domain:R},L=[{label:l,fallbackLabel:a,value:`${f.formatDatum(A)} - ${f.formatDatum(k)}`},{label:o.t("seriesHistogramTooltipFrequency"),value:m.formatDatum(D)}];if(u!=null){let z;switch(r.aggregation){case"sum":z=o.t("seriesHistogramTooltipSum",{yName:d??u});break;case"mean":z=o.t("seriesHistogramTooltipMean",{yName:d??u});break;case"count":z=o.t("seriesHistogramTooltipCount",{yName:d??u});break}L.push({label:z,value:m.formatDatum(F)})}return p.formatTooltip(this.properties,{symbol:this.legendItemSymbol(),data:L},{seriesId:t,datum:P,title:d,xKey:a,xName:l,yKey:u,yName:d,xRange:[A,k],frequency:D,...this.getItemBaseStyle(!1)})}legendItemSymbol(){const{fill:e,fillOpacity:t,stroke:i,strokeWidth:n,strokeOpacity:s,lineDash:r,lineDashOffset:o,fillGradientDefaults:a,fillPatternDefaults:l}=this.properties;return{marker:xl({fill:e??"rgba(0, 0, 0, 0)",stroke:i??"rgba(0, 0, 0, 0)",fillOpacity:t,strokeOpacity:s,strokeWidth:n,lineDash:r,lineDashOffset:o},a,l)}}getLegendData(e){if(e!=="category")return[];const{id:t,ctx:{legendManager:i},visible:n}=this,{xKey:s,yName:r,showInLegend:o}=this.properties;return[{legendType:"category",id:t,itemId:s,seriesId:t,enabled:n&&i.getItemEnabled({seriesId:t,itemId:s}),label:{text:r??s??"Frequency"},symbol:this.legendItemSymbol(),hideInLegend:!o}]}animateEmptyUpdateReady({datumSelection:e,labelSelection:t}){const i=hC(dC(!0,this.axes,"normal"));fn(this.id,"datums",this.ctx.animationManager,[e],i),si(this,"labels",this.ctx.animationManager,t)}animateWaitingUpdateReady(e){var n,s,r;const t=(r=(s=(n=this.processedData)==null?void 0:n.reduced)==null?void 0:s.diff)==null?void 0:r[this.id],i=hC(dC(!0,this.axes,"normal"));fn(this.id,"datums",this.ctx.animationManager,[e.datumSelection],i,(o,a)=>ys(a.domain),t),si(this,"labels",this.ctx.animationManager,e.labelSelection)}isLabelEnabled(){return this.properties.label.enabled}computeFocusBounds({datumIndex:e}){var t;return UP(this,(t=this.contextNodeData)==null?void 0:t.nodeData[e])}};iD.className="HistogramSeries";iD.type="histogram";var $Te={type:ct(Qs("histogram")),xKey:ct(Be),yKey:Be,xName:Be,yName:Be,areaPlot:Le,aggregation:St("count","sum","mean"),bins:tn(tn(rt)),binCount:Te,showInMiniChart:Le,cornerRadius:Te,label:Dd,tooltip:Qc,shadow:bb,...Ua,...Zo,...pr,...Al},YTe={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["cartesian"],identifier:"histogram",moduleFactory:e=>new iD(e),tooltipDefaults:{range:"exact"},defaultAxes:[{type:"number",position:"bottom"},{type:"number",position:"left"}],themeTemplate:{series:{fill:{$palette:"fill"},stroke:{$palette:"stroke"},fillGradientDefaults:{type:"gradient",gradient:"linear",bounds:"item",colorStops:{$palette:"gradient"},rotation:0,reverse:!1},fillPatternDefaults:cd,strokeWidth:1,fillOpacity:1,strokeOpacity:1,lineDash:[0],lineDashOffset:0,label:{enabled:!1,fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"},color:{$ref:"backgroundColor"}},shadow:{enabled:!1,color:xd,xOffset:3,yOffset:3,blur:5}}}},K$={type:"series",name:"histogram",chartType:"cartesian",enterprise:!0,options:$Te,create:e=>new iD(e)},Zn=class extends Xc{constructor(){super(...arguments),this.stroke="#874349",this.strokeWidth=2,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.interpolation=new om,this.marker=new Cs,this.label=new rs,this.tooltip=new tr,this.connectMissingData=!1,this.sparklineMode=!1}};I([O()],Zn.prototype,"xKey",2);I([O()],Zn.prototype,"yKey",2);I([O()],Zn.prototype,"xName",2);I([O()],Zn.prototype,"yName",2);I([O()],Zn.prototype,"yFilterKey",2);I([O()],Zn.prototype,"stackGroup",2);I([O()],Zn.prototype,"normalizedTo",2);I([O()],Zn.prototype,"title",2);I([O()],Zn.prototype,"stroke",2);I([O()],Zn.prototype,"strokeWidth",2);I([O()],Zn.prototype,"strokeOpacity",2);I([O()],Zn.prototype,"lineDash",2);I([O()],Zn.prototype,"lineDashOffset",2);I([O()],Zn.prototype,"interpolation",2);I([O()],Zn.prototype,"marker",2);I([O()],Zn.prototype,"label",2);I([O()],Zn.prototype,"tooltip",2);I([O()],Zn.prototype,"connectMissingData",2);I([O()],Zn.prototype,"sparklineMode",2);var KTe=.25,xb=class extends Md{constructor(e){super({moduleCtx:e,directionKeys:Tp,directionNames:Ap,categoryKey:"xValue",hasMarkers:!0,pickModes:[2,1,0],markerSelectionGarbageCollection:!1,animationResetFns:{path:OP({getVisible:()=>this.visible,getOpacity:()=>this.getOpacity()}),label:Zc,marker:(t,i)=>({...yb(),...uC(t,i)})},clipFocusBox:!1}),this.properties=new Zn,this.dataAggregationFilters=void 0}get pickModeAxis(){return this.properties.sparklineMode?"main":"main-category"}async processData(e){var R,A;if(this.data==null||!this.properties.isValid())return;const{data:t,visible:i,seriesGrouping:{groupIndex:n=this.id,stackCount:s=0}={}}=this,{xKey:r,yKey:o,yFilterKey:a,connectMissingData:l,normalizedTo:u}=this.properties,d=!this.ctx.animationManager.isSkipped(),p=(R=this.axes.x)==null?void 0:R.scale,f=(A=this.axes.y)==null?void 0:A.scale,{isContinuousX:m,xScaleType:y,yScaleType:C}=this.getScaleInformation({xScale:p,yScale:f}),w=s>=1||u!=null,b={invalidValue:null};l&&w&&(b.invalidValue=0),w&&!i&&(b.forceValue=0);const S=[];if((!m||w)&&S.push(Da(r,y,{id:"xKey"})),S.push(Wt(r,y,{id:"xValue"}),Wt(o,C,{id:"yValueRaw",...b,invalidValue:void 0})),a!=null&&S.push(Wt(a,C,{id:"yFilterRaw"})),w){const k=[`line-stack-${n}-yValues`,`line-stack-${n}-yValues-trailing`,`line-stack-${n}-yValues-marker`];S.push(...Ju(o,"window","current",{id:"yValueEnd",...b,groupId:k[0]},C),...Ju(o,"window-trailing","current",{id:"yValueStart",...b,groupId:k[1]},C),...Ju(o,"normal","current",{id:"yValueCumulative",...b,groupId:k[2]},C)),uv(u)&&S.push(GM([k[0],k[1],k[2]],u))}d&&(S.push(em(m?["xValue"]:void 0)),this.processedData&&S.push(tm(this.id,this.processedData)));const{dataModel:M,processedData:D}=await this.requestDataModel(e,t,{props:S,groupByKeys:w,groupByData:!w});this.dataAggregationFilters=this.aggregateData(M,D),this.animationState.transition("updateData")}xCoordinateRange(e,t){const{marker:i}=this.properties,n=this.axes.x.scale.convert(e),s=i.enabled?.5*i.size*t:0;return[n-s,n+s]}yCoordinateRange(e,t){const{marker:i}=this.properties,n=this.axes.y.scale.convert(e[0]),s=i.enabled?.5*i.size*t:0;return[n-s,n+s]}getSeriesDomain(e){var r;const{dataModel:t,processedData:i}=this;if(!t||!i)return[];if(e==="x"){const o=t.resolveProcessedDataDefById(this,"xValue"),a=t.getDomain(this,"xValue","value",i);return(o==null?void 0:o.def.type)==="value"&&o.def.valueType==="category"?a:Nr($c(a))}const n=(r=this.dataModel)!=null&&r.hasColumnById(this,"yValueEnd")?"yValueEnd":"yValueRaw",s=this.domainForClippedRange("y",[n],"xValue",!0);return Nr(s)}getSeriesRange(e,t){var n;const i=(n=this.dataModel)!=null&&n.hasColumnById(this,"yValueEnd")?"yValueEnd":"yValueRaw";return this.domainForVisibleRange("y",[i],"xValue",t,!0)}getVisibleItems(e,t,i){var s;const n=(s=this.dataModel)!=null&&s.hasColumnById(this,"yValueEnd")?"yValueEnd":"yValueRaw";return this.countVisibleItems("xValue",[n],e,t,i)}aggregateData(e,t){}createNodeData(){var ce;const{dataModel:e,processedData:t,axes:i,dataAggregationFilters:n}=this,s=i.x,r=i.y;if(!e||!t||!s||!r)return;const{xKey:o,yKey:a,yFilterKey:l,xName:u,yName:d,marker:p,label:f,connectMissingData:m,interpolation:y,legendItemName:C}=this.properties,w=(ce=this.dataModel)==null?void 0:ce.hasColumnById(this,"yValueEnd"),b=s.scale,S=r.scale,M=(b.bandwidth??0)/2,D=(S.bandwidth??0)/2,R=p.enabled?p.size:0,A=t.dataSources.get(this.id)??[],k=e.resolveColumnById(this,"xValue",t),F=e.resolveColumnById(this,"yValueRaw",t),P=w?e.resolveColumnById(this,"yValueEnd",t):void 0,L=w?e.resolveColumnById(this,"yValueCumulative",t):F,z=l!=null?e.resolveColumnById(this,"yFilterRaw",t):void 0,H=pe=>b.convert(k[pe])+M,V=pe=>S.convert(L[pe])+D,q={lengthRatioMultiplier:this.properties.marker.getDiameter(),lengthMax:1/0},K=[];let j;const Z=pe=>{const ae=A[pe],xe=k[pe],Ie=F[pe],Fe=P==null?void 0:P[pe],Me=z==null?void 0:z[pe],_e=H(pe),tt=V(pe);if(!Number.isFinite(_e))return;if(Ie!=null){const Ke=f.enabled?this.getLabelText(f,{value:Ie,datum:ae,xKey:o,yKey:a,xName:u,yName:d,legendItemName:C}):void 0;K.push({series:this,datum:ae,datumIndex:pe,yKey:a,xKey:o,point:{x:_e,y:tt,size:R},midPoint:{x:_e,y:tt},cumulativeValue:Fe,yValue:Ie,xValue:xe,capDefaults:q,labelText:Ke,selected:Me})}if(j==null)return;const He=j[j.length-1];if(Ie!=null){const Ke={point:{x:_e,y:tt},xDatum:xe,yDatum:Ie};Array.isArray(He)?He.push(Ke):He!=null?(He.skip+=1,j.push([Ke])):j.push([Ke])}else m||(Array.isArray(He)||He==null?j.push({skip:0}):He.skip+=1)},[W,Y]=b.range,G=Y-W,U=n==null?void 0:n.find(pe=>pe.maxRange>G),te=U==null?void 0:U.indices;let[ee,Q]=this.visibleRange("xValue",s.range,te);ee=Math.max(ee-1,0),Q=Math.min(Q+1,(te==null?void 0:te.length)??k.length),t.input.count<1e3&&(ee=0,Q=t.input.count),te==null&&(j=[]);for(let pe=ee;pe<Q;pe+=1)Z((te==null?void 0:te[pe])??pe);const ue=j==null?void 0:j.flatMap(pe=>Array.isArray(pe)?hx(pe,y):[]),de=ue!=null?{itemId:a,spans:ue}:void 0,we=(z==null?void 0:z.some((pe,ae)=>pe===F[ae]))??!1;return{itemId:a,nodeData:K,labelData:K,strokeData:de,scales:this.calculateScaling(),visible:this.visible,crossFiltering:we}}isPathOrSelectionDirty(){return this.properties.marker.isDirty()}updatePathNodes(e){var o;const{paths:[t],opacity:i,visible:n,animationEnabled:s}=e,r=((o=this.contextNodeData)==null?void 0:o.crossFiltering)===!0;t.setProperties({fill:void 0,lineJoin:"round",pointerEvents:1,opacity:i,stroke:this.properties.stroke,strokeWidth:this.getStrokeWidth(this.properties.strokeWidth),strokeOpacity:this.properties.strokeOpacity*(r?KTe:1),lineDash:this.properties.lineDash,lineDashOffset:this.properties.lineDashOffset}),s||(t.visible=n),fx(this,t)}getMarkerItemBaseStyle(e){const{properties:t}=this,{marker:i}=t,n=e?t.highlightStyle.item:void 0;return xl({size:i.size,shape:i.shape,fill:(n==null?void 0:n.fill)??i.fill,fillOpacity:(n==null?void 0:n.fillOpacity)??i.fillOpacity,stroke:(n==null?void 0:n.stroke)??i.stroke,strokeWidth:(n==null?void 0:n.strokeWidth)??i.strokeWidth,strokeOpacity:(n==null?void 0:n.strokeOpacity)??i.strokeOpacity,lineDash:(n==null?void 0:n.lineDash)??i.lineDash,lineDashOffset:(n==null?void 0:n.lineDashOffset)??i.lineDashOffset},i.fillGradientDefaults,i.fillPatternDefaults)}getMarkerItemStyleOverrides(e,t,i,n){const{id:s,properties:r}=this,{xKey:o,yKey:a,marker:l}=r,{itemStyler:u}=l;if(u!=null)return this.cachedDatumCallback(ys(e,n?"highlight":"node"),()=>{const d=this.getSeriesDomain("x"),p=this.getSeriesDomain("y");return this.callWithContext(u,{seriesId:s,...Qu(t,o,a,d,p),datum:t,highlighted:n,...i})})}updateMarkerSelection(e){var s;let{nodeData:t}=e;const{markerSelection:i}=e;return t=this.properties.marker.enabled||((s=this.contextNodeData)==null?void 0:s.crossFiltering)===!0?t:[],this.properties.marker.isDirty()&&(i.clear(),i.cleanup()),i.update(t,void 0,r=>ys(r.xValue))}updateMarkerNodes(e){const{markerSelection:t,isHighlight:i}=e,{xKey:n,yKey:s,stroke:r,strokeWidth:o,strokeOpacity:a,marker:l,highlightStyle:u}=this.properties,d=this.getSeriesDomain("x"),p=this.getSeriesDomain("y"),f=Vt(i&&u.item,l.getStyle(),{stroke:r,strokeWidth:o,strokeOpacity:a}),m=this.ctx.animationManager.isSkipped(),y=this.getShapeFillBBox();t.each((C,w)=>{this.updateMarkerStyle(l,C,w.datum,w.point,Qu(w,n,s,d,p),i,f,y,{applyTranslation:m,selected:w.selected})}),i||l.markClean()}updateLabelSelection(e){return e.labelSelection.update(this.isLabelEnabled()?e.labelData:[])}updateLabelNodes(e){const{enabled:t,fontStyle:i,fontWeight:n,fontSize:s,fontFamily:r,color:o}=this.properties.label;e.labelSelection.each((a,l)=>{t&&(l!=null&&l.labelText)?(a.fontStyle=i,a.fontWeight=n,a.fontSize=s,a.fontFamily=r,a.textAlign="center",a.textBaseline="bottom",a.text=l.labelText,a.x=l.point.x,a.y=l.point.y-10,a.fill=o,a.visible=!0):a.visible=!1})}getTooltipContent(e){var b;const{id:t,dataModel:i,processedData:n,axes:s,properties:r}=this,{xKey:o,xName:a,yKey:l,yName:u,tooltip:d}=r,p=s.x,f=s.y;if(!i||!n||!p||!f)return;const m=(b=n.dataSources.get(this.id))==null?void 0:b[e],y=i.resolveColumnById(this,"xValue",n)[e],C=i.resolveColumnById(this,"yValueRaw",n)[e];if(y==null)return;const w=this.getMarkerItemBaseStyle(!1);return Object.assign(w,this.getMarkerItemStyleOverrides(String(e),m,w,!1)),d.formatTooltip(this.properties,{heading:p.formatDatum(y),symbol:this.legendItemSymbol(),data:[{label:u,fallbackLabel:l,value:f.formatDatum(C)}]},{seriesId:t,datum:m,title:u,xKey:o,xName:a,yKey:l,yName:u,...w,...this.getModuleTooltipParams()})}legendItemSymbol(){const e="rgba(0, 0, 0, 0)",{stroke:t,strokeOpacity:i,strokeWidth:n,lineDash:s,marker:r}=this.properties;return{marker:{...this.getMarkerStyle(r,void 0,void 0,!1,void 0,{fill:r.fill??e,stroke:r.stroke??t??e}),enabled:r.enabled},line:{stroke:t??e,strokeOpacity:i,strokeWidth:n,lineDash:s}}}getLegendData(e){if(!(this.properties.isValid()&&e==="category"))return[];const{id:t,ctx:{legendManager:i},visible:n}=this,{yKey:s,yName:r,title:o,legendItemName:a,showInLegend:l}=this.properties;return[{legendType:"category",id:t,itemId:s,legendItemName:a,seriesId:t,enabled:n&&i.getItemEnabled({seriesId:t,itemId:s}),label:{text:a??o??r??s},symbol:this.legendItemSymbol(),hideInLegend:!l}]}updatePaths(e){this.updateLinePaths(e.paths,e.contextData)}plotNodeDataPoints(e,t){if(t.length===0)return;const i=t[0].point;e.moveTo(i.x,i.y);for(let n=1;n<t.length;n+=1){const{x:s,y:r}=t[n].point;e.lineTo(s,r)}}updateLinePaths(e,t){var s;const i=(s=t.strokeData)==null?void 0:s.spans,[n]=e;n.path.clear(),i!=null?AP(n,i):this.plotNodeDataPoints(n.path,t.nodeData),n.markDirty("LineSeries")}animateEmptyUpdateReady(e){const{markerSelection:t,labelSelection:i,annotationSelections:n,contextData:s,paths:r}=e,{animationManager:o}=this.ctx;this.updateLinePaths(r,s),FP(this,o,...r),hs([t],uC),PP(this,o,t),si(this,"labels",o,i),si(this,"annotations",o,...n)}animateReadyResize(e){const{contextData:t,paths:i}=e;this.updateLinePaths(i,t),super.animateReadyResize(e)}animateWaitingUpdateReady(e){var f,m,y;const{animationManager:t}=this.ctx,{markerSelection:i,labelSelection:n,annotationSelections:s,contextData:r,paths:o,previousContextData:a}=e,[l]=o;this.resetMarkerAnimation(e),this.resetLabelAnimation(e);const u=()=>{this.resetPathAnimation(e),this.updateLinePaths(o,r)},d=()=>{t.skipCurrentBatch(),u()};if(r==null||a==null){u(),cC(this,t,"added",i),px(this,"path_properties",t,"add",l),si(this,"labels",t,n),si(this,"annotations",t,...s);return}if(r.crossFiltering!==a.crossFiltering){d();return}const p=k$(r,a,(y=(m=(f=this.processedData)==null?void 0:f.reduced)==null?void 0:m.diff)==null?void 0:y[this.id]);if(p===void 0){d();return}else if(p.status==="no-op")return;fn(this.id,"path_properties",t,[l],p.stroke.pathProperties),p.status==="added"?this.updateLinePaths(o,r):p.status==="removed"?this.updateLinePaths(o,a):ux(this.id,"path_update",t,[l],p.stroke.path),p.hasMotion&&(cC(this,t,void 0,i),si(this,"labels",t,n),si(this,"annotations",t,...s))}isLabelEnabled(){return this.properties.label.enabled}getBandScalePadding(){return{inner:1,outer:.1}}nodeFactory(){return new dt}getFormattedMarkerStyle(e){const{xKey:t,yKey:i}=this.properties,n=this.getSeriesDomain("x"),s=this.getSeriesDomain("y");return this.getMarkerStyle(this.properties.marker,e.datum,Qu(e,t,i,n,s),!0)}computeFocusBounds(e){return vb(this,e)}};xb.className="LineSeries";xb.type="line";var nD={type:Qs("line"),xKey:ct(Be),yKey:ct(Be),xName:Be,yName:Be,title:Be,stacked:Le,stackGroup:Be,normalizedTo:rt,legendItemName:Be,showInMiniChart:Le,connectMissingData:Le,interpolation:HP,label:Dd,marker:Cb,tooltip:Qc,errorBar:eD,...Ua,...pr,...Al};nD.pickOutsideVisibleMinorAxis=Le;nD.focusPriority=rt;nD.sparklineMode=Le;var q$={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["cartesian"],identifier:"line",moduleFactory:e=>new xb(e),stackable:!0,tooltipDefaults:{range:"nearest"},defaultAxes:[{type:"number",position:"left"},{type:"category",position:"bottom"}],themeTemplate:{series:{tooltip:{position:{_seriesOverrideType:"node"}},stroke:qM,strokeWidth:2,strokeOpacity:1,lineDash:[0],lineDashOffset:0,interpolation:{type:"linear"},marker:{shape:"circle",size:7,strokeWidth:0,fill:{$palette:"fill"},stroke:{$palette:"stroke"},fillGradientDefaults:{type:"gradient",gradient:"radial",bounds:"item",colorStops:{$palette:"gradient"},rotation:0,reverse:!0},fillPatternDefaults:cd},label:{enabled:!1,fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"},color:{$ref:"textColor"}},errorBar:{cap:{lengthRatio:1}}}}},Z$={type:"series",name:"line",chartType:"cartesian",options:nD,create:e=>new xb(e)},X$=class extends rs{constructor(){super(...arguments),this.placement="top"}};I([O()],X$.prototype,"placement",2);var nn=class extends Xc{constructor(){super(...arguments),this.label=new X$,this.tooltip=new tr,this.marker=new Cs}};I([O()],nn.prototype,"xKey",2);I([O()],nn.prototype,"yKey",2);I([O()],nn.prototype,"labelKey",2);I([O()],nn.prototype,"xFilterKey",2);I([O()],nn.prototype,"yFilterKey",2);I([O()],nn.prototype,"xName",2);I([O()],nn.prototype,"yName",2);I([O()],nn.prototype,"labelName",2);I([O()],nn.prototype,"title",2);I([xi("marker.shape")],nn.prototype,"shape",2);I([xi("marker.size")],nn.prototype,"size",2);I([xi("marker.fill",{optional:!0})],nn.prototype,"fill",2);I([xi("marker.fillGradientDefaults")],nn.prototype,"fillGradientDefaults",2);I([xi("marker.fillPatternDefaults")],nn.prototype,"fillPatternDefaults",2);I([xi("marker.fillOpacity")],nn.prototype,"fillOpacity",2);I([xi("marker.stroke")],nn.prototype,"stroke",2);I([xi("marker.strokeWidth")],nn.prototype,"strokeWidth",2);I([xi("marker.strokeOpacity")],nn.prototype,"strokeOpacity",2);I([xi("marker.lineDash")],nn.prototype,"lineDash",2);I([xi("marker.lineDashOffset")],nn.prototype,"lineDashOffset",2);I([xi("marker.itemStyler",{optional:!0})],nn.prototype,"itemStyler",2);I([O()],nn.prototype,"label",2);I([O()],nn.prototype,"tooltip",2);var sD=class extends Md{constructor(e){super({moduleCtx:e,directionKeys:Tp,directionNames:Ap,categoryKey:void 0,pickModes:[2,1,0],pathsPerSeries:[],hasMarkers:!0,markerSelectionGarbageCollection:!1,animationResetFns:{marker:yb,label:Zc},usesPlacedLabels:!0,clipFocusBox:!1}),this.properties=new nn}get pickModeAxis(){return"main-category"}async processData(e){var d,p;if(!this.properties.isValid()||this.data==null||!this.visible)return;const t=(d=this.axes.x)==null?void 0:d.scale,i=(p=this.axes.y)==null?void 0:p.scale,{xScaleType:n,yScaleType:s}=this.getScaleInformation({xScale:t,yScale:i}),{xKey:r,yKey:o,xFilterKey:a,yFilterKey:l,labelKey:u}=this.properties;await this.requestDataModel(e,this.data,{props:[Wt(r,n,{id:"xValue"}),Wt(o,s,{id:"yValue"}),...a!=null?[Wt(a,n,{id:"xFilterValue"})]:[],...l!=null?[Wt(l,s,{id:"yFilterValue"})]:[],...u?[Wt(u,"band",{id:"labelValue"})]:[]]}),this.animationState.transition("updateData")}xCoordinateRange(e,t){const i=this.axes.x.scale.convert(e),n=.5*this.properties.size*t;return[i-n,i+n]}yCoordinateRange(e,t){const i=this.axes.y.scale.convert(e[0]),n=.5*this.properties.size*t;return[i-n,i+n]}getSeriesDomain(e){const{dataModel:t,processedData:i}=this;if(!i||!t)return[];const n={x:"xValue",y:"yValue"},s=n[e],r=t.resolveProcessedDataDefById(this,s),o=t.getDomain(this,s,"value",i);if((r==null?void 0:r.def.type)==="value"&&(r==null?void 0:r.def.valueType)==="category")return o;const l=n[e==="x"?"y":"x"],u=this.domainForClippedRange(e,[s],l,!1);return Nr($c(u))}getSeriesRange(e,t){return this.domainForVisibleRange("y",["yValue"],"xValue",t,!1)}getVisibleItems(e,t,i){return this.countVisibleItems("xValue",["yValue"],e,t,i)}createNodeData(){const{axes:e,dataModel:t,processedData:i,visible:n}=this,{xKey:s,yKey:r,xFilterKey:o,yFilterKey:a,labelKey:l,xName:u,yName:d,labelName:p,marker:f,label:m}=this.properties,{placement:y}=m,C=ns.anchor(f.shape),w=e.x,b=e.y;if(!(t&&i&&n&&w&&b))return;const S=t.resolveColumnById(this,"xValue",i),M=t.resolveColumnById(this,"yValue",i),D=l!=null?t.resolveColumnById(this,"labelValue",i):void 0,R=o!=null?t.resolveColumnById(this,"xFilterValue",i):void 0,A=a!=null?t.resolveColumnById(this,"yFilterValue",i):void 0,k=w.scale,F=b.scale,P=(k.bandwidth??0)/2,L=(F.bandwidth??0)/2,z=[],H=m.getFont(),V=Hc.getMeasurer({font:H});return(i.dataSources.get(this.id)??[]).forEach((K,j)=>{const Z=S[j],W=M[j],Y=k.convert(Z)+P,G=F.convert(W)+L,U=R!=null&&A!=null?R[j]===Z&&A[j]===W:void 0,te=this.getLabelText(m,{value:D!=null?D==null?void 0:D[j]:W,datum:K,xKey:s,yKey:r,labelKey:l,xName:u,yName:d,labelName:p}),ee=V.measureText(te);z.push({series:this,itemId:r,yKey:r,xKey:s,datum:K,datumIndex:j,xValue:Z,yValue:W,capDefaults:{lengthRatioMultiplier:f.getDiameter(),lengthMax:1/0},point:{x:Y,y:G,size:f.size},midPoint:{x:Y,y:G},label:{text:te,...ee},anchor:C,placement:y,selected:U})}),{itemId:r,nodeData:z,labelData:z,scales:this.calculateScaling(),visible:this.visible}}isPathOrSelectionDirty(){return this.properties.marker.isDirty()}getLabelData(){var e;return this.isLabelEnabled()?((e=this.contextNodeData)==null?void 0:e.labelData)??[]:[]}updateMarkerSelection(e){const{nodeData:t,markerSelection:i}=e;return this.properties.marker.isDirty()&&(i.clear(),i.cleanup()),i.update(this.properties.marker.enabled?t:[])}updateMarkerNodes(e){const{markerSelection:t,isHighlight:i}=e,{xKey:n,yKey:s,labelKey:r,marker:o,highlightStyle:a}=this.properties,l=Vt(i&&a.item,o.getStyle()),u=this.getShapeFillBBox();t.each((d,p)=>{this.updateMarkerStyle(o,d,p.datum,p.point,{xKey:n,yKey:s,labelKey:r},i,l,u,{selected:p.selected})}),i||o.markClean()}updatePlacedLabelData(e){this.labelSelection.update(e.map(t=>({...t.datum,point:{x:t.x,y:t.y,size:t.datum.point.size}})),t=>{t.pointerEvents=1}),this.updateLabelNodes({labelSelection:this.labelSelection})}updateLabelNodes(e){const{label:t}=this.properties;e.labelSelection.each((i,n)=>{var s,r;i.text=n.label.text,i.fill=t.color,i.x=((s=n.point)==null?void 0:s.x)??0,i.y=((r=n.point)==null?void 0:r.y)??0,i.fontStyle=t.fontStyle,i.fontWeight=t.fontWeight,i.fontSize=t.fontSize,i.fontFamily=t.fontFamily,i.textAlign="left",i.textBaseline="top"})}getTooltipContent(e){var A,k;const{id:t,dataModel:i,processedData:n,axes:s,properties:r}=this,{xKey:o,xName:a,yKey:l,yName:u,labelKey:d,labelName:p,title:f,tooltip:m,marker:y}=r,C=s.x,w=s.y;if(!i||!n||!C||!w)return;const b=(A=n.dataSources.get(this.id))==null?void 0:A[e],S=i.resolveColumnById(this,"xValue",n)[e],M=i.resolveColumnById(this,"yValue",n)[e],D=(k=this.contextNodeData)==null?void 0:k.nodeData[e];if(S==null||D==null)return;const R=this.getMarkerStyle(y,D.datum,{xKey:o,yKey:l,labelKey:d,highlighted:!0});return m.formatTooltip(this.properties,{symbol:this.legendItemSymbol(),title:f,data:[{label:a,fallbackLabel:o,value:C.formatDatum(S)},{label:u,fallbackLabel:l,value:w.formatDatum(M)}]},{seriesId:t,datum:b,title:u,xKey:o,xName:a,yKey:l,yName:u,labelKey:d,labelName:p,...R,...this.getModuleTooltipParams()})}legendItemSymbol(){return{marker:this.getMarkerStyle(this.properties.marker)}}getLegendData(e){if(!this.properties.isValid()||e!=="category")return[];const{yKey:t,yName:i,title:n,showInLegend:s}=this.properties,{id:r,ctx:{legendManager:o},visible:a}=this;return[{legendType:"category",id:r,itemId:t,seriesId:r,enabled:a&&o.getItemEnabled({seriesId:r,itemId:t}),label:{text:n??i??t},symbol:this.legendItemSymbol(),hideInLegend:!s}]}animateEmptyUpdateReady(e){const{markerSelection:t,labelSelection:i,annotationSelections:n}=e;kP(this,this.ctx.animationManager,t),si(this,"labels",this.ctx.animationManager,i),si(this,"annotations",this.ctx.animationManager,...n)}isLabelEnabled(){return this.properties.label.enabled}nodeFactory(){return new dt}getFormattedMarkerStyle(e){const{xKey:t,yKey:i,labelKey:n}=this.properties;return this.getMarkerStyle(this.properties.marker,e.datum,{xKey:t,yKey:i,labelKey:n},!0)}computeFocusBounds(e){return vb(this,e)}};sD.className="ScatterSeries";sD.type="scatter";var qTe={type:ct(Qs("scatter")),xKey:ct(Be),yKey:ct(Be),labelKey:Be,xName:Be,yName:Be,labelName:Be,title:Be,showInMiniChart:Le,label:{placement:St("top","right","bottom","left"),...Dd},tooltip:Qc,errorBar:eD,...Ua,...ad(Cb,["enabled"])},ZTe={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["cartesian"],identifier:"scatter",moduleFactory:e=>new sD(e),tooltipDefaults:{range:"nearest"},defaultAxes:[{type:"number",position:"bottom"},{type:"number",position:"left"}],themeTemplate:{series:{shape:"circle",size:7,fill:{$palette:"fill"},stroke:{$palette:"stroke"},fillGradientDefaults:{type:"gradient",gradient:"radial",bounds:"item",colorStops:{$palette:"gradient"},rotation:0,reverse:!0},fillPatternDefaults:cd,fillOpacity:.8,tooltip:{position:{_seriesOverrideType:"node"}},label:{enabled:!1,fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"},color:{$ref:"textColor"}},errorBar:{cap:{lengthRatio:1}}}}},Q$={type:"series",name:"scatter",chartType:"cartesian",options:qTe,create:e=>new sD(e)},J$=class uI{constructor(t,i,n,s){this.startAngle=t,this.endAngle=i,this.innerRadius=n,this.outerRadius=s}clone(){const{startAngle:t,endAngle:i,innerRadius:n,outerRadius:s}=this;return new uI(t,i,n,s)}equals(t){return this.startAngle===t.startAngle&&this.endAngle===t.endAngle&&this.innerRadius===t.innerRadius&&this.outerRadius===t.outerRadius}[hM](t,i){return new uI(this.startAngle*(1-i)+t.startAngle*i,this.endAngle*(1-i)+t.endAngle*i,this.innerRadius*(1-i)+t.innerRadius*i,this.outerRadius*(1-i)+t.outerRadius*i)}};function e8({startAngle:e,endAngle:t,innerRadius:i,outerRadius:n}){let s=1/0,r=1/0,o=-1/0,a=-1/0;const l=(u,d)=>{s=Math.min(u,s),r=Math.min(d,r),o=Math.max(u,o),a=Math.max(d,a)};return l(i*Math.cos(e),i*Math.sin(e)),l(i*Math.cos(t),i*Math.sin(t)),l(n*Math.cos(e),n*Math.sin(e)),l(n*Math.cos(t),n*Math.sin(t)),Vu(0,e,t)&&l(n,0),Vu(Math.PI*.5,e,t)&&l(0,n),Vu(Math.PI,e,t)&&l(-n,0),Vu(Math.PI*1.5,e,t)&&l(0,-n),new Ue(s,r,o-s,a-r)}function mx(e,t,i){const n=Math.sqrt(Math.pow(e,2)+Math.pow(t,2)),{innerRadius:s,outerRadius:r}=i;if(i.startAngle===i.endAngle||n<Math.min(s,r)||n>Math.max(s,r))return!1;const o=Zv(i.startAngle),a=Zv(i.endAngle),l=Math.atan2(t,e);return o<a?l<=a&&l>=o:l<=a&&l>=-Math.PI||l>=o&&l<=Math.PI}function p4(e,t){const{startAngle:i,endAngle:n,innerRadius:s,outerRadius:r}=t,o={x:r*Math.cos(i),y:r*Math.sin(i)},a={x:r*Math.cos(n),y:r*Math.sin(n)},l=s===0?{x:0,y:0}:{x:s*Math.cos(i),y:s*Math.sin(i)},u=s===0?{x:0,y:0}:{x:s*Math.cos(n),y:s*Math.sin(n)};return Pf(e.start.x,e.start.y,e.end.x,e.end.y,o.x,o.y,l.x,l.y)||Pf(e.start.x,e.start.y,e.end.x,e.end.y,a.x,a.y,u.x,u.y)||jW(0,0,r,i,n,!0,e.start.x,e.start.y,e.end.x,e.end.y)}function t8(e,t){const i={x:e.x,y:e.y},n={x:e.x+e.width,y:e.y},s={x:e.x,y:e.y+e.height},r={x:e.x+e.width,y:e.y+e.height};return p4({start:i,end:n},t)||p4({start:s,end:r},t)}function f4(e,t,i,n){if(i===0&&n===0)return 0;if(Math.asin(Math.abs(1*i)/(e+1*i))+Math.asin(Math.abs(1*n)/(e+1*n))-t<0)return 1;let r=0,o=1;for(let a=0;a<8;a+=1){const l=(r+o)/2;Math.asin(Math.abs(l*i)/(e+l*i))+Math.asin(Math.abs(l*n)/(e+l*n))-t<0?r=l:o=l}return r}var XTe=1e-6;function ed(e,t){return gM(e,t)<XTe?t:Li(e-t)+t}function hw(e,t,i=0){const s=Math.abs(t-e)>=2*Math.PI?2*Math.PI:Li(t-e);return e=ed(e,i),t=e+s,{startAngle:e,endAngle:t}}function pw(e,t,i,n,s,r){const o=Math.sin(r),a=Math.cos(r),l=e**2+t**2-i**2;let u,d,p,f;if(a>.5){const M=o/a,D=1+M**2,R=-2*(e+t*M),A=R**2-4*D*l;if(A<0)return;const k=(-R+Math.sqrt(A))/(2*D),F=(-R-Math.sqrt(A))/(2*D);u=k,d=k*M,p=F,f=F*M}else{const M=a/o,D=1+M**2,R=-2*(t+e*M),A=R**2-4*D*l;if(A<0)return;const k=(-R+Math.sqrt(A))/(2*D),F=(-R-Math.sqrt(A))/(2*D);u=k*M,d=k,p=F*M,f=F}const m=a,y=o,C=u*m+d*y,w=p*m+f*y,b=C>0?ed(Math.atan2(d-t,u-e),n):NaN,S=w>0?ed(Math.atan2(f-t,p-e),n):NaN;if(b>=n&&b<=s)return b;if(S>=n&&S<=s)return S}function fw(e,t,i,n,s,r){const o=Math.hypot(e,t),a=(o**2-i**2+r**2)/(2*o),l=o-a,u=Math.atan2(t,e),d=Math.acos(-l/i),p=ed(u+d,n),f=ed(u-d,n);if(p>=n&&p<=s)return p;if(f>=n&&f<=s)return f}var W1=class{constructor(e,t,i,n,s){this.cx=e,this.cy=t,this.r=i,this.a0=n,this.a1=s,this.a0>=this.a1&&(this.a0=NaN,this.a1=NaN)}isValid(){return Number.isFinite(this.a0)&&Number.isFinite(this.a1)}pointAt(e){return{x:this.cx+this.r*Math.cos(e),y:this.cy+this.r*Math.sin(e)}}clipStart(e){e==null||!this.isValid()||e<this.a0||(this.a0=e,(Number.isNaN(e)||this.a0>=this.a1)&&(this.a0=NaN,this.a1=NaN))}clipEnd(e){e==null||!this.isValid()||e>this.a1||(this.a1=e,(Number.isNaN(e)||this.a0>=this.a1)&&(this.a0=NaN,this.a1=NaN))}},bs=class extends yr{constructor(){super(...arguments),this.centerX=0,this.centerY=0,this.innerRadius=10,this.outerRadius=20,this.startAngle=0,this.endAngle=Math.PI*2,this.clipSector=void 0,this.concentricEdgeInset=0,this.radialEdgeInset=0,this.startOuterCornerRadius=0,this.endOuterCornerRadius=0,this.startInnerCornerRadius=0,this.endInnerCornerRadius=0}set inset(e){this.concentricEdgeInset=e,this.radialEdgeInset=e}set cornerRadius(e){this.startOuterCornerRadius=e,this.endOuterCornerRadius=e,this.startInnerCornerRadius=e,this.endInnerCornerRadius=e}computeBBox(){return e8(this).translate(this.centerX,this.centerY)}normalizedRadii(){const{concentricEdgeInset:e}=this;let{innerRadius:t,outerRadius:i}=this;return t=t>0?t+e:0,i=Math.max(i-e,0),{innerRadius:t,outerRadius:i}}normalizedClipSector(){const{clipSector:e}=this;if(e==null)return;const{startAngle:t,endAngle:i}=hw(this.startAngle,this.endAngle),{innerRadius:n,outerRadius:s}=this.normalizedRadii(),r=hw(e.startAngle,e.endAngle,t);return new J$(Math.max(t,r.startAngle),Math.min(i,r.endAngle),Math.max(n,e.innerRadius),Math.min(s,e.outerRadius))}getAngleOffset(e){return e>0?this.radialEdgeInset/e:0}arc(e,t,i,n,s,r,o,a){if(e<=0)return;const{startAngle:l,endAngle:u}=hw(this.startAngle,this.endAngle),{innerRadius:d,outerRadius:p}=this.normalizedRadii(),f=this.normalizedClipSector();if(a&&d<=0)return;const m=a?this.getAngleOffset(d+e):this.getAngleOffset(p-e),y=o?l+m+t:u-m-t,C=a?d+e:p-e,w=C*Math.cos(y),b=C*Math.sin(y);if(f!=null&&(!o&&!(y>=l-1e-6&&y<=f.endAngle-1e-6)||o&&!(y>=f.startAngle+1e-6&&y<=u-1e-6)||a&&C<f.innerRadius-1e-6||!a&&C>f.outerRadius+1e-6))return;const S=new W1(w,b,e,i,n);if(f!=null){a?(S.clipStart(pw(w,b,e,i,n,f.endAngle)),S.clipEnd(pw(w,b,e,i,n,f.startAngle))):(S.clipStart(pw(w,b,e,i,n,f.startAngle)),S.clipEnd(pw(w,b,e,i,n,f.endAngle)));let k,F;if(o?(k=fw(w,b,e,i,n,f.innerRadius),F=fw(w,b,e,i,n,f.outerRadius)):(k=fw(w,b,e,i,n,f.outerRadius),F=fw(w,b,e,i,n,f.innerRadius)),S.clipStart(k),S.clipEnd(F),k!=null){const{x:P,y:L}=S.pointAt(k),z=ed(Math.atan2(L,P),l);o?r==null||r.clipStart(z):s.clipEnd(z)}if(F!=null){const{x:P,y:L}=S.pointAt(F),z=ed(Math.atan2(L,P),l);o?s.clipStart(z):r==null||r.clipEnd(z)}}if(f!=null){const{x:k,y:F}=S.pointAt((S.a0+S.a1)/2);if(!mx(k,F,f))return}const{x:M,y:D}=S.pointAt(o===a?S.a0:S.a1),R=ed(Math.atan2(D,M),l),A=a?r:s;return o?A==null||A.clipStart(R):A==null||A.clipEnd(R),S}updatePath(){const{path:t,centerX:i,centerY:n,concentricEdgeInset:s,radialEdgeInset:r}=this;let{startOuterCornerRadius:o,endOuterCornerRadius:a,startInnerCornerRadius:l,endInnerCornerRadius:u}=this;const{startAngle:d,endAngle:p}=hw(this.startAngle,this.endAngle),{innerRadius:f,outerRadius:m}=this.normalizedRadii(),y=this.normalizedClipSector(),C=p-d,w=C>=2*Math.PI-1e-6;if(t.clear(),f===0&&m===0||f>m)return;if(((y==null?void 0:y.startAngle)??d)===((y==null?void 0:y.endAngle)??p))return;if(w&&this.clipSector==null&&o===0&&a===0&&l===0&&u===0){t.moveTo(i+m*Math.cos(d),n+m*Math.sin(d)),t.arc(i,n,m,d,p),f>s&&(t.moveTo(i+f*Math.cos(p),n+f*Math.sin(p)),t.arc(i,n,f,p,d,!0)),t.closePath();return}else if(this.clipSector==null&&Math.abs(f-m)<1e-6){t.arc(i,n,m,d,p,!1),t.arc(i,n,m,p,d,!0),t.closePath();return}const b=this.getAngleOffset(f),S=this.getAngleOffset(m);if(C<2*S)return;const D=((y==null?void 0:y.innerRadius)??f)>s,R=f<s||C<2*b,A=m-f,k=Math.max(o,l,a,u),F=k>0?Math.min(A/k,1):1;o*=F,a*=F,l*=F,u*=F;const P=f4(m,C-2*S,-o,-a);if(o*=P,a*=P,!R&&D){const ce=f4(f,C-2*b,l,u);l*=ce,u*=ce}else l=0,u=0;const L=Math.max(o+l,a+u),z=L>0?Math.min(A/L,1):1;o*=z,a*=z,l*=z,u*=z;let H=0,V=0;const q=o/(m-o),K=a/(m-a);if(q>=0&&q<1-1e-6)H=Math.asin(q);else{H=C/2;const ce=m/(1/Math.sin(H)+1);o=Math.min(ce,o)}if(K>=0&&K<1-1e-6)V=Math.asin(K);else{V=C/2;const ce=m/(1/Math.sin(V)+1);a=Math.min(ce,a)}const j=Math.asin(l/(f+l)),Z=Math.asin(u/(f+u)),W=(y==null?void 0:y.outerRadius)??m,Y=this.getAngleOffset(W),G=new W1(0,0,W,d+Y,p-Y),U=(y==null?void 0:y.innerRadius)??f,te=this.getAngleOffset(U),ee=D?new W1(0,0,U,d+te,p-te):void 0;y!=null&&(G.clipStart(y.startAngle),G.clipEnd(y.endAngle),ee==null||ee.clipStart(y.startAngle),ee==null||ee.clipEnd(y.endAngle));const Q=this.arc(o,H,d-Math.PI*.5,d+H,G,ee,!0,!1),ue=this.arc(a,V,p-V,p+Math.PI*.5,G,ee,!1,!1),de=this.arc(u,Z,p+Math.PI*.5,p+Math.PI-Z,G,ee,!1,!0),we=this.arc(l,j,d+Math.PI+j,d+Math.PI*1.5,G,ee,!0,!0);if(R){const ce=C<Math.PI*.5?r*(1+Math.cos(C))/Math.sin(C):NaN;let pe;ce>0&&ce<m?pe=Math.max(Math.hypot(r,ce),f):pe=r,pe=Math.max(pe,f);const ae=d+C*.5;t.moveTo(i+pe*Math.cos(ae),n+pe*Math.sin(ae))}else if(!((we==null?void 0:we.isValid())===!0||(ee==null?void 0:ee.isValid())===!0)){const ce=d+C/2,pe=f*Math.cos(ce),ae=f*Math.sin(ce);t.moveTo(i+pe,n+ae)}if((Q==null?void 0:Q.isValid())===!0){const{cx:ce,cy:pe,r:ae,a0:xe,a1:Ie}=Q;t.arc(i+ce,n+pe,ae,xe,Ie)}if(G.isValid()){const{r:ce,a0:pe,a1:ae}=G;t.arc(i,n,ce,pe,ae)}if((ue==null?void 0:ue.isValid())===!0){const{cx:ce,cy:pe,r:ae,a0:xe,a1:Ie}=ue;t.arc(i+ce,n+pe,ae,xe,Ie)}if(!R){if((de==null?void 0:de.isValid())===!0){const{cx:ce,cy:pe,r:ae,a0:xe,a1:Ie}=de;t.arc(i+ce,n+pe,ae,xe,Ie)}if((ee==null?void 0:ee.isValid())===!0){const{r:ce,a0:pe,a1:ae}=ee;t.arc(i,n,ce,ae,pe,!0)}if((we==null?void 0:we.isValid())===!0){const{cx:ce,cy:pe,r:ae,a0:xe,a1:Ie}=we;t.arc(i+ce,n+pe,ae,xe,Ie)}}t.closePath()}isPointInPath(e,t){const{startAngle:i,endAngle:n,innerRadius:s,outerRadius:r}=this.clipSector??this;return mx(e-this.centerX,t-this.centerY,{startAngle:i,endAngle:n,innerRadius:Math.min(s,r),outerRadius:Math.max(s,r)})}};bs.className="Sector";I([mt()],bs.prototype,"centerX",2);I([mt()],bs.prototype,"centerY",2);I([mt()],bs.prototype,"innerRadius",2);I([mt()],bs.prototype,"outerRadius",2);I([mt()],bs.prototype,"startAngle",2);I([mt()],bs.prototype,"endAngle",2);I([mt()],bs.prototype,"clipSector",2);I([mt()],bs.prototype,"concentricEdgeInset",2);I([mt()],bs.prototype,"radialEdgeInset",2);I([mt()],bs.prototype,"startOuterCornerRadius",2);I([mt()],bs.prototype,"endOuterCornerRadius",2);I([mt()],bs.prototype,"startInnerCornerRadius",2);I([mt()],bs.prototype,"endInnerCornerRadius",2);var Rn={BLUE:"#5090dc",ORANGE:"#ffa03a",GREEN:"#459d55",CYAN:"#34bfe1",YELLOW:"#e1cc00",VIOLET:"#9669cb",GRAY:"#b5b5b5",MAGENTA:"#bd5aa7",BROWN:"#8a6224",RED:"#ef5452"},rl={BLUE:"#2b5c95",ORANGE:"#cc6f10",GREEN:"#1e652e",CYAN:"#18859e",YELLOW:"#a69400",VIOLET:"#603c88",GRAY:"#575757",MAGENTA:"#7d2f6d",BROWN:"#4f3508",RED:"#a82529"},i8=class extends Zi{constructor(){super(...arguments),this.showInLegend=!1}};I([O()],i8.prototype,"showInLegend",2);var YP=class extends rs{constructor(){super(...arguments),this.spacing=2}set(e,t){return super.set(e)}};I([O()],YP.prototype,"text",2);I([O()],YP.prototype,"spacing",2);var KP=class extends gt{constructor(){super(...arguments),this.fill="transparent",this.fillOpacity=1}};I([O()],KP.prototype,"fill",2);I([O()],KP.prototype,"fillOpacity",2);var um=class extends rs{constructor(){super(...arguments),this.offset=3,this.minAngle=0,this.minSpacing=4,this.maxCollisionOffset=50,this.avoidCollisions=!0}};I([O()],um.prototype,"offset",2);I([O(oo.restrict({min:0,max:360}))],um.prototype,"minAngle",2);I([O()],um.prototype,"minSpacing",2);I([O()],um.prototype,"maxCollisionOffset",2);I([O()],um.prototype,"avoidCollisions",2);var qP=class extends rs{constructor(){super(...arguments),this.positionOffset=0,this.positionRatio=.5}};I([O()],qP.prototype,"positionOffset",2);I([O()],qP.prototype,"positionRatio",2);var rD=class extends gt{constructor(){super(...arguments),this.length=10,this.strokeWidth=1}};I([O(ss(Hs(Nl,ao,Bl)))],rD.prototype,"colors",2);I([O()],rD.prototype,"length",2);I([O()],rD.prototype,"strokeWidth",2);var Ht=class extends ho{constructor(){super(...arguments),this.defaultColorRange=[],this.defaultPatternFills=[],this.fills=Object.values(Rn),this.strokes=Object.values(rl),this.fillOpacity=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.cornerRadius=0,this.rotation=0,this.outerRadiusOffset=0,this.outerRadiusRatio=1,this.strokeWidth=1,this.sectorSpacing=0,this.hideZeroValueSectorsInLegend=!1,this.innerLabels=new $C(YP),this.title=new i8,this.innerCircle=new KP,this.shadow=new Wa,this.calloutLabel=new um,this.sectorLabel=new qP,this.calloutLine=new rD,this.tooltip=new tr}};I([O()],Ht.prototype,"angleKey",2);I([O()],Ht.prototype,"angleName",2);I([O()],Ht.prototype,"angleFilterKey",2);I([O()],Ht.prototype,"radiusKey",2);I([O()],Ht.prototype,"radiusName",2);I([O()],Ht.prototype,"radiusMin",2);I([O()],Ht.prototype,"radiusMax",2);I([O()],Ht.prototype,"calloutLabelKey",2);I([O()],Ht.prototype,"calloutLabelName",2);I([O()],Ht.prototype,"sectorLabelKey",2);I([O()],Ht.prototype,"sectorLabelName",2);I([O()],Ht.prototype,"legendItemKey",2);I([O(ss(mk))],Ht.prototype,"defaultColorRange",2);I([O(ss(ao))],Ht.prototype,"defaultPatternFills",2);I([O(ss(Hs(Nl,ao,Bl)))],Ht.prototype,"fills",2);I([O()],Ht.prototype,"strokes",2);I([O()],Ht.prototype,"fillOpacity",2);I([O()],Ht.prototype,"strokeOpacity",2);I([O()],Ht.prototype,"lineDash",2);I([O()],Ht.prototype,"lineDashOffset",2);I([O()],Ht.prototype,"cornerRadius",2);I([O()],Ht.prototype,"itemStyler",2);I([O()],Ht.prototype,"rotation",2);I([O()],Ht.prototype,"outerRadiusOffset",2);I([O()],Ht.prototype,"outerRadiusRatio",2);I([O()],Ht.prototype,"innerRadiusOffset",2);I([O()],Ht.prototype,"innerRadiusRatio",2);I([O()],Ht.prototype,"strokeWidth",2);I([O()],Ht.prototype,"sectorSpacing",2);I([O()],Ht.prototype,"hideZeroValueSectorsInLegend",2);I([O()],Ht.prototype,"innerLabels",2);I([O()],Ht.prototype,"title",2);I([O()],Ht.prototype,"innerCircle",2);I([O()],Ht.prototype,"shadow",2);I([O()],Ht.prototype,"calloutLabel",2);I([O()],Ht.prototype,"sectorLabel",2);I([O()],Ht.prototype,"calloutLine",2);I([O()],Ht.prototype,"tooltip",2);function $h(e,t,i,n){const s=[i.convert(0),i.convert(1)],r=[n.convert(0),n.convert(1)],o=Math.PI/-2+Ki(t),a=e?"initial":"update",l=({radius:y})=>({innerRadius:s[0],outerRadius:s[0]+(s[1]-s[0])*y}),u=({radius:y})=>({innerRadius:r[0],outerRadius:r[0]+(r[1]-r[0])*y});return{nodes:{toFn:(y,C,w,{prevLive:b})=>{var F,P;let{startAngle:S,endAngle:M,innerRadius:D,outerRadius:R}=C;const{stroke:A,fill:k}=C.sectorFormat;if(w==="removed"&&b?(S=(F=b.datum)==null?void 0:F.endAngle,M=(P=b.datum)==null?void 0:P.endAngle):w==="removed"&&!b&&(S=o,M=o),w==="removed"){const L=l(C);D=L.innerRadius,R=L.outerRadius}return{startAngle:S,endAngle:M,outerRadius:R,innerRadius:D,stroke:A,fill:k}},fromFn:(y,C,w,{prevFromProps:b})=>{let{startAngle:S,endAngle:M,innerRadius:D,outerRadius:R}=y,{fill:A,stroke:k}=C.sectorFormat;if(w==="updated"&&y.previousDatum==null&&(w="added"),w==="unknown"||w==="added"&&!b?(S=o,M=o,D=C.innerRadius,R=C.outerRadius):w==="added"&&b&&(S=b.endAngle??o,M=b.endAngle??o,D=b.innerRadius??C.innerRadius,R=b.outerRadius??C.outerRadius),w==="added"&&!e){const F=u(C);D=F.innerRadius,R=F.outerRadius}return w==="updated"&&(A=y.fill??A,k=(typeof y.stroke=="string"?y.stroke:void 0)??k),{startAngle:S,endAngle:M,innerRadius:D,outerRadius:R,fill:A,stroke:k,phase:a}}},innerCircle:{fromFn:(y,C)=>{var w;return{size:((w=y.previousDatum)==null?void 0:w.radius)??y.size??0,phase:a}},toFn:(y,C)=>({size:C.radius??0})}}}function ZP(e,t){return{startAngle:t.startAngle,endAngle:t.endAngle,innerRadius:t.innerRadius,outerRadius:t.outerRadius,stroke:t.sectorFormat.stroke}}function XP(e,t){const i=t.y-e.centerY,n=t.x-e.centerX,s=Math.atan2(i,n),r=e.getItemNodes();for(const o of r)if(o.datum.missing!==!0&&Vu(s,o.startAngle,o.endAngle)){const a=Math.sqrt(n*n+i*i);let l=0;return a<o.innerRadius?l=o.innerRadius-a:a>o.outerRadius&&(l=a-o.outerRadius),{datum:o.datum,distance:l}}}var n8=(e=>(e[e.BACKGROUND=0]="BACKGROUND",e[e.FOREGROUND=1]="FOREGROUND",e[e.HIGHLIGHT=2]="HIGHLIGHT",e[e.LABEL=3]="LABEL",e))(n8||{}),oD=class extends RP{constructor({categoryKey:e,useLabelLayer:t=!1,pickModes:i=[1,0],canHaveAxes:n=!1,animationResetFns:s,...r}){super({...r,categoryKey:e,useLabelLayer:t,pickModes:i,directionKeys:{x:["angleKey"],y:["radiusKey"]},directionNames:{x:["angleName"],y:["radiusName"]},canHaveAxes:n}),this.itemGroup=this.contentGroup.appendChild(new dt),this.nodeData=[],this.itemSelection=Bn.select(this.itemGroup,()=>this.nodeFactory(),!1),this.labelSelection=Bn.select(this.labelGroup,()=>this.labelFactory(),!1),this.highlightSelection=Bn.select(this.highlightGroup,()=>this.nodeFactory()),this.highlightLabelSelection=Bn.select(this.highlightLabel,()=>this.labelFactory()),this.centerX=0,this.centerY=0,this.radius=0,this.animationResetFns=s,this.animationState=new QC("empty",{empty:{update:{target:"ready",action:o=>this.animateEmptyUpdateReady(o)},reset:"empty",skip:"ready"},ready:{updateData:"waiting",clear:"clearing",highlight:o=>this.animateReadyHighlight(o),highlightMarkers:o=>this.animateReadyHighlightMarkers(o),resize:o=>this.animateReadyResize(o),reset:"empty",skip:"ready"},waiting:{update:{target:"ready",action:o=>this.animateWaitingUpdateReady(o)},reset:"empty",skip:"ready"},clearing:{update:{target:"empty",action:o=>this.animateClearingUpdateEmpty(o)},reset:"empty",skip:"ready"}},()=>this.checkProcessedDataAnimatable())}getItemNodes(){return[...this.itemGroup.children()]}getNodeData(){return this.nodeData}setSeriesIndex(e){return super.setSeriesIndex(e)?(this.contentGroup.zIndex=[e,1],this.highlightGroup.zIndex=[e,2],this.labelGroup.zIndex=[e,3],!0):!1}resetAnimation(e){e==="initial"?this.animationState.transition("reset"):e==="ready"&&this.animationState.transition("skip")}labelFactory(){const e=new is;return e.pointerEvents=1,e}addChartEventListeners(){var e,t;this.destroyFns.push((e=this.ctx.chartEventManager)==null?void 0:e.addListener("legend-item-click",i=>this.onLegendItemClick(i)),(t=this.ctx.chartEventManager)==null?void 0:t.addListener("legend-item-double-click",i=>this.onLegendItemDoubleClick(i)))}getInnerRadius(){return 0}computeLabelsBBox(e,t){return null}getShapeFillBBox(){const e=this.radius;return{series:new Ue(-e,-e,e*2,e*2),axis:new Ue(-e,-e,e*2,e*2)}}resetAllAnimation(){const{item:e,label:t}=this.animationResetFns??{};this.ctx.animationManager.stopByAnimationGroupId(this.id),e&&hs([this.itemSelection,this.highlightSelection],e),t&&hs([this.labelSelection,this.highlightLabelSelection],t),this.itemSelection.cleanup(),this.labelSelection.cleanup(),this.highlightSelection.cleanup(),this.highlightLabelSelection.cleanup()}animateEmptyUpdateReady(e){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation()}animateWaitingUpdateReady(e){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation()}animateReadyHighlight(e){const{item:t,label:i}=this.animationResetFns??{};t&&hs([this.highlightSelection],t),i&&hs([this.highlightLabelSelection],i)}animateReadyHighlightMarkers(e){}animateReadyResize(e){this.resetAllAnimation()}animateClearingUpdateEmpty(e){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation()}computeFocusBounds(e){var i;const t=(i=this.getNodeData())==null?void 0:i[e.datumIndex];if(t!==void 0)return this.itemSelection.select(n=>n instanceof yr&&n.datum===t)[0]}getSeriesRange(e,t){return[NaN,NaN]}},QTe=class extends eb{constructor(e,t,i,n){super(e,t,i,n),this.angleKey=n.properties.angleKey,this.radiusKey=n.properties.radiusKey,this.calloutLabelKey=n.properties.calloutLabelKey,this.sectorLabelKey=n.properties.sectorLabelKey}},aD=class extends oD{constructor(e){super({moduleCtx:e,categoryKey:void 0,pickModes:[1,0],useLabelLayer:!0,animationResetFns:{item:ZP,label:Zc}}),this.properties=new Ht,this.phantomNodeData=void 0,this.backgroundGroup=new ur({name:`${this.id}-background`,zIndex:0}),this.noVisibleData=!1,this.previousRadiusScale=new Ra,this.radiusScale=new Ra,this.phantomGroup=this.backgroundGroup.appendChild(new dt({name:"phantom"})),this.phantomSelection=Bn.select(this.phantomGroup,()=>this.nodeFactory(),!1),this.calloutLabelGroup=this.contentGroup.appendChild(new dt({name:"pieCalloutLabels"})),this.calloutLabelSelection=new Bn(this.calloutLabelGroup,dt),this.zerosumRingsGroup=this.backgroundGroup.appendChild(new dt({name:`${this.id}-zerosumRings`})),this.zerosumOuterRing=this.zerosumRingsGroup.appendChild(new ns({shape:"circle"})),this.zerosumInnerRing=this.zerosumRingsGroup.appendChild(new ns({shape:"circle"})),this.innerLabelsGroup=this.contentGroup.appendChild(new dt({name:"innerLabels"})),this.innerCircleGroup=this.backgroundGroup.appendChild(new dt({name:`${this.id}-innerCircle`})),this.innerLabelsSelection=Bn.select(this.innerLabelsGroup,is),this.innerCircleSelection=Bn.select(this.innerCircleGroup,()=>new ns({shape:"circle"})),this.surroundingRadius=void 0,this.NodeEvent=QTe,this.angleScale=new Ra,this.angleScale.domain=[0,1],this.angleScale.range=[-Math.PI,Math.PI].map(t=>t+Math.PI/2),this.phantomGroup.opacity=.2}get calloutNodeData(){return this.phantomNodeData??this.nodeData}attachSeries(e,t,i){super.attachSeries(e,t,i),e==null||e.appendChild(this.backgroundGroup)}detachSeries(e,t,i){super.detachSeries(e,t,i),e==null||e.removeChild(this.backgroundGroup)}setSeriesIndex(e){return super.setSeriesIndex(e)?(this.backgroundGroup.zIndex=[0,e],!0):!1}nodeFactory(){return new bs}getSeriesDomain(e){return e==="x"?this.angleScale.domain:this.radiusScale.domain}async processData(e){var w,b;if(this.data==null||!this.properties.isValid())return;const{visible:t,id:i,ctx:{legendManager:n}}=this,{angleKey:s,angleFilterKey:r,radiusKey:o,calloutLabelKey:a,sectorLabelKey:l,legendItemKey:u}=this.properties,d=()=>(S,M)=>t&&n.getItemEnabled({seriesId:i,itemId:M})?S:0,p=!this.ctx.animationManager.isSkipped(),f=[],m=[];u?f.push(Da(u,"band",{id:"legendItemKey"})):a?f.push(Da(a,"band",{id:"calloutLabelKey"})):l&&f.push(Da(l,"band",{id:"sectorLabelKey"}));const y=this.radiusScale.type,C=this.angleScale.type;o&&m.push(cP(o,{id:"radiusValue",min:this.properties.radiusMin??0,max:this.properties.radiusMax,processor:d}),Wt(o,y,{id:"radiusRaw",processor:d}),Uh("radiusValue",[0,1],1,this.properties.radiusMin??0,this.properties.radiusMax)),a&&m.push(Wt(a,"band",{id:"calloutLabelValue"})),l&&m.push(Wt(l,"band",{id:"sectorLabelValue"})),u&&m.push(Wt(u,"band",{id:"legendItemValue"})),r&&m.push(nC(r,C,{id:"angleFilterValue",onlyPositive:!0,invalidValue:0,processor:d}),Wt(r,C,{id:"angleFilterRaw"}),Uh("angleFilterValue",[0,1],0,0)),p&&this.processedData&&f.length>0&&m.push(tm(this.id,this.processedData)),m.push(em()),await this.requestDataModel(e,this.data,{props:[...f,nC(s,C,{id:"angleValue",onlyPositive:!0,invalidValue:0,processor:d}),Wt(s,C,{id:"angleRaw"}),Uh("angleValue",[0,1],0,0),...m]});for(const S of((b=(w=this.processedData)==null?void 0:w.defs)==null?void 0:b.values)??[]){const{id:M,missing:D,property:R}=S,A=jk(this,D);M!=="angleRaw"&&A>0&&De.warnOnce(`no value was found for the key '${String(R)}' on ${A} data element${A>1?"s":""}`)}this.animationState.transition("updateData")}maybeRefreshNodeData(){if(!this.nodeDataRefresh)return;const{nodeData:e=[],phantomNodeData:t}=this.createNodeData()??{};this.nodeData=e,this.phantomNodeData=t,this.nodeDataRefresh=!1}getProcessedDataValues(e,t){const i=e.resolveColumnById(this,"angleValue",t),n=e.resolveColumnById(this,"angleRaw",t),s=this.properties.angleFilterKey!=null?e.resolveColumnById(this,"angleFilterValue",t):void 0,r=this.properties.angleFilterKey!=null?e.resolveColumnById(this,"angleFilterRaw",t):void 0,o=this.properties.radiusKey?e.resolveColumnById(this,"radiusValue",t):void 0,a=this.properties.radiusKey?e.resolveColumnById(this,"radiusRaw",t):void 0,l=this.properties.calloutLabelKey?e.resolveColumnById(this,"calloutLabelValue",t):void 0,u=this.properties.sectorLabelKey?e.resolveColumnById(this,"sectorLabelValue",t):void 0,d=this.properties.legendItemKey?e.resolveColumnById(this,"legendItemValue",t):void 0;return{angleValues:i,angleRawValues:n,angleFilterValues:s,angleFilterRawValues:r,radiusValues:o,radiusRawValues:a,calloutLabelValues:l,sectorLabelValues:u,legendItemValues:d}}createNodeData(){var F;const{id:e,processedData:t,dataModel:i,angleScale:n,ctx:{legendManager:s},visible:r}=this,{rotation:o,innerRadiusRatio:a}=this.properties;if(!this.properties.isValid())return this.zerosumOuterRing.visible=!0,this.zerosumInnerRing.visible=!0,{itemId:e,nodeData:[],labelData:[]};if(!i||(t==null?void 0:t.type)!=="ungrouped")return;const{angleValues:l,angleRawValues:u,angleFilterValues:d,angleFilterRawValues:p,radiusValues:f,radiusRawValues:m,calloutLabelValues:y,sectorLabelValues:C,legendItemValues:w}=this.getProcessedDataValues(i,t),b=(p==null?void 0:p.some((P,L)=>P>u[L]))??!1;let S=0,M=0;const D=[],R=p!=null?[]:void 0,A=t.dataSources.get(this.id)??[],k=(F=t.invalidData)==null?void 0:F.get(this.id);return A.forEach((P,L)=>{if((k==null?void 0:k[L])===!0)return;const z=b?d[L]:l[L],H=p!=null&&!b?Math.sqrt(p[L]/u[L]):1,V=n.convert(S)+Ki(o);S=z,M+=z;const q=n.convert(S)+Ki(o),K=Math.abs(q-V),j=V+K/2,Z=u[L],Y=((f==null?void 0:f[L])??1)*H,G=m==null?void 0:m[L],U=w==null?void 0:w[L],te=this.getLabels(P,j,K,!0,y==null?void 0:y[L],C==null?void 0:C[L],U),ee=this.getSectorFormat(P,L,!1),Q={itemId:L,series:this,datum:P,datumIndex:L,angleValue:Z,midAngle:j,midCos:Math.cos(j),midSin:Math.sin(j),startAngle:V,endAngle:q,radius:Y,innerRadius:Math.max(this.radiusScale.convert(0),0),outerRadius:Math.max(this.radiusScale.convert(Y),0),sectorFormat:ee,radiusValue:G,legendItemValue:U,enabled:r&&s.getItemEnabled({seriesId:e,itemId:L}),focusable:!0,...te};D.push(Q),R!=null&&R.push({...Q,radius:1,innerRadius:Math.max(this.radiusScale.convert(0),0),outerRadius:Math.max(this.radiusScale.convert(1),0),focusable:!1})}),this.zerosumOuterRing.visible=M===0,this.zerosumInnerRing.visible=M===0&&a!=null&&a!==1&&a>0,{itemId:e,nodeData:D,labelData:D,phantomNodeData:R}}getLabels(e,t,i,n,s,r,o){const{calloutLabel:a,sectorLabel:l,legendItemKey:u}=this.properties,d=!n||a.enabled?this.properties.calloutLabelKey:void 0,p=!n||l.enabled?this.properties.sectorLabelKey:void 0;if(!d&&!p&&!u)return{};const f={datum:e,angleKey:this.properties.angleKey,angleName:this.properties.angleName,radiusKey:this.properties.radiusKey,radiusName:this.properties.radiusName,calloutLabelKey:this.properties.calloutLabelKey,calloutLabelName:this.properties.calloutLabelName,sectorLabelKey:this.properties.sectorLabelKey,sectorLabelName:this.properties.sectorLabelName,legendItemKey:this.properties.legendItemKey},m={};return d&&i>=Ki(a.minAngle)&&(m.calloutLabel={...this.getTextAlignment(t),text:this.getLabelText(a,{...f,value:s}),hidden:!1,collisionTextAlign:void 0,collisionOffsetY:0,box:void 0}),p&&(m.sectorLabel={text:this.getLabelText(l,{...f,value:r})}),u!=null&&o!=null&&(m.legendItem={key:u,text:o}),m}getTextAlignment(e){const t=[{textAlign:"center",textBaseline:"bottom"},{textAlign:"left",textBaseline:"middle"},{textAlign:"center",textBaseline:"hanging"},{textAlign:"right",textBaseline:"middle"}],i=Zv(e),n=-.75*Math.PI,s=i-n,r=Math.floor(s/(Math.PI/2)),o=mW(r,t.length);return t[o]}getNodeFill(e,t,i){return Wh(e,{bounds:"series",colorStops:t.map(n=>({color:n})),gradient:"radial",rotation:0,reverse:!0},{pattern:"forward-slanted-lines",fill:i,fillOpacity:1,backgroundFill:"transparent",backgroundFillOpacity:1,stroke:i,strokeOpacity:1,strokeWidth:4,rotation:0})}getFillParams(e,t,i){if(!(!Pa(e)||e.bounds==="item"))return{centerX:0,centerY:0,innerRadius:t,outerRadius:i}}getSectorFormat(e,t,i){const{angleKey:n,radiusKey:s,calloutLabelKey:r,sectorLabelKey:o,legendItemKey:a,fills:l,strokes:u,defaultColorRange:d,defaultPatternFills:p,itemStyler:f}=this.properties,m=u[t%u.length],{fill:y,fillOpacity:C,stroke:w,strokeWidth:b,strokeOpacity:S,lineDash:M,lineDashOffset:D,cornerRadius:R}=Vt(i&&this.properties.highlightStyle.item,{fill:l.length>0?l[t%l.length]:void 0,stroke:m,strokeWidth:this.getStrokeWidth(this.properties.strokeWidth),strokeOpacity:this.getOpacity()},this.properties),A=d[t%d.length],k=p[t%p.length],F=y??"black";let P;return f&&(P=this.cachedDatumCallback(this.getDatumId(e,t)+(i?"-highlight":"-hide"),()=>this.callWithContext(f,{datum:e,angleKey:n,radiusKey:s,calloutLabelKey:r,sectorLabelKey:o,legendItemKey:a,fill:this.getNodeFill(F,A,k),fillOpacity:C,stroke:w,strokeWidth:b,strokeOpacity:S,lineDash:M,lineDashOffset:D,cornerRadius:R,highlighted:i,seriesId:this.id}))),{fill:this.getNodeFill((P==null?void 0:P.fill)??F,A,k),fillOpacity:(P==null?void 0:P.fillOpacity)??C,stroke:(P==null?void 0:P.stroke)??w,strokeWidth:(P==null?void 0:P.strokeWidth)??b,strokeOpacity:(P==null?void 0:P.strokeOpacity)??S,lineDash:(P==null?void 0:P.lineDash)??M,lineDashOffset:(P==null?void 0:P.lineDashOffset)??D,cornerRadius:(P==null?void 0:P.cornerRadius)??R}}getInnerRadius(){const{radius:e}=this,{innerRadiusRatio:t=1,innerRadiusOffset:i=0}=this.properties,n=e*t+i;return n===e||n<0?0:n}getOuterRadius(){const{outerRadiusRatio:e,outerRadiusOffset:t}=this.properties;return Math.max(this.radius*e+t,0)}updateRadiusScale(e){var n;const t=[this.getInnerRadius(),this.getOuterRadius()];this.radiusScale.range=t,e&&(this.previousRadiusScale.range=t);const i=s=>({...s,innerRadius:Math.max(this.radiusScale.convert(0),0),outerRadius:Math.max(this.radiusScale.convert(s.radius),0)});this.nodeData=this.nodeData.map(i),this.phantomNodeData=(n=this.phantomNodeData)==null?void 0:n.map(i)}getTitleTranslationY(){var s;const e=Math.max(0,this.radiusScale.range[1]);if(e===0)return NaN;const i=2+(((s=this.properties.title)==null?void 0:s.spacing)??0),n=Math.max(0,-e);return-e-i-n}update({seriesRect:e}){const{title:t}=this.properties,i={seriesRectWidth:e==null?void 0:e.width,seriesRectHeight:e==null?void 0:e.height},n=kl(this.nodeDataDependencies,i)!=null;if(n&&(this._nodeDataDependencies=i),this.maybeRefreshNodeData(),this.updateTitleNodes(),this.updateRadiusScale(n),this.contentGroup.translationX=this.centerX,this.contentGroup.translationY=this.centerY,this.highlightGroup.translationX=this.centerX,this.highlightGroup.translationY=this.centerY,this.backgroundGroup.translationX=this.centerX,this.backgroundGroup.translationY=this.centerY,this.labelGroup&&(this.labelGroup.translationX=this.centerX,this.labelGroup.translationY=this.centerY),t){const s=this.getTitleTranslationY();t.node.y=isFinite(s)?s:0;const r=t.node.getBBox();t.node.visible=t.enabled&&isFinite(s)&&!this.bboxIntersectsSurroundingSeries(r)}for(const s of[this.zerosumInnerRing,this.zerosumOuterRing])s.fillOpacity=0,s.stroke=this.properties.calloutLabel.color,s.strokeWidth=1,s.strokeOpacity=1;this.updateNodeMidPoint(),this.updateSelections(),this.updateNodes(e)}updateTitleNodes(){var i,n;const{oldTitle:e}=this,{title:t}=this.properties;e!==t&&(e&&((i=this.labelGroup)==null||i.removeChild(e.node)),t&&(t.node.textBaseline="bottom",(n=this.labelGroup)==null||n.appendChild(t.node)),this.oldTitle=t)}updateNodeMidPoint(){var t;const e=i=>{const n=i.innerRadius+(i.outerRadius-i.innerRadius)/2;i.midPoint={x:i.midCos*Math.max(0,n),y:i.midSin*Math.max(0,n)}};this.nodeData.forEach(e),(t=this.phantomNodeData)==null||t.forEach(e)}updateSelections(){this.updateGroupSelection(),this.updateInnerCircleSelection()}updateGroupSelection(){const{itemSelection:e,highlightSelection:t,phantomSelection:i,highlightLabelSelection:n,calloutLabelSelection:s,labelSelection:r,innerLabelsSelection:o}=this,a=this.nodeData.map(u=>({...u,sectorFormat:{...u.sectorFormat}})),l=(u,d)=>{u.update(d,void 0,p=>this.getDatumId(p.datum,p.datumIndex)),this.ctx.animationManager.isSkipped()&&u.cleanup()};l(e,this.nodeData),l(t,a),l(i,this.phantomNodeData??[]),s.update(this.calloutNodeData,u=>{const d=new uo;d.tag=0,d.pointerEvents=1,u.appendChild(d);const p=new is;p.tag=1,p.pointerEvents=1,u.appendChild(p)}),r.update(this.nodeData),n.update(a),o.update(this.properties.innerLabels,u=>{u.pointerEvents=1})}updateInnerCircleSelection(){const{innerCircle:e}=this.properties;let t=0;const i=this.getInnerRadius();if(i>0){const s=Math.min(i,this.getOuterRadius());t=Math.ceil(s*2+1)}const n=e?[{radius:t}]:[];this.innerCircleSelection.update(n)}updateNodes(e){const t=this.ctx.highlightManager.getActiveHighlight(),{visible:i}=this;this.backgroundGroup.visible=i,this.contentGroup.visible=i,this.highlightGroup.visible=i&&(t==null?void 0:t.series)===this,this.highlightLabel.visible=i&&(t==null?void 0:t.series)===this,this.labelGroup.visible=i,this.contentGroup.opacity=this.getOpacity(),this.innerCircleSelection.each((l,{radius:u})=>{var d,p;l.setProperties({fill:this.getNodeFill((d=this.properties.innerCircle)==null?void 0:d.fill,["black"],"black"),opacity:(p=this.properties.innerCircle)==null?void 0:p.fillOpacity,size:u})});const n=this.radiusScale.range[0],s=this.radiusScale.range[1],r=this.getShapeFillBBox(),o=this.ctx.animationManager.isSkipped(),a=(l,u,d,p)=>{const f=this.getSectorFormat(u.datum,u.itemId,p);u.sectorFormat.fill=f.fill,u.sectorFormat.stroke=f.stroke,o&&(l.startAngle=u.startAngle,l.endAngle=u.endAngle,l.innerRadius=u.innerRadius,l.outerRadius=u.outerRadius),(p||o)&&(l.fill=f.fill,l.stroke=f.stroke);const m=this.getFillParams(f.fill,n,s);OM(l,f.fill,r,m),l.strokeWidth=f.strokeWidth,l.fillOpacity=f.fillOpacity,l.strokeOpacity=f.strokeOpacity,l.lineDash=f.lineDash,l.lineDashOffset=f.lineDashOffset,l.cornerRadius=f.cornerRadius,l.fillShadow=this.properties.shadow;const y=Math.max((this.properties.sectorSpacing+(f.stroke!=null?f.strokeWidth:0))/2,0);l.inset=y,l.lineJoin=this.properties.sectorSpacing>=0||y>0?"miter":"round"};this.itemSelection.each((l,u,d)=>a(l,u,d,!1)),this.highlightSelection.each((l,u,d)=>{a(l,u,d,!0),l.visible=u.itemId===(t==null?void 0:t.itemId)}),this.phantomSelection.each((l,u,d)=>a(l,u,d,!1)),this.updateCalloutLineNodes(),this.updateCalloutLabelNodes(e),this.updateSectorLabelNodes(),this.updateInnerLabelNodes(),this.updateZerosumRings(),this.animationState.transition("update")}updateCalloutLineNodes(){const{calloutLine:{length:e,strokeWidth:t,colors:i},strokes:n}=this.properties,s=t,r=WW(i)?i??this.properties.strokes:n,{offset:o}=this.properties.calloutLabel;this.calloutLabelSelection.selectByTag(0).forEach((a,l)=>{const u=a.closestDatum(),{calloutLabel:d,outerRadius:p}=u;if(d!=null&&d.text&&!d.hidden&&p!==0){a.visible=!0,a.strokeWidth=s,a.stroke=r[l%r.length],a.fill=void 0;const f=u.midCos*p,m=u.midSin*p;let y=u.midCos*(p+e),C=u.midSin*(p+e);if((d.collisionTextAlign??d.collisionOffsetY!==0)&&d.box!=null){const b=d.box;let S=y,M=C;y<b.x?S=b.x:y>b.x+b.width&&(S=b.x+b.width),C<b.y?M=b.y:C>b.y+b.height&&(M=b.y+b.height);const D=S-y,R=M-C,A=Math.sqrt(Math.pow(D,2)+Math.pow(R,2)),k=A-o;k>0&&(y=y+D*k/A,C=C+R*k/A)}a.x1=f,a.y1=m,a.x2=y,a.y2=C}else a.visible=!1})}getLabelOverflow(e,t,i){const n=-this.centerX,s=n+i.width,r=-this.centerY,o=r+i.height,a=1;let l=1;t.x+a<n?l=(t.x+t.width-n)/t.width:t.x+t.width-a>s&&(l=(s-t.x)/t.width);const u=t.y+a<r||t.y+t.height-a>o,d=l===1?e.length:Math.floor(e.length*l)-1,p=this.bboxIntersectsSurroundingSeries(t);return{textLength:d,hasVerticalOverflow:u,hasSurroundingSeriesOverflow:p}}bboxIntersectsSurroundingSeries(e){const{surroundingRadius:t}=this;if(t==null)return!1;const i=[{x:e.x,y:e.y},{x:e.x+e.width,y:e.y},{x:e.x+e.width,y:e.y+e.height},{x:e.x,y:e.y+e.height}],n=t**2;return i.some(s=>s.x**2+s.y**2>n)}computeCalloutLabelCollisionOffsets(){const{radiusScale:e}=this,{calloutLabel:t,calloutLine:i}=this.properties,{offset:n,minSpacing:s}=t,r=e.convert(0),o=b=>!b.calloutLabel||b.outerRadius===0,a=this.calloutNodeData,l=a.filter(b=>!o(b));if(l.forEach(b=>{const S=b.calloutLabel;S!=null&&(S.hidden=!1,S.collisionTextAlign=void 0,S.collisionOffsetY=0)}),l.length<=1)return;const u=l.filter(b=>b.midCos<0).sort((b,S)=>b.midSin-S.midSin),d=l.filter(b=>b.midCos>=0).sort((b,S)=>b.midSin-S.midSin),p=l.filter(b=>{var S;return b.midSin<0&&((S=b.calloutLabel)==null?void 0:S.textAlign)==="center"}).sort((b,S)=>b.midCos-S.midCos),f=l.filter(b=>{var S;return b.midSin>=0&&((S=b.calloutLabel)==null?void 0:S.textAlign)==="center"}).sort((b,S)=>b.midCos-S.midCos),m=b=>{const S=b.calloutLabel;if(S==null)return Ue.zero.clone();const M=b.outerRadius+i.length+n,D=b.midCos*M,R=b.midSin*M+S.collisionOffsetY,A=S.collisionTextAlign??S.textAlign,k=S.textBaseline;return is.computeBBox(S.text,D,R,{font:this.properties.calloutLabel,textAlign:A,textBaseline:k})},y=(b,S,M)=>{const D=m(b).grow(s/2),R=m(S).grow(s/2);D.x<R.x+R.width&&D.x+D.width>R.x&&(M==="to-top"?D.y<R.y+R.height:D.y+D.height>R.y)&&(S.calloutLabel.collisionOffsetY=M==="to-top"?D.y-R.y-R.height:D.y+D.height-R.y)},C=b=>{const S=b.slice().sort((D,R)=>Math.abs(D.midSin)-Math.abs(R.midSin))[0],M=b.indexOf(S);for(let D=M-1;D>=0;D--){const R=b[D+1],A=b[D];y(R,A,"to-top")}for(let D=M+1;D<b.length;D++){const R=b[D-1],A=b[D];y(R,A,"to-bottom")}},w=b=>{const S=l.some(F=>F.calloutLabel.collisionOffsetY!==0),M=b.map(F=>m(F)),D=M.map(F=>F.clone().grow(s/2));let R=!1;for(let F=0;F<D.length&&!R;F++){const P=D[F];for(let L=F+1;L<b.length;L++){const z=D[L];if(P.collidesBBox(z)){R=!0;break}}}const A=a.map(F=>{const{startAngle:P,endAngle:L,outerRadius:z}=F;return{startAngle:P,endAngle:L,innerRadius:r,outerRadius:z}}),k=M.some(F=>A.some(P=>t8(F,P)));!R&&!S&&!k||b.filter(F=>F.calloutLabel.textAlign==="center").forEach(F=>{const P=F.calloutLabel;F.midCos<0?P.collisionTextAlign="right":F.midCos>0?P.collisionTextAlign="left":P.collisionTextAlign="center"})};C(u),C(d),w(p),w(f)}updateCalloutLabelNodes(e){const{radiusScale:t}=this,{calloutLabel:i,calloutLine:n}=this.properties,s=n.length,{offset:r,color:o}=i,a=new is;this.calloutLabelSelection.selectByTag(1).forEach(l=>{const u=l.closestDatum(),d=u.calloutLabel,p=t.convert(u.radius),f=Math.max(0,p);if(!(d!=null&&d.text)||f===0||d.hidden){l.visible=!1;return}const m=f+s+r,y=u.midCos*m,C=u.midSin*m+d.collisionOffsetY,w={textAlign:d.collisionTextAlign??d.textAlign,textBaseline:d.textBaseline};a.text=d.text,a.x=y,a.y=C,a.setFont(this.properties.calloutLabel),a.setAlign(w);const b=a.getBBox();let S=d.text,M=!0;if(i.avoidCollisions){const{textLength:D,hasVerticalOverflow:R}=this.getLabelOverflow(d.text,b,e);S=d.text.length===D?d.text:`${d.text.substring(0,D)}…`,M=!R}l.text=S,l.x=y,l.y=C,l.setFont(this.properties.calloutLabel),l.setAlign(w),l.fill=o,l.visible=M})}computeLabelsBBox(e,t){const{calloutLabel:i,calloutLine:n}=this.properties,s=n.length,{offset:r,maxCollisionOffset:o,minSpacing:a}=i;if(!i.avoidCollisions)return null;this.maybeRefreshNodeData(),this.updateRadiusScale(!1),this.computeCalloutLabelCollisionOffsets();const l=[],u=new is;let d;const{title:p}=this.properties;if(p!=null&&p.text&&p.enabled){const f=this.getTitleTranslationY();isFinite(f)&&(u.text=p.text,u.x=0,u.y=f,u.setFont(p),u.setAlign({textBaseline:"bottom",textAlign:"center"}),d=u.getBBox(),l.push(d))}return this.calloutNodeData.forEach(f=>{const m=f.calloutLabel;if(!m||f.outerRadius===0)return null;const y=f.outerRadius+s+r,C=f.midCos*y,w=f.midSin*y+m.collisionOffsetY;u.text=m.text,u.x=C,u.y=w,u.setFont(this.properties.calloutLabel),u.setAlign({textAlign:m.collisionTextAlign??m.textAlign,textBaseline:m.textBaseline});const b=u.getBBox();if(m.box=b,Math.abs(m.collisionOffsetY)>o){m.hidden=!0;return}if(d){const S=-this.centerY,M=new Ue(d.x-a,S,d.width+2*a,d.y+d.height+a-S);if(b.collidesBBox(M)){m.hidden=!0;return}}if(e.hideWhenNecessary){const{textLength:S,hasVerticalOverflow:M,hasSurroundingSeriesOverflow:D}=this.getLabelOverflow(m.text,b,t),R=m.text.length>2&&S<2;if(M||R||D){m.hidden=!0;return}}m.hidden=!1,l.push(b)}),l.length===0?null:Ue.merge(l)}updateSectorLabelNodes(){const{radiusScale:e}=this,t=e.convert(0),{fontSize:i,fontStyle:n,fontWeight:s,fontFamily:r,positionOffset:o,positionRatio:a,color:l}=this.properties.sectorLabel,u=(d,p)=>{const{sectorLabel:f,outerRadius:m}=p;let y=!1;if(f&&m!==0){const C=t*(1-a)+m*a+o;d.fill=l,d.fontStyle=n,d.fontWeight=s,d.fontSize=i,d.fontFamily=r,d.text=f.text,d.x=p.midCos*C,d.y=p.midSin*C,d.textAlign="center",d.textBaseline="middle";const w=d.getBBox(),b=[[w.x,w.y],[w.x+w.width,w.y],[w.x+w.width,w.y+w.height],[w.x,w.y+w.height]],{startAngle:S,endAngle:M}=p,D={startAngle:S,endAngle:M,innerRadius:t,outerRadius:m};b.every(([R,A])=>mx(R,A,D))&&(y=!0)}d.visible=y};this.labelSelection.each(u),this.highlightLabelSelection.each(u)}updateInnerLabelNodes(){const e=[],t=[];this.innerLabelsSelection.each((d,p)=>{const{fontStyle:f,fontWeight:m,fontSize:y,fontFamily:C,color:w}=p;d.fontStyle=f,d.fontWeight=m,d.fontSize=y,d.fontFamily=C,d.text=p.text,d.x=0,d.y=0,d.fill=w,d.textAlign="center",d.textBaseline="alphabetic",e.push(d.getBBox()),t.push(p.spacing)});const i=d=>d===0?0:t[d],n=d=>d===t.length-1?0:t[d],s=e.reduce((d,p,f)=>d+p.height+i(f)+n(f),0),r=Math.max(...e.map(d=>d.width)),o=this.getInnerRadius(),l=Math.sqrt(Math.pow(r/2,2)+Math.pow(s/2,2))<=(o>0?o:this.getOuterRadius()),u=[];for(let d=0,p=-s/2;d<e.length;d++){const m=e[d].height+p+i(d);u.push(m),p=m+n(d)}this.innerLabelsSelection.each((d,p,f)=>{d.y=u[f],d.visible=l})}updateZerosumRings(){this.zerosumOuterRing.size=this.getOuterRadius()*2,this.zerosumInnerRing.size=this.getInnerRadius()*2}pickNodeClosestDatum(e){return XP(this,e)}getTooltipContent(e){var k;const{id:t,dataModel:i,processedData:n,properties:s}=this,{legendItemKey:r,calloutLabelKey:o,calloutLabelName:a,sectorLabelKey:l,sectorLabelName:u,angleKey:d,angleName:p,radiusKey:f,radiusName:m,tooltip:y}=s,C=this.properties.title.text;if(!i||!n)return;const w=(k=n.dataSources.get(this.id))==null?void 0:k[e],{angleRawValues:b,legendItemValues:S,calloutLabelValues:M,sectorLabelValues:D}=this.getProcessedDataValues(i,n),R=b[e],A=(S==null?void 0:S[e])??(o===d||M==null?void 0:M[e])??(l===d||D==null?void 0:D[e])??p;return y.formatTooltip(this.properties,{title:C,symbol:this.legendItemSymbol(e),data:[{label:A,fallbackLabel:d,value:Oc(R,3)}]},{seriesId:t,datum:w,title:p,legendItemKey:r,calloutLabelKey:o,calloutLabelName:a,sectorLabelKey:l,sectorLabelName:u,angleKey:d,angleName:p,radiusKey:f,radiusName:m,...this.getSectorFormat(w,e,!1)})}legendItemSymbol(e){var d,p;const t=(p=(d=this.processedData)==null?void 0:d.dataSources.get(this.id))==null?void 0:p[e],i=this.getSectorFormat(t,e,!1),{fillOpacity:n,strokeOpacity:s,strokeWidth:r,lineDash:o,lineDashOffset:a}=this.properties;let{fill:l}=i;const{stroke:u}=i;return Pa(l)&&(l={...l,gradient:"linear",rotation:0,reverse:!1}),{marker:{fill:l,stroke:u,fillOpacity:n,strokeOpacity:s,strokeWidth:r,lineDash:o,lineDashOffset:a}}}getLegendData(e){var D,R,A,k,F,P;const{visible:t,processedData:i,dataModel:n,id:s,ctx:{legendManager:r}}=this;if(!n||!i||!this.properties.isValid()||e!=="category")return[];const{angleKey:o,calloutLabelKey:a,sectorLabelKey:l,legendItemKey:u,showInLegend:d}=this.properties;if(!u&&(!a||a===o)&&(!l||l===o))return[];const{angleRawValues:p,calloutLabelValues:f,sectorLabelValues:m,legendItemValues:y}=this.getProcessedDataValues(n,i),C=((D=this.properties.title)==null?void 0:D.showInLegend)&&this.properties.title.text,w=[],b=this.properties.hideZeroValueSectorsInLegend,S=i.dataSources.get(this.id),M=(R=i.invalidData)==null?void 0:R.get(this.id);for(let L=0;L<i.input.count;L++){const z=S==null?void 0:S[L],H=p[L];if((M==null?void 0:M[L])===!0||b&&H===0)continue;const V=[];C&&V.push(C);const q=this.getLabels(z,2*Math.PI,2*Math.PI,!1,f==null?void 0:f[L],m==null?void 0:m[L],y==null?void 0:y[L]);u&&q.legendItem!==void 0?V.push(q.legendItem.text):a&&a!==o&&((A=q.calloutLabel)==null?void 0:A.text)!==void 0?V.push((k=q.calloutLabel)==null?void 0:k.text):l&&l!==o&&((F=q.sectorLabel)==null?void 0:F.text)!==void 0&&V.push((P=q.sectorLabel)==null?void 0:P.text),V.length!==0&&w.push({legendType:"category",id:s,datum:z,itemId:L,seriesId:s,enabled:t&&r.getItemEnabled({seriesId:s,itemId:L}),label:{text:V.join(" - ")},symbol:this.legendItemSymbol(L),legendItemName:u!=null?z[u]:void 0,hideInLegend:!d})}return w}setLegendState(e){const{id:t,ctx:{legendManager:i,updateService:n}}=this;e.forEach((s,r)=>i.toggleItem(s,t,r)),i.update(),n.update(4)}animateEmptyUpdateReady(e){const{animationManager:t}=this.ctx,i=$h(!0,this.properties.rotation,this.radiusScale,this.previousRadiusScale);fn(this.id,"nodes",t,[this.itemSelection,this.highlightSelection,this.phantomSelection],i.nodes,(n,s)=>this.getDatumId(s.datum,s.datumIndex)),fn(this.id,"innerCircle",t,[this.innerCircleSelection],i.innerCircle),si(this,"callout",t,this.calloutLabelSelection),si(this,"sector",t,this.labelSelection),si(this,"highlight",t,this.highlightLabelSelection),si(this,"inner",t,this.innerLabelsSelection),this.previousRadiusScale.range=this.radiusScale.range}animateWaitingUpdateReady(){var m,y,C,w;const{itemSelection:e,highlightSelection:t,phantomSelection:i,processedData:n,radiusScale:s,previousRadiusScale:r}=this,{animationManager:o}=this.ctx,a=(y=(m=n==null?void 0:n.reduced)==null?void 0:m.diff)==null?void 0:y[this.id];this.ctx.animationManager.stopByAnimationGroupId(this.id);const l=((a==null?void 0:a.moved.size)??0)===0,u=((n==null?void 0:n.defs.keys.length)??0)>0,d=((w=(C=n==null?void 0:n.reduced)==null?void 0:C.animationValidation)==null?void 0:w.uniqueKeys)??!0;(!l||!u||!d)&&this.ctx.animationManager.skipCurrentBatch();const p=!this.nodeData.some(b=>b.enabled),f=$h(!1,this.properties.rotation,s,r);fn(this.id,"nodes",o,[e,t,i],f.nodes,(b,S)=>this.getDatumId(S.datum,S.datumIndex),a),fn(this.id,"innerCircle",o,[this.innerCircleSelection],f.innerCircle),si(this,"callout",this.ctx.animationManager,this.calloutLabelSelection),si(this,"sector",this.ctx.animationManager,this.labelSelection),si(this,"highlight",this.ctx.animationManager,this.highlightLabelSelection),this.noVisibleData!==p&&(this.noVisibleData=p,si(this,"inner",this.ctx.animationManager,this.innerLabelsSelection)),this.previousRadiusScale.range=this.radiusScale.range}animateClearingUpdateEmpty(){const{itemSelection:e,highlightSelection:t,phantomSelection:i,radiusScale:n,previousRadiusScale:s}=this,{animationManager:r}=this.ctx,o=$h(!1,this.properties.rotation,n,s);fn(this.id,"nodes",r,[e,t,i],o.nodes,(a,l)=>this.getDatumId(l.datum,l.datumIndex)),fn(this.id,"innerCircle",r,[this.innerCircleSelection],o.innerCircle),Yu(this,"callout",this.ctx.animationManager,this.calloutLabelSelection),Yu(this,"sector",this.ctx.animationManager,this.labelSelection),Yu(this,"highlight",this.ctx.animationManager,this.highlightLabelSelection),Yu(this,"inner",this.ctx.animationManager,this.innerLabelsSelection),this.previousRadiusScale.range=this.radiusScale.range}getDatumId(e,t){var r,o,a;const{calloutLabelKey:i,sectorLabelKey:n,legendItemKey:s}=this.properties;return(a=(o=(r=this.processedData)==null?void 0:r.reduced)==null?void 0:o.animationValidation)!=null&&a.uniqueKeys?s?ys(e[s]):i?ys(e[i]):n?ys(e[n]):`${t}`:`${t}`}};aD.className="DonutSeries";aD.type="donut";var lD={type:ct(Qs("pie")),angleKey:ct(Be),radiusKey:Be,calloutLabelKey:Be,sectorLabelKey:Be,legendItemKey:Be,angleName:Be,radiusName:Be,calloutLabelName:Be,sectorLabelName:Be,radiusMin:Te,radiusMax:Te,rotation:rt,outerRadiusOffset:rt,outerRadiusRatio:Yi,hideZeroValueSectorsInLegend:Le,sectorSpacing:Te,cornerRadius:Te,itemStyler:gi,title:{enabled:Le,text:Be,showInLegend:Le,spacing:Te,...Jr},calloutLabel:{enabled:Le,offset:rt,minAngle:Te,avoidCollisions:Le,formatter:gi,...Jr},sectorLabel:{enabled:Le,positionOffset:rt,positionRatio:Yi,formatter:gi,...Jr},calloutLine:{colors:tn(It),length:Te,strokeWidth:Te},fills:tn(ik),strokes:tn(It),tooltip:Qc,shadow:bb,...Ua,...Al,...ad(Zo,["fill"]),...ad(pr,["stroke"])};lD.defaultColorRange=tn(tn(It));lD.defaultPatternFills=tn(It);var JTe={...lD,type:ct(Qs("donut")),innerRadiusOffset:rt,innerRadiusRatio:Yi,innerCircle:{fill:Be,fillOpacity:Yi},innerLabels:op({text:ct(Be),spacing:Te,...Jr},"inner label options array")},eAe={series:{title:{enabled:!0,fontWeight:{$ref:"fontWeight"},fontSize:{$rem:[1.1666666666666667]},fontFamily:{$ref:"fontFamily"},color:{$ref:"subtleTextColor"},spacing:5},calloutLabel:{enabled:!0,fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"},color:{$ref:"textColor"},offset:3,minAngle:.001},sectorLabel:{enabled:!0,fontWeight:{$ref:"fontWeight"},fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},color:{$ref:"backgroundColor"},positionOffset:0,positionRatio:.5},calloutLine:{length:10,strokeWidth:2,colors:{$map:[{$if:[{$or:[{$isGradient:[{$value:"$1"}]},{$isPattern:[{$value:"$1"}]}]},{$path:["../../strokes/$index",{$ref:"foregroundColor"}]},{$value:"$1"}]},{$if:[{$eq:[{$path:"../strokeWidth"},0]},{$path:"../fills"},{$path:"../strokes"}]}]}},fills:{$palette:"fills"},strokes:{$palette:"strokes"},defaultColorRange:{$palette:"gradients"},defaultPatternFills:DP,fillOpacity:1,strokeOpacity:1,strokeWidth:0,lineDash:[0],lineDashOffset:0,rotation:0,sectorSpacing:1,innerRadiusRatio:{$if:[{$eq:[{$path:["./innerRadiusOffset",void 0]},void 0]},.7,void 0]},shadow:{enabled:!1,color:xd,xOffset:3,yOffset:3,blur:5},innerLabels:{fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"},color:{$ref:"textColor"},spacing:2}},legend:{enabled:!0}},tAe={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["polar"],identifier:"donut",moduleFactory:e=>new aD(e),tooltipDefaults:{range:"exact"},themeTemplate:eAe},iAe={type:"series",name:"donut",chartType:"polar",options:JTe,create:e=>new aD(e)},s8=class extends Zi{constructor(){super(...arguments),this.showInLegend=!1}};I([O()],s8.prototype,"showInLegend",2);var dm=class extends rs{constructor(){super(...arguments),this.offset=3,this.minAngle=0,this.minSpacing=4,this.maxCollisionOffset=50,this.avoidCollisions=!0}};I([O()],dm.prototype,"offset",2);I([O(oo.restrict({min:0,max:360}))],dm.prototype,"minAngle",2);I([O()],dm.prototype,"minSpacing",2);I([O()],dm.prototype,"maxCollisionOffset",2);I([O()],dm.prototype,"avoidCollisions",2);var QP=class extends rs{constructor(){super(...arguments),this.positionOffset=0,this.positionRatio=.5}};I([O()],QP.prototype,"positionOffset",2);I([O()],QP.prototype,"positionRatio",2);var cD=class extends gt{constructor(){super(...arguments),this.length=10,this.strokeWidth=1}};I([O(ss(Hs(Nl,ao,Bl)))],cD.prototype,"colors",2);I([O()],cD.prototype,"length",2);I([O()],cD.prototype,"strokeWidth",2);var Jt=class extends ho{constructor(){super(...arguments),this.defaultColorRange=[],this.defaultPatternFills=[],this.fills=Object.values(Rn),this.strokes=Object.values(rl),this.fillOpacity=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.cornerRadius=0,this.rotation=0,this.outerRadiusOffset=0,this.outerRadiusRatio=1,this.strokeWidth=1,this.sectorSpacing=0,this.hideZeroValueSectorsInLegend=!1,this.title=new s8,this.shadow=new Wa,this.calloutLabel=new dm,this.sectorLabel=new QP,this.calloutLine=new cD,this.tooltip=new tr}};I([O()],Jt.prototype,"angleKey",2);I([O()],Jt.prototype,"angleName",2);I([O()],Jt.prototype,"angleFilterKey",2);I([O()],Jt.prototype,"radiusKey",2);I([O()],Jt.prototype,"radiusName",2);I([O()],Jt.prototype,"radiusMin",2);I([O()],Jt.prototype,"radiusMax",2);I([O()],Jt.prototype,"calloutLabelKey",2);I([O()],Jt.prototype,"calloutLabelName",2);I([O()],Jt.prototype,"sectorLabelKey",2);I([O()],Jt.prototype,"sectorLabelName",2);I([O()],Jt.prototype,"legendItemKey",2);I([O(ss(mk))],Jt.prototype,"defaultColorRange",2);I([O(ss(ao))],Jt.prototype,"defaultPatternFills",2);I([O(ss(Hs(Nl,ao,Bl)))],Jt.prototype,"fills",2);I([O()],Jt.prototype,"strokes",2);I([O()],Jt.prototype,"fillOpacity",2);I([O()],Jt.prototype,"strokeOpacity",2);I([O()],Jt.prototype,"lineDash",2);I([O()],Jt.prototype,"lineDashOffset",2);I([O()],Jt.prototype,"cornerRadius",2);I([O()],Jt.prototype,"itemStyler",2);I([O()],Jt.prototype,"rotation",2);I([O()],Jt.prototype,"outerRadiusOffset",2);I([O()],Jt.prototype,"outerRadiusRatio",2);I([O()],Jt.prototype,"strokeWidth",2);I([O()],Jt.prototype,"sectorSpacing",2);I([O()],Jt.prototype,"hideZeroValueSectorsInLegend",2);I([O()],Jt.prototype,"title",2);I([O()],Jt.prototype,"shadow",2);I([O()],Jt.prototype,"calloutLabel",2);I([O()],Jt.prototype,"sectorLabel",2);I([O()],Jt.prototype,"calloutLine",2);I([O()],Jt.prototype,"tooltip",2);var nAe=class extends eb{constructor(e,t,i,n){super(e,t,i,n),this.angleKey=n.properties.angleKey,this.radiusKey=n.properties.radiusKey,this.calloutLabelKey=n.properties.calloutLabelKey,this.sectorLabelKey=n.properties.sectorLabelKey}},uD=class extends oD{constructor(e){super({moduleCtx:e,categoryKey:void 0,pickModes:[1,0],useLabelLayer:!0,animationResetFns:{item:ZP,label:Zc}}),this.properties=new Jt,this.phantomNodeData=void 0,this.backgroundGroup=new ur({name:`${this.id}-background`,zIndex:0}),this.previousRadiusScale=new Ra,this.radiusScale=new Ra,this.phantomGroup=this.backgroundGroup.appendChild(new dt({name:"phantom"})),this.phantomSelection=Bn.select(this.phantomGroup,()=>this.nodeFactory(),!1),this.calloutLabelGroup=this.contentGroup.appendChild(new dt({name:"pieCalloutLabels"})),this.calloutLabelSelection=new Bn(this.calloutLabelGroup,dt),this.zerosumRingsGroup=this.backgroundGroup.appendChild(new dt({name:`${this.id}-zerosumRings`})),this.zerosumOuterRing=this.zerosumRingsGroup.appendChild(new ns({shape:"circle"})),this.surroundingRadius=void 0,this.NodeEvent=nAe,this.angleScale=new Ra,this.angleScale.domain=[0,1],this.angleScale.range=[-Math.PI,Math.PI].map(t=>t+Math.PI/2),this.phantomGroup.opacity=.2}get calloutNodeData(){return this.phantomNodeData??this.nodeData}attachSeries(e,t,i){super.attachSeries(e,t,i),e.appendChild(this.backgroundGroup)}detachSeries(e,t,i){super.detachSeries(e,t,i),e==null||e.removeChild(this.backgroundGroup)}setSeriesIndex(e){return super.setSeriesIndex(e)?(this.backgroundGroup.zIndex=[0,e],!0):!1}nodeFactory(){const e=new bs;return e.miterLimit=1e9,e}getSeriesDomain(e){return e==="x"?this.angleScale.domain:this.radiusScale.domain}async processData(e){var w,b,S,M,D;if(this.data==null||!this.properties.isValid())return;const{visible:t,id:i,ctx:{legendManager:n}}=this,{angleKey:s,angleFilterKey:r,radiusKey:o,calloutLabelKey:a,sectorLabelKey:l,legendItemKey:u}=this.properties,d=()=>(R,A)=>t&&n.getItemEnabled({seriesId:i,itemId:A})?R:0,p=!this.ctx.animationManager.isSkipped(),f=[],m=[];u?f.push(Da(u,"band",{id:"legendItemKey"})):a?f.push(Da(a,"band",{id:"calloutLabelKey"})):l&&f.push(Da(l,"band",{id:"sectorLabelKey"}));const y=this.radiusScale.type,C=this.angleScale.type;o&&m.push(cP(o,{id:"radiusValue",min:this.properties.radiusMin??0,max:this.properties.radiusMax,processor:d}),Wt(o,y,{id:"radiusRaw",processor:d}),Uh("radiusValue",[0,1],1,this.properties.radiusMin??0,this.properties.radiusMax)),a&&m.push(Wt(a,"band",{id:"calloutLabelValue"})),l&&m.push(Wt(l,"band",{id:"sectorLabelValue"})),u&&m.push(Wt(u,"band",{id:"legendItemValue"})),r&&m.push(nC(r,C,{id:"angleFilterValue",onlyPositive:!0,invalidValue:0,processor:d}),Wt(r,C,{id:"angleFilterRaw"}),Uh("angleFilterValue",[0,1],0,0)),p&&((S=(b=(w=this.processedData)==null?void 0:w.reduced)==null?void 0:b.animationValidation)!=null&&S.uniqueKeys)&&f.length>0&&m.push(tm(this.id,this.processedData)),m.push(em()),await this.requestDataModel(e,this.data,{props:[...f,nC(s,C,{id:"angleValue",onlyPositive:!0,invalidValue:0,processor:d}),Wt(s,C,{id:"angleRaw"}),Uh("angleValue",[0,1],0,0),...m]});for(const R of((D=(M=this.processedData)==null?void 0:M.defs)==null?void 0:D.values)??[]){const{id:A,missing:k,property:F}=R,P=jk(this,k);A!=="angleRaw"&&P>0&&De.warnOnce(`no value was found for the key '${String(F)}' on ${P} data element${P>1?"s":""}`)}this.animationState.transition("updateData")}maybeRefreshNodeData(){if(!this.nodeDataRefresh)return;const{nodeData:e=[],phantomNodeData:t}=this.createNodeData()??{};this.nodeData=e,this.phantomNodeData=t,this.nodeDataRefresh=!1}getProcessedDataValues(e,t){const i=e.resolveColumnById(this,"angleValue",t),n=e.resolveColumnById(this,"angleRaw",t),s=this.properties.angleFilterKey!=null?e.resolveColumnById(this,"angleFilterValue",t):void 0,r=this.properties.angleFilterKey!=null?e.resolveColumnById(this,"angleFilterRaw",t):void 0,o=this.properties.radiusKey?e.resolveColumnById(this,"radiusValue",t):void 0,a=this.properties.radiusKey?e.resolveColumnById(this,"radiusRaw",t):void 0,l=this.properties.calloutLabelKey?e.resolveColumnById(this,"calloutLabelValue",t):void 0,u=this.properties.sectorLabelKey?e.resolveColumnById(this,"sectorLabelValue",t):void 0,d=this.properties.legendItemKey?e.resolveColumnById(this,"legendItemValue",t):void 0;return{angleValues:i,angleRawValues:n,angleFilterValues:s,angleFilterRawValues:r,radiusValues:o,radiusRawValues:a,calloutLabelValues:l,sectorLabelValues:u,legendItemValues:d}}createNodeData(){var k;const{id:e,processedData:t,dataModel:i,angleScale:n,ctx:{legendManager:s},visible:r}=this,{rotation:o}=this.properties;if(!i||(t==null?void 0:t.type)!=="ungrouped")return;const{angleValues:a,angleRawValues:l,angleFilterValues:u,angleFilterRawValues:d,radiusValues:p,radiusRawValues:f,calloutLabelValues:m,sectorLabelValues:y,legendItemValues:C}=this.getProcessedDataValues(i,t),w=(d==null?void 0:d.some((F,P)=>F>l[P]))??!1;let b=0,S=0;const M=[],D=d!=null?[]:void 0,R=t.dataSources.get(this.id)??[],A=(k=t.invalidData)==null?void 0:k.get(this.id);return R.forEach((F,P)=>{if((A==null?void 0:A[P])===!0)return;const L=w?u[P]:a[P],z=d!=null&&!w?Math.sqrt(d[P]/l[P]):1,H=n.convert(b)+Ki(o);b=L,S+=L;const V=n.convert(b)+Ki(o),q=Math.abs(V-H),K=H+q/2,j=l[P],W=((p==null?void 0:p[P])??1)*z,Y=f==null?void 0:f[P],G=C==null?void 0:C[P],U=this.getLabels(F,K,q,!0,m==null?void 0:m[P],y==null?void 0:y[P],G),te=this.getSectorFormat(F,P,!1),ee={itemId:P,series:this,datum:F,datumIndex:P,angleValue:j,midAngle:K,midCos:Math.cos(K),midSin:Math.sin(K),startAngle:H,endAngle:V,radius:W,innerRadius:Math.max(this.radiusScale.convert(0),0),outerRadius:Math.max(this.radiusScale.convert(W),0),sectorFormat:te,radiusValue:Y,legendItemValue:G,enabled:r&&s.getItemEnabled({seriesId:e,itemId:P}),...U};M.push(ee),D!=null&&D.push({...ee,radius:1,innerRadius:Math.max(this.radiusScale.convert(0),0),outerRadius:Math.max(this.radiusScale.convert(1),0)})}),this.zerosumOuterRing.visible=S===0,{itemId:e,nodeData:M,labelData:M,phantomNodeData:D}}getLabels(e,t,i,n,s,r,o){const{calloutLabel:a,sectorLabel:l,legendItemKey:u}=this.properties,d=!n||a.enabled?this.properties.calloutLabelKey:void 0,p=!n||l.enabled?this.properties.sectorLabelKey:void 0;if(!d&&!p&&!u)return{};const f={datum:e,angleKey:this.properties.angleKey,angleName:this.properties.angleName,radiusKey:this.properties.radiusKey,radiusName:this.properties.radiusName,calloutLabelKey:this.properties.calloutLabelKey,calloutLabelName:this.properties.calloutLabelName,sectorLabelKey:this.properties.sectorLabelKey,sectorLabelName:this.properties.sectorLabelName,legendItemKey:this.properties.legendItemKey},m={};return d&&i>=Ki(a.minAngle)&&(m.calloutLabel={...this.getTextAlignment(t),text:this.getLabelText(a,{...f,value:s}),hidden:!1,collisionTextAlign:void 0,collisionOffsetY:0,box:void 0}),p&&(m.sectorLabel={text:this.getLabelText(l,{...f,value:r})}),u!=null&&o!=null&&(m.legendItem={key:u,text:o}),m}getTextAlignment(e){const t=[{textAlign:"center",textBaseline:"bottom"},{textAlign:"left",textBaseline:"middle"},{textAlign:"center",textBaseline:"hanging"},{textAlign:"right",textBaseline:"middle"}],i=Zv(e),n=-.75*Math.PI,s=i-n,r=Math.floor(s/(Math.PI/2)),o=mW(r,t.length);return t[o]}getNodeFill(e,t,i){return Wh(e,{bounds:"series",colorStops:t.map(n=>({color:n})),gradient:"radial",rotation:0,reverse:!0},{pattern:"forward-slanted-lines",fill:i,fillOpacity:1,backgroundFill:"transparent",backgroundFillOpacity:1,stroke:i,strokeOpacity:1,strokeWidth:4,rotation:0})}getFillParams(e,t,i){if(!(!Pa(e)||e.bounds==="item"))return{centerX:0,centerY:0,innerRadius:t,outerRadius:i}}getSectorFormat(e,t,i){const{angleKey:n,radiusKey:s,calloutLabelKey:r,sectorLabelKey:o,legendItemKey:a,fills:l,strokes:u,defaultColorRange:d,defaultPatternFills:p,itemStyler:f}=this.properties,m=u[t%u.length],{fill:y,fillOpacity:C,stroke:w,strokeWidth:b,strokeOpacity:S,lineDash:M,lineDashOffset:D,cornerRadius:R}=Vt(i&&this.properties.highlightStyle.item,{fill:l.length>0?l[t%l.length]:void 0,stroke:m,strokeWidth:this.getStrokeWidth(this.properties.strokeWidth),strokeOpacity:this.getOpacity()},this.properties),A=d[t%d.length],k=p[t%p.length],F=y??"black";let P;return f&&(P=this.cachedDatumCallback(this.getDatumId(e,t)+(i?"-highlight":"-hide"),()=>this.callWithContext(f,{datum:e,angleKey:n,radiusKey:s,calloutLabelKey:r,sectorLabelKey:o,legendItemKey:a,fill:this.getNodeFill(F,A,k),strokeOpacity:S,stroke:w,strokeWidth:b,fillOpacity:C,lineDash:M,lineDashOffset:D,cornerRadius:R,highlighted:i,seriesId:this.id}))),{fill:this.getNodeFill((P==null?void 0:P.fill)??F,A,k),fillOpacity:(P==null?void 0:P.fillOpacity)??C,stroke:(P==null?void 0:P.stroke)??w,strokeWidth:(P==null?void 0:P.strokeWidth)??b,strokeOpacity:(P==null?void 0:P.strokeOpacity)??S,lineDash:(P==null?void 0:P.lineDash)??M,lineDashOffset:(P==null?void 0:P.lineDashOffset)??D,cornerRadius:(P==null?void 0:P.cornerRadius)??R}}getOuterRadius(){return Math.max(this.radius*this.properties.outerRadiusRatio+this.properties.outerRadiusOffset,0)}updateRadiusScale(e){var n;const t=[0,this.getOuterRadius()];this.radiusScale.range=t,e&&(this.previousRadiusScale.range=t);const i=s=>({...s,innerRadius:Math.max(this.radiusScale.convert(0),0),outerRadius:Math.max(this.radiusScale.convert(s.radius),0)});this.nodeData=this.nodeData.map(i),this.phantomNodeData=(n=this.phantomNodeData)==null?void 0:n.map(i)}getTitleTranslationY(){var s;const e=Math.max(0,this.radiusScale.range[1]);if(e===0)return NaN;const i=2+(((s=this.properties.title)==null?void 0:s.spacing)??0),n=Math.max(0,-e);return-e-i-n}update({seriesRect:e}){const{title:t}=this.properties,i={seriesRectWidth:e==null?void 0:e.width,seriesRectHeight:e==null?void 0:e.height},n=kl(this.nodeDataDependencies,i)!=null;if(n&&(this._nodeDataDependencies=i),this.maybeRefreshNodeData(),this.updateTitleNodes(),this.updateRadiusScale(n),this.contentGroup.translationX=this.centerX,this.contentGroup.translationY=this.centerY,this.highlightGroup.translationX=this.centerX,this.highlightGroup.translationY=this.centerY,this.backgroundGroup.translationX=this.centerX,this.backgroundGroup.translationY=this.centerY,this.labelGroup&&(this.labelGroup.translationX=this.centerX,this.labelGroup.translationY=this.centerY),t){const s=this.getTitleTranslationY();t.node.y=isFinite(s)?s:0;const r=t.node.getBBox();t.node.visible=t.enabled&&isFinite(s)&&!this.bboxIntersectsSurroundingSeries(r)}this.zerosumOuterRing.fillOpacity=0,this.zerosumOuterRing.stroke=this.properties.calloutLabel.color,this.zerosumOuterRing.strokeWidth=1,this.zerosumOuterRing.strokeOpacity=1,this.updateNodeMidPoint(),this.updateSelections(),this.updateNodes(e)}updateTitleNodes(){var i,n;const{oldTitle:e}=this,{title:t}=this.properties;e!==t&&(e&&((i=this.labelGroup)==null||i.removeChild(e.node)),t&&(t.node.textBaseline="bottom",(n=this.labelGroup)==null||n.appendChild(t.node)),this.oldTitle=t)}updateNodeMidPoint(){var t;const e=i=>{const n=i.innerRadius+(i.outerRadius-i.innerRadius)/2;i.midPoint={x:i.midCos*Math.max(0,n),y:i.midSin*Math.max(0,n)}};this.nodeData.forEach(e),(t=this.phantomNodeData)==null||t.forEach(e)}updateSelections(){const{itemSelection:e,highlightSelection:t,phantomSelection:i,highlightLabelSelection:n,calloutLabelSelection:s,labelSelection:r}=this,o=this.nodeData.map(l=>({...l,sectorFormat:{...l.sectorFormat}})),a=(l,u)=>{l.update(u,void 0,d=>this.getDatumId(d.datum,d.datumIndex)),this.ctx.animationManager.isSkipped()&&l.cleanup()};a(e,this.nodeData),a(t,o),a(i,this.phantomNodeData??[]),s.update(this.calloutNodeData,l=>{const u=new uo;u.tag=0,u.pointerEvents=1,l.appendChild(u);const d=new is;d.tag=1,d.pointerEvents=1,l.appendChild(d)}),r.update(this.nodeData),n.update(o)}updateNodes(e){const t=this.ctx.highlightManager.getActiveHighlight(),{visible:i}=this;this.backgroundGroup.visible=i,this.contentGroup.visible=i,this.highlightGroup.visible=i&&(t==null?void 0:t.series)===this,this.highlightLabel.visible=i&&(t==null?void 0:t.series)===this,this.labelGroup&&(this.labelGroup.visible=i),this.contentGroup.opacity=this.getOpacity();const n=this.radiusScale.range[0],s=this.radiusScale.range[1],r=this.getShapeFillBBox(),o=this.ctx.animationManager.isSkipped(),a=(l,u,d,p)=>{const f=this.getSectorFormat(u.datum,u.itemId,p);u.sectorFormat.fill=f.fill,u.sectorFormat.stroke=f.stroke,o&&(l.startAngle=u.startAngle,l.endAngle=u.endAngle,l.innerRadius=u.innerRadius,l.outerRadius=u.outerRadius),(p||o)&&(l.fill=f.fill,l.stroke=f.stroke);const m=this.getFillParams(f.fill,n,s);OM(l,f.fill,r,m),l.strokeWidth=f.strokeWidth,l.fillOpacity=f.fillOpacity,l.strokeOpacity=f.strokeOpacity,l.lineDash=f.lineDash,l.lineDashOffset=f.lineDashOffset,l.cornerRadius=f.cornerRadius,l.fillShadow=this.properties.shadow;const y=Math.max((this.properties.sectorSpacing+(f.stroke!=null?f.strokeWidth:0))/2,0);l.inset=y,l.lineJoin=this.properties.sectorSpacing>=0||y>0?"miter":"round"};this.itemSelection.each((l,u,d)=>a(l,u,d,!1)),this.highlightSelection.each((l,u,d)=>{a(l,u,d,!0),l.visible=u.itemId===(t==null?void 0:t.itemId)}),this.phantomSelection.each((l,u,d)=>a(l,u,d,!1)),this.updateCalloutLineNodes(),this.updateCalloutLabelNodes(e),this.updateSectorLabelNodes(),this.updateZerosumRings(),this.animationState.transition("update")}updateCalloutLineNodes(){const{calloutLine:{length:e,strokeWidth:t,colors:i},strokes:n}=this.properties,s=t,r=WW(i)?i:n,{offset:o}=this.properties.calloutLabel;this.calloutLabelSelection.selectByTag(0).forEach((a,l)=>{const u=a.closestDatum(),{calloutLabel:d,outerRadius:p}=u;if(d!=null&&d.text&&!d.hidden&&p!==0){a.visible=!0,a.strokeWidth=s,a.stroke=r[l%r.length],a.fill=void 0;const f=u.midCos*p,m=u.midSin*p;let y=u.midCos*(p+e),C=u.midSin*(p+e);if((d.collisionTextAlign??d.collisionOffsetY!==0)&&d.box!=null){const b=d.box;let S=y,M=C;y<b.x?S=b.x:y>b.x+b.width&&(S=b.x+b.width),C<b.y?M=b.y:C>b.y+b.height&&(M=b.y+b.height);const D=S-y,R=M-C,A=Math.sqrt(Math.pow(D,2)+Math.pow(R,2)),k=A-o;k>0&&(y=y+D*k/A,C=C+R*k/A)}a.x1=f,a.y1=m,a.x2=y,a.y2=C}else a.visible=!1})}getLabelOverflow(e,t,i){const n=-this.centerX,s=n+i.width,r=-this.centerY,o=r+i.height,a=1;let l=1;t.x+a<n?l=(t.x+t.width-n)/t.width:t.x+t.width-a>s&&(l=(s-t.x)/t.width);const u=t.y+a<r||t.y+t.height-a>o,d=l===1?e.length:Math.floor(e.length*l)-1,p=this.bboxIntersectsSurroundingSeries(t);return{textLength:d,hasVerticalOverflow:u,hasSurroundingSeriesOverflow:p}}bboxIntersectsSurroundingSeries(e){const{surroundingRadius:t}=this;if(t==null)return!1;const i=[{x:e.x,y:e.y},{x:e.x+e.width,y:e.y},{x:e.x+e.width,y:e.y+e.height},{x:e.x,y:e.y+e.height}],n=t**2;return i.some(s=>s.x**2+s.y**2>n)}computeCalloutLabelCollisionOffsets(){const{radiusScale:e}=this,{calloutLabel:t,calloutLine:i}=this.properties,{offset:n,minSpacing:s}=t,r=e.convert(0),o=b=>!b.calloutLabel||b.outerRadius===0,a=this.calloutNodeData,l=a.filter(b=>!o(b));if(l.forEach(b=>{const S=b.calloutLabel;S!=null&&(S.hidden=!1,S.collisionTextAlign=void 0,S.collisionOffsetY=0)}),l.length<=1)return;const u=l.filter(b=>b.midCos<0).sort((b,S)=>b.midSin-S.midSin),d=l.filter(b=>b.midCos>=0).sort((b,S)=>b.midSin-S.midSin),p=l.filter(b=>{var S;return b.midSin<0&&((S=b.calloutLabel)==null?void 0:S.textAlign)==="center"}).sort((b,S)=>b.midCos-S.midCos),f=l.filter(b=>{var S;return b.midSin>=0&&((S=b.calloutLabel)==null?void 0:S.textAlign)==="center"}).sort((b,S)=>b.midCos-S.midCos),m=b=>{const S=b.calloutLabel;if(S==null)return Ue.zero.clone();const M=b.outerRadius+i.length+n,D=b.midCos*M,R=b.midSin*M+S.collisionOffsetY,A=S.collisionTextAlign??S.textAlign,k=S.textBaseline;return is.computeBBox(S.text,D,R,{font:this.properties.calloutLabel,textAlign:A,textBaseline:k})},y=(b,S,M)=>{const D=m(b).grow(s/2),R=m(S).grow(s/2);D.x<R.x+R.width&&D.x+D.width>R.x&&(M==="to-top"?D.y<R.y+R.height:D.y+D.height>R.y)&&(S.calloutLabel.collisionOffsetY=M==="to-top"?D.y-R.y-R.height:D.y+D.height-R.y)},C=b=>{const S=b.slice().sort((D,R)=>Math.abs(D.midSin)-Math.abs(R.midSin))[0],M=b.indexOf(S);for(let D=M-1;D>=0;D--){const R=b[D+1],A=b[D];y(R,A,"to-top")}for(let D=M+1;D<b.length;D++){const R=b[D-1],A=b[D];y(R,A,"to-bottom")}},w=b=>{const S=l.some(F=>F.calloutLabel.collisionOffsetY!==0),M=b.map(F=>m(F)),D=M.map(F=>F.clone().grow(s/2));let R=!1;for(let F=0;F<D.length&&!R;F++){const P=D[F];for(let L=F+1;L<b.length;L++){const z=D[L];if(P.collidesBBox(z)){R=!0;break}}}const A=a.map(F=>{const{startAngle:P,endAngle:L,outerRadius:z}=F;return{startAngle:P,endAngle:L,innerRadius:r,outerRadius:z}}),k=M.some(F=>A.some(P=>t8(F,P)));!R&&!S&&!k||b.filter(F=>F.calloutLabel.textAlign==="center").forEach(F=>{const P=F.calloutLabel;F.midCos<0?P.collisionTextAlign="right":F.midCos>0?P.collisionTextAlign="left":P.collisionTextAlign="center"})};C(u),C(d),w(p),w(f)}updateCalloutLabelNodes(e){const{radiusScale:t}=this,{calloutLabel:i,calloutLine:n}=this.properties,s=n.length,{offset:r,color:o}=i,a=new is;this.calloutLabelSelection.selectByTag(1).forEach(l=>{const u=l.closestDatum(),d=u.calloutLabel,p=t.convert(u.radius),f=Math.max(0,p);if(!(d!=null&&d.text)||f===0||d.hidden){l.visible=!1;return}const m=f+s+r,y=u.midCos*m,C=u.midSin*m+d.collisionOffsetY,w={textAlign:d.collisionTextAlign??d.textAlign,textBaseline:d.textBaseline};a.text=d.text,a.x=y,a.y=C,a.setFont(this.properties.calloutLabel),a.setAlign(w);const b=a.getBBox();let S=d.text,M=!0;if(i.avoidCollisions){const{textLength:D,hasVerticalOverflow:R}=this.getLabelOverflow(d.text,b,e);S=d.text.length===D?d.text:`${d.text.substring(0,D)}…`,M=!R}l.text=S,l.x=y,l.y=C,l.setFont(this.properties.calloutLabel),l.setAlign(w),l.fill=o,l.visible=M})}computeLabelsBBox(e,t){const{calloutLabel:i,calloutLine:n}=this.properties,s=n.length,{offset:r,maxCollisionOffset:o,minSpacing:a}=i;if(!i.avoidCollisions)return null;this.maybeRefreshNodeData(),this.updateRadiusScale(!1),this.computeCalloutLabelCollisionOffsets();const l=[],u=new is;let d;const{title:p}=this.properties;if(p!=null&&p.text&&p.enabled){const f=this.getTitleTranslationY();isFinite(f)&&(u.text=p.text,u.x=0,u.y=f,u.setFont(p),u.setAlign({textBaseline:"bottom",textAlign:"center"}),d=u.getBBox(),l.push(d))}return this.calloutNodeData.forEach(f=>{const m=f.calloutLabel;if(!m||f.outerRadius===0)return null;const y=f.outerRadius+s+r,C=f.midCos*y,w=f.midSin*y+m.collisionOffsetY;u.text=m.text,u.x=C,u.y=w,u.setFont(this.properties.calloutLabel),u.setAlign({textAlign:m.collisionTextAlign??m.textAlign,textBaseline:m.textBaseline});const b=u.getBBox();if(m.box=b,Math.abs(m.collisionOffsetY)>o){m.hidden=!0;return}if(d){const S=-this.centerY,M=new Ue(d.x-a,S,d.width+2*a,d.y+d.height+a-S);if(b.collidesBBox(M)){m.hidden=!0;return}}if(e.hideWhenNecessary){const{textLength:S,hasVerticalOverflow:M,hasSurroundingSeriesOverflow:D}=this.getLabelOverflow(m.text,b,t),R=m.text.length>2&&S<2;if(M||R||D){m.hidden=!0;return}}m.hidden=!1,l.push(b)}),l.length===0?null:Ue.merge(l)}updateSectorLabelNodes(){var f;const{radiusScale:e}=this,t=e.convert(0),{fontSize:i,fontStyle:n,fontWeight:s,fontFamily:r,positionOffset:o,positionRatio:a,color:l}=this.properties.sectorLabel,u=t>0,d=((f=this.ctx.legendManager.getData(this.id))==null?void 0:f.filter(m=>m.enabled).length)===1,p=(m,y)=>{const{sectorLabel:C,outerRadius:w,startAngle:b,endAngle:S}=y;let M=!1;if(C&&w!==0){const D=t*(1-a)+w*a+o;m.fill=l,m.fontStyle=n,m.fontWeight=s,m.fontSize=i,m.fontFamily=r,m.text=C.text,!u&&d?(m.x=0,m.y=0):(m.x=y.midCos*D,m.y=y.midSin*D),m.textAlign="center",m.textBaseline="middle";const A=m.getBBox(),k=[[A.x,A.y],[A.x+A.width,A.y],[A.x+A.width,A.y+A.height],[A.x,A.y+A.height]],F={startAngle:b,endAngle:S,innerRadius:t,outerRadius:w};k.every(([P,L])=>mx(P,L,F))&&(M=!0)}m.visible=M};this.labelSelection.each(p),this.highlightLabelSelection.each(p)}updateZerosumRings(){this.zerosumOuterRing.size=this.getOuterRadius()*2}pickNodeClosestDatum(e){return XP(this,e)}getTooltipContent(e){var k;const{id:t,dataModel:i,processedData:n,properties:s}=this,{legendItemKey:r,calloutLabelKey:o,calloutLabelName:a,sectorLabelKey:l,sectorLabelName:u,angleKey:d,angleName:p,radiusKey:f,radiusName:m,tooltip:y}=s,C=this.properties.title.text;if(!i||!n)return;const w=(k=n.dataSources.get(this.id))==null?void 0:k[e],{angleRawValues:b,legendItemValues:S,calloutLabelValues:M,sectorLabelValues:D}=this.getProcessedDataValues(i,n),R=b[e],A=(S==null?void 0:S[e])??(o===d||M==null?void 0:M[e])??(l===d||D==null?void 0:D[e])??p;return y.formatTooltip(this.properties,{title:C,symbol:this.legendItemSymbol(e),data:[{label:A,fallbackLabel:d,value:Oc(R,3)}]},{seriesId:t,datum:w,title:p,legendItemKey:r,calloutLabelKey:o,calloutLabelName:a,sectorLabelKey:l,sectorLabelName:u,angleKey:d,angleName:p,radiusKey:f,radiusName:m,...this.getSectorFormat(w,e,!1)})}legendItemSymbol(e){var d,p;const t=(p=(d=this.processedData)==null?void 0:d.dataSources.get(this.id))==null?void 0:p[e],i=this.getSectorFormat(t,e,!1),{fillOpacity:n,strokeOpacity:s,strokeWidth:r,lineDash:o,lineDashOffset:a}=this.properties;let{fill:l}=i;const{stroke:u}=i;return Pa(l)&&(l={...l,gradient:"linear",rotation:0,reverse:!1}),{marker:{fill:l,stroke:u,fillOpacity:n,strokeOpacity:s,strokeWidth:r,lineDash:o,lineDashOffset:a}}}getLegendData(e){var D,R,A,k,F,P;const{id:t,visible:i,processedData:n,dataModel:s,ctx:{legendManager:r}}=this;if(!s||!n||e!=="category")return[];const{angleKey:o,calloutLabelKey:a,sectorLabelKey:l,legendItemKey:u,showInLegend:d}=this.properties;if(!u&&(!a||a===o)&&(!l||l===o))return[];const{calloutLabelValues:p,sectorLabelValues:f,legendItemValues:m,angleRawValues:y}=this.getProcessedDataValues(s,n),C=((D=this.properties.title)==null?void 0:D.showInLegend)&&this.properties.title.text,w=[],b=this.properties.hideZeroValueSectorsInLegend,S=n.dataSources.get(this.id),M=(R=n.invalidData)==null?void 0:R.get(this.id);for(let L=0;L<n.input.count;L++){const z=S==null?void 0:S[L],H=y[L];if((M==null?void 0:M[L])===!0||b&&H===0)continue;const V=[];C&&V.push(C);const q=this.getLabels(z,2*Math.PI,2*Math.PI,!1,p==null?void 0:p[L],f==null?void 0:f[L],m==null?void 0:m[L]);u&&q.legendItem!==void 0?V.push(q.legendItem.text):a&&a!==o&&((A=q.calloutLabel)==null?void 0:A.text)!==void 0?V.push((k=q.calloutLabel)==null?void 0:k.text):l&&l!==o&&((F=q.sectorLabel)==null?void 0:F.text)!==void 0&&V.push((P=q.sectorLabel)==null?void 0:P.text),V.length!==0&&w.push({legendType:"category",id:t,datum:z,itemId:L,seriesId:t,enabled:i&&r.getItemEnabled({seriesId:t,itemId:L}),label:{text:V.join(" - ")},symbol:this.legendItemSymbol(L),legendItemName:u!=null?z[u]:void 0,hideInLegend:!d})}return w}setLegendState(e){const{id:t,ctx:{legendManager:i,updateService:n}}=this;e.forEach((s,r)=>i.toggleItem(s,t,r)),i.update(),n.update(4)}animateEmptyUpdateReady(e){const{animationManager:t}=this.ctx,i=$h(!0,this.properties.rotation,this.radiusScale,this.previousRadiusScale);fn(this.id,"nodes",t,[this.itemSelection,this.highlightSelection,this.phantomSelection],i.nodes,(n,s)=>this.getDatumId(s.datum,s.datumIndex)),si(this,"callout",t,this.calloutLabelSelection),si(this,"sector",t,this.labelSelection),si(this,"highlight",t,this.highlightLabelSelection),this.previousRadiusScale.range=this.radiusScale.range}animateWaitingUpdateReady(){var f,m,y,C;const{itemSelection:e,highlightSelection:t,phantomSelection:i,processedData:n,radiusScale:s,previousRadiusScale:r}=this,{animationManager:o}=this.ctx,a=(m=(f=n==null?void 0:n.reduced)==null?void 0:f.diff)==null?void 0:m[this.id];this.ctx.animationManager.stopByAnimationGroupId(this.id);const l=((a==null?void 0:a.moved.size)??0)===0,u=((n==null?void 0:n.defs.keys.length)??0)>0,d=((C=(y=n==null?void 0:n.reduced)==null?void 0:y.animationValidation)==null?void 0:C.uniqueKeys)??!0;(!l||!u||!d)&&this.ctx.animationManager.skipCurrentBatch();const p=$h(!1,this.properties.rotation,s,r);fn(this.id,"nodes",o,[e,t,i],p.nodes,(w,b)=>this.getDatumId(b.datum,b.datumIndex),a),si(this,"callout",this.ctx.animationManager,this.calloutLabelSelection),si(this,"sector",this.ctx.animationManager,this.labelSelection),si(this,"highlight",this.ctx.animationManager,this.highlightLabelSelection),this.previousRadiusScale.range=this.radiusScale.range}animateClearingUpdateEmpty(){const{itemSelection:e,highlightSelection:t,phantomSelection:i,radiusScale:n,previousRadiusScale:s}=this,{animationManager:r}=this.ctx,o=$h(!1,this.properties.rotation,n,s);fn(this.id,"nodes",r,[e,t,i],o.nodes,(a,l)=>this.getDatumId(l.datum,l.datumIndex)),Yu(this,"callout",this.ctx.animationManager,this.calloutLabelSelection),Yu(this,"sector",this.ctx.animationManager,this.labelSelection),Yu(this,"highlight",this.ctx.animationManager,this.highlightLabelSelection),this.previousRadiusScale.range=this.radiusScale.range}getDatumId(e,t){var r,o,a;const{calloutLabelKey:i,sectorLabelKey:n,legendItemKey:s}=this.properties;return(a=(o=(r=this.processedData)==null?void 0:r.reduced)==null?void 0:o.animationValidation)!=null&&a.uniqueKeys?s?ys(e[s]):i?ys(e[i]):n?ys(e[n]):`${t}`:`${t}`}};uD.className="PieSeries";uD.type="pie";var sAe={series:{title:{enabled:!0,fontWeight:{$ref:"fontWeight"},fontSize:{$rem:[1.1666666666666667]},fontFamily:{$ref:"fontFamily"},color:{$ref:"subtleTextColor"},spacing:5},calloutLabel:{enabled:!0,fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"},color:{$ref:"textColor"},offset:3,minAngle:.001},sectorLabel:{enabled:!0,fontWeight:{$ref:"fontWeight"},fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},color:{$ref:"backgroundColor"},positionOffset:0,positionRatio:.5},calloutLine:{length:10,strokeWidth:2,colors:{$map:[{$if:[{$or:[{$isGradient:[{$value:"$1"}]},{$isPattern:[{$value:"$1"}]}]},{$path:["../../strokes/$index",{$ref:"foregroundColor"}]},{$value:"$1"}]},{$if:[{$eq:[{$path:"../strokeWidth"},0]},{$path:"../fills"},{$path:"../strokes"}]}]}},fills:{$palette:"fills"},strokes:{$palette:"strokes"},defaultColorRange:{$palette:"gradients"},defaultPatternFills:DP,fillOpacity:1,strokeOpacity:1,strokeWidth:0,lineDash:[0],lineDashOffset:0,rotation:0,sectorSpacing:1,shadow:{enabled:!1,color:xd,xOffset:3,yOffset:3,blur:5}},legend:{enabled:!0}},rAe={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["polar"],identifier:"pie",moduleFactory:e=>new uD(e),tooltipDefaults:{range:"exact"},themeTemplate:sAe},oAe={type:"series",name:"pie",chartType:"polar",options:lD,create:e=>new uD(e)};function aAe(){Sl.register(u$,nTe,v1e,FTe,W$,UTe,q$,ZTe,tAe,rAe,YTe);for(const e of[Kc,Dp,bd,Rp,im])Vh.register(e.type,{moduleFactory:t=>new e(t)})}function lAe(){for(const e of Sl.modules){if(e.packageType==="enterprise"&&!sEe(e)&&De.errorOnce("Unexpected enterprise module registered: "+e.identifier),e.type==="root"&&e.themeTemplate)for(const t of e.chartTypes)KA.set(t,e.themeTemplate);if(e.type==="series"){if(e.chartTypes.length>1)throw new Error(`AG Charts - Module definition error: ${e.identifier}`);Oo.register(e.identifier,e)}if(e.type==="series-option"&&e.themeTemplate)for(const t of e.seriesTypes)Oo.setThemeTemplate(t,e.themeTemplate);if(e.type==="axis-option"&&e.themeTemplate)for(const t of e.axisTypes){const i=Vh.getThemeTemplate(t),n=Vt(e.themeTemplate,i);Vh.setThemeTemplate(t,n)}e.type==="axis"&&Vh.register(e.identifier,e),e.type==="legend"&&Vk.register(e.identifier,e)}if(Sl.hasEnterpriseModules()){const e=rEe();e.length>0&&De.errorOnce("Enterprise modules expected but not registered: ",e)}}var cAe=["top","right","bottom","left"],dD=class r8 extends BM{constructor(t,i){super(t,i),this.paired=!0,this.lastUpdateClipRect=void 0,this.lastLayoutWidth=NaN,this.lastLayoutHeight=NaN}onAxisChange(t,i){super.onAxisChange(t,i),this.ctx!=null&&this.ctx.zoomManager.updateAxes(t)}destroySeries(t){super.destroySeries(t),this.lastLayoutWidth=NaN,this.lastLayoutHeight=NaN}getChartType(){return"cartesian"}setRootClipRects(t){const{seriesRoot:i,annotationRoot:n}=this;i.setClipRect(t),n.setClipRect(t)}async processData(){await super.processData();for(const t of this.axes){const i=this.getSyncedDomain(t);i!=null&&t.setDomains(i)}this.ctx.updateService.dispatchProcessData({series:{shouldFlipXY:this.shouldFlipXY()}})}performLayout(t){const{seriesRoot:i,annotationRoot:n}=this,{clipSeries:s,seriesRect:r,visible:o}=this.updateAxes(t.layoutBox);this.seriesRoot.visible=o,this.seriesRect=r,this.animationRect=t.layoutBox;const{x:a,y:l}=r;if(t.width!==this.lastLayoutWidth||t.height!==this.lastLayoutHeight)for(const f of[i,n])f.translationX=Math.floor(a),f.translationY=Math.floor(l);else{const{translationX:f,translationY:m}=i;jc(this.id,"seriesRect",this.ctx.animationManager,[i,n],{translationX:f,translationY:m},{translationX:Math.floor(a),translationY:Math.floor(l)},{phase:"update"})}this.lastLayoutWidth=t.width,this.lastLayoutHeight=t.height;const u=r.clone().grow(this.seriesArea.padding),d=this.seriesArea.clip||s?u:void 0,{lastUpdateClipRect:p}=this;this.lastUpdateClipRect=d,this.ctx.animationManager.isActive()&&p!=null?this.ctx.animationManager.animate({id:this.id,groupId:"clip-rect",phase:"update",from:p,to:u,onUpdate:f=>this.setRootClipRects(f),onComplete:()=>this.setRootClipRects(d)}):this.setRootClipRects(d),this.ctx.layoutManager.emitLayoutComplete(t,{axes:this.axes.map(f=>f.getLayoutState()),series:{visible:o,rect:r,paddedRect:u},clipSeries:s})}updateAxes(t){const{clipSeries:i,seriesRect:n,overflows:s}=this.resolveAxesLayout(t);for(const r of this.axes)r.update(),r.setCrossLinesVisible(!s),this.clipAxis(r,n,t);return{clipSeries:i,seriesRect:n,visible:!s}}resolveAxesLayout(t){let i,n,s=0;const r=10;do if(n=i??this.getDefaultState(),i=this.updateAxesPass(new Map(n.axisAreaWidths),t.clone()),s++>r){De.warn("Max iterations reached. Unable to stabilize axes layout.");break}while(!this.isLayoutStable(i,n));return this.lastAreaWidths=i.axisAreaWidths,i}updateAxesPass(t,i){const n=new Map,s={};let r=!1,o=!1;for(const b of cAe){const S=this.seriesArea.padding[b],M=this.axes.findLast(D=>D.position===b);M?M.seriesAreaPadding=S:i.shrink(S,b)}const a=(t.get("left")??0)+(t.get("right")??0),l=(t.get("top")??0)+(t.get("bottom")??0),u=this.buildCrossLinePadding(t);i.width<=a+u.hPadding||i.height<=l+u.vPadding?r=!0:i.shrink(u);const d=i.clone().shrink(Object.fromEntries(t));for(const b of this.axes){const{position:S="left",direction:M}=b;this.sizeAxis(b,d,S);const D=M==="y",{primaryTickCount:R,bbox:A}=b.calculateLayout(b.nice?s[M]:void 0);s[M]??(s[M]=R),o||(o=b.dataDomain.clipped||b.visibleRange[0]>0||b.visibleRange[1]<1),n.set(b.id,Math.ceil(b.thickness??(D?A==null?void 0:A.width:A==null?void 0:A.height)??0))}const p=nk(this.axes,b=>b.position??"left"),{width:f,height:m,pixelRatio:y}=this.ctx.scene,C=new Map,w=new Map;for(const[b,S]of Sa(p)){let D=b==="left"||b==="right"?m%y:f%y,R=0;for(const A of S??[]){w.set(A.id,D);const k=n.get(A.id)??0;R=Math.max(R,D+k),A.layoutConstraints.stacked&&(D+=k+r8.AxesPadding)}C.set(b,Math.ceil(R))}for(const[b,S]of Sa(p))this.positionAxes({axes:S??[],position:b,axisWidths:n,axisOffsets:w,axisAreaWidths:C,axisBound:i,seriesRect:d});return{clipSeries:o,seriesRect:d,axisAreaWidths:C,overflows:r}}buildCrossLinePadding(t){const i={top:0,right:0,bottom:0,left:0,hPadding:0,vPadding:0};this.axes.forEach(n=>{var s;(s=n.crossLines)==null||s.forEach(r=>{var o;(o=r.calculatePadding)==null||o.call(r,i)})});for(const[n,s=0]of Sa(i))i[n]=Math.max(s-(t.get(n)??0),0);return i.hPadding=i.left+i.right,i.vPadding=i.top+i.bottom,i}clampToOutsideSeriesRect(t,i,n,s){const r=n==="x"?t.x:t.y,o=n==="x"?t.width:t.height;return s===1?Math.min(i,r+o):Math.max(i,r)}getSyncedDomain(t){const i=this.modulesManager.getModule("sync");if(!(i!=null&&i.enabled))return;const n=i.getSyncedDomain(t);if(n&&t.dataDomain.domain.length){let s;const{domain:r}=t.scale;if(mi.is(t.scale)){const[o,a]=zn(n);s=o!==r[0]||a!==r[1]}else s=!wl(n,r);s&&!this.skipSync&&i.updateSiblings()}return n}sizeAxis(t,i,n){const s=t instanceof Dp,r=n==="left"||n==="right",{width:o,height:a}=i,l=r?a:o;let u=0,d=l,{min:p,max:f}=this.ctx.zoomManager.getAxisZoom(t.id);const{width:m,unit:y,align:C}=t.layoutConstraints;y==="px"?d=u+m:d=d*m/100,C==="end"&&(u=l-(d-u),d=l),r&&(s?[p,f]=[1-f,1-p]:[u,d]=[d,u]),t.range=[u,d],t.visibleRange=[p,f],t.gridLength=r?o:a}positionAxes(t){const{axes:i,axisBound:n,axisWidths:s,axisOffsets:r,axisAreaWidths:o,seriesRect:a,position:l}=t,u=o.get(l)??0;let d="x",p="y",f=1;(l==="top"||l==="bottom")&&(d="y",p="x");let m=n[d];(l==="right"||l==="bottom")&&(f=-1,m+=d==="x"?n.width:n.height);for(const y of i){const C=o.get(p==="x"?"left":"top")??0,w=s.get(y.id)??0,b=r.get(y.id)??0;y.gridPadding=u-b-w,y.translation[p]=n[p]+C,y.translation[d]=this.clampToOutsideSeriesRect(a,m+f*(b+w),d,f)}}shouldFlipXY(){return this.series.every(t=>t instanceof Md&&t.shouldFlipXY())}getDefaultState(){const t=new Map;if(this.lastAreaWidths)for(const{position:i="left"}of this.axes){const n=this.lastAreaWidths.get(i);n!=null&&t.set(i,n)}return{axisAreaWidths:t,clipSeries:!1,overflows:!1}}isLayoutStable(t,i){if(i.overflows!==t.overflows||i.clipSeries!==t.clipSeries)return!1;for(const n of t.axisAreaWidths.keys())if(!i.axisAreaWidths.has(n))return!1;for(const[n,s]of i.axisAreaWidths.entries()){const r=t.axisAreaWidths.get(n);if((s!=null||r!=null)&&s!==r)return!1}return!0}clipAxis(t,i,n){var l,u;const s=Math.ceil(((l=t.gridLine)==null?void 0:l.width)??0),r=Math.ceil(((u=t.line)==null?void 0:u.width)??0);let{width:o,height:a}=i;switch(o+=t.direction==="x"?s:r,a+=t.direction==="y"?s:r,t.clipGrid(i.x,i.y,o,a),t.position){case"left":case"right":t.clipTickLines(n.x,i.y-s,n.width+s,i.height+s*2);break;case"top":case"bottom":t.clipTickLines(i.x-s,n.y,i.width+s*2,n.height+s);const{label:d,labelNodes:p,scale:f}=t;if(mi.is(f)&&d.enabled&&d.avoidCollisions&&p.length>1){const m=p.toSorted((b,S)=>b.translationY-S.translationY),y=m.at(-1),C=y.getBBox(),w=i.x+C.y+C.height<=n.x+n.width+this.padding.right;if(y.visible=w,w||t.visibleRange[0]>0||t.visibleRange[1]<1)m[0].visible=!0;else{const b=m[0].getBBox();m[0].visible=b.y>=0}}break}}};dD.className="CartesianChart";dD.type="cartesian";dD.AxesPadding=15;var uAe=dD,dAe=ui(e=>typeof HTMLElement>"u"||e instanceof HTMLElement,"an html element"),Ip={mode:St("integrated","standalone"),container:dAe,theme:Zr,series:Tl,annotations:Zr,navigator:Zr,initialState:Zr},o8={...vr,...Ip,axes:Zr,data:Tl},a8={...vr,...Ip,axes:Zr,data:Tl},hAe={...vr,...Ip,data:Tl,topology:$v},pAe={...vr,...Ip,data:Tl},fAe={...vr,...Ip,data:Tl},gAe={...vr,...Ip,data:Tl,nodes:Tl},mAe={...vr,...Ip,data:Tl},yAe={type:"chart",name:"cartesian",options:o8,detect:tP,create(e,t){return new uAe(e,t)}},Mb=()=>{throw new Error("Enterprise module placeholder cannot be initialised")},vAe={type:"chart",name:"flow-proportion",placeholder:!0,options:{},detect:AU,create:Mb},CAe={type:"chart",name:"gauge",placeholder:!0,options:{},detect:nP,create:Mb},bAe={type:"chart",name:"hierarchy",placeholder:!0,options:{},detect:EU,create:Mb},wAe={type:"chart",name:"standalone",placeholder:!0,options:{},detect:iP,create:Mb},SAe={type:"chart",name:"topology",placeholder:!0,options:{},detect:TU,create:Mb},Ng=class extends Xk{constructor(){super(...arguments),this.shape="polygon",this.innerRadiusRatio=0,this.defaultTickMinSpacing=20}updatePosition(){super.updatePosition();const e=ax(this),t=qk(e);this.axisGroup.setProperties(this.getAxisTransform()),this.gridLineGroupSelection.each(t),this.tickLineGroupSelection.each(t),this.tickLabelGroupSelection.each(Zk())}computeLabelsBBox(e,t){return null}computeRange(){}getAxisLinePoints(){}};I([O(vi(["polygon","circle"],"a polar axis shape"))],Ng.prototype,"shape",2);I([O()],Ng.prototype,"innerRadiusRatio",2);var JP=class extends BM{constructor(e,t){super(e,t),this.padding=new yd(40),this.ctx.axisManager.axisGroup.zIndex=6}getChartType(){return"polar"}async performLayout(e){const{layoutBox:t}=e;t.shrink(this.seriesArea.padding.toJson());const i=t.clone();this.seriesRect=i,this.animationRect=i,this.seriesRoot.translationX=i.x,this.seriesRoot.translationY=i.y,await this.computeCircle(i),this.axes.forEach(n=>n.update()),this.ctx.layoutManager.emitLayoutComplete(e,{series:{visible:!0,rect:i,paddedRect:i}})}updateAxes(e,t,i,n){var l;const s=this.axes.find(u=>u.direction==="x"),r=this.axes.find(u=>u.direction==="y");if(!(s instanceof Ng)||!(r instanceof Ng))return;const o=s.scale,a=r.innerRadiusRatio;s.innerRadiusRatio=a,s.computeRange(),s.gridLength=n,r.gridAngles=(l=o.ticks({nice:s.nice,interval:void 0,tickCount:void 0,minTickCount:0,maxTickCount:1/0}))==null?void 0:l.map(u=>o.convert(u)),r.gridRange=s.range,r.range=[n,n*a],[s,r].forEach(u=>{u.translation.x=e.x+t,u.translation.y=e.y+i,u.calculateLayout()})}async computeCircle(e){const t=this.series.filter(xAe),i=this.axes.filter(MAe),n=(u,d,p)=>{this.updateAxes(e,u,d,p),t.forEach(m=>{m.centerX=u,m.centerY=d,m.radius=p});const f=t.filter(m=>m.type==="donut"||m.type==="pie");if(f.length>1){const m=f.map(y=>{const C=y.getInnerRadius();return{series:y,innerRadius:C}}).sort((y,C)=>y.innerRadius-C.innerRadius);m.at(-1).series.surroundingRadius=void 0;for(let y=0;y<m.length-1;y++)m[y].series.surroundingRadius=m[y+1].innerRadius}},s=e.width/2,r=e.height/2,o=Math.max(0,Math.min(e.width,e.height)/2);let a=o;n(s,r,a);const l=async({hideWhenNecessary:u=!1}={})=>{const d=[];for(const m of Sh(i,t)){const y=await m.computeLabelsBBox({hideWhenNecessary:u},e);y&&d.push(y)}if(d.length===0){n(s,r,o);return}const p=Ue.merge(d),f=this.refineCircle(p,a,e);n(f.centerX,f.centerY,f.radius),a=f.radius};await l(),await l(),await l(),await l({hideWhenNecessary:!0}),await l({hideWhenNecessary:!0});for(const u of Sh(i,t))await u.computeLabelsBBox({hideWhenNecessary:!0},e);return{radius:a,centerX:s,centerY:r}}refineCircle(e,t,i){const s=-t,r=-t,o=t,a=t;let l=Math.max(0,s-e.x),u=Math.max(0,r-e.y),d=Math.max(0,e.x+e.width-o),p=Math.max(0,e.y+e.height-a);l=d=Math.max(l,d),u=p=Math.max(u,p);const f=i.width-l-d,m=i.height-u-p;let y=Math.min(f,m)/2;const C=.5*i.width/2,w=.5*i.height/2,b=Math.min(C,w);if(y<b){y=b;const D=l+d,R=u+p;if(2*y+R>i.height){const A=i.height-2*y;Math.min(u,p)*2>A?(u=A/2,p=A/2):u>p?u=A-p:p=A-u}if(2*y+D>i.width){const A=i.width-2*y;Math.min(l,d)*2>A?(l=A/2,d=A/2):l>d?l=A-d:d=A-l}}const S=l+2*y+d,M=u+2*y+p;return{centerX:(i.width-S)/2+l+y,centerY:(i.height-M)/2+u+y,radius:y}}};JP.className="PolarChart";JP.type="polar";function xAe(e){return e instanceof oD}function MAe(e){return e instanceof Ng}var DAe={type:"chart",name:"polar",options:a8,detect:RU,create(e,t){return new JP(e,t)}},RAe={...lm,...JM(rt),type:ct(Qs("number")),label:{format:XM,...am},crosshair:cm(!0)},EAe={...lm,...JM(rt),type:ct(Qs("log")),base:Ns(Vw,ui(e=>e!==1,"not equal to 1")),label:{format:XM,...am},crosshair:cm(!0)},TAe={...lm,...JM(pn(rt,Lf),!0),type:ct(Qs("time")),label:{...am,format:Be},crosshair:cm(!0)},AAe={...lm,type:ct(Qs("category")),label:am,paddingInner:Te,paddingOuter:Te,groupPaddingInner:Te,crosshair:cm()},IAe={...lm,type:ct(Qs("grouped-category")),label:am,crosshair:cm(),paddingInner:Te,groupPaddingInner:Te,depthOptions:op({label:{enabled:Le,avoidCollisions:Le,...Jr},tick:{enabled:Le,stroke:It,width:Te}},"depth options objects array")},LAe={type:"axis",name:"number",chartType:"cartesian",options:RAe,create:e=>new Kc(e)},kAe={type:"axis",name:"log",chartType:"cartesian",options:EAe,create:e=>new im(e)},PAe={type:"axis",name:"time",chartType:"cartesian",options:TAe,create:e=>new bd(e)},FAe={type:"axis",name:"category",chartType:"cartesian",options:AAe,create:e=>new Dp(e)},OAe={type:"axis",name:"grouped-category",chartType:"cartesian",options:IAe,create:e=>new Rp(e)},NAe=[yAe,LAe,kAe,PAe,FAe,OAe,G$,U$,Y$,K$,Z$,Q$],BAe=[DAe,iAe,oAe],zAe=[...NAe,...BAe,vAe,CAe,bAe,wAe,SAe],lr={isEnterprise:!1},l8=(e=>(e.POINTER="pointer",e.NODE="node",e.CHART="chart",e))(l8||{}),c8=(e=>(e.TOP="top",e.RIGHT="right",e.BOTTOM="bottom",e.LEFT="left",e.TOP_RIGHT="top-right",e.BOTTOM_RIGHT="bottom-right",e.BOTTOM_LEFT="bottom-left",e.TOP_LEFT="top-left",e.CENTER="center",e))(c8||{}),u8=(e=>(e.POINTER="pointer",e.NODE="node",e.TOP="top",e.RIGHT="right",e.BOTTOM="bottom",e.LEFT="left",e.TOP_LEFT="top-left",e.TOP_RIGHT="top-right",e.BOTTOM_RIGHT="bottom-right",e.BOTTOM_LEFT="bottom-left",e))(u8||{}),Tr=Symbol("IGNORED_PROP");function eo(e,t){const i={};for(const n of Object.keys(t)){const s=t[n];s!==Tr&&Object.hasOwn(e,n)&&(i[n]=s)}return i}function GAe(e){return e.type==="radial-gauge"}function HAe(e){return e.type==="linear-gauge"}function d8(e){const{enabled:t,mode:i,showArrow:n,range:s,position:r,pagination:o,delay:a,wrapping:l,interaction:u,renderer:d,...p}=e,f=eo(e,{enabled:t,showArrow:n,range:s,position:r,interaction:u,renderer:d,...p});return{chartTooltipOptions:eo(e,{enabled:Tr,showArrow:Tr,range:Tr,position:Tr,mode:i,pagination:o,delay:a,wrapping:l,...p}),seriesTooltipOptions:f}}function _Ae(e){const{animation:t,background:i,container:n,contextMenu:s,footnote:r,height:o,listeners:a,locale:l,minHeight:u,minWidth:d,overrideDevicePixelRatio:p,padding:f,subtitle:m,theme:y,title:C,width:w,type:b,cursor:S,nodeClickRange:M,tooltip:D={},value:R,scale:A={},startAngle:k,endAngle:F,highlightStyle:P,segmentation:L,bar:z,needle:H,targets:V,outerRadius:q,innerRadius:K,outerRadiusRatio:j,innerRadiusRatio:Z,cornerRadius:W,cornerMode:Y,label:G,secondaryLabel:U,spacing:te,...ee}=e,{chartTooltipOptions:Q,seriesTooltipOptions:ue}=d8(D),de=eo(e,{animation:t,background:i,container:n,contextMenu:s,footnote:r,height:o,listeners:a,locale:l,minHeight:u,minWidth:d,overrideDevicePixelRatio:p,padding:f,subtitle:m,theme:y,title:C,tooltip:Q,width:w}),we=eo(e,{needle:H!=null?{enabled:!0,...H}:Tr,startAngle:k,endAngle:F,scale:A,type:b,cursor:S,nodeClickRange:M,listeners:a,tooltip:ue,value:R,highlightStyle:P,segmentation:L,bar:z,targets:V,outerRadius:q,innerRadius:K,outerRadiusRatio:j,innerRadiusRatio:Z,cornerRadius:W,cornerMode:Y,label:G,secondaryLabel:U,spacing:te,...ee});return{...de,series:[we]}}function jAe(e){const{animation:t,background:i,container:n,contextMenu:s,footnote:r,height:o,listeners:a,locale:l,minHeight:u,minWidth:d,overrideDevicePixelRatio:p,padding:f,subtitle:m,theme:y,title:C,width:w,type:b,cursor:S,nodeClickRange:M,tooltip:D={},value:R,scale:A={},direction:k="vertical",thickness:F,highlightStyle:P,segmentation:L,bar:z,targets:H,cornerRadius:V,cornerMode:q,label:K,...j}=e,{chartTooltipOptions:Z,seriesTooltipOptions:W}=d8(D),Y=eo(e,{animation:t,background:i,container:n,contextMenu:s,footnote:r,height:o,listeners:a,locale:l,minHeight:u,minWidth:d,overrideDevicePixelRatio:p,padding:f,subtitle:m,theme:y,title:C,tooltip:Z,width:w}),G=eo(e,{scale:A,type:b,cursor:S,nodeClickRange:M,listeners:a,tooltip:W,value:R,direction:k,thickness:F,highlightStyle:P,segmentation:L,bar:z,targets:H,cornerRadius:V,cornerMode:q,label:K,...j});return{...Y,series:[G]}}function g4(e,t){if(t==null)return e;const{targets:i,...n}=t;return e=Vt(e,n),e.targets!=null&&i!=null&&(e.targets=US(e.targets,i)),e}function VAe(e,t){if(GAe(e)){const S=g4(e,t);return _Ae(S)}else if(HAe(e)){const S=g4(e,t);return jAe(S)}const{animation:i,background:n,container:s,contextMenu:r,footnote:o,height:a,listeners:l,locale:u,minHeight:d,minWidth:p,padding:f,subtitle:m,theme:y,title:C,tooltip:w,width:b}=e;return eo(e,{animation:i,background:n,container:s,contextMenu:r,footnote:o,height:a,listeners:l,locale:u,minHeight:d,minWidth:p,padding:f,subtitle:m,theme:y,title:C,tooltip:w,width:b})}var Io={stroke:gn},ks={fill:lb},m4={color:"white",fill:gn},hc={color:gn},yx={color:ab,fontSize:{$rem:[1.1666666666666667]},fontFamily:{$ref:"fontFamily"}},gw={...yx,textAlign:"left"},dI={...yx,fontSize:{$ref:"fontSize"},color:db,fill:cb,stroke:ub,strokeWidth:1,divider:{stroke:hb,strokeWidth:1,strokeOpacity:.5}},U1={...Io,background:{fill:qn,fillOpacity:.2},handle:{...ks},text:{...hc},statistics:{...dI}},WAe={line:{...Io,handle:{...ks},text:{...hc}},"horizontal-line":{...Io,handle:{...ks},axisLabel:{...m4},text:{...hc}},"vertical-line":{...Io,handle:{...ks},axisLabel:{...m4},text:{...hc}},"disjoint-channel":{...Io,background:{fill:qn,fillOpacity:.2},handle:{...ks},text:{...hc}},"parallel-channel":{...Io,background:{fill:qn,fillOpacity:.2},handle:{...ks},text:{...hc}},"fibonacci-retracement":{...Io,strokes:sC,rangeStroke:gn,handle:{...ks},text:{...hc,position:"center"},label:{...yx,color:void 0,fontSize:{$round:[{$mul:[{$ref:"fontSize"},10/12]}]}}},"fibonacci-retracement-trend-based":{...Io,strokes:sC,rangeStroke:gn,handle:{...ks},text:{...hc,position:"center"},label:{...yx,color:void 0,fontSize:{$round:[{$mul:[{$ref:"fontSize"},10/12]}]}}},callout:{...Io,...gw,color:{$ref:"textColor"},handle:{...ks},fill:qn,fillOpacity:.2},comment:{...gw,color:"white",fontWeight:700,handle:{...ks},fill:gn},note:{...gw,color:gb,fill:gn,stroke:{$ref:"backgroundColor"},strokeWidth:1,strokeOpacity:1,handle:{...ks},background:{fill:pb,stroke:fb,strokeWidth:1}},text:{...gw,handle:{...ks}},arrow:{...Io,handle:{...ks},text:{...hc}},"arrow-up":{fill:rb,handle:{...ks,stroke:gn}},"arrow-down":{fill:ob,handle:{...ks,stroke:gn}},"date-range":{...U1},"price-range":{...U1},"date-price-range":{...U1},"quick-date-price-range":{up:{...Io,fill:qn,fillOpacity:.2,handle:{...ks},statistics:{...dI,color:"#fff",fill:qn,strokeWidth:0,divider:{stroke:"#fff",strokeWidth:1,strokeOpacity:.5}}},down:{...Io,stroke:oC,fill:rC,fillOpacity:.2,handle:{...ks,stroke:oC},statistics:{...dI,color:"#fff",fill:rC,strokeWidth:0,divider:{stroke:"#fff",strokeWidth:1,strokeOpacity:.5}}}},axesButtons:{enabled:!0}},UAe=["ohlc","line","step-line","hlc","high-low","candlestick","hollow-candlestick"],$Ae=[{icon:"trend-line-drawing",tooltip:"toolbarAnnotationsLineAnnotations",value:"line-menu"},{icon:"fibonacci-retracement-drawing",tooltip:"toolbarAnnotationsFibonacciAnnotations",value:"fibonacci-menu"},{icon:"text-annotation",tooltip:"toolbarAnnotationsTextAnnotations",value:"text-menu"},{icon:"arrow-drawing",tooltip:"toolbarAnnotationsShapeAnnotations",value:"shape-menu"},{icon:"measurer-drawing",tooltip:"toolbarAnnotationsMeasurerAnnotations",value:"measurer-menu"},{icon:"delete",tooltip:"toolbarAnnotationsClearAll",value:"clear"}];function YAe(e,t,i){const{dateKey:n="date",highKey:s="high",openKey:r="open",lowKey:o="low",closeKey:a="close",volumeKey:l="volume",chartType:u="candlestick",navigator:d=!1,volume:p=!0,rangeButtons:f=!0,statusBar:m=!0,toolbar:y=!0,zoom:C=!0,theme:w,data:b,...S}=e,M=qAe(u,n,s,o,r,a),D=KAe(i,r,a,p,l),A={navigator:{enabled:d,...p?{miniChart:{enabled:d,series:[{type:"line",xKey:n,yKey:l,stroke:qM,marker:{enabled:!1}}]},height:40,minHandle:{height:46},maxHandle:{height:46}}:null}},k={annotations:{enabled:y,optionsToolbar:{enabled:y},snap:!0,toolbar:{enabled:y,buttons:$Ae,padding:0},data:b,xKey:n,volumeKey:p?l:void 0}},F=m?{statusBar:{enabled:!0,data:b,highKey:s,openKey:r,lowKey:o,closeKey:a,volumeKey:p?l:void 0}}:null,P={zoom:{enabled:C,autoScaling:{enabled:!0},enableIndependentAxes:!0}},L={ranges:{enabled:f}},z=p?[{type:"number",position:"left",keys:[l],label:{enabled:!1},crosshair:{enabled:!1},gridLine:{enabled:!1},nice:!1,layoutConstraints:{stacked:!1,width:20,unit:"percent",align:"end"}}]:[];return{theme:{baseTheme:typeof w=="string"?w:"ag-financial",...Vt(typeof w=="object"?w:null,{overrides:{common:{title:{padding:4},padding:{top:6,right:8,bottom:5},chartToolbar:{enabled:y},annotations:{...WAe},axes:{number:{interval:{maxSpacing:45},label:{format:".2f"}}}},bar:{series:{fillOpacity:.5}},line:{series:{marker:{enabled:!1},...C4(u,{hlc:{stroke:$M,strokeWidth:2},line:{stroke:Og},"step-line":{stroke:Og,interpolation:{type:"step"}}})}},candlestick:{series:{...C4(u,{"hollow-candlestick":{item:{up:{fill:"transparent"}}}})}},"range-area":{series:{fillOpacity:.3,strokeWidth:2}}}})},animation:{enabled:!1},legend:{enabled:!1},series:[...D,...M],axes:[{type:"number",position:"right",keys:[r,a,s,o],crosshair:{enabled:!0,snap:!1},layoutConstraints:{stacked:!1,width:100,unit:"percent",align:"start"}},...z,{type:"ordinal-time",position:"bottom",line:{enabled:!1},label:{enabled:!0},crosshair:{enabled:!0}}],tooltip:{enabled:!1},data:b,...k,...A,...F,...P,...L,...S}}function KAe(e,t,i,n,s){return n?[{type:"bar",xKey:"date",yKey:s,tooltip:{enabled:!1},itemStyler({datum:r}){const{up:o,down:a}=e().palette;return{fill:r[t]<r[i]?o==null?void 0:o.fill:a==null?void 0:a.fill}},focusPriority:1,fastDataProcessing:!0,highlight:{enabled:!1}}]:[]}var y4="range-area";function qAe(e,t,i,n,s,r){const o={xKey:t,openKey:s,closeKey:r,highKey:i,lowKey:n},a={xKey:t,yKey:r},l={pickOutsideVisibleMinorAxis:!0};switch(e??"candlestick"){case"ohlc":return ZAe(l,o);case"line":case"step-line":return XAe(l,a);case"hlc":return QAe(l,a,o);case"high-low":return JAe(l,o);case"candlestick":case"hollow-candlestick":return v4(l,o);default:return De.warnOnce(`unknown chart type: ${e}; expected one of: ${UAe.join(", ")}`),v4(l,o)}}function ZAe(e,t){return[{type:"ohlc",focusPriority:0,...e,...t}]}function XAe(e,t){return[{type:"line",focusPriority:0,...e,...t}]}function QAe(e,t,{xKey:i,highKey:n,closeKey:s,lowKey:r}){return[{type:y4,focusPriority:0,...e,xKey:i,yHighKey:n,yLowKey:s,fill:rb,stroke:VM},{type:y4,focusPriority:0,...e,xKey:i,yHighKey:s,yLowKey:r,fill:ob,stroke:WM},{type:"line",...e,...t}]}function JAe(e,{xKey:t,highKey:i,lowKey:n}){return[{type:"range-bar",...e,xKey:t,yHighKey:i,yLowKey:n,fill:UM,stroke:Og,tooltip:{range:"nearest"},focusPriority:0,fastDataProcessing:!0}]}function v4(e,t){return[{type:"candlestick",focusPriority:0,...e,...t}]}function C4(e,t){return t[e]??t.default}var h8={title:{enabled:!1},label:{enabled:!1},line:{enabled:!1},gridLine:{enabled:!1},crosshair:{enabled:!1,stroke:KM,lineDash:[0],label:{enabled:!1}}},$1={...h8,nice:!1},mw={mode:"compact",position:{anchorTo:"node",placement:["right","left"]},showArrow:!1},Y1={style:[{stroke:{$ref:"gridLineColor"}}],width:2},eIe={number:{gridLine:Y1},time:{gridLine:Y1},category:{gridLine:Y1}},tIe={overrides:{common:{animation:{enabled:!1},contextMenu:{enabled:!1},keyboard:{enabled:!1},background:{visible:!1},navigator:{enabled:!1},padding:{top:0,right:0,bottom:0,left:0},axes:{number:{...$1,interval:{values:[0]}},log:{...$1},time:{...$1},category:{...h8}}},bar:{series:{crisp:!1,label:{placement:"inside-end",padding:4},sparklineMode:!0},tooltip:{...mw,position:{...mw.position,anchorTo:"pointer"},range:"nearest"},axes:eIe},line:{seriesArea:{padding:{top:2,right:2,bottom:2,left:2}},series:{sparklineMode:!0,strokeWidth:1,marker:{enabled:!1,size:3}},tooltip:mw},area:{seriesArea:{padding:{top:1,right:0,bottom:1,left:0}},series:{strokeWidth:1,fillOpacity:.4},tooltip:mw}}},p8=ar(iIe);function iIe(e,t){return typeof e=="string"?{...t,baseTheme:e}:e!=null?{...e,baseTheme:p8(e.baseTheme,t)}:t}function f8(e){if(Array.isArray(e)&&e.length!==0){const t=e[0];if(typeof t=="number")return{data:e.map((n,s)=>({x:s,y:n})),series:[{xKey:"x",yKey:"y"}],datumKey:"y"};if(Array.isArray(t))return{data:e.map(n=>({x:n[0],y:n[1],datum:n})),series:[{xKey:"x",yKey:"y"}],datumKey:"datum"}}return{data:e}}function nIe(e,t){switch(e==null?void 0:e.type){case"number":{const{type:i,min:n,max:s,reverse:r}=e;return eo(e,{type:i,reverse:r,min:n,max:s})}case"time":{const{type:i,min:n,max:s,reverse:r}=e;return eo(e,{type:i,reverse:r,min:n,max:s})}case"category":{const{type:i,paddingInner:n,paddingOuter:s,reverse:r}=e;return eo(e,{type:i,reverse:r,paddingInner:n,paddingOuter:s})}}return{type:t}}function sIe(e,t,i){const n={};return(e==null?void 0:e.stroke)!=null&&(n.style=[{stroke:e==null?void 0:e.stroke}],n.enabled??(n.enabled=!0)),(e==null?void 0:e.strokeWidth)!=null&&(n.width=e==null?void 0:e.strokeWidth,n.enabled??(n.enabled=!0)),i.type==="bar"&&i.direction!=="horizontal"&&(n.enabled??(n.enabled=!0)),(e==null?void 0:e.visible)!=null&&(n.enabled=e.visible),n.enabled??(n.enabled=t),n}var rIe=ar((e,t,i)=>n=>{var l;const s=n.datum[n.xKey],r=n.datum[n.yKey],o=i!=null?n.datum[i]:n.datum,a=(l=t==null?void 0:t.renderer)==null?void 0:l.call(t,{context:e,datum:o,xValue:s,yValue:r});return typeof a=="string"?a:{heading:void 0,title:void 0,data:[{label:a==null?void 0:a.title,value:(a==null?void 0:a.content)??r.toFixed(2)}]}});function oIe(e){const{background:t,container:i,height:n,listeners:s,locale:r,minHeight:o,minWidth:a,overrideDevicePixelRatio:l,padding:u,width:d,theme:p,data:f,crosshair:m,axis:y,min:C,max:w,tooltip:b,context:S,...M}=e,D=eo(e,{background:t,container:i,height:n,listeners:s,locale:r,minHeight:o,minWidth:a,overrideDevicePixelRatio:l,padding:u,width:d,tooltip:Tr,context:Tr,data:Tr,crosshair:Tr,axis:Tr,min:Tr,max:Tr,theme:Tr}),{data:R,series:[A]=[],datumKey:k}=f8(f),F=M;A!=null&&Object.assign(F,A),F.tooltip={...b,renderer:rIe(S,b,k)},D.theme=p8(p,tIe),D.data=R,D.series=[F];const P=F.type!=="bar"||F.direction!=="horizontal",[L,z]=P?["bottom","left"]:["left","bottom"],H={...nIe(y,"category"),position:L,...eo(e,{crosshair:m})},V={type:"number",gridLine:sIe(y,!1,e),position:z,...eo(e,{min:C,max:w})};return D.axes=P?[V,H]:[H,V],D}var aIe={"price-volume":YAe,gauge:VAe,sparkline:oIe},lIe={sparkline:f8};function b4(e,t){var o,a,l,u;let i=[];const n=nP(e),s=Wc(e),r=s?en.get(s):"unknown";for(const d of XC)if(!(r!=="unknown"&&!d.chartTypes.includes(r))){if(d.type==="root"||d.type==="legend"){const p=e[d.optionsKey];if(p==null)continue;d.optionsInnerKey?p[d.optionsInnerKey]&&(i.push(`${d.optionsKey}.${d.optionsInnerKey}`),delete p[d.optionsInnerKey]):(i.push(d.optionsKey),delete e[d.optionsKey])}else if(d.type==="axis"){if(!("axes"in e)||!xt(e.axes)||!((o=e.axes)!=null&&o.some(p=>p.type===d.identifier)))continue;i.push(`axis[type=${d.identifier}]`),e.axes=e.axes.filter(p=>p.type!==d.identifier)}else if(d.type==="axis-option"){if(!("axes"in e)||!xt(e.axes)||!((a=e.axes)!=null&&a.some(p=>p[d.optionsKey])))continue;i.push(`axis.${d.optionsKey}`),e.axes.forEach(p=>{p[d.optionsKey]&&delete p[d.optionsKey]})}else if(d.type==="series"){if(d.community||!xt(e.series)||!((l=e.series)!=null&&l.some(p=>p.type===d.identifier)))continue;i.push(`series[type=${d.identifier}]`),e.series=e.series.filter(p=>p.type!==d.identifier)}else if(d.type==="series-option"){if(!xt(e.series)||!((u=e.series)!=null&&u.some(p=>p[d.optionsKey])))continue;i.push(`series.${d.optionsKey}`),e.series.forEach(p=>{p[d.optionsKey]&&delete p[d.optionsKey]})}}if(i.length&&!t){n&&(i=["AgCharts.createGauge"]);let d="ag-charts-enterprise",p="https://www.ag-grid.com/charts/javascript/installation/";e.mode==="integrated"&&(d="ag-grid-charts-enterprise' or 'ag-grid-enterprise/charts-enterprise",p="https://www.ag-grid.com/javascript-data-grid/integrated-charts-installation/"),De.warnOnce([`unable to use these enterprise features as '${d}' has not been loaded:`,"",...i,"",`See: ${p}`].join(`
`))}}function cIe(e){const t="mode"in e&&e.mode==="integrated";for(const i of Sl.byType("root","legend")){const n=e[i.optionsKey],s=n!=null&&n.enabled===!1,r=!("removable"in i)||i.removable===!0||i.removable==="standalone-only"&&!t;s&&r&&delete e[i.optionsKey]}}function g8(e){return e!=null&&e.up||e!=null&&e.down||e!=null&&e.neutral?"user-full":e!=null&&e.fills||e!=null&&e.strokes?"user-indexed":"inbuilt"}var K1="white",hI={get cartesian(){return{seriesTypes:en.cartesianTypes,commonOptions:["zoom","navigator"]}},get polar(){return{seriesTypes:en.polarTypes,commonOptions:[]}},get hierarchy(){return{seriesTypes:en.hierarchyTypes,commonOptions:[]}},get topology(){return{seriesTypes:en.topologyTypes,commonOptions:[]}},get"flow-proportion"(){return{seriesTypes:en.flowProportionTypes,commonOptions:[]}},get standalone(){return{seriesTypes:en.standaloneTypes,commonOptions:[]}},get gauge(){return{seriesTypes:en.gaugeTypes,commonOptions:[]}}},uIe={"radial-gauge":!0,"linear-gauge":!0};function w4(e){return uIe[e]===!0}var dIe=Object.values(hI).reduce((e,{commonOptions:t})=>e.concat(t),[]),Lo=class Ky{static getDefaultColors(){return{fills:Rn,fillsFallback:Object.values(Rn),strokes:rl,sequentialColors:po(Rn),divergingColors:[Rn.ORANGE,Rn.YELLOW,Rn.GREEN],hierarchyColors:["#fff","#e0e5ea","#c1ccd5","#a3b4c1","#859cad"],secondSequentialColors:ci.interpolate([ci.fromHexString(Rn.BLUE),ci.fromHexString("#cbdef5")],8).map(t=>t.toString()),secondDivergingColors:[Rn.GREEN,Rn.YELLOW,Rn.RED],secondHierarchyColors:["#fff","#c5cbd1","#a4b1bd","#8498a9","#648096"],up:{fill:Rn.GREEN,stroke:rl.GREEN},down:{fill:Rn.RED,stroke:rl.RED},neutral:{fill:Rn.GRAY,stroke:rl.GRAY},altUp:{fill:Rn.BLUE,stroke:rl.BLUE},altDown:{fill:Rn.ORANGE,stroke:rl.ORANGE},altNeutral:{fill:Rn.GRAY,stroke:rl.GRAY}}}static getDefaultPublicParameters(){return{accentColor:"#2196f3",axisColor:{$foregroundBackgroundMix:[.675]},backgroundColor:K1,borderColor:{$foregroundBackgroundMix:[.818]},foregroundColor:"#464646",fontFamily:"Verdana, sans-serif",fontSize:12,fontWeight:400,gridLineColor:{$foregroundBackgroundAccentMix:[.93,.085]},padding:20,subtleTextColor:{$mix:[{$ref:"textColor"},{$ref:"backgroundColor"},.38]},textColor:{$ref:"foregroundColor"},chromeBackgroundColor:{$foregroundBackgroundMix:[.975]},chromeFontFamily:{$ref:"fontFamily"},chromeFontSize:{$ref:"fontSize"},chromeFontWeight:{$ref:"fontWeight"},chromeTextColor:"#181d1f",chromeSubtleTextColor:{$mix:[{$ref:"chromeTextColor"},{$ref:"backgroundColor"},.38]},inputBackgroundColor:{$ref:"backgroundColor"},inputTextColor:{$ref:"textColor"},crosshairLabelBackgroundColor:{$ref:"foregroundColor"},crosshairLabelTextColor:{$ref:"backgroundColor"}}}static getAxisDefaults(t,i=!0){return Vt(t,i&&{title:{enabled:!1,text:"Axis Title",spacing:25,fontWeight:{$ref:"fontWeight"},fontSize:{$rem:[1.0833333333333333]},fontFamily:{$ref:"fontFamily"},color:{$ref:"textColor"}}},{label:{fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"},spacing:11,color:{$ref:"textColor"},avoidCollisions:!0},line:{enabled:!0,width:1,stroke:{$ref:"axisColor"}},tick:{enabled:!1,width:1,stroke:{$ref:"axisColor"}},gridLine:{enabled:!0,style:[{stroke:{$ref:"gridLineColor"},lineDash:[]}]},crossLines:{enabled:!0,fill:{$ref:"foregroundColor"},stroke:{$ref:"foregroundColor"},fillOpacity:.1,strokeWidth:1,label:{fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"},padding:5,color:{$ref:"textColor"}}}})}getChartDefaults(){return{minHeight:300,minWidth:300,background:{visible:!0,fill:{$ref:"backgroundColor"}},padding:{top:{$ref:"padding"},right:{$ref:"padding"},bottom:{$ref:"padding"},left:{$ref:"padding"}},seriesArea:{padding:{top:0,right:0,bottom:0,left:0}},keyboard:{enabled:!0},title:{enabled:!1,text:"Title",spacing:{$if:[{$path:"../subtitle/enabled"},10,20]},fontWeight:{$ref:"fontWeight"},fontSize:{$rem:[1.4166666666666667]},fontFamily:{$ref:"fontFamily"},color:{$ref:"textColor"},wrapping:"hyphenate",layoutStyle:Uu,textAlign:$u},subtitle:{enabled:!1,text:"Subtitle",spacing:20,fontWeight:{$ref:"fontWeight"},fontSize:{$rem:[1.0833333333333333]},fontFamily:{$ref:"fontFamily"},color:{$ref:"subtleTextColor"},wrapping:"hyphenate",layoutStyle:Uu,textAlign:$u},footnote:{enabled:!1,text:"Footnote",spacing:20,fontSize:{$rem:[1.0833333333333333]},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"},color:{$ref:"subtleTextColor"},wrapping:"hyphenate",layoutStyle:Uu,textAlign:$u},legend:{position:"bottom",orientation:{$if:[{$or:[{$eq:[{$path:"./position"},"left"]},{$eq:[{$path:"./position"},"right"]}]},"vertical","horizontal"]},spacing:30,listeners:{},toggleSeries:!0,item:{paddingX:16,paddingY:8,marker:{size:15,padding:8},showSeriesStroke:!0,label:{color:{$ref:"textColor"},fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"}}},reverseOrder:!1,pagination:{marker:{size:12},activeStyle:{fill:{$ref:"foregroundColor"}},inactiveStyle:{fill:{$ref:"subtleTextColor"}},highlightStyle:{fill:{$ref:"foregroundColor"}},label:{color:{$ref:"textColor"}}}},tooltip:{enabled:!0,darkTheme:Zf,delay:0,pagination:!1},overlays:{darkTheme:Zf},listeners:{}}}constructor(t={}){const{overrides:i,palette:n}=ji(t),s=this.createChartConfigPerChartType(this.getDefaults()),r={};i&&this.mergeOverrides(s,r,i);const{fills:o,strokes:a,sequentialColors:l,...u}=this.getDefaultColors();this.palette=jh(Vt(n,{fills:Object.values(o),strokes:Object.values(a),sequentialColors:Object.values(l),...u})),this.paletteType=g8(n),this.config=jh(this.templateTheme(s)),this.presets=jh(r)}mergeOverrides(t,i,n){for(const{seriesTypes:s,commonOptions:r}of Object.values(hI)){const o={...n.common};for(const a of dIe)r.includes(a)||delete o[a];if(o)for(const a of s){const l=a;w4(l)||(t[l]=Vt(o,t[l]))}}en.seriesTypes.forEach(s=>{const r=s,o=n[r];w4(r)?i[r]=o:t[r]=Vt(o,t[r])})}createChartConfigPerChartType(t){for(const[i,{seriesTypes:n}]of Sa(hI)){const s=KA.get(i);for(const r of n)t[r]??(t[r]=ji(s))}return t}getDefaults(){const t=(i,n)=>{const s={},r={axes:{},...Vk.getThemeTemplates(),...this.getChartDefaults(),...KA.get(i)};for(const o of n){s[o]=Vt(Oo.getThemeTemplate(o),s[o]??ji(r));const{axes:a}=s[o];for(const l of Vh.keys())a[l]=Vt(a[l],Vh.getThemeTemplate(l),Ky.axisDefault[l])}return s};return Vt(t("cartesian",en.cartesianTypes),t("polar",en.polarTypes),t("hierarchy",en.hierarchyTypes),t("topology",en.topologyTypes),t("flow-proportion",en.flowProportionTypes),t("standalone",en.standaloneTypes),t("gauge",en.gaugeTypes))}static applyTemplateTheme(t,i,n){if(xt(t))for(let s=0;s<t.length;s++){const r=t[s];typeof r=="symbol"&&(n!=null&&n.has(r))&&(t[s]=n.get(r))}else for(const s of Object.keys(t)){const r=t[s];typeof r=="symbol"&&(n!=null&&n.has(r))&&(t[s]=n.get(r))}}templateTheme(t,i=!0){const n=i?ji(t):t,s=this.getTemplateParameters();return vc(n,Ky.applyTemplateTheme,void 0,void 0,s),n}getDefaultColors(){return Ky.getDefaultColors()}getPublicParameters(){return Ky.getDefaultPublicParameters()}getTemplateParameters(){var s,r,o,a,l,u,d,p,f,m,y,C;const{isEnterprise:t}=lr,i=new Map;i.set(Zf,!1),i.set(CP,t),i.set(vP,!t),i.set(sb,"#d9d9d9"),i.set(xd,"#00000080"),i.set(KM,"#aaa"),i.set(Uu,"block"),i.set($u,"center"),i.set(sC,["#797b86","#e24c4a","#f49d2d","#65ab58","#409682","#4db9d2","#5090dc","#3068f9","#e24c4a","#913aac","#d93e64"]),i.set(YM,K1),i.set(gn,Rn.BLUE),i.set(qn,Rn.BLUE),i.set(ab,Rn.BLUE),i.set(lb,K1),i.set(cb,"#fafafa"),i.set(ub,"#ddd"),i.set(db,"#000"),i.set(hb,"#181d1f"),i.set(rC,"#e35c5c"),i.set(oC,"#e35c5c"),i.set(pb,"#fafafa"),i.set(fb,"#ddd"),i.set(gb,"#000"),i.set(mb,"top"),i.set(gl,!1);const n=this.getDefaultColors();return i.set(VM,((s=this.palette.up)==null?void 0:s.stroke)??n.up.stroke),i.set(rb,((r=this.palette.up)==null?void 0:r.fill)??n.up.fill),i.set(WM,((o=this.palette.down)==null?void 0:o.stroke)??n.down.stroke),i.set(ob,((a=this.palette.down)==null?void 0:a.fill)??n.down.fill),i.set(Og,((l=this.palette.neutral)==null?void 0:l.stroke)??n.neutral.stroke),i.set(UM,((u=this.palette.neutral)==null?void 0:u.fill)??n.neutral.fill),i.set(bP,((d=this.palette.altUp)==null?void 0:d.stroke)??n.up.stroke),i.set(SP,((p=this.palette.altUp)==null?void 0:p.fill)??n.up.fill),i.set(wP,((f=this.palette.altDown)==null?void 0:f.stroke)??n.down.stroke),i.set(xP,((m=this.palette.altDown)==null?void 0:m.fill)??n.down.fill),i.set(MP,((y=this.palette.altNeutral)==null?void 0:y.fill)??n.altNeutral.fill),i.set($M,((C=this.palette.altNeutral)==null?void 0:C.stroke)??n.altNeutral.stroke),i}};Lo.axisDefault={number:Lo.getAxisDefaults({keys:[],line:{enabled:!1},crosshair:{enabled:!0}}),log:Lo.getAxisDefaults({keys:[],base:10,line:{enabled:!1},crosshair:{enabled:!0}}),category:Lo.getAxisDefaults({keys:[],groupPaddingInner:.1,label:{autoRotate:!0},gridLine:{enabled:gl},crosshair:{enabled:!1}}),"grouped-category":Lo.getAxisDefaults({keys:[],tick:{enabled:!0,stroke:sb},label:{spacing:10,rotation:270},paddingInner:.4,groupPaddingInner:.2,crosshair:{enabled:!1}}),time:Lo.getAxisDefaults({keys:[],gridLine:{enabled:gl},crosshair:{enabled:!0}}),"ordinal-time":Lo.getAxisDefaults({keys:[],groupPaddingInner:0,label:{autoRotate:!1},gridLine:{enabled:gl},crosshair:{enabled:!0}}),"angle-category":Lo.getAxisDefaults({label:{spacing:5},gridLine:{enabled:gl},shape:{$path:["./shape",void 0,{$find:[{$not:[{$isOperation:"./shape"}]},{$path:".."}]}]}},!1),"angle-number":Lo.getAxisDefaults({label:{spacing:5},gridLine:{enabled:gl}},!1),"radius-category":Lo.getAxisDefaults({positionAngle:0,line:{enabled:!1}}),"radius-number":Lo.getAxisDefaults({positionAngle:0,line:{enabled:!1},shape:{$path:["./shape",void 0,{$find:[{$not:[{$isOperation:"./shape"}]},{$path:".."}]}]}})};var Oa=Lo,q1="#192232",Es={BLUE:"#5090dc",ORANGE:"#ffa03a",GREEN:"#459d55",CYAN:"#34bfe1",YELLOW:"#e1cc00",VIOLET:"#9669cb",GRAY:"#b5b5b5",MAGENTA:"#bd5aa7",BROWN:"#8a6224",RED:"#ef5452"},Jd={BLUE:"#74a8e6",ORANGE:"#ffbe70",GREEN:"#6cb176",CYAN:"#75d4ef",YELLOW:"#f6e559",VIOLET:"#aa86d8",GRAY:"#a1a1a1",MAGENTA:"#ce7ab9",BROWN:"#997b52",RED:"#ff7872"},hm=class extends Oa{getDefaultColors(){return{fills:Es,fillsFallback:Object.values(Es),strokes:Jd,sequentialColors:po(Es),divergingColors:[Es.ORANGE,Es.YELLOW,Es.GREEN],hierarchyColors:["#192834","#253746","#324859","#3f596c","#4d6a80"],secondSequentialColors:["#5090dc","#4882c6","#4073b0","#38659a","#305684","#28486e","#203a58","#182b42"],secondDivergingColors:[Es.GREEN,Es.YELLOW,Es.RED],secondHierarchyColors:["#192834","#3b5164","#496275","#577287","#668399"],up:{fill:Es.GREEN,stroke:Jd.GREEN},down:{fill:Es.RED,stroke:Jd.RED},neutral:{fill:Es.GRAY,stroke:Jd.GRAY},altUp:{fill:Es.BLUE,stroke:Jd.BLUE},altDown:{fill:Es.ORANGE,stroke:Jd.ORANGE},altNeutral:{fill:Es.GRAY,stroke:Jd.GRAY}}}getPublicParameters(){return{...super.getPublicParameters(),axisColor:{$foregroundBackgroundMix:[.263]},backgroundColor:q1,borderColor:{$foregroundBackgroundMix:[.784]},chromeBackgroundColor:{$foregroundBackgroundMix:[.93]},foregroundColor:"#fff",gridLineColor:{$foregroundBackgroundAccentMix:[.743,.01]},subtleTextColor:{$mix:[{$ref:"textColor"},{$ref:"backgroundColor"},.57]},chromeTextColor:{$ref:"textColor"},crosshairLabelBackgroundColor:{$foregroundBackgroundAccentMix:[.35,.1]}}}getTemplateParameters(){const e=super.getTemplateParameters();return e.set(Zf,!0),e.set(YM,q1),e.set(sb,"#7f8389"),e.set(gn,Es.BLUE),e.set(ab,"#fff"),e.set(qn,Es.BLUE),e.set(lb,q1),e.set(cb,"#28313e"),e.set(ub,"#4b525d"),e.set(db,"#fff"),e.set(hb,"#fff"),e.set(pb,"#28313e"),e.set(fb,"#4b525d"),e.set(gb,"#fff"),e}constructor(e){super(e)}},xr={GREEN:"#089981",RED:"#F23645",BLUE:"#5090dc",GRAY:"#A9A9A9"},eh={GREEN:"#089981",RED:"#F23645",BLUE:"#5090dc",GRAY:"#909090"},hIe=class extends hm{getDefaultColors(){return{...super.getDefaultColors(),fills:{...xr},fillsFallback:Object.values({...xr}),strokes:{...eh},sequentialColors:po(xr),divergingColors:[xr.GREEN,xr.BLUE,xr.RED],secondSequentialColors:["#5090dc","#4882c6","#4073b0","#38659a","#305684","#28486e","#203a58","#182b42"],up:{fill:xr.GREEN,stroke:eh.GREEN},down:{fill:xr.RED,stroke:eh.RED},neutral:{fill:xr.BLUE,stroke:eh.BLUE},altUp:{fill:xr.GREEN,stroke:eh.GREEN},altDown:{fill:xr.RED,stroke:eh.RED},altNeutral:{fill:xr.GRAY,stroke:eh.GRAY}}}getPublicParameters(){return{...super.getPublicParameters(),gridLineColor:{$foregroundBackgroundAccentMix:[.88,.01]},padding:0}}getTemplateParameters(){const e=super.getTemplateParameters();return e.set(gn,xr.BLUE),e.set(qn,xr.BLUE),e.set(Uu,"overlay"),e.set($u,"left"),e.set(mb,"bottom"),e.set(gl,!0),e}},Mr={GREEN:"#089981",RED:"#F23645",BLUE:"#5090dc",GRAY:"#A9A9A9"},th={GREEN:"#089981",RED:"#F23645",BLUE:"#5090dc",GRAY:"#909090"},pIe=class extends Oa{getDefaultColors(){return{...super.getDefaultColors(),fills:{...Mr},fillsFallback:Object.values({...Mr}),strokes:{...th},sequentialColors:po(Mr),divergingColors:[Mr.GREEN,Mr.BLUE,Mr.RED],up:{fill:Mr.GREEN,stroke:th.GREEN},down:{fill:Mr.RED,stroke:th.RED},neutral:{fill:Mr.BLUE,stroke:th.BLUE},altUp:{fill:Mr.GREEN,stroke:th.GREEN},altDown:{fill:Mr.RED,stroke:th.RED},altNeutral:{fill:Mr.GRAY,stroke:th.GRAY}}}getPublicParameters(){return{...super.getPublicParameters(),gridLineColor:{$foregroundBackgroundAccentMix:[.94,.01]},padding:0}}getTemplateParameters(){const e=super.getTemplateParameters();return e.set(gn,Mr.BLUE),e.set(qn,Mr.BLUE),e.set(Uu,"overlay"),e.set($u,"left"),e.set(mb,"bottom"),e.set(gl,!0),e}},Ts={BLUE:"#2196F3",ORANGE:"#FF9800",GREEN:"#4CAF50",CYAN:"#00BCD4",YELLOW:"#FFEB3B",VIOLET:"#7E57C2",GRAY:"#9E9E9E",MAGENTA:"#F06292",BROWN:"#795548",RED:"#F44336"},ih={BLUE:"#90CAF9",ORANGE:"#FFCC80",GREEN:"#A5D6A7",CYAN:"#80DEEA",YELLOW:"#FFF9C4",VIOLET:"#B39DDB",GRAY:"#E0E0E0",MAGENTA:"#F48FB1",BROWN:"#A1887F",RED:"#EF9A9A"},fIe=class extends hm{getDefaultColors(){return{...super.getDefaultColors(),fills:Ts,fillsFallback:Object.values(Ts),strokes:ih,sequentialColors:po(Ts),divergingColors:[Ts.ORANGE,Ts.YELLOW,Ts.GREEN],secondSequentialColors:["#2196f3","#208FEC","#1E88E5","#1C7FDC","#1976d2","#176EC9","#1565c0"],secondDivergingColors:[Ts.GREEN,Ts.YELLOW,Ts.RED],up:{fill:Ts.GREEN,stroke:ih.GREEN},down:{fill:Ts.RED,stroke:ih.RED},neutral:{fill:Ts.GRAY,stroke:ih.GRAY},altUp:{fill:Ts.BLUE,stroke:ih.BLUE},altDown:{fill:Ts.RED,stroke:ih.RED},altNeutral:{fill:Ts.GRAY,stroke:ih.GRAY}}}getTemplateParameters(){const e=super.getTemplateParameters();return e.set(gn,Ts.BLUE),e.set(qn,Ts.BLUE),e}},As={BLUE:"#2196F3",ORANGE:"#FF9800",GREEN:"#4CAF50",CYAN:"#00BCD4",YELLOW:"#FFEB3B",VIOLET:"#7E57C2",GRAY:"#9E9E9E",MAGENTA:"#F06292",BROWN:"#795548",RED:"#F44336"},nh={BLUE:"#1565C0",ORANGE:"#E65100",GREEN:"#2E7D32",CYAN:"#00838F",YELLOW:"#F9A825",VIOLET:"#4527A0",GRAY:"#616161",MAGENTA:"#C2185B",BROWN:"#4E342E",RED:"#B71C1C"},gIe=class extends Oa{getDefaultColors(){return{...super.getDefaultColors(),fills:As,fillsFallback:Object.values(As),strokes:nh,sequentialColors:po(As),divergingColors:[As.ORANGE,As.YELLOW,As.GREEN],secondSequentialColors:["#2196f3","#329EF4","#42a5f5","#53ADF6","#64b5f6","#7AC0F8","#90caf9"],secondDivergingColors:[As.GREEN,As.YELLOW,As.RED],up:{fill:As.GREEN,stroke:nh.GREEN},down:{fill:As.RED,stroke:nh.RED},neutral:{fill:As.GRAY,stroke:nh.GRAY},altUp:{fill:As.BLUE,stroke:nh.BLUE},altDown:{fill:As.RED,stroke:nh.RED},altNeutral:{fill:As.GRAY,stroke:nh.GRAY}}}getTemplateParameters(){const e=super.getTemplateParameters();return e.set(gn,As.BLUE),e.set(qn,As.BLUE),e}},cn={BLUE:"#436ff4",PURPLE:"#9a7bff",MAGENTA:"#d165d2",PINK:"#f0598b",RED:"#f47348",ORANGE:"#f2a602",YELLOW:"#e9e201",GREEN:"#21b448",CYAN:"#00b9a2",MODERATE_BLUE:"#00aee4",GRAY:"#bbbbbb"},sh={BLUE:"#6698ff",PURPLE:"#c0a3ff",MAGENTA:"#fc8dfc",PINK:"#ff82b1",RED:"#ff9b70",ORANGE:"#ffcf4e",YELLOW:"#ffff58",GREEN:"#58dd70",CYAN:"#51e2c9",MODERATE_BLUE:"#4fd7ff",GRAY:"#eeeeee"},mIe=class extends hm{getDefaultColors(){return{fills:cn,fillsFallback:Object.values(cn),strokes:sh,sequentialColors:po(cn),divergingColors:[cn.BLUE,cn.RED],hierarchyColors:[],secondSequentialColors:[cn.BLUE,cn.PURPLE,cn.MAGENTA,cn.PINK,cn.RED,cn.ORANGE,cn.YELLOW,cn.GREEN],secondDivergingColors:[cn.BLUE,cn.RED],secondHierarchyColors:[],up:{fill:cn.GREEN,stroke:sh.GREEN},down:{fill:cn.RED,stroke:sh.RED},neutral:{fill:cn.GRAY,stroke:sh.GRAY},altUp:{fill:cn.BLUE,stroke:sh.BLUE},altDown:{fill:cn.RED,stroke:sh.RED},altNeutral:{fill:cn.GRAY,stroke:sh.GRAY}}}getTemplateParameters(){const e=super.getTemplateParameters();return e.set(gn,cn.BLUE),e.set(qn,cn.BLUE),e}},un={BLUE:"#436ff4",PURPLE:"#9a7bff",MAGENTA:"#d165d2",PINK:"#f0598b",RED:"#f47348",ORANGE:"#f2a602",YELLOW:"#e9e201",GREEN:"#21b448",CYAN:"#00b9a2",MODERATE_BLUE:"#00aee4",GRAY:"#bbbbbb"},rh={BLUE:"#2346c9",PURPLE:"#7653d4",MAGENTA:"#a73da9",PINK:"#c32d66",RED:"#c84b1c",ORANGE:"#c87f00",YELLOW:"#c1b900",GREEN:"#008c1c",CYAN:"#00927c",MODERATE_BLUE:"#0087bb",GRAY:"#888888"},yIe=class extends Oa{getDefaultColors(){return{...super.getDefaultColors(),fills:un,fillsFallback:Object.values(un),strokes:rh,sequentialColors:po(un),divergingColors:[un.BLUE,un.RED],hierarchyColors:[],secondSequentialColors:[un.BLUE,un.PURPLE,un.MAGENTA,un.PINK,un.RED,un.ORANGE,un.YELLOW,un.GREEN],secondDivergingColors:[un.BLUE,un.RED],secondHierarchyColors:[],up:{fill:un.GREEN,stroke:rh.GREEN},down:{fill:un.RED,stroke:rh.RED},neutral:{fill:un.GRAY,stroke:rh.GRAY},altUp:{fill:un.BLUE,stroke:rh.BLUE},altDown:{fill:un.RED,stroke:rh.RED},altNeutral:{fill:un.GRAY,stroke:rh.GRAY}}}getTemplateParameters(){const e=super.getTemplateParameters();return e.set(gn,un.BLUE),e.set(qn,un.BLUE),e}},Un={BLUE:"#4472C4",ORANGE:"#ED7D31",GRAY:"#A5A5A5",YELLOW:"#FFC000",MODERATE_BLUE:"#5B9BD5",GREEN:"#70AD47",DARK_GRAY:"#7B7B7B",DARK_BLUE:"#264478",VERY_DARK_GRAY:"#636363",DARK_YELLOW:"#997300"},Du={BLUE:"#6899ee",ORANGE:"#ffa55d",GRAY:"#cdcdcd",YELLOW:"#ffea53",MODERATE_BLUE:"#82c3ff",GREEN:"#96d56f",DARK_GRAY:"#a1a1a1",DARK_BLUE:"#47689f",VERY_DARK_GRAY:"#878787",DARK_YELLOW:"#c0993d"},vIe=class extends hm{getDefaultColors(){return{...super.getDefaultColors(),fills:{...Un,RED:Un.ORANGE},fillsFallback:Object.values({...Un,RED:Un.ORANGE}),strokes:{...Du,RED:Du.ORANGE},sequentialColors:po({...Un,RED:Un.ORANGE}),divergingColors:[Un.ORANGE,Un.YELLOW,Un.GREEN],secondSequentialColors:["#5090dc","#4882c6","#4073b0","#38659a","#305684","#28486e","#203a58","#182b42"],secondDivergingColors:[Un.GREEN,Un.YELLOW,Un.ORANGE],up:{fill:Un.GREEN,stroke:Du.GREEN},down:{fill:Un.ORANGE,stroke:Du.ORANGE},neutral:{fill:Un.GRAY,stroke:Du.GRAY},altUp:{fill:Un.BLUE,stroke:Du.BLUE},altDown:{fill:Un.ORANGE,stroke:Du.ORANGE},altNeutral:{fill:Un.GRAY,stroke:Du.GRAY}}}getTemplateParameters(){const e=super.getTemplateParameters();return e.set(gn,Un.BLUE),e.set(qn,Un.BLUE),e}},Jn={BLUE:"#5281d5",ORANGE:"#ff8d44",GRAY:"#b5b5b5",YELLOW:"#ffd02f",MODERATE_BLUE:"#6aabe6",GREEN:"#7fbd57",DARK_GRAY:"#8a8a8a",DARK_BLUE:"#335287",VERY_DARK_GRAY:"#717171",DARK_YELLOW:"#a98220"},cc={BLUE:"#214d9b",ORANGE:"#c25600",GRAY:"#7f7f7f",YELLOW:"#d59800",MODERATE_BLUE:"#3575ac",GREEN:"#4b861a",DARK_GRAY:"#575757",DARK_BLUE:"#062253",VERY_DARK_GRAY:"#414141",DARK_YELLOW:"#734f00"},CIe=class extends Oa{getDefaultColors(){return{...super.getDefaultColors(),fills:{...Jn,RED:Jn.ORANGE},fillsFallback:Object.values({...Jn,RED:Jn.ORANGE}),strokes:{...cc,RED:cc.ORANGE},sequentialColors:po({...Jn,RED:Jn.ORANGE}),divergingColors:[Jn.ORANGE,Jn.YELLOW,Jn.GREEN],secondSequentialColors:["#5090dc","#629be0","#73a6e3","#85b1e7","#96bcea","#a8c8ee","#b9d3f1","#cbdef5"],secondDivergingColors:[Jn.GREEN,Jn.YELLOW,Jn.ORANGE],secondHierarchyColors:[],up:{fill:Jn.GREEN,stroke:cc.GREEN},down:{fill:Jn.ORANGE,stroke:cc.ORANGE},neutral:{fill:cc.GRAY,stroke:cc.GRAY},altUp:{fill:Jn.BLUE,stroke:cc.BLUE},altDown:{fill:Jn.ORANGE,stroke:cc.ORANGE},altNeutral:{fill:Jn.GRAY,stroke:cc.GRAY}}}getTemplateParameters(){const e=super.getTemplateParameters();return e.set(gn,Jn.BLUE),e.set(qn,Jn.BLUE),e}},Is={BLUE:"#0083ff",ORANGE:"#ff6600",GREEN:"#00af00",CYAN:"#00ccff",YELLOW:"#f7c700",VIOLET:"#ac26ff",GRAY:"#a7a7b7",MAGENTA:"#e800c5",BROWN:"#b54300",RED:"#ff0000"},oh={BLUE:"#67b7ff",ORANGE:"#ffc24d",GREEN:"#5cc86f",CYAN:"#54ebff",VIOLET:"#fff653",YELLOW:"#c18aff",GRAY:"#aeaeae",MAGENTA:"#f078d4",BROWN:"#ba8438",RED:"#ff726e"},bIe=class extends hm{getDefaultColors(){return{fills:Is,fillsFallback:Object.values(Is),strokes:oh,sequentialColors:po(Is),divergingColors:[Is.ORANGE,Is.YELLOW,Is.GREEN],hierarchyColors:[],secondSequentialColors:["#0083ff","#0076e6","#0069cc","#005cb3","#004f99","#004280","#003466","#00274c"],secondDivergingColors:[Is.GREEN,Is.YELLOW,Is.RED],secondHierarchyColors:[],up:{fill:Is.GREEN,stroke:oh.GREEN},down:{fill:Is.RED,stroke:oh.RED},neutral:{fill:Is.GRAY,stroke:oh.GRAY},altUp:{fill:Is.BLUE,stroke:oh.BLUE},altDown:{fill:Is.ORANGE,stroke:oh.ORANGE},altNeutral:{fill:Is.GRAY,stroke:oh.GRAY}}}getTemplateParameters(){const e=super.getTemplateParameters();return e.set(gn,Is.BLUE),e.set(qn,Is.BLUE),e}},Ls={BLUE:"#0083ff",ORANGE:"#ff6600",GREEN:"#00af00",CYAN:"#00ccff",YELLOW:"#f7c700",VIOLET:"#ac26ff",GRAY:"#a7a7b7",MAGENTA:"#e800c5",BROWN:"#b54300",RED:"#ff0000"},ah={BLUE:"#0f68c0",ORANGE:"#d47100",GREEN:"#007922",CYAN:"#009ac2",VIOLET:"#bca400",YELLOW:"#753cac",GRAY:"#646464",MAGENTA:"#9b2685",BROWN:"#6c3b00",RED:"#cb0021"},wIe=class extends Oa{getDefaultColors(){return{...super.getDefaultColors(),fills:Ls,fillsFallback:Object.values(Ls),strokes:ah,sequentialColors:po(Ls),divergingColors:[Ls.ORANGE,Ls.YELLOW,Ls.GREEN],hierarchyColors:[],secondSequentialColors:["#0083ff","#1a8fff","#339cff","#4da8ff","#66b5ff","#80c1ff","#99cdff","#b3daff"],secondDivergingColors:[Ls.GREEN,Ls.YELLOW,Ls.RED],secondHierarchyColors:[],up:{fill:Ls.GREEN,stroke:ah.GREEN},down:{fill:Ls.RED,stroke:ah.RED},neutral:{fill:Ls.GRAY,stroke:ah.GRAY},altUp:{fill:Ls.BLUE,stroke:ah.BLUE},altDown:{fill:Ls.ORANGE,stroke:ah.ORANGE},altNeutral:{fill:Ls.GRAY,stroke:ah.GRAY}}}getTemplateParameters(){const e=super.getTemplateParameters();return e.set(gn,Ls.BLUE),e.set(qn,Ls.BLUE),e}},Qf=ar(()=>new Oa),SIe=ar(()=>new hm),xIe=ii.create(!0,"perf"),fa=(e,t,i)=>{xIe("[CACHE] ChartTheme",e,t.name,i)},eF={"ag-default-dark":SIe,"ag-sheets-dark":ar(()=>new vIe,fa),"ag-polychroma-dark":ar(()=>new mIe,fa),"ag-vivid-dark":ar(()=>new bIe,fa),"ag-material-dark":ar(()=>new fIe,fa),"ag-financial-dark":ar(()=>new hIe,fa),null:Qf,undefined:Qf,"ag-default":Qf,"ag-sheets":ar(()=>new CIe,fa),"ag-polychroma":ar(()=>new yIe,fa),"ag-vivid":ar(()=>new wIe,fa),"ag-material":ar(()=>new gIe,fa),"ag-financial":ar(()=>new pIe,fa)},vx=ar(MIe,fa);function MIe(e){if(e instanceof Oa)return e;if(e==null||typeof e=="string"){const i=eF[e];return i?i():(De.warnOnce(`the theme [${e}] is invalid, using [ag-default] instead.`),Qf())}const{errors:t}=Ca(e,m8,"theme");if(!t.length){const i=DIe(e),n=i.baseTheme?vx(i.baseTheme):Qf();return new n.constructor(i)}for(const{message:i}of t)De.warnOnce(i);return Qf()}function DIe(e){let t=e,i,n;const s=[];for(;typeof t=="object";)i??(i=t.palette),n??(n=t.params),t.overrides&&s.push(t.overrides),t=t.baseTheme;return{baseTheme:t,overrides:Vt(...s),params:n,palette:i}}var m8={baseTheme:pn(Be,$v),overrides:$v,params:{accentColor:It,axisColor:It,backgroundColor:It,borderColor:It,foregroundColor:It,fontFamily:Be,fontSize:rt,fontWeight:pn(Be,rt),gridLineColor:It,padding:rt,subtleTextColor:It,textColor:It,chromeBackgroundColor:It,chromeFontFamily:Be,chromeFontSize:rt,chromeFontWeight:pn(Be,rt),chromeSubtleTextColor:It,chromeTextColor:It,inputBackgroundColor:It,inputTextColor:It,crosshairLabelBackgroundColor:It,crosshairLabelTextColor:It},palette:{fills:tn(ik),strokes:tn(It),up:{fill:pn(It,w1),stroke:It},down:{fill:pn(It,w1),stroke:It},neutral:{fill:pn(It,w1),stroke:It}}},S4=e=>`'${e}'`,pm=class Nn{constructor(t,i,n,s,r,o,a=!1){this.themeParameters={},this.optionMetadata=r??{},this.processedOverrides=n??{};let l=null;t instanceof Nn?(l=t,this.specialOverrides=l.specialOverrides,o===void 0&&(o=kl(l.userOptions,i,Nn.JSON_DIFF_OPTS)),this.userOptions=ji(qv(o,l.userOptions),Nn.OPTIONS_CLONE_OPTS)):(this.userOptions=ji(t??i,Nn.OPTIONS_CLONE_OPTS),this.specialOverrides=this.specialOverridesDefaults({...s})),a&&this.removeLeftoverSymbols(this.userOptions);let u,d,p,f,m,y;!a&&o!==void 0&&Nn.isFastPathDelta(o)&&l!=null?({activeTheme:u,processedOptions:d,defaultAxes:p,fastDelta:f}=this.fastSetup(o,l),m=l.themeParameters,y=l.annotationThemes):(Nn.perfDebug("ChartOptions.slowSetup()"),{activeTheme:u,processedOptions:d,defaultAxes:p,themeParameters:m,annotationThemes:y}=this.slowSetup(n,o,a)),this.activeTheme=u,this.processedOptions=d,this.defaultAxes=p,this.fastDelta=f??void 0,this.themeParameters=m,this.annotationThemes=y,ii.inDevelopmentMode(()=>jh(this))}static isFastPathDelta(t){for(const i of Object.keys(t??{}))if(!this.FAST_PATH_OPTIONS.has(i))return Nn.perfDebug("ChartOptions.isFastPathDelta() - slow path required due to presence of: ",i),!1;return Nn.perfDebug("ChartOptions.isFastPathDelta() - fast path possible."),!0}fastSetup(t,i){const{activeTheme:n,defaultAxes:s,processedOptions:r}=i,{presetType:o}=this.optionMetadata,a=o?lIe[o]:void 0;if(o!=null&&(t==null?void 0:t.data)!=null&&a!=null){const{series:u,data:d}=a(t.data);t=Vt({series:u,data:d},t)}this.fastSeriesSetup(t,r);const l=Vt(t,r);return Nn.debug("ChartOptions.fastSetup() - processed options",l),{activeTheme:n,defaultAxes:s,processedOptions:l,fastDelta:t}}fastSeriesSetup(t,i){var n;t!=null&&t.series&&((n=t.series)!=null&&n.every((s,r)=>{var o;return XW(s,((o=i.series)==null?void 0:o[r])??{})})?delete t.series:t.series=t.series.map((s,r)=>{var o;return qv(s,((o=i.series)==null?void 0:o[r])??{})}))}slowSetup(t,i,n=!1){var S,M;let s=ji(this.userOptions,Nn.OPTIONS_CLONE_OPTS);i&&(s=Vt(i,s),n&&this.removeLeftoverSymbols(s));const{presetType:r}=this.optionMetadata;if(r!=null){const D=aIe[r],R=s,A=s.type,k=A!=null?vx(s.theme).presets[A]:void 0;Nn.debug(">>> AgCharts.createOrUpdate() - applying preset",R),s=(D==null?void 0:D(R,k,()=>this.activeTheme))??s}this.soloSeriesIntegrity(s),lr.isEnterprise||b4(s);const o=vx(s.theme);if(r!=null&&o.templateTheme(s,!1),this.validateSeriesOptions(s),this.chartDef=$r.detectChartDefinition(s),!this.chartDef.placeholder){const{valid:D,errors:R}=Ca(s,this.chartDef.options);R.forEach(A=>De.warn(A)),s=D}this.validatePluginOptions(s),this.validateAxesOptions(s),this.removeDisabledOptions(s);const a=this.optionsType(s),{annotations:l={},axes:u={},series:d,...p}=this.getSeriesThemeConfig(a,o),[f,m]=this.splitAnnotationsOptions(l),y=ji(m),C=this.getDefaultAxes(s,d);let w=Vt(t,s,f,p,C);this.processAxesOptions(w,u),this.processSeriesOptions(w,o),w=ji(w,Nn.OPTIONS_CLONE_OPTS),(tP(w)||iP(w)||NEe(w))&&((S=w.legend)==null?void 0:S.enabled)==null&&(w.legend??(w.legend={}),w.legend.enabled=w.series.length>1),this.enableConfiguredOptions(w,s);const b=this.getThemeParameters(o,w);return b.__palette=ji(o.palette),b.__palette.type=In(s.theme)?g8((M=s.theme)==null?void 0:M.palette):"inbuilt",this.resolveThemeOperations(b,b),this.resolveThemeOperations(b,w),this.resolveThemeOperations(b,y),this.processMiniChartSeriesOptions(w),o.templateTheme(w,!1),cIe(w),lr.isEnterprise||b4(w,!0),this.validateSeriesOptions(w),this.validateAxesOptions(w),Nn.debug(()=>["ChartOptions.slowSetup() - processed options",ji(w)]),{activeTheme:o,processedOptions:w,defaultAxes:C,themeParameters:b,annotationThemes:y}}validatePluginOptions(t){var i;for(const n of $r.listModulesByType(jw.Plugin)){const s=n.name;if(s in t&&(!n.chartType||n.chartType===((i=this.chartDef)==null?void 0:i.name))){const{valid:r,errors:o}=Ca(t[s],n.options,n.name);o.forEach(a=>De.warn(a)),t[s]=r}}}validateSeriesOptions(t){var o,a;const i=(o=this.chartDef)==null?void 0:o.name,n=[],s=((a=t.series)==null?void 0:a.length)??0;let r;for(let l=0;l<s;l++){const u=`series[${l}]`,d=t.series[l],p=$r.getSeriesModule(d.type??"line");if(p==null){r??(r=LA(Array.from($r.listModulesByType(jw.Series)).filter(C=>!i||C.chartType===i).map(C=>C.name),"or",S4)),De.warn(`Unknown type \`${d.type}\` at \`${u}.type\`; expecting ${r}, ignoring.`);continue}else if(i&&p.chartType!==i){De.warn(`Series type \`${p.name}\` at \`${u}.type\` is not supported by chart type \`${i}\`, ignoring.`);continue}const{validate:f=Ca}=p,{valid:m,errors:y}=f(d,p.options,u);y.forEach(C=>De.warn(C)),y.some(C=>C.required&&C.path===u)||n.push(m)}t.series=n}validateAxesOptions(t){var o;if(!("axes"in t)||!t.axes)return;const i=(o=this.chartDef)==null?void 0:o.name,n=[],s=t.axes.length??0;let r;for(let a=0;a<s;a++){const l=`axes[${a}]`,u=t.axes[a],d=$r.getAxisModule(u.type);if(d==null){r??(r=LA(Array.from($r.listModulesByType(jw.Axis)).filter(y=>y.chartType===i).map(y=>y.name),"or",S4)),De.warn(`Unknown type \`${u.type}\` at  \`${l}.type\`; expecting one of ${r}, ignoring all axes options.`),delete t.axes;break}else if(d.chartType!==i){De.warn(`Axis type \`${d.name}\` at  \`${l}.type\` is not supported by chart type \`${i}\`, ignoring.`);break}const{validate:p=Ca}=d,{valid:f,errors:m}=p(u,d.options,l);m.forEach(y=>De.warn(y)),m.some(y=>y.required&&y.path===l)||n.push(f)}t.axes=n}diffOptions(t){return this===t?{}:t==null?this.processedOptions:this.fastDelta??kl(t.processedOptions,this.processedOptions,Nn.JSON_DIFF_OPTS)}getSeriesThemeConfig(t,i){return(i==null?void 0:i.config[t])??{}}getDefaultAxes(t,i){var o;const n=this.optionsType(t),s=((o=t.series)==null?void 0:o.find(a=>(a.type??"line")===n))??{},r=Oo.cloneDefaultAxes(n);return XS(r,{},void 0,Vt(s,i)),r}optionsType(t){var i,n;return((n=(i=t.series)==null?void 0:i[0])==null?void 0:n.type)??"line"}splitAnnotationsOptions(t){const{axesButtons:i=null,enabled:n=null,optionsToolbar:s=null,toolbar:r=null,...o}=t;return i==null&&n==null&&s==null&&r==null?[{},o]:[{annotations:{axesButtons:i,enabled:n,optionsToolbar:s,toolbar:r}},o]}processAxesOptions(t,i){var n;"axes"in t&&(t.axes=(n=t.axes)==null?void 0:n.map(s=>{var m,y,C;const{crossLines:r,...o}=Vt((m=i[s.type])==null?void 0:m[s.position],i[s.type]);s.crossLines&&(s.crossLines=US(s.crossLines,r));const a=(y=o.gridLine)==null?void 0:y.style;(C=s.gridLine)!=null&&C.style&&(a!=null&&a.length)&&(s.gridLine.style=s.gridLine.style.map((w,b)=>w.stroke!=null||w.lineDash!=null?Vt(w,a.at(b%a.length)):w));const{top:l,right:u,bottom:d,left:p,...f}=Vt(s,o);return f}))}processSeriesOptions(t,i){var r;const n=this.getTooltipPositionDefaults(t),s=(r=t.series)==null?void 0:r.map(o=>{o.type??(o.type="line");const{innerLabels:a,...l}=this.getSeriesThemeConfig(o.type,i).series??{},u=$r.getSeriesModule(o.type),d=!!(u!=null&&u.options.tooltip),p=!!(u!=null&&u.options.visible),f=d&&this.getTooltipRangeDefaults(t,o.type),m=Vt(this.getSeriesGroupingOptions(o),o,d&&n,f,l,p&&{visible:!0});return m.innerLabels&&(m.innerLabels=US(m.innerLabels,a)),m});t.series=this.setSeriesGroupingOptions(s??[])}processMiniChartSeriesOptions(t){var n,s;let i=(s=(n=t.navigator)==null?void 0:n.miniChart)==null?void 0:s.series;i!=null&&(i=i.map(r=>(r.type??(r.type="line"),r)),t.navigator.miniChart.series=this.setSeriesGroupingOptions(i))}getThemeParameters(t,i){const n=t.getPublicParameters();if(!Ln(i.theme)||!i.theme.params)return n;const{valid:s,errors:r}=Ca(i.theme.params,m8.params);for(const{message:o}of r)De.warnOnce(o);return Vt(s,n)}resolveThemeOperations(t,i){const n=XS(i,t,new Set(["palette","data","theme"]));Nn.debug("ChartOptions.resolveTheme()",n)}getSeriesGroupingOptions(t){const i=Oo.isGroupable(t.type),n=Oo.isStackable(t.type),s=Oo.isStackedByDefault(t.type);t.grouped&&!i&&De.warnOnce(`unsupported grouping of series type "${t.type}".`),(t.stacked||t.stackGroup)&&!n&&De.warnOnce(`unsupported stacking of series type "${t.type}".`);let{grouped:r,stacked:o}=t;return o??(o=(s||t.stackGroup!=null)&&!(i&&r)),r??(r=!0),{stacked:n&&o,grouped:i&&r&&!(n&&o)}}setSeriesGroupingOptions(t){const i=this.getSeriesGrouping(t);Nn.debug("ChartOptions.setSeriesGroupingOptions() - series grouping: ",i);const n={},s=i.reduce((r,o)=>{var a;return o.groupType==="default"||(r[a=o.seriesType]??(r[a]=0),r[o.seriesType]+=o.groupType==="stack"?1:o.series.length),r},{});return i.flatMap(r=>{var o;switch(n[o=r.seriesType]??(n[o]=0),r.groupType){case"stack":{const a=n[r.seriesType]++;return r.series.map((l,u)=>Object.assign(l,{seriesGrouping:{groupId:r.groupId,groupIndex:a,groupCount:s[r.seriesType],stackIndex:u,stackCount:r.series.length}}))}case"group":return r.series.map(a=>Object.assign(a,{seriesGrouping:{groupId:r.groupId,groupIndex:n[r.seriesType]++,groupCount:s[r.seriesType],stackIndex:0,stackCount:0}}))}return r.series}).map(({stacked:r,grouped:o,...a})=>a)}getSeriesGroupId(t){return[t.type,t.xKey,t.stacked?t.stackGroup??"stacked":"grouped"].filter(Boolean).join("-")}getSeriesGrouping(t){const i=new Map;return t.reduce((n,s)=>{const r=s.type;if(!s.stacked&&!s.grouped)n.push({groupType:"default",seriesType:r,series:[s],groupId:"__default__"});else{const o=this.getSeriesGroupId(s);if(!i.has(o)){const l={groupType:s.stacked?"stack":"group",seriesType:r,series:[],groupId:o};i.set(o,l),n.push(l)}i.get(o).series.push(s)}return n},[])}getTooltipPositionDefaults(t){var u;const i=(u=t.tooltip)==null?void 0:u.position;if(!Ln(i))return;const{type:n,anchorTo:s,placement:r,xOffset:o,yOffset:a}=i,l={};return ms(n)&&C1(u8,n)&&(l.type=n),ms(s)&&C1(l8,s)&&(l.anchorTo=s),ms(r)&&C1(c8,r)&&(l.placement=r),Qt(o)&&(l.xOffset=o),Qt(a)&&(l.yOffset=a),{tooltip:{position:l}}}getTooltipRangeDefaults(t,i){var n,s;return{tooltip:{range:((n=t.tooltip)==null?void 0:n.range)??((s=Oo.getTooltipDefauls(i))==null?void 0:s.range)}}}soloSeriesIntegrity(t){if(!xt(t.series))return;const i=t.series;if(i&&i.length>1&&i.some(n=>Oo.isSolo(n.type))){const n=this.optionsType(t);if(Oo.isSolo(n))De.warn(`series[0] of type '${n}' is incompatible with other series types. Only processing series[0]`),t.series=i.slice(0,1);else{const{solo:s,nonSolo:r}=nk(i,a=>Oo.isSolo(a.type)?"solo":"nonSolo"),o=sSe(s.map(a=>a.type)).join(", ");De.warn(`Unable to mix these series types with the lead series type: ${o}`),t.series=r}}}static enableConfiguredJsonOptions(t,i){typeof i=="object"&&"enabled"in i&&!i._enabledFromTheme&&t.enabled==null&&(i.enabled=!0)}static cleanupEnabledFromThemeJsonOptions(t){t._enabledFromTheme!=null&&delete t._enabledFromTheme}enableConfiguredOptions(t,i){vc(i,Nn.enableConfiguredJsonOptions,new Set(["data","theme"]),t),vc(t,Nn.cleanupEnabledFromThemeJsonOptions,new Set(["data","theme"]))}static removeDisabledOptionJson(t){"enabled"in t&&t.enabled===!1&&Object.keys(t).forEach(i=>{i!=="enabled"&&delete t[i]})}removeDisabledOptions(t){vc(t,Nn.removeDisabledOptionJson,new Set(["data","theme"]))}static removeLeftoverSymbolsJson(t){if(!(!t||!In(t)))for(const i of Object.keys(t)){const n=t[i];Wwe(n)&&delete t[i]}}removeLeftoverSymbols(t){vc(t,Nn.removeLeftoverSymbolsJson,new Set(["data"]))}specialOverridesDefaults(t){if(t.window==null?t.window=Di():Gwe(t.window),t.document==null?t.document=Pc():zwe(t.document),t.window==null)throw new Error("AG Charts - unable to resolve global window");if(t.document==null)throw new Error("AG Charts - unable to resolve global document");return t}};pm.OPTIONS_CLONE_OPTS={shallow:new Set(["data","container"]),assign:new Set(["context","theme"])};pm.JSON_DIFF_OPTS=new Set(["data"]);pm.perfDebug=ii.create(!0,"perf");pm.FAST_PATH_OPTIONS=new Set(["data","width","height","container"]);pm.debug=ii.create(!0,"opts");var pI=pm,RIe=1e3,tF=class Au{constructor(t,i,n,s,r,o=RIe){this.name=t,this.buildItem=i,this.releaseItem=n,this.destroyItem=s,this.maxPoolSize=r,this.cleanupTimeMs=o,this.freePool=[],this.busyPool=new Set}static getPool(t,i,n,s,r){return this.pools.has(t)||this.pools.set(t,new Au(t,i,n,s,r)),this.pools.get(t)}isFull(){return this.freePool.length+this.busyPool.size>=this.maxPoolSize}hasFree(){return this.freePool.length>0}obtain(t){if(!this.hasFree()&&this.isFull())throw new Error("AG Charts - pool exhausted");let i=this.freePool.pop();return i==null?(i=this.buildItem(t),Au.debug(()=>[`Pool[name=${this.name}]: Created instance (${this.freePool.length} / ${this.busyPool.size+1} / ${this.maxPoolSize})`,i])):Au.debug(()=>[`Pool[name=${this.name}]: Re-used instance (${this.freePool.length} / ${this.busyPool.size+1} / ${this.maxPoolSize})`,i]),this.busyPool.add(i),{item:i,release:()=>this.release(i)}}obtainFree(){const t=this.freePool.pop();if(t==null)throw new Error("AG Charts - pool has no free instances");return Au.debug(()=>[`Pool[name=${this.name}]: Re-used instance (${this.freePool.length} / ${this.busyPool.size+1} / ${this.maxPoolSize})`,t]),this.busyPool.add(t),{item:t,release:()=>this.release(t)}}release(t){if(!this.busyPool.has(t))throw new Error("AG Charts - cannot free item from pool which is not tracked as busy.");Au.debug(()=>[`Pool[name=${this.name}]: Releasing instance (${this.freePool.length} / ${this.busyPool.size} / ${this.maxPoolSize})`,t]),this.releaseItem(t),this.busyPool.delete(t),this.freePool.push(t),Au.debug(()=>[`Pool[name=${this.name}]: Returned instance to free pool (${this.freePool.length} / ${this.busyPool.size} / ${this.maxPoolSize})`,t]);const i=Date.now(),n=i+this.cleanupTimeMs*.5;this.cleanPoolTimer&&(this.cleanPoolDue??1/0)<n&&(clearTimeout(this.cleanPoolTimer),this.cleanPoolTimer=void 0),this.cleanPoolTimer||(this.cleanPoolDue=i+this.cleanupTimeMs,this.cleanPoolTimer=setTimeout(this.cleanPool.bind(this),this.cleanupTimeMs))}cleanPool(){const t=this.freePool.splice(0);for(const i of t)this.destroyItem(i);Au.debug(()=>[`Pool[name=${this.name}]: Cleaned pool of ${t.length} items (${this.freePool.length} / ${this.busyPool.size} / ${this.maxPoolSize})`])}destroy(){this.cleanPool();for(const t of this.busyPool.values())this.destroyItem(t);this.busyPool.clear()}};tF.pools=new Map;tF.debug=ii.create(!0,"pool");var EIe=tF;$r.registerMany(zAe);var mc=ii.create(!0,"opts"),Ku=class{static licenseCheck(t){var i,n;this.licenseChecked||(this.licenseManager=(i=lr.licenseManager)==null?void 0:i.call(lr,t),(n=this.licenseManager)==null||n.validateLicense(),this.licenseChecked=!0)}static getLicenseDetails(t){var i;return(i=lr.licenseManager)==null?void 0:i.call(lr,{}).getLicenseDetails(t)}static getInstance(t){return x4.getInstance(t)}static create(t,i){return mc.group("AgCharts.create()",()=>{var s,r;t=ii.inDevelopmentMode(()=>jh(ji(t)))??t,this.licenseCheck(t);const n=x4.createOrUpdate({userOptions:t,licenseManager:this.licenseManager,optionsMetadata:i});return(s=this.licenseManager)!=null&&s.isDisplayWatermark()&&this.licenseManager&&((r=lr.injectWatermark)==null||r.call(lr,n.chart.ctx.domManager,this.licenseManager.getWatermarkMessage())),n})}static createFinancialChart(t){return mc.group("AgCharts.createFinancialChart()",()=>this.create(t,{presetType:"price-volume"}))}static createGauge(t){return mc.group("AgCharts.createGauge()",()=>this.create(t,{presetType:"gauge"}))}static __createSparkline(t){return mc.group("AgCharts.__createSparkline()",()=>{const{pool:i,...n}=t;return this.create(n,{presetType:"sparkline",pool:i??!0,domMode:"minimal"})})}};Ku.licenseChecked=!1;var ml=class Iu{static getInstance(t){const i=BM.getInstance(t);return i?qG.chartInstances.get(i):void 0}static initialiseModules(){Iu.initialised||(aAe(),lAe(),Iu.initialised=!0)}static createOrUpdate(t){var k,F,P,L,z;let{proxy:i}=t;const{userOptions:n,licenseManager:s,processedOverrides:r=((k=i==null?void 0:i.chart)==null?void 0:k.chartOptions.processedOverrides)??{},specialOverrides:o=((F=i==null?void 0:i.chart)==null?void 0:F.chartOptions.specialOverrides)??{},optionsMetadata:a=((P=i==null?void 0:i.chart)==null?void 0:P.chartOptions.optionMetadata)??{},deltaOptions:l,stripSymbols:u=!1}=t,d=lr.styles!=null?[["ag-charts-enterprise",lr.styles]]:[],{presetType:p}=a;Iu.initialiseModules(),mc(()=>[">>> AgCharts.createOrUpdate() user options",ji(n)]);let f=n;Ku.optionsMutationFn&&f&&(f=Ku.optionsMutationFn(ji(f),p),mc(()=>[">>> AgCharts.createOrUpdate() MUTATED user options",ji(f)]));const m=this.getPool(a);let y=!1,C,w=i==null?void 0:i.chart;w==null&&(m!=null&&m.hasFree())&&(C=m.obtainFree(),w=C.item);const{document:b,window:S,styleContainer:M,...D}=f??{},R=w==null?void 0:w.getChartOptions(),A=new pI(R,D,r,{...o,document:b,window:S,styleContainer:M},a,l,u);return(w==null||$r.detectChartDefinition(A.processedOptions)!==$r.detectChartDefinition(w.chartOptions.processedOptions))&&(C==null||C.release(),C=(L=this.getPool(A.optionMetadata))==null?void 0:L.obtain(A),C?w=C.item:(y=!0,w=Iu.createChartInstance(A,w))),d.forEach(([H,V])=>{w.ctx.domManager.addStyles(H,V)}),i==null?(i=new qG(w,Iu.callbackApi,s),i.releaseChart=C==null?void 0:C.release):(C||y)&&((z=i.releaseChart)==null||z.call(i),i.chart=w,i.releaseChart=C==null?void 0:C.release),mc.check()&&typeof window<"u"&&(window.agChartInstances??(window.agChartInstances={}),window.agChartInstances[w.id]=w),w.queuedUserOptions.push(A.userOptions),w.queuedChartOptions.push(A),w.requestFactoryUpdate(H=>{mc.group(">>>> Chart.applyOptions()",()=>{H.applyOptions(A);const V=H.queuedUserOptions.indexOf(A.userOptions)+1;H.queuedUserOptions.splice(0,V),H.queuedChartOptions.splice(0,V)})}),i}static markRemovedProperties(t,i,n=!1){if(typeof t!="object")return n;for(const s of Object.keys(t))typeof t[s]>"u"&&(Object.assign(t,{[s]:Symbol("UNSET")}),n||(n=!0));return n}static updateUserDelta(t,i){i=ji(i,pI.OPTIONS_CLONE_OPTS);const n=vc(i,Iu.markRemovedProperties,new Set(["data"]),void 0,void 0,!1);mc(()=>[">>> AgCharts.updateUserDelta() user delta",ji(i)]),Iu.createOrUpdate({proxy:t,deltaOptions:i,stripSymbols:n})}static createChartInstance(t,i){const n=i==null?void 0:i.destroy({keepTransferableResources:!0});return $r.detectChartDefinition(t.processedOptions).create(t,n)}static getPool(t){if(t.pool===!0)return EIe.getPool(t.presetType??"default",this.createChartInstance,this.detachAndClear,this.destroy,1/0)}};ml.caretaker=new a6(ex);ml.initialised=!1;ml.callbackApi={caretaker:ml.caretaker,create(e,t,i,n){return ml.createOrUpdate({userOptions:e,processedOverrides:t,specialOverrides:i,optionsMetadata:n})},update(e,t){return ml.createOrUpdate({userOptions:e,proxy:t})},updateUserDelta(e,t){return ml.updateUserDelta(e,t)}};ml.detachAndClear=e=>e.detachAndClear();ml.destroy=e=>e.destroy();var x4=ml,TIe={};_a(TIe,{Arc:()=>Gl,BBox:()=>Ue,Caption:()=>Zi,CategoryScale:()=>ib,Group:()=>dt,Line:()=>uo,LinearScale:()=>Ra,Marker:()=>ns,Path:()=>yr,RadialColumnShape:()=>oa,Rect:()=>er,Scene:()=>EM,Sector:()=>bs,Shape:()=>ea,TranslatableGroup:()=>ur,getRadialColumnWidth:()=>y8,toRadians:()=>Ki});var Gl=class extends yr{constructor(){super(),this.centerX=0,this.centerY=0,this.radius=10,this.startAngle=0,this.endAngle=Math.PI*2,this.counterClockwise=!1,this.type=0,this.restoreOwnStyles()}get fullPie(){return hl(Li(this.startAngle),Li(this.endAngle))}updatePath(){const e=this.path;e.clear(),e.arc(this.centerX,this.centerY,this.radius,this.startAngle,this.endAngle,this.counterClockwise),this.type===1?e.closePath():this.type===2&&!this.fullPie&&(e.lineTo(this.centerX,this.centerY),e.closePath())}computeBBox(){return new Ue(this.centerX-this.radius,this.centerY-this.radius,this.radius*2,this.radius*2)}isPointInPath(e,t){const i=this.getBBox();return this.type!==0&&i.containsPoint(e,t)&&this.path.isPointInPath(e,t)}};Gl.className="Arc";I([mt()],Gl.prototype,"centerX",2);I([mt()],Gl.prototype,"centerY",2);I([mt()],Gl.prototype,"radius",2);I([mt()],Gl.prototype,"startAngle",2);I([mt()],Gl.prototype,"endAngle",2);I([mt()],Gl.prototype,"counterClockwise",2);I([mt()],Gl.prototype,"type",2);function Z1(e,t,i){const n=Math.sqrt(e**2+t**2),r=Math.atan2(t,e)+i;return{x:Math.cos(r)*n,y:Math.sin(r)*n}}var oa=class extends yr{constructor(){super(...arguments),this.isBeveled=!0,this.columnWidth=0,this.startAngle=0,this.endAngle=0,this.outerRadius=0,this.innerRadius=0,this.axisInnerRadius=0,this.axisOuterRadius=0,this.isRadiusAxisReversed=!1}set cornerRadius(e){}computeBBox(){const{innerRadius:e,outerRadius:t,columnWidth:i}=this,n=this.getRotation(),s=-i/2,r=i/2,o=-t,a=-e;let l=1/0,u=1/0,d=-1/0,p=-1/0;for(let f=0;f<4;f+=1){const{x:m,y}=Z1(f%2===0?s:r,f<2?o:a,n);l=Math.min(m,l),u=Math.min(y,u),d=Math.max(m,d),p=Math.max(y,p)}return new Ue(l,u,d-l,p-u)}getRotation(){const{startAngle:e,endAngle:t}=this,i=gM(e,t);return Li(e+i/2+Math.PI/2)}updatePath(){const{isBeveled:e}=this;e?this.updateBeveledPath():this.updateRectangularPath(),this.checkPathDirty()}updateRectangularPath(){const{columnWidth:e,innerRadius:t,outerRadius:i,path:n}=this,s=-e/2,r=e/2,o=-i,a=-t,l=this.getRotation(),u=[[s,a],[s,o],[r,o],[r,a]].map(([d,p])=>Z1(d,p,l));n.clear(!0),n.moveTo(u[0].x,u[0].y),n.lineTo(u[1].x,u[1].y),n.lineTo(u[2].x,u[2].y),n.lineTo(u[3].x,u[3].y),n.closePath()}updateBeveledPath(){const{columnWidth:e,path:t,outerRadius:i,innerRadius:n,axisInnerRadius:s,axisOuterRadius:r,isRadiusAxisReversed:o}=this,a=hl(n,s),l=Math.asin(e/2/n),u=this.getRotation(),d=(F,P)=>Z1(F,P,u),p=(F,P)=>Math.sqrt(F**2+P**2),f=(F,P)=>P>F?0:Math.sqrt(F**2-P**2),m=(F,P,L)=>L?F<P:F>P,y=a&&!isNaN(l)&&l<Math.PI/6;let C=-e/2,w=e/2;const b=-i,S=-n*(y?Math.cos(l):1),M=m(r,p(n,e/2),!o);if(M){const F=f(r,n);C=-F,w=F}t.clear(!0);const D=d(C,S);t.moveTo(D.x,D.y);const R=hl(n,i),A=m(r,p(i,e/2),!o);if(R&&y)t.arc(0,0,n,Li(-l-Math.PI/2)+u,Li(l-Math.PI/2)+u,!1);else if(A){const F=-f(r,e/2),P=f(r,i);if(!M){const L=d(C,F);t.lineTo(L.x,L.y)}if(t.arc(0,0,r,Math.atan2(F,C)+u,Math.atan2(b,-P)+u,!1),!hl(P,0)){const L=d(P,b);t.lineTo(L.x,L.y)}t.arc(0,0,r,Math.atan2(b,P)+u,Math.atan2(F,w)+u,!1)}else{const F=d(C,b),P=d(w,b);t.lineTo(F.x,F.y),t.lineTo(P.x,P.y)}const k=d(w,S);if(t.lineTo(k.x,k.y),y)t.arc(0,0,n,Li(l-Math.PI/2)+u,Li(-l-Math.PI/2)+u,!0);else{const F=d(C,S);t.lineTo(F.x,F.y)}t.closePath()}};oa.className="RadialColumnShape";I([mt()],oa.prototype,"isBeveled",2);I([mt()],oa.prototype,"columnWidth",2);I([mt()],oa.prototype,"startAngle",2);I([mt()],oa.prototype,"endAngle",2);I([mt()],oa.prototype,"outerRadius",2);I([mt()],oa.prototype,"innerRadius",2);I([mt()],oa.prototype,"axisInnerRadius",2);I([mt()],oa.prototype,"axisOuterRadius",2);I([mt()],oa.prototype,"isRadiusAxisReversed",2);function y8(e,t,i,n,s){const r=gM(e,t),o=r*(1-n)/2;if(e+=o,t-=o,r<.001)return 2*i*s;if(r>=2*Math.PI){const m=e+r/2;e=m-Math.PI,t=m+Math.PI}const a=i*Math.cos(e),l=i*Math.sin(e),u=i*Math.cos(t),d=i*Math.sin(t),p=Math.floor(Math.sqrt((a-u)**2+(l-d)**2)),f=2*i*s;return Math.max(1,Math.min(f,p))}var AIe={};_a(AIe,{ChartTheme:()=>Oa,DEFAULT_ANNOTATION_HANDLE_FILL:()=>lb,DEFAULT_ANNOTATION_STATISTICS_COLOR:()=>db,DEFAULT_ANNOTATION_STATISTICS_DIVIDER_STROKE:()=>hb,DEFAULT_ANNOTATION_STATISTICS_DOWN_FILL:()=>rC,DEFAULT_ANNOTATION_STATISTICS_DOWN_STROKE:()=>oC,DEFAULT_ANNOTATION_STATISTICS_FILL:()=>cb,DEFAULT_ANNOTATION_STATISTICS_STROKE:()=>ub,DEFAULT_CAPTION_ALIGNMENT:()=>$u,DEFAULT_CAPTION_LAYOUT_STYLE:()=>Uu,DEFAULT_FIBONACCI_STROKES:()=>sC,DEFAULT_FINANCIAL_CHARTS_ANNOTATION_BACKGROUND_FILL:()=>qn,DEFAULT_FINANCIAL_CHARTS_ANNOTATION_COLOR:()=>gn,DEFAULT_GRIDLINE_ENABLED:()=>gl,DEFAULT_POLAR_SERIES_STROKE:()=>YM,DEFAULT_SEPARATION_LINES_COLOUR:()=>sb,DEFAULT_SHADOW_COLOUR:()=>xd,DEFAULT_SPARKLINE_CROSSHAIR_STROKE:()=>KM,DEFAULT_TEXTBOX_COLOR:()=>gb,DEFAULT_TEXTBOX_FILL:()=>pb,DEFAULT_TEXTBOX_STROKE:()=>fb,DEFAULT_TEXT_ANNOTATION_COLOR:()=>ab,DEFAULT_TOOLBAR_POSITION:()=>mb,IS_COMMUNITY:()=>vP,IS_DARK_THEME:()=>Zf,IS_ENTERPRISE:()=>CP,PALETTE_ALT_DOWN_FILL:()=>xP,PALETTE_ALT_DOWN_STROKE:()=>wP,PALETTE_ALT_NEUTRAL_FILL:()=>MP,PALETTE_ALT_NEUTRAL_STROKE:()=>$M,PALETTE_ALT_UP_FILL:()=>SP,PALETTE_ALT_UP_STROKE:()=>bP,PALETTE_DOWN_FILL:()=>ob,PALETTE_DOWN_STROKE:()=>WM,PALETTE_NEUTRAL_FILL:()=>UM,PALETTE_NEUTRAL_STROKE:()=>Og,PALETTE_UP_FILL:()=>rb,PALETTE_UP_STROKE:()=>VM,getChartTheme:()=>vx,resolveOperation:()=>LIe,themeNames:()=>IIe,themeSymbols:()=>yP,themes:()=>eF});var IIe=Object.keys(eF);function LIe(e){const t=Oa.getDefaultPublicParameters();t.__palette=Oa.getDefaultColors();const i={operation:e};return XS(i,t),i.operation}var kIe={};_a(kIe,{Color:()=>ci,interpolateColor:()=>S6});var PIe={};_a(PIe,{AND:()=>md,ARRAY:()=>pk,ARRAY_OF:()=>ss,AbstractBarSeries:()=>H$,AbstractBarSeriesProperties:()=>VP,ActionOnSet:()=>zr,AnchoredPopover:()=>w8,Animation:()=>R6,AnimationManager:()=>A6,Arc:()=>Gl,Axis:()=>Xk,AxisGroupZIndexMap:()=>wU,AxisInterval:()=>Mp,AxisLabel:()=>os,AxisTick:()=>Xg,AxisTickGenerator:()=>xU,AxisTicks:()=>tLe,BBox:()=>Ue,BBoxValues:()=>dM,BOOLEAN:()=>BW,BOOLEAN_ARRAY:()=>YSe,Background:()=>nm,BackgroundModule:()=>u$,BandScale:()=>ZC,BarSeries:()=>wb,BarSeriesModule:()=>W$,BaseModuleInstance:()=>uM,BaseProperties:()=>gt,BaseToolbar:()=>aF,ButtonWidget:()=>KC,COLOR_GRADIENT:()=>Nl,COLOR_PATTERN:()=>Bl,COLOR_STRING:()=>ao,COLOR_STRING_ARRAY:()=>mk,CachedTextMeasurer:()=>n6,CachedTextMeasurerPool:()=>Hc,Caption:()=>Zi,CartesianAxis:()=>JC,CartesianSeries:()=>Md,CartesianSeriesNodeEvent:()=>EP,CartesianSeriesProperties:()=>Xc,CategoryAxis:()=>Dp,CategoryScale:()=>ib,ChangeDetectableProperties:()=>hP,Chart:()=>BM,ChartAxisDirection:()=>Rk,ChartEventManager:()=>I6,ChartOptions:()=>pI,ChartUpdateType:()=>gv,CollapseMode:()=>E$,Color:()=>ci,ColorScale:()=>qg,ConicGradient:()=>PW,ContextMenuRegistry:()=>L6,ContinuousScale:()=>mi,DATE:()=>fk,DATE_ARRAY:()=>ZSe,DATE_OR_DATETIME_MS:()=>gk,DEFAULT_CARTESIAN_DIRECTION_KEYS:()=>Tp,DEFAULT_CARTESIAN_DIRECTION_NAMES:()=>Ap,DEFAULT_TOOLTIP_CLASS:()=>ps,DEFAULT_TOOLTIP_DARK_CLASS:()=>NU,DIRECTION:()=>cxe,DIRECTION_SWAP_AXES:()=>v$,DOMManager:()=>g6,DataController:()=>lU,DataModel:()=>oU,DataModelSeries:()=>RP,DataService:()=>TM,Debug:()=>ii,Deprecated:()=>PU,DeprecatedAndRenamedTo:()=>qEe,DragInterpreter:()=>O6,DraggablePopover:()=>S8,DropShadow:()=>Wa,ExtendedPath2D:()=>Tg,FILL_PATTERN_DEFAULTS:()=>cd,FONT_SIZE_RATIO:()=>mP,FONT_STYLE:()=>nxe,FONT_WEIGHT:()=>sxe,FUNCTION:()=>WSe,FillGradientDefaults:()=>sa,FillPatternDefaults:()=>vn,FloatingToolbar:()=>uLe,GREATER_THAN:()=>bM,Gradient:()=>yM,Group:()=>dt,GroupedCategoryAxis:()=>Rp,HdpiCanvas:()=>Fk,HierarchyNode:()=>XIe,HierarchySeries:()=>QIe,HierarchySeriesProperties:()=>Hl,HighlightManager:()=>k6,HighlightProperties:()=>pP,HighlightStyle:()=>nb,INTERACTION_RANGE:()=>dxe,INTERPOLATION_STEP_POSITION:()=>pTe,INTERPOLATION_TYPE:()=>hTe,Image:()=>fm,InteractionManager:()=>T6,InteractionState:()=>E6,InterpolationProperties:()=>om,Invalidating:()=>Kg,LABEL_PLACEMENT:()=>hxe,LARGEST_KEY_INTERVAL:()=>t$,LESS_THAN:()=>CM,LINE_CAP:()=>QSe,LINE_DASH:()=>txe,LINE_JOIN:()=>JSe,LINE_STYLE:()=>exe,Label:()=>rs,LayoutElement:()=>Ek,LayoutManager:()=>r6,LegendMarkerLabel:()=>ra,Line:()=>uo,LineSeries:()=>xb,LineSeriesModule:()=>q$,LinearGradient:()=>FW,LinearScale:()=>Ra,Listeners:()=>_c,LogScale:()=>dP,LonLatBBox:()=>JIe,MARKER_SHAPE:()=>J1e,MATCHING_CROSSLINE_TYPE:()=>Kk,MAX_SPACING:()=>fxe,MIN_SPACING:()=>pxe,Marker:()=>ns,Menu:()=>aLe,MercatorScale:()=>eLe,ModuleRegistry:()=>$r,Motion:()=>VA,NAN:()=>vM,NODE_UPDATE_STATE_TO_PHASE_MAPPING:()=>wa,NUMBER:()=>oo,NUMBER_ARRAY:()=>KSe,NUMBER_OR_NAN:()=>hk,NativeWidget:()=>Lg,NewAreaSeriesModule:()=>G$,NewBarSeriesModule:()=>U$,NewBubbleSeriesModule:()=>Y$,NewHistogramSeriesModule:()=>K$,NewLineSeriesModule:()=>Z$,NewScatterSeriesModule:()=>Q$,NiceMode:()=>yU,Node:()=>Fc,NumberAxis:()=>Kc,OBJECT:()=>NW,OBJECT_ARRAY:()=>XSe,OR:()=>Hs,OVERFLOW_STRATEGY:()=>lxe,ObserveChanges:()=>vd,OrdinalTimeScale:()=>Rc,PHASE_METADATA:()=>Jv,PHASE_ORDER:()=>Df,PLACEMENT:()=>uxe,PLAIN_OBJECT:()=>VSe,POSITION:()=>ixe,POSITION_TOP_COORDINATES:()=>ox,POSITIVE_NUMBER:()=>dk,PREV_NEXT_KEYS:()=>qf,Padding:()=>yd,ParallelStateMachine:()=>pEe,Path:()=>yr,PointerEvents:()=>EW,PolarAxis:()=>Ng,PolarSeries:()=>oD,PolarZIndexMap:()=>n8,Popover:()=>oF,PropertiesArray:()=>$C,ProxyInteractionService:()=>C6,ProxyOnWrite:()=>oMe,ProxyProperty:()=>xi,ProxyPropertyOnWrite:()=>vs,QUICK_TRANSITION:()=>tx,RATIO:()=>$Se,REAL_NUMBER:()=>USe,RENDER_TO_OFFSCREEN_CANVAS_THRESHOLD:()=>dx,RadialColumnShape:()=>oa,Range:()=>ja,Rect:()=>er,RepeatType:()=>D6,Rotatable:()=>Zg,RotatableGroup:()=>Ixe,RotatableText:()=>s6,SAFE_FILLS_OPERATION:()=>DP,SAFE_FILL_OPERATION:()=>sTe,SAFE_RANGE2_OPERATION:()=>rTe,SAFE_STROKE_FILL_OPERATION:()=>qM,SKIP_JS_BUILTINS:()=>ck,SMALLEST_KEY_INTERVAL:()=>e$,SORT_DOMAIN_GROUPS:()=>i$,STRING:()=>zW,STRING_ARRAY:()=>qSe,Scalable:()=>Ck,ScalableGroup:()=>Axe,Scene:()=>EM,SceneChangeDetection:()=>$e,ScenePathChangeDetection:()=>mt,Sector:()=>bs,SectorBox:()=>J$,Selection:()=>Bn,Series:()=>NM,SeriesContentZIndexMap:()=>LU,SeriesGroupingChangedEvent:()=>sP,SeriesItemHighlightStyle:()=>qc,SeriesMarker:()=>Cs,SeriesNodeEvent:()=>eb,SeriesNodePickMode:()=>kU,SeriesProperties:()=>ho,SeriesTooltip:()=>tr,SeriesZIndexMap:()=>IU,Shape:()=>ea,SimpleTextMeasurer:()=>Mk,SliderWidget:()=>Pk,StateMachine:()=>QC,StateMachineProperty:()=>hEe,StopProperties:()=>yk,SvgPath:()=>rF,TEXT_ALIGN:()=>oxe,TEXT_WRAP:()=>rxe,TICK_INTERVAL:()=>MEe,TempValidate:()=>O,Text:()=>is,TextUtils:()=>Ui,TextWrapper:()=>Dk,ThemeConstants:()=>h$,ThemeSymbols:()=>yP,TimeScale:()=>X6,Toolbar:()=>lLe,ToolbarButtonProperties:()=>Db,ToolbarButtonWidget:()=>x8,ToolbarWidget:()=>RM,Tooltip:()=>na,TooltipManager:()=>ix,TooltipPosition:()=>Uc,Transformable:()=>mn,TransformableText:()=>Ag,Translatable:()=>wp,TranslatableGroup:()=>ur,TranslatableLine:()=>lx,UNION:()=>vi,UpdateService:()=>tU,VERTICAL_ALIGN:()=>axe,Validate:()=>jSe,Vec2:()=>Rf,Vec4:()=>iC,WIDGET_HTML_EVENTS:()=>Sk,Widget:()=>zl,WidgetEventUtil:()=>Dc,ZIndexMap:()=>w6,ZoomManager:()=>J6,accumulateGroup:()=>n$,accumulateStack:()=>s$,accumulatedValue:()=>$U,accumulativeValueProperty:()=>nC,addHitTestersToQuadtree:()=>_P,adjustLabelPlacement:()=>V$,angleBetween:()=>gM,animationValidation:()=>em,applyShapeFillBBox:()=>OM,applyShapeStyle:()=>up,areScalingEqual:()=>Xf,area:()=>nI,autoSizedLabelOptionsDefs:()=>kTe,buildFormatter:()=>qC,buildResetPathFn:()=>OP,calculateDefaultTimeTickFormat:()=>U6,calculateDerivativeExtrema:()=>BA,calculateDerivativeExtremaXY:()=>VW,calculateLabelChartPadding:()=>gU,calculateLabelTranslation:()=>XA,calculatePlacement:()=>FU,cartesianAxisCrosshairOptions:()=>cm,cartesianAxisLabelOptionsDefs:()=>am,cartesianAxisOptionsDefs:()=>lm,cartesianChartOptionsDefs:()=>o8,cartesianCrossLineOptionsDefs:()=>B$,checkCrisp:()=>_$,clampArray:()=>UA,clippedRoundRect:()=>Kw,collapsedStartingBarPosition:()=>dC,commonAxisLabelOptionsDefs:()=>BP,commonAxisOptionsDefs:()=>QM,commonChartOptionsDefs:()=>vr,commonCrossLineLabelOptionsDefs:()=>NP,commonCrossLineOptionsDefs:()=>N$,commonSeriesOptionsDefs:()=>Ua,compareDates:()=>z6,computeBarFocusBounds:()=>UP,computeMarkerFocusBounds:()=>vb,continuousAxisOptions:()=>JM,countExpandingSearch:()=>F6,createButton:()=>iLe,createCheckbox:()=>nLe,createDatumId:()=>ys,createDeprecationWarning:()=>rP,createElementId:()=>Fxe,createIcon:()=>b8,createId:()=>ro,createSelect:()=>sLe,createTextArea:()=>rLe,dateToNumber:()=>qs,datesSortOrder:()=>Bk,datumKeys:()=>sx,datumStylerProperties:()=>Qu,deconstructSelectionsOrNodes:()=>AM,deepClone:()=>ji,deepFreeze:()=>jh,defaultTimeTickFormat:()=>Gk,diff:()=>tm,drawCorner:()=>Yy,drawMarkerUnitPolygon:()=>$y,easing:()=>VA,enterpriseModule:()=>lr,errorBarOptionsDefs:()=>eD,evaluateBezier:()=>YS,extent:()=>$c,extractDecoratedProperties:()=>AW,findMinMax:()=>zn,findQuadtreeMatch:()=>jP,findRangeExtent:()=>kg,fixNumericExtent:()=>Nr,flowProportionChartOptionsDefs:()=>gAe,focusCursorAtEnd:()=>kxe,formatNumber:()=>v6,formatPercent:()=>y6,formatValue:()=>Oc,fromToMotion:()=>fn,gaugeChartOptionsDefs:()=>mAe,generateUUID:()=>FA,getAngleRatioRadians:()=>LW,getColorStops:()=>_W,getCrossLineValue:()=>pU,getDateTicksForInterval:()=>_k,getDatumRefPoint:()=>Nk,getElementBBox:()=>qW,getIconClassNames:()=>SM,getLastFocus:()=>Ik,getMissCount:()=>jk,getPath:()=>Eg,getPathComponents:()=>rU,getRadialColumnWidth:()=>y8,getSequentialColors:()=>po,getShapeFill:()=>Wh,getShapeStyle:()=>xl,groupAccumulativeValueProperty:()=>Ju,groupAverage:()=>UU,groupCount:()=>iI,groupStackValueProperty:()=>JU,groupSum:()=>WU,hasNoModifiers:()=>DM,hierarchyChartOptionsDefs:()=>fAe,initMenuKeyNav:()=>d6,initRovingTabIndex:()=>u6,interpolatePoints:()=>hx,interpolationValidator:()=>HP,isAgFlowProportionChartOptions:()=>AU,isAgGaugeChartOptions:()=>nP,isAgHierarchyChartOptions:()=>EU,isAgStandaloneChartOptions:()=>iP,isAgTopologyChartOptions:()=>TU,isBetweenAngles:()=>Vu,isButtonClickEvent:()=>Ak,isContinuous:()=>kM,isDecoratedObject:()=>UC,isDenseInterval:()=>Fg,isGradientFill:()=>Pa,isGradientOrPatternFill:()=>Txe,isInputPending:()=>ZW,isPatternFill:()=>ap,isProperties:()=>Ll,isScaleValid:()=>lC,jsonApply:()=>pv,jsonDiff:()=>kl,jsonPropertyCompare:()=>XW,jsonResolveOperations:()=>XS,jsonWalk:()=>vc,keyProperty:()=>Da,labelDirectionHandling:()=>mU,legendSymbolSvg:()=>OU,lineDistanceSquared:()=>hv,listDecoratedProperties:()=>Xu,makeAccessibleClickListener:()=>FMe,mapValues:()=>IW,markerFadeInAnimation:()=>cC,markerOptionsDefs:()=>Cb,markerScaleInAnimation:()=>kP,markerSwipeScaleInAnimation:()=>PP,merge:()=>qv,mergeArrayDefaults:()=>US,mergeDefaults:()=>Vt,midpointStartingBarPosition:()=>OTe,moduleRegistry:()=>Sl,motion:()=>hLe,nearestSquared:()=>pM,nearestSquaredInContainer:()=>MSe,normaliseGroupTo:()=>GM,normalisePropertyTo:()=>Uh,normalisedExtentWithMetadata:()=>lP,normalizeAngle180:()=>Zv,normalizeAngle360:()=>Li,normalizeAngle360Inclusive:()=>zSe,numberFormatValidator:()=>XM,objectsEqual:()=>Il,objectsEqualWith:()=>lk,pairUpSpans:()=>vv,partialAssign:()=>NA,pathFadeInAnimation:()=>px,pathMotion:()=>ux,pathSwipeInAnimation:()=>FP,pickByMatchingAngle:()=>XP,plotAreaPathFill:()=>P$,plotInterpolatedAreaSeriesFillSpans:()=>Zw,plotInterpolatedLinePathStroke:()=>qw,plotLinePathStroke:()=>AP,polarChartOptionsDefs:()=>a8,predicateWithMessage:()=>yi,prepareAreaFillAnimationFns:()=>F$,prepareAreaPathAnimation:()=>O$,prepareAxisAnimationContext:()=>ax,prepareAxisAnimationFunctions:()=>vU,prepareBarAnimationFunctions:()=>hC,prepareLinePathAnimation:()=>k$,prepareLinePathPropertyAnimation:()=>LP,prepareLinePathStrokeAnimationFns:()=>IP,preparePieSeriesAnimationFunctions:()=>$h,range:()=>tC,rangedValueProperty:()=>cP,resetAxisGroupFn:()=>CU,resetAxisLabelSelectionFn:()=>Zk,resetAxisLineSelectionFn:()=>bU,resetAxisSelectionFn:()=>qk,resetBarSelectionsFn:()=>pC,resetIds:()=>ESe,resetLabelFn:()=>Zc,resetMarkerFn:()=>yb,resetMarkerPositionFn:()=>uC,resetMotion:()=>hs,resetPieSelectionsFn:()=>ZP,rowCountProperty:()=>XU,scale:()=>Ys,sectorBox:()=>e8,seriesLabelFadeInAnimation:()=>si,seriesLabelFadeOutAnimation:()=>Yu,seriesLabelOptionsDefs:()=>Dd,setAttribute:()=>Mi,setAttributes:()=>lp,setElementBBox:()=>ZS,setElementStyle:()=>ba,setPath:()=>uk,shadowOptionsDefs:()=>bb,shallowClone:()=>wk,solveBezier:()=>KS,sortAndUniqueDates:()=>$A,splitBezier:()=>qS,standaloneChartOptionsDefs:()=>pAe,staticFromToMotion:()=>jc,stopPageScrolling:()=>h6,sum:()=>b1e,sumValues:()=>zM,toDegrees:()=>GSe,toRadians:()=>Ki,toolbarButtonOptionsDefs:()=>cI,tooltipContentAriaLabel:()=>zU,tooltipHtml:()=>HU,tooltipOptionsDefs:()=>Qc,topologyChartOptionsDefs:()=>hAe,trailingAccumulatedValue:()=>YU,trailingAccumulatedValueProperty:()=>M1e,updateClipPath:()=>fx,updateLabelNode:()=>j$,validateCrossLineValue:()=>fU,valueProperty:()=>Wt,visibleRangeIndices:()=>P6,without:()=>ad});var Rf={add:FIe,angle:HIe,apply:qIe,equal:YIe,distance:BIe,distanceSquared:zIe,from:KIe,gradient:jIe,intercept:VIe,intersectAtX:UIe,intersectAtY:WIe,length:nF,lengthSquared:NIe,multiply:OIe,normalized:GIe,origin:v8,required:ZIe,rotate:_Ie,round:$Ie,sub:iF};function FIe(e,t){return typeof t=="number"?{x:e.x+t,y:e.y+t}:{x:e.x+t.x,y:e.y+t.y}}function iF(e,t){return typeof t=="number"?{x:e.x-t,y:e.y-t}:{x:e.x-t.x,y:e.y-t.y}}function OIe(e,t){return typeof t=="number"?{x:e.x*t,y:e.y*t}:{x:e.x*t.x,y:e.y*t.y}}function nF(e){return Math.sqrt(e.x*e.x+e.y*e.y)}function NIe(e){return e.x*e.x+e.y*e.y}function BIe(e,t){const i=iF(e,t);return Math.sqrt(i.x*i.x+i.y*i.y)}function zIe(e,t){const i=iF(e,t);return i.x*i.x+i.y*i.y}function GIe(e){const t=nF(e);return{x:e.x/t,y:e.y/t}}function HIe(e,t){return t==null?Math.atan2(e.y,e.x):Math.atan2(e.y,e.x)-Math.atan2(t.y,t.x)}function _Ie(e,t,i=v8()){const n=nF(e);return{x:i.x+n*Math.cos(t),y:i.y+n*Math.sin(t)}}function jIe(e,t,i){const n=t.x-e.x;return(i==null?t.y-e.y:i-t.y-(i-e.y))/n}function VIe(e,t,i){return(i==null?e.y:i-e.y)-t*e.x}function WIe(e,t,i=0,n){return{x:e===1/0?1/0:(i-t)/e,y:n==null?i:n-i}}function UIe(e,t,i=0,n){const s=e===1/0?1/0:e*i+t;return{x:i,y:n==null?s:n-s}}function $Ie(e,t=2){return{x:Yz(e.x,t),y:Yz(e.y,t)}}function YIe(e,t){return e.x===t.x&&e.y===t.y}function KIe(e,t){if(typeof e=="number")return{x:e,y:t};if("currentX"in e)return{x:e.currentX,y:e.currentY};if("offsetWidth"in e)return{x:e.offsetWidth,y:e.offsetHeight};if("width"in e)return[{x:e.x,y:e.y},{x:e.x+e.width,y:e.y+e.height}];if("x1"in e)return[{x:e.x1,y:e.y1},{x:e.x2,y:e.y2}];throw new Error(`Values can not be converted into a vector: [${JSON.stringify(e)}] [${t}]`)}function qIe(e,t){return e.x=t.x,e.y=t.y,e}function ZIe(e){return{x:(e==null?void 0:e.x)??0,y:(e==null?void 0:e.y)??0}}function v8(){return{x:0,y:0}}var C8=class Xw{constructor(t,i,n,s,r,o,a,l,u){this.series=t,this.datumIndex=i,this.datum=n,this.sizeValue=s,this.colorValue=r,this.sumSize=o,this.depth=a,this.parent=l,this.children=u,this.midPoint={x:0,y:0}}get hasChildren(){return this.children.length>0}walk(t,i=Xw.Walk.PreOrder){i===Xw.Walk.PreOrder&&t(this),this.children.forEach(n=>{n.walk(t,i)}),i===Xw.Walk.PostOrder&&t(this)}*[Symbol.iterator](){yield this;for(const t of this.children)yield*t}};C8.Walk={PreOrder:0,PostOrder:1};var XIe=C8,QIe=class extends NM{constructor(e){super({moduleCtx:e,pickModes:[1,0]}),this.colorDomain=[0,0],this.maxDepth=0,this.colorScale=new qg,this.animationState=new QC("empty",{empty:{update:{target:"ready",action:t=>this.animateEmptyUpdateReady(t)},reset:"empty",skip:"ready"},ready:{updateData:"waiting",clear:"clearing",highlight:t=>this.animateReadyHighlight(t),resize:t=>this.animateReadyResize(t),reset:"empty",skip:"ready"},waiting:{update:{target:"ready",action:t=>this.animateWaitingUpdateReady(t)},reset:"empty",skip:"ready"},clearing:{update:{target:"empty",action:t=>this.animateClearingUpdateEmpty(t)},reset:"empty",skip:"ready"}},()=>this.checkProcessedDataAnimatable())}resetAnimation(e){e==="initial"?this.animationState.transition("reset"):e==="ready"&&this.animationState.transition("skip")}processData(){const{NodeClass:e}=this,{childrenKey:t,sizeKey:i,colorKey:n,colorRange:s}=this.properties;let r=0,o=1/0,a=-1/0;const l=(f,m,y)=>{const C=y.depth!=null?y.depth+1:0,w=t!=null?f[t]:void 0,b=w==null||w.length===0;let S=i!=null?f[i]:void 0;Number.isFinite(S)?S=Math.max(S,0):S=b?1:0;const M=S;r=Math.max(r,C);const D=n!=null?f[n]:void 0;return typeof D=="number"&&(o=Math.min(o,D),a=Math.max(a,D)),u(new e(this,m,f,S,D,M,C,y,[]),w)},u=(f,m)=>{const{datumIndex:y}=f;return m==null||m.forEach((C,w)=>{const b=l(C,y.concat(w),f);f.children.push(b),f.sumSize+=b.sumSize}),f},d=u(new e(this,[],void 0,0,void 0,0,void 0,void 0,[]),this.data),p=[o,a];this.colorScale.domain=o<a?[o,a]:[0,1],this.colorScale.range=s??["black"],this.colorScale.update(),this.rootNode=d,this.maxDepth=r,this.colorDomain=p}update({seriesRect:e}){this.updateSelections(),this.updateNodes();const t=this.getAnimationData();this.checkResize(e)&&this.animationState.transition("resize",t),this.animationState.transition("update",t)}resetAllAnimation(e){this.ctx.animationManager.stopByAnimationGroupId(this.id)}animateEmptyUpdateReady(e){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation(e)}animateWaitingUpdateReady(e){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation(e)}animateReadyHighlight(e){}animateReadyResize(e){this.resetAllAnimation(e)}animateClearingUpdateEmpty(e){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation(e)}getAnimationData(){return{}}isProcessedDataAnimatable(){return!0}checkProcessedDataAnimatable(){this.isProcessedDataAnimatable()||this.ctx.animationManager.skipCurrentBatch()}getSeriesDomain(){return[NaN,NaN]}getSeriesRange(e,t){return[NaN,NaN]}getLegendData(e){const{colorKey:t,colorName:i,colorRange:n}=this.properties,{id:s,ctx:{legendManager:r},visible:o}=this;return e==="gradient"&&t!=null&&n!=null?[{legendType:"gradient",enabled:o&&r.getItemEnabled({seriesId:s}),seriesId:s,colorName:i,colorRange:n,colorDomain:this.colorDomain}]:[]}getDatumIdFromData(e){return e.datumIndex.join(":")}getDatumId(e){return this.getDatumIdFromData(e)}removeMeIndexPathForIndex(e){var t;return((t=this.datumSelection.at(e+1))==null?void 0:t.datum.datumIndex)??[]}removeMeIndexForIndexPath(e){for(const{index:t,datum:i}of this.datumSelection)if(wl(i.datumIndex,e))return t-1;return 0}pickFocus(e){var l;if(!((l=this.rootNode)!=null&&l.children.length))return;const t=ft(0,e.datumIndex-e.datumIndexDelta,this.datumSelection.length-1),{datumIndexDelta:i,otherIndexDelta:n}=e;let s=this.removeMeIndexPathForIndex(t);const r=s.reduce((u,d)=>u.children[d],this.rootNode);if(n>0&&r.hasChildren)s=[...s,0];else if(n<0&&s.length>1)s=s.slice(0,-1);else if(n===0&&i!==0){const u=r.parent.children.length-1;s=s.slice(),s[s.length-1]=ft(0,s[s.length-1]+i,u)}const o=s.reduce((u,d)=>u.children[d],this.rootNode),a=this.computeFocusBounds(this.datumSelection.at(t+1));if(a!=null)return{datum:o,datumIndex:this.removeMeIndexForIndexPath(s),otherIndex:o.depth,bounds:a,clipFocusBox:!0}}getDatumAriaText(e,t){if(!(e instanceof this.NodeClass)){De.error(`datum is not HierarchyNode: ${JSON.stringify(e)}`);return}return this.ctx.localeManager.t("ariaAnnounceHierarchyDatum",{level:(e.depth??-1)+1,count:e.children.length,description:t})}getCategoryValue(e){}datumIndexForCategoryValue(e){}},Hl=class extends ho{constructor(){super(...arguments),this.childrenKey="children",this.fills=Object.values(Rn),this.fillGradientDefaults=new sa,this.fillPatternDefaults=new vn,this.strokes=Object.values(rl)}};I([O()],Hl.prototype,"childrenKey",2);I([O()],Hl.prototype,"sizeKey",2);I([O()],Hl.prototype,"colorKey",2);I([O()],Hl.prototype,"colorName",2);I([O(ss(Hs(Nl,Bl,ao)))],Hl.prototype,"fills",2);I([O()],Hl.prototype,"fillGradientDefaults",2);I([O()],Hl.prototype,"fillPatternDefaults",2);I([O()],Hl.prototype,"strokes",2);I([O()],Hl.prototype,"colorRange",2);var JIe=class{constructor(e,t,i,n){this.lon0=e,this.lat0=t,this.lon1=i,this.lat1=n}merge(e){this.lon0=Math.min(this.lon0,e.lon0),this.lat0=Math.min(this.lat0,e.lat0),this.lon1=Math.max(this.lon1,e.lon1),this.lat1=Math.max(this.lat1,e.lat1)}},hD=Math.PI/180,X1=e=>e*hD,Q1=e=>-Math.log(Math.tan(Math.PI*.25+e*hD*.5)),J1=e=>e/hD,eT=e=>(Math.atan(Math.exp(-e))-Math.PI*.25)/(hD*.5),eLe=class fI extends mM{constructor(t,i){super(),this.domain=t,this.range=i,this.type="mercator",this.bounds=fI.bounds(t)}static bounds(t){const[[i,n],[s,r]]=t,o=X1(i),a=Q1(n),l=X1(s),u=Q1(r);return new Ue(Math.min(o,l),Math.min(a,u),Math.abs(l-o),Math.abs(u-a))}static fixedScale(){return new fI([[J1(0),eT(0)],[J1(1),eT(1)]],[[0,0],[1,1]])}toDomain(){}normalizeDomains(...t){let i=-1/0,n=1/0,s=-1/0,r=1/0;for(const o of t)for(const[a,l]of o)i=Math.min(a,i),n=Math.max(a,n),s=Math.min(l,s),r=Math.max(l,r);return{domain:[[i,s],[n,r]],animatable:!0}}convert([t,i]){const[[n,s],[r,o]]=this.range,a=(r-n)/this.bounds.width,l=(o-s)/this.bounds.height;return[(X1(t)-this.bounds.x)*a+n,(Q1(i)-this.bounds.y)*l+s]}invert([t,i]){const[[n,s],[r,o]]=this.range,a=(r-n)/this.bounds.width,l=(o-s)/this.bounds.height;return[J1((t-n)/a+this.bounds.x),eT((i-s)/l+this.bounds.y)]}},sF=class gI{constructor(){this.id=ro(this),this.axisGroup=new ur({name:`${this.id}-AxisTicks`,zIndex:2}),this.labelSelection=Bn.select(this.axisGroup,is),this.interval=new Mp,this.label=new os,this.scale=new Ra,this.position="bottom",this.translationX=0,this.translationY=0,this.padding=0}attachAxis(t){t.appendChild(this.axisGroup)}calculateLayout(){const t=[],i=this.generateTicks(),{translationX:n,translationY:s}=this;return this.labelSelection.update(i.ticks.map(r=>this.createLabelDatum(r)),void 0,r=>r.tickId),this.labelSelection.each((r,o)=>{r.setProperties(o),o.visible&&t.push(r.getBBox())}),this.axisGroup.setProperties({translationX:n,translationY:s}),t.length>0?Ue.merge(t):void 0}getLabelParams(t){const{padding:i}=this,{translate:n}=t;switch(this.position){case"top":case"bottom":return{x:n,y:i,textAlign:"center",textBaseline:"top"};case"left":case"right":return{x:i,y:n,textAlign:"start",textBaseline:"middle"}}}inRange(t,i=.001){const[n,s]=zn(this.scale.range);return t>=n-i&&t<=s+i}createLabelDatum(t){const{x:i,y:n,textBaseline:s,textAlign:r}=this.getLabelParams(t);return{visible:!!t.tickLabel,tickId:t.tickId,fill:this.label.color,fontFamily:this.label.fontFamily,fontSize:this.label.fontSize,fontStyle:this.label.fontStyle,fontWeight:this.label.fontWeight,rotation:0,rotationCenterX:0,text:t.tickLabel,textAlign:r,textBaseline:s,x:i,y:n}}generateTicks(){const{minSpacing:t,maxSpacing:i}=this.interval,{maxTickCount:n,minTickCount:s,tickCount:r}=Z6(kg(this.scale.range),1,t,i,gI.DefaultTickCount,gI.DefaultMinSpacing),o=this.getTicksData({nice:!0,interval:this.interval.step,tickCount:r,minTickCount:s,maxTickCount:n});if(this.position==="bottom"||this.position==="top"){const a=Hc.getMeasurer({font:this.label}),{domain:l}=this.scale,d=l[0]>l[1]?-1:1;let p=-1/0*d;o.ticks=o.ticks.filter(f=>Math.sign(f.translate-p)!==d?!1:(p=f.translate+a.textWidth(f.tickLabel,!0)*d,!0))}return o}getTicksData(t){var u,d;const i=[],n=t.nice?this.scale.niceDomain(t):this.scale.domain,s=this.scale.ticks(t,n),r=s.reduce((p,f)=>Math.max(p,rk(f)),0),o=[],a=Qk(),l=this.label.format?this.scale.tickFormatter({domain:n,ticks:s,fractionDigits:r,specifier:this.label.format}):p=>Oc(p,r);for(let p=0;p<s.length;p++){const f=s[p],m=this.scale.convert(f);if(!this.inRange(m))continue;const y=((d=(u=this.label).formatter)==null?void 0:d.call(u,{value:f,index:p,domain:n,fractionDigits:r,boundSeries:o}))??l(f),C=a(y);i.push({tick:f,tickId:C,tickLabel:y,translate:m})}return{rawTicks:s,fractionDigits:r,ticks:i}}};sF.DefaultTickCount=5;sF.DefaultMinSpacing=10;var tLe=sF;function iLe(e,t){const i=Ot("button",pD("ag-charts-input ag-charts-button",t));return e.label!==void 0?i.append(e.label):(i.append(b8(e.icon)),i.ariaLabel=e.altText),i.addEventListener("click",e.onPress),lp(i,t),i}function nLe(e,t){const i=Ot("input",pD("ag-charts-input ag-charts-checkbox",t));return i.type="checkbox",i.checked=e.checked,i.addEventListener("change",n=>e.onChange(i.checked,n)),i.addEventListener("keydown",n=>{Ak(n)&&(n.preventDefault(),i.click())}),lp(i,t),i}function sLe(e,t){const i=Ot("select",pD("ag-charts-input ag-charts-select",t));return i.append(...e.options.map(n=>{const s=Ot("option");return s.value=n.value,s.textContent=n.label,s})),Mi(i,"data-preventdefault",!1),i.value=e.value,i.addEventListener("change",n=>e.onChange(i.value,n)),lp(i,t),i}function rLe(e,t){const i=Ot("textarea",pD("ag-charts-input ag-charts-textarea",t));return i.value=e.value,i.addEventListener("input",n=>e.onChange(i.value,n)),lp(i,t),Mi(i,"data-preventdefault",!1),i}function b8(e){const t=Ot("span",`ag-charts-icon ag-charts-icon-${e}`);return Mi(t,"aria-hidden",!0),t}function pD(e,t){return t==null?e:`${e} ${t.class}`}var rF=class extends yr{constructor(e=""){super(),this.x=0,this.y=0,this.commands=[],this._d="",this.d=e}get d(){return this._d}set d(e){if(e!==this._d){this._d=e,this.commands.length=0;for(const[t,i,n]of e.matchAll(/([A-Z])([0-9. ]*)/g)){const s=n.split(/\s+/g).map(Number);this.commands.push([i,s])}this.checkPathDirty()}}updatePath(){const{path:e,x:t,y:i}=this;e.clear();let n=t,s=i;for(const[r,o]of this.commands)switch(r){case"M":e.moveTo(t+o[0],i+o[1]),n=t+o[0];break;case"C":e.cubicCurveTo(t+o[0],i+o[1],t+o[2],i+o[3],t+o[4],i+o[5]),n=t+o[4],s=i+o[5];break;case"H":e.lineTo(t+o[0],s),n=i+o[0];break;case"L":e.lineTo(t+o[0],i+o[1]),n=t+o[0],s=i+o[1];break;case"V":e.lineTo(n,i+o[0]),s=i+o[0];break;case"Z":e.closePath();break;default:throw new Error(`Could not translate command '${r}' with '${o.join(" ")}'`)}e.closePath()}};I([mt()],rF.prototype,"x",2);I([mt()],rF.prototype,"y",2);var fm=class extends Fc{constructor(t){super(),this.sourceImage=t,this.x=0,this.y=0,this.width=0,this.height=0,this.opacity=1}render(t){const{ctx:i}=t,n=this.sourceImage;n&&(i.globalAlpha=this.opacity,i.drawImage(n,0,0,n.width,n.height,this.x,this.y,this.width,this.height)),super.render(t)}};I([$e()],fm.prototype,"x",2);I([$e()],fm.prototype,"y",2);I([$e()],fm.prototype,"width",2);I([$e()],fm.prototype,"height",2);I([$e()],fm.prototype,"opacity",2);var oLe={};_a(oLe,{ButtonWidget:()=>KC,NativeWidget:()=>Lg,SliderWidget:()=>Pk,ToolbarWidget:()=>RM,WIDGET_HTML_EVENTS:()=>Sk,Widget:()=>zl,WidgetEventUtil:()=>Dc});var M4="canvas-overlay",oF=class extends uM{constructor(e,t,i){super(),this.ctx=e,this.hideFns=[],this.moduleId=`popover-${t}`,i!=null&&i.detached?this.element=Ot("div"):this.element=e.domManager.addChild(M4,this.moduleId),this.element.setAttribute("role","presentation"),this.destroyFns.push(()=>e.domManager.removeChild(M4,this.moduleId))}attachTo(e){this.element.parentElement||e.element.append(this.element)}hide(e){const{lastFocus:t=this.lastFocus}=e??{};this.element.children.length!==0&&(this.hideFns.forEach(i=>i()),t==null||t.focus(),this.lastFocus=void 0)}removeChildren(){this.element.replaceChildren()}showWithChildren(e,t){if(!this.element.parentElement)throw new Error("Can not show popover that has not been attached to a parent.");const i=Ot("div","ag-charts-popover");if(t.ariaLabel!=null&&i.setAttribute("aria-label",t.ariaLabel),t.class!=null&&i.classList.add(t.class),i.replaceChildren(...e),this.element.replaceChildren(i),this.hideFns.push(()=>this.removeChildren()),t.onHide&&this.hideFns.push(t.onHide),t.initialFocus&&t.sourceEvent){const n=Ik(t.sourceEvent);n!==void 0&&(this.lastFocus=n,this.initialFocus=t.initialFocus)}return i}getPopoverElement(){return this.element.firstElementChild}updatePosition(e){var i;const t=this.getPopoverElement();t&&(t.style.setProperty("right","unset"),t.style.setProperty("bottom","unset"),e.x!=null&&t.style.setProperty("left",`${Math.floor(e.x)}px`),e.y!=null&&t.style.setProperty("top",`${Math.floor(e.y)}px`),(i=this.initialFocus)==null||i.focus(),this.initialFocus=void 0)}},w8=class extends oF{setAnchor(e,t){this.anchor=e,this.fallbackAnchor=t,this.updatePosition(e),this.repositionWithinBounds()}showWithChildren(e,t){const i=t.anchor??this.anchor,n=t.fallbackAnchor??this.fallbackAnchor,s=super.showWithChildren(e,t);return i&&this.setAnchor(i,n),Di().requestAnimationFrame(()=>{this.repositionWithinBounds()}),s}repositionWithinBounds(){const{anchor:e,ctx:t,fallbackAnchor:i}=this,n=this.getPopoverElement();if(!e||!n)return;const s=t.domManager.getBoundingClientRect(),{offsetWidth:r,offsetHeight:o}=n;let a=ft(0,e.x,s.width-r),l=ft(0,e.y,s.height-o);a!==e.x&&(i==null?void 0:i.x)!=null&&(a=ft(0,i.x-r,s.width-r)),l!==e.y&&(i==null?void 0:i.y)!=null&&(l=ft(0,i.y-o,s.height-o)),this.updatePosition({x:a,y:l})}},aLe=class extends w8{show(e){const t=e.items.map(n=>this.createRow(e,n)),i=this.showWithChildren(t,e);i.classList.add("ag-charts-menu"),i.setAttribute("role","menu"),this.menuCloser=d6({orientation:"vertical",menu:i,buttons:t,sourceEvent:e.sourceEvent,closeCallback:()=>this.hide()}),this.hideFns.push(()=>{var n;(n=this.menuCloser)==null||n.finishClosing(),this.menuCloser=void 0})}createRow(e,t){const{menuItemRole:i="menuitem"}=e,n=t.value===e.value,s=Ot("div","ag-charts-menu__row");if(s.setAttribute("role",i),i==="menuitemradio"&&s.setAttribute("aria-checked",(e.value===t.value).toString()),typeof t.value=="string"&&(s.dataset.popoverId=t.value),s.classList.toggle("ag-charts-menu__row--active",n),t.icon!=null){const l=Ot("span",`ag-charts-menu__icon ${SM(t.icon)}`);s.appendChild(l)}const r=t.strokeWidth!=null;if(r&&(s.classList.toggle("ag-charts-menu__row--stroke-width-visible",r),s.style.setProperty("--strokeWidth",r?`${t.strokeWidth}px`:null)),t.label!=null){const l=Ot("span","ag-charts-menu__label");l.textContent=this.ctx.localeManager.t(t.label),s.appendChild(l)}"altText"in t&&(s.ariaLabel=this.ctx.localeManager.t(t.altText));const o=()=>{var l;(l=e.onPress)==null||l.call(e,t)},a=l=>{Ak(l)&&(o(),l.preventDefault(),l.stopPropagation())};return s.addEventListener("keydown",a),s.addEventListener("click",a),s.addEventListener("mousemove",()=>{s.focus({preventScroll:!0})}),s}},S8=class extends oF{constructor(){super(...arguments),this.dragged=!1}setDragHandle(e){e.addListener("drag-start",t=>{e.addClass(this.dragHandleDraggingClass),this.onDragStart(t)}),e.addListener("drag-move",this.onDragMove.bind(this)),e.addListener("drag-end",()=>{e.removeClass(this.dragHandleDraggingClass),this.onDragEnd.bind(this)})}onDragStart(e){const t=this.getPopoverElement();t&&(e.sourceEvent.preventDefault(),this.dragged=!0,this.dragStartState={client:Rf.from(e.clientX,e.clientY),position:Rf.from(Number(t.style.getPropertyValue("left").replace("px","")),Number(t.style.getPropertyValue("top").replace("px","")))})}onDragMove(e){const{dragStartState:t}=this,i=this.getPopoverElement();if(!t||!i)return;const n=Rf.sub(Rf.from(e.clientX,e.clientY),t.client),s=Rf.add(t.position,n),r=this.ctx.domManager.getBoundingClientRect(),o={};s.x>=0&&s.x+i.offsetWidth<=r.width&&(o.x=s.x),s.y>=0&&s.y+i.offsetHeight<=r.height&&(o.y=s.y),this.updatePosition(o)}onDragEnd(){this.dragStartState=void 0}},Db=class extends gt{};I([O()],Db.prototype,"icon",2);I([O()],Db.prototype,"label",2);I([O()],Db.prototype,"ariaLabel",2);I([O()],Db.prototype,"tooltip",2);var x8=class extends KC{constructor(e){super(),this.localeManager=e}update(e){const{localeManager:t}=this;e.tooltip&&(this.elem.title=t.t(e.tooltip));let i="";if(e.icon!=null&&(i=`<span class="${SM(e.icon)} ag-charts-toolbar__icon"></span>`),e.label!=null){const n=t.t(e.label);i=`${i}<span class="ag-charts-toolbar__label">${n}</span>`}this.elem.innerHTML=i}setChecked(e){Mi(this.elem,"aria-checked",e)}},D4="ag-charts-toolbar__button--active",aF=class extends RM{constructor(e,t="horizontal"){super(t),this.localeManager=e,this.horizontalSpacing=10,this.verticalSpacing=10,this.events=new _c,this.hasPrefix=!1,this.buttonWidgets=[],this.addClass("ag-charts-toolbar"),this.toggleClass("ag-charts-toolbar--horizontal",t==="horizontal"),this.toggleClass("ag-charts-toolbar--vertical",t==="vertical")}addToolbarListener(e,t){return this.events.addListener(e,t)}clearButtons(){for(const e of this.buttonWidgets)e.destroy();this.buttonWidgets.splice(0)}updateButtons(e){const{buttonWidgets:t}=this;for(const[i,n]of e.entries())(this.buttonWidgets.at(i)??this.createButton(i,n)).update(n);for(let i=e.length;i<t.length;i++){const n=this.buttonWidgets.at(i);n==null||n.destroy()}this.buttonWidgets.splice(e.length),this.refreshButtonClasses()}updateButtonByIndex(e,t){var i;(i=this.buttonWidgets.at(e))==null||i.update(t)}clearActiveButton(){for(const e of this.buttonWidgets)e.toggleClass(D4,!1)}toggleActiveButtonByIndex(e){if(e!==-1)for(const[t,i]of this.buttonWidgets.entries())i.toggleClass(D4,e!=null&&e===t)}toggleButtonEnabledByIndex(e,t){var i;e!==-1&&((i=this.buttonWidgets.at(e))==null||i.setEnabled(t))}toggleSwitchCheckedByIndex(e,t){var i;e!==-1&&((i=this.buttonWidgets.at(e))==null||i.setChecked(t))}getButtonBounds(){return this.buttonWidgets.map(e=>this.getButtonWidgetBounds(e))}setButtonHiddenByIndex(e,t){var i;(i=this.buttonWidgets.at(e))==null||i.setHidden(t)}getButtonWidgetBounds(e){const t=this.getBounds(),i=e.getBounds();return new Ue(i.x+t.x,i.y+t.y,i.width,i.height)}refreshButtonClasses(){var r;const{buttonWidgets:e,hasPrefix:t}=this;let i,n,s;for(const[o,a]of e.entries())i=!t&&o===0||s!=a.section,n=o===e.length-1||a.section!=((r=e.at(o+1))==null?void 0:r.section),a.toggleClass("ag-charts-toolbar__button--first",i),a.toggleClass("ag-charts-toolbar__button--last",n),a.toggleClass("ag-charts-toolbar__button--gap",o>0&&i),s=a.section}createButton(e,t){const i=this.createButtonWidget();return i.addClass("ag-charts-toolbar__button"),i.addListener("click",n=>{const s={index:e,...t instanceof gt?t.toJson():t},r=this.getButtonWidgetBounds(i);this.events.dispatch("button-pressed",{event:n,button:s,buttonBounds:r})}),i.addListener("focus",()=>{this.events.dispatch("button-focused",{button:{index:e}})}),t.section&&(i.section=t.section),this.buttonWidgets.push(i),this.addChild(i),i}},lLe=class extends aF{createButtonWidget(){return new x8(this.localeManager)}},cLe=class extends S8{constructor(e,t,i){super(e,t),this.onPopoverMoved=i,this.dragHandleDraggingClass="ag-charts-floating-toolbar__drag-handle--dragging"}show(e,t={}){this.showWithChildren(e,{...t,class:"ag-charts-floating-toolbar"})}hide(){this.dragged=!1,super.hide()}getBounds(){const e=this.getPopoverElement();return new Ue((e==null?void 0:e.offsetLeft)??0,(e==null?void 0:e.offsetTop)??0,(e==null?void 0:e.offsetWidth)??0,(e==null?void 0:e.offsetHeight)??0)}hasBeenDragged(){return this.dragged}setAnchor(e,t,i){const n=this.getPopoverElement();if(!n)return;const s=e.position??"above",{offsetWidth:r,offsetHeight:o}=n;let a=e.y-o-i,l=e.x-r/2;s==="below"?a=e.y+i:s==="right"?(a=e.y-o/2,l=e.x+t):s==="above-left"&&(l=e.x),this.updatePosition({x:l,y:a})}ignorePointerEvents(){const e=this.getPopoverElement();e&&(e.style.pointerEvents="none")}capturePointerEvents(){const e=this.getPopoverElement();e&&(e.style.pointerEvents="unset")}updatePosition(e){const t=this.getBounds(),i=this.ctx.domManager.getBoundingClientRect();e.x=Math.floor(ft(0,e.x,i.width-t.width)),e.y=Math.floor(ft(0,e.y,i.height-t.height)),super.updatePosition(e),this.onPopoverMoved()}},uLe=class extends aF{constructor(e,t){super(e.localeManager),this.hasPrefix=!0,this.popover=new cLe(e,t,this.onPopoverMoved.bind(this)),this.dragHandle=new dLe(e.localeManager.t("toolbarAnnotationsDragHandle")),this.popover.setDragHandle(this.dragHandle)}show(e={}){this.popover.show([this.dragHandle.getElement(),this.getElement()],e)}hide(){this.popover.hide()}setAnchor(e){this.popover.setAnchor(e,this.horizontalSpacing,this.verticalSpacing)}hasBeenDragged(){return this.popover.hasBeenDragged()}ignorePointerEvents(){this.popover.ignorePointerEvents()}capturePointerEvents(){this.popover.capturePointerEvents()}onPopoverMoved(){var i;const e=this.popover.getBounds();if((i=this.popoverBounds)!=null&&i.equals(e))return;this.popoverBounds=e.clone();const t=this.getButtonBounds();this.events.dispatch("toolbar-moved",{popoverBounds:e,buttonBounds:t})}getButtonWidgetBounds(e){const t=this.popover.getBounds(),i=super.getButtonWidgetBounds(e),n=this.dragHandle.getBounds();return new Ue(i.x+t.x-n.width,i.y+t.y,i.width,i.height)}},dLe=class extends Lg{constructor(e){super(Ot("div","ag-charts-floating-toolbar__drag-handle"));const t=new Lg(Ot("span",`${SM("drag-handle")} ag-charts-toolbar__icon`));t.setAriaHidden(!0),this.addChild(t),this.elem.title=e}},hLe={...uU,...dU};Ku.create.bind(Ku),Ku.__createSparkline.bind(Ku);function R4(e,t){return{...e,container:t.current}}function pLe(e,t){const i=E.forwardRef(function(s,r){const{options:o,style:a,className:l}=s,u=E.useRef(null),d=E.useRef();E.useLayoutEffect(()=>{const f=e(R4(o,u));return d.current=f,()=>{f.destroy()}},[]);const p=d.current===void 0;return E.useEffect(()=>{var f;p||(f=d.current)==null||f.update(R4(o,u)).catch(m=>console.error(m))},[o]),E.useImperativeHandle(r,()=>d.current,[]),E.useMemo(()=>E.createElement("div",{ref:u,style:a,className:l}),[a,l])});return i.displayName=t,i}var M8=pLe(e=>Ku.create(e),"AgCharts");const fLe=()=>{const{data:e,isLoading:t,isError:i}=Wv(),n=E.useMemo(()=>(e==null?void 0:e.map(r=>({id:r.id,company:r.companyName,budget:r.budget||0})))||[],[e]),s=E.useMemo(()=>({title:{text:"Бюджет по клиентам"},height:400,data:n,series:[{type:"bar",xKey:"company",yKey:"budget",yName:"Бюджет",fill:"#1976d2"}],axes:[{type:"category",position:"bottom",title:{text:"Клиенты"},label:{rotation:30}},{type:"number",position:"left",title:{text:"Бюджет, ₽"},label:{formatter:r=>r.value.toLocaleString("ru-RU")}}],tooltip:{renderer:({datum:r})=>{var o;return{title:r.company,content:`Бюджет: ${((o=r.budget)==null?void 0:o.toLocaleString("ru-RU"))||0} ₽`}}}}),[n]);return t?B.jsx(Zs,{elevation:3,sx:{borderRadius:2,width:{xs:"100%",md:"calc(35% - 16px)"},p:2},children:B.jsx(pt,{children:"Загрузка данных..."})}):i?B.jsx(Zs,{elevation:3,sx:{borderRadius:2,width:{xs:"100%",md:"calc(35% - 16px)"},p:2},children:B.jsx(pt,{color:"error",children:"Ошибка загрузки данных клиентов"})}):B.jsx(Zs,{elevation:3,sx:{borderRadius:2,width:{xs:"100%",md:"calc(35% - 16px)"}},children:B.jsx("div",{style:{height:400},children:B.jsx(M8,{options:s})})})},gLe=()=>{const{data:e,isLoading:t,isError:i}=Wv(),n=E.useMemo(()=>{if(!e)return{};const s=e.reduce((o,a)=>(o[a.projectType]=(o[a.projectType]||0)+1,o),{}),r=Object.entries(s).map(([o,a])=>({projectType:o,count:a,percentage:(a/e.length*100).toFixed(1)}));return{title:{text:"Распределение клиентов по типу проекта"},data:r,height:400,series:[{type:"pie",angleKey:"count",calloutLabelKey:"projectType",sectorLabelKey:"percentage",sectorLabel:{color:"white",fontWeight:"bold"},fills:["#1976d2","#2e7d32","#ed6c02","#9c27b0"],strokes:["#1565c0","#2e7d32","#e65100","#7b1fa2"],highlightStyle:{item:{fill:"rgb(3, 3, 61)"}},tooltip:{renderer:({datum:o})=>({title:o.projectType,content:`${o.count} клиентов (${o.percentage}%)`})}}]}},[e]);return t?B.jsx(Zs,{elevation:3,sx:{borderRadius:2,width:{xs:"100%",md:"calc(65% - 16px)"},p:2},children:B.jsx(pt,{children:"Загрузка данных..."})}):i?B.jsx(Zs,{elevation:3,sx:{borderRadius:2,width:{xs:"100%",md:"calc(65% - 16px)"},p:2},children:B.jsx(pt,{color:"error",children:"Ошибка загрузки данных клиентов"})}):B.jsx(Zs,{elevation:3,sx:{borderRadius:2,width:{xs:"100%",md:"calc(65% - 16px)"}},children:B.jsx("div",{style:{height:400},children:B.jsx(M8,{options:n})})})},mLe=()=>B.jsx(B.Fragment,{children:B.jsxs(Yt,{component:"main",sx:{display:"flex",flexDirection:{xs:"column",md:"row"},flexWrap:"wrap",pb:{xs:0,md:4},gap:3,paddingInline:2},children:[B.jsx(ywe,{}),B.jsx(fLe,{}),B.jsx(vwe,{}),B.jsx(gLe,{})]})}),lF=ki.create({baseURL:fd}),yLe=async()=>{const{data:e}=await lF.get("/interactions",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});return console.log(e),e},vLe=()=>HC({queryKey:["interactions"],queryFn:yLe}),CLe=async e=>{const{data:t}=await lF.get(`/interactions/client/${e}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});return t},bLe=e=>HC({queryKey:["interactions",e],queryFn:()=>CLe(e)}),wLe=async e=>{const{data:t}=await lF.post("/interactions",e,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});return t},SLe=e=>{switch(e){case"call":return B.jsx(cA,{color:"primary"});case"email":return B.jsx(p5,{color:"success"});default:return B.jsx(cA,{color:"action"})}},xLe=()=>{const{data:e,isLoading:t,isError:i}=vLe();return t?B.jsx(pt,{variant:"body1",color:"text.secondary",children:"Загрузка..."}):i?B.jsx(pt,{variant:"body1",color:"error",children:"Ошибка загрузки данных"}):B.jsx(Zs,{elevation:3,sx:{p:{xs:1,sm:2,md:3},borderRadius:2},children:B.jsx(Wx,{children:e.map(n=>{var s,r,o;return B.jsxs(fe.Fragment,{children:[B.jsxs(Gf,{alignItems:"flex-start",sx:{pl:2,mb:2},children:[B.jsx(Vx,{sx:{bgcolor:"grey.100",mr:2},children:SLe(n.type)}),B.jsxs(Yt,{sx:{flex:1},children:[B.jsx(Yt,{sx:{display:"flex",gap:1,mb:1},children:B.jsx(pt,{variant:"subtitle1",fontWeight:"bold",children:(s=n.User)==null?void 0:s.name})}),B.jsx(pt,{variant:"body2",color:"text.secondary",sx:{mb:1},children:n.comment}),B.jsxs(Yt,{sx:{display:"flex",gap:1,flexWrap:"wrap"},children:[B.jsx(nB,{size:"small",label:(r=n.Client)==null?void 0:r.companyName,variant:"outlined",color:"primary"}),B.jsx(nB,{size:"small",label:(o=n.Client)==null?void 0:o.contactName,variant:"outlined",color:"secondary"})]}),B.jsxs(Yt,{sx:{display:"flex",alignItems:"end",mt:1},children:[B.jsx(h5,{fontSize:"small",sx:{mr:.5}}),B.jsx(pt,{variant:"caption",color:"text.secondary",children:new Date(n.createdAt).toLocaleString()})]})]})]}),B.jsx(Cg,{})]},n.id)})})})},MLe=()=>{const[e,t]=E.useState(""),[i,n]=E.useState("all"),s=[{value:"all",label:"Все взаимодействия"},{value:"status",label:"Изменения статуса"},{value:"comment",label:"Комментарии"},{value:"email",label:"Письма"}];return B.jsxs(Ew,{maxWidth:"lg",sx:{py:4},children:[B.jsx(pt,{variant:"h4",gutterBottom:!0,children:"История взаимодействий"}),B.jsx(Zs,{elevation:3,sx:{p:3,mb:3,borderRadius:2},children:B.jsxs(Yt,{sx:{display:"flex",flexDirection:{xs:"column",md:"row"},gap:2},children:[B.jsx(Yt,{sx:{flex:1},children:B.jsx(Yn,{fullWidth:!0,variant:"outlined",placeholder:"Поиск по истории...",value:e,onChange:r=>t(r.target.value),slotProps:{input:{startAdornment:B.jsx(TT,{position:"start",children:B.jsx(g5,{})})}}})}),B.jsx(Yt,{sx:{flex:1},children:B.jsx(Yn,{fullWidth:!0,select:!0,variant:"outlined",value:i,onChange:r=>n(r.target.value),slotProps:{input:{startAdornment:B.jsx(TT,{position:"start",children:B.jsx($ve,{})})}},children:s.map(r=>B.jsx(AT,{value:r.value,children:r.label},r.value))})})]})}),B.jsx(xLe,{})]})},DLe=({client:e,onClientUpdate:t})=>{const i=pp(),[n,s]=E.useState(!1),[r,o]=E.useState(!1),[a,l]=E.useState({companyName:e.companyName||"",contactName:e.contactName||"",phone:e.phone||"",email:e.email||"",budget:e.budget||"",projectType:e.projectType||"",status:e.status||""}),[u,d]=E.useState("call"),[p,f]=E.useState(""),m=KL(),y=cv({mutationFn:gwe,onSuccess:()=>{Gt.success("Клиент успешно удален"),i("/")},onError:R=>{Gt.error(`Ошибка: ${R.response.data.message}`)}}),C=cv({mutationFn:mwe,onSuccess:R=>{Gt.success("Данные клиента успешно обновлены"),o(!1),t&&t(R)},onError:R=>{Gt.error(`Ошибка: ${R.response.data.error}`)}}),w=cv({mutationFn:wLe,onSuccess:()=>{Gt.success("Комментарий успешно добавлен"),s(!1),m.invalidateQueries(["interactions",e.id])},onError:R=>{Gt.error(`Ошибка: ${R.response.data.message}`)}}),b=R=>typeof R=="number"?R.toLocaleString("ru-RU",{style:"currency",currency:"RUB"}):R,S=()=>{y.mutate(e.id)},M=()=>{const R={...e,companyName:document.getElementById("companyName").value,contactName:document.getElementById("contactName").value,phone:document.getElementById("phone").value,email:document.getElementById("email").value,budget:document.getElementById("budget").value,projectType:document.getElementById("projectType").value,status:document.getElementById("status").value};C.mutate({id:e.id,...R})},D=()=>{if(!p){Gt.error("Комментарий не может быть пустым");return}w.mutate({clientId:e.id,date:new Date().toISOString(),type:u,comment:p})};return B.jsx(Zs,{elevation:3,sx:{p:3,mb:3},children:B.jsxs(Yt,{sx:{display:"flex",flexDirection:"column",gap:3},children:[B.jsxs(Yt,{sx:{display:"flex",alignItems:"center",gap:2},children:[B.jsx(Vx,{sx:{width:80,height:80,fontSize:40},children:e.contactName?e.contactName[0]:"?"}),B.jsx(pt,{variant:"h4",component:"h1",sx:{fontSize:{xs:"1.5rem",sm:"2.125rem"}},children:`${e.contactName}`})]}),B.jsx(Cg,{}),B.jsxs(Yt,{sx:{display:"flex",gap:4,flexWrap:"wrap"},children:[B.jsxs(Yt,{sx:{flex:1,minWidth:"250px"},children:[B.jsx(pt,{variant:"h6",gutterBottom:!0,children:"Основная информация"}),B.jsxs(pt,{variant:"body1",children:[B.jsx("strong",{children:"Название компании:"})," ",e.companyName]}),B.jsxs(pt,{variant:"body1",children:[B.jsx("strong",{children:"Тип проекта:"})," ",e.projectType]}),B.jsxs(pt,{variant:"body1",children:[B.jsx("strong",{children:"Статус:"})," ",e.status]}),B.jsxs(pt,{variant:"body1",children:[B.jsx("strong",{children:"Бюджет:"})," ",b(e.budget)]})]}),B.jsxs(Yt,{sx:{flex:1,minWidth:"250px"},children:[B.jsx(pt,{variant:"h6",gutterBottom:!0,children:"Контактные данные"}),B.jsxs(pt,{variant:"body1",children:[B.jsx("strong",{children:"Email:"})," ",e.email]}),B.jsxs(pt,{variant:"body1",children:[B.jsx("strong",{children:"Телефон:"})," ",e.phone]})]})]}),B.jsx(Cg,{}),B.jsx(Yt,{children:B.jsxs(ST,{open:!!n,onClose:()=>s(!1),fullWidth:!0,maxWidth:"sm",children:[B.jsx(DT,{children:"Добавить комментарий"}),B.jsxs(MT,{children:[B.jsxs(uS,{fullWidth:!0,sx:{mb:2},children:[B.jsx(v_,{id:"type-label",children:"Тип"}),B.jsxs(uL,{labelId:"type-label",value:u,label:"Тип",onChange:R=>d(R.target.value),children:[B.jsx(AT,{value:"call",children:"Звонок"}),B.jsx(AT,{value:"email",children:"Email"})]})]}),B.jsx(Yn,{autoFocus:!0,margin:"dense",label:"Комментарий",type:"text",fullWidth:!0,multiline:!0,rows:4,value:p,onChange:R=>f(R.target.value)})]}),B.jsxs(xT,{children:[B.jsx(Ar,{onClick:()=>s(!1),children:"Отмена"}),B.jsx(Ar,{variant:"contained",onClick:D,children:"Сохранить"})]})]})}),B.jsxs(Yt,{children:[B.jsxs(ST,{open:!!r,onClose:()=>o(!1),fullWidth:!0,maxWidth:"sm",children:[B.jsx(DT,{children:"Редактировать данные"}),B.jsx(MT,{children:B.jsxs(Yt,{sx:{display:"flex",flexDirection:"column",gap:2,py:2},children:[B.jsx(Yn,{id:"companyName",label:"Название компании",fullWidth:!0,value:a.companyName,onChange:R=>l({...a,companyName:R.target.value})}),B.jsx(Yn,{id:"contactName",label:"Контактное лицо",fullWidth:!0,value:a.contactName,onChange:R=>l({...a,contactName:R.target.value})}),B.jsx(Yn,{id:"phone",label:"Телефон",fullWidth:!0,value:a.phone,onChange:R=>l({...a,phone:R.target.value})}),B.jsx(Yn,{id:"email",label:"Email",fullWidth:!0,value:a.email,onChange:R=>l({...a,email:R.target.value})}),B.jsx(Yn,{id:"budget",label:"Бюджет",fullWidth:!0,value:a.budget,onChange:R=>l({...a,budget:R.target.value})}),B.jsx(Yn,{id:"projectType",label:"Тип проекта",fullWidth:!0,value:a.projectType,onChange:R=>l({...a,projectType:R.target.value})}),B.jsx(Yn,{id:"status",label:"Статус",fullWidth:!0,value:a.status,onChange:R=>l({...a,status:R.target.value})})]})}),B.jsxs(xT,{children:[B.jsx(Ar,{onClick:()=>o(!1),children:"Отмена"}),B.jsx(Ar,{variant:"contained",onClick:M,children:"Сохранить"})]})]}),B.jsxs(Yt,{sx:{display:"flex",gap:2,flexDirection:{xs:"column",sm:"row"},width:"100%"},children:[B.jsx(Ar,{variant:"contained",color:"primary",onClick:()=>o(!0),fullWidth:!0,sx:{minHeight:"36px"},children:"Редактировать"}),B.jsx(Ar,{variant:"contained",onClick:()=>s(!0),color:"success",fullWidth:!0,sx:{minHeight:"36px"},children:"Добавить комментарий"}),B.jsx(Ar,{variant:"outlined",color:"error",fullWidth:!0,onClick:()=>{window.confirm("Вы уверены, что хотите удалить клиента?")&&S()},sx:{minHeight:"36px"},children:"Удалить"})]})]})]})})},RLe=e=>{switch(e){case"call":return B.jsx(cA,{color:"primary"});case"email":return B.jsx(p5,{color:"success"});default:return B.jsx(f5,{color:"action"})}},ELe=({clientId:e})=>{const{data:t,isLoading:i,isError:n}=bLe(e);return i?B.jsx(pt,{children:"Загрузка..."}):n?B.jsx(pt,{color:"error",children:"Ошибка загрузки истории"}):B.jsxs(Zs,{elevation:3,sx:{p:3,borderRadius:2},children:[B.jsx(pt,{variant:"h6",gutterBottom:!0,sx:{mb:2},children:"История взаимодействий"}),B.jsx(Wx,{sx:{position:"relative"},children:!t||t.length===0?B.jsx(Gf,{children:B.jsx(pt,{color:"text.secondary",children:"История взаимодействий пуста"})}):t.map(s=>{var r,o;return B.jsxs(fe.Fragment,{children:[B.jsx(Cg,{orientation:"vertical",sx:{position:"absolute",left:24,top:0,bottom:0,height:"100%",borderRightWidth:2,borderColor:"divider"}}),B.jsxs(Gf,{sx:{alignItems:"flex-start",pl:5,position:"relative"},children:[B.jsx(Yt,{sx:{position:"absolute",left:18,top:24,width:12,height:12,borderRadius:"50%",bgcolor:"primary.main",display:"flex",alignItems:"center",justifyContent:"center"},children:B.jsx(f5,{sx:{fontSize:8,color:"white"}})}),B.jsx(Vx,{sx:{bgcolor:"grey.100",mr:2},children:RLe(s.type)}),B.jsx(Tw,{primary:B.jsx(B.Fragment,{children:B.jsx(pt,{component:"span",fontWeight:"bold",children:((r=s.User)==null?void 0:r.name)||((o=s.User)==null?void 0:o.email)})}),secondary:B.jsxs(Yt,{component:"span",sx:{display:"flex",alignItems:"start",mt:.5,flexDirection:"column"},children:[B.jsx(pt,{variant:"caption",color:"text.secondary",children:s.comment}),B.jsxs(Yt,{sx:{display:"flex",alignItems:"start"},children:[B.jsx(h5,{fontSize:"small",sx:{mr:.5,fontSize:16}}),B.jsx(pt,{variant:"caption",color:"text.secondary",sx:{mr:1},children:new Date(s.createdAt).toLocaleString()})]})]}),sx:{my:0}})]})]},s.id)})})]})},TLe=()=>{const{id:e}=VY(),t=pp(),{data:i,isLoading:n,isError:s}=pwe(e),[r,o]=E.useState(null);return E.useEffect(()=>{i&&o(i)},[i]),n?B.jsx(Ew,{sx:{display:"flex",justifyContent:"center",mt:5},children:B.jsx(qI,{})}):s?B.jsxs(Ew,{sx:{textAlign:"center",mt:5},children:[B.jsx(pt,{variant:"h6",color:"error",children:"Ошибка загрузки данных"}),B.jsx(Ar,{onClick:()=>t(-1),children:"Назад"})]}):B.jsx(Ew,{sx:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",paddingBlock:"10px"},children:B.jsxs(Yt,{sx:{width:"100%",margin:"0 auto"},children:[B.jsx(Ar,{startIcon:B.jsx(Vve,{}),onClick:()=>t(-1),sx:{mb:2},children:"Назад"}),r?B.jsxs(B.Fragment,{children:[B.jsx(DLe,{client:r,onClientUpdate:o}),B.jsx(ELe,{clientId:r.id})]}):B.jsx(pt,{variant:"h6",color:"error",children:"Клиент не найден"})]})})},ALe=()=>B.jsxs(Yt,{sx:{p:{xs:2,sm:3,md:4},bgcolor:"background.paper",borderRadius:2},children:[B.jsx(pt,{variant:"h4",sx:{mb:4,fontWeight:"bold",textAlign:{xs:"center",md:"left"}},children:"Профиль"}),B.jsx(Yt,{sx:{display:"flex",flexDirection:{xs:"column",md:"row"},gap:4},children:B.jsxs(Yt,{sx:{flex:1,bgcolor:"grey.50",p:3,borderRadius:2,boxShadow:1},children:[B.jsx(pt,{variant:"h6",sx:{mb:3,pb:1,borderBottom:"2px solid",borderColor:"primary.main",color:"text.primary",fontWeight:"bold"},children:"Личная информация"}),B.jsxs(Yt,{sx:{display:"flex",flexDirection:"column",gap:2.5},children:[B.jsxs(pt,{sx:{p:1.5,bgcolor:"white",borderRadius:1,"& strong":{color:"text.secondary",mr:1}},children:[B.jsx("strong",{children:"ФИО:"})," Дмитрий"]}),B.jsxs(pt,{sx:{p:1.5,bgcolor:"white",borderRadius:1,"& strong":{color:"text.secondary",mr:1}},children:[B.jsx("strong",{children:"Email:"})," dmitriy@gmail.com"]}),B.jsxs(pt,{sx:{p:1.5,bgcolor:"white",borderRadius:1,"& strong":{color:"text.secondary",mr:1}},children:[B.jsx("strong",{children:"Телефон:"})," +7 (999) 123-45-67"]}),B.jsxs(pt,{sx:{p:1.5,bgcolor:"white",borderRadius:1,"& strong":{color:"text.secondary",mr:1}},children:[B.jsx("strong",{children:"Должность:"})," Админ"]})]})]})})]}),ILe=Oe(_ne)(({theme:e})=>({display:"flex",alignItems:"center",justifyContent:"center",minHeight:"100vh",padding:"0","&::before":{content:'""',display:"block",position:"absolute",zIndex:-1,inset:0,backgroundImage:"radial-gradient(ellipse at 50% 50%, hsl(210, 100%, 97%), hsl(0, 0%, 100%))",backgroundRepeat:"no-repeat",...e.applyStyles("dark",{backgroundImage:"radial-gradient(at 50% 50%, hsla(210, 100%, 16%, 0.5), hsl(220, 30%, 5%))"})}})),LLe=Oe(p_)(({theme:e})=>({display:"flex",flexDirection:"column",alignSelf:"center",width:"100%",padding:e.spacing(4),gap:e.spacing(2),margin:"auto",[e.breakpoints.up("sm")]:{maxWidth:"450px"},boxShadow:"hsla(220, 30%, 5%, 0.05) 0px 5px 15px 0px, hsla(220, 25%, 10%, 0.05) 0px 15px 35px -5px",...e.applyStyles("dark",{boxShadow:"hsla(220, 30%, 5%, 0.5) 0px 5px 15px 0px, hsla(220, 25%, 10%, 0.08) 0px 15px 35px -5px"})})),kLe=async e=>(await ki.post(`${fd}/auth/login`,e)).data,PLe=()=>{const[e,t]=E.useState(""),[i,n]=E.useState(""),s=pp(),r=cv({mutationFn:kLe,onSuccess:a=>{console.log("Успешный вход:",a),localStorage.setItem("token",a.token),s("/"),Gt.success("Успешный вход")},onError:a=>{console.error("Ошибка входа:",a),Gt.error(a.response.data.message)}}),o=a=>{a.preventDefault(),r.mutate({email:e,password:i})};return B.jsx(ILe,{style:{display:"flex",alignItems:"center",justifyContent:"center"},children:B.jsxs(LLe,{variant:"outlined",sx:{width:"100%",maxWidth:"300px"},children:[B.jsx(pt,{component:"h1",variant:"h4",sx:{fontSize:"clamp(2rem, 10vw, 2.15rem)"},children:"Войти"}),B.jsxs(Yt,{component:"form",noValidate:!0,onSubmit:o,sx:{display:"flex",flexDirection:"column",gap:2},children:[B.jsxs(uS,{children:[B.jsx(RT,{htmlFor:"email",children:"Имя пользователя"}),B.jsx(Yn,{id:"username",type:"username",name:"username",placeholder:"username",autoComplete:"username",autoFocus:!0,required:!0,fullWidth:!0,variant:"outlined",value:e,onChange:a=>t(a.target.value)})]}),B.jsxs(uS,{children:[B.jsx(RT,{htmlFor:"password",children:"Пароль"}),B.jsx(Yn,{name:"password",placeholder:"••••••",type:"password",id:"password",autoComplete:"current-password",required:!0,fullWidth:!0,variant:"outlined",value:i,onChange:a=>n(a.target.value)})]}),B.jsx(Ar,{type:"submit",fullWidth:!0,variant:"contained",disabled:r.isPending,children:r.isPending?"Вход...":"Войти"})]})]})})},FLe=new zbe,OLe=kK([{path:"/",element:B.jsx(s0e,{}),children:[{index:!0,element:B.jsx(mLe,{})},{path:"history",element:B.jsx(MLe,{})},{path:"client/:id",element:B.jsx(TLe,{})},{path:"profile",element:B.jsx(ALe,{})}]},{path:"/login",element:B.jsx(PLe,{})}]);_9.createRoot(document.getElementById("root")).render(B.jsxs(Vbe,{client:FLe,children:[B.jsx(VK,{router:OLe}),B.jsx(Ese,{position:"top-left",autoClose:"2000"})]}));
